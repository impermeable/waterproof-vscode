(() => {
  var __create = Object.create;
  var __defProp = Object.defineProperty;
  var __getOwnPropDesc = Object.getOwnPropertyDescriptor;
  var __getOwnPropNames = Object.getOwnPropertyNames;
  var __getProtoOf = Object.getPrototypeOf;
  var __hasOwnProp = Object.prototype.hasOwnProperty;
  var __defNormalProp = (obj, key, value) => key in obj ? __defProp(obj, key, { enumerable: true, configurable: true, writable: true, value }) : obj[key] = value;
  var __require = /* @__PURE__ */ ((x) => typeof require !== "undefined" ? require : typeof Proxy !== "undefined" ? new Proxy(x, {
    get: (a, b) => (typeof require !== "undefined" ? require : a)[b]
  }) : x)(function(x) {
    if (typeof require !== "undefined")
      return require.apply(this, arguments);
    throw new Error('Dynamic require of "' + x + '" is not supported');
  });
  var __esm = (fn, res) => function __init() {
    return fn && (res = (0, fn[__getOwnPropNames(fn)[0]])(fn = 0)), res;
  };
  var __commonJS = (cb, mod) => function __require2() {
    return mod || (0, cb[__getOwnPropNames(cb)[0]])((mod = { exports: {} }).exports, mod), mod.exports;
  };
  var __copyProps = (to, from, except, desc) => {
    if (from && typeof from === "object" || typeof from === "function") {
      for (let key of __getOwnPropNames(from))
        if (!__hasOwnProp.call(to, key) && key !== except)
          __defProp(to, key, { get: () => from[key], enumerable: !(desc = __getOwnPropDesc(from, key)) || desc.enumerable });
    }
    return to;
  };
  var __toESM = (mod, isNodeMode, target) => (target = mod != null ? __create(__getProtoOf(mod)) : {}, __copyProps(
    // If the importer is in node compatibility mode or this is not an ESM
    // file that has been converted to a CommonJS file using a Babel-
    // compatible transform (i.e. "__esModule" has not been set), then set
    // "default" to the CommonJS "module.exports" for node compatibility.
    isNodeMode || !mod || !mod.__esModule ? __defProp(target, "default", { value: mod, enumerable: true }) : target,
    mod
  ));
  var __publicField = (obj, key, value) => {
    __defNormalProp(obj, typeof key !== "symbol" ? key + "" : key, value);
    return value;
  };

  // shims/process-shim.js
  var browser, env, cwd, process;
  var init_process_shim = __esm({
    "shims/process-shim.js"() {
      browser = true;
      env = {};
      cwd = () => "/";
      process = {
        browser,
        env,
        cwd
      };
    }
  });

  // node_modules/base64-js/index.js
  var require_base64_js = __commonJS({
    "node_modules/base64-js/index.js"(exports) {
      "use strict";
      init_process_shim();
      init_buffer_shim();
      exports.byteLength = byteLength;
      exports.toByteArray = toByteArray;
      exports.fromByteArray = fromByteArray;
      var lookup = [];
      var revLookup = [];
      var Arr = typeof Uint8Array !== "undefined" ? Uint8Array : Array;
      var code = "ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/";
      for (i = 0, len = code.length; i < len; ++i) {
        lookup[i] = code[i];
        revLookup[code.charCodeAt(i)] = i;
      }
      var i;
      var len;
      revLookup["-".charCodeAt(0)] = 62;
      revLookup["_".charCodeAt(0)] = 63;
      function getLens(b64) {
        var len2 = b64.length;
        if (len2 % 4 > 0) {
          throw new Error("Invalid string. Length must be a multiple of 4");
        }
        var validLen = b64.indexOf("=");
        if (validLen === -1)
          validLen = len2;
        var placeHoldersLen = validLen === len2 ? 0 : 4 - validLen % 4;
        return [validLen, placeHoldersLen];
      }
      function byteLength(b64) {
        var lens = getLens(b64);
        var validLen = lens[0];
        var placeHoldersLen = lens[1];
        return (validLen + placeHoldersLen) * 3 / 4 - placeHoldersLen;
      }
      function _byteLength(b64, validLen, placeHoldersLen) {
        return (validLen + placeHoldersLen) * 3 / 4 - placeHoldersLen;
      }
      function toByteArray(b64) {
        var tmp;
        var lens = getLens(b64);
        var validLen = lens[0];
        var placeHoldersLen = lens[1];
        var arr = new Arr(_byteLength(b64, validLen, placeHoldersLen));
        var curByte = 0;
        var len2 = placeHoldersLen > 0 ? validLen - 4 : validLen;
        var i2;
        for (i2 = 0; i2 < len2; i2 += 4) {
          tmp = revLookup[b64.charCodeAt(i2)] << 18 | revLookup[b64.charCodeAt(i2 + 1)] << 12 | revLookup[b64.charCodeAt(i2 + 2)] << 6 | revLookup[b64.charCodeAt(i2 + 3)];
          arr[curByte++] = tmp >> 16 & 255;
          arr[curByte++] = tmp >> 8 & 255;
          arr[curByte++] = tmp & 255;
        }
        if (placeHoldersLen === 2) {
          tmp = revLookup[b64.charCodeAt(i2)] << 2 | revLookup[b64.charCodeAt(i2 + 1)] >> 4;
          arr[curByte++] = tmp & 255;
        }
        if (placeHoldersLen === 1) {
          tmp = revLookup[b64.charCodeAt(i2)] << 10 | revLookup[b64.charCodeAt(i2 + 1)] << 4 | revLookup[b64.charCodeAt(i2 + 2)] >> 2;
          arr[curByte++] = tmp >> 8 & 255;
          arr[curByte++] = tmp & 255;
        }
        return arr;
      }
      function tripletToBase64(num) {
        return lookup[num >> 18 & 63] + lookup[num >> 12 & 63] + lookup[num >> 6 & 63] + lookup[num & 63];
      }
      function encodeChunk(uint8, start, end) {
        var tmp;
        var output = [];
        for (var i2 = start; i2 < end; i2 += 3) {
          tmp = (uint8[i2] << 16 & 16711680) + (uint8[i2 + 1] << 8 & 65280) + (uint8[i2 + 2] & 255);
          output.push(tripletToBase64(tmp));
        }
        return output.join("");
      }
      function fromByteArray(uint8) {
        var tmp;
        var len2 = uint8.length;
        var extraBytes = len2 % 3;
        var parts = [];
        var maxChunkLength = 16383;
        for (var i2 = 0, len22 = len2 - extraBytes; i2 < len22; i2 += maxChunkLength) {
          parts.push(encodeChunk(uint8, i2, i2 + maxChunkLength > len22 ? len22 : i2 + maxChunkLength));
        }
        if (extraBytes === 1) {
          tmp = uint8[len2 - 1];
          parts.push(
            lookup[tmp >> 2] + lookup[tmp << 4 & 63] + "=="
          );
        } else if (extraBytes === 2) {
          tmp = (uint8[len2 - 2] << 8) + uint8[len2 - 1];
          parts.push(
            lookup[tmp >> 10] + lookup[tmp >> 4 & 63] + lookup[tmp << 2 & 63] + "="
          );
        }
        return parts.join("");
      }
    }
  });

  // node_modules/ieee754/index.js
  var require_ieee754 = __commonJS({
    "node_modules/ieee754/index.js"(exports) {
      init_process_shim();
      init_buffer_shim();
      exports.read = function(buffer2, offset, isLE, mLen, nBytes) {
        var e, m;
        var eLen = nBytes * 8 - mLen - 1;
        var eMax = (1 << eLen) - 1;
        var eBias = eMax >> 1;
        var nBits = -7;
        var i = isLE ? nBytes - 1 : 0;
        var d = isLE ? -1 : 1;
        var s = buffer2[offset + i];
        i += d;
        e = s & (1 << -nBits) - 1;
        s >>= -nBits;
        nBits += eLen;
        for (; nBits > 0; e = e * 256 + buffer2[offset + i], i += d, nBits -= 8) {
        }
        m = e & (1 << -nBits) - 1;
        e >>= -nBits;
        nBits += mLen;
        for (; nBits > 0; m = m * 256 + buffer2[offset + i], i += d, nBits -= 8) {
        }
        if (e === 0) {
          e = 1 - eBias;
        } else if (e === eMax) {
          return m ? NaN : (s ? -1 : 1) * Infinity;
        } else {
          m = m + Math.pow(2, mLen);
          e = e - eBias;
        }
        return (s ? -1 : 1) * m * Math.pow(2, e - mLen);
      };
      exports.write = function(buffer2, value, offset, isLE, mLen, nBytes) {
        var e, m, c;
        var eLen = nBytes * 8 - mLen - 1;
        var eMax = (1 << eLen) - 1;
        var eBias = eMax >> 1;
        var rt = mLen === 23 ? Math.pow(2, -24) - Math.pow(2, -77) : 0;
        var i = isLE ? 0 : nBytes - 1;
        var d = isLE ? 1 : -1;
        var s = value < 0 || value === 0 && 1 / value < 0 ? 1 : 0;
        value = Math.abs(value);
        if (isNaN(value) || value === Infinity) {
          m = isNaN(value) ? 1 : 0;
          e = eMax;
        } else {
          e = Math.floor(Math.log(value) / Math.LN2);
          if (value * (c = Math.pow(2, -e)) < 1) {
            e--;
            c *= 2;
          }
          if (e + eBias >= 1) {
            value += rt / c;
          } else {
            value += rt * Math.pow(2, 1 - eBias);
          }
          if (value * c >= 2) {
            e++;
            c /= 2;
          }
          if (e + eBias >= eMax) {
            m = 0;
            e = eMax;
          } else if (e + eBias >= 1) {
            m = (value * c - 1) * Math.pow(2, mLen);
            e = e + eBias;
          } else {
            m = value * Math.pow(2, eBias - 1) * Math.pow(2, mLen);
            e = 0;
          }
        }
        for (; mLen >= 8; buffer2[offset + i] = m & 255, i += d, m /= 256, mLen -= 8) {
        }
        e = e << mLen | m;
        eLen += mLen;
        for (; eLen > 0; buffer2[offset + i] = e & 255, i += d, e /= 256, eLen -= 8) {
        }
        buffer2[offset + i - d] |= s * 128;
      };
    }
  });

  // node_modules/isarray/index.js
  var require_isarray = __commonJS({
    "node_modules/isarray/index.js"(exports, module) {
      init_process_shim();
      init_buffer_shim();
      var toString = {}.toString;
      module.exports = Array.isArray || function(arr) {
        return toString.call(arr) == "[object Array]";
      };
    }
  });

  // node_modules/buffer/index.js
  var require_buffer = __commonJS({
    "node_modules/buffer/index.js"(exports) {
      "use strict";
      init_process_shim();
      init_buffer_shim();
      var base64 = require_base64_js();
      var ieee754 = require_ieee754();
      var isArray = require_isarray();
      exports.Buffer = Buffer4;
      exports.SlowBuffer = SlowBuffer;
      exports.INSPECT_MAX_BYTES = 50;
      Buffer4.TYPED_ARRAY_SUPPORT = self.TYPED_ARRAY_SUPPORT !== void 0 ? self.TYPED_ARRAY_SUPPORT : typedArraySupport();
      exports.kMaxLength = kMaxLength();
      function typedArraySupport() {
        try {
          var arr = new Uint8Array(1);
          arr.__proto__ = { __proto__: Uint8Array.prototype, foo: function() {
            return 42;
          } };
          return arr.foo() === 42 && // typed array instances can be augmented
          typeof arr.subarray === "function" && // chrome 9-10 lack `subarray`
          arr.subarray(1, 1).byteLength === 0;
        } catch (e) {
          return false;
        }
      }
      function kMaxLength() {
        return Buffer4.TYPED_ARRAY_SUPPORT ? 2147483647 : 1073741823;
      }
      function createBuffer(that, length) {
        if (kMaxLength() < length) {
          throw new RangeError("Invalid typed array length");
        }
        if (Buffer4.TYPED_ARRAY_SUPPORT) {
          that = new Uint8Array(length);
          that.__proto__ = Buffer4.prototype;
        } else {
          if (that === null) {
            that = new Buffer4(length);
          }
          that.length = length;
        }
        return that;
      }
      function Buffer4(arg, encodingOrOffset, length) {
        if (!Buffer4.TYPED_ARRAY_SUPPORT && !(this instanceof Buffer4)) {
          return new Buffer4(arg, encodingOrOffset, length);
        }
        if (typeof arg === "number") {
          if (typeof encodingOrOffset === "string") {
            throw new Error(
              "If encoding is specified then the first argument must be a string"
            );
          }
          return allocUnsafe(this, arg);
        }
        return from(this, arg, encodingOrOffset, length);
      }
      Buffer4.poolSize = 8192;
      Buffer4._augment = function(arr) {
        arr.__proto__ = Buffer4.prototype;
        return arr;
      };
      function from(that, value, encodingOrOffset, length) {
        if (typeof value === "number") {
          throw new TypeError('"value" argument must not be a number');
        }
        if (typeof ArrayBuffer !== "undefined" && value instanceof ArrayBuffer) {
          return fromArrayBuffer(that, value, encodingOrOffset, length);
        }
        if (typeof value === "string") {
          return fromString(that, value, encodingOrOffset);
        }
        return fromObject(that, value);
      }
      Buffer4.from = function(value, encodingOrOffset, length) {
        return from(null, value, encodingOrOffset, length);
      };
      if (Buffer4.TYPED_ARRAY_SUPPORT) {
        Buffer4.prototype.__proto__ = Uint8Array.prototype;
        Buffer4.__proto__ = Uint8Array;
        if (typeof Symbol !== "undefined" && Symbol.species && Buffer4[Symbol.species] === Buffer4) {
          Object.defineProperty(Buffer4, Symbol.species, {
            value: null,
            configurable: true
          });
        }
      }
      function assertSize(size) {
        if (typeof size !== "number") {
          throw new TypeError('"size" argument must be a number');
        } else if (size < 0) {
          throw new RangeError('"size" argument must not be negative');
        }
      }
      function alloc(that, size, fill, encoding) {
        assertSize(size);
        if (size <= 0) {
          return createBuffer(that, size);
        }
        if (fill !== void 0) {
          return typeof encoding === "string" ? createBuffer(that, size).fill(fill, encoding) : createBuffer(that, size).fill(fill);
        }
        return createBuffer(that, size);
      }
      Buffer4.alloc = function(size, fill, encoding) {
        return alloc(null, size, fill, encoding);
      };
      function allocUnsafe(that, size) {
        assertSize(size);
        that = createBuffer(that, size < 0 ? 0 : checked(size) | 0);
        if (!Buffer4.TYPED_ARRAY_SUPPORT) {
          for (var i = 0; i < size; ++i) {
            that[i] = 0;
          }
        }
        return that;
      }
      Buffer4.allocUnsafe = function(size) {
        return allocUnsafe(null, size);
      };
      Buffer4.allocUnsafeSlow = function(size) {
        return allocUnsafe(null, size);
      };
      function fromString(that, string, encoding) {
        if (typeof encoding !== "string" || encoding === "") {
          encoding = "utf8";
        }
        if (!Buffer4.isEncoding(encoding)) {
          throw new TypeError('"encoding" must be a valid string encoding');
        }
        var length = byteLength(string, encoding) | 0;
        that = createBuffer(that, length);
        var actual = that.write(string, encoding);
        if (actual !== length) {
          that = that.slice(0, actual);
        }
        return that;
      }
      function fromArrayLike(that, array) {
        var length = array.length < 0 ? 0 : checked(array.length) | 0;
        that = createBuffer(that, length);
        for (var i = 0; i < length; i += 1) {
          that[i] = array[i] & 255;
        }
        return that;
      }
      function fromArrayBuffer(that, array, byteOffset, length) {
        array.byteLength;
        if (byteOffset < 0 || array.byteLength < byteOffset) {
          throw new RangeError("'offset' is out of bounds");
        }
        if (array.byteLength < byteOffset + (length || 0)) {
          throw new RangeError("'length' is out of bounds");
        }
        if (byteOffset === void 0 && length === void 0) {
          array = new Uint8Array(array);
        } else if (length === void 0) {
          array = new Uint8Array(array, byteOffset);
        } else {
          array = new Uint8Array(array, byteOffset, length);
        }
        if (Buffer4.TYPED_ARRAY_SUPPORT) {
          that = array;
          that.__proto__ = Buffer4.prototype;
        } else {
          that = fromArrayLike(that, array);
        }
        return that;
      }
      function fromObject(that, obj) {
        if (Buffer4.isBuffer(obj)) {
          var len = checked(obj.length) | 0;
          that = createBuffer(that, len);
          if (that.length === 0) {
            return that;
          }
          obj.copy(that, 0, 0, len);
          return that;
        }
        if (obj) {
          if (typeof ArrayBuffer !== "undefined" && obj.buffer instanceof ArrayBuffer || "length" in obj) {
            if (typeof obj.length !== "number" || isnan(obj.length)) {
              return createBuffer(that, 0);
            }
            return fromArrayLike(that, obj);
          }
          if (obj.type === "Buffer" && isArray(obj.data)) {
            return fromArrayLike(that, obj.data);
          }
        }
        throw new TypeError("First argument must be a string, Buffer, ArrayBuffer, Array, or array-like object.");
      }
      function checked(length) {
        if (length >= kMaxLength()) {
          throw new RangeError("Attempt to allocate Buffer larger than maximum size: 0x" + kMaxLength().toString(16) + " bytes");
        }
        return length | 0;
      }
      function SlowBuffer(length) {
        if (+length != length) {
          length = 0;
        }
        return Buffer4.alloc(+length);
      }
      Buffer4.isBuffer = function isBuffer(b) {
        return !!(b != null && b._isBuffer);
      };
      Buffer4.compare = function compare(a, b) {
        if (!Buffer4.isBuffer(a) || !Buffer4.isBuffer(b)) {
          throw new TypeError("Arguments must be Buffers");
        }
        if (a === b)
          return 0;
        var x = a.length;
        var y = b.length;
        for (var i = 0, len = Math.min(x, y); i < len; ++i) {
          if (a[i] !== b[i]) {
            x = a[i];
            y = b[i];
            break;
          }
        }
        if (x < y)
          return -1;
        if (y < x)
          return 1;
        return 0;
      };
      Buffer4.isEncoding = function isEncoding(encoding) {
        switch (String(encoding).toLowerCase()) {
          case "hex":
          case "utf8":
          case "utf-8":
          case "ascii":
          case "latin1":
          case "binary":
          case "base64":
          case "ucs2":
          case "ucs-2":
          case "utf16le":
          case "utf-16le":
            return true;
          default:
            return false;
        }
      };
      Buffer4.concat = function concat(list, length) {
        if (!isArray(list)) {
          throw new TypeError('"list" argument must be an Array of Buffers');
        }
        if (list.length === 0) {
          return Buffer4.alloc(0);
        }
        var i;
        if (length === void 0) {
          length = 0;
          for (i = 0; i < list.length; ++i) {
            length += list[i].length;
          }
        }
        var buffer2 = Buffer4.allocUnsafe(length);
        var pos = 0;
        for (i = 0; i < list.length; ++i) {
          var buf = list[i];
          if (!Buffer4.isBuffer(buf)) {
            throw new TypeError('"list" argument must be an Array of Buffers');
          }
          buf.copy(buffer2, pos);
          pos += buf.length;
        }
        return buffer2;
      };
      function byteLength(string, encoding) {
        if (Buffer4.isBuffer(string)) {
          return string.length;
        }
        if (typeof ArrayBuffer !== "undefined" && typeof ArrayBuffer.isView === "function" && (ArrayBuffer.isView(string) || string instanceof ArrayBuffer)) {
          return string.byteLength;
        }
        if (typeof string !== "string") {
          string = "" + string;
        }
        var len = string.length;
        if (len === 0)
          return 0;
        var loweredCase = false;
        for (; ; ) {
          switch (encoding) {
            case "ascii":
            case "latin1":
            case "binary":
              return len;
            case "utf8":
            case "utf-8":
            case void 0:
              return utf8ToBytes(string).length;
            case "ucs2":
            case "ucs-2":
            case "utf16le":
            case "utf-16le":
              return len * 2;
            case "hex":
              return len >>> 1;
            case "base64":
              return base64ToBytes(string).length;
            default:
              if (loweredCase)
                return utf8ToBytes(string).length;
              encoding = ("" + encoding).toLowerCase();
              loweredCase = true;
          }
        }
      }
      Buffer4.byteLength = byteLength;
      function slowToString(encoding, start, end) {
        var loweredCase = false;
        if (start === void 0 || start < 0) {
          start = 0;
        }
        if (start > this.length) {
          return "";
        }
        if (end === void 0 || end > this.length) {
          end = this.length;
        }
        if (end <= 0) {
          return "";
        }
        end >>>= 0;
        start >>>= 0;
        if (end <= start) {
          return "";
        }
        if (!encoding)
          encoding = "utf8";
        while (true) {
          switch (encoding) {
            case "hex":
              return hexSlice(this, start, end);
            case "utf8":
            case "utf-8":
              return utf8Slice(this, start, end);
            case "ascii":
              return asciiSlice(this, start, end);
            case "latin1":
            case "binary":
              return latin1Slice(this, start, end);
            case "base64":
              return base64Slice(this, start, end);
            case "ucs2":
            case "ucs-2":
            case "utf16le":
            case "utf-16le":
              return utf16leSlice(this, start, end);
            default:
              if (loweredCase)
                throw new TypeError("Unknown encoding: " + encoding);
              encoding = (encoding + "").toLowerCase();
              loweredCase = true;
          }
        }
      }
      Buffer4.prototype._isBuffer = true;
      function swap(b, n, m) {
        var i = b[n];
        b[n] = b[m];
        b[m] = i;
      }
      Buffer4.prototype.swap16 = function swap16() {
        var len = this.length;
        if (len % 2 !== 0) {
          throw new RangeError("Buffer size must be a multiple of 16-bits");
        }
        for (var i = 0; i < len; i += 2) {
          swap(this, i, i + 1);
        }
        return this;
      };
      Buffer4.prototype.swap32 = function swap32() {
        var len = this.length;
        if (len % 4 !== 0) {
          throw new RangeError("Buffer size must be a multiple of 32-bits");
        }
        for (var i = 0; i < len; i += 4) {
          swap(this, i, i + 3);
          swap(this, i + 1, i + 2);
        }
        return this;
      };
      Buffer4.prototype.swap64 = function swap64() {
        var len = this.length;
        if (len % 8 !== 0) {
          throw new RangeError("Buffer size must be a multiple of 64-bits");
        }
        for (var i = 0; i < len; i += 8) {
          swap(this, i, i + 7);
          swap(this, i + 1, i + 6);
          swap(this, i + 2, i + 5);
          swap(this, i + 3, i + 4);
        }
        return this;
      };
      Buffer4.prototype.toString = function toString() {
        var length = this.length | 0;
        if (length === 0)
          return "";
        if (arguments.length === 0)
          return utf8Slice(this, 0, length);
        return slowToString.apply(this, arguments);
      };
      Buffer4.prototype.equals = function equals(b) {
        if (!Buffer4.isBuffer(b))
          throw new TypeError("Argument must be a Buffer");
        if (this === b)
          return true;
        return Buffer4.compare(this, b) === 0;
      };
      Buffer4.prototype.inspect = function inspect() {
        var str = "";
        var max2 = exports.INSPECT_MAX_BYTES;
        if (this.length > 0) {
          str = this.toString("hex", 0, max2).match(/.{2}/g).join(" ");
          if (this.length > max2)
            str += " ... ";
        }
        return "<Buffer " + str + ">";
      };
      Buffer4.prototype.compare = function compare(target, start, end, thisStart, thisEnd) {
        if (!Buffer4.isBuffer(target)) {
          throw new TypeError("Argument must be a Buffer");
        }
        if (start === void 0) {
          start = 0;
        }
        if (end === void 0) {
          end = target ? target.length : 0;
        }
        if (thisStart === void 0) {
          thisStart = 0;
        }
        if (thisEnd === void 0) {
          thisEnd = this.length;
        }
        if (start < 0 || end > target.length || thisStart < 0 || thisEnd > this.length) {
          throw new RangeError("out of range index");
        }
        if (thisStart >= thisEnd && start >= end) {
          return 0;
        }
        if (thisStart >= thisEnd) {
          return -1;
        }
        if (start >= end) {
          return 1;
        }
        start >>>= 0;
        end >>>= 0;
        thisStart >>>= 0;
        thisEnd >>>= 0;
        if (this === target)
          return 0;
        var x = thisEnd - thisStart;
        var y = end - start;
        var len = Math.min(x, y);
        var thisCopy = this.slice(thisStart, thisEnd);
        var targetCopy = target.slice(start, end);
        for (var i = 0; i < len; ++i) {
          if (thisCopy[i] !== targetCopy[i]) {
            x = thisCopy[i];
            y = targetCopy[i];
            break;
          }
        }
        if (x < y)
          return -1;
        if (y < x)
          return 1;
        return 0;
      };
      function bidirectionalIndexOf(buffer2, val, byteOffset, encoding, dir) {
        if (buffer2.length === 0)
          return -1;
        if (typeof byteOffset === "string") {
          encoding = byteOffset;
          byteOffset = 0;
        } else if (byteOffset > 2147483647) {
          byteOffset = 2147483647;
        } else if (byteOffset < -2147483648) {
          byteOffset = -2147483648;
        }
        byteOffset = +byteOffset;
        if (isNaN(byteOffset)) {
          byteOffset = dir ? 0 : buffer2.length - 1;
        }
        if (byteOffset < 0)
          byteOffset = buffer2.length + byteOffset;
        if (byteOffset >= buffer2.length) {
          if (dir)
            return -1;
          else
            byteOffset = buffer2.length - 1;
        } else if (byteOffset < 0) {
          if (dir)
            byteOffset = 0;
          else
            return -1;
        }
        if (typeof val === "string") {
          val = Buffer4.from(val, encoding);
        }
        if (Buffer4.isBuffer(val)) {
          if (val.length === 0) {
            return -1;
          }
          return arrayIndexOf(buffer2, val, byteOffset, encoding, dir);
        } else if (typeof val === "number") {
          val = val & 255;
          if (Buffer4.TYPED_ARRAY_SUPPORT && typeof Uint8Array.prototype.indexOf === "function") {
            if (dir) {
              return Uint8Array.prototype.indexOf.call(buffer2, val, byteOffset);
            } else {
              return Uint8Array.prototype.lastIndexOf.call(buffer2, val, byteOffset);
            }
          }
          return arrayIndexOf(buffer2, [val], byteOffset, encoding, dir);
        }
        throw new TypeError("val must be string, number or Buffer");
      }
      function arrayIndexOf(arr, val, byteOffset, encoding, dir) {
        var indexSize = 1;
        var arrLength = arr.length;
        var valLength = val.length;
        if (encoding !== void 0) {
          encoding = String(encoding).toLowerCase();
          if (encoding === "ucs2" || encoding === "ucs-2" || encoding === "utf16le" || encoding === "utf-16le") {
            if (arr.length < 2 || val.length < 2) {
              return -1;
            }
            indexSize = 2;
            arrLength /= 2;
            valLength /= 2;
            byteOffset /= 2;
          }
        }
        function read(buf, i2) {
          if (indexSize === 1) {
            return buf[i2];
          } else {
            return buf.readUInt16BE(i2 * indexSize);
          }
        }
        var i;
        if (dir) {
          var foundIndex = -1;
          for (i = byteOffset; i < arrLength; i++) {
            if (read(arr, i) === read(val, foundIndex === -1 ? 0 : i - foundIndex)) {
              if (foundIndex === -1)
                foundIndex = i;
              if (i - foundIndex + 1 === valLength)
                return foundIndex * indexSize;
            } else {
              if (foundIndex !== -1)
                i -= i - foundIndex;
              foundIndex = -1;
            }
          }
        } else {
          if (byteOffset + valLength > arrLength)
            byteOffset = arrLength - valLength;
          for (i = byteOffset; i >= 0; i--) {
            var found = true;
            for (var j = 0; j < valLength; j++) {
              if (read(arr, i + j) !== read(val, j)) {
                found = false;
                break;
              }
            }
            if (found)
              return i;
          }
        }
        return -1;
      }
      Buffer4.prototype.includes = function includes(val, byteOffset, encoding) {
        return this.indexOf(val, byteOffset, encoding) !== -1;
      };
      Buffer4.prototype.indexOf = function indexOf(val, byteOffset, encoding) {
        return bidirectionalIndexOf(this, val, byteOffset, encoding, true);
      };
      Buffer4.prototype.lastIndexOf = function lastIndexOf(val, byteOffset, encoding) {
        return bidirectionalIndexOf(this, val, byteOffset, encoding, false);
      };
      function hexWrite(buf, string, offset, length) {
        offset = Number(offset) || 0;
        var remaining = buf.length - offset;
        if (!length) {
          length = remaining;
        } else {
          length = Number(length);
          if (length > remaining) {
            length = remaining;
          }
        }
        var strLen = string.length;
        if (strLen % 2 !== 0)
          throw new TypeError("Invalid hex string");
        if (length > strLen / 2) {
          length = strLen / 2;
        }
        for (var i = 0; i < length; ++i) {
          var parsed = parseInt(string.substr(i * 2, 2), 16);
          if (isNaN(parsed))
            return i;
          buf[offset + i] = parsed;
        }
        return i;
      }
      function utf8Write(buf, string, offset, length) {
        return blitBuffer(utf8ToBytes(string, buf.length - offset), buf, offset, length);
      }
      function asciiWrite(buf, string, offset, length) {
        return blitBuffer(asciiToBytes(string), buf, offset, length);
      }
      function latin1Write(buf, string, offset, length) {
        return asciiWrite(buf, string, offset, length);
      }
      function base64Write(buf, string, offset, length) {
        return blitBuffer(base64ToBytes(string), buf, offset, length);
      }
      function ucs2Write(buf, string, offset, length) {
        return blitBuffer(utf16leToBytes(string, buf.length - offset), buf, offset, length);
      }
      Buffer4.prototype.write = function write(string, offset, length, encoding) {
        if (offset === void 0) {
          encoding = "utf8";
          length = this.length;
          offset = 0;
        } else if (length === void 0 && typeof offset === "string") {
          encoding = offset;
          length = this.length;
          offset = 0;
        } else if (isFinite(offset)) {
          offset = offset | 0;
          if (isFinite(length)) {
            length = length | 0;
            if (encoding === void 0)
              encoding = "utf8";
          } else {
            encoding = length;
            length = void 0;
          }
        } else {
          throw new Error(
            "Buffer.write(string, encoding, offset[, length]) is no longer supported"
          );
        }
        var remaining = this.length - offset;
        if (length === void 0 || length > remaining)
          length = remaining;
        if (string.length > 0 && (length < 0 || offset < 0) || offset > this.length) {
          throw new RangeError("Attempt to write outside buffer bounds");
        }
        if (!encoding)
          encoding = "utf8";
        var loweredCase = false;
        for (; ; ) {
          switch (encoding) {
            case "hex":
              return hexWrite(this, string, offset, length);
            case "utf8":
            case "utf-8":
              return utf8Write(this, string, offset, length);
            case "ascii":
              return asciiWrite(this, string, offset, length);
            case "latin1":
            case "binary":
              return latin1Write(this, string, offset, length);
            case "base64":
              return base64Write(this, string, offset, length);
            case "ucs2":
            case "ucs-2":
            case "utf16le":
            case "utf-16le":
              return ucs2Write(this, string, offset, length);
            default:
              if (loweredCase)
                throw new TypeError("Unknown encoding: " + encoding);
              encoding = ("" + encoding).toLowerCase();
              loweredCase = true;
          }
        }
      };
      Buffer4.prototype.toJSON = function toJSON() {
        return {
          type: "Buffer",
          data: Array.prototype.slice.call(this._arr || this, 0)
        };
      };
      function base64Slice(buf, start, end) {
        if (start === 0 && end === buf.length) {
          return base64.fromByteArray(buf);
        } else {
          return base64.fromByteArray(buf.slice(start, end));
        }
      }
      function utf8Slice(buf, start, end) {
        end = Math.min(buf.length, end);
        var res = [];
        var i = start;
        while (i < end) {
          var firstByte = buf[i];
          var codePoint = null;
          var bytesPerSequence = firstByte > 239 ? 4 : firstByte > 223 ? 3 : firstByte > 191 ? 2 : 1;
          if (i + bytesPerSequence <= end) {
            var secondByte, thirdByte, fourthByte, tempCodePoint;
            switch (bytesPerSequence) {
              case 1:
                if (firstByte < 128) {
                  codePoint = firstByte;
                }
                break;
              case 2:
                secondByte = buf[i + 1];
                if ((secondByte & 192) === 128) {
                  tempCodePoint = (firstByte & 31) << 6 | secondByte & 63;
                  if (tempCodePoint > 127) {
                    codePoint = tempCodePoint;
                  }
                }
                break;
              case 3:
                secondByte = buf[i + 1];
                thirdByte = buf[i + 2];
                if ((secondByte & 192) === 128 && (thirdByte & 192) === 128) {
                  tempCodePoint = (firstByte & 15) << 12 | (secondByte & 63) << 6 | thirdByte & 63;
                  if (tempCodePoint > 2047 && (tempCodePoint < 55296 || tempCodePoint > 57343)) {
                    codePoint = tempCodePoint;
                  }
                }
                break;
              case 4:
                secondByte = buf[i + 1];
                thirdByte = buf[i + 2];
                fourthByte = buf[i + 3];
                if ((secondByte & 192) === 128 && (thirdByte & 192) === 128 && (fourthByte & 192) === 128) {
                  tempCodePoint = (firstByte & 15) << 18 | (secondByte & 63) << 12 | (thirdByte & 63) << 6 | fourthByte & 63;
                  if (tempCodePoint > 65535 && tempCodePoint < 1114112) {
                    codePoint = tempCodePoint;
                  }
                }
            }
          }
          if (codePoint === null) {
            codePoint = 65533;
            bytesPerSequence = 1;
          } else if (codePoint > 65535) {
            codePoint -= 65536;
            res.push(codePoint >>> 10 & 1023 | 55296);
            codePoint = 56320 | codePoint & 1023;
          }
          res.push(codePoint);
          i += bytesPerSequence;
        }
        return decodeCodePointsArray(res);
      }
      var MAX_ARGUMENTS_LENGTH = 4096;
      function decodeCodePointsArray(codePoints) {
        var len = codePoints.length;
        if (len <= MAX_ARGUMENTS_LENGTH) {
          return String.fromCharCode.apply(String, codePoints);
        }
        var res = "";
        var i = 0;
        while (i < len) {
          res += String.fromCharCode.apply(
            String,
            codePoints.slice(i, i += MAX_ARGUMENTS_LENGTH)
          );
        }
        return res;
      }
      function asciiSlice(buf, start, end) {
        var ret = "";
        end = Math.min(buf.length, end);
        for (var i = start; i < end; ++i) {
          ret += String.fromCharCode(buf[i] & 127);
        }
        return ret;
      }
      function latin1Slice(buf, start, end) {
        var ret = "";
        end = Math.min(buf.length, end);
        for (var i = start; i < end; ++i) {
          ret += String.fromCharCode(buf[i]);
        }
        return ret;
      }
      function hexSlice(buf, start, end) {
        var len = buf.length;
        if (!start || start < 0)
          start = 0;
        if (!end || end < 0 || end > len)
          end = len;
        var out = "";
        for (var i = start; i < end; ++i) {
          out += toHex(buf[i]);
        }
        return out;
      }
      function utf16leSlice(buf, start, end) {
        var bytes = buf.slice(start, end);
        var res = "";
        for (var i = 0; i < bytes.length; i += 2) {
          res += String.fromCharCode(bytes[i] + bytes[i + 1] * 256);
        }
        return res;
      }
      Buffer4.prototype.slice = function slice(start, end) {
        var len = this.length;
        start = ~~start;
        end = end === void 0 ? len : ~~end;
        if (start < 0) {
          start += len;
          if (start < 0)
            start = 0;
        } else if (start > len) {
          start = len;
        }
        if (end < 0) {
          end += len;
          if (end < 0)
            end = 0;
        } else if (end > len) {
          end = len;
        }
        if (end < start)
          end = start;
        var newBuf;
        if (Buffer4.TYPED_ARRAY_SUPPORT) {
          newBuf = this.subarray(start, end);
          newBuf.__proto__ = Buffer4.prototype;
        } else {
          var sliceLen = end - start;
          newBuf = new Buffer4(sliceLen, void 0);
          for (var i = 0; i < sliceLen; ++i) {
            newBuf[i] = this[i + start];
          }
        }
        return newBuf;
      };
      function checkOffset(offset, ext, length) {
        if (offset % 1 !== 0 || offset < 0)
          throw new RangeError("offset is not uint");
        if (offset + ext > length)
          throw new RangeError("Trying to access beyond buffer length");
      }
      Buffer4.prototype.readUIntLE = function readUIntLE(offset, byteLength2, noAssert) {
        offset = offset | 0;
        byteLength2 = byteLength2 | 0;
        if (!noAssert)
          checkOffset(offset, byteLength2, this.length);
        var val = this[offset];
        var mul = 1;
        var i = 0;
        while (++i < byteLength2 && (mul *= 256)) {
          val += this[offset + i] * mul;
        }
        return val;
      };
      Buffer4.prototype.readUIntBE = function readUIntBE(offset, byteLength2, noAssert) {
        offset = offset | 0;
        byteLength2 = byteLength2 | 0;
        if (!noAssert) {
          checkOffset(offset, byteLength2, this.length);
        }
        var val = this[offset + --byteLength2];
        var mul = 1;
        while (byteLength2 > 0 && (mul *= 256)) {
          val += this[offset + --byteLength2] * mul;
        }
        return val;
      };
      Buffer4.prototype.readUInt8 = function readUInt8(offset, noAssert) {
        if (!noAssert)
          checkOffset(offset, 1, this.length);
        return this[offset];
      };
      Buffer4.prototype.readUInt16LE = function readUInt16LE(offset, noAssert) {
        if (!noAssert)
          checkOffset(offset, 2, this.length);
        return this[offset] | this[offset + 1] << 8;
      };
      Buffer4.prototype.readUInt16BE = function readUInt16BE(offset, noAssert) {
        if (!noAssert)
          checkOffset(offset, 2, this.length);
        return this[offset] << 8 | this[offset + 1];
      };
      Buffer4.prototype.readUInt32LE = function readUInt32LE(offset, noAssert) {
        if (!noAssert)
          checkOffset(offset, 4, this.length);
        return (this[offset] | this[offset + 1] << 8 | this[offset + 2] << 16) + this[offset + 3] * 16777216;
      };
      Buffer4.prototype.readUInt32BE = function readUInt32BE(offset, noAssert) {
        if (!noAssert)
          checkOffset(offset, 4, this.length);
        return this[offset] * 16777216 + (this[offset + 1] << 16 | this[offset + 2] << 8 | this[offset + 3]);
      };
      Buffer4.prototype.readIntLE = function readIntLE(offset, byteLength2, noAssert) {
        offset = offset | 0;
        byteLength2 = byteLength2 | 0;
        if (!noAssert)
          checkOffset(offset, byteLength2, this.length);
        var val = this[offset];
        var mul = 1;
        var i = 0;
        while (++i < byteLength2 && (mul *= 256)) {
          val += this[offset + i] * mul;
        }
        mul *= 128;
        if (val >= mul)
          val -= Math.pow(2, 8 * byteLength2);
        return val;
      };
      Buffer4.prototype.readIntBE = function readIntBE(offset, byteLength2, noAssert) {
        offset = offset | 0;
        byteLength2 = byteLength2 | 0;
        if (!noAssert)
          checkOffset(offset, byteLength2, this.length);
        var i = byteLength2;
        var mul = 1;
        var val = this[offset + --i];
        while (i > 0 && (mul *= 256)) {
          val += this[offset + --i] * mul;
        }
        mul *= 128;
        if (val >= mul)
          val -= Math.pow(2, 8 * byteLength2);
        return val;
      };
      Buffer4.prototype.readInt8 = function readInt8(offset, noAssert) {
        if (!noAssert)
          checkOffset(offset, 1, this.length);
        if (!(this[offset] & 128))
          return this[offset];
        return (255 - this[offset] + 1) * -1;
      };
      Buffer4.prototype.readInt16LE = function readInt16LE(offset, noAssert) {
        if (!noAssert)
          checkOffset(offset, 2, this.length);
        var val = this[offset] | this[offset + 1] << 8;
        return val & 32768 ? val | 4294901760 : val;
      };
      Buffer4.prototype.readInt16BE = function readInt16BE(offset, noAssert) {
        if (!noAssert)
          checkOffset(offset, 2, this.length);
        var val = this[offset + 1] | this[offset] << 8;
        return val & 32768 ? val | 4294901760 : val;
      };
      Buffer4.prototype.readInt32LE = function readInt32LE(offset, noAssert) {
        if (!noAssert)
          checkOffset(offset, 4, this.length);
        return this[offset] | this[offset + 1] << 8 | this[offset + 2] << 16 | this[offset + 3] << 24;
      };
      Buffer4.prototype.readInt32BE = function readInt32BE(offset, noAssert) {
        if (!noAssert)
          checkOffset(offset, 4, this.length);
        return this[offset] << 24 | this[offset + 1] << 16 | this[offset + 2] << 8 | this[offset + 3];
      };
      Buffer4.prototype.readFloatLE = function readFloatLE(offset, noAssert) {
        if (!noAssert)
          checkOffset(offset, 4, this.length);
        return ieee754.read(this, offset, true, 23, 4);
      };
      Buffer4.prototype.readFloatBE = function readFloatBE(offset, noAssert) {
        if (!noAssert)
          checkOffset(offset, 4, this.length);
        return ieee754.read(this, offset, false, 23, 4);
      };
      Buffer4.prototype.readDoubleLE = function readDoubleLE(offset, noAssert) {
        if (!noAssert)
          checkOffset(offset, 8, this.length);
        return ieee754.read(this, offset, true, 52, 8);
      };
      Buffer4.prototype.readDoubleBE = function readDoubleBE(offset, noAssert) {
        if (!noAssert)
          checkOffset(offset, 8, this.length);
        return ieee754.read(this, offset, false, 52, 8);
      };
      function checkInt(buf, value, offset, ext, max2, min) {
        if (!Buffer4.isBuffer(buf))
          throw new TypeError('"buffer" argument must be a Buffer instance');
        if (value > max2 || value < min)
          throw new RangeError('"value" argument is out of bounds');
        if (offset + ext > buf.length)
          throw new RangeError("Index out of range");
      }
      Buffer4.prototype.writeUIntLE = function writeUIntLE(value, offset, byteLength2, noAssert) {
        value = +value;
        offset = offset | 0;
        byteLength2 = byteLength2 | 0;
        if (!noAssert) {
          var maxBytes = Math.pow(2, 8 * byteLength2) - 1;
          checkInt(this, value, offset, byteLength2, maxBytes, 0);
        }
        var mul = 1;
        var i = 0;
        this[offset] = value & 255;
        while (++i < byteLength2 && (mul *= 256)) {
          this[offset + i] = value / mul & 255;
        }
        return offset + byteLength2;
      };
      Buffer4.prototype.writeUIntBE = function writeUIntBE(value, offset, byteLength2, noAssert) {
        value = +value;
        offset = offset | 0;
        byteLength2 = byteLength2 | 0;
        if (!noAssert) {
          var maxBytes = Math.pow(2, 8 * byteLength2) - 1;
          checkInt(this, value, offset, byteLength2, maxBytes, 0);
        }
        var i = byteLength2 - 1;
        var mul = 1;
        this[offset + i] = value & 255;
        while (--i >= 0 && (mul *= 256)) {
          this[offset + i] = value / mul & 255;
        }
        return offset + byteLength2;
      };
      Buffer4.prototype.writeUInt8 = function writeUInt8(value, offset, noAssert) {
        value = +value;
        offset = offset | 0;
        if (!noAssert)
          checkInt(this, value, offset, 1, 255, 0);
        if (!Buffer4.TYPED_ARRAY_SUPPORT)
          value = Math.floor(value);
        this[offset] = value & 255;
        return offset + 1;
      };
      function objectWriteUInt16(buf, value, offset, littleEndian) {
        if (value < 0)
          value = 65535 + value + 1;
        for (var i = 0, j = Math.min(buf.length - offset, 2); i < j; ++i) {
          buf[offset + i] = (value & 255 << 8 * (littleEndian ? i : 1 - i)) >>> (littleEndian ? i : 1 - i) * 8;
        }
      }
      Buffer4.prototype.writeUInt16LE = function writeUInt16LE(value, offset, noAssert) {
        value = +value;
        offset = offset | 0;
        if (!noAssert)
          checkInt(this, value, offset, 2, 65535, 0);
        if (Buffer4.TYPED_ARRAY_SUPPORT) {
          this[offset] = value & 255;
          this[offset + 1] = value >>> 8;
        } else {
          objectWriteUInt16(this, value, offset, true);
        }
        return offset + 2;
      };
      Buffer4.prototype.writeUInt16BE = function writeUInt16BE(value, offset, noAssert) {
        value = +value;
        offset = offset | 0;
        if (!noAssert)
          checkInt(this, value, offset, 2, 65535, 0);
        if (Buffer4.TYPED_ARRAY_SUPPORT) {
          this[offset] = value >>> 8;
          this[offset + 1] = value & 255;
        } else {
          objectWriteUInt16(this, value, offset, false);
        }
        return offset + 2;
      };
      function objectWriteUInt32(buf, value, offset, littleEndian) {
        if (value < 0)
          value = 4294967295 + value + 1;
        for (var i = 0, j = Math.min(buf.length - offset, 4); i < j; ++i) {
          buf[offset + i] = value >>> (littleEndian ? i : 3 - i) * 8 & 255;
        }
      }
      Buffer4.prototype.writeUInt32LE = function writeUInt32LE(value, offset, noAssert) {
        value = +value;
        offset = offset | 0;
        if (!noAssert)
          checkInt(this, value, offset, 4, 4294967295, 0);
        if (Buffer4.TYPED_ARRAY_SUPPORT) {
          this[offset + 3] = value >>> 24;
          this[offset + 2] = value >>> 16;
          this[offset + 1] = value >>> 8;
          this[offset] = value & 255;
        } else {
          objectWriteUInt32(this, value, offset, true);
        }
        return offset + 4;
      };
      Buffer4.prototype.writeUInt32BE = function writeUInt32BE(value, offset, noAssert) {
        value = +value;
        offset = offset | 0;
        if (!noAssert)
          checkInt(this, value, offset, 4, 4294967295, 0);
        if (Buffer4.TYPED_ARRAY_SUPPORT) {
          this[offset] = value >>> 24;
          this[offset + 1] = value >>> 16;
          this[offset + 2] = value >>> 8;
          this[offset + 3] = value & 255;
        } else {
          objectWriteUInt32(this, value, offset, false);
        }
        return offset + 4;
      };
      Buffer4.prototype.writeIntLE = function writeIntLE(value, offset, byteLength2, noAssert) {
        value = +value;
        offset = offset | 0;
        if (!noAssert) {
          var limit = Math.pow(2, 8 * byteLength2 - 1);
          checkInt(this, value, offset, byteLength2, limit - 1, -limit);
        }
        var i = 0;
        var mul = 1;
        var sub = 0;
        this[offset] = value & 255;
        while (++i < byteLength2 && (mul *= 256)) {
          if (value < 0 && sub === 0 && this[offset + i - 1] !== 0) {
            sub = 1;
          }
          this[offset + i] = (value / mul >> 0) - sub & 255;
        }
        return offset + byteLength2;
      };
      Buffer4.prototype.writeIntBE = function writeIntBE(value, offset, byteLength2, noAssert) {
        value = +value;
        offset = offset | 0;
        if (!noAssert) {
          var limit = Math.pow(2, 8 * byteLength2 - 1);
          checkInt(this, value, offset, byteLength2, limit - 1, -limit);
        }
        var i = byteLength2 - 1;
        var mul = 1;
        var sub = 0;
        this[offset + i] = value & 255;
        while (--i >= 0 && (mul *= 256)) {
          if (value < 0 && sub === 0 && this[offset + i + 1] !== 0) {
            sub = 1;
          }
          this[offset + i] = (value / mul >> 0) - sub & 255;
        }
        return offset + byteLength2;
      };
      Buffer4.prototype.writeInt8 = function writeInt8(value, offset, noAssert) {
        value = +value;
        offset = offset | 0;
        if (!noAssert)
          checkInt(this, value, offset, 1, 127, -128);
        if (!Buffer4.TYPED_ARRAY_SUPPORT)
          value = Math.floor(value);
        if (value < 0)
          value = 255 + value + 1;
        this[offset] = value & 255;
        return offset + 1;
      };
      Buffer4.prototype.writeInt16LE = function writeInt16LE(value, offset, noAssert) {
        value = +value;
        offset = offset | 0;
        if (!noAssert)
          checkInt(this, value, offset, 2, 32767, -32768);
        if (Buffer4.TYPED_ARRAY_SUPPORT) {
          this[offset] = value & 255;
          this[offset + 1] = value >>> 8;
        } else {
          objectWriteUInt16(this, value, offset, true);
        }
        return offset + 2;
      };
      Buffer4.prototype.writeInt16BE = function writeInt16BE(value, offset, noAssert) {
        value = +value;
        offset = offset | 0;
        if (!noAssert)
          checkInt(this, value, offset, 2, 32767, -32768);
        if (Buffer4.TYPED_ARRAY_SUPPORT) {
          this[offset] = value >>> 8;
          this[offset + 1] = value & 255;
        } else {
          objectWriteUInt16(this, value, offset, false);
        }
        return offset + 2;
      };
      Buffer4.prototype.writeInt32LE = function writeInt32LE(value, offset, noAssert) {
        value = +value;
        offset = offset | 0;
        if (!noAssert)
          checkInt(this, value, offset, 4, 2147483647, -2147483648);
        if (Buffer4.TYPED_ARRAY_SUPPORT) {
          this[offset] = value & 255;
          this[offset + 1] = value >>> 8;
          this[offset + 2] = value >>> 16;
          this[offset + 3] = value >>> 24;
        } else {
          objectWriteUInt32(this, value, offset, true);
        }
        return offset + 4;
      };
      Buffer4.prototype.writeInt32BE = function writeInt32BE(value, offset, noAssert) {
        value = +value;
        offset = offset | 0;
        if (!noAssert)
          checkInt(this, value, offset, 4, 2147483647, -2147483648);
        if (value < 0)
          value = 4294967295 + value + 1;
        if (Buffer4.TYPED_ARRAY_SUPPORT) {
          this[offset] = value >>> 24;
          this[offset + 1] = value >>> 16;
          this[offset + 2] = value >>> 8;
          this[offset + 3] = value & 255;
        } else {
          objectWriteUInt32(this, value, offset, false);
        }
        return offset + 4;
      };
      function checkIEEE754(buf, value, offset, ext, max2, min) {
        if (offset + ext > buf.length)
          throw new RangeError("Index out of range");
        if (offset < 0)
          throw new RangeError("Index out of range");
      }
      function writeFloat(buf, value, offset, littleEndian, noAssert) {
        if (!noAssert) {
          checkIEEE754(buf, value, offset, 4, 34028234663852886e22, -34028234663852886e22);
        }
        ieee754.write(buf, value, offset, littleEndian, 23, 4);
        return offset + 4;
      }
      Buffer4.prototype.writeFloatLE = function writeFloatLE(value, offset, noAssert) {
        return writeFloat(this, value, offset, true, noAssert);
      };
      Buffer4.prototype.writeFloatBE = function writeFloatBE(value, offset, noAssert) {
        return writeFloat(this, value, offset, false, noAssert);
      };
      function writeDouble(buf, value, offset, littleEndian, noAssert) {
        if (!noAssert) {
          checkIEEE754(buf, value, offset, 8, 17976931348623157e292, -17976931348623157e292);
        }
        ieee754.write(buf, value, offset, littleEndian, 52, 8);
        return offset + 8;
      }
      Buffer4.prototype.writeDoubleLE = function writeDoubleLE(value, offset, noAssert) {
        return writeDouble(this, value, offset, true, noAssert);
      };
      Buffer4.prototype.writeDoubleBE = function writeDoubleBE(value, offset, noAssert) {
        return writeDouble(this, value, offset, false, noAssert);
      };
      Buffer4.prototype.copy = function copy(target, targetStart, start, end) {
        if (!start)
          start = 0;
        if (!end && end !== 0)
          end = this.length;
        if (targetStart >= target.length)
          targetStart = target.length;
        if (!targetStart)
          targetStart = 0;
        if (end > 0 && end < start)
          end = start;
        if (end === start)
          return 0;
        if (target.length === 0 || this.length === 0)
          return 0;
        if (targetStart < 0) {
          throw new RangeError("targetStart out of bounds");
        }
        if (start < 0 || start >= this.length)
          throw new RangeError("sourceStart out of bounds");
        if (end < 0)
          throw new RangeError("sourceEnd out of bounds");
        if (end > this.length)
          end = this.length;
        if (target.length - targetStart < end - start) {
          end = target.length - targetStart + start;
        }
        var len = end - start;
        var i;
        if (this === target && start < targetStart && targetStart < end) {
          for (i = len - 1; i >= 0; --i) {
            target[i + targetStart] = this[i + start];
          }
        } else if (len < 1e3 || !Buffer4.TYPED_ARRAY_SUPPORT) {
          for (i = 0; i < len; ++i) {
            target[i + targetStart] = this[i + start];
          }
        } else {
          Uint8Array.prototype.set.call(
            target,
            this.subarray(start, start + len),
            targetStart
          );
        }
        return len;
      };
      Buffer4.prototype.fill = function fill(val, start, end, encoding) {
        if (typeof val === "string") {
          if (typeof start === "string") {
            encoding = start;
            start = 0;
            end = this.length;
          } else if (typeof end === "string") {
            encoding = end;
            end = this.length;
          }
          if (val.length === 1) {
            var code = val.charCodeAt(0);
            if (code < 256) {
              val = code;
            }
          }
          if (encoding !== void 0 && typeof encoding !== "string") {
            throw new TypeError("encoding must be a string");
          }
          if (typeof encoding === "string" && !Buffer4.isEncoding(encoding)) {
            throw new TypeError("Unknown encoding: " + encoding);
          }
        } else if (typeof val === "number") {
          val = val & 255;
        }
        if (start < 0 || this.length < start || this.length < end) {
          throw new RangeError("Out of range index");
        }
        if (end <= start) {
          return this;
        }
        start = start >>> 0;
        end = end === void 0 ? this.length : end >>> 0;
        if (!val)
          val = 0;
        var i;
        if (typeof val === "number") {
          for (i = start; i < end; ++i) {
            this[i] = val;
          }
        } else {
          var bytes = Buffer4.isBuffer(val) ? val : utf8ToBytes(new Buffer4(val, encoding).toString());
          var len = bytes.length;
          for (i = 0; i < end - start; ++i) {
            this[i + start] = bytes[i % len];
          }
        }
        return this;
      };
      var INVALID_BASE64_RE = /[^+\/0-9A-Za-z-_]/g;
      function base64clean(str) {
        str = stringtrim(str).replace(INVALID_BASE64_RE, "");
        if (str.length < 2)
          return "";
        while (str.length % 4 !== 0) {
          str = str + "=";
        }
        return str;
      }
      function stringtrim(str) {
        if (str.trim)
          return str.trim();
        return str.replace(/^\s+|\s+$/g, "");
      }
      function toHex(n) {
        if (n < 16)
          return "0" + n.toString(16);
        return n.toString(16);
      }
      function utf8ToBytes(string, units) {
        units = units || Infinity;
        var codePoint;
        var length = string.length;
        var leadSurrogate = null;
        var bytes = [];
        for (var i = 0; i < length; ++i) {
          codePoint = string.charCodeAt(i);
          if (codePoint > 55295 && codePoint < 57344) {
            if (!leadSurrogate) {
              if (codePoint > 56319) {
                if ((units -= 3) > -1)
                  bytes.push(239, 191, 189);
                continue;
              } else if (i + 1 === length) {
                if ((units -= 3) > -1)
                  bytes.push(239, 191, 189);
                continue;
              }
              leadSurrogate = codePoint;
              continue;
            }
            if (codePoint < 56320) {
              if ((units -= 3) > -1)
                bytes.push(239, 191, 189);
              leadSurrogate = codePoint;
              continue;
            }
            codePoint = (leadSurrogate - 55296 << 10 | codePoint - 56320) + 65536;
          } else if (leadSurrogate) {
            if ((units -= 3) > -1)
              bytes.push(239, 191, 189);
          }
          leadSurrogate = null;
          if (codePoint < 128) {
            if ((units -= 1) < 0)
              break;
            bytes.push(codePoint);
          } else if (codePoint < 2048) {
            if ((units -= 2) < 0)
              break;
            bytes.push(
              codePoint >> 6 | 192,
              codePoint & 63 | 128
            );
          } else if (codePoint < 65536) {
            if ((units -= 3) < 0)
              break;
            bytes.push(
              codePoint >> 12 | 224,
              codePoint >> 6 & 63 | 128,
              codePoint & 63 | 128
            );
          } else if (codePoint < 1114112) {
            if ((units -= 4) < 0)
              break;
            bytes.push(
              codePoint >> 18 | 240,
              codePoint >> 12 & 63 | 128,
              codePoint >> 6 & 63 | 128,
              codePoint & 63 | 128
            );
          } else {
            throw new Error("Invalid code point");
          }
        }
        return bytes;
      }
      function asciiToBytes(str) {
        var byteArray = [];
        for (var i = 0; i < str.length; ++i) {
          byteArray.push(str.charCodeAt(i) & 255);
        }
        return byteArray;
      }
      function utf16leToBytes(str, units) {
        var c, hi, lo;
        var byteArray = [];
        for (var i = 0; i < str.length; ++i) {
          if ((units -= 2) < 0)
            break;
          c = str.charCodeAt(i);
          hi = c >> 8;
          lo = c % 256;
          byteArray.push(lo);
          byteArray.push(hi);
        }
        return byteArray;
      }
      function base64ToBytes(str) {
        return base64.toByteArray(base64clean(str));
      }
      function blitBuffer(src, dst, offset, length) {
        for (var i = 0; i < length; ++i) {
          if (i + offset >= dst.length || i >= src.length)
            break;
          dst[i + offset] = src[i];
        }
        return i;
      }
      function isnan(val) {
        return val !== val;
      }
    }
  });

  // shims/buffer-shim.js
  var buffer, import_buffer;
  var init_buffer_shim = __esm({
    "shims/buffer-shim.js"() {
      buffer = __toESM(require_buffer());
      import_buffer = __toESM(require_buffer());
    }
  });

  // node_modules/events/events.js
  var require_events = __commonJS({
    "node_modules/events/events.js"(exports, module) {
      "use strict";
      init_process_shim();
      init_buffer_shim();
      var R = typeof Reflect === "object" ? Reflect : null;
      var ReflectApply = R && typeof R.apply === "function" ? R.apply : function ReflectApply2(target, receiver, args) {
        return Function.prototype.apply.call(target, receiver, args);
      };
      var ReflectOwnKeys;
      if (R && typeof R.ownKeys === "function") {
        ReflectOwnKeys = R.ownKeys;
      } else if (Object.getOwnPropertySymbols) {
        ReflectOwnKeys = function ReflectOwnKeys2(target) {
          return Object.getOwnPropertyNames(target).concat(Object.getOwnPropertySymbols(target));
        };
      } else {
        ReflectOwnKeys = function ReflectOwnKeys2(target) {
          return Object.getOwnPropertyNames(target);
        };
      }
      function ProcessEmitWarning(warning) {
        if (console && console.warn)
          console.warn(warning);
      }
      var NumberIsNaN = Number.isNaN || function NumberIsNaN2(value) {
        return value !== value;
      };
      function EventEmitter7() {
        EventEmitter7.init.call(this);
      }
      module.exports = EventEmitter7;
      module.exports.once = once;
      EventEmitter7.EventEmitter = EventEmitter7;
      EventEmitter7.prototype._events = void 0;
      EventEmitter7.prototype._eventsCount = 0;
      EventEmitter7.prototype._maxListeners = void 0;
      var defaultMaxListeners = 10;
      function checkListener(listener) {
        if (typeof listener !== "function") {
          throw new TypeError('The "listener" argument must be of type Function. Received type ' + typeof listener);
        }
      }
      Object.defineProperty(EventEmitter7, "defaultMaxListeners", {
        enumerable: true,
        get: function() {
          return defaultMaxListeners;
        },
        set: function(arg) {
          if (typeof arg !== "number" || arg < 0 || NumberIsNaN(arg)) {
            throw new RangeError('The value of "defaultMaxListeners" is out of range. It must be a non-negative number. Received ' + arg + ".");
          }
          defaultMaxListeners = arg;
        }
      });
      EventEmitter7.init = function() {
        if (this._events === void 0 || this._events === Object.getPrototypeOf(this)._events) {
          this._events = /* @__PURE__ */ Object.create(null);
          this._eventsCount = 0;
        }
        this._maxListeners = this._maxListeners || void 0;
      };
      EventEmitter7.prototype.setMaxListeners = function setMaxListeners(n) {
        if (typeof n !== "number" || n < 0 || NumberIsNaN(n)) {
          throw new RangeError('The value of "n" is out of range. It must be a non-negative number. Received ' + n + ".");
        }
        this._maxListeners = n;
        return this;
      };
      function _getMaxListeners(that) {
        if (that._maxListeners === void 0)
          return EventEmitter7.defaultMaxListeners;
        return that._maxListeners;
      }
      EventEmitter7.prototype.getMaxListeners = function getMaxListeners() {
        return _getMaxListeners(this);
      };
      EventEmitter7.prototype.emit = function emit(type) {
        var args = [];
        for (var i = 1; i < arguments.length; i++)
          args.push(arguments[i]);
        var doError = type === "error";
        var events = this._events;
        if (events !== void 0)
          doError = doError && events.error === void 0;
        else if (!doError)
          return false;
        if (doError) {
          var er;
          if (args.length > 0)
            er = args[0];
          if (er instanceof Error) {
            throw er;
          }
          var err2 = new Error("Unhandled error." + (er ? " (" + er.message + ")" : ""));
          err2.context = er;
          throw err2;
        }
        var handler = events[type];
        if (handler === void 0)
          return false;
        if (typeof handler === "function") {
          ReflectApply(handler, this, args);
        } else {
          var len = handler.length;
          var listeners = arrayClone(handler, len);
          for (var i = 0; i < len; ++i)
            ReflectApply(listeners[i], this, args);
        }
        return true;
      };
      function _addListener(target, type, listener, prepend) {
        var m;
        var events;
        var existing;
        checkListener(listener);
        events = target._events;
        if (events === void 0) {
          events = target._events = /* @__PURE__ */ Object.create(null);
          target._eventsCount = 0;
        } else {
          if (events.newListener !== void 0) {
            target.emit(
              "newListener",
              type,
              listener.listener ? listener.listener : listener
            );
            events = target._events;
          }
          existing = events[type];
        }
        if (existing === void 0) {
          existing = events[type] = listener;
          ++target._eventsCount;
        } else {
          if (typeof existing === "function") {
            existing = events[type] = prepend ? [listener, existing] : [existing, listener];
          } else if (prepend) {
            existing.unshift(listener);
          } else {
            existing.push(listener);
          }
          m = _getMaxListeners(target);
          if (m > 0 && existing.length > m && !existing.warned) {
            existing.warned = true;
            var w = new Error("Possible EventEmitter memory leak detected. " + existing.length + " " + String(type) + " listeners added. Use emitter.setMaxListeners() to increase limit");
            w.name = "MaxListenersExceededWarning";
            w.emitter = target;
            w.type = type;
            w.count = existing.length;
            ProcessEmitWarning(w);
          }
        }
        return target;
      }
      EventEmitter7.prototype.addListener = function addListener(type, listener) {
        return _addListener(this, type, listener, false);
      };
      EventEmitter7.prototype.on = EventEmitter7.prototype.addListener;
      EventEmitter7.prototype.prependListener = function prependListener(type, listener) {
        return _addListener(this, type, listener, true);
      };
      function onceWrapper() {
        if (!this.fired) {
          this.target.removeListener(this.type, this.wrapFn);
          this.fired = true;
          if (arguments.length === 0)
            return this.listener.call(this.target);
          return this.listener.apply(this.target, arguments);
        }
      }
      function _onceWrap(target, type, listener) {
        var state = { fired: false, wrapFn: void 0, target, type, listener };
        var wrapped = onceWrapper.bind(state);
        wrapped.listener = listener;
        state.wrapFn = wrapped;
        return wrapped;
      }
      EventEmitter7.prototype.once = function once2(type, listener) {
        checkListener(listener);
        this.on(type, _onceWrap(this, type, listener));
        return this;
      };
      EventEmitter7.prototype.prependOnceListener = function prependOnceListener(type, listener) {
        checkListener(listener);
        this.prependListener(type, _onceWrap(this, type, listener));
        return this;
      };
      EventEmitter7.prototype.removeListener = function removeListener(type, listener) {
        var list, events, position, i, originalListener;
        checkListener(listener);
        events = this._events;
        if (events === void 0)
          return this;
        list = events[type];
        if (list === void 0)
          return this;
        if (list === listener || list.listener === listener) {
          if (--this._eventsCount === 0)
            this._events = /* @__PURE__ */ Object.create(null);
          else {
            delete events[type];
            if (events.removeListener)
              this.emit("removeListener", type, list.listener || listener);
          }
        } else if (typeof list !== "function") {
          position = -1;
          for (i = list.length - 1; i >= 0; i--) {
            if (list[i] === listener || list[i].listener === listener) {
              originalListener = list[i].listener;
              position = i;
              break;
            }
          }
          if (position < 0)
            return this;
          if (position === 0)
            list.shift();
          else {
            spliceOne(list, position);
          }
          if (list.length === 1)
            events[type] = list[0];
          if (events.removeListener !== void 0)
            this.emit("removeListener", type, originalListener || listener);
        }
        return this;
      };
      EventEmitter7.prototype.off = EventEmitter7.prototype.removeListener;
      EventEmitter7.prototype.removeAllListeners = function removeAllListeners(type) {
        var listeners, events, i;
        events = this._events;
        if (events === void 0)
          return this;
        if (events.removeListener === void 0) {
          if (arguments.length === 0) {
            this._events = /* @__PURE__ */ Object.create(null);
            this._eventsCount = 0;
          } else if (events[type] !== void 0) {
            if (--this._eventsCount === 0)
              this._events = /* @__PURE__ */ Object.create(null);
            else
              delete events[type];
          }
          return this;
        }
        if (arguments.length === 0) {
          var keys = Object.keys(events);
          var key;
          for (i = 0; i < keys.length; ++i) {
            key = keys[i];
            if (key === "removeListener")
              continue;
            this.removeAllListeners(key);
          }
          this.removeAllListeners("removeListener");
          this._events = /* @__PURE__ */ Object.create(null);
          this._eventsCount = 0;
          return this;
        }
        listeners = events[type];
        if (typeof listeners === "function") {
          this.removeListener(type, listeners);
        } else if (listeners !== void 0) {
          for (i = listeners.length - 1; i >= 0; i--) {
            this.removeListener(type, listeners[i]);
          }
        }
        return this;
      };
      function _listeners(target, type, unwrap) {
        var events = target._events;
        if (events === void 0)
          return [];
        var evlistener = events[type];
        if (evlistener === void 0)
          return [];
        if (typeof evlistener === "function")
          return unwrap ? [evlistener.listener || evlistener] : [evlistener];
        return unwrap ? unwrapListeners(evlistener) : arrayClone(evlistener, evlistener.length);
      }
      EventEmitter7.prototype.listeners = function listeners(type) {
        return _listeners(this, type, true);
      };
      EventEmitter7.prototype.rawListeners = function rawListeners(type) {
        return _listeners(this, type, false);
      };
      EventEmitter7.listenerCount = function(emitter, type) {
        if (typeof emitter.listenerCount === "function") {
          return emitter.listenerCount(type);
        } else {
          return listenerCount.call(emitter, type);
        }
      };
      EventEmitter7.prototype.listenerCount = listenerCount;
      function listenerCount(type) {
        var events = this._events;
        if (events !== void 0) {
          var evlistener = events[type];
          if (typeof evlistener === "function") {
            return 1;
          } else if (evlistener !== void 0) {
            return evlistener.length;
          }
        }
        return 0;
      }
      EventEmitter7.prototype.eventNames = function eventNames() {
        return this._eventsCount > 0 ? ReflectOwnKeys(this._events) : [];
      };
      function arrayClone(arr, n) {
        var copy = new Array(n);
        for (var i = 0; i < n; ++i)
          copy[i] = arr[i];
        return copy;
      }
      function spliceOne(list, index) {
        for (; index + 1 < list.length; index++)
          list[index] = list[index + 1];
        list.pop();
      }
      function unwrapListeners(arr) {
        var ret = new Array(arr.length);
        for (var i = 0; i < ret.length; ++i) {
          ret[i] = arr[i].listener || arr[i];
        }
        return ret;
      }
      function once(emitter, name) {
        return new Promise(function(resolve, reject) {
          function errorListener(err2) {
            emitter.removeListener(name, resolver);
            reject(err2);
          }
          function resolver() {
            if (typeof emitter.removeListener === "function") {
              emitter.removeListener("error", errorListener);
            }
            resolve([].slice.call(arguments));
          }
          ;
          eventTargetAgnosticAddListener(emitter, name, resolver, { once: true });
          if (name !== "error") {
            addErrorHandlerIfEventEmitter(emitter, errorListener, { once: true });
          }
        });
      }
      function addErrorHandlerIfEventEmitter(emitter, handler, flags) {
        if (typeof emitter.on === "function") {
          eventTargetAgnosticAddListener(emitter, "error", handler, flags);
        }
      }
      function eventTargetAgnosticAddListener(emitter, name, listener, flags) {
        if (typeof emitter.on === "function") {
          if (flags.once) {
            emitter.once(name, listener);
          } else {
            emitter.on(name, listener);
          }
        } else if (typeof emitter.addEventListener === "function") {
          emitter.addEventListener(name, function wrapListener(arg) {
            if (flags.once) {
              emitter.removeEventListener(name, wrapListener);
            }
            listener(arg);
          });
        } else {
          throw new TypeError('The "emitter" argument must be of type EventEmitter. Received type ' + typeof emitter);
        }
      }
    }
  });

  // node_modules/browser-or-node/lib/index.js
  var require_lib = __commonJS({
    "node_modules/browser-or-node/lib/index.js"(exports) {
      "use strict";
      init_process_shim();
      init_buffer_shim();
      Object.defineProperty(exports, "__esModule", {
        value: true
      });
      var _typeof = typeof Symbol === "function" && typeof Symbol.iterator === "symbol" ? function(obj) {
        return typeof obj;
      } : function(obj) {
        return obj && typeof Symbol === "function" && obj.constructor === Symbol && obj !== Symbol.prototype ? "symbol" : typeof obj;
      };
      var isBrowser3 = typeof window !== "undefined" && typeof window.document !== "undefined";
      var isNode2 = typeof process !== "undefined" && process.versions != null && process.versions.node != null;
      var isWebWorker2 = (typeof self === "undefined" ? "undefined" : _typeof(self)) === "object" && self.constructor && self.constructor.name === "DedicatedWorkerGlobalScope";
      var isJsDom = typeof window !== "undefined" && window.name === "nodejs" || typeof navigator !== "undefined" && (navigator.userAgent.includes("Node.js") || navigator.userAgent.includes("jsdom"));
      var isDeno = typeof Deno !== "undefined" && typeof Deno.version !== "undefined" && typeof Deno.version.deno !== "undefined";
      exports.isBrowser = isBrowser3;
      exports.isWebWorker = isWebWorker2;
      exports.isNode = isNode2;
      exports.isJsDom = isJsDom;
      exports.isDeno = isDeno;
    }
  });

  // node_modules/wasi-kernel/src/kernel/bits/queue.ts
  var SharedQueue, MaybeSharedArrayBuffer;
  var init_queue = __esm({
    "node_modules/wasi-kernel/src/kernel/bits/queue.ts"() {
      init_process_shim();
      init_buffer_shim();
      SharedQueue = class {
        constructor(props) {
          this._data = props.data;
          this._wait = props.wait || new Int32Array(new MaybeSharedArrayBuffer(4 * 2));
        }
        static from(props) {
          return new SharedQueue(props);
        }
        to() {
          return { data: this._data, wait: this._wait };
        }
        enqueue(v) {
          let head = Atomics.load(this._wait, 0), tail = Atomics.load(this._wait, 1);
          head ? head-- : head = this._data.length;
          if (head != tail) {
            Atomics.store(this._data, tail++, v);
            Atomics.store(this._wait, 1, tail);
            Atomics.notify(this._wait, 1, 1);
            return 1;
          } else
            return 0;
        }
        enqueueAll(vs) {
          let head = Atomics.load(this._wait, 0), tail = Atomics.load(this._wait, 1);
          head ? head-- : head = this._data.length;
          var i;
          for (i = 0; head != tail && i < vs.length; i++) {
            Atomics.store(this._data, tail++, vs[i]);
          }
          if (i > 0) {
            Atomics.store(this._wait, 1, tail);
            Atomics.notify(this._wait, 1, 1);
          }
          return i;
        }
        wait() {
          let head = Atomics.load(this._wait, 0), tail = Atomics.load(this._wait, 1);
          while (head == tail) {
            Atomics.wait(this._wait, 1, tail);
            tail = Atomics.load(this._wait, 1);
          }
        }
        dequeue() {
          this.wait();
          let head = Atomics.load(this._wait, 0), top = Atomics.load(this._data, head++);
          Atomics.store(this._wait, 0, head);
          Atomics.notify(this._wait, 0, 1);
          return top;
        }
        dequeueSome(count, out, offset) {
          if (count == 0)
            return 0;
          this.wait();
          let head = Atomics.load(this._wait, 0), tail = Atomics.load(this._wait, 1);
          var i;
          for (i = 0; head != tail && offset < count; i++) {
            out[offset++] = Atomics.load(this._data, head++);
            if (tail >= this._data.length)
              tail = 0;
          }
          Atomics.store(this._wait, 0, head);
          Atomics.notify(this._wait, 0, 1);
          return i;
        }
        isEmpty() {
          let head = Atomics.load(this._wait, 0), tail = Atomics.load(this._wait, 1);
          return head == tail;
        }
      };
      MaybeSharedArrayBuffer = typeof SharedArrayBuffer != "undefined" ? SharedArrayBuffer : ArrayBuffer;
    }
  });

  // node_modules/wasi-kernel/src/kernel/streams.ts
  var import_events, SimplexStream, MaybeSharedArrayBuffer2;
  var init_streams = __esm({
    "node_modules/wasi-kernel/src/kernel/streams.ts"() {
      init_process_shim();
      init_buffer_shim();
      import_events = __toESM(require_events());
      init_queue();
      SimplexStream = class extends import_events.EventEmitter {
        constructor(_from = {}) {
          super();
          this.queue = SharedQueue.from(_from.queue || { data: new Uint8Array(new MaybeSharedArrayBuffer2(1024)) });
          this.meta = _from.meta || new Int32Array(new MaybeSharedArrayBuffer2(4));
          if (!_from.meta)
            this.length = -1;
          this.pos = 0;
          this.blocking = true;
        }
        static from(props) {
          return new SimplexStream(props);
        }
        to() {
          return { queue: this.queue.to(), meta: this.meta };
        }
        get length() {
          return Atomics.load(this.meta, 0);
        }
        set length(l) {
          Atomics.store(this.meta, 0, l);
        }
        read(readBuffer, offset, length, position) {
          if (length > readBuffer.length)
            length = readBuffer.length;
          if (this.queue.isEmpty()) {
            if (offset > 0)
              return 0;
            else if (!this.blocking)
              throw { errno: 35, code: "EAGAIN" };
          }
          if (this.length >= 0 && this.pos >= this.length)
            return 0;
          var readc = this.queue.dequeueSome(length, readBuffer, offset);
          if (readc > 0) {
            if (this.length >= 0)
              readc = Math.min(this.length - this.pos, readc);
            this.pos += readc;
            this.emit("data", readBuffer.slice(offset, readc));
          }
          return readc;
        }
        write(writeBuffer) {
          let writec = this.queue.enqueueAll(writeBuffer);
          this.pos += writec;
          return writec;
        }
        end() {
          this.length = this.pos;
          this.queue.enqueue(0);
        }
        reset() {
          this.length = -1;
          this.pos = 0;
          this.blocking = true;
        }
      };
      MaybeSharedArrayBuffer2 = typeof SharedArrayBuffer != "undefined" ? SharedArrayBuffer : ArrayBuffer;
    }
  });

  // node_modules/has-symbols/shams.js
  var require_shams = __commonJS({
    "node_modules/has-symbols/shams.js"(exports, module) {
      "use strict";
      init_process_shim();
      init_buffer_shim();
      module.exports = function hasSymbols() {
        if (typeof Symbol !== "function" || typeof Object.getOwnPropertySymbols !== "function") {
          return false;
        }
        if (typeof Symbol.iterator === "symbol") {
          return true;
        }
        var obj = {};
        var sym = Symbol("test");
        var symObj = Object(sym);
        if (typeof sym === "string") {
          return false;
        }
        if (Object.prototype.toString.call(sym) !== "[object Symbol]") {
          return false;
        }
        if (Object.prototype.toString.call(symObj) !== "[object Symbol]") {
          return false;
        }
        var symVal = 42;
        obj[sym] = symVal;
        for (var _ in obj) {
          return false;
        }
        if (typeof Object.keys === "function" && Object.keys(obj).length !== 0) {
          return false;
        }
        if (typeof Object.getOwnPropertyNames === "function" && Object.getOwnPropertyNames(obj).length !== 0) {
          return false;
        }
        var syms = Object.getOwnPropertySymbols(obj);
        if (syms.length !== 1 || syms[0] !== sym) {
          return false;
        }
        if (!Object.prototype.propertyIsEnumerable.call(obj, sym)) {
          return false;
        }
        if (typeof Object.getOwnPropertyDescriptor === "function") {
          var descriptor = (
            /** @type {PropertyDescriptor} */
            Object.getOwnPropertyDescriptor(obj, sym)
          );
          if (descriptor.value !== symVal || descriptor.enumerable !== true) {
            return false;
          }
        }
        return true;
      };
    }
  });

  // node_modules/has-tostringtag/shams.js
  var require_shams2 = __commonJS({
    "node_modules/has-tostringtag/shams.js"(exports, module) {
      "use strict";
      init_process_shim();
      init_buffer_shim();
      var hasSymbols = require_shams();
      module.exports = function hasToStringTagShams() {
        return hasSymbols() && !!Symbol.toStringTag;
      };
    }
  });

  // node_modules/es-object-atoms/index.js
  var require_es_object_atoms = __commonJS({
    "node_modules/es-object-atoms/index.js"(exports, module) {
      "use strict";
      init_process_shim();
      init_buffer_shim();
      module.exports = Object;
    }
  });

  // node_modules/es-errors/index.js
  var require_es_errors = __commonJS({
    "node_modules/es-errors/index.js"(exports, module) {
      "use strict";
      init_process_shim();
      init_buffer_shim();
      module.exports = Error;
    }
  });

  // node_modules/es-errors/eval.js
  var require_eval = __commonJS({
    "node_modules/es-errors/eval.js"(exports, module) {
      "use strict";
      init_process_shim();
      init_buffer_shim();
      module.exports = EvalError;
    }
  });

  // node_modules/es-errors/range.js
  var require_range = __commonJS({
    "node_modules/es-errors/range.js"(exports, module) {
      "use strict";
      init_process_shim();
      init_buffer_shim();
      module.exports = RangeError;
    }
  });

  // node_modules/es-errors/ref.js
  var require_ref = __commonJS({
    "node_modules/es-errors/ref.js"(exports, module) {
      "use strict";
      init_process_shim();
      init_buffer_shim();
      module.exports = ReferenceError;
    }
  });

  // node_modules/es-errors/syntax.js
  var require_syntax = __commonJS({
    "node_modules/es-errors/syntax.js"(exports, module) {
      "use strict";
      init_process_shim();
      init_buffer_shim();
      module.exports = SyntaxError;
    }
  });

  // node_modules/es-errors/type.js
  var require_type = __commonJS({
    "node_modules/es-errors/type.js"(exports, module) {
      "use strict";
      init_process_shim();
      init_buffer_shim();
      module.exports = TypeError;
    }
  });

  // node_modules/es-errors/uri.js
  var require_uri = __commonJS({
    "node_modules/es-errors/uri.js"(exports, module) {
      "use strict";
      init_process_shim();
      init_buffer_shim();
      module.exports = URIError;
    }
  });

  // node_modules/math-intrinsics/abs.js
  var require_abs = __commonJS({
    "node_modules/math-intrinsics/abs.js"(exports, module) {
      "use strict";
      init_process_shim();
      init_buffer_shim();
      module.exports = Math.abs;
    }
  });

  // node_modules/math-intrinsics/floor.js
  var require_floor = __commonJS({
    "node_modules/math-intrinsics/floor.js"(exports, module) {
      "use strict";
      init_process_shim();
      init_buffer_shim();
      module.exports = Math.floor;
    }
  });

  // node_modules/math-intrinsics/max.js
  var require_max = __commonJS({
    "node_modules/math-intrinsics/max.js"(exports, module) {
      "use strict";
      init_process_shim();
      init_buffer_shim();
      module.exports = Math.max;
    }
  });

  // node_modules/math-intrinsics/min.js
  var require_min = __commonJS({
    "node_modules/math-intrinsics/min.js"(exports, module) {
      "use strict";
      init_process_shim();
      init_buffer_shim();
      module.exports = Math.min;
    }
  });

  // node_modules/math-intrinsics/pow.js
  var require_pow = __commonJS({
    "node_modules/math-intrinsics/pow.js"(exports, module) {
      "use strict";
      init_process_shim();
      init_buffer_shim();
      module.exports = Math.pow;
    }
  });

  // node_modules/math-intrinsics/round.js
  var require_round = __commonJS({
    "node_modules/math-intrinsics/round.js"(exports, module) {
      "use strict";
      init_process_shim();
      init_buffer_shim();
      module.exports = Math.round;
    }
  });

  // node_modules/math-intrinsics/isNaN.js
  var require_isNaN = __commonJS({
    "node_modules/math-intrinsics/isNaN.js"(exports, module) {
      "use strict";
      init_process_shim();
      init_buffer_shim();
      module.exports = Number.isNaN || function isNaN2(a) {
        return a !== a;
      };
    }
  });

  // node_modules/math-intrinsics/sign.js
  var require_sign = __commonJS({
    "node_modules/math-intrinsics/sign.js"(exports, module) {
      "use strict";
      init_process_shim();
      init_buffer_shim();
      var $isNaN = require_isNaN();
      module.exports = function sign(number) {
        if ($isNaN(number) || number === 0) {
          return number;
        }
        return number < 0 ? -1 : 1;
      };
    }
  });

  // node_modules/gopd/gOPD.js
  var require_gOPD = __commonJS({
    "node_modules/gopd/gOPD.js"(exports, module) {
      "use strict";
      init_process_shim();
      init_buffer_shim();
      module.exports = Object.getOwnPropertyDescriptor;
    }
  });

  // node_modules/gopd/index.js
  var require_gopd = __commonJS({
    "node_modules/gopd/index.js"(exports, module) {
      "use strict";
      init_process_shim();
      init_buffer_shim();
      var $gOPD = require_gOPD();
      if ($gOPD) {
        try {
          $gOPD([], "length");
        } catch (e) {
          $gOPD = null;
        }
      }
      module.exports = $gOPD;
    }
  });

  // node_modules/es-define-property/index.js
  var require_es_define_property = __commonJS({
    "node_modules/es-define-property/index.js"(exports, module) {
      "use strict";
      init_process_shim();
      init_buffer_shim();
      var $defineProperty = Object.defineProperty || false;
      if ($defineProperty) {
        try {
          $defineProperty({}, "a", { value: 1 });
        } catch (e) {
          $defineProperty = false;
        }
      }
      module.exports = $defineProperty;
    }
  });

  // node_modules/has-symbols/index.js
  var require_has_symbols = __commonJS({
    "node_modules/has-symbols/index.js"(exports, module) {
      "use strict";
      init_process_shim();
      init_buffer_shim();
      var origSymbol = typeof Symbol !== "undefined" && Symbol;
      var hasSymbolSham = require_shams();
      module.exports = function hasNativeSymbols() {
        if (typeof origSymbol !== "function") {
          return false;
        }
        if (typeof Symbol !== "function") {
          return false;
        }
        if (typeof origSymbol("foo") !== "symbol") {
          return false;
        }
        if (typeof Symbol("bar") !== "symbol") {
          return false;
        }
        return hasSymbolSham();
      };
    }
  });

  // node_modules/get-proto/Reflect.getPrototypeOf.js
  var require_Reflect_getPrototypeOf = __commonJS({
    "node_modules/get-proto/Reflect.getPrototypeOf.js"(exports, module) {
      "use strict";
      init_process_shim();
      init_buffer_shim();
      module.exports = typeof Reflect !== "undefined" && Reflect.getPrototypeOf || null;
    }
  });

  // node_modules/get-proto/Object.getPrototypeOf.js
  var require_Object_getPrototypeOf = __commonJS({
    "node_modules/get-proto/Object.getPrototypeOf.js"(exports, module) {
      "use strict";
      init_process_shim();
      init_buffer_shim();
      var $Object = require_es_object_atoms();
      module.exports = $Object.getPrototypeOf || null;
    }
  });

  // node_modules/function-bind/implementation.js
  var require_implementation = __commonJS({
    "node_modules/function-bind/implementation.js"(exports, module) {
      "use strict";
      init_process_shim();
      init_buffer_shim();
      var ERROR_MESSAGE = "Function.prototype.bind called on incompatible ";
      var toStr = Object.prototype.toString;
      var max2 = Math.max;
      var funcType = "[object Function]";
      var concatty = function concatty2(a, b) {
        var arr = [];
        for (var i = 0; i < a.length; i += 1) {
          arr[i] = a[i];
        }
        for (var j = 0; j < b.length; j += 1) {
          arr[j + a.length] = b[j];
        }
        return arr;
      };
      var slicy = function slicy2(arrLike, offset) {
        var arr = [];
        for (var i = offset || 0, j = 0; i < arrLike.length; i += 1, j += 1) {
          arr[j] = arrLike[i];
        }
        return arr;
      };
      var joiny = function(arr, joiner) {
        var str = "";
        for (var i = 0; i < arr.length; i += 1) {
          str += arr[i];
          if (i + 1 < arr.length) {
            str += joiner;
          }
        }
        return str;
      };
      module.exports = function bind(that) {
        var target = this;
        if (typeof target !== "function" || toStr.apply(target) !== funcType) {
          throw new TypeError(ERROR_MESSAGE + target);
        }
        var args = slicy(arguments, 1);
        var bound;
        var binder = function() {
          if (this instanceof bound) {
            var result = target.apply(
              this,
              concatty(args, arguments)
            );
            if (Object(result) === result) {
              return result;
            }
            return this;
          }
          return target.apply(
            that,
            concatty(args, arguments)
          );
        };
        var boundLength = max2(0, target.length - args.length);
        var boundArgs = [];
        for (var i = 0; i < boundLength; i++) {
          boundArgs[i] = "$" + i;
        }
        bound = Function("binder", "return function (" + joiny(boundArgs, ",") + "){ return binder.apply(this,arguments); }")(binder);
        if (target.prototype) {
          var Empty = function Empty2() {
          };
          Empty.prototype = target.prototype;
          bound.prototype = new Empty();
          Empty.prototype = null;
        }
        return bound;
      };
    }
  });

  // node_modules/function-bind/index.js
  var require_function_bind = __commonJS({
    "node_modules/function-bind/index.js"(exports, module) {
      "use strict";
      init_process_shim();
      init_buffer_shim();
      var implementation = require_implementation();
      module.exports = Function.prototype.bind || implementation;
    }
  });

  // node_modules/call-bind-apply-helpers/functionCall.js
  var require_functionCall = __commonJS({
    "node_modules/call-bind-apply-helpers/functionCall.js"(exports, module) {
      "use strict";
      init_process_shim();
      init_buffer_shim();
      module.exports = Function.prototype.call;
    }
  });

  // node_modules/call-bind-apply-helpers/functionApply.js
  var require_functionApply = __commonJS({
    "node_modules/call-bind-apply-helpers/functionApply.js"(exports, module) {
      "use strict";
      init_process_shim();
      init_buffer_shim();
      module.exports = Function.prototype.apply;
    }
  });

  // node_modules/call-bind-apply-helpers/reflectApply.js
  var require_reflectApply = __commonJS({
    "node_modules/call-bind-apply-helpers/reflectApply.js"(exports, module) {
      "use strict";
      init_process_shim();
      init_buffer_shim();
      module.exports = typeof Reflect !== "undefined" && Reflect && Reflect.apply;
    }
  });

  // node_modules/call-bind-apply-helpers/actualApply.js
  var require_actualApply = __commonJS({
    "node_modules/call-bind-apply-helpers/actualApply.js"(exports, module) {
      "use strict";
      init_process_shim();
      init_buffer_shim();
      var bind = require_function_bind();
      var $apply = require_functionApply();
      var $call = require_functionCall();
      var $reflectApply = require_reflectApply();
      module.exports = $reflectApply || bind.call($call, $apply);
    }
  });

  // node_modules/call-bind-apply-helpers/index.js
  var require_call_bind_apply_helpers = __commonJS({
    "node_modules/call-bind-apply-helpers/index.js"(exports, module) {
      "use strict";
      init_process_shim();
      init_buffer_shim();
      var bind = require_function_bind();
      var $TypeError = require_type();
      var $call = require_functionCall();
      var $actualApply = require_actualApply();
      module.exports = function callBindBasic(args) {
        if (args.length < 1 || typeof args[0] !== "function") {
          throw new $TypeError("a function is required");
        }
        return $actualApply(bind, $call, args);
      };
    }
  });

  // node_modules/dunder-proto/get.js
  var require_get = __commonJS({
    "node_modules/dunder-proto/get.js"(exports, module) {
      "use strict";
      init_process_shim();
      init_buffer_shim();
      var callBind = require_call_bind_apply_helpers();
      var gOPD = require_gopd();
      var hasProtoAccessor;
      try {
        hasProtoAccessor = /** @type {{ __proto__?: typeof Array.prototype }} */
        [].__proto__ === Array.prototype;
      } catch (e) {
        if (!e || typeof e !== "object" || !("code" in e) || e.code !== "ERR_PROTO_ACCESS") {
          throw e;
        }
      }
      var desc = !!hasProtoAccessor && gOPD && gOPD(
        Object.prototype,
        /** @type {keyof typeof Object.prototype} */
        "__proto__"
      );
      var $Object = Object;
      var $getPrototypeOf = $Object.getPrototypeOf;
      module.exports = desc && typeof desc.get === "function" ? callBind([desc.get]) : typeof $getPrototypeOf === "function" ? (
        /** @type {import('./get')} */
        function getDunder(value) {
          return $getPrototypeOf(value == null ? value : $Object(value));
        }
      ) : false;
    }
  });

  // node_modules/get-proto/index.js
  var require_get_proto = __commonJS({
    "node_modules/get-proto/index.js"(exports, module) {
      "use strict";
      init_process_shim();
      init_buffer_shim();
      var reflectGetProto = require_Reflect_getPrototypeOf();
      var originalGetProto = require_Object_getPrototypeOf();
      var getDunderProto = require_get();
      module.exports = reflectGetProto ? function getProto(O) {
        return reflectGetProto(O);
      } : originalGetProto ? function getProto(O) {
        if (!O || typeof O !== "object" && typeof O !== "function") {
          throw new TypeError("getProto: not an object");
        }
        return originalGetProto(O);
      } : getDunderProto ? function getProto(O) {
        return getDunderProto(O);
      } : null;
    }
  });

  // node_modules/hasown/index.js
  var require_hasown = __commonJS({
    "node_modules/hasown/index.js"(exports, module) {
      "use strict";
      init_process_shim();
      init_buffer_shim();
      var call = Function.prototype.call;
      var $hasOwn = Object.prototype.hasOwnProperty;
      var bind = require_function_bind();
      module.exports = bind.call(call, $hasOwn);
    }
  });

  // node_modules/get-intrinsic/index.js
  var require_get_intrinsic = __commonJS({
    "node_modules/get-intrinsic/index.js"(exports, module) {
      "use strict";
      init_process_shim();
      init_buffer_shim();
      var undefined2;
      var $Object = require_es_object_atoms();
      var $Error = require_es_errors();
      var $EvalError = require_eval();
      var $RangeError = require_range();
      var $ReferenceError = require_ref();
      var $SyntaxError = require_syntax();
      var $TypeError = require_type();
      var $URIError = require_uri();
      var abs = require_abs();
      var floor = require_floor();
      var max2 = require_max();
      var min = require_min();
      var pow = require_pow();
      var round = require_round();
      var sign = require_sign();
      var $Function = Function;
      var getEvalledConstructor = function(expressionSyntax) {
        try {
          return $Function('"use strict"; return (' + expressionSyntax + ").constructor;")();
        } catch (e) {
        }
      };
      var $gOPD = require_gopd();
      var $defineProperty = require_es_define_property();
      var throwTypeError = function() {
        throw new $TypeError();
      };
      var ThrowTypeError = $gOPD ? function() {
        try {
          arguments.callee;
          return throwTypeError;
        } catch (calleeThrows) {
          try {
            return $gOPD(arguments, "callee").get;
          } catch (gOPDthrows) {
            return throwTypeError;
          }
        }
      }() : throwTypeError;
      var hasSymbols = require_has_symbols()();
      var getProto = require_get_proto();
      var $ObjectGPO = require_Object_getPrototypeOf();
      var $ReflectGPO = require_Reflect_getPrototypeOf();
      var $apply = require_functionApply();
      var $call = require_functionCall();
      var needsEval = {};
      var TypedArray = typeof Uint8Array === "undefined" || !getProto ? undefined2 : getProto(Uint8Array);
      var INTRINSICS = {
        __proto__: null,
        "%AggregateError%": typeof AggregateError === "undefined" ? undefined2 : AggregateError,
        "%Array%": Array,
        "%ArrayBuffer%": typeof ArrayBuffer === "undefined" ? undefined2 : ArrayBuffer,
        "%ArrayIteratorPrototype%": hasSymbols && getProto ? getProto([][Symbol.iterator]()) : undefined2,
        "%AsyncFromSyncIteratorPrototype%": undefined2,
        "%AsyncFunction%": needsEval,
        "%AsyncGenerator%": needsEval,
        "%AsyncGeneratorFunction%": needsEval,
        "%AsyncIteratorPrototype%": needsEval,
        "%Atomics%": typeof Atomics === "undefined" ? undefined2 : Atomics,
        "%BigInt%": typeof BigInt === "undefined" ? undefined2 : BigInt,
        "%BigInt64Array%": typeof BigInt64Array === "undefined" ? undefined2 : BigInt64Array,
        "%BigUint64Array%": typeof BigUint64Array === "undefined" ? undefined2 : BigUint64Array,
        "%Boolean%": Boolean,
        "%DataView%": typeof DataView === "undefined" ? undefined2 : DataView,
        "%Date%": Date,
        "%decodeURI%": decodeURI,
        "%decodeURIComponent%": decodeURIComponent,
        "%encodeURI%": encodeURI,
        "%encodeURIComponent%": encodeURIComponent,
        "%Error%": $Error,
        "%eval%": eval,
        // eslint-disable-line no-eval
        "%EvalError%": $EvalError,
        "%Float16Array%": typeof Float16Array === "undefined" ? undefined2 : Float16Array,
        "%Float32Array%": typeof Float32Array === "undefined" ? undefined2 : Float32Array,
        "%Float64Array%": typeof Float64Array === "undefined" ? undefined2 : Float64Array,
        "%FinalizationRegistry%": typeof FinalizationRegistry === "undefined" ? undefined2 : FinalizationRegistry,
        "%Function%": $Function,
        "%GeneratorFunction%": needsEval,
        "%Int8Array%": typeof Int8Array === "undefined" ? undefined2 : Int8Array,
        "%Int16Array%": typeof Int16Array === "undefined" ? undefined2 : Int16Array,
        "%Int32Array%": typeof Int32Array === "undefined" ? undefined2 : Int32Array,
        "%isFinite%": isFinite,
        "%isNaN%": isNaN,
        "%IteratorPrototype%": hasSymbols && getProto ? getProto(getProto([][Symbol.iterator]())) : undefined2,
        "%JSON%": typeof JSON === "object" ? JSON : undefined2,
        "%Map%": typeof Map === "undefined" ? undefined2 : Map,
        "%MapIteratorPrototype%": typeof Map === "undefined" || !hasSymbols || !getProto ? undefined2 : getProto((/* @__PURE__ */ new Map())[Symbol.iterator]()),
        "%Math%": Math,
        "%Number%": Number,
        "%Object%": $Object,
        "%Object.getOwnPropertyDescriptor%": $gOPD,
        "%parseFloat%": parseFloat,
        "%parseInt%": parseInt,
        "%Promise%": typeof Promise === "undefined" ? undefined2 : Promise,
        "%Proxy%": typeof Proxy === "undefined" ? undefined2 : Proxy,
        "%RangeError%": $RangeError,
        "%ReferenceError%": $ReferenceError,
        "%Reflect%": typeof Reflect === "undefined" ? undefined2 : Reflect,
        "%RegExp%": RegExp,
        "%Set%": typeof Set === "undefined" ? undefined2 : Set,
        "%SetIteratorPrototype%": typeof Set === "undefined" || !hasSymbols || !getProto ? undefined2 : getProto((/* @__PURE__ */ new Set())[Symbol.iterator]()),
        "%SharedArrayBuffer%": typeof SharedArrayBuffer === "undefined" ? undefined2 : SharedArrayBuffer,
        "%String%": String,
        "%StringIteratorPrototype%": hasSymbols && getProto ? getProto(""[Symbol.iterator]()) : undefined2,
        "%Symbol%": hasSymbols ? Symbol : undefined2,
        "%SyntaxError%": $SyntaxError,
        "%ThrowTypeError%": ThrowTypeError,
        "%TypedArray%": TypedArray,
        "%TypeError%": $TypeError,
        "%Uint8Array%": typeof Uint8Array === "undefined" ? undefined2 : Uint8Array,
        "%Uint8ClampedArray%": typeof Uint8ClampedArray === "undefined" ? undefined2 : Uint8ClampedArray,
        "%Uint16Array%": typeof Uint16Array === "undefined" ? undefined2 : Uint16Array,
        "%Uint32Array%": typeof Uint32Array === "undefined" ? undefined2 : Uint32Array,
        "%URIError%": $URIError,
        "%WeakMap%": typeof WeakMap === "undefined" ? undefined2 : WeakMap,
        "%WeakRef%": typeof WeakRef === "undefined" ? undefined2 : WeakRef,
        "%WeakSet%": typeof WeakSet === "undefined" ? undefined2 : WeakSet,
        "%Function.prototype.call%": $call,
        "%Function.prototype.apply%": $apply,
        "%Object.defineProperty%": $defineProperty,
        "%Object.getPrototypeOf%": $ObjectGPO,
        "%Math.abs%": abs,
        "%Math.floor%": floor,
        "%Math.max%": max2,
        "%Math.min%": min,
        "%Math.pow%": pow,
        "%Math.round%": round,
        "%Math.sign%": sign,
        "%Reflect.getPrototypeOf%": $ReflectGPO
      };
      if (getProto) {
        try {
          null.error;
        } catch (e) {
          errorProto = getProto(getProto(e));
          INTRINSICS["%Error.prototype%"] = errorProto;
        }
      }
      var errorProto;
      var doEval = function doEval2(name) {
        var value;
        if (name === "%AsyncFunction%") {
          value = getEvalledConstructor("async function () {}");
        } else if (name === "%GeneratorFunction%") {
          value = getEvalledConstructor("function* () {}");
        } else if (name === "%AsyncGeneratorFunction%") {
          value = getEvalledConstructor("async function* () {}");
        } else if (name === "%AsyncGenerator%") {
          var fn = doEval2("%AsyncGeneratorFunction%");
          if (fn) {
            value = fn.prototype;
          }
        } else if (name === "%AsyncIteratorPrototype%") {
          var gen = doEval2("%AsyncGenerator%");
          if (gen && getProto) {
            value = getProto(gen.prototype);
          }
        }
        INTRINSICS[name] = value;
        return value;
      };
      var LEGACY_ALIASES = {
        __proto__: null,
        "%ArrayBufferPrototype%": ["ArrayBuffer", "prototype"],
        "%ArrayPrototype%": ["Array", "prototype"],
        "%ArrayProto_entries%": ["Array", "prototype", "entries"],
        "%ArrayProto_forEach%": ["Array", "prototype", "forEach"],
        "%ArrayProto_keys%": ["Array", "prototype", "keys"],
        "%ArrayProto_values%": ["Array", "prototype", "values"],
        "%AsyncFunctionPrototype%": ["AsyncFunction", "prototype"],
        "%AsyncGenerator%": ["AsyncGeneratorFunction", "prototype"],
        "%AsyncGeneratorPrototype%": ["AsyncGeneratorFunction", "prototype", "prototype"],
        "%BooleanPrototype%": ["Boolean", "prototype"],
        "%DataViewPrototype%": ["DataView", "prototype"],
        "%DatePrototype%": ["Date", "prototype"],
        "%ErrorPrototype%": ["Error", "prototype"],
        "%EvalErrorPrototype%": ["EvalError", "prototype"],
        "%Float32ArrayPrototype%": ["Float32Array", "prototype"],
        "%Float64ArrayPrototype%": ["Float64Array", "prototype"],
        "%FunctionPrototype%": ["Function", "prototype"],
        "%Generator%": ["GeneratorFunction", "prototype"],
        "%GeneratorPrototype%": ["GeneratorFunction", "prototype", "prototype"],
        "%Int8ArrayPrototype%": ["Int8Array", "prototype"],
        "%Int16ArrayPrototype%": ["Int16Array", "prototype"],
        "%Int32ArrayPrototype%": ["Int32Array", "prototype"],
        "%JSONParse%": ["JSON", "parse"],
        "%JSONStringify%": ["JSON", "stringify"],
        "%MapPrototype%": ["Map", "prototype"],
        "%NumberPrototype%": ["Number", "prototype"],
        "%ObjectPrototype%": ["Object", "prototype"],
        "%ObjProto_toString%": ["Object", "prototype", "toString"],
        "%ObjProto_valueOf%": ["Object", "prototype", "valueOf"],
        "%PromisePrototype%": ["Promise", "prototype"],
        "%PromiseProto_then%": ["Promise", "prototype", "then"],
        "%Promise_all%": ["Promise", "all"],
        "%Promise_reject%": ["Promise", "reject"],
        "%Promise_resolve%": ["Promise", "resolve"],
        "%RangeErrorPrototype%": ["RangeError", "prototype"],
        "%ReferenceErrorPrototype%": ["ReferenceError", "prototype"],
        "%RegExpPrototype%": ["RegExp", "prototype"],
        "%SetPrototype%": ["Set", "prototype"],
        "%SharedArrayBufferPrototype%": ["SharedArrayBuffer", "prototype"],
        "%StringPrototype%": ["String", "prototype"],
        "%SymbolPrototype%": ["Symbol", "prototype"],
        "%SyntaxErrorPrototype%": ["SyntaxError", "prototype"],
        "%TypedArrayPrototype%": ["TypedArray", "prototype"],
        "%TypeErrorPrototype%": ["TypeError", "prototype"],
        "%Uint8ArrayPrototype%": ["Uint8Array", "prototype"],
        "%Uint8ClampedArrayPrototype%": ["Uint8ClampedArray", "prototype"],
        "%Uint16ArrayPrototype%": ["Uint16Array", "prototype"],
        "%Uint32ArrayPrototype%": ["Uint32Array", "prototype"],
        "%URIErrorPrototype%": ["URIError", "prototype"],
        "%WeakMapPrototype%": ["WeakMap", "prototype"],
        "%WeakSetPrototype%": ["WeakSet", "prototype"]
      };
      var bind = require_function_bind();
      var hasOwn = require_hasown();
      var $concat = bind.call($call, Array.prototype.concat);
      var $spliceApply = bind.call($apply, Array.prototype.splice);
      var $replace = bind.call($call, String.prototype.replace);
      var $strSlice = bind.call($call, String.prototype.slice);
      var $exec = bind.call($call, RegExp.prototype.exec);
      var rePropName = /[^%.[\]]+|\[(?:(-?\d+(?:\.\d+)?)|(["'])((?:(?!\2)[^\\]|\\.)*?)\2)\]|(?=(?:\.|\[\])(?:\.|\[\]|%$))/g;
      var reEscapeChar = /\\(\\)?/g;
      var stringToPath = function stringToPath2(string) {
        var first = $strSlice(string, 0, 1);
        var last = $strSlice(string, -1);
        if (first === "%" && last !== "%") {
          throw new $SyntaxError("invalid intrinsic syntax, expected closing `%`");
        } else if (last === "%" && first !== "%") {
          throw new $SyntaxError("invalid intrinsic syntax, expected opening `%`");
        }
        var result = [];
        $replace(string, rePropName, function(match, number, quote, subString) {
          result[result.length] = quote ? $replace(subString, reEscapeChar, "$1") : number || match;
        });
        return result;
      };
      var getBaseIntrinsic = function getBaseIntrinsic2(name, allowMissing) {
        var intrinsicName = name;
        var alias;
        if (hasOwn(LEGACY_ALIASES, intrinsicName)) {
          alias = LEGACY_ALIASES[intrinsicName];
          intrinsicName = "%" + alias[0] + "%";
        }
        if (hasOwn(INTRINSICS, intrinsicName)) {
          var value = INTRINSICS[intrinsicName];
          if (value === needsEval) {
            value = doEval(intrinsicName);
          }
          if (typeof value === "undefined" && !allowMissing) {
            throw new $TypeError("intrinsic " + name + " exists, but is not available. Please file an issue!");
          }
          return {
            alias,
            name: intrinsicName,
            value
          };
        }
        throw new $SyntaxError("intrinsic " + name + " does not exist!");
      };
      module.exports = function GetIntrinsic(name, allowMissing) {
        if (typeof name !== "string" || name.length === 0) {
          throw new $TypeError("intrinsic name must be a non-empty string");
        }
        if (arguments.length > 1 && typeof allowMissing !== "boolean") {
          throw new $TypeError('"allowMissing" argument must be a boolean');
        }
        if ($exec(/^%?[^%]*%?$/, name) === null) {
          throw new $SyntaxError("`%` may not be present anywhere but at the beginning and end of the intrinsic name");
        }
        var parts = stringToPath(name);
        var intrinsicBaseName = parts.length > 0 ? parts[0] : "";
        var intrinsic = getBaseIntrinsic("%" + intrinsicBaseName + "%", allowMissing);
        var intrinsicRealName = intrinsic.name;
        var value = intrinsic.value;
        var skipFurtherCaching = false;
        var alias = intrinsic.alias;
        if (alias) {
          intrinsicBaseName = alias[0];
          $spliceApply(parts, $concat([0, 1], alias));
        }
        for (var i = 1, isOwn = true; i < parts.length; i += 1) {
          var part = parts[i];
          var first = $strSlice(part, 0, 1);
          var last = $strSlice(part, -1);
          if ((first === '"' || first === "'" || first === "`" || (last === '"' || last === "'" || last === "`")) && first !== last) {
            throw new $SyntaxError("property names with quotes must have matching quotes");
          }
          if (part === "constructor" || !isOwn) {
            skipFurtherCaching = true;
          }
          intrinsicBaseName += "." + part;
          intrinsicRealName = "%" + intrinsicBaseName + "%";
          if (hasOwn(INTRINSICS, intrinsicRealName)) {
            value = INTRINSICS[intrinsicRealName];
          } else if (value != null) {
            if (!(part in value)) {
              if (!allowMissing) {
                throw new $TypeError("base intrinsic for " + name + " exists, but the property is not available.");
              }
              return void 0;
            }
            if ($gOPD && i + 1 >= parts.length) {
              var desc = $gOPD(value, part);
              isOwn = !!desc;
              if (isOwn && "get" in desc && !("originalValue" in desc.get)) {
                value = desc.get;
              } else {
                value = value[part];
              }
            } else {
              isOwn = hasOwn(value, part);
              value = value[part];
            }
            if (isOwn && !skipFurtherCaching) {
              INTRINSICS[intrinsicRealName] = value;
            }
          }
        }
        return value;
      };
    }
  });

  // node_modules/call-bound/index.js
  var require_call_bound = __commonJS({
    "node_modules/call-bound/index.js"(exports, module) {
      "use strict";
      init_process_shim();
      init_buffer_shim();
      var GetIntrinsic = require_get_intrinsic();
      var callBindBasic = require_call_bind_apply_helpers();
      var $indexOf = callBindBasic([GetIntrinsic("%String.prototype.indexOf%")]);
      module.exports = function callBoundIntrinsic(name, allowMissing) {
        var intrinsic = (
          /** @type {(this: unknown, ...args: unknown[]) => unknown} */
          GetIntrinsic(name, !!allowMissing)
        );
        if (typeof intrinsic === "function" && $indexOf(name, ".prototype.") > -1) {
          return callBindBasic(
            /** @type {const} */
            [intrinsic]
          );
        }
        return intrinsic;
      };
    }
  });

  // node_modules/is-arguments/index.js
  var require_is_arguments = __commonJS({
    "node_modules/is-arguments/index.js"(exports, module) {
      "use strict";
      init_process_shim();
      init_buffer_shim();
      var hasToStringTag = require_shams2()();
      var callBound = require_call_bound();
      var $toString = callBound("Object.prototype.toString");
      var isStandardArguments = function isArguments(value) {
        if (hasToStringTag && value && typeof value === "object" && Symbol.toStringTag in value) {
          return false;
        }
        return $toString(value) === "[object Arguments]";
      };
      var isLegacyArguments = function isArguments(value) {
        if (isStandardArguments(value)) {
          return true;
        }
        return value !== null && typeof value === "object" && "length" in value && typeof value.length === "number" && value.length >= 0 && $toString(value) !== "[object Array]" && "callee" in value && $toString(value.callee) === "[object Function]";
      };
      var supportsStandardArguments = function() {
        return isStandardArguments(arguments);
      }();
      isStandardArguments.isLegacyArguments = isLegacyArguments;
      module.exports = supportsStandardArguments ? isStandardArguments : isLegacyArguments;
    }
  });

  // node_modules/is-regex/index.js
  var require_is_regex = __commonJS({
    "node_modules/is-regex/index.js"(exports, module) {
      "use strict";
      init_process_shim();
      init_buffer_shim();
      var callBound = require_call_bound();
      var hasToStringTag = require_shams2()();
      var hasOwn = require_hasown();
      var gOPD = require_gopd();
      var fn;
      if (hasToStringTag) {
        $exec = callBound("RegExp.prototype.exec");
        isRegexMarker = {};
        throwRegexMarker = function() {
          throw isRegexMarker;
        };
        badStringifier = {
          toString: throwRegexMarker,
          valueOf: throwRegexMarker
        };
        if (typeof Symbol.toPrimitive === "symbol") {
          badStringifier[Symbol.toPrimitive] = throwRegexMarker;
        }
        fn = function isRegex(value) {
          if (!value || typeof value !== "object") {
            return false;
          }
          var descriptor = (
            /** @type {NonNullable<typeof gOPD>} */
            gOPD(
              /** @type {{ lastIndex?: unknown }} */
              value,
              "lastIndex"
            )
          );
          var hasLastIndexDataProperty = descriptor && hasOwn(descriptor, "value");
          if (!hasLastIndexDataProperty) {
            return false;
          }
          try {
            $exec(
              value,
              /** @type {string} */
              /** @type {unknown} */
              badStringifier
            );
          } catch (e) {
            return e === isRegexMarker;
          }
        };
      } else {
        $toString = callBound("Object.prototype.toString");
        regexClass = "[object RegExp]";
        fn = function isRegex(value) {
          if (!value || typeof value !== "object" && typeof value !== "function") {
            return false;
          }
          return $toString(value) === regexClass;
        };
      }
      var $exec;
      var isRegexMarker;
      var throwRegexMarker;
      var badStringifier;
      var $toString;
      var regexClass;
      module.exports = fn;
    }
  });

  // node_modules/safe-regex-test/index.js
  var require_safe_regex_test = __commonJS({
    "node_modules/safe-regex-test/index.js"(exports, module) {
      "use strict";
      init_process_shim();
      init_buffer_shim();
      var callBound = require_call_bound();
      var isRegex = require_is_regex();
      var $exec = callBound("RegExp.prototype.exec");
      var $TypeError = require_type();
      module.exports = function regexTester(regex) {
        if (!isRegex(regex)) {
          throw new $TypeError("`regex` must be a RegExp");
        }
        return function test(s) {
          return $exec(regex, s) !== null;
        };
      };
    }
  });

  // node_modules/is-generator-function/index.js
  var require_is_generator_function = __commonJS({
    "node_modules/is-generator-function/index.js"(exports, module) {
      "use strict";
      init_process_shim();
      init_buffer_shim();
      var callBound = require_call_bound();
      var safeRegexTest = require_safe_regex_test();
      var isFnRegex = safeRegexTest(/^\s*(?:function)?\*/);
      var hasToStringTag = require_shams2()();
      var getProto = require_get_proto();
      var toStr = callBound("Object.prototype.toString");
      var fnToStr = callBound("Function.prototype.toString");
      var getGeneratorFunc = function() {
        if (!hasToStringTag) {
          return false;
        }
        try {
          return Function("return function*() {}")();
        } catch (e) {
        }
      };
      var GeneratorFunction;
      module.exports = function isGeneratorFunction(fn) {
        if (typeof fn !== "function") {
          return false;
        }
        if (isFnRegex(fnToStr(fn))) {
          return true;
        }
        if (!hasToStringTag) {
          var str = toStr(fn);
          return str === "[object GeneratorFunction]";
        }
        if (!getProto) {
          return false;
        }
        if (typeof GeneratorFunction === "undefined") {
          var generatorFunc = getGeneratorFunc();
          GeneratorFunction = generatorFunc ? (
            /** @type {GeneratorFunctionConstructor} */
            getProto(generatorFunc)
          ) : false;
        }
        return getProto(fn) === GeneratorFunction;
      };
    }
  });

  // node_modules/is-callable/index.js
  var require_is_callable = __commonJS({
    "node_modules/is-callable/index.js"(exports, module) {
      "use strict";
      init_process_shim();
      init_buffer_shim();
      var fnToStr = Function.prototype.toString;
      var reflectApply = typeof Reflect === "object" && Reflect !== null && Reflect.apply;
      var badArrayLike;
      var isCallableMarker;
      if (typeof reflectApply === "function" && typeof Object.defineProperty === "function") {
        try {
          badArrayLike = Object.defineProperty({}, "length", {
            get: function() {
              throw isCallableMarker;
            }
          });
          isCallableMarker = {};
          reflectApply(function() {
            throw 42;
          }, null, badArrayLike);
        } catch (_) {
          if (_ !== isCallableMarker) {
            reflectApply = null;
          }
        }
      } else {
        reflectApply = null;
      }
      var constructorRegex = /^\s*class\b/;
      var isES6ClassFn = function isES6ClassFunction(value) {
        try {
          var fnStr = fnToStr.call(value);
          return constructorRegex.test(fnStr);
        } catch (e) {
          return false;
        }
      };
      var tryFunctionObject = function tryFunctionToStr(value) {
        try {
          if (isES6ClassFn(value)) {
            return false;
          }
          fnToStr.call(value);
          return true;
        } catch (e) {
          return false;
        }
      };
      var toStr = Object.prototype.toString;
      var objectClass = "[object Object]";
      var fnClass = "[object Function]";
      var genClass = "[object GeneratorFunction]";
      var ddaClass = "[object HTMLAllCollection]";
      var ddaClass2 = "[object HTML document.all class]";
      var ddaClass3 = "[object HTMLCollection]";
      var hasToStringTag = typeof Symbol === "function" && !!Symbol.toStringTag;
      var isIE68 = !(0 in [,]);
      var isDDA = function isDocumentDotAll() {
        return false;
      };
      if (typeof document === "object") {
        all = document.all;
        if (toStr.call(all) === toStr.call(document.all)) {
          isDDA = function isDocumentDotAll(value) {
            if ((isIE68 || !value) && (typeof value === "undefined" || typeof value === "object")) {
              try {
                var str = toStr.call(value);
                return (str === ddaClass || str === ddaClass2 || str === ddaClass3 || str === objectClass) && value("") == null;
              } catch (e) {
              }
            }
            return false;
          };
        }
      }
      var all;
      module.exports = reflectApply ? function isCallable(value) {
        if (isDDA(value)) {
          return true;
        }
        if (!value) {
          return false;
        }
        if (typeof value !== "function" && typeof value !== "object") {
          return false;
        }
        try {
          reflectApply(value, null, badArrayLike);
        } catch (e) {
          if (e !== isCallableMarker) {
            return false;
          }
        }
        return !isES6ClassFn(value) && tryFunctionObject(value);
      } : function isCallable(value) {
        if (isDDA(value)) {
          return true;
        }
        if (!value) {
          return false;
        }
        if (typeof value !== "function" && typeof value !== "object") {
          return false;
        }
        if (hasToStringTag) {
          return tryFunctionObject(value);
        }
        if (isES6ClassFn(value)) {
          return false;
        }
        var strClass = toStr.call(value);
        if (strClass !== fnClass && strClass !== genClass && !/^\[object HTML/.test(strClass)) {
          return false;
        }
        return tryFunctionObject(value);
      };
    }
  });

  // node_modules/for-each/index.js
  var require_for_each = __commonJS({
    "node_modules/for-each/index.js"(exports, module) {
      "use strict";
      init_process_shim();
      init_buffer_shim();
      var isCallable = require_is_callable();
      var toStr = Object.prototype.toString;
      var hasOwnProperty = Object.prototype.hasOwnProperty;
      var forEachArray = function forEachArray2(array, iterator, receiver) {
        for (var i = 0, len = array.length; i < len; i++) {
          if (hasOwnProperty.call(array, i)) {
            if (receiver == null) {
              iterator(array[i], i, array);
            } else {
              iterator.call(receiver, array[i], i, array);
            }
          }
        }
      };
      var forEachString = function forEachString2(string, iterator, receiver) {
        for (var i = 0, len = string.length; i < len; i++) {
          if (receiver == null) {
            iterator(string.charAt(i), i, string);
          } else {
            iterator.call(receiver, string.charAt(i), i, string);
          }
        }
      };
      var forEachObject = function forEachObject2(object, iterator, receiver) {
        for (var k in object) {
          if (hasOwnProperty.call(object, k)) {
            if (receiver == null) {
              iterator(object[k], k, object);
            } else {
              iterator.call(receiver, object[k], k, object);
            }
          }
        }
      };
      function isArray(x) {
        return toStr.call(x) === "[object Array]";
      }
      module.exports = function forEach(list, iterator, thisArg) {
        if (!isCallable(iterator)) {
          throw new TypeError("iterator must be a function");
        }
        var receiver;
        if (arguments.length >= 3) {
          receiver = thisArg;
        }
        if (isArray(list)) {
          forEachArray(list, iterator, receiver);
        } else if (typeof list === "string") {
          forEachString(list, iterator, receiver);
        } else {
          forEachObject(list, iterator, receiver);
        }
      };
    }
  });

  // node_modules/possible-typed-array-names/index.js
  var require_possible_typed_array_names = __commonJS({
    "node_modules/possible-typed-array-names/index.js"(exports, module) {
      "use strict";
      init_process_shim();
      init_buffer_shim();
      module.exports = [
        "Float16Array",
        "Float32Array",
        "Float64Array",
        "Int8Array",
        "Int16Array",
        "Int32Array",
        "Uint8Array",
        "Uint8ClampedArray",
        "Uint16Array",
        "Uint32Array",
        "BigInt64Array",
        "BigUint64Array"
      ];
    }
  });

  // node_modules/available-typed-arrays/index.js
  var require_available_typed_arrays = __commonJS({
    "node_modules/available-typed-arrays/index.js"(exports, module) {
      "use strict";
      init_process_shim();
      init_buffer_shim();
      var possibleNames = require_possible_typed_array_names();
      var g = typeof globalThis === "undefined" ? self : globalThis;
      module.exports = function availableTypedArrays() {
        var out = [];
        for (var i = 0; i < possibleNames.length; i++) {
          if (typeof g[possibleNames[i]] === "function") {
            out[out.length] = possibleNames[i];
          }
        }
        return out;
      };
    }
  });

  // node_modules/define-data-property/index.js
  var require_define_data_property = __commonJS({
    "node_modules/define-data-property/index.js"(exports, module) {
      "use strict";
      init_process_shim();
      init_buffer_shim();
      var $defineProperty = require_es_define_property();
      var $SyntaxError = require_syntax();
      var $TypeError = require_type();
      var gopd = require_gopd();
      module.exports = function defineDataProperty(obj, property, value) {
        if (!obj || typeof obj !== "object" && typeof obj !== "function") {
          throw new $TypeError("`obj` must be an object or a function`");
        }
        if (typeof property !== "string" && typeof property !== "symbol") {
          throw new $TypeError("`property` must be a string or a symbol`");
        }
        if (arguments.length > 3 && typeof arguments[3] !== "boolean" && arguments[3] !== null) {
          throw new $TypeError("`nonEnumerable`, if provided, must be a boolean or null");
        }
        if (arguments.length > 4 && typeof arguments[4] !== "boolean" && arguments[4] !== null) {
          throw new $TypeError("`nonWritable`, if provided, must be a boolean or null");
        }
        if (arguments.length > 5 && typeof arguments[5] !== "boolean" && arguments[5] !== null) {
          throw new $TypeError("`nonConfigurable`, if provided, must be a boolean or null");
        }
        if (arguments.length > 6 && typeof arguments[6] !== "boolean") {
          throw new $TypeError("`loose`, if provided, must be a boolean");
        }
        var nonEnumerable = arguments.length > 3 ? arguments[3] : null;
        var nonWritable = arguments.length > 4 ? arguments[4] : null;
        var nonConfigurable = arguments.length > 5 ? arguments[5] : null;
        var loose = arguments.length > 6 ? arguments[6] : false;
        var desc = !!gopd && gopd(obj, property);
        if ($defineProperty) {
          $defineProperty(obj, property, {
            configurable: nonConfigurable === null && desc ? desc.configurable : !nonConfigurable,
            enumerable: nonEnumerable === null && desc ? desc.enumerable : !nonEnumerable,
            value,
            writable: nonWritable === null && desc ? desc.writable : !nonWritable
          });
        } else if (loose || !nonEnumerable && !nonWritable && !nonConfigurable) {
          obj[property] = value;
        } else {
          throw new $SyntaxError("This environment does not support defining a property as non-configurable, non-writable, or non-enumerable.");
        }
      };
    }
  });

  // node_modules/has-property-descriptors/index.js
  var require_has_property_descriptors = __commonJS({
    "node_modules/has-property-descriptors/index.js"(exports, module) {
      "use strict";
      init_process_shim();
      init_buffer_shim();
      var $defineProperty = require_es_define_property();
      var hasPropertyDescriptors = function hasPropertyDescriptors2() {
        return !!$defineProperty;
      };
      hasPropertyDescriptors.hasArrayLengthDefineBug = function hasArrayLengthDefineBug() {
        if (!$defineProperty) {
          return null;
        }
        try {
          return $defineProperty([], "length", { value: 1 }).length !== 1;
        } catch (e) {
          return true;
        }
      };
      module.exports = hasPropertyDescriptors;
    }
  });

  // node_modules/set-function-length/index.js
  var require_set_function_length = __commonJS({
    "node_modules/set-function-length/index.js"(exports, module) {
      "use strict";
      init_process_shim();
      init_buffer_shim();
      var GetIntrinsic = require_get_intrinsic();
      var define = require_define_data_property();
      var hasDescriptors = require_has_property_descriptors()();
      var gOPD = require_gopd();
      var $TypeError = require_type();
      var $floor = GetIntrinsic("%Math.floor%");
      module.exports = function setFunctionLength(fn, length) {
        if (typeof fn !== "function") {
          throw new $TypeError("`fn` is not a function");
        }
        if (typeof length !== "number" || length < 0 || length > 4294967295 || $floor(length) !== length) {
          throw new $TypeError("`length` must be a positive 32-bit integer");
        }
        var loose = arguments.length > 2 && !!arguments[2];
        var functionLengthIsConfigurable = true;
        var functionLengthIsWritable = true;
        if ("length" in fn && gOPD) {
          var desc = gOPD(fn, "length");
          if (desc && !desc.configurable) {
            functionLengthIsConfigurable = false;
          }
          if (desc && !desc.writable) {
            functionLengthIsWritable = false;
          }
        }
        if (functionLengthIsConfigurable || functionLengthIsWritable || !loose) {
          if (hasDescriptors) {
            define(
              /** @type {Parameters<define>[0]} */
              fn,
              "length",
              length,
              true,
              true
            );
          } else {
            define(
              /** @type {Parameters<define>[0]} */
              fn,
              "length",
              length
            );
          }
        }
        return fn;
      };
    }
  });

  // node_modules/call-bind-apply-helpers/applyBind.js
  var require_applyBind = __commonJS({
    "node_modules/call-bind-apply-helpers/applyBind.js"(exports, module) {
      "use strict";
      init_process_shim();
      init_buffer_shim();
      var bind = require_function_bind();
      var $apply = require_functionApply();
      var actualApply = require_actualApply();
      module.exports = function applyBind() {
        return actualApply(bind, $apply, arguments);
      };
    }
  });

  // node_modules/call-bind/index.js
  var require_call_bind = __commonJS({
    "node_modules/call-bind/index.js"(exports, module) {
      "use strict";
      init_process_shim();
      init_buffer_shim();
      var setFunctionLength = require_set_function_length();
      var $defineProperty = require_es_define_property();
      var callBindBasic = require_call_bind_apply_helpers();
      var applyBind = require_applyBind();
      module.exports = function callBind(originalFunction) {
        var func = callBindBasic(arguments);
        var adjustedLength = originalFunction.length - (arguments.length - 1);
        return setFunctionLength(
          func,
          1 + (adjustedLength > 0 ? adjustedLength : 0),
          true
        );
      };
      if ($defineProperty) {
        $defineProperty(module.exports, "apply", { value: applyBind });
      } else {
        module.exports.apply = applyBind;
      }
    }
  });

  // node_modules/which-typed-array/index.js
  var require_which_typed_array = __commonJS({
    "node_modules/which-typed-array/index.js"(exports, module) {
      "use strict";
      init_process_shim();
      init_buffer_shim();
      var forEach = require_for_each();
      var availableTypedArrays = require_available_typed_arrays();
      var callBind = require_call_bind();
      var callBound = require_call_bound();
      var gOPD = require_gopd();
      var getProto = require_get_proto();
      var $toString = callBound("Object.prototype.toString");
      var hasToStringTag = require_shams2()();
      var g = typeof globalThis === "undefined" ? self : globalThis;
      var typedArrays = availableTypedArrays();
      var $slice = callBound("String.prototype.slice");
      var $indexOf = callBound("Array.prototype.indexOf", true) || function indexOf(array, value) {
        for (var i = 0; i < array.length; i += 1) {
          if (array[i] === value) {
            return i;
          }
        }
        return -1;
      };
      var cache = { __proto__: null };
      if (hasToStringTag && gOPD && getProto) {
        forEach(typedArrays, function(typedArray) {
          var arr = new g[typedArray]();
          if (Symbol.toStringTag in arr && getProto) {
            var proto = getProto(arr);
            var descriptor = gOPD(proto, Symbol.toStringTag);
            if (!descriptor && proto) {
              var superProto = getProto(proto);
              descriptor = gOPD(superProto, Symbol.toStringTag);
            }
            cache["$" + typedArray] = callBind(descriptor.get);
          }
        });
      } else {
        forEach(typedArrays, function(typedArray) {
          var arr = new g[typedArray]();
          var fn = arr.slice || arr.set;
          if (fn) {
            cache[
              /** @type {`$${import('.').TypedArrayName}`} */
              "$" + typedArray
            ] = /** @type {import('./types').BoundSlice | import('./types').BoundSet} */
            // @ts-expect-error TODO FIXME
            callBind(fn);
          }
        });
      }
      var tryTypedArrays = function tryAllTypedArrays(value) {
        var found = false;
        forEach(
          /** @type {Record<`\$${import('.').TypedArrayName}`, Getter>} */
          cache,
          /** @type {(getter: Getter, name: `\$${import('.').TypedArrayName}`) => void} */
          function(getter, typedArray) {
            if (!found) {
              try {
                if ("$" + getter(value) === typedArray) {
                  found = /** @type {import('.').TypedArrayName} */
                  $slice(typedArray, 1);
                }
              } catch (e) {
              }
            }
          }
        );
        return found;
      };
      var trySlices = function tryAllSlices(value) {
        var found = false;
        forEach(
          /** @type {Record<`\$${import('.').TypedArrayName}`, Getter>} */
          cache,
          /** @type {(getter: Getter, name: `\$${import('.').TypedArrayName}`) => void} */
          function(getter, name) {
            if (!found) {
              try {
                getter(value);
                found = /** @type {import('.').TypedArrayName} */
                $slice(name, 1);
              } catch (e) {
              }
            }
          }
        );
        return found;
      };
      module.exports = function whichTypedArray(value) {
        if (!value || typeof value !== "object") {
          return false;
        }
        if (!hasToStringTag) {
          var tag = $slice($toString(value), 8, -1);
          if ($indexOf(typedArrays, tag) > -1) {
            return tag;
          }
          if (tag !== "Object") {
            return false;
          }
          return trySlices(value);
        }
        if (!gOPD) {
          return null;
        }
        return tryTypedArrays(value);
      };
    }
  });

  // node_modules/is-typed-array/index.js
  var require_is_typed_array = __commonJS({
    "node_modules/is-typed-array/index.js"(exports, module) {
      "use strict";
      init_process_shim();
      init_buffer_shim();
      var whichTypedArray = require_which_typed_array();
      module.exports = function isTypedArray(value) {
        return !!whichTypedArray(value);
      };
    }
  });

  // node_modules/util/support/types.js
  var require_types = __commonJS({
    "node_modules/util/support/types.js"(exports) {
      "use strict";
      init_process_shim();
      init_buffer_shim();
      var isArgumentsObject = require_is_arguments();
      var isGeneratorFunction = require_is_generator_function();
      var whichTypedArray = require_which_typed_array();
      var isTypedArray = require_is_typed_array();
      function uncurryThis(f) {
        return f.call.bind(f);
      }
      var BigIntSupported = typeof BigInt !== "undefined";
      var SymbolSupported = typeof Symbol !== "undefined";
      var ObjectToString = uncurryThis(Object.prototype.toString);
      var numberValue = uncurryThis(Number.prototype.valueOf);
      var stringValue = uncurryThis(String.prototype.valueOf);
      var booleanValue = uncurryThis(Boolean.prototype.valueOf);
      if (BigIntSupported) {
        bigIntValue = uncurryThis(BigInt.prototype.valueOf);
      }
      var bigIntValue;
      if (SymbolSupported) {
        symbolValue = uncurryThis(Symbol.prototype.valueOf);
      }
      var symbolValue;
      function checkBoxedPrimitive(value, prototypeValueOf) {
        if (typeof value !== "object") {
          return false;
        }
        try {
          prototypeValueOf(value);
          return true;
        } catch (e) {
          return false;
        }
      }
      exports.isArgumentsObject = isArgumentsObject;
      exports.isGeneratorFunction = isGeneratorFunction;
      exports.isTypedArray = isTypedArray;
      function isPromise(input) {
        return typeof Promise !== "undefined" && input instanceof Promise || input !== null && typeof input === "object" && typeof input.then === "function" && typeof input.catch === "function";
      }
      exports.isPromise = isPromise;
      function isArrayBufferView(value) {
        if (typeof ArrayBuffer !== "undefined" && ArrayBuffer.isView) {
          return ArrayBuffer.isView(value);
        }
        return isTypedArray(value) || isDataView(value);
      }
      exports.isArrayBufferView = isArrayBufferView;
      function isUint8Array(value) {
        return whichTypedArray(value) === "Uint8Array";
      }
      exports.isUint8Array = isUint8Array;
      function isUint8ClampedArray(value) {
        return whichTypedArray(value) === "Uint8ClampedArray";
      }
      exports.isUint8ClampedArray = isUint8ClampedArray;
      function isUint16Array(value) {
        return whichTypedArray(value) === "Uint16Array";
      }
      exports.isUint16Array = isUint16Array;
      function isUint32Array(value) {
        return whichTypedArray(value) === "Uint32Array";
      }
      exports.isUint32Array = isUint32Array;
      function isInt8Array(value) {
        return whichTypedArray(value) === "Int8Array";
      }
      exports.isInt8Array = isInt8Array;
      function isInt16Array(value) {
        return whichTypedArray(value) === "Int16Array";
      }
      exports.isInt16Array = isInt16Array;
      function isInt32Array(value) {
        return whichTypedArray(value) === "Int32Array";
      }
      exports.isInt32Array = isInt32Array;
      function isFloat32Array(value) {
        return whichTypedArray(value) === "Float32Array";
      }
      exports.isFloat32Array = isFloat32Array;
      function isFloat64Array(value) {
        return whichTypedArray(value) === "Float64Array";
      }
      exports.isFloat64Array = isFloat64Array;
      function isBigInt64Array(value) {
        return whichTypedArray(value) === "BigInt64Array";
      }
      exports.isBigInt64Array = isBigInt64Array;
      function isBigUint64Array(value) {
        return whichTypedArray(value) === "BigUint64Array";
      }
      exports.isBigUint64Array = isBigUint64Array;
      function isMapToString(value) {
        return ObjectToString(value) === "[object Map]";
      }
      isMapToString.working = typeof Map !== "undefined" && isMapToString(/* @__PURE__ */ new Map());
      function isMap(value) {
        if (typeof Map === "undefined") {
          return false;
        }
        return isMapToString.working ? isMapToString(value) : value instanceof Map;
      }
      exports.isMap = isMap;
      function isSetToString(value) {
        return ObjectToString(value) === "[object Set]";
      }
      isSetToString.working = typeof Set !== "undefined" && isSetToString(/* @__PURE__ */ new Set());
      function isSet(value) {
        if (typeof Set === "undefined") {
          return false;
        }
        return isSetToString.working ? isSetToString(value) : value instanceof Set;
      }
      exports.isSet = isSet;
      function isWeakMapToString(value) {
        return ObjectToString(value) === "[object WeakMap]";
      }
      isWeakMapToString.working = typeof WeakMap !== "undefined" && isWeakMapToString(/* @__PURE__ */ new WeakMap());
      function isWeakMap(value) {
        if (typeof WeakMap === "undefined") {
          return false;
        }
        return isWeakMapToString.working ? isWeakMapToString(value) : value instanceof WeakMap;
      }
      exports.isWeakMap = isWeakMap;
      function isWeakSetToString(value) {
        return ObjectToString(value) === "[object WeakSet]";
      }
      isWeakSetToString.working = typeof WeakSet !== "undefined" && isWeakSetToString(/* @__PURE__ */ new WeakSet());
      function isWeakSet(value) {
        return isWeakSetToString(value);
      }
      exports.isWeakSet = isWeakSet;
      function isArrayBufferToString(value) {
        return ObjectToString(value) === "[object ArrayBuffer]";
      }
      isArrayBufferToString.working = typeof ArrayBuffer !== "undefined" && isArrayBufferToString(new ArrayBuffer());
      function isArrayBuffer(value) {
        if (typeof ArrayBuffer === "undefined") {
          return false;
        }
        return isArrayBufferToString.working ? isArrayBufferToString(value) : value instanceof ArrayBuffer;
      }
      exports.isArrayBuffer = isArrayBuffer;
      function isDataViewToString(value) {
        return ObjectToString(value) === "[object DataView]";
      }
      isDataViewToString.working = typeof ArrayBuffer !== "undefined" && typeof DataView !== "undefined" && isDataViewToString(new DataView(new ArrayBuffer(1), 0, 1));
      function isDataView(value) {
        if (typeof DataView === "undefined") {
          return false;
        }
        return isDataViewToString.working ? isDataViewToString(value) : value instanceof DataView;
      }
      exports.isDataView = isDataView;
      var SharedArrayBufferCopy = typeof SharedArrayBuffer !== "undefined" ? SharedArrayBuffer : void 0;
      function isSharedArrayBufferToString(value) {
        return ObjectToString(value) === "[object SharedArrayBuffer]";
      }
      function isSharedArrayBuffer(value) {
        if (typeof SharedArrayBufferCopy === "undefined") {
          return false;
        }
        if (typeof isSharedArrayBufferToString.working === "undefined") {
          isSharedArrayBufferToString.working = isSharedArrayBufferToString(new SharedArrayBufferCopy());
        }
        return isSharedArrayBufferToString.working ? isSharedArrayBufferToString(value) : value instanceof SharedArrayBufferCopy;
      }
      exports.isSharedArrayBuffer = isSharedArrayBuffer;
      function isAsyncFunction(value) {
        return ObjectToString(value) === "[object AsyncFunction]";
      }
      exports.isAsyncFunction = isAsyncFunction;
      function isMapIterator(value) {
        return ObjectToString(value) === "[object Map Iterator]";
      }
      exports.isMapIterator = isMapIterator;
      function isSetIterator(value) {
        return ObjectToString(value) === "[object Set Iterator]";
      }
      exports.isSetIterator = isSetIterator;
      function isGeneratorObject(value) {
        return ObjectToString(value) === "[object Generator]";
      }
      exports.isGeneratorObject = isGeneratorObject;
      function isWebAssemblyCompiledModule(value) {
        return ObjectToString(value) === "[object WebAssembly.Module]";
      }
      exports.isWebAssemblyCompiledModule = isWebAssemblyCompiledModule;
      function isNumberObject(value) {
        return checkBoxedPrimitive(value, numberValue);
      }
      exports.isNumberObject = isNumberObject;
      function isStringObject(value) {
        return checkBoxedPrimitive(value, stringValue);
      }
      exports.isStringObject = isStringObject;
      function isBooleanObject(value) {
        return checkBoxedPrimitive(value, booleanValue);
      }
      exports.isBooleanObject = isBooleanObject;
      function isBigIntObject(value) {
        return BigIntSupported && checkBoxedPrimitive(value, bigIntValue);
      }
      exports.isBigIntObject = isBigIntObject;
      function isSymbolObject(value) {
        return SymbolSupported && checkBoxedPrimitive(value, symbolValue);
      }
      exports.isSymbolObject = isSymbolObject;
      function isBoxedPrimitive(value) {
        return isNumberObject(value) || isStringObject(value) || isBooleanObject(value) || isBigIntObject(value) || isSymbolObject(value);
      }
      exports.isBoxedPrimitive = isBoxedPrimitive;
      function isAnyArrayBuffer(value) {
        return typeof Uint8Array !== "undefined" && (isArrayBuffer(value) || isSharedArrayBuffer(value));
      }
      exports.isAnyArrayBuffer = isAnyArrayBuffer;
      ["isProxy", "isExternal", "isModuleNamespaceObject"].forEach(function(method) {
        Object.defineProperty(exports, method, {
          enumerable: false,
          value: function() {
            throw new Error(method + " is not supported in userland");
          }
        });
      });
    }
  });

  // node_modules/util/support/isBufferBrowser.js
  var require_isBufferBrowser = __commonJS({
    "node_modules/util/support/isBufferBrowser.js"(exports, module) {
      init_process_shim();
      init_buffer_shim();
      module.exports = function isBuffer(arg) {
        return arg && typeof arg === "object" && typeof arg.copy === "function" && typeof arg.fill === "function" && typeof arg.readUInt8 === "function";
      };
    }
  });

  // node_modules/inherits/inherits_browser.js
  var require_inherits_browser = __commonJS({
    "node_modules/inherits/inherits_browser.js"(exports, module) {
      init_process_shim();
      init_buffer_shim();
      if (typeof Object.create === "function") {
        module.exports = function inherits(ctor, superCtor) {
          if (superCtor) {
            ctor.super_ = superCtor;
            ctor.prototype = Object.create(superCtor.prototype, {
              constructor: {
                value: ctor,
                enumerable: false,
                writable: true,
                configurable: true
              }
            });
          }
        };
      } else {
        module.exports = function inherits(ctor, superCtor) {
          if (superCtor) {
            ctor.super_ = superCtor;
            var TempCtor = function() {
            };
            TempCtor.prototype = superCtor.prototype;
            ctor.prototype = new TempCtor();
            ctor.prototype.constructor = ctor;
          }
        };
      }
    }
  });

  // node_modules/util/util.js
  var require_util = __commonJS({
    "node_modules/util/util.js"(exports) {
      init_process_shim();
      init_buffer_shim();
      var getOwnPropertyDescriptors = Object.getOwnPropertyDescriptors || function getOwnPropertyDescriptors2(obj) {
        var keys = Object.keys(obj);
        var descriptors = {};
        for (var i = 0; i < keys.length; i++) {
          descriptors[keys[i]] = Object.getOwnPropertyDescriptor(obj, keys[i]);
        }
        return descriptors;
      };
      var formatRegExp = /%[sdj%]/g;
      exports.format = function(f) {
        if (!isString(f)) {
          var objects = [];
          for (var i = 0; i < arguments.length; i++) {
            objects.push(inspect(arguments[i]));
          }
          return objects.join(" ");
        }
        var i = 1;
        var args = arguments;
        var len = args.length;
        var str = String(f).replace(formatRegExp, function(x2) {
          if (x2 === "%%")
            return "%";
          if (i >= len)
            return x2;
          switch (x2) {
            case "%s":
              return String(args[i++]);
            case "%d":
              return Number(args[i++]);
            case "%j":
              try {
                return JSON.stringify(args[i++]);
              } catch (_) {
                return "[Circular]";
              }
            default:
              return x2;
          }
        });
        for (var x = args[i]; i < len; x = args[++i]) {
          if (isNull(x) || !isObject(x)) {
            str += " " + x;
          } else {
            str += " " + inspect(x);
          }
        }
        return str;
      };
      exports.deprecate = function(fn, msg) {
        if (typeof process !== "undefined" && process.noDeprecation === true) {
          return fn;
        }
        if (typeof process === "undefined") {
          return function() {
            return exports.deprecate(fn, msg).apply(this, arguments);
          };
        }
        var warned = false;
        function deprecated() {
          if (!warned) {
            if (process.throwDeprecation) {
              throw new Error(msg);
            } else if (process.traceDeprecation) {
              console.trace(msg);
            } else {
              console.error(msg);
            }
            warned = true;
          }
          return fn.apply(this, arguments);
        }
        return deprecated;
      };
      var debugs = {};
      var debugEnvRegex = /^$/;
      if (process.env.NODE_DEBUG) {
        debugEnv = process.env.NODE_DEBUG;
        debugEnv = debugEnv.replace(/[|\\{}()[\]^$+?.]/g, "\\$&").replace(/\*/g, ".*").replace(/,/g, "$|^").toUpperCase();
        debugEnvRegex = new RegExp("^" + debugEnv + "$", "i");
      }
      var debugEnv;
      exports.debuglog = function(set) {
        set = set.toUpperCase();
        if (!debugs[set]) {
          if (debugEnvRegex.test(set)) {
            var pid = process.pid;
            debugs[set] = function() {
              var msg = exports.format.apply(exports, arguments);
              console.error("%s %d: %s", set, pid, msg);
            };
          } else {
            debugs[set] = function() {
            };
          }
        }
        return debugs[set];
      };
      function inspect(obj, opts) {
        var ctx = {
          seen: [],
          stylize: stylizeNoColor
        };
        if (arguments.length >= 3)
          ctx.depth = arguments[2];
        if (arguments.length >= 4)
          ctx.colors = arguments[3];
        if (isBoolean(opts)) {
          ctx.showHidden = opts;
        } else if (opts) {
          exports._extend(ctx, opts);
        }
        if (isUndefined(ctx.showHidden))
          ctx.showHidden = false;
        if (isUndefined(ctx.depth))
          ctx.depth = 2;
        if (isUndefined(ctx.colors))
          ctx.colors = false;
        if (isUndefined(ctx.customInspect))
          ctx.customInspect = true;
        if (ctx.colors)
          ctx.stylize = stylizeWithColor;
        return formatValue(ctx, obj, ctx.depth);
      }
      exports.inspect = inspect;
      inspect.colors = {
        "bold": [1, 22],
        "italic": [3, 23],
        "underline": [4, 24],
        "inverse": [7, 27],
        "white": [37, 39],
        "grey": [90, 39],
        "black": [30, 39],
        "blue": [34, 39],
        "cyan": [36, 39],
        "green": [32, 39],
        "magenta": [35, 39],
        "red": [31, 39],
        "yellow": [33, 39]
      };
      inspect.styles = {
        "special": "cyan",
        "number": "yellow",
        "boolean": "yellow",
        "undefined": "grey",
        "null": "bold",
        "string": "green",
        "date": "magenta",
        // "name": intentionally not styling
        "regexp": "red"
      };
      function stylizeWithColor(str, styleType) {
        var style = inspect.styles[styleType];
        if (style) {
          return "\x1B[" + inspect.colors[style][0] + "m" + str + "\x1B[" + inspect.colors[style][1] + "m";
        } else {
          return str;
        }
      }
      function stylizeNoColor(str, styleType) {
        return str;
      }
      function arrayToHash(array) {
        var hash = {};
        array.forEach(function(val, idx) {
          hash[val] = true;
        });
        return hash;
      }
      function formatValue(ctx, value, recurseTimes) {
        if (ctx.customInspect && value && isFunction(value.inspect) && // Filter out the util module, it's inspect function is special
        value.inspect !== exports.inspect && // Also filter out any prototype objects using the circular check.
        !(value.constructor && value.constructor.prototype === value)) {
          var ret = value.inspect(recurseTimes, ctx);
          if (!isString(ret)) {
            ret = formatValue(ctx, ret, recurseTimes);
          }
          return ret;
        }
        var primitive = formatPrimitive(ctx, value);
        if (primitive) {
          return primitive;
        }
        var keys = Object.keys(value);
        var visibleKeys = arrayToHash(keys);
        if (ctx.showHidden) {
          keys = Object.getOwnPropertyNames(value);
        }
        if (isError(value) && (keys.indexOf("message") >= 0 || keys.indexOf("description") >= 0)) {
          return formatError(value);
        }
        if (keys.length === 0) {
          if (isFunction(value)) {
            var name = value.name ? ": " + value.name : "";
            return ctx.stylize("[Function" + name + "]", "special");
          }
          if (isRegExp(value)) {
            return ctx.stylize(RegExp.prototype.toString.call(value), "regexp");
          }
          if (isDate(value)) {
            return ctx.stylize(Date.prototype.toString.call(value), "date");
          }
          if (isError(value)) {
            return formatError(value);
          }
        }
        var base = "", array = false, braces = ["{", "}"];
        if (isArray(value)) {
          array = true;
          braces = ["[", "]"];
        }
        if (isFunction(value)) {
          var n = value.name ? ": " + value.name : "";
          base = " [Function" + n + "]";
        }
        if (isRegExp(value)) {
          base = " " + RegExp.prototype.toString.call(value);
        }
        if (isDate(value)) {
          base = " " + Date.prototype.toUTCString.call(value);
        }
        if (isError(value)) {
          base = " " + formatError(value);
        }
        if (keys.length === 0 && (!array || value.length == 0)) {
          return braces[0] + base + braces[1];
        }
        if (recurseTimes < 0) {
          if (isRegExp(value)) {
            return ctx.stylize(RegExp.prototype.toString.call(value), "regexp");
          } else {
            return ctx.stylize("[Object]", "special");
          }
        }
        ctx.seen.push(value);
        var output;
        if (array) {
          output = formatArray(ctx, value, recurseTimes, visibleKeys, keys);
        } else {
          output = keys.map(function(key) {
            return formatProperty(ctx, value, recurseTimes, visibleKeys, key, array);
          });
        }
        ctx.seen.pop();
        return reduceToSingleString(output, base, braces);
      }
      function formatPrimitive(ctx, value) {
        if (isUndefined(value))
          return ctx.stylize("undefined", "undefined");
        if (isString(value)) {
          var simple = "'" + JSON.stringify(value).replace(/^"|"$/g, "").replace(/'/g, "\\'").replace(/\\"/g, '"') + "'";
          return ctx.stylize(simple, "string");
        }
        if (isNumber(value))
          return ctx.stylize("" + value, "number");
        if (isBoolean(value))
          return ctx.stylize("" + value, "boolean");
        if (isNull(value))
          return ctx.stylize("null", "null");
      }
      function formatError(value) {
        return "[" + Error.prototype.toString.call(value) + "]";
      }
      function formatArray(ctx, value, recurseTimes, visibleKeys, keys) {
        var output = [];
        for (var i = 0, l = value.length; i < l; ++i) {
          if (hasOwnProperty(value, String(i))) {
            output.push(formatProperty(
              ctx,
              value,
              recurseTimes,
              visibleKeys,
              String(i),
              true
            ));
          } else {
            output.push("");
          }
        }
        keys.forEach(function(key) {
          if (!key.match(/^\d+$/)) {
            output.push(formatProperty(
              ctx,
              value,
              recurseTimes,
              visibleKeys,
              key,
              true
            ));
          }
        });
        return output;
      }
      function formatProperty(ctx, value, recurseTimes, visibleKeys, key, array) {
        var name, str, desc;
        desc = Object.getOwnPropertyDescriptor(value, key) || { value: value[key] };
        if (desc.get) {
          if (desc.set) {
            str = ctx.stylize("[Getter/Setter]", "special");
          } else {
            str = ctx.stylize("[Getter]", "special");
          }
        } else {
          if (desc.set) {
            str = ctx.stylize("[Setter]", "special");
          }
        }
        if (!hasOwnProperty(visibleKeys, key)) {
          name = "[" + key + "]";
        }
        if (!str) {
          if (ctx.seen.indexOf(desc.value) < 0) {
            if (isNull(recurseTimes)) {
              str = formatValue(ctx, desc.value, null);
            } else {
              str = formatValue(ctx, desc.value, recurseTimes - 1);
            }
            if (str.indexOf("\n") > -1) {
              if (array) {
                str = str.split("\n").map(function(line) {
                  return "  " + line;
                }).join("\n").slice(2);
              } else {
                str = "\n" + str.split("\n").map(function(line) {
                  return "   " + line;
                }).join("\n");
              }
            }
          } else {
            str = ctx.stylize("[Circular]", "special");
          }
        }
        if (isUndefined(name)) {
          if (array && key.match(/^\d+$/)) {
            return str;
          }
          name = JSON.stringify("" + key);
          if (name.match(/^"([a-zA-Z_][a-zA-Z_0-9]*)"$/)) {
            name = name.slice(1, -1);
            name = ctx.stylize(name, "name");
          } else {
            name = name.replace(/'/g, "\\'").replace(/\\"/g, '"').replace(/(^"|"$)/g, "'");
            name = ctx.stylize(name, "string");
          }
        }
        return name + ": " + str;
      }
      function reduceToSingleString(output, base, braces) {
        var numLinesEst = 0;
        var length = output.reduce(function(prev, cur) {
          numLinesEst++;
          if (cur.indexOf("\n") >= 0)
            numLinesEst++;
          return prev + cur.replace(/\u001b\[\d\d?m/g, "").length + 1;
        }, 0);
        if (length > 60) {
          return braces[0] + (base === "" ? "" : base + "\n ") + " " + output.join(",\n  ") + " " + braces[1];
        }
        return braces[0] + base + " " + output.join(", ") + " " + braces[1];
      }
      exports.types = require_types();
      function isArray(ar) {
        return Array.isArray(ar);
      }
      exports.isArray = isArray;
      function isBoolean(arg) {
        return typeof arg === "boolean";
      }
      exports.isBoolean = isBoolean;
      function isNull(arg) {
        return arg === null;
      }
      exports.isNull = isNull;
      function isNullOrUndefined(arg) {
        return arg == null;
      }
      exports.isNullOrUndefined = isNullOrUndefined;
      function isNumber(arg) {
        return typeof arg === "number";
      }
      exports.isNumber = isNumber;
      function isString(arg) {
        return typeof arg === "string";
      }
      exports.isString = isString;
      function isSymbol(arg) {
        return typeof arg === "symbol";
      }
      exports.isSymbol = isSymbol;
      function isUndefined(arg) {
        return arg === void 0;
      }
      exports.isUndefined = isUndefined;
      function isRegExp(re) {
        return isObject(re) && objectToString(re) === "[object RegExp]";
      }
      exports.isRegExp = isRegExp;
      exports.types.isRegExp = isRegExp;
      function isObject(arg) {
        return typeof arg === "object" && arg !== null;
      }
      exports.isObject = isObject;
      function isDate(d) {
        return isObject(d) && objectToString(d) === "[object Date]";
      }
      exports.isDate = isDate;
      exports.types.isDate = isDate;
      function isError(e) {
        return isObject(e) && (objectToString(e) === "[object Error]" || e instanceof Error);
      }
      exports.isError = isError;
      exports.types.isNativeError = isError;
      function isFunction(arg) {
        return typeof arg === "function";
      }
      exports.isFunction = isFunction;
      function isPrimitive(arg) {
        return arg === null || typeof arg === "boolean" || typeof arg === "number" || typeof arg === "string" || typeof arg === "symbol" || // ES6 symbol
        typeof arg === "undefined";
      }
      exports.isPrimitive = isPrimitive;
      exports.isBuffer = require_isBufferBrowser();
      function objectToString(o) {
        return Object.prototype.toString.call(o);
      }
      function pad(n) {
        return n < 10 ? "0" + n.toString(10) : n.toString(10);
      }
      var months = [
        "Jan",
        "Feb",
        "Mar",
        "Apr",
        "May",
        "Jun",
        "Jul",
        "Aug",
        "Sep",
        "Oct",
        "Nov",
        "Dec"
      ];
      function timestamp() {
        var d = new Date();
        var time = [
          pad(d.getHours()),
          pad(d.getMinutes()),
          pad(d.getSeconds())
        ].join(":");
        return [d.getDate(), months[d.getMonth()], time].join(" ");
      }
      exports.log = function() {
        console.log("%s - %s", timestamp(), exports.format.apply(exports, arguments));
      };
      exports.inherits = require_inherits_browser();
      exports._extend = function(origin, add) {
        if (!add || !isObject(add))
          return origin;
        var keys = Object.keys(add);
        var i = keys.length;
        while (i--) {
          origin[keys[i]] = add[keys[i]];
        }
        return origin;
      };
      function hasOwnProperty(obj, prop) {
        return Object.prototype.hasOwnProperty.call(obj, prop);
      }
      var kCustomPromisifiedSymbol = typeof Symbol !== "undefined" ? Symbol("util.promisify.custom") : void 0;
      exports.promisify = function promisify(original) {
        if (typeof original !== "function")
          throw new TypeError('The "original" argument must be of type Function');
        if (kCustomPromisifiedSymbol && original[kCustomPromisifiedSymbol]) {
          var fn = original[kCustomPromisifiedSymbol];
          if (typeof fn !== "function") {
            throw new TypeError('The "util.promisify.custom" argument must be of type Function');
          }
          Object.defineProperty(fn, kCustomPromisifiedSymbol, {
            value: fn,
            enumerable: false,
            writable: false,
            configurable: true
          });
          return fn;
        }
        function fn() {
          var promiseResolve, promiseReject;
          var promise = new Promise(function(resolve, reject) {
            promiseResolve = resolve;
            promiseReject = reject;
          });
          var args = [];
          for (var i = 0; i < arguments.length; i++) {
            args.push(arguments[i]);
          }
          args.push(function(err2, value) {
            if (err2) {
              promiseReject(err2);
            } else {
              promiseResolve(value);
            }
          });
          try {
            original.apply(this, args);
          } catch (err2) {
            promiseReject(err2);
          }
          return promise;
        }
        Object.setPrototypeOf(fn, Object.getPrototypeOf(original));
        if (kCustomPromisifiedSymbol)
          Object.defineProperty(fn, kCustomPromisifiedSymbol, {
            value: fn,
            enumerable: false,
            writable: false,
            configurable: true
          });
        return Object.defineProperties(
          fn,
          getOwnPropertyDescriptors(original)
        );
      };
      exports.promisify.custom = kCustomPromisifiedSymbol;
      function callbackifyOnRejected(reason, cb) {
        if (!reason) {
          var newReason = new Error("Promise was rejected with a falsy value");
          newReason.reason = reason;
          reason = newReason;
        }
        return cb(reason);
      }
      function callbackify(original) {
        if (typeof original !== "function") {
          throw new TypeError('The "original" argument must be of type Function');
        }
        function callbackified() {
          var args = [];
          for (var i = 0; i < arguments.length; i++) {
            args.push(arguments[i]);
          }
          var maybeCb = args.pop();
          if (typeof maybeCb !== "function") {
            throw new TypeError("The last argument must be of type Function");
          }
          var self2 = this;
          var cb = function() {
            return maybeCb.apply(self2, arguments);
          };
          original.apply(this, args).then(
            function(ret) {
              process.nextTick(cb.bind(null, null, ret));
            },
            function(rej) {
              process.nextTick(callbackifyOnRejected.bind(null, rej, cb));
            }
          );
        }
        Object.setPrototypeOf(callbackified, Object.getPrototypeOf(original));
        Object.defineProperties(
          callbackified,
          getOwnPropertyDescriptors(original)
        );
        return callbackified;
      }
      exports.callbackify = callbackify;
    }
  });

  // node_modules/assert/build/internal/errors.js
  var require_errors = __commonJS({
    "node_modules/assert/build/internal/errors.js"(exports, module) {
      "use strict";
      init_process_shim();
      init_buffer_shim();
      function _typeof(o) {
        "@babel/helpers - typeof";
        return _typeof = "function" == typeof Symbol && "symbol" == typeof Symbol.iterator ? function(o2) {
          return typeof o2;
        } : function(o2) {
          return o2 && "function" == typeof Symbol && o2.constructor === Symbol && o2 !== Symbol.prototype ? "symbol" : typeof o2;
        }, _typeof(o);
      }
      function _defineProperties(target, props) {
        for (var i = 0; i < props.length; i++) {
          var descriptor = props[i];
          descriptor.enumerable = descriptor.enumerable || false;
          descriptor.configurable = true;
          if ("value" in descriptor)
            descriptor.writable = true;
          Object.defineProperty(target, _toPropertyKey(descriptor.key), descriptor);
        }
      }
      function _createClass(Constructor, protoProps, staticProps) {
        if (protoProps)
          _defineProperties(Constructor.prototype, protoProps);
        if (staticProps)
          _defineProperties(Constructor, staticProps);
        Object.defineProperty(Constructor, "prototype", { writable: false });
        return Constructor;
      }
      function _toPropertyKey(arg) {
        var key = _toPrimitive(arg, "string");
        return _typeof(key) === "symbol" ? key : String(key);
      }
      function _toPrimitive(input, hint) {
        if (_typeof(input) !== "object" || input === null)
          return input;
        var prim = input[Symbol.toPrimitive];
        if (prim !== void 0) {
          var res = prim.call(input, hint || "default");
          if (_typeof(res) !== "object")
            return res;
          throw new TypeError("@@toPrimitive must return a primitive value.");
        }
        return (hint === "string" ? String : Number)(input);
      }
      function _classCallCheck(instance, Constructor) {
        if (!(instance instanceof Constructor)) {
          throw new TypeError("Cannot call a class as a function");
        }
      }
      function _inherits(subClass, superClass) {
        if (typeof superClass !== "function" && superClass !== null) {
          throw new TypeError("Super expression must either be null or a function");
        }
        subClass.prototype = Object.create(superClass && superClass.prototype, { constructor: { value: subClass, writable: true, configurable: true } });
        Object.defineProperty(subClass, "prototype", { writable: false });
        if (superClass)
          _setPrototypeOf(subClass, superClass);
      }
      function _setPrototypeOf(o, p) {
        _setPrototypeOf = Object.setPrototypeOf ? Object.setPrototypeOf.bind() : function _setPrototypeOf2(o2, p2) {
          o2.__proto__ = p2;
          return o2;
        };
        return _setPrototypeOf(o, p);
      }
      function _createSuper(Derived) {
        var hasNativeReflectConstruct = _isNativeReflectConstruct();
        return function _createSuperInternal() {
          var Super = _getPrototypeOf(Derived), result;
          if (hasNativeReflectConstruct) {
            var NewTarget = _getPrototypeOf(this).constructor;
            result = Reflect.construct(Super, arguments, NewTarget);
          } else {
            result = Super.apply(this, arguments);
          }
          return _possibleConstructorReturn(this, result);
        };
      }
      function _possibleConstructorReturn(self2, call) {
        if (call && (_typeof(call) === "object" || typeof call === "function")) {
          return call;
        } else if (call !== void 0) {
          throw new TypeError("Derived constructors may only return object or undefined");
        }
        return _assertThisInitialized(self2);
      }
      function _assertThisInitialized(self2) {
        if (self2 === void 0) {
          throw new ReferenceError("this hasn't been initialised - super() hasn't been called");
        }
        return self2;
      }
      function _isNativeReflectConstruct() {
        if (typeof Reflect === "undefined" || !Reflect.construct)
          return false;
        if (Reflect.construct.sham)
          return false;
        if (typeof Proxy === "function")
          return true;
        try {
          Boolean.prototype.valueOf.call(Reflect.construct(Boolean, [], function() {
          }));
          return true;
        } catch (e) {
          return false;
        }
      }
      function _getPrototypeOf(o) {
        _getPrototypeOf = Object.setPrototypeOf ? Object.getPrototypeOf.bind() : function _getPrototypeOf2(o2) {
          return o2.__proto__ || Object.getPrototypeOf(o2);
        };
        return _getPrototypeOf(o);
      }
      var codes = {};
      var assert4;
      var util;
      function createErrorType(code, message, Base) {
        if (!Base) {
          Base = Error;
        }
        function getMessage(arg1, arg2, arg3) {
          if (typeof message === "string") {
            return message;
          } else {
            return message(arg1, arg2, arg3);
          }
        }
        var NodeError = /* @__PURE__ */ function(_Base) {
          _inherits(NodeError2, _Base);
          var _super = _createSuper(NodeError2);
          function NodeError2(arg1, arg2, arg3) {
            var _this;
            _classCallCheck(this, NodeError2);
            _this = _super.call(this, getMessage(arg1, arg2, arg3));
            _this.code = code;
            return _this;
          }
          return _createClass(NodeError2);
        }(Base);
        codes[code] = NodeError;
      }
      function oneOf(expected, thing) {
        if (Array.isArray(expected)) {
          var len = expected.length;
          expected = expected.map(function(i) {
            return String(i);
          });
          if (len > 2) {
            return "one of ".concat(thing, " ").concat(expected.slice(0, len - 1).join(", "), ", or ") + expected[len - 1];
          } else if (len === 2) {
            return "one of ".concat(thing, " ").concat(expected[0], " or ").concat(expected[1]);
          } else {
            return "of ".concat(thing, " ").concat(expected[0]);
          }
        } else {
          return "of ".concat(thing, " ").concat(String(expected));
        }
      }
      function startsWith(str, search, pos) {
        return str.substr(!pos || pos < 0 ? 0 : +pos, search.length) === search;
      }
      function endsWith(str, search, this_len) {
        if (this_len === void 0 || this_len > str.length) {
          this_len = str.length;
        }
        return str.substring(this_len - search.length, this_len) === search;
      }
      function includes(str, search, start) {
        if (typeof start !== "number") {
          start = 0;
        }
        if (start + search.length > str.length) {
          return false;
        } else {
          return str.indexOf(search, start) !== -1;
        }
      }
      createErrorType("ERR_AMBIGUOUS_ARGUMENT", 'The "%s" argument is ambiguous. %s', TypeError);
      createErrorType("ERR_INVALID_ARG_TYPE", function(name, expected, actual) {
        if (assert4 === void 0)
          assert4 = require_assert();
        assert4(typeof name === "string", "'name' must be a string");
        var determiner;
        if (typeof expected === "string" && startsWith(expected, "not ")) {
          determiner = "must not be";
          expected = expected.replace(/^not /, "");
        } else {
          determiner = "must be";
        }
        var msg;
        if (endsWith(name, " argument")) {
          msg = "The ".concat(name, " ").concat(determiner, " ").concat(oneOf(expected, "type"));
        } else {
          var type = includes(name, ".") ? "property" : "argument";
          msg = 'The "'.concat(name, '" ').concat(type, " ").concat(determiner, " ").concat(oneOf(expected, "type"));
        }
        msg += ". Received type ".concat(_typeof(actual));
        return msg;
      }, TypeError);
      createErrorType("ERR_INVALID_ARG_VALUE", function(name, value) {
        var reason = arguments.length > 2 && arguments[2] !== void 0 ? arguments[2] : "is invalid";
        if (util === void 0)
          util = require_util();
        var inspected = util.inspect(value);
        if (inspected.length > 128) {
          inspected = "".concat(inspected.slice(0, 128), "...");
        }
        return "The argument '".concat(name, "' ").concat(reason, ". Received ").concat(inspected);
      }, TypeError, RangeError);
      createErrorType("ERR_INVALID_RETURN_VALUE", function(input, name, value) {
        var type;
        if (value && value.constructor && value.constructor.name) {
          type = "instance of ".concat(value.constructor.name);
        } else {
          type = "type ".concat(_typeof(value));
        }
        return "Expected ".concat(input, ' to be returned from the "').concat(name, '"') + " function but got ".concat(type, ".");
      }, TypeError);
      createErrorType("ERR_MISSING_ARGS", function() {
        for (var _len = arguments.length, args = new Array(_len), _key = 0; _key < _len; _key++) {
          args[_key] = arguments[_key];
        }
        if (assert4 === void 0)
          assert4 = require_assert();
        assert4(args.length > 0, "At least one arg needs to be specified");
        var msg = "The ";
        var len = args.length;
        args = args.map(function(a) {
          return '"'.concat(a, '"');
        });
        switch (len) {
          case 1:
            msg += "".concat(args[0], " argument");
            break;
          case 2:
            msg += "".concat(args[0], " and ").concat(args[1], " arguments");
            break;
          default:
            msg += args.slice(0, len - 1).join(", ");
            msg += ", and ".concat(args[len - 1], " arguments");
            break;
        }
        return "".concat(msg, " must be specified");
      }, TypeError);
      module.exports.codes = codes;
    }
  });

  // node_modules/assert/build/internal/assert/assertion_error.js
  var require_assertion_error = __commonJS({
    "node_modules/assert/build/internal/assert/assertion_error.js"(exports, module) {
      "use strict";
      init_process_shim();
      init_buffer_shim();
      function ownKeys(e, r) {
        var t = Object.keys(e);
        if (Object.getOwnPropertySymbols) {
          var o = Object.getOwnPropertySymbols(e);
          r && (o = o.filter(function(r2) {
            return Object.getOwnPropertyDescriptor(e, r2).enumerable;
          })), t.push.apply(t, o);
        }
        return t;
      }
      function _objectSpread(e) {
        for (var r = 1; r < arguments.length; r++) {
          var t = null != arguments[r] ? arguments[r] : {};
          r % 2 ? ownKeys(Object(t), true).forEach(function(r2) {
            _defineProperty(e, r2, t[r2]);
          }) : Object.getOwnPropertyDescriptors ? Object.defineProperties(e, Object.getOwnPropertyDescriptors(t)) : ownKeys(Object(t)).forEach(function(r2) {
            Object.defineProperty(e, r2, Object.getOwnPropertyDescriptor(t, r2));
          });
        }
        return e;
      }
      function _defineProperty(obj, key, value) {
        key = _toPropertyKey(key);
        if (key in obj) {
          Object.defineProperty(obj, key, { value, enumerable: true, configurable: true, writable: true });
        } else {
          obj[key] = value;
        }
        return obj;
      }
      function _classCallCheck(instance, Constructor) {
        if (!(instance instanceof Constructor)) {
          throw new TypeError("Cannot call a class as a function");
        }
      }
      function _defineProperties(target, props) {
        for (var i = 0; i < props.length; i++) {
          var descriptor = props[i];
          descriptor.enumerable = descriptor.enumerable || false;
          descriptor.configurable = true;
          if ("value" in descriptor)
            descriptor.writable = true;
          Object.defineProperty(target, _toPropertyKey(descriptor.key), descriptor);
        }
      }
      function _createClass(Constructor, protoProps, staticProps) {
        if (protoProps)
          _defineProperties(Constructor.prototype, protoProps);
        if (staticProps)
          _defineProperties(Constructor, staticProps);
        Object.defineProperty(Constructor, "prototype", { writable: false });
        return Constructor;
      }
      function _toPropertyKey(arg) {
        var key = _toPrimitive(arg, "string");
        return _typeof(key) === "symbol" ? key : String(key);
      }
      function _toPrimitive(input, hint) {
        if (_typeof(input) !== "object" || input === null)
          return input;
        var prim = input[Symbol.toPrimitive];
        if (prim !== void 0) {
          var res = prim.call(input, hint || "default");
          if (_typeof(res) !== "object")
            return res;
          throw new TypeError("@@toPrimitive must return a primitive value.");
        }
        return (hint === "string" ? String : Number)(input);
      }
      function _inherits(subClass, superClass) {
        if (typeof superClass !== "function" && superClass !== null) {
          throw new TypeError("Super expression must either be null or a function");
        }
        subClass.prototype = Object.create(superClass && superClass.prototype, { constructor: { value: subClass, writable: true, configurable: true } });
        Object.defineProperty(subClass, "prototype", { writable: false });
        if (superClass)
          _setPrototypeOf(subClass, superClass);
      }
      function _createSuper(Derived) {
        var hasNativeReflectConstruct = _isNativeReflectConstruct();
        return function _createSuperInternal() {
          var Super = _getPrototypeOf(Derived), result;
          if (hasNativeReflectConstruct) {
            var NewTarget = _getPrototypeOf(this).constructor;
            result = Reflect.construct(Super, arguments, NewTarget);
          } else {
            result = Super.apply(this, arguments);
          }
          return _possibleConstructorReturn(this, result);
        };
      }
      function _possibleConstructorReturn(self2, call) {
        if (call && (_typeof(call) === "object" || typeof call === "function")) {
          return call;
        } else if (call !== void 0) {
          throw new TypeError("Derived constructors may only return object or undefined");
        }
        return _assertThisInitialized(self2);
      }
      function _assertThisInitialized(self2) {
        if (self2 === void 0) {
          throw new ReferenceError("this hasn't been initialised - super() hasn't been called");
        }
        return self2;
      }
      function _wrapNativeSuper(Class) {
        var _cache = typeof Map === "function" ? /* @__PURE__ */ new Map() : void 0;
        _wrapNativeSuper = function _wrapNativeSuper2(Class2) {
          if (Class2 === null || !_isNativeFunction(Class2))
            return Class2;
          if (typeof Class2 !== "function") {
            throw new TypeError("Super expression must either be null or a function");
          }
          if (typeof _cache !== "undefined") {
            if (_cache.has(Class2))
              return _cache.get(Class2);
            _cache.set(Class2, Wrapper);
          }
          function Wrapper() {
            return _construct(Class2, arguments, _getPrototypeOf(this).constructor);
          }
          Wrapper.prototype = Object.create(Class2.prototype, { constructor: { value: Wrapper, enumerable: false, writable: true, configurable: true } });
          return _setPrototypeOf(Wrapper, Class2);
        };
        return _wrapNativeSuper(Class);
      }
      function _construct(Parent, args, Class) {
        if (_isNativeReflectConstruct()) {
          _construct = Reflect.construct.bind();
        } else {
          _construct = function _construct2(Parent2, args2, Class2) {
            var a = [null];
            a.push.apply(a, args2);
            var Constructor = Function.bind.apply(Parent2, a);
            var instance = new Constructor();
            if (Class2)
              _setPrototypeOf(instance, Class2.prototype);
            return instance;
          };
        }
        return _construct.apply(null, arguments);
      }
      function _isNativeReflectConstruct() {
        if (typeof Reflect === "undefined" || !Reflect.construct)
          return false;
        if (Reflect.construct.sham)
          return false;
        if (typeof Proxy === "function")
          return true;
        try {
          Boolean.prototype.valueOf.call(Reflect.construct(Boolean, [], function() {
          }));
          return true;
        } catch (e) {
          return false;
        }
      }
      function _isNativeFunction(fn) {
        return Function.toString.call(fn).indexOf("[native code]") !== -1;
      }
      function _setPrototypeOf(o, p) {
        _setPrototypeOf = Object.setPrototypeOf ? Object.setPrototypeOf.bind() : function _setPrototypeOf2(o2, p2) {
          o2.__proto__ = p2;
          return o2;
        };
        return _setPrototypeOf(o, p);
      }
      function _getPrototypeOf(o) {
        _getPrototypeOf = Object.setPrototypeOf ? Object.getPrototypeOf.bind() : function _getPrototypeOf2(o2) {
          return o2.__proto__ || Object.getPrototypeOf(o2);
        };
        return _getPrototypeOf(o);
      }
      function _typeof(o) {
        "@babel/helpers - typeof";
        return _typeof = "function" == typeof Symbol && "symbol" == typeof Symbol.iterator ? function(o2) {
          return typeof o2;
        } : function(o2) {
          return o2 && "function" == typeof Symbol && o2.constructor === Symbol && o2 !== Symbol.prototype ? "symbol" : typeof o2;
        }, _typeof(o);
      }
      var _require = require_util();
      var inspect = _require.inspect;
      var _require2 = require_errors();
      var ERR_INVALID_ARG_TYPE = _require2.codes.ERR_INVALID_ARG_TYPE;
      function endsWith(str, search, this_len) {
        if (this_len === void 0 || this_len > str.length) {
          this_len = str.length;
        }
        return str.substring(this_len - search.length, this_len) === search;
      }
      function repeat(str, count) {
        count = Math.floor(count);
        if (str.length == 0 || count == 0)
          return "";
        var maxCount = str.length * count;
        count = Math.floor(Math.log(count) / Math.log(2));
        while (count) {
          str += str;
          count--;
        }
        str += str.substring(0, maxCount - str.length);
        return str;
      }
      var blue = "";
      var green = "";
      var red = "";
      var white = "";
      var kReadableOperator = {
        deepStrictEqual: "Expected values to be strictly deep-equal:",
        strictEqual: "Expected values to be strictly equal:",
        strictEqualObject: 'Expected "actual" to be reference-equal to "expected":',
        deepEqual: "Expected values to be loosely deep-equal:",
        equal: "Expected values to be loosely equal:",
        notDeepStrictEqual: 'Expected "actual" not to be strictly deep-equal to:',
        notStrictEqual: 'Expected "actual" to be strictly unequal to:',
        notStrictEqualObject: 'Expected "actual" not to be reference-equal to "expected":',
        notDeepEqual: 'Expected "actual" not to be loosely deep-equal to:',
        notEqual: 'Expected "actual" to be loosely unequal to:',
        notIdentical: "Values identical but not reference-equal:"
      };
      var kMaxShortLength = 10;
      function copyError(source) {
        var keys = Object.keys(source);
        var target = Object.create(Object.getPrototypeOf(source));
        keys.forEach(function(key) {
          target[key] = source[key];
        });
        Object.defineProperty(target, "message", {
          value: source.message
        });
        return target;
      }
      function inspectValue(val) {
        return inspect(val, {
          compact: false,
          customInspect: false,
          depth: 1e3,
          maxArrayLength: Infinity,
          // Assert compares only enumerable properties (with a few exceptions).
          showHidden: false,
          // Having a long line as error is better than wrapping the line for
          // comparison for now.
          // TODO(BridgeAR): `breakLength` should be limited as soon as soon as we
          // have meta information about the inspected properties (i.e., know where
          // in what line the property starts and ends).
          breakLength: Infinity,
          // Assert does not detect proxies currently.
          showProxy: false,
          sorted: true,
          // Inspect getters as we also check them when comparing entries.
          getters: true
        });
      }
      function createErrDiff(actual, expected, operator) {
        var other = "";
        var res = "";
        var lastPos = 0;
        var end = "";
        var skipped = false;
        var actualInspected = inspectValue(actual);
        var actualLines = actualInspected.split("\n");
        var expectedLines = inspectValue(expected).split("\n");
        var i = 0;
        var indicator = "";
        if (operator === "strictEqual" && _typeof(actual) === "object" && _typeof(expected) === "object" && actual !== null && expected !== null) {
          operator = "strictEqualObject";
        }
        if (actualLines.length === 1 && expectedLines.length === 1 && actualLines[0] !== expectedLines[0]) {
          var inputLength = actualLines[0].length + expectedLines[0].length;
          if (inputLength <= kMaxShortLength) {
            if ((_typeof(actual) !== "object" || actual === null) && (_typeof(expected) !== "object" || expected === null) && (actual !== 0 || expected !== 0)) {
              return "".concat(kReadableOperator[operator], "\n\n") + "".concat(actualLines[0], " !== ").concat(expectedLines[0], "\n");
            }
          } else if (operator !== "strictEqualObject") {
            var maxLength = process.stderr && process.stderr.isTTY ? process.stderr.columns : 80;
            if (inputLength < maxLength) {
              while (actualLines[0][i] === expectedLines[0][i]) {
                i++;
              }
              if (i > 2) {
                indicator = "\n  ".concat(repeat(" ", i), "^");
                i = 0;
              }
            }
          }
        }
        var a = actualLines[actualLines.length - 1];
        var b = expectedLines[expectedLines.length - 1];
        while (a === b) {
          if (i++ < 2) {
            end = "\n  ".concat(a).concat(end);
          } else {
            other = a;
          }
          actualLines.pop();
          expectedLines.pop();
          if (actualLines.length === 0 || expectedLines.length === 0)
            break;
          a = actualLines[actualLines.length - 1];
          b = expectedLines[expectedLines.length - 1];
        }
        var maxLines = Math.max(actualLines.length, expectedLines.length);
        if (maxLines === 0) {
          var _actualLines = actualInspected.split("\n");
          if (_actualLines.length > 30) {
            _actualLines[26] = "".concat(blue, "...").concat(white);
            while (_actualLines.length > 27) {
              _actualLines.pop();
            }
          }
          return "".concat(kReadableOperator.notIdentical, "\n\n").concat(_actualLines.join("\n"), "\n");
        }
        if (i > 3) {
          end = "\n".concat(blue, "...").concat(white).concat(end);
          skipped = true;
        }
        if (other !== "") {
          end = "\n  ".concat(other).concat(end);
          other = "";
        }
        var printedLines = 0;
        var msg = kReadableOperator[operator] + "\n".concat(green, "+ actual").concat(white, " ").concat(red, "- expected").concat(white);
        var skippedMsg = " ".concat(blue, "...").concat(white, " Lines skipped");
        for (i = 0; i < maxLines; i++) {
          var cur = i - lastPos;
          if (actualLines.length < i + 1) {
            if (cur > 1 && i > 2) {
              if (cur > 4) {
                res += "\n".concat(blue, "...").concat(white);
                skipped = true;
              } else if (cur > 3) {
                res += "\n  ".concat(expectedLines[i - 2]);
                printedLines++;
              }
              res += "\n  ".concat(expectedLines[i - 1]);
              printedLines++;
            }
            lastPos = i;
            other += "\n".concat(red, "-").concat(white, " ").concat(expectedLines[i]);
            printedLines++;
          } else if (expectedLines.length < i + 1) {
            if (cur > 1 && i > 2) {
              if (cur > 4) {
                res += "\n".concat(blue, "...").concat(white);
                skipped = true;
              } else if (cur > 3) {
                res += "\n  ".concat(actualLines[i - 2]);
                printedLines++;
              }
              res += "\n  ".concat(actualLines[i - 1]);
              printedLines++;
            }
            lastPos = i;
            res += "\n".concat(green, "+").concat(white, " ").concat(actualLines[i]);
            printedLines++;
          } else {
            var expectedLine = expectedLines[i];
            var actualLine = actualLines[i];
            var divergingLines = actualLine !== expectedLine && (!endsWith(actualLine, ",") || actualLine.slice(0, -1) !== expectedLine);
            if (divergingLines && endsWith(expectedLine, ",") && expectedLine.slice(0, -1) === actualLine) {
              divergingLines = false;
              actualLine += ",";
            }
            if (divergingLines) {
              if (cur > 1 && i > 2) {
                if (cur > 4) {
                  res += "\n".concat(blue, "...").concat(white);
                  skipped = true;
                } else if (cur > 3) {
                  res += "\n  ".concat(actualLines[i - 2]);
                  printedLines++;
                }
                res += "\n  ".concat(actualLines[i - 1]);
                printedLines++;
              }
              lastPos = i;
              res += "\n".concat(green, "+").concat(white, " ").concat(actualLine);
              other += "\n".concat(red, "-").concat(white, " ").concat(expectedLine);
              printedLines += 2;
            } else {
              res += other;
              other = "";
              if (cur === 1 || i === 0) {
                res += "\n  ".concat(actualLine);
                printedLines++;
              }
            }
          }
          if (printedLines > 20 && i < maxLines - 2) {
            return "".concat(msg).concat(skippedMsg, "\n").concat(res, "\n").concat(blue, "...").concat(white).concat(other, "\n") + "".concat(blue, "...").concat(white);
          }
        }
        return "".concat(msg).concat(skipped ? skippedMsg : "", "\n").concat(res).concat(other).concat(end).concat(indicator);
      }
      var AssertionError = /* @__PURE__ */ function(_Error, _inspect$custom) {
        _inherits(AssertionError2, _Error);
        var _super = _createSuper(AssertionError2);
        function AssertionError2(options) {
          var _this;
          _classCallCheck(this, AssertionError2);
          if (_typeof(options) !== "object" || options === null) {
            throw new ERR_INVALID_ARG_TYPE("options", "Object", options);
          }
          var message = options.message, operator = options.operator, stackStartFn = options.stackStartFn;
          var actual = options.actual, expected = options.expected;
          var limit = Error.stackTraceLimit;
          Error.stackTraceLimit = 0;
          if (message != null) {
            _this = _super.call(this, String(message));
          } else {
            if (process.stderr && process.stderr.isTTY) {
              if (process.stderr && process.stderr.getColorDepth && process.stderr.getColorDepth() !== 1) {
                blue = "\x1B[34m";
                green = "\x1B[32m";
                white = "\x1B[39m";
                red = "\x1B[31m";
              } else {
                blue = "";
                green = "";
                white = "";
                red = "";
              }
            }
            if (_typeof(actual) === "object" && actual !== null && _typeof(expected) === "object" && expected !== null && "stack" in actual && actual instanceof Error && "stack" in expected && expected instanceof Error) {
              actual = copyError(actual);
              expected = copyError(expected);
            }
            if (operator === "deepStrictEqual" || operator === "strictEqual") {
              _this = _super.call(this, createErrDiff(actual, expected, operator));
            } else if (operator === "notDeepStrictEqual" || operator === "notStrictEqual") {
              var base = kReadableOperator[operator];
              var res = inspectValue(actual).split("\n");
              if (operator === "notStrictEqual" && _typeof(actual) === "object" && actual !== null) {
                base = kReadableOperator.notStrictEqualObject;
              }
              if (res.length > 30) {
                res[26] = "".concat(blue, "...").concat(white);
                while (res.length > 27) {
                  res.pop();
                }
              }
              if (res.length === 1) {
                _this = _super.call(this, "".concat(base, " ").concat(res[0]));
              } else {
                _this = _super.call(this, "".concat(base, "\n\n").concat(res.join("\n"), "\n"));
              }
            } else {
              var _res = inspectValue(actual);
              var other = "";
              var knownOperators = kReadableOperator[operator];
              if (operator === "notDeepEqual" || operator === "notEqual") {
                _res = "".concat(kReadableOperator[operator], "\n\n").concat(_res);
                if (_res.length > 1024) {
                  _res = "".concat(_res.slice(0, 1021), "...");
                }
              } else {
                other = "".concat(inspectValue(expected));
                if (_res.length > 512) {
                  _res = "".concat(_res.slice(0, 509), "...");
                }
                if (other.length > 512) {
                  other = "".concat(other.slice(0, 509), "...");
                }
                if (operator === "deepEqual" || operator === "equal") {
                  _res = "".concat(knownOperators, "\n\n").concat(_res, "\n\nshould equal\n\n");
                } else {
                  other = " ".concat(operator, " ").concat(other);
                }
              }
              _this = _super.call(this, "".concat(_res).concat(other));
            }
          }
          Error.stackTraceLimit = limit;
          _this.generatedMessage = !message;
          Object.defineProperty(_assertThisInitialized(_this), "name", {
            value: "AssertionError [ERR_ASSERTION]",
            enumerable: false,
            writable: true,
            configurable: true
          });
          _this.code = "ERR_ASSERTION";
          _this.actual = actual;
          _this.expected = expected;
          _this.operator = operator;
          if (Error.captureStackTrace) {
            Error.captureStackTrace(_assertThisInitialized(_this), stackStartFn);
          }
          _this.stack;
          _this.name = "AssertionError";
          return _possibleConstructorReturn(_this);
        }
        _createClass(AssertionError2, [{
          key: "toString",
          value: function toString() {
            return "".concat(this.name, " [").concat(this.code, "]: ").concat(this.message);
          }
        }, {
          key: _inspect$custom,
          value: function value(recurseTimes, ctx) {
            return inspect(this, _objectSpread(_objectSpread({}, ctx), {}, {
              customInspect: false,
              depth: 0
            }));
          }
        }]);
        return AssertionError2;
      }(/* @__PURE__ */ _wrapNativeSuper(Error), inspect.custom);
      module.exports = AssertionError;
    }
  });

  // node_modules/object-keys/isArguments.js
  var require_isArguments = __commonJS({
    "node_modules/object-keys/isArguments.js"(exports, module) {
      "use strict";
      init_process_shim();
      init_buffer_shim();
      var toStr = Object.prototype.toString;
      module.exports = function isArguments(value) {
        var str = toStr.call(value);
        var isArgs = str === "[object Arguments]";
        if (!isArgs) {
          isArgs = str !== "[object Array]" && value !== null && typeof value === "object" && typeof value.length === "number" && value.length >= 0 && toStr.call(value.callee) === "[object Function]";
        }
        return isArgs;
      };
    }
  });

  // node_modules/object-keys/implementation.js
  var require_implementation2 = __commonJS({
    "node_modules/object-keys/implementation.js"(exports, module) {
      "use strict";
      init_process_shim();
      init_buffer_shim();
      var keysShim;
      if (!Object.keys) {
        has = Object.prototype.hasOwnProperty;
        toStr = Object.prototype.toString;
        isArgs = require_isArguments();
        isEnumerable = Object.prototype.propertyIsEnumerable;
        hasDontEnumBug = !isEnumerable.call({ toString: null }, "toString");
        hasProtoEnumBug = isEnumerable.call(function() {
        }, "prototype");
        dontEnums = [
          "toString",
          "toLocaleString",
          "valueOf",
          "hasOwnProperty",
          "isPrototypeOf",
          "propertyIsEnumerable",
          "constructor"
        ];
        equalsConstructorPrototype = function(o) {
          var ctor = o.constructor;
          return ctor && ctor.prototype === o;
        };
        excludedKeys = {
          $applicationCache: true,
          $console: true,
          $external: true,
          $frame: true,
          $frameElement: true,
          $frames: true,
          $innerHeight: true,
          $innerWidth: true,
          $onmozfullscreenchange: true,
          $onmozfullscreenerror: true,
          $outerHeight: true,
          $outerWidth: true,
          $pageXOffset: true,
          $pageYOffset: true,
          $parent: true,
          $scrollLeft: true,
          $scrollTop: true,
          $scrollX: true,
          $scrollY: true,
          $self: true,
          $webkitIndexedDB: true,
          $webkitStorageInfo: true,
          $window: true
        };
        hasAutomationEqualityBug = function() {
          if (typeof window === "undefined") {
            return false;
          }
          for (var k in window) {
            try {
              if (!excludedKeys["$" + k] && has.call(window, k) && window[k] !== null && typeof window[k] === "object") {
                try {
                  equalsConstructorPrototype(window[k]);
                } catch (e) {
                  return true;
                }
              }
            } catch (e) {
              return true;
            }
          }
          return false;
        }();
        equalsConstructorPrototypeIfNotBuggy = function(o) {
          if (typeof window === "undefined" || !hasAutomationEqualityBug) {
            return equalsConstructorPrototype(o);
          }
          try {
            return equalsConstructorPrototype(o);
          } catch (e) {
            return false;
          }
        };
        keysShim = function keys(object) {
          var isObject = object !== null && typeof object === "object";
          var isFunction = toStr.call(object) === "[object Function]";
          var isArguments = isArgs(object);
          var isString = isObject && toStr.call(object) === "[object String]";
          var theKeys = [];
          if (!isObject && !isFunction && !isArguments) {
            throw new TypeError("Object.keys called on a non-object");
          }
          var skipProto = hasProtoEnumBug && isFunction;
          if (isString && object.length > 0 && !has.call(object, 0)) {
            for (var i = 0; i < object.length; ++i) {
              theKeys.push(String(i));
            }
          }
          if (isArguments && object.length > 0) {
            for (var j = 0; j < object.length; ++j) {
              theKeys.push(String(j));
            }
          } else {
            for (var name in object) {
              if (!(skipProto && name === "prototype") && has.call(object, name)) {
                theKeys.push(String(name));
              }
            }
          }
          if (hasDontEnumBug) {
            var skipConstructor = equalsConstructorPrototypeIfNotBuggy(object);
            for (var k = 0; k < dontEnums.length; ++k) {
              if (!(skipConstructor && dontEnums[k] === "constructor") && has.call(object, dontEnums[k])) {
                theKeys.push(dontEnums[k]);
              }
            }
          }
          return theKeys;
        };
      }
      var has;
      var toStr;
      var isArgs;
      var isEnumerable;
      var hasDontEnumBug;
      var hasProtoEnumBug;
      var dontEnums;
      var equalsConstructorPrototype;
      var excludedKeys;
      var hasAutomationEqualityBug;
      var equalsConstructorPrototypeIfNotBuggy;
      module.exports = keysShim;
    }
  });

  // node_modules/object-keys/index.js
  var require_object_keys = __commonJS({
    "node_modules/object-keys/index.js"(exports, module) {
      "use strict";
      init_process_shim();
      init_buffer_shim();
      var slice = Array.prototype.slice;
      var isArgs = require_isArguments();
      var origKeys = Object.keys;
      var keysShim = origKeys ? function keys(o) {
        return origKeys(o);
      } : require_implementation2();
      var originalKeys = Object.keys;
      keysShim.shim = function shimObjectKeys() {
        if (Object.keys) {
          var keysWorksWithArguments = function() {
            var args = Object.keys(arguments);
            return args && args.length === arguments.length;
          }(1, 2);
          if (!keysWorksWithArguments) {
            Object.keys = function keys(object) {
              if (isArgs(object)) {
                return originalKeys(slice.call(object));
              }
              return originalKeys(object);
            };
          }
        } else {
          Object.keys = keysShim;
        }
        return Object.keys || keysShim;
      };
      module.exports = keysShim;
    }
  });

  // node_modules/object.assign/implementation.js
  var require_implementation3 = __commonJS({
    "node_modules/object.assign/implementation.js"(exports, module) {
      "use strict";
      init_process_shim();
      init_buffer_shim();
      var objectKeys = require_object_keys();
      var hasSymbols = require_shams()();
      var callBound = require_call_bound();
      var $Object = require_es_object_atoms();
      var $push = callBound("Array.prototype.push");
      var $propIsEnumerable = callBound("Object.prototype.propertyIsEnumerable");
      var originalGetSymbols = hasSymbols ? $Object.getOwnPropertySymbols : null;
      module.exports = function assign(target, source1) {
        if (target == null) {
          throw new TypeError("target must be an object");
        }
        var to = $Object(target);
        if (arguments.length === 1) {
          return to;
        }
        for (var s = 1; s < arguments.length; ++s) {
          var from = $Object(arguments[s]);
          var keys = objectKeys(from);
          var getSymbols = hasSymbols && ($Object.getOwnPropertySymbols || originalGetSymbols);
          if (getSymbols) {
            var syms = getSymbols(from);
            for (var j = 0; j < syms.length; ++j) {
              var key = syms[j];
              if ($propIsEnumerable(from, key)) {
                $push(keys, key);
              }
            }
          }
          for (var i = 0; i < keys.length; ++i) {
            var nextKey = keys[i];
            if ($propIsEnumerable(from, nextKey)) {
              var propValue = from[nextKey];
              to[nextKey] = propValue;
            }
          }
        }
        return to;
      };
    }
  });

  // node_modules/object.assign/polyfill.js
  var require_polyfill = __commonJS({
    "node_modules/object.assign/polyfill.js"(exports, module) {
      "use strict";
      init_process_shim();
      init_buffer_shim();
      var implementation = require_implementation3();
      var lacksProperEnumerationOrder = function() {
        if (!Object.assign) {
          return false;
        }
        var str = "abcdefghijklmnopqrst";
        var letters = str.split("");
        var map = {};
        for (var i = 0; i < letters.length; ++i) {
          map[letters[i]] = letters[i];
        }
        var obj = Object.assign({}, map);
        var actual = "";
        for (var k in obj) {
          actual += k;
        }
        return str !== actual;
      };
      var assignHasPendingExceptions = function() {
        if (!Object.assign || !Object.preventExtensions) {
          return false;
        }
        var thrower = Object.preventExtensions({ 1: 2 });
        try {
          Object.assign(thrower, "xy");
        } catch (e) {
          return thrower[1] === "y";
        }
        return false;
      };
      module.exports = function getPolyfill() {
        if (!Object.assign) {
          return implementation;
        }
        if (lacksProperEnumerationOrder()) {
          return implementation;
        }
        if (assignHasPendingExceptions()) {
          return implementation;
        }
        return Object.assign;
      };
    }
  });

  // node_modules/object-is/implementation.js
  var require_implementation4 = __commonJS({
    "node_modules/object-is/implementation.js"(exports, module) {
      "use strict";
      init_process_shim();
      init_buffer_shim();
      var numberIsNaN = function(value) {
        return value !== value;
      };
      module.exports = function is(a, b) {
        if (a === 0 && b === 0) {
          return 1 / a === 1 / b;
        }
        if (a === b) {
          return true;
        }
        if (numberIsNaN(a) && numberIsNaN(b)) {
          return true;
        }
        return false;
      };
    }
  });

  // node_modules/object-is/polyfill.js
  var require_polyfill2 = __commonJS({
    "node_modules/object-is/polyfill.js"(exports, module) {
      "use strict";
      init_process_shim();
      init_buffer_shim();
      var implementation = require_implementation4();
      module.exports = function getPolyfill() {
        return typeof Object.is === "function" ? Object.is : implementation;
      };
    }
  });

  // node_modules/call-bind/callBound.js
  var require_callBound = __commonJS({
    "node_modules/call-bind/callBound.js"(exports, module) {
      "use strict";
      init_process_shim();
      init_buffer_shim();
      var GetIntrinsic = require_get_intrinsic();
      var callBind = require_call_bind();
      var $indexOf = callBind(GetIntrinsic("String.prototype.indexOf"));
      module.exports = function callBoundIntrinsic(name, allowMissing) {
        var intrinsic = GetIntrinsic(name, !!allowMissing);
        if (typeof intrinsic === "function" && $indexOf(name, ".prototype.") > -1) {
          return callBind(intrinsic);
        }
        return intrinsic;
      };
    }
  });

  // node_modules/define-properties/index.js
  var require_define_properties = __commonJS({
    "node_modules/define-properties/index.js"(exports, module) {
      "use strict";
      init_process_shim();
      init_buffer_shim();
      var keys = require_object_keys();
      var hasSymbols = typeof Symbol === "function" && typeof Symbol("foo") === "symbol";
      var toStr = Object.prototype.toString;
      var concat = Array.prototype.concat;
      var defineDataProperty = require_define_data_property();
      var isFunction = function(fn) {
        return typeof fn === "function" && toStr.call(fn) === "[object Function]";
      };
      var supportsDescriptors = require_has_property_descriptors()();
      var defineProperty = function(object, name, value, predicate) {
        if (name in object) {
          if (predicate === true) {
            if (object[name] === value) {
              return;
            }
          } else if (!isFunction(predicate) || !predicate()) {
            return;
          }
        }
        if (supportsDescriptors) {
          defineDataProperty(object, name, value, true);
        } else {
          defineDataProperty(object, name, value);
        }
      };
      var defineProperties = function(object, map) {
        var predicates = arguments.length > 2 ? arguments[2] : {};
        var props = keys(map);
        if (hasSymbols) {
          props = concat.call(props, Object.getOwnPropertySymbols(map));
        }
        for (var i = 0; i < props.length; i += 1) {
          defineProperty(object, props[i], map[props[i]], predicates[props[i]]);
        }
      };
      defineProperties.supportsDescriptors = !!supportsDescriptors;
      module.exports = defineProperties;
    }
  });

  // node_modules/object-is/shim.js
  var require_shim = __commonJS({
    "node_modules/object-is/shim.js"(exports, module) {
      "use strict";
      init_process_shim();
      init_buffer_shim();
      var getPolyfill = require_polyfill2();
      var define = require_define_properties();
      module.exports = function shimObjectIs() {
        var polyfill = getPolyfill();
        define(Object, { is: polyfill }, {
          is: function testObjectIs() {
            return Object.is !== polyfill;
          }
        });
        return polyfill;
      };
    }
  });

  // node_modules/object-is/index.js
  var require_object_is = __commonJS({
    "node_modules/object-is/index.js"(exports, module) {
      "use strict";
      init_process_shim();
      init_buffer_shim();
      var define = require_define_properties();
      var callBind = require_call_bind();
      var implementation = require_implementation4();
      var getPolyfill = require_polyfill2();
      var shim = require_shim();
      var polyfill = callBind(getPolyfill(), Object);
      define(polyfill, {
        getPolyfill,
        implementation,
        shim
      });
      module.exports = polyfill;
    }
  });

  // node_modules/is-nan/implementation.js
  var require_implementation5 = __commonJS({
    "node_modules/is-nan/implementation.js"(exports, module) {
      "use strict";
      init_process_shim();
      init_buffer_shim();
      module.exports = function isNaN2(value) {
        return value !== value;
      };
    }
  });

  // node_modules/is-nan/polyfill.js
  var require_polyfill3 = __commonJS({
    "node_modules/is-nan/polyfill.js"(exports, module) {
      "use strict";
      init_process_shim();
      init_buffer_shim();
      var implementation = require_implementation5();
      module.exports = function getPolyfill() {
        if (Number.isNaN && Number.isNaN(NaN) && !Number.isNaN("a")) {
          return Number.isNaN;
        }
        return implementation;
      };
    }
  });

  // node_modules/is-nan/shim.js
  var require_shim2 = __commonJS({
    "node_modules/is-nan/shim.js"(exports, module) {
      "use strict";
      init_process_shim();
      init_buffer_shim();
      var define = require_define_properties();
      var getPolyfill = require_polyfill3();
      module.exports = function shimNumberIsNaN() {
        var polyfill = getPolyfill();
        define(Number, { isNaN: polyfill }, {
          isNaN: function testIsNaN() {
            return Number.isNaN !== polyfill;
          }
        });
        return polyfill;
      };
    }
  });

  // node_modules/is-nan/index.js
  var require_is_nan = __commonJS({
    "node_modules/is-nan/index.js"(exports, module) {
      "use strict";
      init_process_shim();
      init_buffer_shim();
      var callBind = require_call_bind();
      var define = require_define_properties();
      var implementation = require_implementation5();
      var getPolyfill = require_polyfill3();
      var shim = require_shim2();
      var polyfill = callBind(getPolyfill(), Number);
      define(polyfill, {
        getPolyfill,
        implementation,
        shim
      });
      module.exports = polyfill;
    }
  });

  // node_modules/assert/build/internal/util/comparisons.js
  var require_comparisons = __commonJS({
    "node_modules/assert/build/internal/util/comparisons.js"(exports, module) {
      "use strict";
      init_process_shim();
      init_buffer_shim();
      function _slicedToArray(arr, i) {
        return _arrayWithHoles(arr) || _iterableToArrayLimit(arr, i) || _unsupportedIterableToArray(arr, i) || _nonIterableRest();
      }
      function _nonIterableRest() {
        throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.");
      }
      function _unsupportedIterableToArray(o, minLen) {
        if (!o)
          return;
        if (typeof o === "string")
          return _arrayLikeToArray(o, minLen);
        var n = Object.prototype.toString.call(o).slice(8, -1);
        if (n === "Object" && o.constructor)
          n = o.constructor.name;
        if (n === "Map" || n === "Set")
          return Array.from(o);
        if (n === "Arguments" || /^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))
          return _arrayLikeToArray(o, minLen);
      }
      function _arrayLikeToArray(arr, len) {
        if (len == null || len > arr.length)
          len = arr.length;
        for (var i = 0, arr2 = new Array(len); i < len; i++)
          arr2[i] = arr[i];
        return arr2;
      }
      function _iterableToArrayLimit(r, l) {
        var t = null == r ? null : "undefined" != typeof Symbol && r[Symbol.iterator] || r["@@iterator"];
        if (null != t) {
          var e, n, i, u, a = [], f = true, o = false;
          try {
            if (i = (t = t.call(r)).next, 0 === l) {
              if (Object(t) !== t)
                return;
              f = false;
            } else
              for (; !(f = (e = i.call(t)).done) && (a.push(e.value), a.length !== l); f = true)
                ;
          } catch (r2) {
            o = true, n = r2;
          } finally {
            try {
              if (!f && null != t.return && (u = t.return(), Object(u) !== u))
                return;
            } finally {
              if (o)
                throw n;
            }
          }
          return a;
        }
      }
      function _arrayWithHoles(arr) {
        if (Array.isArray(arr))
          return arr;
      }
      function _typeof(o) {
        "@babel/helpers - typeof";
        return _typeof = "function" == typeof Symbol && "symbol" == typeof Symbol.iterator ? function(o2) {
          return typeof o2;
        } : function(o2) {
          return o2 && "function" == typeof Symbol && o2.constructor === Symbol && o2 !== Symbol.prototype ? "symbol" : typeof o2;
        }, _typeof(o);
      }
      var regexFlagsSupported = /a/g.flags !== void 0;
      var arrayFromSet = function arrayFromSet2(set) {
        var array = [];
        set.forEach(function(value) {
          return array.push(value);
        });
        return array;
      };
      var arrayFromMap = function arrayFromMap2(map) {
        var array = [];
        map.forEach(function(value, key) {
          return array.push([key, value]);
        });
        return array;
      };
      var objectIs = Object.is ? Object.is : require_object_is();
      var objectGetOwnPropertySymbols = Object.getOwnPropertySymbols ? Object.getOwnPropertySymbols : function() {
        return [];
      };
      var numberIsNaN = Number.isNaN ? Number.isNaN : require_is_nan();
      function uncurryThis(f) {
        return f.call.bind(f);
      }
      var hasOwnProperty = uncurryThis(Object.prototype.hasOwnProperty);
      var propertyIsEnumerable = uncurryThis(Object.prototype.propertyIsEnumerable);
      var objectToString = uncurryThis(Object.prototype.toString);
      var _require$types = require_util().types;
      var isAnyArrayBuffer = _require$types.isAnyArrayBuffer;
      var isArrayBufferView = _require$types.isArrayBufferView;
      var isDate = _require$types.isDate;
      var isMap = _require$types.isMap;
      var isRegExp = _require$types.isRegExp;
      var isSet = _require$types.isSet;
      var isNativeError = _require$types.isNativeError;
      var isBoxedPrimitive = _require$types.isBoxedPrimitive;
      var isNumberObject = _require$types.isNumberObject;
      var isStringObject = _require$types.isStringObject;
      var isBooleanObject = _require$types.isBooleanObject;
      var isBigIntObject = _require$types.isBigIntObject;
      var isSymbolObject = _require$types.isSymbolObject;
      var isFloat32Array = _require$types.isFloat32Array;
      var isFloat64Array = _require$types.isFloat64Array;
      function isNonIndex(key) {
        if (key.length === 0 || key.length > 10)
          return true;
        for (var i = 0; i < key.length; i++) {
          var code = key.charCodeAt(i);
          if (code < 48 || code > 57)
            return true;
        }
        return key.length === 10 && key >= Math.pow(2, 32);
      }
      function getOwnNonIndexProperties(value) {
        return Object.keys(value).filter(isNonIndex).concat(objectGetOwnPropertySymbols(value).filter(Object.prototype.propertyIsEnumerable.bind(value)));
      }
      function compare(a, b) {
        if (a === b) {
          return 0;
        }
        var x = a.length;
        var y = b.length;
        for (var i = 0, len = Math.min(x, y); i < len; ++i) {
          if (a[i] !== b[i]) {
            x = a[i];
            y = b[i];
            break;
          }
        }
        if (x < y) {
          return -1;
        }
        if (y < x) {
          return 1;
        }
        return 0;
      }
      var ONLY_ENUMERABLE = void 0;
      var kStrict = true;
      var kLoose = false;
      var kNoIterator = 0;
      var kIsArray = 1;
      var kIsSet = 2;
      var kIsMap = 3;
      function areSimilarRegExps(a, b) {
        return regexFlagsSupported ? a.source === b.source && a.flags === b.flags : RegExp.prototype.toString.call(a) === RegExp.prototype.toString.call(b);
      }
      function areSimilarFloatArrays(a, b) {
        if (a.byteLength !== b.byteLength) {
          return false;
        }
        for (var offset = 0; offset < a.byteLength; offset++) {
          if (a[offset] !== b[offset]) {
            return false;
          }
        }
        return true;
      }
      function areSimilarTypedArrays(a, b) {
        if (a.byteLength !== b.byteLength) {
          return false;
        }
        return compare(new Uint8Array(a.buffer, a.byteOffset, a.byteLength), new Uint8Array(b.buffer, b.byteOffset, b.byteLength)) === 0;
      }
      function areEqualArrayBuffers(buf1, buf2) {
        return buf1.byteLength === buf2.byteLength && compare(new Uint8Array(buf1), new Uint8Array(buf2)) === 0;
      }
      function isEqualBoxedPrimitive(val1, val2) {
        if (isNumberObject(val1)) {
          return isNumberObject(val2) && objectIs(Number.prototype.valueOf.call(val1), Number.prototype.valueOf.call(val2));
        }
        if (isStringObject(val1)) {
          return isStringObject(val2) && String.prototype.valueOf.call(val1) === String.prototype.valueOf.call(val2);
        }
        if (isBooleanObject(val1)) {
          return isBooleanObject(val2) && Boolean.prototype.valueOf.call(val1) === Boolean.prototype.valueOf.call(val2);
        }
        if (isBigIntObject(val1)) {
          return isBigIntObject(val2) && BigInt.prototype.valueOf.call(val1) === BigInt.prototype.valueOf.call(val2);
        }
        return isSymbolObject(val2) && Symbol.prototype.valueOf.call(val1) === Symbol.prototype.valueOf.call(val2);
      }
      function innerDeepEqual(val1, val2, strict, memos) {
        if (val1 === val2) {
          if (val1 !== 0)
            return true;
          return strict ? objectIs(val1, val2) : true;
        }
        if (strict) {
          if (_typeof(val1) !== "object") {
            return typeof val1 === "number" && numberIsNaN(val1) && numberIsNaN(val2);
          }
          if (_typeof(val2) !== "object" || val1 === null || val2 === null) {
            return false;
          }
          if (Object.getPrototypeOf(val1) !== Object.getPrototypeOf(val2)) {
            return false;
          }
        } else {
          if (val1 === null || _typeof(val1) !== "object") {
            if (val2 === null || _typeof(val2) !== "object") {
              return val1 == val2;
            }
            return false;
          }
          if (val2 === null || _typeof(val2) !== "object") {
            return false;
          }
        }
        var val1Tag = objectToString(val1);
        var val2Tag = objectToString(val2);
        if (val1Tag !== val2Tag) {
          return false;
        }
        if (Array.isArray(val1)) {
          if (val1.length !== val2.length) {
            return false;
          }
          var keys1 = getOwnNonIndexProperties(val1, ONLY_ENUMERABLE);
          var keys2 = getOwnNonIndexProperties(val2, ONLY_ENUMERABLE);
          if (keys1.length !== keys2.length) {
            return false;
          }
          return keyCheck(val1, val2, strict, memos, kIsArray, keys1);
        }
        if (val1Tag === "[object Object]") {
          if (!isMap(val1) && isMap(val2) || !isSet(val1) && isSet(val2)) {
            return false;
          }
        }
        if (isDate(val1)) {
          if (!isDate(val2) || Date.prototype.getTime.call(val1) !== Date.prototype.getTime.call(val2)) {
            return false;
          }
        } else if (isRegExp(val1)) {
          if (!isRegExp(val2) || !areSimilarRegExps(val1, val2)) {
            return false;
          }
        } else if (isNativeError(val1) || val1 instanceof Error) {
          if (val1.message !== val2.message || val1.name !== val2.name) {
            return false;
          }
        } else if (isArrayBufferView(val1)) {
          if (!strict && (isFloat32Array(val1) || isFloat64Array(val1))) {
            if (!areSimilarFloatArrays(val1, val2)) {
              return false;
            }
          } else if (!areSimilarTypedArrays(val1, val2)) {
            return false;
          }
          var _keys = getOwnNonIndexProperties(val1, ONLY_ENUMERABLE);
          var _keys2 = getOwnNonIndexProperties(val2, ONLY_ENUMERABLE);
          if (_keys.length !== _keys2.length) {
            return false;
          }
          return keyCheck(val1, val2, strict, memos, kNoIterator, _keys);
        } else if (isSet(val1)) {
          if (!isSet(val2) || val1.size !== val2.size) {
            return false;
          }
          return keyCheck(val1, val2, strict, memos, kIsSet);
        } else if (isMap(val1)) {
          if (!isMap(val2) || val1.size !== val2.size) {
            return false;
          }
          return keyCheck(val1, val2, strict, memos, kIsMap);
        } else if (isAnyArrayBuffer(val1)) {
          if (!areEqualArrayBuffers(val1, val2)) {
            return false;
          }
        } else if (isBoxedPrimitive(val1) && !isEqualBoxedPrimitive(val1, val2)) {
          return false;
        }
        return keyCheck(val1, val2, strict, memos, kNoIterator);
      }
      function getEnumerables(val, keys) {
        return keys.filter(function(k) {
          return propertyIsEnumerable(val, k);
        });
      }
      function keyCheck(val1, val2, strict, memos, iterationType, aKeys) {
        if (arguments.length === 5) {
          aKeys = Object.keys(val1);
          var bKeys = Object.keys(val2);
          if (aKeys.length !== bKeys.length) {
            return false;
          }
        }
        var i = 0;
        for (; i < aKeys.length; i++) {
          if (!hasOwnProperty(val2, aKeys[i])) {
            return false;
          }
        }
        if (strict && arguments.length === 5) {
          var symbolKeysA = objectGetOwnPropertySymbols(val1);
          if (symbolKeysA.length !== 0) {
            var count = 0;
            for (i = 0; i < symbolKeysA.length; i++) {
              var key = symbolKeysA[i];
              if (propertyIsEnumerable(val1, key)) {
                if (!propertyIsEnumerable(val2, key)) {
                  return false;
                }
                aKeys.push(key);
                count++;
              } else if (propertyIsEnumerable(val2, key)) {
                return false;
              }
            }
            var symbolKeysB = objectGetOwnPropertySymbols(val2);
            if (symbolKeysA.length !== symbolKeysB.length && getEnumerables(val2, symbolKeysB).length !== count) {
              return false;
            }
          } else {
            var _symbolKeysB = objectGetOwnPropertySymbols(val2);
            if (_symbolKeysB.length !== 0 && getEnumerables(val2, _symbolKeysB).length !== 0) {
              return false;
            }
          }
        }
        if (aKeys.length === 0 && (iterationType === kNoIterator || iterationType === kIsArray && val1.length === 0 || val1.size === 0)) {
          return true;
        }
        if (memos === void 0) {
          memos = {
            val1: /* @__PURE__ */ new Map(),
            val2: /* @__PURE__ */ new Map(),
            position: 0
          };
        } else {
          var val2MemoA = memos.val1.get(val1);
          if (val2MemoA !== void 0) {
            var val2MemoB = memos.val2.get(val2);
            if (val2MemoB !== void 0) {
              return val2MemoA === val2MemoB;
            }
          }
          memos.position++;
        }
        memos.val1.set(val1, memos.position);
        memos.val2.set(val2, memos.position);
        var areEq = objEquiv(val1, val2, strict, aKeys, memos, iterationType);
        memos.val1.delete(val1);
        memos.val2.delete(val2);
        return areEq;
      }
      function setHasEqualElement(set, val1, strict, memo) {
        var setValues = arrayFromSet(set);
        for (var i = 0; i < setValues.length; i++) {
          var val2 = setValues[i];
          if (innerDeepEqual(val1, val2, strict, memo)) {
            set.delete(val2);
            return true;
          }
        }
        return false;
      }
      function findLooseMatchingPrimitives(prim) {
        switch (_typeof(prim)) {
          case "undefined":
            return null;
          case "object":
            return void 0;
          case "symbol":
            return false;
          case "string":
            prim = +prim;
          case "number":
            if (numberIsNaN(prim)) {
              return false;
            }
        }
        return true;
      }
      function setMightHaveLoosePrim(a, b, prim) {
        var altValue = findLooseMatchingPrimitives(prim);
        if (altValue != null)
          return altValue;
        return b.has(altValue) && !a.has(altValue);
      }
      function mapMightHaveLoosePrim(a, b, prim, item, memo) {
        var altValue = findLooseMatchingPrimitives(prim);
        if (altValue != null) {
          return altValue;
        }
        var curB = b.get(altValue);
        if (curB === void 0 && !b.has(altValue) || !innerDeepEqual(item, curB, false, memo)) {
          return false;
        }
        return !a.has(altValue) && innerDeepEqual(item, curB, false, memo);
      }
      function setEquiv(a, b, strict, memo) {
        var set = null;
        var aValues = arrayFromSet(a);
        for (var i = 0; i < aValues.length; i++) {
          var val = aValues[i];
          if (_typeof(val) === "object" && val !== null) {
            if (set === null) {
              set = /* @__PURE__ */ new Set();
            }
            set.add(val);
          } else if (!b.has(val)) {
            if (strict)
              return false;
            if (!setMightHaveLoosePrim(a, b, val)) {
              return false;
            }
            if (set === null) {
              set = /* @__PURE__ */ new Set();
            }
            set.add(val);
          }
        }
        if (set !== null) {
          var bValues = arrayFromSet(b);
          for (var _i = 0; _i < bValues.length; _i++) {
            var _val = bValues[_i];
            if (_typeof(_val) === "object" && _val !== null) {
              if (!setHasEqualElement(set, _val, strict, memo))
                return false;
            } else if (!strict && !a.has(_val) && !setHasEqualElement(set, _val, strict, memo)) {
              return false;
            }
          }
          return set.size === 0;
        }
        return true;
      }
      function mapHasEqualEntry(set, map, key1, item1, strict, memo) {
        var setValues = arrayFromSet(set);
        for (var i = 0; i < setValues.length; i++) {
          var key2 = setValues[i];
          if (innerDeepEqual(key1, key2, strict, memo) && innerDeepEqual(item1, map.get(key2), strict, memo)) {
            set.delete(key2);
            return true;
          }
        }
        return false;
      }
      function mapEquiv(a, b, strict, memo) {
        var set = null;
        var aEntries = arrayFromMap(a);
        for (var i = 0; i < aEntries.length; i++) {
          var _aEntries$i = _slicedToArray(aEntries[i], 2), key = _aEntries$i[0], item1 = _aEntries$i[1];
          if (_typeof(key) === "object" && key !== null) {
            if (set === null) {
              set = /* @__PURE__ */ new Set();
            }
            set.add(key);
          } else {
            var item2 = b.get(key);
            if (item2 === void 0 && !b.has(key) || !innerDeepEqual(item1, item2, strict, memo)) {
              if (strict)
                return false;
              if (!mapMightHaveLoosePrim(a, b, key, item1, memo))
                return false;
              if (set === null) {
                set = /* @__PURE__ */ new Set();
              }
              set.add(key);
            }
          }
        }
        if (set !== null) {
          var bEntries = arrayFromMap(b);
          for (var _i2 = 0; _i2 < bEntries.length; _i2++) {
            var _bEntries$_i = _slicedToArray(bEntries[_i2], 2), _key = _bEntries$_i[0], item = _bEntries$_i[1];
            if (_typeof(_key) === "object" && _key !== null) {
              if (!mapHasEqualEntry(set, a, _key, item, strict, memo))
                return false;
            } else if (!strict && (!a.has(_key) || !innerDeepEqual(a.get(_key), item, false, memo)) && !mapHasEqualEntry(set, a, _key, item, false, memo)) {
              return false;
            }
          }
          return set.size === 0;
        }
        return true;
      }
      function objEquiv(a, b, strict, keys, memos, iterationType) {
        var i = 0;
        if (iterationType === kIsSet) {
          if (!setEquiv(a, b, strict, memos)) {
            return false;
          }
        } else if (iterationType === kIsMap) {
          if (!mapEquiv(a, b, strict, memos)) {
            return false;
          }
        } else if (iterationType === kIsArray) {
          for (; i < a.length; i++) {
            if (hasOwnProperty(a, i)) {
              if (!hasOwnProperty(b, i) || !innerDeepEqual(a[i], b[i], strict, memos)) {
                return false;
              }
            } else if (hasOwnProperty(b, i)) {
              return false;
            } else {
              var keysA = Object.keys(a);
              for (; i < keysA.length; i++) {
                var key = keysA[i];
                if (!hasOwnProperty(b, key) || !innerDeepEqual(a[key], b[key], strict, memos)) {
                  return false;
                }
              }
              if (keysA.length !== Object.keys(b).length) {
                return false;
              }
              return true;
            }
          }
        }
        for (i = 0; i < keys.length; i++) {
          var _key2 = keys[i];
          if (!innerDeepEqual(a[_key2], b[_key2], strict, memos)) {
            return false;
          }
        }
        return true;
      }
      function isDeepEqual(val1, val2) {
        return innerDeepEqual(val1, val2, kLoose);
      }
      function isDeepStrictEqual(val1, val2) {
        return innerDeepEqual(val1, val2, kStrict);
      }
      module.exports = {
        isDeepEqual,
        isDeepStrictEqual
      };
    }
  });

  // node_modules/assert/build/assert.js
  var require_assert = __commonJS({
    "node_modules/assert/build/assert.js"(exports, module) {
      "use strict";
      init_process_shim();
      init_buffer_shim();
      function _typeof(o) {
        "@babel/helpers - typeof";
        return _typeof = "function" == typeof Symbol && "symbol" == typeof Symbol.iterator ? function(o2) {
          return typeof o2;
        } : function(o2) {
          return o2 && "function" == typeof Symbol && o2.constructor === Symbol && o2 !== Symbol.prototype ? "symbol" : typeof o2;
        }, _typeof(o);
      }
      function _defineProperties(target, props) {
        for (var i = 0; i < props.length; i++) {
          var descriptor = props[i];
          descriptor.enumerable = descriptor.enumerable || false;
          descriptor.configurable = true;
          if ("value" in descriptor)
            descriptor.writable = true;
          Object.defineProperty(target, _toPropertyKey(descriptor.key), descriptor);
        }
      }
      function _createClass(Constructor, protoProps, staticProps) {
        if (protoProps)
          _defineProperties(Constructor.prototype, protoProps);
        if (staticProps)
          _defineProperties(Constructor, staticProps);
        Object.defineProperty(Constructor, "prototype", { writable: false });
        return Constructor;
      }
      function _toPropertyKey(arg) {
        var key = _toPrimitive(arg, "string");
        return _typeof(key) === "symbol" ? key : String(key);
      }
      function _toPrimitive(input, hint) {
        if (_typeof(input) !== "object" || input === null)
          return input;
        var prim = input[Symbol.toPrimitive];
        if (prim !== void 0) {
          var res = prim.call(input, hint || "default");
          if (_typeof(res) !== "object")
            return res;
          throw new TypeError("@@toPrimitive must return a primitive value.");
        }
        return (hint === "string" ? String : Number)(input);
      }
      function _classCallCheck(instance, Constructor) {
        if (!(instance instanceof Constructor)) {
          throw new TypeError("Cannot call a class as a function");
        }
      }
      var _require = require_errors();
      var _require$codes = _require.codes;
      var ERR_AMBIGUOUS_ARGUMENT = _require$codes.ERR_AMBIGUOUS_ARGUMENT;
      var ERR_INVALID_ARG_TYPE = _require$codes.ERR_INVALID_ARG_TYPE;
      var ERR_INVALID_ARG_VALUE = _require$codes.ERR_INVALID_ARG_VALUE;
      var ERR_INVALID_RETURN_VALUE = _require$codes.ERR_INVALID_RETURN_VALUE;
      var ERR_MISSING_ARGS = _require$codes.ERR_MISSING_ARGS;
      var AssertionError = require_assertion_error();
      var _require2 = require_util();
      var inspect = _require2.inspect;
      var _require$types = require_util().types;
      var isPromise = _require$types.isPromise;
      var isRegExp = _require$types.isRegExp;
      var objectAssign = require_polyfill()();
      var objectIs = require_polyfill2()();
      var RegExpPrototypeTest = require_callBound()("RegExp.prototype.test");
      var isDeepEqual;
      var isDeepStrictEqual;
      function lazyLoadComparison() {
        var comparison = require_comparisons();
        isDeepEqual = comparison.isDeepEqual;
        isDeepStrictEqual = comparison.isDeepStrictEqual;
      }
      var warned = false;
      var assert4 = module.exports = ok;
      var NO_EXCEPTION_SENTINEL = {};
      function innerFail(obj) {
        if (obj.message instanceof Error)
          throw obj.message;
        throw new AssertionError(obj);
      }
      function fail(actual, expected, message, operator, stackStartFn) {
        var argsLen = arguments.length;
        var internalMessage;
        if (argsLen === 0) {
          internalMessage = "Failed";
        } else if (argsLen === 1) {
          message = actual;
          actual = void 0;
        } else {
          if (warned === false) {
            warned = true;
            var warn = process.emitWarning ? process.emitWarning : console.warn.bind(console);
            warn("assert.fail() with more than one argument is deprecated. Please use assert.strictEqual() instead or only pass a message.", "DeprecationWarning", "DEP0094");
          }
          if (argsLen === 2)
            operator = "!=";
        }
        if (message instanceof Error)
          throw message;
        var errArgs = {
          actual,
          expected,
          operator: operator === void 0 ? "fail" : operator,
          stackStartFn: stackStartFn || fail
        };
        if (message !== void 0) {
          errArgs.message = message;
        }
        var err2 = new AssertionError(errArgs);
        if (internalMessage) {
          err2.message = internalMessage;
          err2.generatedMessage = true;
        }
        throw err2;
      }
      assert4.fail = fail;
      assert4.AssertionError = AssertionError;
      function innerOk(fn, argLen, value, message) {
        if (!value) {
          var generatedMessage = false;
          if (argLen === 0) {
            generatedMessage = true;
            message = "No value argument passed to `assert.ok()`";
          } else if (message instanceof Error) {
            throw message;
          }
          var err2 = new AssertionError({
            actual: value,
            expected: true,
            message,
            operator: "==",
            stackStartFn: fn
          });
          err2.generatedMessage = generatedMessage;
          throw err2;
        }
      }
      function ok() {
        for (var _len = arguments.length, args = new Array(_len), _key = 0; _key < _len; _key++) {
          args[_key] = arguments[_key];
        }
        innerOk.apply(void 0, [ok, args.length].concat(args));
      }
      assert4.ok = ok;
      assert4.equal = function equal(actual, expected, message) {
        if (arguments.length < 2) {
          throw new ERR_MISSING_ARGS("actual", "expected");
        }
        if (actual != expected) {
          innerFail({
            actual,
            expected,
            message,
            operator: "==",
            stackStartFn: equal
          });
        }
      };
      assert4.notEqual = function notEqual(actual, expected, message) {
        if (arguments.length < 2) {
          throw new ERR_MISSING_ARGS("actual", "expected");
        }
        if (actual == expected) {
          innerFail({
            actual,
            expected,
            message,
            operator: "!=",
            stackStartFn: notEqual
          });
        }
      };
      assert4.deepEqual = function deepEqual(actual, expected, message) {
        if (arguments.length < 2) {
          throw new ERR_MISSING_ARGS("actual", "expected");
        }
        if (isDeepEqual === void 0)
          lazyLoadComparison();
        if (!isDeepEqual(actual, expected)) {
          innerFail({
            actual,
            expected,
            message,
            operator: "deepEqual",
            stackStartFn: deepEqual
          });
        }
      };
      assert4.notDeepEqual = function notDeepEqual(actual, expected, message) {
        if (arguments.length < 2) {
          throw new ERR_MISSING_ARGS("actual", "expected");
        }
        if (isDeepEqual === void 0)
          lazyLoadComparison();
        if (isDeepEqual(actual, expected)) {
          innerFail({
            actual,
            expected,
            message,
            operator: "notDeepEqual",
            stackStartFn: notDeepEqual
          });
        }
      };
      assert4.deepStrictEqual = function deepStrictEqual(actual, expected, message) {
        if (arguments.length < 2) {
          throw new ERR_MISSING_ARGS("actual", "expected");
        }
        if (isDeepEqual === void 0)
          lazyLoadComparison();
        if (!isDeepStrictEqual(actual, expected)) {
          innerFail({
            actual,
            expected,
            message,
            operator: "deepStrictEqual",
            stackStartFn: deepStrictEqual
          });
        }
      };
      assert4.notDeepStrictEqual = notDeepStrictEqual;
      function notDeepStrictEqual(actual, expected, message) {
        if (arguments.length < 2) {
          throw new ERR_MISSING_ARGS("actual", "expected");
        }
        if (isDeepEqual === void 0)
          lazyLoadComparison();
        if (isDeepStrictEqual(actual, expected)) {
          innerFail({
            actual,
            expected,
            message,
            operator: "notDeepStrictEqual",
            stackStartFn: notDeepStrictEqual
          });
        }
      }
      assert4.strictEqual = function strictEqual(actual, expected, message) {
        if (arguments.length < 2) {
          throw new ERR_MISSING_ARGS("actual", "expected");
        }
        if (!objectIs(actual, expected)) {
          innerFail({
            actual,
            expected,
            message,
            operator: "strictEqual",
            stackStartFn: strictEqual
          });
        }
      };
      assert4.notStrictEqual = function notStrictEqual(actual, expected, message) {
        if (arguments.length < 2) {
          throw new ERR_MISSING_ARGS("actual", "expected");
        }
        if (objectIs(actual, expected)) {
          innerFail({
            actual,
            expected,
            message,
            operator: "notStrictEqual",
            stackStartFn: notStrictEqual
          });
        }
      };
      var Comparison = /* @__PURE__ */ _createClass(function Comparison2(obj, keys, actual) {
        var _this = this;
        _classCallCheck(this, Comparison2);
        keys.forEach(function(key) {
          if (key in obj) {
            if (actual !== void 0 && typeof actual[key] === "string" && isRegExp(obj[key]) && RegExpPrototypeTest(obj[key], actual[key])) {
              _this[key] = actual[key];
            } else {
              _this[key] = obj[key];
            }
          }
        });
      });
      function compareExceptionKey(actual, expected, key, message, keys, fn) {
        if (!(key in actual) || !isDeepStrictEqual(actual[key], expected[key])) {
          if (!message) {
            var a = new Comparison(actual, keys);
            var b = new Comparison(expected, keys, actual);
            var err2 = new AssertionError({
              actual: a,
              expected: b,
              operator: "deepStrictEqual",
              stackStartFn: fn
            });
            err2.actual = actual;
            err2.expected = expected;
            err2.operator = fn.name;
            throw err2;
          }
          innerFail({
            actual,
            expected,
            message,
            operator: fn.name,
            stackStartFn: fn
          });
        }
      }
      function expectedException(actual, expected, msg, fn) {
        if (typeof expected !== "function") {
          if (isRegExp(expected))
            return RegExpPrototypeTest(expected, actual);
          if (arguments.length === 2) {
            throw new ERR_INVALID_ARG_TYPE("expected", ["Function", "RegExp"], expected);
          }
          if (_typeof(actual) !== "object" || actual === null) {
            var err2 = new AssertionError({
              actual,
              expected,
              message: msg,
              operator: "deepStrictEqual",
              stackStartFn: fn
            });
            err2.operator = fn.name;
            throw err2;
          }
          var keys = Object.keys(expected);
          if (expected instanceof Error) {
            keys.push("name", "message");
          } else if (keys.length === 0) {
            throw new ERR_INVALID_ARG_VALUE("error", expected, "may not be an empty object");
          }
          if (isDeepEqual === void 0)
            lazyLoadComparison();
          keys.forEach(function(key) {
            if (typeof actual[key] === "string" && isRegExp(expected[key]) && RegExpPrototypeTest(expected[key], actual[key])) {
              return;
            }
            compareExceptionKey(actual, expected, key, msg, keys, fn);
          });
          return true;
        }
        if (expected.prototype !== void 0 && actual instanceof expected) {
          return true;
        }
        if (Error.isPrototypeOf(expected)) {
          return false;
        }
        return expected.call({}, actual) === true;
      }
      function getActual(fn) {
        if (typeof fn !== "function") {
          throw new ERR_INVALID_ARG_TYPE("fn", "Function", fn);
        }
        try {
          fn();
        } catch (e) {
          return e;
        }
        return NO_EXCEPTION_SENTINEL;
      }
      function checkIsPromise(obj) {
        return isPromise(obj) || obj !== null && _typeof(obj) === "object" && typeof obj.then === "function" && typeof obj.catch === "function";
      }
      function waitForActual(promiseFn) {
        return Promise.resolve().then(function() {
          var resultPromise;
          if (typeof promiseFn === "function") {
            resultPromise = promiseFn();
            if (!checkIsPromise(resultPromise)) {
              throw new ERR_INVALID_RETURN_VALUE("instance of Promise", "promiseFn", resultPromise);
            }
          } else if (checkIsPromise(promiseFn)) {
            resultPromise = promiseFn;
          } else {
            throw new ERR_INVALID_ARG_TYPE("promiseFn", ["Function", "Promise"], promiseFn);
          }
          return Promise.resolve().then(function() {
            return resultPromise;
          }).then(function() {
            return NO_EXCEPTION_SENTINEL;
          }).catch(function(e) {
            return e;
          });
        });
      }
      function expectsError(stackStartFn, actual, error, message) {
        if (typeof error === "string") {
          if (arguments.length === 4) {
            throw new ERR_INVALID_ARG_TYPE("error", ["Object", "Error", "Function", "RegExp"], error);
          }
          if (_typeof(actual) === "object" && actual !== null) {
            if (actual.message === error) {
              throw new ERR_AMBIGUOUS_ARGUMENT("error/message", 'The error message "'.concat(actual.message, '" is identical to the message.'));
            }
          } else if (actual === error) {
            throw new ERR_AMBIGUOUS_ARGUMENT("error/message", 'The error "'.concat(actual, '" is identical to the message.'));
          }
          message = error;
          error = void 0;
        } else if (error != null && _typeof(error) !== "object" && typeof error !== "function") {
          throw new ERR_INVALID_ARG_TYPE("error", ["Object", "Error", "Function", "RegExp"], error);
        }
        if (actual === NO_EXCEPTION_SENTINEL) {
          var details = "";
          if (error && error.name) {
            details += " (".concat(error.name, ")");
          }
          details += message ? ": ".concat(message) : ".";
          var fnType = stackStartFn.name === "rejects" ? "rejection" : "exception";
          innerFail({
            actual: void 0,
            expected: error,
            operator: stackStartFn.name,
            message: "Missing expected ".concat(fnType).concat(details),
            stackStartFn
          });
        }
        if (error && !expectedException(actual, error, message, stackStartFn)) {
          throw actual;
        }
      }
      function expectsNoError(stackStartFn, actual, error, message) {
        if (actual === NO_EXCEPTION_SENTINEL)
          return;
        if (typeof error === "string") {
          message = error;
          error = void 0;
        }
        if (!error || expectedException(actual, error)) {
          var details = message ? ": ".concat(message) : ".";
          var fnType = stackStartFn.name === "doesNotReject" ? "rejection" : "exception";
          innerFail({
            actual,
            expected: error,
            operator: stackStartFn.name,
            message: "Got unwanted ".concat(fnType).concat(details, "\n") + 'Actual message: "'.concat(actual && actual.message, '"'),
            stackStartFn
          });
        }
        throw actual;
      }
      assert4.throws = function throws(promiseFn) {
        for (var _len2 = arguments.length, args = new Array(_len2 > 1 ? _len2 - 1 : 0), _key2 = 1; _key2 < _len2; _key2++) {
          args[_key2 - 1] = arguments[_key2];
        }
        expectsError.apply(void 0, [throws, getActual(promiseFn)].concat(args));
      };
      assert4.rejects = function rejects(promiseFn) {
        for (var _len3 = arguments.length, args = new Array(_len3 > 1 ? _len3 - 1 : 0), _key3 = 1; _key3 < _len3; _key3++) {
          args[_key3 - 1] = arguments[_key3];
        }
        return waitForActual(promiseFn).then(function(result) {
          return expectsError.apply(void 0, [rejects, result].concat(args));
        });
      };
      assert4.doesNotThrow = function doesNotThrow(fn) {
        for (var _len4 = arguments.length, args = new Array(_len4 > 1 ? _len4 - 1 : 0), _key4 = 1; _key4 < _len4; _key4++) {
          args[_key4 - 1] = arguments[_key4];
        }
        expectsNoError.apply(void 0, [doesNotThrow, getActual(fn)].concat(args));
      };
      assert4.doesNotReject = function doesNotReject(fn) {
        for (var _len5 = arguments.length, args = new Array(_len5 > 1 ? _len5 - 1 : 0), _key5 = 1; _key5 < _len5; _key5++) {
          args[_key5 - 1] = arguments[_key5];
        }
        return waitForActual(fn).then(function(result) {
          return expectsNoError.apply(void 0, [doesNotReject, result].concat(args));
        });
      };
      assert4.ifError = function ifError(err2) {
        if (err2 !== null && err2 !== void 0) {
          var message = "ifError got unwanted exception: ";
          if (_typeof(err2) === "object" && typeof err2.message === "string") {
            if (err2.message.length === 0 && err2.constructor) {
              message += err2.constructor.name;
            } else {
              message += err2.message;
            }
          } else {
            message += inspect(err2);
          }
          var newErr = new AssertionError({
            actual: err2,
            expected: null,
            operator: "ifError",
            message,
            stackStartFn: ifError
          });
          var origStack = err2.stack;
          if (typeof origStack === "string") {
            var tmp2 = origStack.split("\n");
            tmp2.shift();
            var tmp1 = newErr.stack.split("\n");
            for (var i = 0; i < tmp2.length; i++) {
              var pos = tmp1.indexOf(tmp2[i]);
              if (pos !== -1) {
                tmp1 = tmp1.slice(0, pos);
                break;
              }
            }
            newErr.stack = "".concat(tmp1.join("\n"), "\n").concat(tmp2.join("\n"));
          }
          throw newErr;
        }
      };
      function internalMatch(string, regexp, message, fn, fnName) {
        if (!isRegExp(regexp)) {
          throw new ERR_INVALID_ARG_TYPE("regexp", "RegExp", regexp);
        }
        var match = fnName === "match";
        if (typeof string !== "string" || RegExpPrototypeTest(regexp, string) !== match) {
          if (message instanceof Error) {
            throw message;
          }
          var generatedMessage = !message;
          message = message || (typeof string !== "string" ? 'The "string" argument must be of type string. Received type ' + "".concat(_typeof(string), " (").concat(inspect(string), ")") : (match ? "The input did not match the regular expression " : "The input was expected to not match the regular expression ") + "".concat(inspect(regexp), ". Input:\n\n").concat(inspect(string), "\n"));
          var err2 = new AssertionError({
            actual: string,
            expected: regexp,
            message,
            operator: fnName,
            stackStartFn: fn
          });
          err2.generatedMessage = generatedMessage;
          throw err2;
        }
      }
      assert4.match = function match(string, regexp, message) {
        internalMatch(string, regexp, message, match, "match");
      };
      assert4.doesNotMatch = function doesNotMatch(string, regexp, message) {
        internalMatch(string, regexp, message, doesNotMatch, "doesNotMatch");
      };
      function strict() {
        for (var _len6 = arguments.length, args = new Array(_len6), _key6 = 0; _key6 < _len6; _key6++) {
          args[_key6] = arguments[_key6];
        }
        innerOk.apply(void 0, [strict, args.length].concat(args));
      }
      assert4.strict = objectAssign(strict, assert4, {
        equal: assert4.strictEqual,
        deepEqual: assert4.deepStrictEqual,
        notEqual: assert4.notStrictEqual,
        notDeepEqual: assert4.notDeepStrictEqual
      });
      assert4.strict.strict = assert4.strict;
    }
  });

  // node_modules/path-browserify/index.js
  var require_path_browserify = __commonJS({
    "node_modules/path-browserify/index.js"(exports, module) {
      "use strict";
      init_process_shim();
      init_buffer_shim();
      function assertPath(path2) {
        if (typeof path2 !== "string") {
          throw new TypeError("Path must be a string. Received " + JSON.stringify(path2));
        }
      }
      function normalizeStringPosix(path2, allowAboveRoot) {
        var res = "";
        var lastSegmentLength = 0;
        var lastSlash = -1;
        var dots = 0;
        var code;
        for (var i = 0; i <= path2.length; ++i) {
          if (i < path2.length)
            code = path2.charCodeAt(i);
          else if (code === 47)
            break;
          else
            code = 47;
          if (code === 47) {
            if (lastSlash === i - 1 || dots === 1) {
            } else if (lastSlash !== i - 1 && dots === 2) {
              if (res.length < 2 || lastSegmentLength !== 2 || res.charCodeAt(res.length - 1) !== 46 || res.charCodeAt(res.length - 2) !== 46) {
                if (res.length > 2) {
                  var lastSlashIndex = res.lastIndexOf("/");
                  if (lastSlashIndex !== res.length - 1) {
                    if (lastSlashIndex === -1) {
                      res = "";
                      lastSegmentLength = 0;
                    } else {
                      res = res.slice(0, lastSlashIndex);
                      lastSegmentLength = res.length - 1 - res.lastIndexOf("/");
                    }
                    lastSlash = i;
                    dots = 0;
                    continue;
                  }
                } else if (res.length === 2 || res.length === 1) {
                  res = "";
                  lastSegmentLength = 0;
                  lastSlash = i;
                  dots = 0;
                  continue;
                }
              }
              if (allowAboveRoot) {
                if (res.length > 0)
                  res += "/..";
                else
                  res = "..";
                lastSegmentLength = 2;
              }
            } else {
              if (res.length > 0)
                res += "/" + path2.slice(lastSlash + 1, i);
              else
                res = path2.slice(lastSlash + 1, i);
              lastSegmentLength = i - lastSlash - 1;
            }
            lastSlash = i;
            dots = 0;
          } else if (code === 46 && dots !== -1) {
            ++dots;
          } else {
            dots = -1;
          }
        }
        return res;
      }
      function _format(sep, pathObject) {
        var dir = pathObject.dir || pathObject.root;
        var base = pathObject.base || (pathObject.name || "") + (pathObject.ext || "");
        if (!dir) {
          return base;
        }
        if (dir === pathObject.root) {
          return dir + base;
        }
        return dir + sep + base;
      }
      var posix = {
        // path.resolve([from ...], to)
        resolve: function resolve() {
          var resolvedPath = "";
          var resolvedAbsolute = false;
          var cwd2;
          for (var i = arguments.length - 1; i >= -1 && !resolvedAbsolute; i--) {
            var path2;
            if (i >= 0)
              path2 = arguments[i];
            else {
              if (cwd2 === void 0)
                cwd2 = process.cwd();
              path2 = cwd2;
            }
            assertPath(path2);
            if (path2.length === 0) {
              continue;
            }
            resolvedPath = path2 + "/" + resolvedPath;
            resolvedAbsolute = path2.charCodeAt(0) === 47;
          }
          resolvedPath = normalizeStringPosix(resolvedPath, !resolvedAbsolute);
          if (resolvedAbsolute) {
            if (resolvedPath.length > 0)
              return "/" + resolvedPath;
            else
              return "/";
          } else if (resolvedPath.length > 0) {
            return resolvedPath;
          } else {
            return ".";
          }
        },
        normalize: function normalize(path2) {
          assertPath(path2);
          if (path2.length === 0)
            return ".";
          var isAbsolute = path2.charCodeAt(0) === 47;
          var trailingSeparator = path2.charCodeAt(path2.length - 1) === 47;
          path2 = normalizeStringPosix(path2, !isAbsolute);
          if (path2.length === 0 && !isAbsolute)
            path2 = ".";
          if (path2.length > 0 && trailingSeparator)
            path2 += "/";
          if (isAbsolute)
            return "/" + path2;
          return path2;
        },
        isAbsolute: function isAbsolute(path2) {
          assertPath(path2);
          return path2.length > 0 && path2.charCodeAt(0) === 47;
        },
        join: function join() {
          if (arguments.length === 0)
            return ".";
          var joined;
          for (var i = 0; i < arguments.length; ++i) {
            var arg = arguments[i];
            assertPath(arg);
            if (arg.length > 0) {
              if (joined === void 0)
                joined = arg;
              else
                joined += "/" + arg;
            }
          }
          if (joined === void 0)
            return ".";
          return posix.normalize(joined);
        },
        relative: function relative(from, to) {
          assertPath(from);
          assertPath(to);
          if (from === to)
            return "";
          from = posix.resolve(from);
          to = posix.resolve(to);
          if (from === to)
            return "";
          var fromStart = 1;
          for (; fromStart < from.length; ++fromStart) {
            if (from.charCodeAt(fromStart) !== 47)
              break;
          }
          var fromEnd = from.length;
          var fromLen = fromEnd - fromStart;
          var toStart = 1;
          for (; toStart < to.length; ++toStart) {
            if (to.charCodeAt(toStart) !== 47)
              break;
          }
          var toEnd = to.length;
          var toLen = toEnd - toStart;
          var length = fromLen < toLen ? fromLen : toLen;
          var lastCommonSep = -1;
          var i = 0;
          for (; i <= length; ++i) {
            if (i === length) {
              if (toLen > length) {
                if (to.charCodeAt(toStart + i) === 47) {
                  return to.slice(toStart + i + 1);
                } else if (i === 0) {
                  return to.slice(toStart + i);
                }
              } else if (fromLen > length) {
                if (from.charCodeAt(fromStart + i) === 47) {
                  lastCommonSep = i;
                } else if (i === 0) {
                  lastCommonSep = 0;
                }
              }
              break;
            }
            var fromCode = from.charCodeAt(fromStart + i);
            var toCode = to.charCodeAt(toStart + i);
            if (fromCode !== toCode)
              break;
            else if (fromCode === 47)
              lastCommonSep = i;
          }
          var out = "";
          for (i = fromStart + lastCommonSep + 1; i <= fromEnd; ++i) {
            if (i === fromEnd || from.charCodeAt(i) === 47) {
              if (out.length === 0)
                out += "..";
              else
                out += "/..";
            }
          }
          if (out.length > 0)
            return out + to.slice(toStart + lastCommonSep);
          else {
            toStart += lastCommonSep;
            if (to.charCodeAt(toStart) === 47)
              ++toStart;
            return to.slice(toStart);
          }
        },
        _makeLong: function _makeLong(path2) {
          return path2;
        },
        dirname: function dirname(path2) {
          assertPath(path2);
          if (path2.length === 0)
            return ".";
          var code = path2.charCodeAt(0);
          var hasRoot = code === 47;
          var end = -1;
          var matchedSlash = true;
          for (var i = path2.length - 1; i >= 1; --i) {
            code = path2.charCodeAt(i);
            if (code === 47) {
              if (!matchedSlash) {
                end = i;
                break;
              }
            } else {
              matchedSlash = false;
            }
          }
          if (end === -1)
            return hasRoot ? "/" : ".";
          if (hasRoot && end === 1)
            return "//";
          return path2.slice(0, end);
        },
        basename: function basename(path2, ext) {
          if (ext !== void 0 && typeof ext !== "string")
            throw new TypeError('"ext" argument must be a string');
          assertPath(path2);
          var start = 0;
          var end = -1;
          var matchedSlash = true;
          var i;
          if (ext !== void 0 && ext.length > 0 && ext.length <= path2.length) {
            if (ext.length === path2.length && ext === path2)
              return "";
            var extIdx = ext.length - 1;
            var firstNonSlashEnd = -1;
            for (i = path2.length - 1; i >= 0; --i) {
              var code = path2.charCodeAt(i);
              if (code === 47) {
                if (!matchedSlash) {
                  start = i + 1;
                  break;
                }
              } else {
                if (firstNonSlashEnd === -1) {
                  matchedSlash = false;
                  firstNonSlashEnd = i + 1;
                }
                if (extIdx >= 0) {
                  if (code === ext.charCodeAt(extIdx)) {
                    if (--extIdx === -1) {
                      end = i;
                    }
                  } else {
                    extIdx = -1;
                    end = firstNonSlashEnd;
                  }
                }
              }
            }
            if (start === end)
              end = firstNonSlashEnd;
            else if (end === -1)
              end = path2.length;
            return path2.slice(start, end);
          } else {
            for (i = path2.length - 1; i >= 0; --i) {
              if (path2.charCodeAt(i) === 47) {
                if (!matchedSlash) {
                  start = i + 1;
                  break;
                }
              } else if (end === -1) {
                matchedSlash = false;
                end = i + 1;
              }
            }
            if (end === -1)
              return "";
            return path2.slice(start, end);
          }
        },
        extname: function extname(path2) {
          assertPath(path2);
          var startDot = -1;
          var startPart = 0;
          var end = -1;
          var matchedSlash = true;
          var preDotState = 0;
          for (var i = path2.length - 1; i >= 0; --i) {
            var code = path2.charCodeAt(i);
            if (code === 47) {
              if (!matchedSlash) {
                startPart = i + 1;
                break;
              }
              continue;
            }
            if (end === -1) {
              matchedSlash = false;
              end = i + 1;
            }
            if (code === 46) {
              if (startDot === -1)
                startDot = i;
              else if (preDotState !== 1)
                preDotState = 1;
            } else if (startDot !== -1) {
              preDotState = -1;
            }
          }
          if (startDot === -1 || end === -1 || // We saw a non-dot character immediately before the dot
          preDotState === 0 || // The (right-most) trimmed path component is exactly '..'
          preDotState === 1 && startDot === end - 1 && startDot === startPart + 1) {
            return "";
          }
          return path2.slice(startDot, end);
        },
        format: function format(pathObject) {
          if (pathObject === null || typeof pathObject !== "object") {
            throw new TypeError('The "pathObject" argument must be of type Object. Received type ' + typeof pathObject);
          }
          return _format("/", pathObject);
        },
        parse: function parse(path2) {
          assertPath(path2);
          var ret = { root: "", dir: "", base: "", ext: "", name: "" };
          if (path2.length === 0)
            return ret;
          var code = path2.charCodeAt(0);
          var isAbsolute = code === 47;
          var start;
          if (isAbsolute) {
            ret.root = "/";
            start = 1;
          } else {
            start = 0;
          }
          var startDot = -1;
          var startPart = 0;
          var end = -1;
          var matchedSlash = true;
          var i = path2.length - 1;
          var preDotState = 0;
          for (; i >= start; --i) {
            code = path2.charCodeAt(i);
            if (code === 47) {
              if (!matchedSlash) {
                startPart = i + 1;
                break;
              }
              continue;
            }
            if (end === -1) {
              matchedSlash = false;
              end = i + 1;
            }
            if (code === 46) {
              if (startDot === -1)
                startDot = i;
              else if (preDotState !== 1)
                preDotState = 1;
            } else if (startDot !== -1) {
              preDotState = -1;
            }
          }
          if (startDot === -1 || end === -1 || // We saw a non-dot character immediately before the dot
          preDotState === 0 || // The (right-most) trimmed path component is exactly '..'
          preDotState === 1 && startDot === end - 1 && startDot === startPart + 1) {
            if (end !== -1) {
              if (startPart === 0 && isAbsolute)
                ret.base = ret.name = path2.slice(1, end);
              else
                ret.base = ret.name = path2.slice(startPart, end);
            }
          } else {
            if (startPart === 0 && isAbsolute) {
              ret.name = path2.slice(1, startDot);
              ret.base = path2.slice(1, end);
            } else {
              ret.name = path2.slice(startPart, startDot);
              ret.base = path2.slice(startPart, end);
            }
            ret.ext = path2.slice(startDot, end);
          }
          if (startPart > 0)
            ret.dir = path2.slice(0, startPart - 1);
          else if (isAbsolute)
            ret.dir = "/";
          return ret;
        },
        sep: "/",
        delimiter: ":",
        win32: null,
        posix: null
      };
      posix.posix = posix;
      module.exports = posix;
    }
  });

  // node_modules/@wasmer/wasi/lib/polyfills/bigint.js
  var require_bigint = __commonJS({
    "node_modules/@wasmer/wasi/lib/polyfills/bigint.js"(exports) {
      "use strict";
      init_process_shim();
      init_buffer_shim();
      Object.defineProperty(exports, "__esModule", { value: true });
      var globalObj = typeof globalThis !== "undefined" ? globalThis : typeof self !== "undefined" ? self : {};
      exports.BigIntPolyfill = typeof BigInt !== "undefined" ? BigInt : globalObj.BigInt || Number;
    }
  });

  // node_modules/@wasmer/wasi/lib/constants.js
  var require_constants = __commonJS({
    "node_modules/@wasmer/wasi/lib/constants.js"(exports) {
      "use strict";
      init_process_shim();
      init_buffer_shim();
      Object.defineProperty(exports, "__esModule", { value: true });
      var bigint_1 = require_bigint();
      exports.WASI_ESUCCESS = 0;
      exports.WASI_E2BIG = 1;
      exports.WASI_EACCES = 2;
      exports.WASI_EADDRINUSE = 3;
      exports.WASI_EADDRNOTAVAIL = 4;
      exports.WASI_EAFNOSUPPORT = 5;
      exports.WASI_EAGAIN = 6;
      exports.WASI_EALREADY = 7;
      exports.WASI_EBADF = 8;
      exports.WASI_EBADMSG = 9;
      exports.WASI_EBUSY = 10;
      exports.WASI_ECANCELED = 11;
      exports.WASI_ECHILD = 12;
      exports.WASI_ECONNABORTED = 13;
      exports.WASI_ECONNREFUSED = 14;
      exports.WASI_ECONNRESET = 15;
      exports.WASI_EDEADLK = 16;
      exports.WASI_EDESTADDRREQ = 17;
      exports.WASI_EDOM = 18;
      exports.WASI_EDQUOT = 19;
      exports.WASI_EEXIST = 20;
      exports.WASI_EFAULT = 21;
      exports.WASI_EFBIG = 22;
      exports.WASI_EHOSTUNREACH = 23;
      exports.WASI_EIDRM = 24;
      exports.WASI_EILSEQ = 25;
      exports.WASI_EINPROGRESS = 26;
      exports.WASI_EINTR = 27;
      exports.WASI_EINVAL = 28;
      exports.WASI_EIO = 29;
      exports.WASI_EISCONN = 30;
      exports.WASI_EISDIR = 31;
      exports.WASI_ELOOP = 32;
      exports.WASI_EMFILE = 33;
      exports.WASI_EMLINK = 34;
      exports.WASI_EMSGSIZE = 35;
      exports.WASI_EMULTIHOP = 36;
      exports.WASI_ENAMETOOLONG = 37;
      exports.WASI_ENETDOWN = 38;
      exports.WASI_ENETRESET = 39;
      exports.WASI_ENETUNREACH = 40;
      exports.WASI_ENFILE = 41;
      exports.WASI_ENOBUFS = 42;
      exports.WASI_ENODEV = 43;
      exports.WASI_ENOENT = 44;
      exports.WASI_ENOEXEC = 45;
      exports.WASI_ENOLCK = 46;
      exports.WASI_ENOLINK = 47;
      exports.WASI_ENOMEM = 48;
      exports.WASI_ENOMSG = 49;
      exports.WASI_ENOPROTOOPT = 50;
      exports.WASI_ENOSPC = 51;
      exports.WASI_ENOSYS = 52;
      exports.WASI_ENOTCONN = 53;
      exports.WASI_ENOTDIR = 54;
      exports.WASI_ENOTEMPTY = 55;
      exports.WASI_ENOTRECOVERABLE = 56;
      exports.WASI_ENOTSOCK = 57;
      exports.WASI_ENOTSUP = 58;
      exports.WASI_ENOTTY = 59;
      exports.WASI_ENXIO = 60;
      exports.WASI_EOVERFLOW = 61;
      exports.WASI_EOWNERDEAD = 62;
      exports.WASI_EPERM = 63;
      exports.WASI_EPIPE = 64;
      exports.WASI_EPROTO = 65;
      exports.WASI_EPROTONOSUPPORT = 66;
      exports.WASI_EPROTOTYPE = 67;
      exports.WASI_ERANGE = 68;
      exports.WASI_EROFS = 69;
      exports.WASI_ESPIPE = 70;
      exports.WASI_ESRCH = 71;
      exports.WASI_ESTALE = 72;
      exports.WASI_ETIMEDOUT = 73;
      exports.WASI_ETXTBSY = 74;
      exports.WASI_EXDEV = 75;
      exports.WASI_ENOTCAPABLE = 76;
      exports.WASI_SIGABRT = 0;
      exports.WASI_SIGALRM = 1;
      exports.WASI_SIGBUS = 2;
      exports.WASI_SIGCHLD = 3;
      exports.WASI_SIGCONT = 4;
      exports.WASI_SIGFPE = 5;
      exports.WASI_SIGHUP = 6;
      exports.WASI_SIGILL = 7;
      exports.WASI_SIGINT = 8;
      exports.WASI_SIGKILL = 9;
      exports.WASI_SIGPIPE = 10;
      exports.WASI_SIGQUIT = 11;
      exports.WASI_SIGSEGV = 12;
      exports.WASI_SIGSTOP = 13;
      exports.WASI_SIGTERM = 14;
      exports.WASI_SIGTRAP = 15;
      exports.WASI_SIGTSTP = 16;
      exports.WASI_SIGTTIN = 17;
      exports.WASI_SIGTTOU = 18;
      exports.WASI_SIGURG = 19;
      exports.WASI_SIGUSR1 = 20;
      exports.WASI_SIGUSR2 = 21;
      exports.WASI_SIGVTALRM = 22;
      exports.WASI_SIGXCPU = 23;
      exports.WASI_SIGXFSZ = 24;
      exports.WASI_FILETYPE_UNKNOWN = 0;
      exports.WASI_FILETYPE_BLOCK_DEVICE = 1;
      exports.WASI_FILETYPE_CHARACTER_DEVICE = 2;
      exports.WASI_FILETYPE_DIRECTORY = 3;
      exports.WASI_FILETYPE_REGULAR_FILE = 4;
      exports.WASI_FILETYPE_SOCKET_DGRAM = 5;
      exports.WASI_FILETYPE_SOCKET_STREAM = 6;
      exports.WASI_FILETYPE_SYMBOLIC_LINK = 7;
      exports.WASI_FDFLAG_APPEND = 1;
      exports.WASI_FDFLAG_DSYNC = 2;
      exports.WASI_FDFLAG_NONBLOCK = 4;
      exports.WASI_FDFLAG_RSYNC = 8;
      exports.WASI_FDFLAG_SYNC = 16;
      exports.WASI_RIGHT_FD_DATASYNC = bigint_1.BigIntPolyfill(1);
      exports.WASI_RIGHT_FD_READ = bigint_1.BigIntPolyfill(2);
      exports.WASI_RIGHT_FD_SEEK = bigint_1.BigIntPolyfill(4);
      exports.WASI_RIGHT_FD_FDSTAT_SET_FLAGS = bigint_1.BigIntPolyfill(8);
      exports.WASI_RIGHT_FD_SYNC = bigint_1.BigIntPolyfill(16);
      exports.WASI_RIGHT_FD_TELL = bigint_1.BigIntPolyfill(32);
      exports.WASI_RIGHT_FD_WRITE = bigint_1.BigIntPolyfill(64);
      exports.WASI_RIGHT_FD_ADVISE = bigint_1.BigIntPolyfill(128);
      exports.WASI_RIGHT_FD_ALLOCATE = bigint_1.BigIntPolyfill(256);
      exports.WASI_RIGHT_PATH_CREATE_DIRECTORY = bigint_1.BigIntPolyfill(512);
      exports.WASI_RIGHT_PATH_CREATE_FILE = bigint_1.BigIntPolyfill(1024);
      exports.WASI_RIGHT_PATH_LINK_SOURCE = bigint_1.BigIntPolyfill(2048);
      exports.WASI_RIGHT_PATH_LINK_TARGET = bigint_1.BigIntPolyfill(4096);
      exports.WASI_RIGHT_PATH_OPEN = bigint_1.BigIntPolyfill(8192);
      exports.WASI_RIGHT_FD_READDIR = bigint_1.BigIntPolyfill(16384);
      exports.WASI_RIGHT_PATH_READLINK = bigint_1.BigIntPolyfill(32768);
      exports.WASI_RIGHT_PATH_RENAME_SOURCE = bigint_1.BigIntPolyfill(65536);
      exports.WASI_RIGHT_PATH_RENAME_TARGET = bigint_1.BigIntPolyfill(131072);
      exports.WASI_RIGHT_PATH_FILESTAT_GET = bigint_1.BigIntPolyfill(262144);
      exports.WASI_RIGHT_PATH_FILESTAT_SET_SIZE = bigint_1.BigIntPolyfill(524288);
      exports.WASI_RIGHT_PATH_FILESTAT_SET_TIMES = bigint_1.BigIntPolyfill(1048576);
      exports.WASI_RIGHT_FD_FILESTAT_GET = bigint_1.BigIntPolyfill(2097152);
      exports.WASI_RIGHT_FD_FILESTAT_SET_SIZE = bigint_1.BigIntPolyfill(4194304);
      exports.WASI_RIGHT_FD_FILESTAT_SET_TIMES = bigint_1.BigIntPolyfill(8388608);
      exports.WASI_RIGHT_PATH_SYMLINK = bigint_1.BigIntPolyfill(16777216);
      exports.WASI_RIGHT_PATH_REMOVE_DIRECTORY = bigint_1.BigIntPolyfill(33554432);
      exports.WASI_RIGHT_PATH_UNLINK_FILE = bigint_1.BigIntPolyfill(67108864);
      exports.WASI_RIGHT_POLL_FD_READWRITE = bigint_1.BigIntPolyfill(134217728);
      exports.WASI_RIGHT_SOCK_SHUTDOWN = bigint_1.BigIntPolyfill(268435456);
      exports.RIGHTS_ALL = exports.WASI_RIGHT_FD_DATASYNC | exports.WASI_RIGHT_FD_READ | exports.WASI_RIGHT_FD_SEEK | exports.WASI_RIGHT_FD_FDSTAT_SET_FLAGS | exports.WASI_RIGHT_FD_SYNC | exports.WASI_RIGHT_FD_TELL | exports.WASI_RIGHT_FD_WRITE | exports.WASI_RIGHT_FD_ADVISE | exports.WASI_RIGHT_FD_ALLOCATE | exports.WASI_RIGHT_PATH_CREATE_DIRECTORY | exports.WASI_RIGHT_PATH_CREATE_FILE | exports.WASI_RIGHT_PATH_LINK_SOURCE | exports.WASI_RIGHT_PATH_LINK_TARGET | exports.WASI_RIGHT_PATH_OPEN | exports.WASI_RIGHT_FD_READDIR | exports.WASI_RIGHT_PATH_READLINK | exports.WASI_RIGHT_PATH_RENAME_SOURCE | exports.WASI_RIGHT_PATH_RENAME_TARGET | exports.WASI_RIGHT_PATH_FILESTAT_GET | exports.WASI_RIGHT_PATH_FILESTAT_SET_SIZE | exports.WASI_RIGHT_PATH_FILESTAT_SET_TIMES | exports.WASI_RIGHT_FD_FILESTAT_GET | exports.WASI_RIGHT_FD_FILESTAT_SET_TIMES | exports.WASI_RIGHT_FD_FILESTAT_SET_SIZE | exports.WASI_RIGHT_PATH_SYMLINK | exports.WASI_RIGHT_PATH_UNLINK_FILE | exports.WASI_RIGHT_PATH_REMOVE_DIRECTORY | exports.WASI_RIGHT_POLL_FD_READWRITE | exports.WASI_RIGHT_SOCK_SHUTDOWN;
      exports.RIGHTS_BLOCK_DEVICE_BASE = exports.RIGHTS_ALL;
      exports.RIGHTS_BLOCK_DEVICE_INHERITING = exports.RIGHTS_ALL;
      exports.RIGHTS_CHARACTER_DEVICE_BASE = exports.RIGHTS_ALL;
      exports.RIGHTS_CHARACTER_DEVICE_INHERITING = exports.RIGHTS_ALL;
      exports.RIGHTS_REGULAR_FILE_BASE = exports.WASI_RIGHT_FD_DATASYNC | exports.WASI_RIGHT_FD_READ | exports.WASI_RIGHT_FD_SEEK | exports.WASI_RIGHT_FD_FDSTAT_SET_FLAGS | exports.WASI_RIGHT_FD_SYNC | exports.WASI_RIGHT_FD_TELL | exports.WASI_RIGHT_FD_WRITE | exports.WASI_RIGHT_FD_ADVISE | exports.WASI_RIGHT_FD_ALLOCATE | exports.WASI_RIGHT_FD_FILESTAT_GET | exports.WASI_RIGHT_FD_FILESTAT_SET_SIZE | exports.WASI_RIGHT_FD_FILESTAT_SET_TIMES | exports.WASI_RIGHT_POLL_FD_READWRITE;
      exports.RIGHTS_REGULAR_FILE_INHERITING = bigint_1.BigIntPolyfill(0);
      exports.RIGHTS_DIRECTORY_BASE = exports.WASI_RIGHT_FD_FDSTAT_SET_FLAGS | exports.WASI_RIGHT_FD_SYNC | exports.WASI_RIGHT_FD_ADVISE | exports.WASI_RIGHT_PATH_CREATE_DIRECTORY | exports.WASI_RIGHT_PATH_CREATE_FILE | exports.WASI_RIGHT_PATH_LINK_SOURCE | exports.WASI_RIGHT_PATH_LINK_TARGET | exports.WASI_RIGHT_PATH_OPEN | exports.WASI_RIGHT_FD_READDIR | exports.WASI_RIGHT_PATH_READLINK | exports.WASI_RIGHT_PATH_RENAME_SOURCE | exports.WASI_RIGHT_PATH_RENAME_TARGET | exports.WASI_RIGHT_PATH_FILESTAT_GET | exports.WASI_RIGHT_PATH_FILESTAT_SET_SIZE | exports.WASI_RIGHT_PATH_FILESTAT_SET_TIMES | exports.WASI_RIGHT_FD_FILESTAT_GET | exports.WASI_RIGHT_FD_FILESTAT_SET_TIMES | exports.WASI_RIGHT_PATH_SYMLINK | exports.WASI_RIGHT_PATH_UNLINK_FILE | exports.WASI_RIGHT_PATH_REMOVE_DIRECTORY | exports.WASI_RIGHT_POLL_FD_READWRITE;
      exports.RIGHTS_DIRECTORY_INHERITING = exports.RIGHTS_DIRECTORY_BASE | exports.RIGHTS_REGULAR_FILE_BASE;
      exports.RIGHTS_SOCKET_BASE = exports.WASI_RIGHT_FD_READ | exports.WASI_RIGHT_FD_FDSTAT_SET_FLAGS | exports.WASI_RIGHT_FD_WRITE | exports.WASI_RIGHT_FD_FILESTAT_GET | exports.WASI_RIGHT_POLL_FD_READWRITE | exports.WASI_RIGHT_SOCK_SHUTDOWN;
      exports.RIGHTS_SOCKET_INHERITING = exports.RIGHTS_ALL;
      exports.RIGHTS_TTY_BASE = exports.WASI_RIGHT_FD_READ | exports.WASI_RIGHT_FD_FDSTAT_SET_FLAGS | exports.WASI_RIGHT_FD_WRITE | exports.WASI_RIGHT_FD_FILESTAT_GET | exports.WASI_RIGHT_POLL_FD_READWRITE;
      exports.RIGHTS_TTY_INHERITING = bigint_1.BigIntPolyfill(0);
      exports.WASI_CLOCK_REALTIME = 0;
      exports.WASI_CLOCK_MONOTONIC = 1;
      exports.WASI_CLOCK_PROCESS_CPUTIME_ID = 2;
      exports.WASI_CLOCK_THREAD_CPUTIME_ID = 3;
      exports.WASI_EVENTTYPE_CLOCK = 0;
      exports.WASI_EVENTTYPE_FD_READ = 1;
      exports.WASI_EVENTTYPE_FD_WRITE = 2;
      exports.WASI_FILESTAT_SET_ATIM = 1 << 0;
      exports.WASI_FILESTAT_SET_ATIM_NOW = 1 << 1;
      exports.WASI_FILESTAT_SET_MTIM = 1 << 2;
      exports.WASI_FILESTAT_SET_MTIM_NOW = 1 << 3;
      exports.WASI_O_CREAT = 1 << 0;
      exports.WASI_O_DIRECTORY = 1 << 1;
      exports.WASI_O_EXCL = 1 << 2;
      exports.WASI_O_TRUNC = 1 << 3;
      exports.WASI_PREOPENTYPE_DIR = 0;
      exports.WASI_DIRCOOKIE_START = 0;
      exports.WASI_STDIN_FILENO = 0;
      exports.WASI_STDOUT_FILENO = 1;
      exports.WASI_STDERR_FILENO = 2;
      exports.WASI_WHENCE_SET = 0;
      exports.WASI_WHENCE_CUR = 1;
      exports.WASI_WHENCE_END = 2;
      exports.ERROR_MAP = {
        E2BIG: exports.WASI_E2BIG,
        EACCES: exports.WASI_EACCES,
        EADDRINUSE: exports.WASI_EADDRINUSE,
        EADDRNOTAVAIL: exports.WASI_EADDRNOTAVAIL,
        EAFNOSUPPORT: exports.WASI_EAFNOSUPPORT,
        EALREADY: exports.WASI_EALREADY,
        EAGAIN: exports.WASI_EAGAIN,
        // EBADE: WASI_EBADE,
        EBADF: exports.WASI_EBADF,
        // EBADFD: WASI_EBADFD,
        EBADMSG: exports.WASI_EBADMSG,
        // EBADR: WASI_EBADR,
        // EBADRQC: WASI_EBADRQC,
        // EBADSLT: WASI_EBADSLT,
        EBUSY: exports.WASI_EBUSY,
        ECANCELED: exports.WASI_ECANCELED,
        ECHILD: exports.WASI_ECHILD,
        // ECHRNG: WASI_ECHRNG,
        // ECOMM: WASI_ECOMM,
        ECONNABORTED: exports.WASI_ECONNABORTED,
        ECONNREFUSED: exports.WASI_ECONNREFUSED,
        ECONNRESET: exports.WASI_ECONNRESET,
        EDEADLOCK: exports.WASI_EDEADLK,
        EDESTADDRREQ: exports.WASI_EDESTADDRREQ,
        EDOM: exports.WASI_EDOM,
        EDQUOT: exports.WASI_EDQUOT,
        EEXIST: exports.WASI_EEXIST,
        EFAULT: exports.WASI_EFAULT,
        EFBIG: exports.WASI_EFBIG,
        EHOSTDOWN: exports.WASI_EHOSTUNREACH,
        EHOSTUNREACH: exports.WASI_EHOSTUNREACH,
        // EHWPOISON: WASI_EHWPOISON,
        EIDRM: exports.WASI_EIDRM,
        EILSEQ: exports.WASI_EILSEQ,
        EINPROGRESS: exports.WASI_EINPROGRESS,
        EINTR: exports.WASI_EINTR,
        EINVAL: exports.WASI_EINVAL,
        EIO: exports.WASI_EIO,
        EISCONN: exports.WASI_EISCONN,
        EISDIR: exports.WASI_EISDIR,
        ELOOP: exports.WASI_ELOOP,
        EMFILE: exports.WASI_EMFILE,
        EMLINK: exports.WASI_EMLINK,
        EMSGSIZE: exports.WASI_EMSGSIZE,
        EMULTIHOP: exports.WASI_EMULTIHOP,
        ENAMETOOLONG: exports.WASI_ENAMETOOLONG,
        ENETDOWN: exports.WASI_ENETDOWN,
        ENETRESET: exports.WASI_ENETRESET,
        ENETUNREACH: exports.WASI_ENETUNREACH,
        ENFILE: exports.WASI_ENFILE,
        ENOBUFS: exports.WASI_ENOBUFS,
        ENODEV: exports.WASI_ENODEV,
        ENOENT: exports.WASI_ENOENT,
        ENOEXEC: exports.WASI_ENOEXEC,
        ENOLCK: exports.WASI_ENOLCK,
        ENOLINK: exports.WASI_ENOLINK,
        ENOMEM: exports.WASI_ENOMEM,
        ENOMSG: exports.WASI_ENOMSG,
        ENOPROTOOPT: exports.WASI_ENOPROTOOPT,
        ENOSPC: exports.WASI_ENOSPC,
        ENOSYS: exports.WASI_ENOSYS,
        ENOTCONN: exports.WASI_ENOTCONN,
        ENOTDIR: exports.WASI_ENOTDIR,
        ENOTEMPTY: exports.WASI_ENOTEMPTY,
        ENOTRECOVERABLE: exports.WASI_ENOTRECOVERABLE,
        ENOTSOCK: exports.WASI_ENOTSOCK,
        ENOTTY: exports.WASI_ENOTTY,
        ENXIO: exports.WASI_ENXIO,
        EOVERFLOW: exports.WASI_EOVERFLOW,
        EOWNERDEAD: exports.WASI_EOWNERDEAD,
        EPERM: exports.WASI_EPERM,
        EPIPE: exports.WASI_EPIPE,
        EPROTO: exports.WASI_EPROTO,
        EPROTONOSUPPORT: exports.WASI_EPROTONOSUPPORT,
        EPROTOTYPE: exports.WASI_EPROTOTYPE,
        ERANGE: exports.WASI_ERANGE,
        EROFS: exports.WASI_EROFS,
        ESPIPE: exports.WASI_ESPIPE,
        ESRCH: exports.WASI_ESRCH,
        ESTALE: exports.WASI_ESTALE,
        ETIMEDOUT: exports.WASI_ETIMEDOUT,
        ETXTBSY: exports.WASI_ETXTBSY,
        EXDEV: exports.WASI_EXDEV
      };
      exports.SIGNAL_MAP = {
        [exports.WASI_SIGHUP]: "SIGHUP",
        [exports.WASI_SIGINT]: "SIGINT",
        [exports.WASI_SIGQUIT]: "SIGQUIT",
        [exports.WASI_SIGILL]: "SIGILL",
        [exports.WASI_SIGTRAP]: "SIGTRAP",
        [exports.WASI_SIGABRT]: "SIGABRT",
        [exports.WASI_SIGBUS]: "SIGBUS",
        [exports.WASI_SIGFPE]: "SIGFPE",
        [exports.WASI_SIGKILL]: "SIGKILL",
        [exports.WASI_SIGUSR1]: "SIGUSR1",
        [exports.WASI_SIGSEGV]: "SIGSEGV",
        [exports.WASI_SIGUSR2]: "SIGUSR2",
        [exports.WASI_SIGPIPE]: "SIGPIPE",
        [exports.WASI_SIGALRM]: "SIGALRM",
        [exports.WASI_SIGTERM]: "SIGTERM",
        [exports.WASI_SIGCHLD]: "SIGCHLD",
        [exports.WASI_SIGCONT]: "SIGCONT",
        [exports.WASI_SIGSTOP]: "SIGSTOP",
        [exports.WASI_SIGTSTP]: "SIGTSTP",
        [exports.WASI_SIGTTIN]: "SIGTTIN",
        [exports.WASI_SIGTTOU]: "SIGTTOU",
        [exports.WASI_SIGURG]: "SIGURG",
        [exports.WASI_SIGXCPU]: "SIGXCPU",
        [exports.WASI_SIGXFSZ]: "SIGXFSZ",
        [exports.WASI_SIGVTALRM]: "SIGVTALRM"
      };
    }
  });

  // node_modules/wasi-kernel/src/kernel/bits/stubs.ts
  var names, stubs, stubs_default;
  var init_stubs = __esm({
    "node_modules/wasi-kernel/src/kernel/bits/stubs.ts"() {
      init_process_shim();
      init_buffer_shim();
      names = [
        "signal",
        "raise",
        "pipe",
        "dup",
        "dup2",
        "dup3",
        "execv",
        "execl",
        "execvp",
        "execlp",
        "getpwnam",
        "getpwnam_r",
        "getpwent",
        "tcsetpgrp",
        "kill",
        "killpg",
        "fork",
        "realpath",
        "getpid",
        "getpgid",
        "setpgid",
        "getpgrp",
        "setpgrp",
        "issetugid",
        "strsignal",
        "wait4",
        "waitpid",
        "getuid",
        "geteuid",
        "getgid",
        "getegid",
        "getsid",
        "setegid",
        "seteuid",
        "setgid",
        "setuid",
        "setsid",
        "umask",
        "getrlimit",
        "setrlimit",
        "getpriority",
        "setpriority",
        "sigfillset",
        "sigprocmask",
        "sigsetmask",
        "siginterrupt",
        "sigaltstack",
        "sigwait",
        "sigpending",
        "getppid",
        "tcgetpgrp",
        "gethostname",
        "tzset",
        "flockfile",
        "ftrylockfile",
        "funlockfile",
        "getpwuid",
        "getpwuid_r",
        "setpwent",
        "endpwent",
        "getgrgid",
        "setreuid",
        "setregid",
        "strmode",
        "acl_get_file",
        "acl_free",
        "acl_get_entry",
        "fchdir",
        "chown",
        "fchown",
        "lchown",
        "fchownat",
        "chmod",
        "fchmod",
        "fchmodat",
        "lchmod",
        "chflags",
        "fchflags",
        "lchflags",
        "chroot",
        "getgroups",
        "utimes",
        "futimes",
        "lutimes",
        "clock_gettime",
        "clock_settime",
        "alarm",
        "system",
        "mkfifo",
        "mkstemp",
        "mkstemps",
        "mkostemp",
        "mkostemps",
        "tmpfile",
        "settimeofday",
        "bsd_signal",
        "ttyname",
        "ttyname_r",
        "ctermid_r",
        "socket",
        "connect",
        "popen",
        "pclose",
        "sync",
        "nice",
        "errx",
        //???
        "vwarnx",
        //???
        // posix
        "posix_spawn",
        "posix_spawnp",
        "posix_spawnattr_init",
        "posix_spawnattr_destroy",
        "posix_spawnattr_setflags",
        "posix_spawnattr_setsigmask",
        "posix_spawn_file_actions_init",
        "posix_spawn_file_actions_destroy",
        "posix_spawn_file_actions_addopen",
        "posix_spawn_file_actions_addclose",
        "posix_spawn_file_actions_adddup2",
        // pthreads
        "pthread_mutex_init",
        "pthread_mutex_lock",
        "pthread_cond_timedwait",
        "pthread_cond_signal",
        "pthread_mutex_unlock",
        "pthread_cond_destroy",
        "pthread_mutex_destroy",
        "pthread_cond_wait",
        "pthread_cond_init",
        "pthread_attr_init",
        "pthread_attr_setstacksize",
        "pthread_attr_destroy",
        "pthread_create",
        "pthread_detach",
        "pthread_self",
        "pthread_kill",
        "pthread_exit",
        "pthread_mutex_trylock",
        "pthread_key_create",
        "pthread_key_delete",
        "pthread_setspecific",
        "pthread_getspecific",
        "pthread_sigmask",
        "pthread_attr_getscope",
        "pthread_attr_setscope",
        "posix_spawnattr_setpgroup",
        "posix_spawnattr_setsigdefault",
        // curses (terminfo)
        "tgetent",
        "tgetflag",
        "tgetnum",
        "tgetstr",
        "tgoto",
        "tputs",
        // termios
        "cfgetospeed",
        "cfgetispeed",
        "cfsetospeed",
        "cfsetispeed",
        "tcsendbreak",
        "tcdrain",
        "tcflush",
        "tcflow",
        "tcgetsid",
        // util (tty)
        "login",
        "login_tty",
        "logout",
        "logwtmp",
        "opendev",
        "openpty",
        "fparseln",
        "forkpty",
        "pidlock",
        "ttylock",
        "ttyunlock",
        "ttyaction",
        "ttymsg"
      ];
      stubs = {
        debug: (message) => {
        }
      };
      for (let nm of names) {
        stubs[nm] = function() {
          stubs.debug(`stub for ${nm} [${[...arguments]}]`);
        };
      }
      stubs_default = stubs;
    }
  });

  // node_modules/wasi-kernel/src/kernel/bits/autogen/delegation.ts
  var delegation_default;
  var init_delegation = __esm({
    "node_modules/wasi-kernel/src/kernel/bits/autogen/delegation.ts"() {
      init_process_shim();
      init_buffer_shim();
      delegation_default = { "0": [0, 97, 115, 109, 1, 0, 0, 0, 1, 5, 1, 96, 0, 1, 127, 2, 16, 1, 3, 101, 110, 118, 8, 100, 101, 108, 101, 103, 97, 116, 101, 0, 0, 3, 2, 1, 0, 7, 8, 1, 4, 103, 108, 117, 101, 0, 1, 10, 6, 1, 4, 0, 16, 0, 11], "1": [0, 97, 115, 109, 1, 0, 0, 0, 1, 6, 1, 96, 1, 127, 1, 127, 2, 16, 1, 3, 101, 110, 118, 8, 100, 101, 108, 101, 103, 97, 116, 101, 0, 0, 3, 2, 1, 0, 7, 8, 1, 4, 103, 108, 117, 101, 0, 1, 10, 8, 1, 6, 0, 32, 0, 16, 0, 11], "2": [0, 97, 115, 109, 1, 0, 0, 0, 1, 7, 1, 96, 2, 127, 127, 1, 127, 2, 16, 1, 3, 101, 110, 118, 8, 100, 101, 108, 101, 103, 97, 116, 101, 0, 0, 3, 2, 1, 0, 7, 8, 1, 4, 103, 108, 117, 101, 0, 1, 10, 10, 1, 8, 0, 32, 0, 32, 1, 16, 0, 11], "3": [0, 97, 115, 109, 1, 0, 0, 0, 1, 8, 1, 96, 3, 127, 127, 127, 1, 127, 2, 16, 1, 3, 101, 110, 118, 8, 100, 101, 108, 101, 103, 97, 116, 101, 0, 0, 3, 2, 1, 0, 7, 8, 1, 4, 103, 108, 117, 101, 0, 1, 10, 12, 1, 10, 0, 32, 0, 32, 1, 32, 2, 16, 0, 11], "4": [0, 97, 115, 109, 1, 0, 0, 0, 1, 9, 1, 96, 4, 127, 127, 127, 127, 1, 127, 2, 16, 1, 3, 101, 110, 118, 8, 100, 101, 108, 101, 103, 97, 116, 101, 0, 0, 3, 2, 1, 0, 7, 8, 1, 4, 103, 108, 117, 101, 0, 1, 10, 14, 1, 12, 0, 32, 0, 32, 1, 32, 2, 32, 3, 16, 0, 11], "5": [0, 97, 115, 109, 1, 0, 0, 0, 1, 10, 1, 96, 5, 127, 127, 127, 127, 127, 1, 127, 2, 16, 1, 3, 101, 110, 118, 8, 100, 101, 108, 101, 103, 97, 116, 101, 0, 0, 3, 2, 1, 0, 7, 8, 1, 4, 103, 108, 117, 101, 0, 1, 10, 16, 1, 14, 0, 32, 0, 32, 1, 32, 2, 32, 3, 32, 4, 16, 0, 11], "6": [0, 97, 115, 109, 1, 0, 0, 0, 1, 11, 1, 96, 6, 127, 127, 127, 127, 127, 127, 1, 127, 2, 16, 1, 3, 101, 110, 118, 8, 100, 101, 108, 101, 103, 97, 116, 101, 0, 0, 3, 2, 1, 0, 7, 8, 1, 4, 103, 108, 117, 101, 0, 1, 10, 18, 1, 16, 0, 32, 0, 32, 1, 32, 2, 32, 3, 32, 4, 32, 5, 16, 0, 11], "7": [0, 97, 115, 109, 1, 0, 0, 0, 1, 12, 1, 96, 7, 127, 127, 127, 127, 127, 127, 127, 1, 127, 2, 16, 1, 3, 101, 110, 118, 8, 100, 101, 108, 101, 103, 97, 116, 101, 0, 0, 3, 2, 1, 0, 7, 8, 1, 4, 103, 108, 117, 101, 0, 1, 10, 20, 1, 18, 0, 32, 0, 32, 1, 32, 2, 32, 3, 32, 4, 32, 5, 32, 6, 16, 0, 11], "8": [0, 97, 115, 109, 1, 0, 0, 0, 1, 13, 1, 96, 8, 127, 127, 127, 127, 127, 127, 127, 127, 1, 127, 2, 16, 1, 3, 101, 110, 118, 8, 100, 101, 108, 101, 103, 97, 116, 101, 0, 0, 3, 2, 1, 0, 7, 8, 1, 4, 103, 108, 117, 101, 0, 1, 10, 22, 1, 20, 0, 32, 0, 32, 1, 32, 2, 32, 3, 32, 4, 32, 5, 32, 6, 32, 7, 16, 0, 11], "9": [0, 97, 115, 109, 1, 0, 0, 0, 1, 14, 1, 96, 9, 127, 127, 127, 127, 127, 127, 127, 127, 127, 1, 127, 2, 16, 1, 3, 101, 110, 118, 8, 100, 101, 108, 101, 103, 97, 116, 101, 0, 0, 3, 2, 1, 0, 7, 8, 1, 4, 103, 108, 117, 101, 0, 1, 10, 24, 1, 22, 0, 32, 0, 32, 1, 32, 2, 32, 3, 32, 4, 32, 5, 32, 6, 32, 7, 32, 8, 16, 0, 11] };
    }
  });

  // node_modules/wasi-kernel/src/kernel/bits/dyld.ts
  function bindAll(instance, methods) {
    return methods.reduce((d, m) => Object.assign(d, { [m]: instance[m].bind(instance) }), {});
  }
  var DynamicLoader, DynamicLibrary, EM_GLOBAL_NS, EM_ALIASES;
  var init_dyld = __esm({
    "node_modules/wasi-kernel/src/kernel/bits/dyld.ts"() {
      init_process_shim();
      init_buffer_shim();
      init_delegation();
      DynamicLoader = class {
        constructor(core) {
          this.core = core;
        }
        preload(path2, uri, reloc) {
          if (!this.dylibTable)
            this.dylibTable = new DynamicLibrary.Table();
          if (this.dylibTable.def.has(path2))
            return;
          return this.core.fetchCompile(uri).then((w) => {
            this.dylibTable.def.set(path2, new DynamicLibrary.Def(w, reloc, { path: path2, uri }));
          });
        }
        get import() {
          return bindAll(this, ["dlopen", "dlsym", "dlclose"]);
        }
        get extlib() {
          return bindAll(this, ["dlerror_get"]);
        }
        // -----------
        // Loader Part
        // -----------
        dlopen(path2, flags) {
          var path_str = this.userGetCString(path2).toString("utf-8");
          this.core.trace.syscalls(`dlopen("${path_str}", ${flags})`);
          if (!this.dylibTable)
            return 0;
          var def = this.dylibTable.def.get(path_str);
          if (def) {
            var instance = def.instantiate(this.core), handle = this.dylibTable.ref.size + 1;
            this.dylibTable.ref.set(handle, { def, instance });
            return handle;
          } else {
            return 0;
          }
        }
        dlsym(handle, symbol) {
          var symbol_str = this.userGetCString(symbol).toString("utf-8");
          this.core.trace.syscalls(`dlsym(${handle}, "${symbol_str}")`);
          var ref = this.dylibTable.ref.get(handle);
          if (ref) {
            var sym = ref.instance.exports[symbol_str];
            if (sym && sym instanceof Function) {
              return this.allocateFunc(sym);
            }
            var js = ref.def.reloc?.js?.[symbol_str], d = js && this.allocateDelegate(js);
            if (d !== void 0)
              return d;
          }
          return 0;
        }
        dlclose(handle) {
        }
        dlerror_get(pbuf) {
          var ret = "not found\0";
          return this.userCStringMalloc(ret, pbuf);
        }
        allocateFunc(func) {
          var h = this.core.proc.funcTable.grow(1);
          this.core.proc.funcTable.set(h, func);
          return h;
        }
        allocateDelegate(func) {
          var bin = delegation_default[func.length];
          if (bin) {
            var mod = new WebAssembly.Module(new Uint8Array(bin)), inst = new WebAssembly.Instance(mod, { env: { delegate: func } });
            return this.allocateFunc(inst.exports["glue"]);
          } else {
            console.warn(`cannot delegate function with ${func.length} arguments:`, func);
          }
        }
        // - some helpers from Proc
        userGetCString(addr) {
          return this.core.proc.userGetCString(addr);
        }
        userCStringMalloc(s, pbuf) {
          return this.core.proc.userCStringMalloc(s, pbuf);
        }
      };
      ((DynamicLibrary2) => {
        class Table {
          constructor() {
            this.def = /* @__PURE__ */ new Map();
            this.ref = /* @__PURE__ */ new Map();
          }
        }
        DynamicLibrary2.Table = Table;
        class Def {
          /** @todo */
          constructor(module, reloc = {}, metadata = {}) {
            this.stackSize = 1 << 16;
            /** @todo */
            this.memBlocks = 10;
            /** @todo */
            this.tblSize = 1024;
            this.module = module;
            this.reloc = reloc;
            this.metadata = metadata;
          }
          instantiate(core) {
            var stack_base = core.wasi.memory.buffer.byteLength, mem_base = stack_base + this.stackSize, tbl_base = core.proc.funcTable.length;
            core.wasi.memory.grow(this.memBlocks);
            core.proc.funcTable.grow(this.tblSize);
            var globals = this.globals(this.module, core.wasm.instance);
            var instance = new WebAssembly.Instance(this.module, {
              env: {
                memory: core.wasi.memory,
                table: core.proc.funcTable,
                // <--- Emscripten
                __indirect_function_table: core.proc.funcTable,
                __memory_base: mem_base,
                __table_base: tbl_base,
                __stack_pointer: this._mkglobal(mem_base),
                // stack grows down?
                stackSave: () => mem_base,
                // <--- Emscripten
                stackRestore: () => {
                },
                ...this.relocTable(this.module, core.wasm.instance, core.proc.import),
                ...this.emglobals(this.module, mem_base, core.wasm.instance, () => instance)
              },
              ...globals,
              wasik_ext: core.proc.extlib
            });
            this.globalsInit(instance, mem_base, globals["GOT.mem"] || {});
            var init = instance.exports.__post_instantiate;
            if (init instanceof Function)
              init();
            var ctors = instance.exports.__wasm_call_ctors;
            if (ctors instanceof Function)
              ctors();
            return instance;
          }
          relocTable(module, main2, std) {
            var imports = WebAssembly.Module.imports(module), env2 = {};
            for (let imp of imports) {
              if (imp.module == "env" && imp.kind === "function") {
                var exp = this.reloc.js?.[imp.name] || main2.exports[EM_ALIASES[imp.name] || imp.name] || std[imp.name];
                if (exp instanceof Function)
                  env2[imp.name] = exp;
                else {
                  console.warn("unresolved symbol:", imp, "\nin", this.metadata);
                  env2[imp.name] = () => 0;
                }
              }
            }
            return env2;
          }
          globals(module, main2) {
            var _a2;
            var imports = WebAssembly.Module.imports(module), g = {};
            for (let imp of imports) {
              if (imp.kind === "global" && imp.module.match(EM_GLOBAL_NS)) {
                var exp = main2.exports[imp.name];
                g[_a2 = imp.module] ?? (g[_a2] = {});
                g[imp.module][imp.name] = this._mkglobal(
                  exp instanceof WebAssembly.Global ? exp.value : void 0
                );
              }
            }
            return g;
          }
          globalsInit(instance, mem_base, globals) {
            for (let g in globals) {
              var exp = instance.exports[g];
              if (exp instanceof WebAssembly.Global)
                globals[g].value = mem_base + exp.value;
            }
          }
          /**
           * [internal] creates a table of self-referenced globals.
           * Specific to Emscripten.
           */
          emglobals(module, mem_base, main2, instance) {
            var imports = WebAssembly.Module.imports(module), exports = WebAssembly.Module.exports(module), resolve = (symbol) => mem_base + +instance().exports[symbol], g = {};
            for (let imp of imports) {
              if (imp.kind === "function" && imp.name.startsWith("g$")) {
                let name = imp.name.slice(2), bud;
                if (bud = main2.exports[name])
                  g[imp.name] = () => bud;
                else if (bud = exports.find((wed) => wed.name == name))
                  g[imp.name] = () => resolve(name);
              }
            }
            return g;
          }
          _mkglobal(initial = 3735928559) {
            return new WebAssembly.Global({ value: "i32", mutable: true }, initial);
          }
        }
        DynamicLibrary2.Def = Def;
      })(DynamicLibrary || (DynamicLibrary = {}));
      EM_GLOBAL_NS = /^GOT[.]/;
      EM_ALIASES = { fiprintf: "fprintf" };
    }
  });

  // node_modules/wasi-kernel/src/kernel/bits/fs.ts
  var constants, FsServices, fs;
  var init_fs = __esm({
    "node_modules/wasi-kernel/src/kernel/bits/fs.ts"() {
      init_process_shim();
      init_buffer_shim();
      constants = {
        O_RDONLY: 0,
        O_WRONLY: 1,
        O_RDWR: 2,
        S_IFMT: 61440,
        S_IFREG: 32768,
        S_IFDIR: 16384,
        S_IFCHR: 8192,
        S_IFBLK: 24576,
        S_IFIFO: 4096,
        S_IFLNK: 40960,
        S_IFSOCK: 49152,
        O_CREAT: 512,
        O_EXCL: 2048,
        O_NOCTTY: 131072,
        O_TRUNC: 1024,
        O_APPEND: 8,
        O_DIRECTORY: 1048576,
        O_NOFOLLOW: 256,
        O_SYNC: 128,
        O_DSYNC: 4194304,
        O_SYMLINK: 2097152,
        O_NONBLOCK: 4,
        S_IRWXU: 448,
        S_IRUSR: 256,
        S_IWUSR: 128,
        S_IXUSR: 64,
        S_IRWXG: 56,
        S_IRGRP: 32,
        S_IWGRP: 16,
        S_IXGRP: 8,
        S_IRWXO: 7,
        S_IROTH: 4,
        S_IWOTH: 2,
        S_IXOTH: 1,
        F_OK: 0,
        R_OK: 4,
        W_OK: 2,
        X_OK: 1,
        UV_FS_COPYFILE_EXCL: 1,
        COPYFILE_EXCL: 1
      };
      FsServices = class {
        constructor() {
          this.constants = constants;
        }
        strmode(mode) {
          const c = constants;
          let ret = "";
          let d = {
            [c.S_IFDIR]: "d",
            [c.S_IFCHR]: "c",
            [c.S_IFBLK]: "b",
            [c.S_IFREG]: "-",
            [c.S_IFLNK]: "l",
            [c.S_IFSOCK]: "s",
            [c.S_IFIFO]: "p"
          };
          ret += d[mode & c.S_IFMT] || "?";
          ret += mode & c.S_IRUSR ? "r" : "-";
          ret += mode & c.S_IWUSR ? "w" : "-";
          ret += mode & c.S_IXUSR ? "x" : "-";
          ret += mode & c.S_IRGRP ? "r" : "-";
          ret += mode & c.S_IWGRP ? "w" : "-";
          ret += mode & c.S_IXGRP ? "x" : "-";
          ret += mode & c.S_IROTH ? "r" : "-";
          ret += mode & c.S_IWOTH ? "w" : "-";
          ret += mode & c.S_IXOTH ? "x" : "-";
          return ret;
        }
      };
      fs = new FsServices();
    }
  });

  // node_modules/wasi-kernel/src/kernel/bindings/utf8.ts
  var utf8encode, utf8decode;
  var init_utf8 = __esm({
    "node_modules/wasi-kernel/src/kernel/bindings/utf8.ts"() {
      init_process_shim();
      init_buffer_shim();
      if (typeof TextEncoder !== "undefined") {
        utf8encode = (text) => new TextEncoder().encode(text);
      } else {
        utf8encode = (text) => import_buffer.Buffer.from(text);
      }
      if (typeof TextDecoder !== "undefined") {
        utf8decode = (ui8a) => new TextDecoder().decode(ui8a);
      } else {
        utf8decode = (ui8a) => import_buffer.Buffer.from(ui8a).toString("utf-8");
      }
    }
  });

  // node_modules/wasi-kernel/src/kernel/bits/proc.ts
  function bindAll2(instance, methods) {
    return methods.reduce((d, m) => Object.assign(d, { [m]: instance[m].bind(instance) }), {});
  }
  var import_assert, import_path, import_events2, constants2, import_buffer2, Proc, AT_FDCWD, RIGHTS_ALL2, SignalVector, PATH_MAX, NSIG, ExecvCall, Longjmp, MaybeSharedArrayBuffer3;
  var init_proc = __esm({
    "node_modules/wasi-kernel/src/kernel/bits/proc.ts"() {
      init_process_shim();
      init_buffer_shim();
      import_assert = __toESM(require_assert());
      import_path = __toESM(require_path_browserify());
      import_events2 = __toESM(require_events());
      constants2 = __toESM(require_constants());
      init_stubs();
      import_buffer2 = __toESM(require_buffer());
      init_queue();
      init_dyld();
      init_fs();
      init_utf8();
      Proc = class extends import_events2.EventEmitter {
        constructor(core, opts = {}) {
          super();
          this.core = core;
          this.opts = opts;
          this.sigvec = new SignalVector();
          this.sigvec.on("signal", (ev) => this.emit("syscall", {
            func: "signal",
            data: ev
          }));
          this.childq = new SharedQueue({ data: new Uint32Array(new MaybeSharedArrayBuffer3(4 * 128)) });
          this.childset = /* @__PURE__ */ new Set();
          this.dyld = new DynamicLoader(core);
          this.pending = [];
        }
        init() {
          const newfd = this.newfd() + 1, fdcwd = {
            /* type File is not exported by wasmer :( */
            real: newfd,
            rights: RIGHTS_ALL2,
            // uhm
            filetype: constants2.WASI_FILETYPE_DIRECTORY,
            path: ".",
            fakePath: "."
          };
          this.core.wasi.FD_MAP.set(AT_FDCWD, fdcwd);
          this.core.wasi.FD_MAP.set(newfd, fdcwd);
          this.core.wasmFs.fs.writeFileSync("/dev/null", "");
        }
        get import() {
          this.sigvec.debug = this.debug;
          if (!this.funcTable) {
            this.funcTable = new WebAssembly.Table({
              initial: this.opts.funcTableSz || 1024,
              element: "anyfunc"
            });
          }
          return {
            ...stubs_default,
            __indirect_function_table: this.funcTable,
            ...bindAll2(this, [
              "geteuid",
              "strmode",
              "__control_setjmp",
              "__control_setjmp_with_return",
              "setjmp",
              "longjmp",
              "sigsetjmp",
              "siglongjmp",
              "vfork",
              "__control_fork",
              "wait",
              "wait3",
              "execve",
              "sigkill",
              "sigsuspend",
              "sigaction",
              "getpagesize",
              "posix_spawn"
            ]),
            ...this.dyld.import
          };
        }
        get extlib() {
          return {
            ...bindAll2(this, [
              "trace",
              "sorry",
              "dupfd",
              "progname_get",
              "login_get"
            ]),
            ...this.dyld.extlib
          };
        }
        get path() {
          return {
            ...import_path.default,
            resolve: (dir, ...paths) => {
              if (dir == ".")
                dir = this.core.env.PWD;
              return import_path.default.resolve(dir || "/", ...paths);
            }
          };
        }
        get mem() {
          this.core.wasi.refreshMemory();
          return this.core.wasi.view;
        }
        get membuf() {
          return import_buffer2.Buffer.from(this.core.wasi.memory.buffer);
        }
        /**
         * This is a nasty hack and so deserves an apology.
         */
        sorry() {
          for (var f; f = this.pending.pop(); f())
            ;
        }
        // ----------------
        // Environment Part
        // ----------------
        getenv_all() {
          var wasik_environ = this.core.wasm.instance.exports.wasik_environ;
          return typeof wasik_environ === "function" ? this.parse_env(wasik_environ()) : {};
        }
        parse_env(environ) {
          var d = {};
          for (let envvar of this.userGetCStrings(environ)) {
            this._parse_envvar(envvar, d);
          }
          return d;
        }
        _parse_envvar(buf, d) {
          try {
            var text = new TextDecoder().decode(buf), mo = text.match(/^(.*?)=(.*)$/);
            if (mo)
              d[mo[1]] = mo[2];
            else
              console.warn(`invalid envvar? '${text}'`);
          } catch (e) {
            console.warn("parse_env", e);
          }
        }
        progname_get(pbuf) {
          var ret = this.core.argv[0] + "\0";
          return this.userCStringMalloc(ret, pbuf);
        }
        login_get(pbuf) {
          var ret = "user\0";
          return this.userCStringMalloc(ret, pbuf);
        }
        geteuid() {
          return 0;
        }
        trace(message) {
          var buf = this.userGetCString(message);
          this.core.trace.user(buf);
        }
        // ----------
        // Files Part
        // ----------
        realpath(file_name, resolved_name) {
          var arg = this.userGetCString(file_name);
          if (resolved_name === 0)
            throw "realpath(0): not implemented";
          let ret = import_path.default.resolve(this.core.env.PWD, utf8decode(arg)) + "\0";
          if (ret.length > PATH_MAX)
            throw { errno: 1, code: "ERANGE" };
          this.membuf.write(ret, resolved_name);
          return resolved_name;
        }
        newfd(minfd = 0) {
          var highest = Math.max(...this.core.wasi.FD_MAP.keys());
          return Math.max(minfd, highest + 1);
        }
        dupfd(fd2, minfd, cloexec) {
          this.core.trace.syscalls(`dupfd(${fd2}, ${minfd}, ${cloexec}`);
          var desc = this.core.wasi.FD_MAP.get(fd2);
          if (!desc)
            return -1;
          var newfd = this.newfd(minfd);
          this.core.wasi.FD_MAP.set(newfd, this.dupdesc(desc));
          return newfd;
        }
        dupdesc(desc) {
          var newreal = this.core.wasmFs.volume.openSync("/", "r");
          var realFD_MAP = this.core.wasmFs.volume.fds;
          realFD_MAP[newreal] = realFD_MAP[desc.real];
          return Object.assign({}, desc, { real: newreal });
        }
        strmode(mode, buf) {
          let ret = fs.strmode(mode) + "\0";
          this.membuf.write(ret, buf);
        }
        // ------------
        // Control Part
        // ------------
        __control_setjmp(env2, block) {
          this.debug(`__control_setjmp [${env2}, ${block}]`);
          this.mem.setUint32(env2, 0);
          let impl = this.blockImpl(block), val = 0;
          try {
            while (true) {
              try {
                return impl(val);
              } catch (e) {
                this.debug(`setjmp caught ${JSON.stringify(e)}`);
                if (e instanceof Longjmp && e.env == env2)
                  val = e.val;
                else
                  throw e;
              }
            }
          } finally {
            this.debug(`__control_setjmp exiting`);
          }
        }
        __control_setjmp_with_return(env2, block) {
          return this.__control_setjmp(env2, block);
        }
        setjmp(env2) {
          console.warn("setjmp", env2);
          return 0;
        }
        longjmp(env2, val) {
          this.debug(`longjmp [${env2}] ${val}`);
          throw new Longjmp(env2, val);
        }
        sigsetjmp(env2, save_mask) {
          this.core.trace.syscalls(`sigsetjmp(${env2}, ${save_mask})`);
          return 0;
        }
        siglongjmp(env2, val) {
          this.longjmp(env2, val);
        }
        vfork() {
          this.core.trace.syscalls("vfork()");
          var pid = Math.max(0, ...this.childset) + 1;
          this.childset.add(pid);
          this.onJoin = (onset) => {
            if (onset instanceof ExecvCall) {
              let e = onset;
              this.emit("syscall", {
                func: "spawn",
                data: { pid, execv: e.copy(), env: this.getenv_all() }
              });
            } else
              throw onset;
          };
          return pid;
        }
        __control_fork(v1, v2, block) {
          let impl = this.blockImpl(block);
          try {
            impl(v1);
            if (this.onJoin)
              this.onJoin(null);
          } catch (e) {
            if (this.onJoin)
              this.onJoin(e);
          }
          this.onJoin = null;
          impl(v2);
        }
        execve(path2, argv, envp) {
          this.core.trace.syscalls(`execv(${path2}, ${argv}, ${envp})`);
          throw new ExecvCall(
            utf8decode(this.userGetCString(path2)),
            this.userGetCStrings(argv),
            this.userGetCStrings(envp)
          );
        }
        posix_spawn(pid, path2, file_actions, attrp, argv, envp) {
          var pathStr = utf8decode(this.userGetCString(path2));
          this.core.trace.syscalls(`posix_spawn(${pid}, "${pathStr}", ${file_actions}, ${attrp}, ...})`);
          var execv = new ExecvCall(
            pathStr,
            this.userGetCStrings(argv),
            this.userGetCStrings(envp)
          ), newPid = Math.max(0, ...this.childset) + 1;
          this.emit("syscall", {
            func: "spawn",
            data: { pid: newPid, execv, env: this.core.env }
          });
          this.mem.setUint32(pid, newPid, true);
          return 0;
        }
        wait(stat_loc) {
          this.core.trace.syscalls(`wait(${stat_loc})`);
          return this.waitBase(stat_loc);
        }
        wait3(stat_loc, options, rusage) {
          this.core.trace.syscalls(`wait3(${stat_loc}, ${options}, ${rusage})`);
          return this.waitBase(stat_loc);
        }
        waitBase(stat_loc) {
          var pid = this.childq.dequeue(), exitcode = this.childq.dequeue();
          this.debug(`  -> ${pid}`);
          if (stat_loc !== 0)
            this.mem.setUint32(stat_loc, exitcode << 8, true);
          return pid;
        }
        // - some helpers
        userGetCString(addr) {
          if (addr == 0)
            return null;
          let mem = import_buffer2.Buffer.from(this.core.wasi.memory.buffer);
          return mem.slice(addr, mem.indexOf(0, addr));
        }
        userGetCStrings(addr) {
          if (addr == 0)
            return null;
          let l = [];
          while (1) {
            let s = this.mem.getUint32(addr, true);
            if (s === 0)
              break;
            l.push(this.userGetCString(s));
            addr += 4;
          }
          return l;
        }
        userCStringMalloc(s, pbuf) {
          this.pending.push(() => {
            let buf = this.mem.getUint32(pbuf, true);
            this.membuf.write(s, buf);
          });
          return s.length;
        }
        /**
         * Used to invoke blocks: returns a function
         * @param block a C block pointer
         */
        blockImpl(block) {
          let impl = this.funcTable.get(
            this.mem.getUint32(block + 12, true)
          );
          return (...args) => impl(block, ...args);
        }
        // ------------
        // Signals Part
        // ------------
        sigkill(signum) {
          this.sigvec.send(signum);
        }
        sigsuspend() {
          this.sigvec.receive();
        }
        sigaction(signum, act, oact) {
          this.core.trace.syscalls(`sigaction(${signum}, ${act}, ${oact})`);
          if (act != 0) {
            var sa_handler = this.mem.getUint32(act, true);
            var h = this.funcTable.get(sa_handler);
            this.core.trace.syscalls(" -->", sa_handler, h);
            this.sigvec.handlers[signum] = h;
          }
          if (oact != 0) {
            this.mem.setUint32(oact, 0);
          }
        }
        // -----------
        // Memory Part
        // -----------
        getpagesize() {
          return 4096;
        }
      };
      AT_FDCWD = -100;
      RIGHTS_ALL2 = {
        base: constants2.RIGHTS_ALL,
        inheriting: constants2.RIGHTS_ALL
      };
      SignalVector = class extends import_events2.EventEmitter {
        constructor(_from = {}) {
          super();
          this.wait = _from.wait || new Int32Array(new MaybeSharedArrayBuffer3(4 * NSIG));
          this.handlers = Array(NSIG);
        }
        static from(props) {
          return new SignalVector(props);
        }
        to() {
          return { wait: this.wait };
        }
        send(signum) {
          (0, import_assert.default)(0 < signum && signum < NSIG);
          Atomics.add(this.wait, 0, 1);
          Atomics.add(this.wait, signum, 1);
          Atomics.notify(this.wait, 0, 1);
        }
        receive(signums) {
          if (!this._snapshot)
            this._snapshot = new Int32Array(NSIG);
          Atomics.wait(this.wait, 0, Atomics.load(this.wait, 0));
          this.sweep(signums);
          return -1;
        }
        sweep(signums) {
          for (let i = 1; i < NSIG; i++) {
            if (!signums || signums.includes(i)) {
              let h = this.handlers[i];
              if (h && this._snapshot[i] < this.wait[i]) {
                this.debug("calling", h);
                h(i);
              }
              this._snapshot[i] = this.wait[i];
            }
          }
        }
      };
      PATH_MAX = 256;
      NSIG = 20;
      ExecvCall = class {
        constructor(prog, argv, envp) {
          this.prog = prog;
          this.argv = argv;
          this.envp = envp;
        }
        /**
         * (internal) This is needed in order to transfer the `ExecvCall`
         * via `postMessage`.
         */
        copy() {
          var cpa = (bs) => bs.map((b) => import_buffer2.Buffer.from(b));
          return new ExecvCall(
            this.prog,
            cpa(this.argv),
            cpa(this.envp)
          );
        }
      };
      Longjmp = class {
        constructor(env2, val) {
          this.env = env2;
          this.val = val;
        }
      };
      MaybeSharedArrayBuffer3 = typeof SharedArrayBuffer != "undefined" ? SharedArrayBuffer : ArrayBuffer;
    }
  });

  // node_modules/wasi-kernel/src/infra/arch.ts
  var isNode, isBrowser;
  var init_arch = __esm({
    "node_modules/wasi-kernel/src/infra/arch.ts"() {
      init_process_shim();
      init_buffer_shim();
      isNode = self.process && self.process.versions && self.process.versions.node;
      isBrowser = typeof window === "object" || typeof DedicatedWorkerGlobalScope === "function";
    }
  });

  // node_modules/memfs/lib/constants.js
  var require_constants2 = __commonJS({
    "node_modules/memfs/lib/constants.js"(exports) {
      "use strict";
      init_process_shim();
      init_buffer_shim();
      Object.defineProperty(exports, "__esModule", { value: true });
      exports.constants = {
        O_RDONLY: 0,
        O_WRONLY: 1,
        O_RDWR: 2,
        S_IFMT: 61440,
        S_IFREG: 32768,
        S_IFDIR: 16384,
        S_IFCHR: 8192,
        S_IFBLK: 24576,
        S_IFIFO: 4096,
        S_IFLNK: 40960,
        S_IFSOCK: 49152,
        O_CREAT: 64,
        O_EXCL: 128,
        O_NOCTTY: 256,
        O_TRUNC: 512,
        O_APPEND: 1024,
        O_DIRECTORY: 65536,
        O_NOATIME: 262144,
        O_NOFOLLOW: 131072,
        O_SYNC: 1052672,
        O_DIRECT: 16384,
        O_NONBLOCK: 2048,
        S_IRWXU: 448,
        S_IRUSR: 256,
        S_IWUSR: 128,
        S_IXUSR: 64,
        S_IRWXG: 56,
        S_IRGRP: 32,
        S_IWGRP: 16,
        S_IXGRP: 8,
        S_IRWXO: 7,
        S_IROTH: 4,
        S_IWOTH: 2,
        S_IXOTH: 1,
        F_OK: 0,
        R_OK: 4,
        W_OK: 2,
        X_OK: 1,
        UV_FS_SYMLINK_DIR: 1,
        UV_FS_SYMLINK_JUNCTION: 2,
        UV_FS_COPYFILE_EXCL: 1,
        UV_FS_COPYFILE_FICLONE: 2,
        UV_FS_COPYFILE_FICLONE_FORCE: 4,
        COPYFILE_EXCL: 1,
        COPYFILE_FICLONE: 2,
        COPYFILE_FICLONE_FORCE: 4
      };
    }
  });

  // node_modules/memfs/lib/getBigInt.js
  var require_getBigInt = __commonJS({
    "node_modules/memfs/lib/getBigInt.js"(exports) {
      init_process_shim();
      init_buffer_shim();
      if (typeof BigInt === "function")
        exports.default = BigInt;
      else
        exports.default = function BigIntNotSupported() {
          throw new Error("BigInt is not supported in this environment.");
        };
    }
  });

  // node_modules/memfs/lib/Stats.js
  var require_Stats = __commonJS({
    "node_modules/memfs/lib/Stats.js"(exports) {
      "use strict";
      init_process_shim();
      init_buffer_shim();
      Object.defineProperty(exports, "__esModule", { value: true });
      var constants_1 = require_constants2();
      var getBigInt_1 = require_getBigInt();
      var S_IFMT = constants_1.constants.S_IFMT;
      var S_IFDIR = constants_1.constants.S_IFDIR;
      var S_IFREG = constants_1.constants.S_IFREG;
      var S_IFBLK = constants_1.constants.S_IFBLK;
      var S_IFCHR = constants_1.constants.S_IFCHR;
      var S_IFLNK = constants_1.constants.S_IFLNK;
      var S_IFIFO = constants_1.constants.S_IFIFO;
      var S_IFSOCK = constants_1.constants.S_IFSOCK;
      var Stats = (
        /** @class */
        function() {
          function Stats2() {
          }
          Stats2.build = function(node, bigint) {
            if (bigint === void 0) {
              bigint = false;
            }
            var stats = new Stats2();
            var uid = node.uid, gid = node.gid, atime = node.atime, mtime = node.mtime, ctime = node.ctime;
            var getStatNumber = !bigint ? function(number) {
              return number;
            } : getBigInt_1.default;
            stats.uid = getStatNumber(uid);
            stats.gid = getStatNumber(gid);
            stats.rdev = getStatNumber(0);
            stats.blksize = getStatNumber(4096);
            stats.ino = getStatNumber(node.ino);
            stats.size = getStatNumber(node.getSize());
            stats.blocks = getStatNumber(1);
            stats.atime = atime;
            stats.mtime = mtime;
            stats.ctime = ctime;
            stats.birthtime = ctime;
            stats.atimeMs = getStatNumber(atime.getTime());
            stats.mtimeMs = getStatNumber(mtime.getTime());
            var ctimeMs = getStatNumber(ctime.getTime());
            stats.ctimeMs = ctimeMs;
            stats.birthtimeMs = ctimeMs;
            stats.dev = getStatNumber(0);
            stats.mode = getStatNumber(node.mode);
            stats.nlink = getStatNumber(node.nlink);
            return stats;
          };
          Stats2.prototype._checkModeProperty = function(property) {
            return (Number(this.mode) & S_IFMT) === property;
          };
          Stats2.prototype.isDirectory = function() {
            return this._checkModeProperty(S_IFDIR);
          };
          Stats2.prototype.isFile = function() {
            return this._checkModeProperty(S_IFREG);
          };
          Stats2.prototype.isBlockDevice = function() {
            return this._checkModeProperty(S_IFBLK);
          };
          Stats2.prototype.isCharacterDevice = function() {
            return this._checkModeProperty(S_IFCHR);
          };
          Stats2.prototype.isSymbolicLink = function() {
            return this._checkModeProperty(S_IFLNK);
          };
          Stats2.prototype.isFIFO = function() {
            return this._checkModeProperty(S_IFIFO);
          };
          Stats2.prototype.isSocket = function() {
            return this._checkModeProperty(S_IFSOCK);
          };
          return Stats2;
        }()
      );
      exports.Stats = Stats;
      exports.default = Stats;
    }
  });

  // node_modules/memfs/lib/internal/buffer.js
  var require_buffer2 = __commonJS({
    "node_modules/memfs/lib/internal/buffer.js"(exports) {
      "use strict";
      init_process_shim();
      init_buffer_shim();
      var __spreadArrays = exports && exports.__spreadArrays || function() {
        for (var s = 0, i = 0, il = arguments.length; i < il; i++)
          s += arguments[i].length;
        for (var r = Array(s), k = 0, i = 0; i < il; i++)
          for (var a = arguments[i], j = 0, jl = a.length; j < jl; j++, k++)
            r[k] = a[j];
        return r;
      };
      Object.defineProperty(exports, "__esModule", { value: true });
      var buffer_1 = require_buffer();
      exports.Buffer = buffer_1.Buffer;
      function bufferV0P12Ponyfill(arg0) {
        var args = [];
        for (var _i = 1; _i < arguments.length; _i++) {
          args[_i - 1] = arguments[_i];
        }
        return new (buffer_1.Buffer.bind.apply(buffer_1.Buffer, __spreadArrays([void 0, arg0], args)))();
      }
      var bufferAllocUnsafe = buffer_1.Buffer.allocUnsafe || bufferV0P12Ponyfill;
      exports.bufferAllocUnsafe = bufferAllocUnsafe;
      var bufferFrom = buffer_1.Buffer.from || bufferV0P12Ponyfill;
      exports.bufferFrom = bufferFrom;
    }
  });

  // node_modules/memfs/lib/internal/errors.js
  var require_errors2 = __commonJS({
    "node_modules/memfs/lib/internal/errors.js"(exports) {
      "use strict";
      init_process_shim();
      init_buffer_shim();
      var __extends = exports && exports.__extends || function() {
        var extendStatics = function(d, b) {
          extendStatics = Object.setPrototypeOf || { __proto__: [] } instanceof Array && function(d2, b3) {
            d2.__proto__ = b3;
          } || function(d2, b3) {
            for (var p in b3)
              if (b3.hasOwnProperty(p))
                d2[p] = b3[p];
          };
          return extendStatics(d, b);
        };
        return function(d, b) {
          extendStatics(d, b);
          function __() {
            this.constructor = d;
          }
          d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());
        };
      }();
      Object.defineProperty(exports, "__esModule", { value: true });
      var assert4 = require_assert();
      var util = require_util();
      var kCode = typeof Symbol === "undefined" ? "_kCode" : Symbol("code");
      var messages = {};
      function makeNodeError(Base) {
        return (
          /** @class */
          function(_super) {
            __extends(NodeError, _super);
            function NodeError(key) {
              var args = [];
              for (var _i = 1; _i < arguments.length; _i++) {
                args[_i - 1] = arguments[_i];
              }
              var _this = _super.call(this, message(key, args)) || this;
              _this.code = key;
              _this[kCode] = key;
              _this.name = _super.prototype.name + " [" + _this[kCode] + "]";
              return _this;
            }
            return NodeError;
          }(Base)
        );
      }
      var AssertionError = (
        /** @class */
        function(_super) {
          __extends(AssertionError2, _super);
          function AssertionError2(options) {
            var _this = this;
            if (typeof options !== "object" || options === null) {
              throw new exports.TypeError("ERR_INVALID_ARG_TYPE", "options", "object");
            }
            if (options.message) {
              _this = _super.call(this, options.message) || this;
            } else {
              _this = _super.call(this, util.inspect(options.actual).slice(0, 128) + " " + (options.operator + " " + util.inspect(options.expected).slice(0, 128))) || this;
            }
            _this.generatedMessage = !options.message;
            _this.name = "AssertionError [ERR_ASSERTION]";
            _this.code = "ERR_ASSERTION";
            _this.actual = options.actual;
            _this.expected = options.expected;
            _this.operator = options.operator;
            exports.Error.captureStackTrace(_this, options.stackStartFunction);
            return _this;
          }
          return AssertionError2;
        }(self.Error)
      );
      exports.AssertionError = AssertionError;
      function message(key, args) {
        assert4.strictEqual(typeof key, "string");
        var msg = messages[key];
        assert4(msg, "An invalid error message key was used: " + key + ".");
        var fmt;
        if (typeof msg === "function") {
          fmt = msg;
        } else {
          fmt = util.format;
          if (args === void 0 || args.length === 0)
            return msg;
          args.unshift(msg);
        }
        return String(fmt.apply(null, args));
      }
      exports.message = message;
      function E(sym, val) {
        messages[sym] = typeof val === "function" ? val : String(val);
      }
      exports.E = E;
      exports.Error = makeNodeError(self.Error);
      exports.TypeError = makeNodeError(self.TypeError);
      exports.RangeError = makeNodeError(self.RangeError);
      E("ERR_ARG_NOT_ITERABLE", "%s must be iterable");
      E("ERR_ASSERTION", "%s");
      E("ERR_BUFFER_OUT_OF_BOUNDS", bufferOutOfBounds);
      E("ERR_CHILD_CLOSED_BEFORE_REPLY", "Child closed before reply received");
      E("ERR_CONSOLE_WRITABLE_STREAM", "Console expects a writable stream instance for %s");
      E("ERR_CPU_USAGE", "Unable to obtain cpu usage %s");
      E("ERR_DNS_SET_SERVERS_FAILED", function(err2, servers) {
        return 'c-ares failed to set servers: "' + err2 + '" [' + servers + "]";
      });
      E("ERR_FALSY_VALUE_REJECTION", "Promise was rejected with falsy value");
      E("ERR_ENCODING_NOT_SUPPORTED", function(enc) {
        return 'The "' + enc + '" encoding is not supported';
      });
      E("ERR_ENCODING_INVALID_ENCODED_DATA", function(enc) {
        return "The encoded data was not valid for encoding " + enc;
      });
      E("ERR_HTTP_HEADERS_SENT", "Cannot render headers after they are sent to the client");
      E("ERR_HTTP_INVALID_STATUS_CODE", "Invalid status code: %s");
      E("ERR_HTTP_TRAILER_INVALID", "Trailers are invalid with this transfer encoding");
      E("ERR_INDEX_OUT_OF_RANGE", "Index out of range");
      E("ERR_INVALID_ARG_TYPE", invalidArgType);
      E("ERR_INVALID_ARRAY_LENGTH", function(name, len, actual) {
        assert4.strictEqual(typeof actual, "number");
        return 'The array "' + name + '" (length ' + actual + ") must be of length " + len + ".";
      });
      E("ERR_INVALID_BUFFER_SIZE", "Buffer size must be a multiple of %s");
      E("ERR_INVALID_CALLBACK", "Callback must be a function");
      E("ERR_INVALID_CHAR", "Invalid character in %s");
      E("ERR_INVALID_CURSOR_POS", "Cannot set cursor row without setting its column");
      E("ERR_INVALID_FD", '"fd" must be a positive integer: %s');
      E("ERR_INVALID_FILE_URL_HOST", 'File URL host must be "localhost" or empty on %s');
      E("ERR_INVALID_FILE_URL_PATH", "File URL path %s");
      E("ERR_INVALID_HANDLE_TYPE", "This handle type cannot be sent");
      E("ERR_INVALID_IP_ADDRESS", "Invalid IP address: %s");
      E("ERR_INVALID_OPT_VALUE", function(name, value) {
        return 'The value "' + String(value) + '" is invalid for option "' + name + '"';
      });
      E("ERR_INVALID_OPT_VALUE_ENCODING", function(value) {
        return 'The value "' + String(value) + '" is invalid for option "encoding"';
      });
      E("ERR_INVALID_REPL_EVAL_CONFIG", 'Cannot specify both "breakEvalOnSigint" and "eval" for REPL');
      E("ERR_INVALID_SYNC_FORK_INPUT", "Asynchronous forks do not support Buffer, Uint8Array or string input: %s");
      E("ERR_INVALID_THIS", 'Value of "this" must be of type %s');
      E("ERR_INVALID_TUPLE", "%s must be an iterable %s tuple");
      E("ERR_INVALID_URL", "Invalid URL: %s");
      E("ERR_INVALID_URL_SCHEME", function(expected) {
        return "The URL must be " + oneOf(expected, "scheme");
      });
      E("ERR_IPC_CHANNEL_CLOSED", "Channel closed");
      E("ERR_IPC_DISCONNECTED", "IPC channel is already disconnected");
      E("ERR_IPC_ONE_PIPE", "Child process can have only one IPC pipe");
      E("ERR_IPC_SYNC_FORK", "IPC cannot be used with synchronous forks");
      E("ERR_MISSING_ARGS", missingArgs);
      E("ERR_MULTIPLE_CALLBACK", "Callback called multiple times");
      E("ERR_NAPI_CONS_FUNCTION", "Constructor must be a function");
      E("ERR_NAPI_CONS_PROTOTYPE_OBJECT", "Constructor.prototype must be an object");
      E("ERR_NO_CRYPTO", "Node.js is not compiled with OpenSSL crypto support");
      E("ERR_NO_LONGER_SUPPORTED", "%s is no longer supported");
      E("ERR_PARSE_HISTORY_DATA", "Could not parse history data in %s");
      E("ERR_SOCKET_ALREADY_BOUND", "Socket is already bound");
      E("ERR_SOCKET_BAD_PORT", "Port should be > 0 and < 65536");
      E("ERR_SOCKET_BAD_TYPE", "Bad socket type specified. Valid types are: udp4, udp6");
      E("ERR_SOCKET_CANNOT_SEND", "Unable to send data");
      E("ERR_SOCKET_CLOSED", "Socket is closed");
      E("ERR_SOCKET_DGRAM_NOT_RUNNING", "Not running");
      E("ERR_STDERR_CLOSE", "process.stderr cannot be closed");
      E("ERR_STDOUT_CLOSE", "process.stdout cannot be closed");
      E("ERR_STREAM_WRAP", "Stream has StringDecoder set or is in objectMode");
      E("ERR_TLS_CERT_ALTNAME_INVALID", "Hostname/IP does not match certificate's altnames: %s");
      E("ERR_TLS_DH_PARAM_SIZE", function(size) {
        return "DH parameter size " + size + " is less than 2048";
      });
      E("ERR_TLS_HANDSHAKE_TIMEOUT", "TLS handshake timeout");
      E("ERR_TLS_RENEGOTIATION_FAILED", "Failed to renegotiate");
      E("ERR_TLS_REQUIRED_SERVER_NAME", '"servername" is required parameter for Server.addContext');
      E("ERR_TLS_SESSION_ATTACK", "TSL session renegotiation attack detected");
      E("ERR_TRANSFORM_ALREADY_TRANSFORMING", "Calling transform done when still transforming");
      E("ERR_TRANSFORM_WITH_LENGTH_0", "Calling transform done when writableState.length != 0");
      E("ERR_UNKNOWN_ENCODING", "Unknown encoding: %s");
      E("ERR_UNKNOWN_SIGNAL", "Unknown signal: %s");
      E("ERR_UNKNOWN_STDIN_TYPE", "Unknown stdin file type");
      E("ERR_UNKNOWN_STREAM_TYPE", "Unknown stream file type");
      E("ERR_V8BREAKITERATOR", "Full ICU data not installed. See https://github.com/nodejs/node/wiki/Intl");
      function invalidArgType(name, expected, actual) {
        assert4(name, "name is required");
        var determiner;
        if (expected.includes("not ")) {
          determiner = "must not be";
          expected = expected.split("not ")[1];
        } else {
          determiner = "must be";
        }
        var msg;
        if (Array.isArray(name)) {
          var names2 = name.map(function(val) {
            return '"' + val + '"';
          }).join(", ");
          msg = "The " + names2 + " arguments " + determiner + " " + oneOf(expected, "type");
        } else if (name.includes(" argument")) {
          msg = "The " + name + " " + determiner + " " + oneOf(expected, "type");
        } else {
          var type = name.includes(".") ? "property" : "argument";
          msg = 'The "' + name + '" ' + type + " " + determiner + " " + oneOf(expected, "type");
        }
        if (arguments.length >= 3) {
          msg += ". Received type " + (actual !== null ? typeof actual : "null");
        }
        return msg;
      }
      function missingArgs() {
        var args = [];
        for (var _i = 0; _i < arguments.length; _i++) {
          args[_i] = arguments[_i];
        }
        assert4(args.length > 0, "At least one arg needs to be specified");
        var msg = "The ";
        var len = args.length;
        args = args.map(function(a) {
          return '"' + a + '"';
        });
        switch (len) {
          case 1:
            msg += args[0] + " argument";
            break;
          case 2:
            msg += args[0] + " and " + args[1] + " arguments";
            break;
          default:
            msg += args.slice(0, len - 1).join(", ");
            msg += ", and " + args[len - 1] + " arguments";
            break;
        }
        return msg + " must be specified";
      }
      function oneOf(expected, thing) {
        assert4(expected, "expected is required");
        assert4(typeof thing === "string", "thing is required");
        if (Array.isArray(expected)) {
          var len = expected.length;
          assert4(len > 0, "At least one expected value needs to be specified");
          expected = expected.map(function(i) {
            return String(i);
          });
          if (len > 2) {
            return "one of " + thing + " " + expected.slice(0, len - 1).join(", ") + ", or " + expected[len - 1];
          } else if (len === 2) {
            return "one of " + thing + " " + expected[0] + " or " + expected[1];
          } else {
            return "of " + thing + " " + expected[0];
          }
        } else {
          return "of " + thing + " " + String(expected);
        }
      }
      function bufferOutOfBounds(name, isWriting) {
        if (isWriting) {
          return "Attempt to write outside buffer bounds";
        } else {
          return '"' + name + '" is outside of buffer bounds';
        }
      }
    }
  });

  // node_modules/memfs/lib/encoding.js
  var require_encoding = __commonJS({
    "node_modules/memfs/lib/encoding.js"(exports) {
      "use strict";
      init_process_shim();
      init_buffer_shim();
      Object.defineProperty(exports, "__esModule", { value: true });
      var buffer_1 = require_buffer2();
      var errors = require_errors2();
      exports.ENCODING_UTF8 = "utf8";
      function assertEncoding(encoding) {
        if (encoding && !buffer_1.Buffer.isEncoding(encoding))
          throw new errors.TypeError("ERR_INVALID_OPT_VALUE_ENCODING", encoding);
      }
      exports.assertEncoding = assertEncoding;
      function strToEncoding(str, encoding) {
        if (!encoding || encoding === exports.ENCODING_UTF8)
          return str;
        if (encoding === "buffer")
          return new buffer_1.Buffer(str);
        return new buffer_1.Buffer(str).toString(encoding);
      }
      exports.strToEncoding = strToEncoding;
    }
  });

  // node_modules/memfs/lib/Dirent.js
  var require_Dirent = __commonJS({
    "node_modules/memfs/lib/Dirent.js"(exports) {
      "use strict";
      init_process_shim();
      init_buffer_shim();
      Object.defineProperty(exports, "__esModule", { value: true });
      var constants_1 = require_constants2();
      var encoding_1 = require_encoding();
      var S_IFMT = constants_1.constants.S_IFMT;
      var S_IFDIR = constants_1.constants.S_IFDIR;
      var S_IFREG = constants_1.constants.S_IFREG;
      var S_IFBLK = constants_1.constants.S_IFBLK;
      var S_IFCHR = constants_1.constants.S_IFCHR;
      var S_IFLNK = constants_1.constants.S_IFLNK;
      var S_IFIFO = constants_1.constants.S_IFIFO;
      var S_IFSOCK = constants_1.constants.S_IFSOCK;
      var Dirent = (
        /** @class */
        function() {
          function Dirent2() {
            this.name = "";
            this.mode = 0;
          }
          Dirent2.build = function(link, encoding) {
            var dirent = new Dirent2();
            var mode = link.getNode().mode;
            dirent.name = encoding_1.strToEncoding(link.getName(), encoding);
            dirent.mode = mode;
            return dirent;
          };
          Dirent2.prototype._checkModeProperty = function(property) {
            return (this.mode & S_IFMT) === property;
          };
          Dirent2.prototype.isDirectory = function() {
            return this._checkModeProperty(S_IFDIR);
          };
          Dirent2.prototype.isFile = function() {
            return this._checkModeProperty(S_IFREG);
          };
          Dirent2.prototype.isBlockDevice = function() {
            return this._checkModeProperty(S_IFBLK);
          };
          Dirent2.prototype.isCharacterDevice = function() {
            return this._checkModeProperty(S_IFCHR);
          };
          Dirent2.prototype.isSymbolicLink = function() {
            return this._checkModeProperty(S_IFLNK);
          };
          Dirent2.prototype.isFIFO = function() {
            return this._checkModeProperty(S_IFIFO);
          };
          Dirent2.prototype.isSocket = function() {
            return this._checkModeProperty(S_IFSOCK);
          };
          return Dirent2;
        }()
      );
      exports.Dirent = Dirent;
      exports.default = Dirent;
    }
  });

  // node_modules/process/browser.js
  var require_browser = __commonJS({
    "node_modules/process/browser.js"(exports, module) {
      init_process_shim();
      init_buffer_shim();
      var process2 = module.exports = {};
      var cachedSetTimeout;
      var cachedClearTimeout;
      function defaultSetTimout() {
        throw new Error("setTimeout has not been defined");
      }
      function defaultClearTimeout() {
        throw new Error("clearTimeout has not been defined");
      }
      (function() {
        try {
          if (typeof setTimeout === "function") {
            cachedSetTimeout = setTimeout;
          } else {
            cachedSetTimeout = defaultSetTimout;
          }
        } catch (e) {
          cachedSetTimeout = defaultSetTimout;
        }
        try {
          if (typeof clearTimeout === "function") {
            cachedClearTimeout = clearTimeout;
          } else {
            cachedClearTimeout = defaultClearTimeout;
          }
        } catch (e) {
          cachedClearTimeout = defaultClearTimeout;
        }
      })();
      function runTimeout(fun) {
        if (cachedSetTimeout === setTimeout) {
          return setTimeout(fun, 0);
        }
        if ((cachedSetTimeout === defaultSetTimout || !cachedSetTimeout) && setTimeout) {
          cachedSetTimeout = setTimeout;
          return setTimeout(fun, 0);
        }
        try {
          return cachedSetTimeout(fun, 0);
        } catch (e) {
          try {
            return cachedSetTimeout.call(null, fun, 0);
          } catch (e2) {
            return cachedSetTimeout.call(this, fun, 0);
          }
        }
      }
      function runClearTimeout(marker) {
        if (cachedClearTimeout === clearTimeout) {
          return clearTimeout(marker);
        }
        if ((cachedClearTimeout === defaultClearTimeout || !cachedClearTimeout) && clearTimeout) {
          cachedClearTimeout = clearTimeout;
          return clearTimeout(marker);
        }
        try {
          return cachedClearTimeout(marker);
        } catch (e) {
          try {
            return cachedClearTimeout.call(null, marker);
          } catch (e2) {
            return cachedClearTimeout.call(this, marker);
          }
        }
      }
      var queue = [];
      var draining = false;
      var currentQueue;
      var queueIndex = -1;
      function cleanUpNextTick() {
        if (!draining || !currentQueue) {
          return;
        }
        draining = false;
        if (currentQueue.length) {
          queue = currentQueue.concat(queue);
        } else {
          queueIndex = -1;
        }
        if (queue.length) {
          drainQueue();
        }
      }
      function drainQueue() {
        if (draining) {
          return;
        }
        var timeout = runTimeout(cleanUpNextTick);
        draining = true;
        var len = queue.length;
        while (len) {
          currentQueue = queue;
          queue = [];
          while (++queueIndex < len) {
            if (currentQueue) {
              currentQueue[queueIndex].run();
            }
          }
          queueIndex = -1;
          len = queue.length;
        }
        currentQueue = null;
        draining = false;
        runClearTimeout(timeout);
      }
      process2.nextTick = function(fun) {
        var args = new Array(arguments.length - 1);
        if (arguments.length > 1) {
          for (var i = 1; i < arguments.length; i++) {
            args[i - 1] = arguments[i];
          }
        }
        queue.push(new Item(fun, args));
        if (queue.length === 1 && !draining) {
          runTimeout(drainQueue);
        }
      };
      function Item(fun, array) {
        this.fun = fun;
        this.array = array;
      }
      Item.prototype.run = function() {
        this.fun.apply(null, this.array);
      };
      process2.title = "browser";
      process2.browser = true;
      process2.env = {};
      process2.argv = [];
      process2.version = "";
      process2.versions = {};
      function noop() {
      }
      process2.on = noop;
      process2.addListener = noop;
      process2.once = noop;
      process2.off = noop;
      process2.removeListener = noop;
      process2.removeAllListeners = noop;
      process2.emit = noop;
      process2.prependListener = noop;
      process2.prependOnceListener = noop;
      process2.listeners = function(name) {
        return [];
      };
      process2.binding = function(name) {
        throw new Error("process.binding is not supported");
      };
      process2.cwd = function() {
        return "/";
      };
      process2.chdir = function(dir) {
        throw new Error("process.chdir is not supported");
      };
      process2.umask = function() {
        return 0;
      };
    }
  });

  // node_modules/memfs/lib/setImmediate.js
  var require_setImmediate = __commonJS({
    "node_modules/memfs/lib/setImmediate.js"(exports) {
      "use strict";
      init_process_shim();
      init_buffer_shim();
      Object.defineProperty(exports, "__esModule", { value: true });
      var _setImmediate;
      if (typeof setImmediate === "function")
        _setImmediate = setImmediate.bind(self);
      else
        _setImmediate = setTimeout.bind(self);
      exports.default = _setImmediate;
    }
  });

  // node_modules/memfs/lib/process.js
  var require_process = __commonJS({
    "node_modules/memfs/lib/process.js"(exports) {
      "use strict";
      init_process_shim();
      init_buffer_shim();
      Object.defineProperty(exports, "__esModule", { value: true });
      var maybeReturnProcess = function() {
        if (typeof process !== "undefined") {
          return process;
        }
        try {
          return require_browser();
        } catch (_a2) {
          return void 0;
        }
      };
      function createProcess() {
        var p = maybeReturnProcess() || {};
        if (!p.getuid)
          p.getuid = function() {
            return 0;
          };
        if (!p.getgid)
          p.getgid = function() {
            return 0;
          };
        if (!p.cwd)
          p.cwd = function() {
            return "/";
          };
        if (!p.nextTick)
          p.nextTick = require_setImmediate().default;
        if (!p.emitWarning)
          p.emitWarning = function(message, type) {
            console.warn("" + type + (type ? ": " : "") + message);
          };
        if (!p.env)
          p.env = {};
        return p;
      }
      exports.createProcess = createProcess;
      exports.default = createProcess();
    }
  });

  // node_modules/memfs/lib/node.js
  var require_node = __commonJS({
    "node_modules/memfs/lib/node.js"(exports) {
      "use strict";
      init_process_shim();
      init_buffer_shim();
      var __extends = exports && exports.__extends || function() {
        var extendStatics = function(d, b) {
          extendStatics = Object.setPrototypeOf || { __proto__: [] } instanceof Array && function(d2, b3) {
            d2.__proto__ = b3;
          } || function(d2, b3) {
            for (var p in b3)
              if (b3.hasOwnProperty(p))
                d2[p] = b3[p];
          };
          return extendStatics(d, b);
        };
        return function(d, b) {
          extendStatics(d, b);
          function __() {
            this.constructor = d;
          }
          d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());
        };
      }();
      Object.defineProperty(exports, "__esModule", { value: true });
      var process_1 = require_process();
      var buffer_1 = require_buffer2();
      var constants_1 = require_constants2();
      var events_1 = require_events();
      var Stats_1 = require_Stats();
      var S_IFMT = constants_1.constants.S_IFMT;
      var S_IFDIR = constants_1.constants.S_IFDIR;
      var S_IFREG = constants_1.constants.S_IFREG;
      var S_IFBLK = constants_1.constants.S_IFBLK;
      var S_IFCHR = constants_1.constants.S_IFCHR;
      var S_IFLNK = constants_1.constants.S_IFLNK;
      var S_IFIFO = constants_1.constants.S_IFIFO;
      var S_IFSOCK = constants_1.constants.S_IFSOCK;
      var O_APPEND = constants_1.constants.O_APPEND;
      exports.SEP = "/";
      var Node2 = (
        /** @class */
        function(_super) {
          __extends(Node3, _super);
          function Node3(ino, perm) {
            if (perm === void 0) {
              perm = 438;
            }
            var _this = _super.call(this) || this;
            _this.uid = process_1.default.getuid();
            _this.gid = process_1.default.getgid();
            _this.atime = new Date();
            _this.mtime = new Date();
            _this.ctime = new Date();
            _this.perm = 438;
            _this.mode = S_IFREG;
            _this.nlink = 1;
            _this.perm = perm;
            _this.mode |= perm;
            _this.ino = ino;
            return _this;
          }
          Node3.prototype.getString = function(encoding) {
            if (encoding === void 0) {
              encoding = "utf8";
            }
            return this.getBuffer().toString(encoding);
          };
          Node3.prototype.setString = function(str) {
            this.buf = buffer_1.bufferFrom(str, "utf8");
            this.touch();
          };
          Node3.prototype.getBuffer = function() {
            if (!this.buf)
              this.setBuffer(buffer_1.bufferAllocUnsafe(0));
            return buffer_1.bufferFrom(this.buf);
          };
          Node3.prototype.setBuffer = function(buf) {
            this.buf = buffer_1.bufferFrom(buf);
            this.touch();
          };
          Node3.prototype.getSize = function() {
            return this.buf ? this.buf.length : 0;
          };
          Node3.prototype.setModeProperty = function(property) {
            this.mode = this.mode & ~S_IFMT | property;
          };
          Node3.prototype.setIsFile = function() {
            this.setModeProperty(S_IFREG);
          };
          Node3.prototype.setIsDirectory = function() {
            this.setModeProperty(S_IFDIR);
          };
          Node3.prototype.setIsSymlink = function() {
            this.setModeProperty(S_IFLNK);
          };
          Node3.prototype.isFile = function() {
            return (this.mode & S_IFMT) === S_IFREG;
          };
          Node3.prototype.isDirectory = function() {
            return (this.mode & S_IFMT) === S_IFDIR;
          };
          Node3.prototype.isSymlink = function() {
            return (this.mode & S_IFMT) === S_IFLNK;
          };
          Node3.prototype.makeSymlink = function(steps) {
            this.symlink = steps;
            this.setIsSymlink();
          };
          Node3.prototype.write = function(buf, off, len, pos) {
            if (off === void 0) {
              off = 0;
            }
            if (len === void 0) {
              len = buf.length;
            }
            if (pos === void 0) {
              pos = 0;
            }
            if (!this.buf)
              this.buf = buffer_1.bufferAllocUnsafe(0);
            if (pos + len > this.buf.length) {
              var newBuf = buffer_1.bufferAllocUnsafe(pos + len);
              this.buf.copy(newBuf, 0, 0, this.buf.length);
              this.buf = newBuf;
            }
            buf.copy(this.buf, pos, off, off + len);
            this.touch();
            return len;
          };
          Node3.prototype.read = function(buf, off, len, pos) {
            if (off === void 0) {
              off = 0;
            }
            if (len === void 0) {
              len = buf.byteLength;
            }
            if (pos === void 0) {
              pos = 0;
            }
            if (!this.buf)
              this.buf = buffer_1.bufferAllocUnsafe(0);
            var actualLen = len;
            if (actualLen > buf.byteLength) {
              actualLen = buf.byteLength;
            }
            if (actualLen + pos > this.buf.length) {
              actualLen = this.buf.length - pos;
            }
            this.buf.copy(buf, off, pos, pos + actualLen);
            return actualLen;
          };
          Node3.prototype.truncate = function(len) {
            if (len === void 0) {
              len = 0;
            }
            if (!len)
              this.buf = buffer_1.bufferAllocUnsafe(0);
            else {
              if (!this.buf)
                this.buf = buffer_1.bufferAllocUnsafe(0);
              if (len <= this.buf.length) {
                this.buf = this.buf.slice(0, len);
              } else {
                var buf = buffer_1.bufferAllocUnsafe(0);
                this.buf.copy(buf);
                buf.fill(0, len);
              }
            }
            this.touch();
          };
          Node3.prototype.chmod = function(perm) {
            this.perm = perm;
            this.mode = this.mode & ~511 | perm;
            this.touch();
          };
          Node3.prototype.chown = function(uid, gid) {
            this.uid = uid;
            this.gid = gid;
            this.touch();
          };
          Node3.prototype.touch = function() {
            this.mtime = new Date();
            this.emit("change", this);
          };
          Node3.prototype.canRead = function(uid, gid) {
            if (uid === void 0) {
              uid = process_1.default.getuid();
            }
            if (gid === void 0) {
              gid = process_1.default.getgid();
            }
            if (this.perm & 4) {
              return true;
            }
            if (gid === this.gid) {
              if (this.perm & 32) {
                return true;
              }
            }
            if (uid === this.uid) {
              if (this.perm & 256) {
                return true;
              }
            }
            return false;
          };
          Node3.prototype.canWrite = function(uid, gid) {
            if (uid === void 0) {
              uid = process_1.default.getuid();
            }
            if (gid === void 0) {
              gid = process_1.default.getgid();
            }
            if (this.perm & 2) {
              return true;
            }
            if (gid === this.gid) {
              if (this.perm & 16) {
                return true;
              }
            }
            if (uid === this.uid) {
              if (this.perm & 128) {
                return true;
              }
            }
            return false;
          };
          Node3.prototype.del = function() {
            this.emit("delete", this);
          };
          Node3.prototype.toJSON = function() {
            return {
              ino: this.ino,
              uid: this.uid,
              gid: this.gid,
              atime: this.atime.getTime(),
              mtime: this.mtime.getTime(),
              ctime: this.ctime.getTime(),
              perm: this.perm,
              mode: this.mode,
              nlink: this.nlink,
              symlink: this.symlink,
              data: this.getString()
            };
          };
          return Node3;
        }(events_1.EventEmitter)
      );
      exports.Node = Node2;
      var Link2 = (
        /** @class */
        function(_super) {
          __extends(Link3, _super);
          function Link3(vol, parent, name) {
            var _this = _super.call(this) || this;
            _this.children = {};
            _this.steps = [];
            _this.ino = 0;
            _this.length = 0;
            _this.vol = vol;
            _this.parent = parent;
            _this.steps = parent ? parent.steps.concat([name]) : [name];
            return _this;
          }
          Link3.prototype.setNode = function(node) {
            this.node = node;
            this.ino = node.ino;
          };
          Link3.prototype.getNode = function() {
            return this.node;
          };
          Link3.prototype.createChild = function(name, node) {
            if (node === void 0) {
              node = this.vol.createNode();
            }
            var link = new Link3(this.vol, this, name);
            link.setNode(node);
            if (node.isDirectory()) {
            }
            this.setChild(name, link);
            return link;
          };
          Link3.prototype.setChild = function(name, link) {
            if (link === void 0) {
              link = new Link3(this.vol, this, name);
            }
            this.children[name] = link;
            link.parent = this;
            this.length++;
            this.emit("child:add", link, this);
            return link;
          };
          Link3.prototype.deleteChild = function(link) {
            delete this.children[link.getName()];
            this.length--;
            this.emit("child:delete", link, this);
          };
          Link3.prototype.getChild = function(name) {
            if (Object.hasOwnProperty.call(this.children, name)) {
              return this.children[name];
            }
          };
          Link3.prototype.getPath = function() {
            return this.steps.join(exports.SEP);
          };
          Link3.prototype.getName = function() {
            return this.steps[this.steps.length - 1];
          };
          Link3.prototype.walk = function(steps, stop, i) {
            if (stop === void 0) {
              stop = steps.length;
            }
            if (i === void 0) {
              i = 0;
            }
            if (i >= steps.length)
              return this;
            if (i >= stop)
              return this;
            var step = steps[i];
            var link = this.getChild(step);
            if (!link)
              return null;
            return link.walk(steps, stop, i + 1);
          };
          Link3.prototype.toJSON = function() {
            return {
              steps: this.steps,
              ino: this.ino,
              children: Object.keys(this.children)
            };
          };
          return Link3;
        }(events_1.EventEmitter)
      );
      exports.Link = Link2;
      var File = (
        /** @class */
        function() {
          function File2(link, node, flags, fd2) {
            this.position = 0;
            this.link = link;
            this.node = node;
            this.flags = flags;
            this.fd = fd2;
          }
          File2.prototype.getString = function(encoding) {
            if (encoding === void 0) {
              encoding = "utf8";
            }
            return this.node.getString();
          };
          File2.prototype.setString = function(str) {
            this.node.setString(str);
          };
          File2.prototype.getBuffer = function() {
            return this.node.getBuffer();
          };
          File2.prototype.setBuffer = function(buf) {
            this.node.setBuffer(buf);
          };
          File2.prototype.getSize = function() {
            return this.node.getSize();
          };
          File2.prototype.truncate = function(len) {
            this.node.truncate(len);
          };
          File2.prototype.seekTo = function(position) {
            this.position = position;
          };
          File2.prototype.stats = function() {
            return Stats_1.default.build(this.node);
          };
          File2.prototype.write = function(buf, offset, length, position) {
            if (offset === void 0) {
              offset = 0;
            }
            if (length === void 0) {
              length = buf.length;
            }
            if (typeof position !== "number")
              position = this.position;
            if (this.flags & O_APPEND)
              position = this.getSize();
            var bytes = this.node.write(buf, offset, length, position);
            this.position = position + bytes;
            return bytes;
          };
          File2.prototype.read = function(buf, offset, length, position) {
            if (offset === void 0) {
              offset = 0;
            }
            if (length === void 0) {
              length = buf.byteLength;
            }
            if (typeof position !== "number")
              position = this.position;
            var bytes = this.node.read(buf, offset, length, position);
            this.position = position + bytes;
            return bytes;
          };
          File2.prototype.chmod = function(perm) {
            this.node.chmod(perm);
          };
          File2.prototype.chown = function(uid, gid) {
            this.node.chown(uid, gid);
          };
          return File2;
        }()
      );
      exports.File = File;
    }
  });

  // node_modules/memfs/lib/setTimeoutUnref.js
  var require_setTimeoutUnref = __commonJS({
    "node_modules/memfs/lib/setTimeoutUnref.js"(exports) {
      "use strict";
      init_process_shim();
      init_buffer_shim();
      Object.defineProperty(exports, "__esModule", { value: true });
      function setTimeoutUnref(callback, time, args) {
        var ref = setTimeout.apply(null, arguments);
        if (ref && typeof ref === "object" && typeof ref.unref === "function")
          ref.unref();
        return ref;
      }
      exports.default = setTimeoutUnref;
    }
  });

  // node_modules/readable-stream/lib/internal/streams/stream-browser.js
  var require_stream_browser = __commonJS({
    "node_modules/readable-stream/lib/internal/streams/stream-browser.js"(exports, module) {
      init_process_shim();
      init_buffer_shim();
      module.exports = require_events().EventEmitter;
    }
  });

  // (disabled):node_modules/util/util.js
  var require_util2 = __commonJS({
    "(disabled):node_modules/util/util.js"() {
      init_process_shim();
      init_buffer_shim();
    }
  });

  // node_modules/readable-stream/lib/internal/streams/buffer_list.js
  var require_buffer_list = __commonJS({
    "node_modules/readable-stream/lib/internal/streams/buffer_list.js"(exports, module) {
      "use strict";
      init_process_shim();
      init_buffer_shim();
      function ownKeys(object, enumerableOnly) {
        var keys = Object.keys(object);
        if (Object.getOwnPropertySymbols) {
          var symbols = Object.getOwnPropertySymbols(object);
          enumerableOnly && (symbols = symbols.filter(function(sym) {
            return Object.getOwnPropertyDescriptor(object, sym).enumerable;
          })), keys.push.apply(keys, symbols);
        }
        return keys;
      }
      function _objectSpread(target) {
        for (var i = 1; i < arguments.length; i++) {
          var source = null != arguments[i] ? arguments[i] : {};
          i % 2 ? ownKeys(Object(source), true).forEach(function(key) {
            _defineProperty(target, key, source[key]);
          }) : Object.getOwnPropertyDescriptors ? Object.defineProperties(target, Object.getOwnPropertyDescriptors(source)) : ownKeys(Object(source)).forEach(function(key) {
            Object.defineProperty(target, key, Object.getOwnPropertyDescriptor(source, key));
          });
        }
        return target;
      }
      function _defineProperty(obj, key, value) {
        key = _toPropertyKey(key);
        if (key in obj) {
          Object.defineProperty(obj, key, { value, enumerable: true, configurable: true, writable: true });
        } else {
          obj[key] = value;
        }
        return obj;
      }
      function _classCallCheck(instance, Constructor) {
        if (!(instance instanceof Constructor)) {
          throw new TypeError("Cannot call a class as a function");
        }
      }
      function _defineProperties(target, props) {
        for (var i = 0; i < props.length; i++) {
          var descriptor = props[i];
          descriptor.enumerable = descriptor.enumerable || false;
          descriptor.configurable = true;
          if ("value" in descriptor)
            descriptor.writable = true;
          Object.defineProperty(target, _toPropertyKey(descriptor.key), descriptor);
        }
      }
      function _createClass(Constructor, protoProps, staticProps) {
        if (protoProps)
          _defineProperties(Constructor.prototype, protoProps);
        if (staticProps)
          _defineProperties(Constructor, staticProps);
        Object.defineProperty(Constructor, "prototype", { writable: false });
        return Constructor;
      }
      function _toPropertyKey(arg) {
        var key = _toPrimitive(arg, "string");
        return typeof key === "symbol" ? key : String(key);
      }
      function _toPrimitive(input, hint) {
        if (typeof input !== "object" || input === null)
          return input;
        var prim = input[Symbol.toPrimitive];
        if (prim !== void 0) {
          var res = prim.call(input, hint || "default");
          if (typeof res !== "object")
            return res;
          throw new TypeError("@@toPrimitive must return a primitive value.");
        }
        return (hint === "string" ? String : Number)(input);
      }
      var _require = require_buffer();
      var Buffer4 = _require.Buffer;
      var _require2 = require_util2();
      var inspect = _require2.inspect;
      var custom = inspect && inspect.custom || "inspect";
      function copyBuffer(src, target, offset) {
        Buffer4.prototype.copy.call(src, target, offset);
      }
      module.exports = /* @__PURE__ */ function() {
        function BufferList() {
          _classCallCheck(this, BufferList);
          this.head = null;
          this.tail = null;
          this.length = 0;
        }
        _createClass(BufferList, [{
          key: "push",
          value: function push(v) {
            var entry = {
              data: v,
              next: null
            };
            if (this.length > 0)
              this.tail.next = entry;
            else
              this.head = entry;
            this.tail = entry;
            ++this.length;
          }
        }, {
          key: "unshift",
          value: function unshift(v) {
            var entry = {
              data: v,
              next: this.head
            };
            if (this.length === 0)
              this.tail = entry;
            this.head = entry;
            ++this.length;
          }
        }, {
          key: "shift",
          value: function shift() {
            if (this.length === 0)
              return;
            var ret = this.head.data;
            if (this.length === 1)
              this.head = this.tail = null;
            else
              this.head = this.head.next;
            --this.length;
            return ret;
          }
        }, {
          key: "clear",
          value: function clear() {
            this.head = this.tail = null;
            this.length = 0;
          }
        }, {
          key: "join",
          value: function join(s) {
            if (this.length === 0)
              return "";
            var p = this.head;
            var ret = "" + p.data;
            while (p = p.next)
              ret += s + p.data;
            return ret;
          }
        }, {
          key: "concat",
          value: function concat(n) {
            if (this.length === 0)
              return Buffer4.alloc(0);
            var ret = Buffer4.allocUnsafe(n >>> 0);
            var p = this.head;
            var i = 0;
            while (p) {
              copyBuffer(p.data, ret, i);
              i += p.data.length;
              p = p.next;
            }
            return ret;
          }
          // Consumes a specified amount of bytes or characters from the buffered data.
        }, {
          key: "consume",
          value: function consume(n, hasStrings) {
            var ret;
            if (n < this.head.data.length) {
              ret = this.head.data.slice(0, n);
              this.head.data = this.head.data.slice(n);
            } else if (n === this.head.data.length) {
              ret = this.shift();
            } else {
              ret = hasStrings ? this._getString(n) : this._getBuffer(n);
            }
            return ret;
          }
        }, {
          key: "first",
          value: function first() {
            return this.head.data;
          }
          // Consumes a specified amount of characters from the buffered data.
        }, {
          key: "_getString",
          value: function _getString(n) {
            var p = this.head;
            var c = 1;
            var ret = p.data;
            n -= ret.length;
            while (p = p.next) {
              var str = p.data;
              var nb = n > str.length ? str.length : n;
              if (nb === str.length)
                ret += str;
              else
                ret += str.slice(0, n);
              n -= nb;
              if (n === 0) {
                if (nb === str.length) {
                  ++c;
                  if (p.next)
                    this.head = p.next;
                  else
                    this.head = this.tail = null;
                } else {
                  this.head = p;
                  p.data = str.slice(nb);
                }
                break;
              }
              ++c;
            }
            this.length -= c;
            return ret;
          }
          // Consumes a specified amount of bytes from the buffered data.
        }, {
          key: "_getBuffer",
          value: function _getBuffer(n) {
            var ret = Buffer4.allocUnsafe(n);
            var p = this.head;
            var c = 1;
            p.data.copy(ret);
            n -= p.data.length;
            while (p = p.next) {
              var buf = p.data;
              var nb = n > buf.length ? buf.length : n;
              buf.copy(ret, ret.length - n, 0, nb);
              n -= nb;
              if (n === 0) {
                if (nb === buf.length) {
                  ++c;
                  if (p.next)
                    this.head = p.next;
                  else
                    this.head = this.tail = null;
                } else {
                  this.head = p;
                  p.data = buf.slice(nb);
                }
                break;
              }
              ++c;
            }
            this.length -= c;
            return ret;
          }
          // Make sure the linked list only shows the minimal necessary information.
        }, {
          key: custom,
          value: function value(_, options) {
            return inspect(this, _objectSpread(_objectSpread({}, options), {}, {
              // Only inspect one level.
              depth: 0,
              // It should not recurse.
              customInspect: false
            }));
          }
        }]);
        return BufferList;
      }();
    }
  });

  // node_modules/readable-stream/lib/internal/streams/destroy.js
  var require_destroy = __commonJS({
    "node_modules/readable-stream/lib/internal/streams/destroy.js"(exports, module) {
      "use strict";
      init_process_shim();
      init_buffer_shim();
      function destroy(err2, cb) {
        var _this = this;
        var readableDestroyed = this._readableState && this._readableState.destroyed;
        var writableDestroyed = this._writableState && this._writableState.destroyed;
        if (readableDestroyed || writableDestroyed) {
          if (cb) {
            cb(err2);
          } else if (err2) {
            if (!this._writableState) {
              process.nextTick(emitErrorNT, this, err2);
            } else if (!this._writableState.errorEmitted) {
              this._writableState.errorEmitted = true;
              process.nextTick(emitErrorNT, this, err2);
            }
          }
          return this;
        }
        if (this._readableState) {
          this._readableState.destroyed = true;
        }
        if (this._writableState) {
          this._writableState.destroyed = true;
        }
        this._destroy(err2 || null, function(err3) {
          if (!cb && err3) {
            if (!_this._writableState) {
              process.nextTick(emitErrorAndCloseNT, _this, err3);
            } else if (!_this._writableState.errorEmitted) {
              _this._writableState.errorEmitted = true;
              process.nextTick(emitErrorAndCloseNT, _this, err3);
            } else {
              process.nextTick(emitCloseNT, _this);
            }
          } else if (cb) {
            process.nextTick(emitCloseNT, _this);
            cb(err3);
          } else {
            process.nextTick(emitCloseNT, _this);
          }
        });
        return this;
      }
      function emitErrorAndCloseNT(self2, err2) {
        emitErrorNT(self2, err2);
        emitCloseNT(self2);
      }
      function emitCloseNT(self2) {
        if (self2._writableState && !self2._writableState.emitClose)
          return;
        if (self2._readableState && !self2._readableState.emitClose)
          return;
        self2.emit("close");
      }
      function undestroy() {
        if (this._readableState) {
          this._readableState.destroyed = false;
          this._readableState.reading = false;
          this._readableState.ended = false;
          this._readableState.endEmitted = false;
        }
        if (this._writableState) {
          this._writableState.destroyed = false;
          this._writableState.ended = false;
          this._writableState.ending = false;
          this._writableState.finalCalled = false;
          this._writableState.prefinished = false;
          this._writableState.finished = false;
          this._writableState.errorEmitted = false;
        }
      }
      function emitErrorNT(self2, err2) {
        self2.emit("error", err2);
      }
      function errorOrDestroy(stream, err2) {
        var rState = stream._readableState;
        var wState = stream._writableState;
        if (rState && rState.autoDestroy || wState && wState.autoDestroy)
          stream.destroy(err2);
        else
          stream.emit("error", err2);
      }
      module.exports = {
        destroy,
        undestroy,
        errorOrDestroy
      };
    }
  });

  // node_modules/readable-stream/errors-browser.js
  var require_errors_browser = __commonJS({
    "node_modules/readable-stream/errors-browser.js"(exports, module) {
      "use strict";
      init_process_shim();
      init_buffer_shim();
      function _inheritsLoose(subClass, superClass) {
        subClass.prototype = Object.create(superClass.prototype);
        subClass.prototype.constructor = subClass;
        subClass.__proto__ = superClass;
      }
      var codes = {};
      function createErrorType(code, message, Base) {
        if (!Base) {
          Base = Error;
        }
        function getMessage(arg1, arg2, arg3) {
          if (typeof message === "string") {
            return message;
          } else {
            return message(arg1, arg2, arg3);
          }
        }
        var NodeError = /* @__PURE__ */ function(_Base) {
          _inheritsLoose(NodeError2, _Base);
          function NodeError2(arg1, arg2, arg3) {
            return _Base.call(this, getMessage(arg1, arg2, arg3)) || this;
          }
          return NodeError2;
        }(Base);
        NodeError.prototype.name = Base.name;
        NodeError.prototype.code = code;
        codes[code] = NodeError;
      }
      function oneOf(expected, thing) {
        if (Array.isArray(expected)) {
          var len = expected.length;
          expected = expected.map(function(i) {
            return String(i);
          });
          if (len > 2) {
            return "one of ".concat(thing, " ").concat(expected.slice(0, len - 1).join(", "), ", or ") + expected[len - 1];
          } else if (len === 2) {
            return "one of ".concat(thing, " ").concat(expected[0], " or ").concat(expected[1]);
          } else {
            return "of ".concat(thing, " ").concat(expected[0]);
          }
        } else {
          return "of ".concat(thing, " ").concat(String(expected));
        }
      }
      function startsWith(str, search, pos) {
        return str.substr(!pos || pos < 0 ? 0 : +pos, search.length) === search;
      }
      function endsWith(str, search, this_len) {
        if (this_len === void 0 || this_len > str.length) {
          this_len = str.length;
        }
        return str.substring(this_len - search.length, this_len) === search;
      }
      function includes(str, search, start) {
        if (typeof start !== "number") {
          start = 0;
        }
        if (start + search.length > str.length) {
          return false;
        } else {
          return str.indexOf(search, start) !== -1;
        }
      }
      createErrorType("ERR_INVALID_OPT_VALUE", function(name, value) {
        return 'The value "' + value + '" is invalid for option "' + name + '"';
      }, TypeError);
      createErrorType("ERR_INVALID_ARG_TYPE", function(name, expected, actual) {
        var determiner;
        if (typeof expected === "string" && startsWith(expected, "not ")) {
          determiner = "must not be";
          expected = expected.replace(/^not /, "");
        } else {
          determiner = "must be";
        }
        var msg;
        if (endsWith(name, " argument")) {
          msg = "The ".concat(name, " ").concat(determiner, " ").concat(oneOf(expected, "type"));
        } else {
          var type = includes(name, ".") ? "property" : "argument";
          msg = 'The "'.concat(name, '" ').concat(type, " ").concat(determiner, " ").concat(oneOf(expected, "type"));
        }
        msg += ". Received type ".concat(typeof actual);
        return msg;
      }, TypeError);
      createErrorType("ERR_STREAM_PUSH_AFTER_EOF", "stream.push() after EOF");
      createErrorType("ERR_METHOD_NOT_IMPLEMENTED", function(name) {
        return "The " + name + " method is not implemented";
      });
      createErrorType("ERR_STREAM_PREMATURE_CLOSE", "Premature close");
      createErrorType("ERR_STREAM_DESTROYED", function(name) {
        return "Cannot call " + name + " after a stream was destroyed";
      });
      createErrorType("ERR_MULTIPLE_CALLBACK", "Callback called multiple times");
      createErrorType("ERR_STREAM_CANNOT_PIPE", "Cannot pipe, not readable");
      createErrorType("ERR_STREAM_WRITE_AFTER_END", "write after end");
      createErrorType("ERR_STREAM_NULL_VALUES", "May not write null values to stream", TypeError);
      createErrorType("ERR_UNKNOWN_ENCODING", function(arg) {
        return "Unknown encoding: " + arg;
      }, TypeError);
      createErrorType("ERR_STREAM_UNSHIFT_AFTER_END_EVENT", "stream.unshift() after end event");
      module.exports.codes = codes;
    }
  });

  // node_modules/readable-stream/lib/internal/streams/state.js
  var require_state = __commonJS({
    "node_modules/readable-stream/lib/internal/streams/state.js"(exports, module) {
      "use strict";
      init_process_shim();
      init_buffer_shim();
      var ERR_INVALID_OPT_VALUE = require_errors_browser().codes.ERR_INVALID_OPT_VALUE;
      function highWaterMarkFrom(options, isDuplex, duplexKey) {
        return options.highWaterMark != null ? options.highWaterMark : isDuplex ? options[duplexKey] : null;
      }
      function getHighWaterMark(state, options, duplexKey, isDuplex) {
        var hwm = highWaterMarkFrom(options, isDuplex, duplexKey);
        if (hwm != null) {
          if (!(isFinite(hwm) && Math.floor(hwm) === hwm) || hwm < 0) {
            var name = isDuplex ? duplexKey : "highWaterMark";
            throw new ERR_INVALID_OPT_VALUE(name, hwm);
          }
          return Math.floor(hwm);
        }
        return state.objectMode ? 16 : 16 * 1024;
      }
      module.exports = {
        getHighWaterMark
      };
    }
  });

  // node_modules/util-deprecate/browser.js
  var require_browser2 = __commonJS({
    "node_modules/util-deprecate/browser.js"(exports, module) {
      init_process_shim();
      init_buffer_shim();
      module.exports = deprecate;
      function deprecate(fn, msg) {
        if (config("noDeprecation")) {
          return fn;
        }
        var warned = false;
        function deprecated() {
          if (!warned) {
            if (config("throwDeprecation")) {
              throw new Error(msg);
            } else if (config("traceDeprecation")) {
              console.trace(msg);
            } else {
              console.warn(msg);
            }
            warned = true;
          }
          return fn.apply(this, arguments);
        }
        return deprecated;
      }
      function config(name) {
        try {
          if (!self.localStorage)
            return false;
        } catch (_) {
          return false;
        }
        var val = self.localStorage[name];
        if (null == val)
          return false;
        return String(val).toLowerCase() === "true";
      }
    }
  });

  // node_modules/readable-stream/lib/_stream_writable.js
  var require_stream_writable = __commonJS({
    "node_modules/readable-stream/lib/_stream_writable.js"(exports, module) {
      "use strict";
      init_process_shim();
      init_buffer_shim();
      module.exports = Writable;
      function CorkedRequest(state) {
        var _this = this;
        this.next = null;
        this.entry = null;
        this.finish = function() {
          onCorkedFinish(_this, state);
        };
      }
      var Duplex;
      Writable.WritableState = WritableState;
      var internalUtil = {
        deprecate: require_browser2()
      };
      var Stream = require_stream_browser();
      var Buffer4 = require_buffer().Buffer;
      var OurUint8Array = (typeof self !== "undefined" ? self : typeof window !== "undefined" ? window : typeof self !== "undefined" ? self : {}).Uint8Array || function() {
      };
      function _uint8ArrayToBuffer(chunk) {
        return Buffer4.from(chunk);
      }
      function _isUint8Array(obj) {
        return Buffer4.isBuffer(obj) || obj instanceof OurUint8Array;
      }
      var destroyImpl = require_destroy();
      var _require = require_state();
      var getHighWaterMark = _require.getHighWaterMark;
      var _require$codes = require_errors_browser().codes;
      var ERR_INVALID_ARG_TYPE = _require$codes.ERR_INVALID_ARG_TYPE;
      var ERR_METHOD_NOT_IMPLEMENTED = _require$codes.ERR_METHOD_NOT_IMPLEMENTED;
      var ERR_MULTIPLE_CALLBACK = _require$codes.ERR_MULTIPLE_CALLBACK;
      var ERR_STREAM_CANNOT_PIPE = _require$codes.ERR_STREAM_CANNOT_PIPE;
      var ERR_STREAM_DESTROYED = _require$codes.ERR_STREAM_DESTROYED;
      var ERR_STREAM_NULL_VALUES = _require$codes.ERR_STREAM_NULL_VALUES;
      var ERR_STREAM_WRITE_AFTER_END = _require$codes.ERR_STREAM_WRITE_AFTER_END;
      var ERR_UNKNOWN_ENCODING = _require$codes.ERR_UNKNOWN_ENCODING;
      var errorOrDestroy = destroyImpl.errorOrDestroy;
      require_inherits_browser()(Writable, Stream);
      function nop2() {
      }
      function WritableState(options, stream, isDuplex) {
        Duplex = Duplex || require_stream_duplex();
        options = options || {};
        if (typeof isDuplex !== "boolean")
          isDuplex = stream instanceof Duplex;
        this.objectMode = !!options.objectMode;
        if (isDuplex)
          this.objectMode = this.objectMode || !!options.writableObjectMode;
        this.highWaterMark = getHighWaterMark(this, options, "writableHighWaterMark", isDuplex);
        this.finalCalled = false;
        this.needDrain = false;
        this.ending = false;
        this.ended = false;
        this.finished = false;
        this.destroyed = false;
        var noDecode = options.decodeStrings === false;
        this.decodeStrings = !noDecode;
        this.defaultEncoding = options.defaultEncoding || "utf8";
        this.length = 0;
        this.writing = false;
        this.corked = 0;
        this.sync = true;
        this.bufferProcessing = false;
        this.onwrite = function(er) {
          onwrite(stream, er);
        };
        this.writecb = null;
        this.writelen = 0;
        this.bufferedRequest = null;
        this.lastBufferedRequest = null;
        this.pendingcb = 0;
        this.prefinished = false;
        this.errorEmitted = false;
        this.emitClose = options.emitClose !== false;
        this.autoDestroy = !!options.autoDestroy;
        this.bufferedRequestCount = 0;
        this.corkedRequestsFree = new CorkedRequest(this);
      }
      WritableState.prototype.getBuffer = function getBuffer() {
        var current = this.bufferedRequest;
        var out = [];
        while (current) {
          out.push(current);
          current = current.next;
        }
        return out;
      };
      (function() {
        try {
          Object.defineProperty(WritableState.prototype, "buffer", {
            get: internalUtil.deprecate(function writableStateBufferGetter() {
              return this.getBuffer();
            }, "_writableState.buffer is deprecated. Use _writableState.getBuffer instead.", "DEP0003")
          });
        } catch (_) {
        }
      })();
      var realHasInstance;
      if (typeof Symbol === "function" && Symbol.hasInstance && typeof Function.prototype[Symbol.hasInstance] === "function") {
        realHasInstance = Function.prototype[Symbol.hasInstance];
        Object.defineProperty(Writable, Symbol.hasInstance, {
          value: function value(object) {
            if (realHasInstance.call(this, object))
              return true;
            if (this !== Writable)
              return false;
            return object && object._writableState instanceof WritableState;
          }
        });
      } else {
        realHasInstance = function realHasInstance2(object) {
          return object instanceof this;
        };
      }
      function Writable(options) {
        Duplex = Duplex || require_stream_duplex();
        var isDuplex = this instanceof Duplex;
        if (!isDuplex && !realHasInstance.call(Writable, this))
          return new Writable(options);
        this._writableState = new WritableState(options, this, isDuplex);
        this.writable = true;
        if (options) {
          if (typeof options.write === "function")
            this._write = options.write;
          if (typeof options.writev === "function")
            this._writev = options.writev;
          if (typeof options.destroy === "function")
            this._destroy = options.destroy;
          if (typeof options.final === "function")
            this._final = options.final;
        }
        Stream.call(this);
      }
      Writable.prototype.pipe = function() {
        errorOrDestroy(this, new ERR_STREAM_CANNOT_PIPE());
      };
      function writeAfterEnd(stream, cb) {
        var er = new ERR_STREAM_WRITE_AFTER_END();
        errorOrDestroy(stream, er);
        process.nextTick(cb, er);
      }
      function validChunk(stream, state, chunk, cb) {
        var er;
        if (chunk === null) {
          er = new ERR_STREAM_NULL_VALUES();
        } else if (typeof chunk !== "string" && !state.objectMode) {
          er = new ERR_INVALID_ARG_TYPE("chunk", ["string", "Buffer"], chunk);
        }
        if (er) {
          errorOrDestroy(stream, er);
          process.nextTick(cb, er);
          return false;
        }
        return true;
      }
      Writable.prototype.write = function(chunk, encoding, cb) {
        var state = this._writableState;
        var ret = false;
        var isBuf = !state.objectMode && _isUint8Array(chunk);
        if (isBuf && !Buffer4.isBuffer(chunk)) {
          chunk = _uint8ArrayToBuffer(chunk);
        }
        if (typeof encoding === "function") {
          cb = encoding;
          encoding = null;
        }
        if (isBuf)
          encoding = "buffer";
        else if (!encoding)
          encoding = state.defaultEncoding;
        if (typeof cb !== "function")
          cb = nop2;
        if (state.ending)
          writeAfterEnd(this, cb);
        else if (isBuf || validChunk(this, state, chunk, cb)) {
          state.pendingcb++;
          ret = writeOrBuffer(this, state, isBuf, chunk, encoding, cb);
        }
        return ret;
      };
      Writable.prototype.cork = function() {
        this._writableState.corked++;
      };
      Writable.prototype.uncork = function() {
        var state = this._writableState;
        if (state.corked) {
          state.corked--;
          if (!state.writing && !state.corked && !state.bufferProcessing && state.bufferedRequest)
            clearBuffer(this, state);
        }
      };
      Writable.prototype.setDefaultEncoding = function setDefaultEncoding(encoding) {
        if (typeof encoding === "string")
          encoding = encoding.toLowerCase();
        if (!(["hex", "utf8", "utf-8", "ascii", "binary", "base64", "ucs2", "ucs-2", "utf16le", "utf-16le", "raw"].indexOf((encoding + "").toLowerCase()) > -1))
          throw new ERR_UNKNOWN_ENCODING(encoding);
        this._writableState.defaultEncoding = encoding;
        return this;
      };
      Object.defineProperty(Writable.prototype, "writableBuffer", {
        // making it explicit this property is not enumerable
        // because otherwise some prototype manipulation in
        // userland will fail
        enumerable: false,
        get: function get() {
          return this._writableState && this._writableState.getBuffer();
        }
      });
      function decodeChunk(state, chunk, encoding) {
        if (!state.objectMode && state.decodeStrings !== false && typeof chunk === "string") {
          chunk = Buffer4.from(chunk, encoding);
        }
        return chunk;
      }
      Object.defineProperty(Writable.prototype, "writableHighWaterMark", {
        // making it explicit this property is not enumerable
        // because otherwise some prototype manipulation in
        // userland will fail
        enumerable: false,
        get: function get() {
          return this._writableState.highWaterMark;
        }
      });
      function writeOrBuffer(stream, state, isBuf, chunk, encoding, cb) {
        if (!isBuf) {
          var newChunk = decodeChunk(state, chunk, encoding);
          if (chunk !== newChunk) {
            isBuf = true;
            encoding = "buffer";
            chunk = newChunk;
          }
        }
        var len = state.objectMode ? 1 : chunk.length;
        state.length += len;
        var ret = state.length < state.highWaterMark;
        if (!ret)
          state.needDrain = true;
        if (state.writing || state.corked) {
          var last = state.lastBufferedRequest;
          state.lastBufferedRequest = {
            chunk,
            encoding,
            isBuf,
            callback: cb,
            next: null
          };
          if (last) {
            last.next = state.lastBufferedRequest;
          } else {
            state.bufferedRequest = state.lastBufferedRequest;
          }
          state.bufferedRequestCount += 1;
        } else {
          doWrite(stream, state, false, len, chunk, encoding, cb);
        }
        return ret;
      }
      function doWrite(stream, state, writev, len, chunk, encoding, cb) {
        state.writelen = len;
        state.writecb = cb;
        state.writing = true;
        state.sync = true;
        if (state.destroyed)
          state.onwrite(new ERR_STREAM_DESTROYED("write"));
        else if (writev)
          stream._writev(chunk, state.onwrite);
        else
          stream._write(chunk, encoding, state.onwrite);
        state.sync = false;
      }
      function onwriteError(stream, state, sync, er, cb) {
        --state.pendingcb;
        if (sync) {
          process.nextTick(cb, er);
          process.nextTick(finishMaybe, stream, state);
          stream._writableState.errorEmitted = true;
          errorOrDestroy(stream, er);
        } else {
          cb(er);
          stream._writableState.errorEmitted = true;
          errorOrDestroy(stream, er);
          finishMaybe(stream, state);
        }
      }
      function onwriteStateUpdate(state) {
        state.writing = false;
        state.writecb = null;
        state.length -= state.writelen;
        state.writelen = 0;
      }
      function onwrite(stream, er) {
        var state = stream._writableState;
        var sync = state.sync;
        var cb = state.writecb;
        if (typeof cb !== "function")
          throw new ERR_MULTIPLE_CALLBACK();
        onwriteStateUpdate(state);
        if (er)
          onwriteError(stream, state, sync, er, cb);
        else {
          var finished = needFinish(state) || stream.destroyed;
          if (!finished && !state.corked && !state.bufferProcessing && state.bufferedRequest) {
            clearBuffer(stream, state);
          }
          if (sync) {
            process.nextTick(afterWrite, stream, state, finished, cb);
          } else {
            afterWrite(stream, state, finished, cb);
          }
        }
      }
      function afterWrite(stream, state, finished, cb) {
        if (!finished)
          onwriteDrain(stream, state);
        state.pendingcb--;
        cb();
        finishMaybe(stream, state);
      }
      function onwriteDrain(stream, state) {
        if (state.length === 0 && state.needDrain) {
          state.needDrain = false;
          stream.emit("drain");
        }
      }
      function clearBuffer(stream, state) {
        state.bufferProcessing = true;
        var entry = state.bufferedRequest;
        if (stream._writev && entry && entry.next) {
          var l = state.bufferedRequestCount;
          var buffer2 = new Array(l);
          var holder = state.corkedRequestsFree;
          holder.entry = entry;
          var count = 0;
          var allBuffers = true;
          while (entry) {
            buffer2[count] = entry;
            if (!entry.isBuf)
              allBuffers = false;
            entry = entry.next;
            count += 1;
          }
          buffer2.allBuffers = allBuffers;
          doWrite(stream, state, true, state.length, buffer2, "", holder.finish);
          state.pendingcb++;
          state.lastBufferedRequest = null;
          if (holder.next) {
            state.corkedRequestsFree = holder.next;
            holder.next = null;
          } else {
            state.corkedRequestsFree = new CorkedRequest(state);
          }
          state.bufferedRequestCount = 0;
        } else {
          while (entry) {
            var chunk = entry.chunk;
            var encoding = entry.encoding;
            var cb = entry.callback;
            var len = state.objectMode ? 1 : chunk.length;
            doWrite(stream, state, false, len, chunk, encoding, cb);
            entry = entry.next;
            state.bufferedRequestCount--;
            if (state.writing) {
              break;
            }
          }
          if (entry === null)
            state.lastBufferedRequest = null;
        }
        state.bufferedRequest = entry;
        state.bufferProcessing = false;
      }
      Writable.prototype._write = function(chunk, encoding, cb) {
        cb(new ERR_METHOD_NOT_IMPLEMENTED("_write()"));
      };
      Writable.prototype._writev = null;
      Writable.prototype.end = function(chunk, encoding, cb) {
        var state = this._writableState;
        if (typeof chunk === "function") {
          cb = chunk;
          chunk = null;
          encoding = null;
        } else if (typeof encoding === "function") {
          cb = encoding;
          encoding = null;
        }
        if (chunk !== null && chunk !== void 0)
          this.write(chunk, encoding);
        if (state.corked) {
          state.corked = 1;
          this.uncork();
        }
        if (!state.ending)
          endWritable(this, state, cb);
        return this;
      };
      Object.defineProperty(Writable.prototype, "writableLength", {
        // making it explicit this property is not enumerable
        // because otherwise some prototype manipulation in
        // userland will fail
        enumerable: false,
        get: function get() {
          return this._writableState.length;
        }
      });
      function needFinish(state) {
        return state.ending && state.length === 0 && state.bufferedRequest === null && !state.finished && !state.writing;
      }
      function callFinal(stream, state) {
        stream._final(function(err2) {
          state.pendingcb--;
          if (err2) {
            errorOrDestroy(stream, err2);
          }
          state.prefinished = true;
          stream.emit("prefinish");
          finishMaybe(stream, state);
        });
      }
      function prefinish(stream, state) {
        if (!state.prefinished && !state.finalCalled) {
          if (typeof stream._final === "function" && !state.destroyed) {
            state.pendingcb++;
            state.finalCalled = true;
            process.nextTick(callFinal, stream, state);
          } else {
            state.prefinished = true;
            stream.emit("prefinish");
          }
        }
      }
      function finishMaybe(stream, state) {
        var need = needFinish(state);
        if (need) {
          prefinish(stream, state);
          if (state.pendingcb === 0) {
            state.finished = true;
            stream.emit("finish");
            if (state.autoDestroy) {
              var rState = stream._readableState;
              if (!rState || rState.autoDestroy && rState.endEmitted) {
                stream.destroy();
              }
            }
          }
        }
        return need;
      }
      function endWritable(stream, state, cb) {
        state.ending = true;
        finishMaybe(stream, state);
        if (cb) {
          if (state.finished)
            process.nextTick(cb);
          else
            stream.once("finish", cb);
        }
        state.ended = true;
        stream.writable = false;
      }
      function onCorkedFinish(corkReq, state, err2) {
        var entry = corkReq.entry;
        corkReq.entry = null;
        while (entry) {
          var cb = entry.callback;
          state.pendingcb--;
          cb(err2);
          entry = entry.next;
        }
        state.corkedRequestsFree.next = corkReq;
      }
      Object.defineProperty(Writable.prototype, "destroyed", {
        // making it explicit this property is not enumerable
        // because otherwise some prototype manipulation in
        // userland will fail
        enumerable: false,
        get: function get() {
          if (this._writableState === void 0) {
            return false;
          }
          return this._writableState.destroyed;
        },
        set: function set(value) {
          if (!this._writableState) {
            return;
          }
          this._writableState.destroyed = value;
        }
      });
      Writable.prototype.destroy = destroyImpl.destroy;
      Writable.prototype._undestroy = destroyImpl.undestroy;
      Writable.prototype._destroy = function(err2, cb) {
        cb(err2);
      };
    }
  });

  // node_modules/readable-stream/lib/_stream_duplex.js
  var require_stream_duplex = __commonJS({
    "node_modules/readable-stream/lib/_stream_duplex.js"(exports, module) {
      "use strict";
      init_process_shim();
      init_buffer_shim();
      var objectKeys = Object.keys || function(obj) {
        var keys2 = [];
        for (var key in obj)
          keys2.push(key);
        return keys2;
      };
      module.exports = Duplex;
      var Readable = require_stream_readable();
      var Writable = require_stream_writable();
      require_inherits_browser()(Duplex, Readable);
      {
        keys = objectKeys(Writable.prototype);
        for (v = 0; v < keys.length; v++) {
          method = keys[v];
          if (!Duplex.prototype[method])
            Duplex.prototype[method] = Writable.prototype[method];
        }
      }
      var keys;
      var method;
      var v;
      function Duplex(options) {
        if (!(this instanceof Duplex))
          return new Duplex(options);
        Readable.call(this, options);
        Writable.call(this, options);
        this.allowHalfOpen = true;
        if (options) {
          if (options.readable === false)
            this.readable = false;
          if (options.writable === false)
            this.writable = false;
          if (options.allowHalfOpen === false) {
            this.allowHalfOpen = false;
            this.once("end", onend);
          }
        }
      }
      Object.defineProperty(Duplex.prototype, "writableHighWaterMark", {
        // making it explicit this property is not enumerable
        // because otherwise some prototype manipulation in
        // userland will fail
        enumerable: false,
        get: function get() {
          return this._writableState.highWaterMark;
        }
      });
      Object.defineProperty(Duplex.prototype, "writableBuffer", {
        // making it explicit this property is not enumerable
        // because otherwise some prototype manipulation in
        // userland will fail
        enumerable: false,
        get: function get() {
          return this._writableState && this._writableState.getBuffer();
        }
      });
      Object.defineProperty(Duplex.prototype, "writableLength", {
        // making it explicit this property is not enumerable
        // because otherwise some prototype manipulation in
        // userland will fail
        enumerable: false,
        get: function get() {
          return this._writableState.length;
        }
      });
      function onend() {
        if (this._writableState.ended)
          return;
        process.nextTick(onEndNT, this);
      }
      function onEndNT(self2) {
        self2.end();
      }
      Object.defineProperty(Duplex.prototype, "destroyed", {
        // making it explicit this property is not enumerable
        // because otherwise some prototype manipulation in
        // userland will fail
        enumerable: false,
        get: function get() {
          if (this._readableState === void 0 || this._writableState === void 0) {
            return false;
          }
          return this._readableState.destroyed && this._writableState.destroyed;
        },
        set: function set(value) {
          if (this._readableState === void 0 || this._writableState === void 0) {
            return;
          }
          this._readableState.destroyed = value;
          this._writableState.destroyed = value;
        }
      });
    }
  });

  // node_modules/safe-buffer/index.js
  var require_safe_buffer = __commonJS({
    "node_modules/safe-buffer/index.js"(exports, module) {
      init_process_shim();
      init_buffer_shim();
      var buffer2 = require_buffer();
      var Buffer4 = buffer2.Buffer;
      function copyProps(src, dst) {
        for (var key in src) {
          dst[key] = src[key];
        }
      }
      if (Buffer4.from && Buffer4.alloc && Buffer4.allocUnsafe && Buffer4.allocUnsafeSlow) {
        module.exports = buffer2;
      } else {
        copyProps(buffer2, exports);
        exports.Buffer = SafeBuffer;
      }
      function SafeBuffer(arg, encodingOrOffset, length) {
        return Buffer4(arg, encodingOrOffset, length);
      }
      SafeBuffer.prototype = Object.create(Buffer4.prototype);
      copyProps(Buffer4, SafeBuffer);
      SafeBuffer.from = function(arg, encodingOrOffset, length) {
        if (typeof arg === "number") {
          throw new TypeError("Argument must not be a number");
        }
        return Buffer4(arg, encodingOrOffset, length);
      };
      SafeBuffer.alloc = function(size, fill, encoding) {
        if (typeof size !== "number") {
          throw new TypeError("Argument must be a number");
        }
        var buf = Buffer4(size);
        if (fill !== void 0) {
          if (typeof encoding === "string") {
            buf.fill(fill, encoding);
          } else {
            buf.fill(fill);
          }
        } else {
          buf.fill(0);
        }
        return buf;
      };
      SafeBuffer.allocUnsafe = function(size) {
        if (typeof size !== "number") {
          throw new TypeError("Argument must be a number");
        }
        return Buffer4(size);
      };
      SafeBuffer.allocUnsafeSlow = function(size) {
        if (typeof size !== "number") {
          throw new TypeError("Argument must be a number");
        }
        return buffer2.SlowBuffer(size);
      };
    }
  });

  // node_modules/string_decoder/lib/string_decoder.js
  var require_string_decoder = __commonJS({
    "node_modules/string_decoder/lib/string_decoder.js"(exports) {
      "use strict";
      init_process_shim();
      init_buffer_shim();
      var Buffer4 = require_safe_buffer().Buffer;
      var isEncoding = Buffer4.isEncoding || function(encoding) {
        encoding = "" + encoding;
        switch (encoding && encoding.toLowerCase()) {
          case "hex":
          case "utf8":
          case "utf-8":
          case "ascii":
          case "binary":
          case "base64":
          case "ucs2":
          case "ucs-2":
          case "utf16le":
          case "utf-16le":
          case "raw":
            return true;
          default:
            return false;
        }
      };
      function _normalizeEncoding(enc) {
        if (!enc)
          return "utf8";
        var retried;
        while (true) {
          switch (enc) {
            case "utf8":
            case "utf-8":
              return "utf8";
            case "ucs2":
            case "ucs-2":
            case "utf16le":
            case "utf-16le":
              return "utf16le";
            case "latin1":
            case "binary":
              return "latin1";
            case "base64":
            case "ascii":
            case "hex":
              return enc;
            default:
              if (retried)
                return;
              enc = ("" + enc).toLowerCase();
              retried = true;
          }
        }
      }
      function normalizeEncoding(enc) {
        var nenc = _normalizeEncoding(enc);
        if (typeof nenc !== "string" && (Buffer4.isEncoding === isEncoding || !isEncoding(enc)))
          throw new Error("Unknown encoding: " + enc);
        return nenc || enc;
      }
      exports.StringDecoder = StringDecoder;
      function StringDecoder(encoding) {
        this.encoding = normalizeEncoding(encoding);
        var nb;
        switch (this.encoding) {
          case "utf16le":
            this.text = utf16Text;
            this.end = utf16End;
            nb = 4;
            break;
          case "utf8":
            this.fillLast = utf8FillLast;
            nb = 4;
            break;
          case "base64":
            this.text = base64Text;
            this.end = base64End;
            nb = 3;
            break;
          default:
            this.write = simpleWrite;
            this.end = simpleEnd;
            return;
        }
        this.lastNeed = 0;
        this.lastTotal = 0;
        this.lastChar = Buffer4.allocUnsafe(nb);
      }
      StringDecoder.prototype.write = function(buf) {
        if (buf.length === 0)
          return "";
        var r;
        var i;
        if (this.lastNeed) {
          r = this.fillLast(buf);
          if (r === void 0)
            return "";
          i = this.lastNeed;
          this.lastNeed = 0;
        } else {
          i = 0;
        }
        if (i < buf.length)
          return r ? r + this.text(buf, i) : this.text(buf, i);
        return r || "";
      };
      StringDecoder.prototype.end = utf8End;
      StringDecoder.prototype.text = utf8Text;
      StringDecoder.prototype.fillLast = function(buf) {
        if (this.lastNeed <= buf.length) {
          buf.copy(this.lastChar, this.lastTotal - this.lastNeed, 0, this.lastNeed);
          return this.lastChar.toString(this.encoding, 0, this.lastTotal);
        }
        buf.copy(this.lastChar, this.lastTotal - this.lastNeed, 0, buf.length);
        this.lastNeed -= buf.length;
      };
      function utf8CheckByte(byte) {
        if (byte <= 127)
          return 0;
        else if (byte >> 5 === 6)
          return 2;
        else if (byte >> 4 === 14)
          return 3;
        else if (byte >> 3 === 30)
          return 4;
        return byte >> 6 === 2 ? -1 : -2;
      }
      function utf8CheckIncomplete(self2, buf, i) {
        var j = buf.length - 1;
        if (j < i)
          return 0;
        var nb = utf8CheckByte(buf[j]);
        if (nb >= 0) {
          if (nb > 0)
            self2.lastNeed = nb - 1;
          return nb;
        }
        if (--j < i || nb === -2)
          return 0;
        nb = utf8CheckByte(buf[j]);
        if (nb >= 0) {
          if (nb > 0)
            self2.lastNeed = nb - 2;
          return nb;
        }
        if (--j < i || nb === -2)
          return 0;
        nb = utf8CheckByte(buf[j]);
        if (nb >= 0) {
          if (nb > 0) {
            if (nb === 2)
              nb = 0;
            else
              self2.lastNeed = nb - 3;
          }
          return nb;
        }
        return 0;
      }
      function utf8CheckExtraBytes(self2, buf, p) {
        if ((buf[0] & 192) !== 128) {
          self2.lastNeed = 0;
          return "\uFFFD";
        }
        if (self2.lastNeed > 1 && buf.length > 1) {
          if ((buf[1] & 192) !== 128) {
            self2.lastNeed = 1;
            return "\uFFFD";
          }
          if (self2.lastNeed > 2 && buf.length > 2) {
            if ((buf[2] & 192) !== 128) {
              self2.lastNeed = 2;
              return "\uFFFD";
            }
          }
        }
      }
      function utf8FillLast(buf) {
        var p = this.lastTotal - this.lastNeed;
        var r = utf8CheckExtraBytes(this, buf, p);
        if (r !== void 0)
          return r;
        if (this.lastNeed <= buf.length) {
          buf.copy(this.lastChar, p, 0, this.lastNeed);
          return this.lastChar.toString(this.encoding, 0, this.lastTotal);
        }
        buf.copy(this.lastChar, p, 0, buf.length);
        this.lastNeed -= buf.length;
      }
      function utf8Text(buf, i) {
        var total = utf8CheckIncomplete(this, buf, i);
        if (!this.lastNeed)
          return buf.toString("utf8", i);
        this.lastTotal = total;
        var end = buf.length - (total - this.lastNeed);
        buf.copy(this.lastChar, 0, end);
        return buf.toString("utf8", i, end);
      }
      function utf8End(buf) {
        var r = buf && buf.length ? this.write(buf) : "";
        if (this.lastNeed)
          return r + "\uFFFD";
        return r;
      }
      function utf16Text(buf, i) {
        if ((buf.length - i) % 2 === 0) {
          var r = buf.toString("utf16le", i);
          if (r) {
            var c = r.charCodeAt(r.length - 1);
            if (c >= 55296 && c <= 56319) {
              this.lastNeed = 2;
              this.lastTotal = 4;
              this.lastChar[0] = buf[buf.length - 2];
              this.lastChar[1] = buf[buf.length - 1];
              return r.slice(0, -1);
            }
          }
          return r;
        }
        this.lastNeed = 1;
        this.lastTotal = 2;
        this.lastChar[0] = buf[buf.length - 1];
        return buf.toString("utf16le", i, buf.length - 1);
      }
      function utf16End(buf) {
        var r = buf && buf.length ? this.write(buf) : "";
        if (this.lastNeed) {
          var end = this.lastTotal - this.lastNeed;
          return r + this.lastChar.toString("utf16le", 0, end);
        }
        return r;
      }
      function base64Text(buf, i) {
        var n = (buf.length - i) % 3;
        if (n === 0)
          return buf.toString("base64", i);
        this.lastNeed = 3 - n;
        this.lastTotal = 3;
        if (n === 1) {
          this.lastChar[0] = buf[buf.length - 1];
        } else {
          this.lastChar[0] = buf[buf.length - 2];
          this.lastChar[1] = buf[buf.length - 1];
        }
        return buf.toString("base64", i, buf.length - n);
      }
      function base64End(buf) {
        var r = buf && buf.length ? this.write(buf) : "";
        if (this.lastNeed)
          return r + this.lastChar.toString("base64", 0, 3 - this.lastNeed);
        return r;
      }
      function simpleWrite(buf) {
        return buf.toString(this.encoding);
      }
      function simpleEnd(buf) {
        return buf && buf.length ? this.write(buf) : "";
      }
    }
  });

  // node_modules/readable-stream/lib/internal/streams/end-of-stream.js
  var require_end_of_stream = __commonJS({
    "node_modules/readable-stream/lib/internal/streams/end-of-stream.js"(exports, module) {
      "use strict";
      init_process_shim();
      init_buffer_shim();
      var ERR_STREAM_PREMATURE_CLOSE = require_errors_browser().codes.ERR_STREAM_PREMATURE_CLOSE;
      function once(callback) {
        var called = false;
        return function() {
          if (called)
            return;
          called = true;
          for (var _len = arguments.length, args = new Array(_len), _key = 0; _key < _len; _key++) {
            args[_key] = arguments[_key];
          }
          callback.apply(this, args);
        };
      }
      function noop() {
      }
      function isRequest(stream) {
        return stream.setHeader && typeof stream.abort === "function";
      }
      function eos(stream, opts, callback) {
        if (typeof opts === "function")
          return eos(stream, null, opts);
        if (!opts)
          opts = {};
        callback = once(callback || noop);
        var readable = opts.readable || opts.readable !== false && stream.readable;
        var writable = opts.writable || opts.writable !== false && stream.writable;
        var onlegacyfinish = function onlegacyfinish2() {
          if (!stream.writable)
            onfinish();
        };
        var writableEnded = stream._writableState && stream._writableState.finished;
        var onfinish = function onfinish2() {
          writable = false;
          writableEnded = true;
          if (!readable)
            callback.call(stream);
        };
        var readableEnded = stream._readableState && stream._readableState.endEmitted;
        var onend = function onend2() {
          readable = false;
          readableEnded = true;
          if (!writable)
            callback.call(stream);
        };
        var onerror = function onerror2(err2) {
          callback.call(stream, err2);
        };
        var onclose = function onclose2() {
          var err2;
          if (readable && !readableEnded) {
            if (!stream._readableState || !stream._readableState.ended)
              err2 = new ERR_STREAM_PREMATURE_CLOSE();
            return callback.call(stream, err2);
          }
          if (writable && !writableEnded) {
            if (!stream._writableState || !stream._writableState.ended)
              err2 = new ERR_STREAM_PREMATURE_CLOSE();
            return callback.call(stream, err2);
          }
        };
        var onrequest = function onrequest2() {
          stream.req.on("finish", onfinish);
        };
        if (isRequest(stream)) {
          stream.on("complete", onfinish);
          stream.on("abort", onclose);
          if (stream.req)
            onrequest();
          else
            stream.on("request", onrequest);
        } else if (writable && !stream._writableState) {
          stream.on("end", onlegacyfinish);
          stream.on("close", onlegacyfinish);
        }
        stream.on("end", onend);
        stream.on("finish", onfinish);
        if (opts.error !== false)
          stream.on("error", onerror);
        stream.on("close", onclose);
        return function() {
          stream.removeListener("complete", onfinish);
          stream.removeListener("abort", onclose);
          stream.removeListener("request", onrequest);
          if (stream.req)
            stream.req.removeListener("finish", onfinish);
          stream.removeListener("end", onlegacyfinish);
          stream.removeListener("close", onlegacyfinish);
          stream.removeListener("finish", onfinish);
          stream.removeListener("end", onend);
          stream.removeListener("error", onerror);
          stream.removeListener("close", onclose);
        };
      }
      module.exports = eos;
    }
  });

  // node_modules/readable-stream/lib/internal/streams/async_iterator.js
  var require_async_iterator = __commonJS({
    "node_modules/readable-stream/lib/internal/streams/async_iterator.js"(exports, module) {
      "use strict";
      init_process_shim();
      init_buffer_shim();
      var _Object$setPrototypeO;
      function _defineProperty(obj, key, value) {
        key = _toPropertyKey(key);
        if (key in obj) {
          Object.defineProperty(obj, key, { value, enumerable: true, configurable: true, writable: true });
        } else {
          obj[key] = value;
        }
        return obj;
      }
      function _toPropertyKey(arg) {
        var key = _toPrimitive(arg, "string");
        return typeof key === "symbol" ? key : String(key);
      }
      function _toPrimitive(input, hint) {
        if (typeof input !== "object" || input === null)
          return input;
        var prim = input[Symbol.toPrimitive];
        if (prim !== void 0) {
          var res = prim.call(input, hint || "default");
          if (typeof res !== "object")
            return res;
          throw new TypeError("@@toPrimitive must return a primitive value.");
        }
        return (hint === "string" ? String : Number)(input);
      }
      var finished = require_end_of_stream();
      var kLastResolve = Symbol("lastResolve");
      var kLastReject = Symbol("lastReject");
      var kError = Symbol("error");
      var kEnded = Symbol("ended");
      var kLastPromise = Symbol("lastPromise");
      var kHandlePromise = Symbol("handlePromise");
      var kStream = Symbol("stream");
      function createIterResult(value, done) {
        return {
          value,
          done
        };
      }
      function readAndResolve(iter) {
        var resolve = iter[kLastResolve];
        if (resolve !== null) {
          var data = iter[kStream].read();
          if (data !== null) {
            iter[kLastPromise] = null;
            iter[kLastResolve] = null;
            iter[kLastReject] = null;
            resolve(createIterResult(data, false));
          }
        }
      }
      function onReadable(iter) {
        process.nextTick(readAndResolve, iter);
      }
      function wrapForNext(lastPromise, iter) {
        return function(resolve, reject) {
          lastPromise.then(function() {
            if (iter[kEnded]) {
              resolve(createIterResult(void 0, true));
              return;
            }
            iter[kHandlePromise](resolve, reject);
          }, reject);
        };
      }
      var AsyncIteratorPrototype = Object.getPrototypeOf(function() {
      });
      var ReadableStreamAsyncIteratorPrototype = Object.setPrototypeOf((_Object$setPrototypeO = {
        get stream() {
          return this[kStream];
        },
        next: function next() {
          var _this = this;
          var error = this[kError];
          if (error !== null) {
            return Promise.reject(error);
          }
          if (this[kEnded]) {
            return Promise.resolve(createIterResult(void 0, true));
          }
          if (this[kStream].destroyed) {
            return new Promise(function(resolve, reject) {
              process.nextTick(function() {
                if (_this[kError]) {
                  reject(_this[kError]);
                } else {
                  resolve(createIterResult(void 0, true));
                }
              });
            });
          }
          var lastPromise = this[kLastPromise];
          var promise;
          if (lastPromise) {
            promise = new Promise(wrapForNext(lastPromise, this));
          } else {
            var data = this[kStream].read();
            if (data !== null) {
              return Promise.resolve(createIterResult(data, false));
            }
            promise = new Promise(this[kHandlePromise]);
          }
          this[kLastPromise] = promise;
          return promise;
        }
      }, _defineProperty(_Object$setPrototypeO, Symbol.asyncIterator, function() {
        return this;
      }), _defineProperty(_Object$setPrototypeO, "return", function _return() {
        var _this2 = this;
        return new Promise(function(resolve, reject) {
          _this2[kStream].destroy(null, function(err2) {
            if (err2) {
              reject(err2);
              return;
            }
            resolve(createIterResult(void 0, true));
          });
        });
      }), _Object$setPrototypeO), AsyncIteratorPrototype);
      var createReadableStreamAsyncIterator = function createReadableStreamAsyncIterator2(stream) {
        var _Object$create;
        var iterator = Object.create(ReadableStreamAsyncIteratorPrototype, (_Object$create = {}, _defineProperty(_Object$create, kStream, {
          value: stream,
          writable: true
        }), _defineProperty(_Object$create, kLastResolve, {
          value: null,
          writable: true
        }), _defineProperty(_Object$create, kLastReject, {
          value: null,
          writable: true
        }), _defineProperty(_Object$create, kError, {
          value: null,
          writable: true
        }), _defineProperty(_Object$create, kEnded, {
          value: stream._readableState.endEmitted,
          writable: true
        }), _defineProperty(_Object$create, kHandlePromise, {
          value: function value(resolve, reject) {
            var data = iterator[kStream].read();
            if (data) {
              iterator[kLastPromise] = null;
              iterator[kLastResolve] = null;
              iterator[kLastReject] = null;
              resolve(createIterResult(data, false));
            } else {
              iterator[kLastResolve] = resolve;
              iterator[kLastReject] = reject;
            }
          },
          writable: true
        }), _Object$create));
        iterator[kLastPromise] = null;
        finished(stream, function(err2) {
          if (err2 && err2.code !== "ERR_STREAM_PREMATURE_CLOSE") {
            var reject = iterator[kLastReject];
            if (reject !== null) {
              iterator[kLastPromise] = null;
              iterator[kLastResolve] = null;
              iterator[kLastReject] = null;
              reject(err2);
            }
            iterator[kError] = err2;
            return;
          }
          var resolve = iterator[kLastResolve];
          if (resolve !== null) {
            iterator[kLastPromise] = null;
            iterator[kLastResolve] = null;
            iterator[kLastReject] = null;
            resolve(createIterResult(void 0, true));
          }
          iterator[kEnded] = true;
        });
        stream.on("readable", onReadable.bind(null, iterator));
        return iterator;
      };
      module.exports = createReadableStreamAsyncIterator;
    }
  });

  // node_modules/readable-stream/lib/internal/streams/from-browser.js
  var require_from_browser = __commonJS({
    "node_modules/readable-stream/lib/internal/streams/from-browser.js"(exports, module) {
      init_process_shim();
      init_buffer_shim();
      module.exports = function() {
        throw new Error("Readable.from is not available in the browser");
      };
    }
  });

  // node_modules/readable-stream/lib/_stream_readable.js
  var require_stream_readable = __commonJS({
    "node_modules/readable-stream/lib/_stream_readable.js"(exports, module) {
      "use strict";
      init_process_shim();
      init_buffer_shim();
      module.exports = Readable;
      var Duplex;
      Readable.ReadableState = ReadableState;
      var EE = require_events().EventEmitter;
      var EElistenerCount = function EElistenerCount2(emitter, type) {
        return emitter.listeners(type).length;
      };
      var Stream = require_stream_browser();
      var Buffer4 = require_buffer().Buffer;
      var OurUint8Array = (typeof self !== "undefined" ? self : typeof window !== "undefined" ? window : typeof self !== "undefined" ? self : {}).Uint8Array || function() {
      };
      function _uint8ArrayToBuffer(chunk) {
        return Buffer4.from(chunk);
      }
      function _isUint8Array(obj) {
        return Buffer4.isBuffer(obj) || obj instanceof OurUint8Array;
      }
      var debugUtil = require_util2();
      var debug;
      if (debugUtil && debugUtil.debuglog) {
        debug = debugUtil.debuglog("stream");
      } else {
        debug = function debug2() {
        };
      }
      var BufferList = require_buffer_list();
      var destroyImpl = require_destroy();
      var _require = require_state();
      var getHighWaterMark = _require.getHighWaterMark;
      var _require$codes = require_errors_browser().codes;
      var ERR_INVALID_ARG_TYPE = _require$codes.ERR_INVALID_ARG_TYPE;
      var ERR_STREAM_PUSH_AFTER_EOF = _require$codes.ERR_STREAM_PUSH_AFTER_EOF;
      var ERR_METHOD_NOT_IMPLEMENTED = _require$codes.ERR_METHOD_NOT_IMPLEMENTED;
      var ERR_STREAM_UNSHIFT_AFTER_END_EVENT = _require$codes.ERR_STREAM_UNSHIFT_AFTER_END_EVENT;
      var StringDecoder;
      var createReadableStreamAsyncIterator;
      var from;
      require_inherits_browser()(Readable, Stream);
      var errorOrDestroy = destroyImpl.errorOrDestroy;
      var kProxyEvents = ["error", "close", "destroy", "pause", "resume"];
      function prependListener(emitter, event, fn) {
        if (typeof emitter.prependListener === "function")
          return emitter.prependListener(event, fn);
        if (!emitter._events || !emitter._events[event])
          emitter.on(event, fn);
        else if (Array.isArray(emitter._events[event]))
          emitter._events[event].unshift(fn);
        else
          emitter._events[event] = [fn, emitter._events[event]];
      }
      function ReadableState(options, stream, isDuplex) {
        Duplex = Duplex || require_stream_duplex();
        options = options || {};
        if (typeof isDuplex !== "boolean")
          isDuplex = stream instanceof Duplex;
        this.objectMode = !!options.objectMode;
        if (isDuplex)
          this.objectMode = this.objectMode || !!options.readableObjectMode;
        this.highWaterMark = getHighWaterMark(this, options, "readableHighWaterMark", isDuplex);
        this.buffer = new BufferList();
        this.length = 0;
        this.pipes = null;
        this.pipesCount = 0;
        this.flowing = null;
        this.ended = false;
        this.endEmitted = false;
        this.reading = false;
        this.sync = true;
        this.needReadable = false;
        this.emittedReadable = false;
        this.readableListening = false;
        this.resumeScheduled = false;
        this.paused = true;
        this.emitClose = options.emitClose !== false;
        this.autoDestroy = !!options.autoDestroy;
        this.destroyed = false;
        this.defaultEncoding = options.defaultEncoding || "utf8";
        this.awaitDrain = 0;
        this.readingMore = false;
        this.decoder = null;
        this.encoding = null;
        if (options.encoding) {
          if (!StringDecoder)
            StringDecoder = require_string_decoder().StringDecoder;
          this.decoder = new StringDecoder(options.encoding);
          this.encoding = options.encoding;
        }
      }
      function Readable(options) {
        Duplex = Duplex || require_stream_duplex();
        if (!(this instanceof Readable))
          return new Readable(options);
        var isDuplex = this instanceof Duplex;
        this._readableState = new ReadableState(options, this, isDuplex);
        this.readable = true;
        if (options) {
          if (typeof options.read === "function")
            this._read = options.read;
          if (typeof options.destroy === "function")
            this._destroy = options.destroy;
        }
        Stream.call(this);
      }
      Object.defineProperty(Readable.prototype, "destroyed", {
        // making it explicit this property is not enumerable
        // because otherwise some prototype manipulation in
        // userland will fail
        enumerable: false,
        get: function get() {
          if (this._readableState === void 0) {
            return false;
          }
          return this._readableState.destroyed;
        },
        set: function set(value) {
          if (!this._readableState) {
            return;
          }
          this._readableState.destroyed = value;
        }
      });
      Readable.prototype.destroy = destroyImpl.destroy;
      Readable.prototype._undestroy = destroyImpl.undestroy;
      Readable.prototype._destroy = function(err2, cb) {
        cb(err2);
      };
      Readable.prototype.push = function(chunk, encoding) {
        var state = this._readableState;
        var skipChunkCheck;
        if (!state.objectMode) {
          if (typeof chunk === "string") {
            encoding = encoding || state.defaultEncoding;
            if (encoding !== state.encoding) {
              chunk = Buffer4.from(chunk, encoding);
              encoding = "";
            }
            skipChunkCheck = true;
          }
        } else {
          skipChunkCheck = true;
        }
        return readableAddChunk(this, chunk, encoding, false, skipChunkCheck);
      };
      Readable.prototype.unshift = function(chunk) {
        return readableAddChunk(this, chunk, null, true, false);
      };
      function readableAddChunk(stream, chunk, encoding, addToFront, skipChunkCheck) {
        debug("readableAddChunk", chunk);
        var state = stream._readableState;
        if (chunk === null) {
          state.reading = false;
          onEofChunk(stream, state);
        } else {
          var er;
          if (!skipChunkCheck)
            er = chunkInvalid(state, chunk);
          if (er) {
            errorOrDestroy(stream, er);
          } else if (state.objectMode || chunk && chunk.length > 0) {
            if (typeof chunk !== "string" && !state.objectMode && Object.getPrototypeOf(chunk) !== Buffer4.prototype) {
              chunk = _uint8ArrayToBuffer(chunk);
            }
            if (addToFront) {
              if (state.endEmitted)
                errorOrDestroy(stream, new ERR_STREAM_UNSHIFT_AFTER_END_EVENT());
              else
                addChunk(stream, state, chunk, true);
            } else if (state.ended) {
              errorOrDestroy(stream, new ERR_STREAM_PUSH_AFTER_EOF());
            } else if (state.destroyed) {
              return false;
            } else {
              state.reading = false;
              if (state.decoder && !encoding) {
                chunk = state.decoder.write(chunk);
                if (state.objectMode || chunk.length !== 0)
                  addChunk(stream, state, chunk, false);
                else
                  maybeReadMore(stream, state);
              } else {
                addChunk(stream, state, chunk, false);
              }
            }
          } else if (!addToFront) {
            state.reading = false;
            maybeReadMore(stream, state);
          }
        }
        return !state.ended && (state.length < state.highWaterMark || state.length === 0);
      }
      function addChunk(stream, state, chunk, addToFront) {
        if (state.flowing && state.length === 0 && !state.sync) {
          state.awaitDrain = 0;
          stream.emit("data", chunk);
        } else {
          state.length += state.objectMode ? 1 : chunk.length;
          if (addToFront)
            state.buffer.unshift(chunk);
          else
            state.buffer.push(chunk);
          if (state.needReadable)
            emitReadable(stream);
        }
        maybeReadMore(stream, state);
      }
      function chunkInvalid(state, chunk) {
        var er;
        if (!_isUint8Array(chunk) && typeof chunk !== "string" && chunk !== void 0 && !state.objectMode) {
          er = new ERR_INVALID_ARG_TYPE("chunk", ["string", "Buffer", "Uint8Array"], chunk);
        }
        return er;
      }
      Readable.prototype.isPaused = function() {
        return this._readableState.flowing === false;
      };
      Readable.prototype.setEncoding = function(enc) {
        if (!StringDecoder)
          StringDecoder = require_string_decoder().StringDecoder;
        var decoder = new StringDecoder(enc);
        this._readableState.decoder = decoder;
        this._readableState.encoding = this._readableState.decoder.encoding;
        var p = this._readableState.buffer.head;
        var content = "";
        while (p !== null) {
          content += decoder.write(p.data);
          p = p.next;
        }
        this._readableState.buffer.clear();
        if (content !== "")
          this._readableState.buffer.push(content);
        this._readableState.length = content.length;
        return this;
      };
      var MAX_HWM = 1073741824;
      function computeNewHighWaterMark(n) {
        if (n >= MAX_HWM) {
          n = MAX_HWM;
        } else {
          n--;
          n |= n >>> 1;
          n |= n >>> 2;
          n |= n >>> 4;
          n |= n >>> 8;
          n |= n >>> 16;
          n++;
        }
        return n;
      }
      function howMuchToRead(n, state) {
        if (n <= 0 || state.length === 0 && state.ended)
          return 0;
        if (state.objectMode)
          return 1;
        if (n !== n) {
          if (state.flowing && state.length)
            return state.buffer.head.data.length;
          else
            return state.length;
        }
        if (n > state.highWaterMark)
          state.highWaterMark = computeNewHighWaterMark(n);
        if (n <= state.length)
          return n;
        if (!state.ended) {
          state.needReadable = true;
          return 0;
        }
        return state.length;
      }
      Readable.prototype.read = function(n) {
        debug("read", n);
        n = parseInt(n, 10);
        var state = this._readableState;
        var nOrig = n;
        if (n !== 0)
          state.emittedReadable = false;
        if (n === 0 && state.needReadable && ((state.highWaterMark !== 0 ? state.length >= state.highWaterMark : state.length > 0) || state.ended)) {
          debug("read: emitReadable", state.length, state.ended);
          if (state.length === 0 && state.ended)
            endReadable(this);
          else
            emitReadable(this);
          return null;
        }
        n = howMuchToRead(n, state);
        if (n === 0 && state.ended) {
          if (state.length === 0)
            endReadable(this);
          return null;
        }
        var doRead = state.needReadable;
        debug("need readable", doRead);
        if (state.length === 0 || state.length - n < state.highWaterMark) {
          doRead = true;
          debug("length less than watermark", doRead);
        }
        if (state.ended || state.reading) {
          doRead = false;
          debug("reading or ended", doRead);
        } else if (doRead) {
          debug("do read");
          state.reading = true;
          state.sync = true;
          if (state.length === 0)
            state.needReadable = true;
          this._read(state.highWaterMark);
          state.sync = false;
          if (!state.reading)
            n = howMuchToRead(nOrig, state);
        }
        var ret;
        if (n > 0)
          ret = fromList(n, state);
        else
          ret = null;
        if (ret === null) {
          state.needReadable = state.length <= state.highWaterMark;
          n = 0;
        } else {
          state.length -= n;
          state.awaitDrain = 0;
        }
        if (state.length === 0) {
          if (!state.ended)
            state.needReadable = true;
          if (nOrig !== n && state.ended)
            endReadable(this);
        }
        if (ret !== null)
          this.emit("data", ret);
        return ret;
      };
      function onEofChunk(stream, state) {
        debug("onEofChunk");
        if (state.ended)
          return;
        if (state.decoder) {
          var chunk = state.decoder.end();
          if (chunk && chunk.length) {
            state.buffer.push(chunk);
            state.length += state.objectMode ? 1 : chunk.length;
          }
        }
        state.ended = true;
        if (state.sync) {
          emitReadable(stream);
        } else {
          state.needReadable = false;
          if (!state.emittedReadable) {
            state.emittedReadable = true;
            emitReadable_(stream);
          }
        }
      }
      function emitReadable(stream) {
        var state = stream._readableState;
        debug("emitReadable", state.needReadable, state.emittedReadable);
        state.needReadable = false;
        if (!state.emittedReadable) {
          debug("emitReadable", state.flowing);
          state.emittedReadable = true;
          process.nextTick(emitReadable_, stream);
        }
      }
      function emitReadable_(stream) {
        var state = stream._readableState;
        debug("emitReadable_", state.destroyed, state.length, state.ended);
        if (!state.destroyed && (state.length || state.ended)) {
          stream.emit("readable");
          state.emittedReadable = false;
        }
        state.needReadable = !state.flowing && !state.ended && state.length <= state.highWaterMark;
        flow(stream);
      }
      function maybeReadMore(stream, state) {
        if (!state.readingMore) {
          state.readingMore = true;
          process.nextTick(maybeReadMore_, stream, state);
        }
      }
      function maybeReadMore_(stream, state) {
        while (!state.reading && !state.ended && (state.length < state.highWaterMark || state.flowing && state.length === 0)) {
          var len = state.length;
          debug("maybeReadMore read 0");
          stream.read(0);
          if (len === state.length)
            break;
        }
        state.readingMore = false;
      }
      Readable.prototype._read = function(n) {
        errorOrDestroy(this, new ERR_METHOD_NOT_IMPLEMENTED("_read()"));
      };
      Readable.prototype.pipe = function(dest, pipeOpts) {
        var src = this;
        var state = this._readableState;
        switch (state.pipesCount) {
          case 0:
            state.pipes = dest;
            break;
          case 1:
            state.pipes = [state.pipes, dest];
            break;
          default:
            state.pipes.push(dest);
            break;
        }
        state.pipesCount += 1;
        debug("pipe count=%d opts=%j", state.pipesCount, pipeOpts);
        var doEnd = (!pipeOpts || pipeOpts.end !== false) && dest !== process.stdout && dest !== process.stderr;
        var endFn = doEnd ? onend : unpipe;
        if (state.endEmitted)
          process.nextTick(endFn);
        else
          src.once("end", endFn);
        dest.on("unpipe", onunpipe);
        function onunpipe(readable, unpipeInfo) {
          debug("onunpipe");
          if (readable === src) {
            if (unpipeInfo && unpipeInfo.hasUnpiped === false) {
              unpipeInfo.hasUnpiped = true;
              cleanup();
            }
          }
        }
        function onend() {
          debug("onend");
          dest.end();
        }
        var ondrain = pipeOnDrain(src);
        dest.on("drain", ondrain);
        var cleanedUp = false;
        function cleanup() {
          debug("cleanup");
          dest.removeListener("close", onclose);
          dest.removeListener("finish", onfinish);
          dest.removeListener("drain", ondrain);
          dest.removeListener("error", onerror);
          dest.removeListener("unpipe", onunpipe);
          src.removeListener("end", onend);
          src.removeListener("end", unpipe);
          src.removeListener("data", ondata);
          cleanedUp = true;
          if (state.awaitDrain && (!dest._writableState || dest._writableState.needDrain))
            ondrain();
        }
        src.on("data", ondata);
        function ondata(chunk) {
          debug("ondata");
          var ret = dest.write(chunk);
          debug("dest.write", ret);
          if (ret === false) {
            if ((state.pipesCount === 1 && state.pipes === dest || state.pipesCount > 1 && indexOf(state.pipes, dest) !== -1) && !cleanedUp) {
              debug("false write response, pause", state.awaitDrain);
              state.awaitDrain++;
            }
            src.pause();
          }
        }
        function onerror(er) {
          debug("onerror", er);
          unpipe();
          dest.removeListener("error", onerror);
          if (EElistenerCount(dest, "error") === 0)
            errorOrDestroy(dest, er);
        }
        prependListener(dest, "error", onerror);
        function onclose() {
          dest.removeListener("finish", onfinish);
          unpipe();
        }
        dest.once("close", onclose);
        function onfinish() {
          debug("onfinish");
          dest.removeListener("close", onclose);
          unpipe();
        }
        dest.once("finish", onfinish);
        function unpipe() {
          debug("unpipe");
          src.unpipe(dest);
        }
        dest.emit("pipe", src);
        if (!state.flowing) {
          debug("pipe resume");
          src.resume();
        }
        return dest;
      };
      function pipeOnDrain(src) {
        return function pipeOnDrainFunctionResult() {
          var state = src._readableState;
          debug("pipeOnDrain", state.awaitDrain);
          if (state.awaitDrain)
            state.awaitDrain--;
          if (state.awaitDrain === 0 && EElistenerCount(src, "data")) {
            state.flowing = true;
            flow(src);
          }
        };
      }
      Readable.prototype.unpipe = function(dest) {
        var state = this._readableState;
        var unpipeInfo = {
          hasUnpiped: false
        };
        if (state.pipesCount === 0)
          return this;
        if (state.pipesCount === 1) {
          if (dest && dest !== state.pipes)
            return this;
          if (!dest)
            dest = state.pipes;
          state.pipes = null;
          state.pipesCount = 0;
          state.flowing = false;
          if (dest)
            dest.emit("unpipe", this, unpipeInfo);
          return this;
        }
        if (!dest) {
          var dests = state.pipes;
          var len = state.pipesCount;
          state.pipes = null;
          state.pipesCount = 0;
          state.flowing = false;
          for (var i = 0; i < len; i++)
            dests[i].emit("unpipe", this, {
              hasUnpiped: false
            });
          return this;
        }
        var index = indexOf(state.pipes, dest);
        if (index === -1)
          return this;
        state.pipes.splice(index, 1);
        state.pipesCount -= 1;
        if (state.pipesCount === 1)
          state.pipes = state.pipes[0];
        dest.emit("unpipe", this, unpipeInfo);
        return this;
      };
      Readable.prototype.on = function(ev, fn) {
        var res = Stream.prototype.on.call(this, ev, fn);
        var state = this._readableState;
        if (ev === "data") {
          state.readableListening = this.listenerCount("readable") > 0;
          if (state.flowing !== false)
            this.resume();
        } else if (ev === "readable") {
          if (!state.endEmitted && !state.readableListening) {
            state.readableListening = state.needReadable = true;
            state.flowing = false;
            state.emittedReadable = false;
            debug("on readable", state.length, state.reading);
            if (state.length) {
              emitReadable(this);
            } else if (!state.reading) {
              process.nextTick(nReadingNextTick, this);
            }
          }
        }
        return res;
      };
      Readable.prototype.addListener = Readable.prototype.on;
      Readable.prototype.removeListener = function(ev, fn) {
        var res = Stream.prototype.removeListener.call(this, ev, fn);
        if (ev === "readable") {
          process.nextTick(updateReadableListening, this);
        }
        return res;
      };
      Readable.prototype.removeAllListeners = function(ev) {
        var res = Stream.prototype.removeAllListeners.apply(this, arguments);
        if (ev === "readable" || ev === void 0) {
          process.nextTick(updateReadableListening, this);
        }
        return res;
      };
      function updateReadableListening(self2) {
        var state = self2._readableState;
        state.readableListening = self2.listenerCount("readable") > 0;
        if (state.resumeScheduled && !state.paused) {
          state.flowing = true;
        } else if (self2.listenerCount("data") > 0) {
          self2.resume();
        }
      }
      function nReadingNextTick(self2) {
        debug("readable nexttick read 0");
        self2.read(0);
      }
      Readable.prototype.resume = function() {
        var state = this._readableState;
        if (!state.flowing) {
          debug("resume");
          state.flowing = !state.readableListening;
          resume(this, state);
        }
        state.paused = false;
        return this;
      };
      function resume(stream, state) {
        if (!state.resumeScheduled) {
          state.resumeScheduled = true;
          process.nextTick(resume_, stream, state);
        }
      }
      function resume_(stream, state) {
        debug("resume", state.reading);
        if (!state.reading) {
          stream.read(0);
        }
        state.resumeScheduled = false;
        stream.emit("resume");
        flow(stream);
        if (state.flowing && !state.reading)
          stream.read(0);
      }
      Readable.prototype.pause = function() {
        debug("call pause flowing=%j", this._readableState.flowing);
        if (this._readableState.flowing !== false) {
          debug("pause");
          this._readableState.flowing = false;
          this.emit("pause");
        }
        this._readableState.paused = true;
        return this;
      };
      function flow(stream) {
        var state = stream._readableState;
        debug("flow", state.flowing);
        while (state.flowing && stream.read() !== null)
          ;
      }
      Readable.prototype.wrap = function(stream) {
        var _this = this;
        var state = this._readableState;
        var paused = false;
        stream.on("end", function() {
          debug("wrapped end");
          if (state.decoder && !state.ended) {
            var chunk = state.decoder.end();
            if (chunk && chunk.length)
              _this.push(chunk);
          }
          _this.push(null);
        });
        stream.on("data", function(chunk) {
          debug("wrapped data");
          if (state.decoder)
            chunk = state.decoder.write(chunk);
          if (state.objectMode && (chunk === null || chunk === void 0))
            return;
          else if (!state.objectMode && (!chunk || !chunk.length))
            return;
          var ret = _this.push(chunk);
          if (!ret) {
            paused = true;
            stream.pause();
          }
        });
        for (var i in stream) {
          if (this[i] === void 0 && typeof stream[i] === "function") {
            this[i] = function methodWrap(method) {
              return function methodWrapReturnFunction() {
                return stream[method].apply(stream, arguments);
              };
            }(i);
          }
        }
        for (var n = 0; n < kProxyEvents.length; n++) {
          stream.on(kProxyEvents[n], this.emit.bind(this, kProxyEvents[n]));
        }
        this._read = function(n2) {
          debug("wrapped _read", n2);
          if (paused) {
            paused = false;
            stream.resume();
          }
        };
        return this;
      };
      if (typeof Symbol === "function") {
        Readable.prototype[Symbol.asyncIterator] = function() {
          if (createReadableStreamAsyncIterator === void 0) {
            createReadableStreamAsyncIterator = require_async_iterator();
          }
          return createReadableStreamAsyncIterator(this);
        };
      }
      Object.defineProperty(Readable.prototype, "readableHighWaterMark", {
        // making it explicit this property is not enumerable
        // because otherwise some prototype manipulation in
        // userland will fail
        enumerable: false,
        get: function get() {
          return this._readableState.highWaterMark;
        }
      });
      Object.defineProperty(Readable.prototype, "readableBuffer", {
        // making it explicit this property is not enumerable
        // because otherwise some prototype manipulation in
        // userland will fail
        enumerable: false,
        get: function get() {
          return this._readableState && this._readableState.buffer;
        }
      });
      Object.defineProperty(Readable.prototype, "readableFlowing", {
        // making it explicit this property is not enumerable
        // because otherwise some prototype manipulation in
        // userland will fail
        enumerable: false,
        get: function get() {
          return this._readableState.flowing;
        },
        set: function set(state) {
          if (this._readableState) {
            this._readableState.flowing = state;
          }
        }
      });
      Readable._fromList = fromList;
      Object.defineProperty(Readable.prototype, "readableLength", {
        // making it explicit this property is not enumerable
        // because otherwise some prototype manipulation in
        // userland will fail
        enumerable: false,
        get: function get() {
          return this._readableState.length;
        }
      });
      function fromList(n, state) {
        if (state.length === 0)
          return null;
        var ret;
        if (state.objectMode)
          ret = state.buffer.shift();
        else if (!n || n >= state.length) {
          if (state.decoder)
            ret = state.buffer.join("");
          else if (state.buffer.length === 1)
            ret = state.buffer.first();
          else
            ret = state.buffer.concat(state.length);
          state.buffer.clear();
        } else {
          ret = state.buffer.consume(n, state.decoder);
        }
        return ret;
      }
      function endReadable(stream) {
        var state = stream._readableState;
        debug("endReadable", state.endEmitted);
        if (!state.endEmitted) {
          state.ended = true;
          process.nextTick(endReadableNT, state, stream);
        }
      }
      function endReadableNT(state, stream) {
        debug("endReadableNT", state.endEmitted, state.length);
        if (!state.endEmitted && state.length === 0) {
          state.endEmitted = true;
          stream.readable = false;
          stream.emit("end");
          if (state.autoDestroy) {
            var wState = stream._writableState;
            if (!wState || wState.autoDestroy && wState.finished) {
              stream.destroy();
            }
          }
        }
      }
      if (typeof Symbol === "function") {
        Readable.from = function(iterable, opts) {
          if (from === void 0) {
            from = require_from_browser();
          }
          return from(Readable, iterable, opts);
        };
      }
      function indexOf(xs, x) {
        for (var i = 0, l = xs.length; i < l; i++) {
          if (xs[i] === x)
            return i;
        }
        return -1;
      }
    }
  });

  // node_modules/readable-stream/lib/_stream_transform.js
  var require_stream_transform = __commonJS({
    "node_modules/readable-stream/lib/_stream_transform.js"(exports, module) {
      "use strict";
      init_process_shim();
      init_buffer_shim();
      module.exports = Transform;
      var _require$codes = require_errors_browser().codes;
      var ERR_METHOD_NOT_IMPLEMENTED = _require$codes.ERR_METHOD_NOT_IMPLEMENTED;
      var ERR_MULTIPLE_CALLBACK = _require$codes.ERR_MULTIPLE_CALLBACK;
      var ERR_TRANSFORM_ALREADY_TRANSFORMING = _require$codes.ERR_TRANSFORM_ALREADY_TRANSFORMING;
      var ERR_TRANSFORM_WITH_LENGTH_0 = _require$codes.ERR_TRANSFORM_WITH_LENGTH_0;
      var Duplex = require_stream_duplex();
      require_inherits_browser()(Transform, Duplex);
      function afterTransform(er, data) {
        var ts = this._transformState;
        ts.transforming = false;
        var cb = ts.writecb;
        if (cb === null) {
          return this.emit("error", new ERR_MULTIPLE_CALLBACK());
        }
        ts.writechunk = null;
        ts.writecb = null;
        if (data != null)
          this.push(data);
        cb(er);
        var rs = this._readableState;
        rs.reading = false;
        if (rs.needReadable || rs.length < rs.highWaterMark) {
          this._read(rs.highWaterMark);
        }
      }
      function Transform(options) {
        if (!(this instanceof Transform))
          return new Transform(options);
        Duplex.call(this, options);
        this._transformState = {
          afterTransform: afterTransform.bind(this),
          needTransform: false,
          transforming: false,
          writecb: null,
          writechunk: null,
          writeencoding: null
        };
        this._readableState.needReadable = true;
        this._readableState.sync = false;
        if (options) {
          if (typeof options.transform === "function")
            this._transform = options.transform;
          if (typeof options.flush === "function")
            this._flush = options.flush;
        }
        this.on("prefinish", prefinish);
      }
      function prefinish() {
        var _this = this;
        if (typeof this._flush === "function" && !this._readableState.destroyed) {
          this._flush(function(er, data) {
            done(_this, er, data);
          });
        } else {
          done(this, null, null);
        }
      }
      Transform.prototype.push = function(chunk, encoding) {
        this._transformState.needTransform = false;
        return Duplex.prototype.push.call(this, chunk, encoding);
      };
      Transform.prototype._transform = function(chunk, encoding, cb) {
        cb(new ERR_METHOD_NOT_IMPLEMENTED("_transform()"));
      };
      Transform.prototype._write = function(chunk, encoding, cb) {
        var ts = this._transformState;
        ts.writecb = cb;
        ts.writechunk = chunk;
        ts.writeencoding = encoding;
        if (!ts.transforming) {
          var rs = this._readableState;
          if (ts.needTransform || rs.needReadable || rs.length < rs.highWaterMark)
            this._read(rs.highWaterMark);
        }
      };
      Transform.prototype._read = function(n) {
        var ts = this._transformState;
        if (ts.writechunk !== null && !ts.transforming) {
          ts.transforming = true;
          this._transform(ts.writechunk, ts.writeencoding, ts.afterTransform);
        } else {
          ts.needTransform = true;
        }
      };
      Transform.prototype._destroy = function(err2, cb) {
        Duplex.prototype._destroy.call(this, err2, function(err22) {
          cb(err22);
        });
      };
      function done(stream, er, data) {
        if (er)
          return stream.emit("error", er);
        if (data != null)
          stream.push(data);
        if (stream._writableState.length)
          throw new ERR_TRANSFORM_WITH_LENGTH_0();
        if (stream._transformState.transforming)
          throw new ERR_TRANSFORM_ALREADY_TRANSFORMING();
        return stream.push(null);
      }
    }
  });

  // node_modules/readable-stream/lib/_stream_passthrough.js
  var require_stream_passthrough = __commonJS({
    "node_modules/readable-stream/lib/_stream_passthrough.js"(exports, module) {
      "use strict";
      init_process_shim();
      init_buffer_shim();
      module.exports = PassThrough;
      var Transform = require_stream_transform();
      require_inherits_browser()(PassThrough, Transform);
      function PassThrough(options) {
        if (!(this instanceof PassThrough))
          return new PassThrough(options);
        Transform.call(this, options);
      }
      PassThrough.prototype._transform = function(chunk, encoding, cb) {
        cb(null, chunk);
      };
    }
  });

  // node_modules/readable-stream/lib/internal/streams/pipeline.js
  var require_pipeline = __commonJS({
    "node_modules/readable-stream/lib/internal/streams/pipeline.js"(exports, module) {
      "use strict";
      init_process_shim();
      init_buffer_shim();
      var eos;
      function once(callback) {
        var called = false;
        return function() {
          if (called)
            return;
          called = true;
          callback.apply(void 0, arguments);
        };
      }
      var _require$codes = require_errors_browser().codes;
      var ERR_MISSING_ARGS = _require$codes.ERR_MISSING_ARGS;
      var ERR_STREAM_DESTROYED = _require$codes.ERR_STREAM_DESTROYED;
      function noop(err2) {
        if (err2)
          throw err2;
      }
      function isRequest(stream) {
        return stream.setHeader && typeof stream.abort === "function";
      }
      function destroyer(stream, reading, writing, callback) {
        callback = once(callback);
        var closed = false;
        stream.on("close", function() {
          closed = true;
        });
        if (eos === void 0)
          eos = require_end_of_stream();
        eos(stream, {
          readable: reading,
          writable: writing
        }, function(err2) {
          if (err2)
            return callback(err2);
          closed = true;
          callback();
        });
        var destroyed = false;
        return function(err2) {
          if (closed)
            return;
          if (destroyed)
            return;
          destroyed = true;
          if (isRequest(stream))
            return stream.abort();
          if (typeof stream.destroy === "function")
            return stream.destroy();
          callback(err2 || new ERR_STREAM_DESTROYED("pipe"));
        };
      }
      function call(fn) {
        fn();
      }
      function pipe(from, to) {
        return from.pipe(to);
      }
      function popCallback(streams) {
        if (!streams.length)
          return noop;
        if (typeof streams[streams.length - 1] !== "function")
          return noop;
        return streams.pop();
      }
      function pipeline() {
        for (var _len = arguments.length, streams = new Array(_len), _key = 0; _key < _len; _key++) {
          streams[_key] = arguments[_key];
        }
        var callback = popCallback(streams);
        if (Array.isArray(streams[0]))
          streams = streams[0];
        if (streams.length < 2) {
          throw new ERR_MISSING_ARGS("streams");
        }
        var error;
        var destroys = streams.map(function(stream, i) {
          var reading = i < streams.length - 1;
          var writing = i > 0;
          return destroyer(stream, reading, writing, function(err2) {
            if (!error)
              error = err2;
            if (err2)
              destroys.forEach(call);
            if (reading)
              return;
            destroys.forEach(call);
            callback(error);
          });
        });
        return streams.reduce(pipe);
      }
      module.exports = pipeline;
    }
  });

  // node_modules/stream-browserify/index.js
  var require_stream_browserify = __commonJS({
    "node_modules/stream-browserify/index.js"(exports, module) {
      init_process_shim();
      init_buffer_shim();
      module.exports = Stream;
      var EE = require_events().EventEmitter;
      var inherits = require_inherits_browser();
      inherits(Stream, EE);
      Stream.Readable = require_stream_readable();
      Stream.Writable = require_stream_writable();
      Stream.Duplex = require_stream_duplex();
      Stream.Transform = require_stream_transform();
      Stream.PassThrough = require_stream_passthrough();
      Stream.finished = require_end_of_stream();
      Stream.pipeline = require_pipeline();
      Stream.Stream = Stream;
      function Stream() {
        EE.call(this);
      }
      Stream.prototype.pipe = function(dest, options) {
        var source = this;
        function ondata(chunk) {
          if (dest.writable) {
            if (false === dest.write(chunk) && source.pause) {
              source.pause();
            }
          }
        }
        source.on("data", ondata);
        function ondrain() {
          if (source.readable && source.resume) {
            source.resume();
          }
        }
        dest.on("drain", ondrain);
        if (!dest._isStdio && (!options || options.end !== false)) {
          source.on("end", onend);
          source.on("close", onclose);
        }
        var didOnEnd = false;
        function onend() {
          if (didOnEnd)
            return;
          didOnEnd = true;
          dest.end();
        }
        function onclose() {
          if (didOnEnd)
            return;
          didOnEnd = true;
          if (typeof dest.destroy === "function")
            dest.destroy();
        }
        function onerror(er) {
          cleanup();
          if (EE.listenerCount(this, "error") === 0) {
            throw er;
          }
        }
        source.on("error", onerror);
        dest.on("error", onerror);
        function cleanup() {
          source.removeListener("data", ondata);
          dest.removeListener("drain", ondrain);
          source.removeListener("end", onend);
          source.removeListener("close", onclose);
          source.removeListener("error", onerror);
          dest.removeListener("error", onerror);
          source.removeListener("end", cleanup);
          source.removeListener("close", cleanup);
          dest.removeListener("close", cleanup);
        }
        source.on("end", cleanup);
        source.on("close", cleanup);
        dest.on("close", cleanup);
        dest.emit("pipe", source);
        return dest;
      };
    }
  });

  // node_modules/fast-extend/index.js
  var require_fast_extend = __commonJS({
    "node_modules/fast-extend/index.js"(exports) {
      init_process_shim();
      init_buffer_shim();
      var slice = Array.prototype.slice;
      exports.extend = function extend(a, b) {
        for (var key in b)
          a[key] = b[key];
        return arguments.length < 3 ? a : extend.apply(null, [a].concat(slice.call(arguments, 2)));
      };
    }
  });

  // node_modules/memfs/lib/promises.js
  var require_promises = __commonJS({
    "node_modules/memfs/lib/promises.js"(exports) {
      "use strict";
      init_process_shim();
      init_buffer_shim();
      var __spreadArrays = exports && exports.__spreadArrays || function() {
        for (var s = 0, i = 0, il = arguments.length; i < il; i++)
          s += arguments[i].length;
        for (var r = Array(s), k = 0, i = 0; i < il; i++)
          for (var a = arguments[i], j = 0, jl = a.length; j < jl; j++, k++)
            r[k] = a[j];
        return r;
      };
      Object.defineProperty(exports, "__esModule", { value: true });
      function promisify(vol, fn, getResult) {
        if (getResult === void 0) {
          getResult = function(input) {
            return input;
          };
        }
        return function() {
          var args = [];
          for (var _i = 0; _i < arguments.length; _i++) {
            args[_i] = arguments[_i];
          }
          return new Promise(function(resolve, reject) {
            vol[fn].bind(vol).apply(void 0, __spreadArrays(args, [function(error, result) {
              if (error)
                return reject(error);
              return resolve(getResult(result));
            }]));
          });
        };
      }
      var FileHandle = (
        /** @class */
        function() {
          function FileHandle2(vol, fd2) {
            this.vol = vol;
            this.fd = fd2;
          }
          FileHandle2.prototype.appendFile = function(data, options) {
            return promisify(this.vol, "appendFile")(this.fd, data, options);
          };
          FileHandle2.prototype.chmod = function(mode) {
            return promisify(this.vol, "fchmod")(this.fd, mode);
          };
          FileHandle2.prototype.chown = function(uid, gid) {
            return promisify(this.vol, "fchown")(this.fd, uid, gid);
          };
          FileHandle2.prototype.close = function() {
            return promisify(this.vol, "close")(this.fd);
          };
          FileHandle2.prototype.datasync = function() {
            return promisify(this.vol, "fdatasync")(this.fd);
          };
          FileHandle2.prototype.read = function(buffer2, offset, length, position) {
            return promisify(this.vol, "read", function(bytesRead) {
              return { bytesRead, buffer: buffer2 };
            })(this.fd, buffer2, offset, length, position);
          };
          FileHandle2.prototype.readFile = function(options) {
            return promisify(this.vol, "readFile")(this.fd, options);
          };
          FileHandle2.prototype.stat = function(options) {
            return promisify(this.vol, "fstat")(this.fd, options);
          };
          FileHandle2.prototype.sync = function() {
            return promisify(this.vol, "fsync")(this.fd);
          };
          FileHandle2.prototype.truncate = function(len) {
            return promisify(this.vol, "ftruncate")(this.fd, len);
          };
          FileHandle2.prototype.utimes = function(atime, mtime) {
            return promisify(this.vol, "futimes")(this.fd, atime, mtime);
          };
          FileHandle2.prototype.write = function(buffer2, offset, length, position) {
            return promisify(this.vol, "write", function(bytesWritten) {
              return { bytesWritten, buffer: buffer2 };
            })(this.fd, buffer2, offset, length, position);
          };
          FileHandle2.prototype.writeFile = function(data, options) {
            return promisify(this.vol, "writeFile")(this.fd, data, options);
          };
          return FileHandle2;
        }()
      );
      exports.FileHandle = FileHandle;
      function createPromisesApi(vol) {
        if (typeof Promise === "undefined")
          return null;
        return {
          FileHandle,
          access: function(path2, mode) {
            return promisify(vol, "access")(path2, mode);
          },
          appendFile: function(path2, data, options) {
            return promisify(vol, "appendFile")(path2 instanceof FileHandle ? path2.fd : path2, data, options);
          },
          chmod: function(path2, mode) {
            return promisify(vol, "chmod")(path2, mode);
          },
          chown: function(path2, uid, gid) {
            return promisify(vol, "chown")(path2, uid, gid);
          },
          copyFile: function(src, dest, flags) {
            return promisify(vol, "copyFile")(src, dest, flags);
          },
          lchmod: function(path2, mode) {
            return promisify(vol, "lchmod")(path2, mode);
          },
          lchown: function(path2, uid, gid) {
            return promisify(vol, "lchown")(path2, uid, gid);
          },
          link: function(existingPath, newPath) {
            return promisify(vol, "link")(existingPath, newPath);
          },
          lstat: function(path2, options) {
            return promisify(vol, "lstat")(path2, options);
          },
          mkdir: function(path2, options) {
            return promisify(vol, "mkdir")(path2, options);
          },
          mkdtemp: function(prefix, options) {
            return promisify(vol, "mkdtemp")(prefix, options);
          },
          open: function(path2, flags, mode) {
            return promisify(vol, "open", function(fd2) {
              return new FileHandle(vol, fd2);
            })(path2, flags, mode);
          },
          readdir: function(path2, options) {
            return promisify(vol, "readdir")(path2, options);
          },
          readFile: function(id, options) {
            return promisify(vol, "readFile")(id instanceof FileHandle ? id.fd : id, options);
          },
          readlink: function(path2, options) {
            return promisify(vol, "readlink")(path2, options);
          },
          realpath: function(path2, options) {
            return promisify(vol, "realpath")(path2, options);
          },
          rename: function(oldPath, newPath) {
            return promisify(vol, "rename")(oldPath, newPath);
          },
          rmdir: function(path2) {
            return promisify(vol, "rmdir")(path2);
          },
          stat: function(path2, options) {
            return promisify(vol, "stat")(path2, options);
          },
          symlink: function(target, path2, type) {
            return promisify(vol, "symlink")(target, path2, type);
          },
          truncate: function(path2, len) {
            return promisify(vol, "truncate")(path2, len);
          },
          unlink: function(path2) {
            return promisify(vol, "unlink")(path2);
          },
          utimes: function(path2, atime, mtime) {
            return promisify(vol, "utimes")(path2, atime, mtime);
          },
          writeFile: function(id, data, options) {
            return promisify(vol, "writeFile")(id instanceof FileHandle ? id.fd : id, data, options);
          }
        };
      }
      exports.default = createPromisesApi;
    }
  });

  // (disabled):url
  var require_url = __commonJS({
    "(disabled):url"() {
      init_process_shim();
      init_buffer_shim();
    }
  });

  // node_modules/fs-monkey/lib/correctPath.js
  var require_correctPath = __commonJS({
    "node_modules/fs-monkey/lib/correctPath.js"(exports) {
      "use strict";
      init_process_shim();
      init_buffer_shim();
      Object.defineProperty(exports, "__esModule", {
        value: true
      });
      exports.unixify = unixify;
      exports.correctPath = correctPath;
      var isWin = process.platform === "win32";
      function removeTrailingSeparator(str) {
        var i = str.length - 1;
        if (i < 2) {
          return str;
        }
        while (isSeparator(str, i)) {
          i--;
        }
        return str.substr(0, i + 1);
      }
      function isSeparator(str, i) {
        var char = str[i];
        return i > 0 && (char === "/" || isWin && char === "\\");
      }
      function normalizePath(str, stripTrailing) {
        if (typeof str !== "string") {
          throw new TypeError("expected a string");
        }
        str = str.replace(/[\\\/]+/g, "/");
        if (stripTrailing !== false) {
          str = removeTrailingSeparator(str);
        }
        return str;
      }
      function unixify(filepath) {
        var stripTrailing = arguments.length > 1 && arguments[1] !== void 0 ? arguments[1] : true;
        if (isWin) {
          filepath = normalizePath(filepath, stripTrailing);
          return filepath.replace(/^([a-zA-Z]+:|\.\/)/, "");
        }
        return filepath;
      }
      function correctPath(filepath) {
        return unixify(filepath.replace(/^\\\\\?\\.:\\/, "\\"));
      }
    }
  });

  // node_modules/memfs/lib/volume.js
  var require_volume = __commonJS({
    "node_modules/memfs/lib/volume.js"(exports) {
      "use strict";
      init_process_shim();
      init_buffer_shim();
      var __extends = exports && exports.__extends || function() {
        var extendStatics = function(d, b) {
          extendStatics = Object.setPrototypeOf || { __proto__: [] } instanceof Array && function(d2, b3) {
            d2.__proto__ = b3;
          } || function(d2, b3) {
            for (var p in b3)
              if (b3.hasOwnProperty(p))
                d2[p] = b3[p];
          };
          return extendStatics(d, b);
        };
        return function(d, b) {
          extendStatics(d, b);
          function __() {
            this.constructor = d;
          }
          d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());
        };
      }();
      var __spreadArrays = exports && exports.__spreadArrays || function() {
        for (var s = 0, i = 0, il = arguments.length; i < il; i++)
          s += arguments[i].length;
        for (var r = Array(s), k = 0, i = 0; i < il; i++)
          for (var a = arguments[i], j = 0, jl = a.length; j < jl; j++, k++)
            r[k] = a[j];
        return r;
      };
      Object.defineProperty(exports, "__esModule", { value: true });
      var pathModule = require_path_browserify();
      var node_1 = require_node();
      var Stats_1 = require_Stats();
      var Dirent_1 = require_Dirent();
      var buffer_1 = require_buffer2();
      var setImmediate_1 = require_setImmediate();
      var process_1 = require_process();
      var setTimeoutUnref_1 = require_setTimeoutUnref();
      var stream_1 = require_stream_browserify();
      var constants_1 = require_constants2();
      var events_1 = require_events();
      var encoding_1 = require_encoding();
      var errors = require_errors2();
      var extend = require_fast_extend().extend;
      var util = require_util();
      var promises_1 = require_promises();
      var resolveCrossPlatform = pathModule.resolve;
      var O_RDONLY = constants_1.constants.O_RDONLY;
      var O_WRONLY = constants_1.constants.O_WRONLY;
      var O_RDWR = constants_1.constants.O_RDWR;
      var O_CREAT = constants_1.constants.O_CREAT;
      var O_EXCL = constants_1.constants.O_EXCL;
      var O_TRUNC = constants_1.constants.O_TRUNC;
      var O_APPEND = constants_1.constants.O_APPEND;
      var O_SYNC = constants_1.constants.O_SYNC;
      var O_DIRECTORY = constants_1.constants.O_DIRECTORY;
      var F_OK = constants_1.constants.F_OK;
      var COPYFILE_EXCL = constants_1.constants.COPYFILE_EXCL;
      var COPYFILE_FICLONE_FORCE = constants_1.constants.COPYFILE_FICLONE_FORCE;
      var sep;
      var relative;
      if (pathModule.posix) {
        posix = pathModule.posix;
        sep = posix.sep;
        relative = posix.relative;
      } else {
        sep = pathModule.sep;
        relative = pathModule.relative;
      }
      var posix;
      var isWin = process_1.default.platform === "win32";
      var kMinPoolSpace = 128;
      var ERRSTR = {
        PATH_STR: "path must be a string or Buffer",
        // FD:             'file descriptor must be a unsigned 32-bit integer',
        FD: "fd must be a file descriptor",
        MODE_INT: "mode must be an int",
        CB: "callback must be a function",
        UID: "uid must be an unsigned int",
        GID: "gid must be an unsigned int",
        LEN: "len must be an integer",
        ATIME: "atime must be an integer",
        MTIME: "mtime must be an integer",
        PREFIX: "filename prefix is required",
        BUFFER: "buffer must be an instance of Buffer or StaticBuffer",
        OFFSET: "offset must be an integer",
        LENGTH: "length must be an integer",
        POSITION: "position must be an integer"
      };
      var ERRSTR_OPTS = function(tipeof) {
        return "Expected options to be either an object or a string, but got " + tipeof + " instead";
      };
      var ENOENT = "ENOENT";
      var EBADF = "EBADF";
      var EINVAL = "EINVAL";
      var EPERM = "EPERM";
      var EPROTO = "EPROTO";
      var EEXIST = "EEXIST";
      var ENOTDIR = "ENOTDIR";
      var EMFILE = "EMFILE";
      var EACCES = "EACCES";
      var EISDIR = "EISDIR";
      var ENOTEMPTY = "ENOTEMPTY";
      var ENOSYS = "ENOSYS";
      function formatError(errorCode, func, path2, path22) {
        if (func === void 0) {
          func = "";
        }
        if (path2 === void 0) {
          path2 = "";
        }
        if (path22 === void 0) {
          path22 = "";
        }
        var pathFormatted = "";
        if (path2)
          pathFormatted = " '" + path2 + "'";
        if (path22)
          pathFormatted += " -> '" + path22 + "'";
        switch (errorCode) {
          case ENOENT:
            return "ENOENT: no such file or directory, " + func + pathFormatted;
          case EBADF:
            return "EBADF: bad file descriptor, " + func + pathFormatted;
          case EINVAL:
            return "EINVAL: invalid argument, " + func + pathFormatted;
          case EPERM:
            return "EPERM: operation not permitted, " + func + pathFormatted;
          case EPROTO:
            return "EPROTO: protocol error, " + func + pathFormatted;
          case EEXIST:
            return "EEXIST: file already exists, " + func + pathFormatted;
          case ENOTDIR:
            return "ENOTDIR: not a directory, " + func + pathFormatted;
          case EISDIR:
            return "EISDIR: illegal operation on a directory, " + func + pathFormatted;
          case EACCES:
            return "EACCES: permission denied, " + func + pathFormatted;
          case ENOTEMPTY:
            return "ENOTEMPTY: directory not empty, " + func + pathFormatted;
          case EMFILE:
            return "EMFILE: too many open files, " + func + pathFormatted;
          case ENOSYS:
            return "ENOSYS: function not implemented, " + func + pathFormatted;
          default:
            return errorCode + ": error occurred, " + func + pathFormatted;
        }
      }
      function createError(errorCode, func, path2, path22, Constructor) {
        if (func === void 0) {
          func = "";
        }
        if (path2 === void 0) {
          path2 = "";
        }
        if (path22 === void 0) {
          path22 = "";
        }
        if (Constructor === void 0) {
          Constructor = Error;
        }
        var error = new Constructor(formatError(errorCode, func, path2, path22));
        error.code = errorCode;
        return error;
      }
      var FLAGS;
      (function(FLAGS2) {
        FLAGS2[FLAGS2["r"] = O_RDONLY] = "r";
        FLAGS2[FLAGS2["r+"] = O_RDWR] = "r+";
        FLAGS2[FLAGS2["rs"] = O_RDONLY | O_SYNC] = "rs";
        FLAGS2[FLAGS2["sr"] = FLAGS2.rs] = "sr";
        FLAGS2[FLAGS2["rs+"] = O_RDWR | O_SYNC] = "rs+";
        FLAGS2[FLAGS2["sr+"] = FLAGS2["rs+"]] = "sr+";
        FLAGS2[FLAGS2["w"] = O_WRONLY | O_CREAT | O_TRUNC] = "w";
        FLAGS2[FLAGS2["wx"] = O_WRONLY | O_CREAT | O_TRUNC | O_EXCL] = "wx";
        FLAGS2[FLAGS2["xw"] = FLAGS2.wx] = "xw";
        FLAGS2[FLAGS2["w+"] = O_RDWR | O_CREAT | O_TRUNC] = "w+";
        FLAGS2[FLAGS2["wx+"] = O_RDWR | O_CREAT | O_TRUNC | O_EXCL] = "wx+";
        FLAGS2[FLAGS2["xw+"] = FLAGS2["wx+"]] = "xw+";
        FLAGS2[FLAGS2["a"] = O_WRONLY | O_APPEND | O_CREAT] = "a";
        FLAGS2[FLAGS2["ax"] = O_WRONLY | O_APPEND | O_CREAT | O_EXCL] = "ax";
        FLAGS2[FLAGS2["xa"] = FLAGS2.ax] = "xa";
        FLAGS2[FLAGS2["a+"] = O_RDWR | O_APPEND | O_CREAT] = "a+";
        FLAGS2[FLAGS2["ax+"] = O_RDWR | O_APPEND | O_CREAT | O_EXCL] = "ax+";
        FLAGS2[FLAGS2["xa+"] = FLAGS2["ax+"]] = "xa+";
      })(FLAGS = exports.FLAGS || (exports.FLAGS = {}));
      function flagsToNumber(flags) {
        if (typeof flags === "number")
          return flags;
        if (typeof flags === "string") {
          var flagsNum = FLAGS[flags];
          if (typeof flagsNum !== "undefined")
            return flagsNum;
        }
        throw new errors.TypeError("ERR_INVALID_OPT_VALUE", "flags", flags);
      }
      exports.flagsToNumber = flagsToNumber;
      function getOptions(defaults2, options) {
        var opts;
        if (!options)
          return defaults2;
        else {
          var tipeof = typeof options;
          switch (tipeof) {
            case "string":
              opts = extend({}, defaults2, { encoding: options });
              break;
            case "object":
              opts = extend({}, defaults2, options);
              break;
            default:
              throw TypeError(ERRSTR_OPTS(tipeof));
          }
        }
        if (opts.encoding !== "buffer")
          encoding_1.assertEncoding(opts.encoding);
        return opts;
      }
      function optsGenerator(defaults2) {
        return function(options) {
          return getOptions(defaults2, options);
        };
      }
      function validateCallback(callback) {
        if (typeof callback !== "function")
          throw TypeError(ERRSTR.CB);
        return callback;
      }
      function optsAndCbGenerator(getOpts) {
        return function(options, callback) {
          return typeof options === "function" ? [getOpts(), options] : [getOpts(options), validateCallback(callback)];
        };
      }
      var optsDefaults = {
        encoding: "utf8"
      };
      var getDefaultOpts = optsGenerator(optsDefaults);
      var getDefaultOptsAndCb = optsAndCbGenerator(getDefaultOpts);
      var readFileOptsDefaults = {
        flag: "r"
      };
      var getReadFileOptions = optsGenerator(readFileOptsDefaults);
      var writeFileDefaults = {
        encoding: "utf8",
        mode: 438,
        flag: FLAGS[FLAGS.w]
      };
      var getWriteFileOptions = optsGenerator(writeFileDefaults);
      var appendFileDefaults = {
        encoding: "utf8",
        mode: 438,
        flag: FLAGS[FLAGS.a]
      };
      var getAppendFileOpts = optsGenerator(appendFileDefaults);
      var getAppendFileOptsAndCb = optsAndCbGenerator(getAppendFileOpts);
      var realpathDefaults = optsDefaults;
      var getRealpathOptions = optsGenerator(realpathDefaults);
      var getRealpathOptsAndCb = optsAndCbGenerator(getRealpathOptions);
      var mkdirDefaults = {
        mode: 511,
        recursive: false
      };
      var getMkdirOptions = function(options) {
        if (typeof options === "number")
          return extend({}, mkdirDefaults, { mode: options });
        return extend({}, mkdirDefaults, options);
      };
      var rmdirDefaults = {
        recursive: false
      };
      var getRmdirOptions = function(options) {
        return extend({}, rmdirDefaults, options);
      };
      var readdirDefaults = {
        encoding: "utf8",
        withFileTypes: false
      };
      var getReaddirOptions = optsGenerator(readdirDefaults);
      var getReaddirOptsAndCb = optsAndCbGenerator(getReaddirOptions);
      var statDefaults = {
        bigint: false
      };
      var getStatOptions = function(options) {
        if (options === void 0) {
          options = {};
        }
        return extend({}, statDefaults, options);
      };
      var getStatOptsAndCb = function(options, callback) {
        return typeof options === "function" ? [getStatOptions(), options] : [getStatOptions(options), validateCallback(callback)];
      };
      function getPathFromURLPosix(url) {
        if (url.hostname !== "") {
          throw new errors.TypeError("ERR_INVALID_FILE_URL_HOST", process_1.default.platform);
        }
        var pathname = url.pathname;
        for (var n = 0; n < pathname.length; n++) {
          if (pathname[n] === "%") {
            var third = pathname.codePointAt(n + 2) | 32;
            if (pathname[n + 1] === "2" && third === 102) {
              throw new errors.TypeError("ERR_INVALID_FILE_URL_PATH", "must not include encoded / characters");
            }
          }
        }
        return decodeURIComponent(pathname);
      }
      function pathToFilename(path2) {
        if (typeof path2 !== "string" && !buffer_1.Buffer.isBuffer(path2)) {
          try {
            if (!(path2 instanceof require_url().URL))
              throw new TypeError(ERRSTR.PATH_STR);
          } catch (err2) {
            throw new TypeError(ERRSTR.PATH_STR);
          }
          path2 = getPathFromURLPosix(path2);
        }
        var pathString = String(path2);
        nullCheck(pathString);
        return pathString;
      }
      exports.pathToFilename = pathToFilename;
      var resolve = function(filename, base) {
        if (base === void 0) {
          base = process_1.default.cwd();
        }
        return resolveCrossPlatform(base, filename);
      };
      if (isWin) {
        _resolve_1 = resolve;
        unixify_1 = require_correctPath().unixify;
        resolve = function(filename, base) {
          return unixify_1(_resolve_1(filename, base));
        };
      }
      var _resolve_1;
      var unixify_1;
      function filenameToSteps2(filename, base) {
        var fullPath = resolve(filename, base);
        var fullPathSansSlash = fullPath.substr(1);
        if (!fullPathSansSlash)
          return [];
        return fullPathSansSlash.split(sep);
      }
      exports.filenameToSteps = filenameToSteps2;
      function pathToSteps(path2) {
        return filenameToSteps2(pathToFilename(path2));
      }
      exports.pathToSteps = pathToSteps;
      function dataToStr(data, encoding) {
        if (encoding === void 0) {
          encoding = encoding_1.ENCODING_UTF8;
        }
        if (buffer_1.Buffer.isBuffer(data))
          return data.toString(encoding);
        else if (data instanceof Uint8Array)
          return buffer_1.bufferFrom(data).toString(encoding);
        else
          return String(data);
      }
      exports.dataToStr = dataToStr;
      function dataToBuffer(data, encoding) {
        if (encoding === void 0) {
          encoding = encoding_1.ENCODING_UTF8;
        }
        if (buffer_1.Buffer.isBuffer(data))
          return data;
        else if (data instanceof Uint8Array)
          return buffer_1.bufferFrom(data);
        else
          return buffer_1.bufferFrom(String(data), encoding);
      }
      exports.dataToBuffer = dataToBuffer;
      function bufferToEncoding(buffer2, encoding) {
        if (!encoding || encoding === "buffer")
          return buffer2;
        else
          return buffer2.toString(encoding);
      }
      exports.bufferToEncoding = bufferToEncoding;
      function nullCheck(path2, callback) {
        if (("" + path2).indexOf("\0") !== -1) {
          var er = new Error("Path must be a string without null bytes");
          er.code = ENOENT;
          if (typeof callback !== "function")
            throw er;
          process_1.default.nextTick(callback, er);
          return false;
        }
        return true;
      }
      function _modeToNumber(mode, def) {
        if (typeof mode === "number")
          return mode;
        if (typeof mode === "string")
          return parseInt(mode, 8);
        if (def)
          return modeToNumber(def);
        return void 0;
      }
      function modeToNumber(mode, def) {
        var result = _modeToNumber(mode, def);
        if (typeof result !== "number" || isNaN(result))
          throw new TypeError(ERRSTR.MODE_INT);
        return result;
      }
      function isFd(path2) {
        return path2 >>> 0 === path2;
      }
      function validateFd(fd2) {
        if (!isFd(fd2))
          throw TypeError(ERRSTR.FD);
      }
      function toUnixTimestamp(time) {
        if (typeof time === "string" && +time == time) {
          return +time;
        }
        if (time instanceof Date) {
          return time.getTime() / 1e3;
        }
        if (isFinite(time)) {
          if (time < 0) {
            return Date.now() / 1e3;
          }
          return time;
        }
        throw new Error("Cannot parse time: " + time);
      }
      exports.toUnixTimestamp = toUnixTimestamp;
      function validateUid(uid) {
        if (typeof uid !== "number")
          throw TypeError(ERRSTR.UID);
      }
      function validateGid(gid) {
        if (typeof gid !== "number")
          throw TypeError(ERRSTR.GID);
      }
      var Volume2 = (
        /** @class */
        function() {
          function Volume3(props) {
            if (props === void 0) {
              props = {};
            }
            this.ino = 0;
            this.inodes = {};
            this.releasedInos = [];
            this.fds = {};
            this.releasedFds = [];
            this.maxFiles = 1e4;
            this.openFiles = 0;
            this.promisesApi = promises_1.default(this);
            this.statWatchers = {};
            this.props = extend({ Node: node_1.Node, Link: node_1.Link, File: node_1.File }, props);
            var root = this.createLink();
            root.setNode(this.createNode(true));
            var self2 = this;
            this.StatWatcher = /** @class */
            function(_super) {
              __extends(StatWatcher2, _super);
              function StatWatcher2() {
                return _super.call(this, self2) || this;
              }
              return StatWatcher2;
            }(StatWatcher);
            var _ReadStream = FsReadStream;
            this.ReadStream = /** @class */
            function(_super) {
              __extends(class_1, _super);
              function class_1() {
                var args = [];
                for (var _i = 0; _i < arguments.length; _i++) {
                  args[_i] = arguments[_i];
                }
                return _super.apply(this, __spreadArrays([self2], args)) || this;
              }
              return class_1;
            }(_ReadStream);
            var _WriteStream = FsWriteStream;
            this.WriteStream = /** @class */
            function(_super) {
              __extends(class_2, _super);
              function class_2() {
                var args = [];
                for (var _i = 0; _i < arguments.length; _i++) {
                  args[_i] = arguments[_i];
                }
                return _super.apply(this, __spreadArrays([self2], args)) || this;
              }
              return class_2;
            }(_WriteStream);
            this.FSWatcher = /** @class */
            function(_super) {
              __extends(FSWatcher2, _super);
              function FSWatcher2() {
                return _super.call(this, self2) || this;
              }
              return FSWatcher2;
            }(FSWatcher);
            this.root = root;
          }
          Volume3.fromJSON = function(json, cwd2) {
            var vol = new Volume3();
            vol.fromJSON(json, cwd2);
            return vol;
          };
          Object.defineProperty(Volume3.prototype, "promises", {
            get: function() {
              if (this.promisesApi === null)
                throw new Error("Promise is not supported in this environment.");
              return this.promisesApi;
            },
            enumerable: true,
            configurable: true
          });
          Volume3.prototype.createLink = function(parent, name, isDirectory, perm) {
            if (isDirectory === void 0) {
              isDirectory = false;
            }
            if (!parent) {
              return new this.props.Link(this, null, "");
            }
            if (!name) {
              throw new Error("createLink: name cannot be empty");
            }
            return parent.createChild(name, this.createNode(isDirectory, perm));
          };
          Volume3.prototype.deleteLink = function(link) {
            var parent = link.parent;
            if (parent) {
              parent.deleteChild(link);
              return true;
            }
            return false;
          };
          Volume3.prototype.newInoNumber = function() {
            var releasedFd = this.releasedInos.pop();
            if (releasedFd)
              return releasedFd;
            else {
              this.ino = (this.ino + 1) % 4294967295;
              return this.ino;
            }
          };
          Volume3.prototype.newFdNumber = function() {
            var releasedFd = this.releasedFds.pop();
            return typeof releasedFd === "number" ? releasedFd : Volume3.fd--;
          };
          Volume3.prototype.createNode = function(isDirectory, perm) {
            if (isDirectory === void 0) {
              isDirectory = false;
            }
            var node = new this.props.Node(this.newInoNumber(), perm);
            if (isDirectory)
              node.setIsDirectory();
            this.inodes[node.ino] = node;
            return node;
          };
          Volume3.prototype.getNode = function(ino) {
            return this.inodes[ino];
          };
          Volume3.prototype.deleteNode = function(node) {
            node.del();
            delete this.inodes[node.ino];
            this.releasedInos.push(node.ino);
          };
          Volume3.prototype.genRndStr = function() {
            var str = (Math.random() + 1).toString(36).substr(2, 6);
            if (str.length === 6)
              return str;
            else
              return this.genRndStr();
          };
          Volume3.prototype.getLink = function(steps) {
            return this.root.walk(steps);
          };
          Volume3.prototype.getLinkOrThrow = function(filename, funcName) {
            var steps = filenameToSteps2(filename);
            var link = this.getLink(steps);
            if (!link)
              throw createError(ENOENT, funcName, filename);
            return link;
          };
          Volume3.prototype.getResolvedLink = function(filenameOrSteps) {
            var steps = typeof filenameOrSteps === "string" ? filenameToSteps2(filenameOrSteps) : filenameOrSteps;
            var link = this.root;
            var i = 0;
            while (i < steps.length) {
              var step = steps[i];
              link = link.getChild(step);
              if (!link)
                return null;
              var node = link.getNode();
              if (node.isSymlink()) {
                steps = node.symlink.concat(steps.slice(i + 1));
                link = this.root;
                i = 0;
                continue;
              }
              i++;
            }
            return link;
          };
          Volume3.prototype.getResolvedLinkOrThrow = function(filename, funcName) {
            var link = this.getResolvedLink(filename);
            if (!link)
              throw createError(ENOENT, funcName, filename);
            return link;
          };
          Volume3.prototype.resolveSymlinks = function(link) {
            return this.getResolvedLink(link.steps.slice(1));
          };
          Volume3.prototype.getLinkAsDirOrThrow = function(filename, funcName) {
            var link = this.getLinkOrThrow(filename, funcName);
            if (!link.getNode().isDirectory())
              throw createError(ENOTDIR, funcName, filename);
            return link;
          };
          Volume3.prototype.getLinkParent = function(steps) {
            return this.root.walk(steps, steps.length - 1);
          };
          Volume3.prototype.getLinkParentAsDirOrThrow = function(filenameOrSteps, funcName) {
            var steps = filenameOrSteps instanceof Array ? filenameOrSteps : filenameToSteps2(filenameOrSteps);
            var link = this.getLinkParent(steps);
            if (!link)
              throw createError(ENOENT, funcName, sep + steps.join(sep));
            if (!link.getNode().isDirectory())
              throw createError(ENOTDIR, funcName, sep + steps.join(sep));
            return link;
          };
          Volume3.prototype.getFileByFd = function(fd2) {
            return this.fds[String(fd2)];
          };
          Volume3.prototype.getFileByFdOrThrow = function(fd2, funcName) {
            if (!isFd(fd2))
              throw TypeError(ERRSTR.FD);
            var file = this.getFileByFd(fd2);
            if (!file)
              throw createError(EBADF, funcName);
            return file;
          };
          Volume3.prototype.getNodeByIdOrCreate = function(id, flags, perm) {
            if (typeof id === "number") {
              var file = this.getFileByFd(id);
              if (!file)
                throw Error("File nto found");
              return file.node;
            } else {
              var steps = pathToSteps(id);
              var link = this.getLink(steps);
              if (link)
                return link.getNode();
              if (flags & O_CREAT) {
                var dirLink = this.getLinkParent(steps);
                if (dirLink) {
                  var name_1 = steps[steps.length - 1];
                  link = this.createLink(dirLink, name_1, false, perm);
                  return link.getNode();
                }
              }
              throw createError(ENOENT, "getNodeByIdOrCreate", pathToFilename(id));
            }
          };
          Volume3.prototype.wrapAsync = function(method, args, callback) {
            var _this = this;
            validateCallback(callback);
            setImmediate_1.default(function() {
              try {
                callback(null, method.apply(_this, args));
              } catch (err2) {
                callback(err2);
              }
            });
          };
          Volume3.prototype._toJSON = function(link, json, path2) {
            var _a2;
            if (link === void 0) {
              link = this.root;
            }
            if (json === void 0) {
              json = {};
            }
            var isEmpty = true;
            var children = link.children;
            if (link.getNode().isFile()) {
              children = (_a2 = {}, _a2[link.getName()] = link.parent.getChild(link.getName()), _a2);
              link = link.parent;
            }
            for (var name_2 in children) {
              isEmpty = false;
              var child = link.getChild(name_2);
              if (!child) {
                throw new Error("_toJSON: unexpected undefined");
              }
              var node = child.getNode();
              if (node.isFile()) {
                var filename = child.getPath();
                if (path2)
                  filename = relative(path2, filename);
                json[filename] = node.getString();
              } else if (node.isDirectory()) {
                this._toJSON(child, json, path2);
              }
            }
            var dirPath = link.getPath();
            if (path2)
              dirPath = relative(path2, dirPath);
            if (dirPath && isEmpty) {
              json[dirPath] = null;
            }
            return json;
          };
          Volume3.prototype.toJSON = function(paths, json, isRelative) {
            if (json === void 0) {
              json = {};
            }
            if (isRelative === void 0) {
              isRelative = false;
            }
            var links = [];
            if (paths) {
              if (!(paths instanceof Array))
                paths = [paths];
              for (var _i = 0, paths_1 = paths; _i < paths_1.length; _i++) {
                var path2 = paths_1[_i];
                var filename = pathToFilename(path2);
                var link = this.getResolvedLink(filename);
                if (!link)
                  continue;
                links.push(link);
              }
            } else {
              links.push(this.root);
            }
            if (!links.length)
              return json;
            for (var _a2 = 0, links_1 = links; _a2 < links_1.length; _a2++) {
              var link = links_1[_a2];
              this._toJSON(link, json, isRelative ? link.getPath() : "");
            }
            return json;
          };
          Volume3.prototype.fromJSON = function(json, cwd2) {
            if (cwd2 === void 0) {
              cwd2 = process_1.default.cwd();
            }
            for (var filename in json) {
              var data = json[filename];
              if (typeof data === "string") {
                filename = resolve(filename, cwd2);
                var steps = filenameToSteps2(filename);
                if (steps.length > 1) {
                  var dirname = sep + steps.slice(0, steps.length - 1).join(sep);
                  this.mkdirpBase(
                    dirname,
                    511
                    /* DIR */
                  );
                }
                this.writeFileSync(filename, data);
              } else {
                this.mkdirpBase(
                  filename,
                  511
                  /* DIR */
                );
              }
            }
          };
          Volume3.prototype.reset = function() {
            this.ino = 0;
            this.inodes = {};
            this.releasedInos = [];
            this.fds = {};
            this.releasedFds = [];
            this.openFiles = 0;
            this.root = this.createLink();
            this.root.setNode(this.createNode(true));
          };
          Volume3.prototype.mountSync = function(mountpoint, json) {
            this.fromJSON(json, mountpoint);
          };
          Volume3.prototype.openLink = function(link, flagsNum, resolveSymlinks) {
            if (resolveSymlinks === void 0) {
              resolveSymlinks = true;
            }
            if (this.openFiles >= this.maxFiles) {
              throw createError(EMFILE, "open", link.getPath());
            }
            var realLink = link;
            if (resolveSymlinks)
              realLink = this.resolveSymlinks(link);
            if (!realLink)
              throw createError(ENOENT, "open", link.getPath());
            var node = realLink.getNode();
            if (node.isDirectory()) {
              if ((flagsNum & (O_RDONLY | O_RDWR | O_WRONLY)) !== O_RDONLY)
                throw createError(EISDIR, "open", link.getPath());
            } else {
              if (flagsNum & O_DIRECTORY)
                throw createError(ENOTDIR, "open", link.getPath());
            }
            if (!(flagsNum & O_WRONLY)) {
              if (!node.canRead()) {
                throw createError(EACCES, "open", link.getPath());
              }
            }
            if (flagsNum & O_RDWR) {
            }
            var file = new this.props.File(link, node, flagsNum, this.newFdNumber());
            this.fds[file.fd] = file;
            this.openFiles++;
            if (flagsNum & O_TRUNC)
              file.truncate();
            return file;
          };
          Volume3.prototype.openFile = function(filename, flagsNum, modeNum, resolveSymlinks) {
            if (resolveSymlinks === void 0) {
              resolveSymlinks = true;
            }
            var steps = filenameToSteps2(filename);
            var link = resolveSymlinks ? this.getResolvedLink(steps) : this.getLink(steps);
            if (!link && flagsNum & O_CREAT) {
              var dirLink = this.getResolvedLink(steps.slice(0, steps.length - 1));
              if (!dirLink)
                throw createError(ENOENT, "open", sep + steps.join(sep));
              if (flagsNum & O_CREAT && typeof modeNum === "number") {
                link = this.createLink(dirLink, steps[steps.length - 1], false, modeNum);
              }
            }
            if (link)
              return this.openLink(link, flagsNum, resolveSymlinks);
            throw createError(ENOENT, "open", filename);
          };
          Volume3.prototype.openBase = function(filename, flagsNum, modeNum, resolveSymlinks) {
            if (resolveSymlinks === void 0) {
              resolveSymlinks = true;
            }
            var file = this.openFile(filename, flagsNum, modeNum, resolveSymlinks);
            if (!file)
              throw createError(ENOENT, "open", filename);
            return file.fd;
          };
          Volume3.prototype.openSync = function(path2, flags, mode) {
            if (mode === void 0) {
              mode = 438;
            }
            var modeNum = modeToNumber(mode);
            var fileName = pathToFilename(path2);
            var flagsNum = flagsToNumber(flags);
            return this.openBase(fileName, flagsNum, modeNum);
          };
          Volume3.prototype.open = function(path2, flags, a, b) {
            var mode = a;
            var callback = b;
            if (typeof a === "function") {
              mode = 438;
              callback = a;
            }
            mode = mode || 438;
            var modeNum = modeToNumber(mode);
            var fileName = pathToFilename(path2);
            var flagsNum = flagsToNumber(flags);
            this.wrapAsync(this.openBase, [fileName, flagsNum, modeNum], callback);
          };
          Volume3.prototype.closeFile = function(file) {
            if (!this.fds[file.fd])
              return;
            this.openFiles--;
            delete this.fds[file.fd];
            this.releasedFds.push(file.fd);
          };
          Volume3.prototype.closeSync = function(fd2) {
            validateFd(fd2);
            var file = this.getFileByFdOrThrow(fd2, "close");
            this.closeFile(file);
          };
          Volume3.prototype.close = function(fd2, callback) {
            validateFd(fd2);
            this.wrapAsync(this.closeSync, [fd2], callback);
          };
          Volume3.prototype.openFileOrGetById = function(id, flagsNum, modeNum) {
            if (typeof id === "number") {
              var file = this.fds[id];
              if (!file)
                throw createError(ENOENT);
              return file;
            } else {
              return this.openFile(pathToFilename(id), flagsNum, modeNum);
            }
          };
          Volume3.prototype.readBase = function(fd2, buffer2, offset, length, position) {
            var file = this.getFileByFdOrThrow(fd2);
            return file.read(buffer2, Number(offset), Number(length), position);
          };
          Volume3.prototype.readSync = function(fd2, buffer2, offset, length, position) {
            validateFd(fd2);
            return this.readBase(fd2, buffer2, offset, length, position);
          };
          Volume3.prototype.read = function(fd2, buffer2, offset, length, position, callback) {
            var _this = this;
            validateCallback(callback);
            if (length === 0) {
              return process_1.default.nextTick(function() {
                if (callback)
                  callback(null, 0, buffer2);
              });
            }
            setImmediate_1.default(function() {
              try {
                var bytes = _this.readBase(fd2, buffer2, offset, length, position);
                callback(null, bytes, buffer2);
              } catch (err2) {
                callback(err2);
              }
            });
          };
          Volume3.prototype.readFileBase = function(id, flagsNum, encoding) {
            var result;
            var isUserFd = typeof id === "number";
            var userOwnsFd = isUserFd && isFd(id);
            var fd2;
            if (userOwnsFd)
              fd2 = id;
            else {
              var filename = pathToFilename(id);
              var steps = filenameToSteps2(filename);
              var link = this.getResolvedLink(steps);
              if (link) {
                var node = link.getNode();
                if (node.isDirectory())
                  throw createError(EISDIR, "open", link.getPath());
              }
              fd2 = this.openSync(id, flagsNum);
            }
            try {
              result = bufferToEncoding(this.getFileByFdOrThrow(fd2).getBuffer(), encoding);
            } finally {
              if (!userOwnsFd) {
                this.closeSync(fd2);
              }
            }
            return result;
          };
          Volume3.prototype.readFileSync = function(file, options) {
            var opts = getReadFileOptions(options);
            var flagsNum = flagsToNumber(opts.flag);
            return this.readFileBase(file, flagsNum, opts.encoding);
          };
          Volume3.prototype.readFile = function(id, a, b) {
            var _a2 = optsAndCbGenerator(getReadFileOptions)(a, b), opts = _a2[0], callback = _a2[1];
            var flagsNum = flagsToNumber(opts.flag);
            this.wrapAsync(this.readFileBase, [id, flagsNum, opts.encoding], callback);
          };
          Volume3.prototype.writeBase = function(fd2, buf, offset, length, position) {
            var file = this.getFileByFdOrThrow(fd2, "write");
            return file.write(buf, offset, length, position);
          };
          Volume3.prototype.writeSync = function(fd2, a, b, c, d) {
            validateFd(fd2);
            var encoding;
            var offset;
            var length;
            var position;
            var isBuffer = typeof a !== "string";
            if (isBuffer) {
              offset = (b || 0) | 0;
              length = c;
              position = d;
            } else {
              position = b;
              encoding = c;
            }
            var buf = dataToBuffer(a, encoding);
            if (isBuffer) {
              if (typeof length === "undefined") {
                length = buf.length;
              }
            } else {
              offset = 0;
              length = buf.length;
            }
            return this.writeBase(fd2, buf, offset, length, position);
          };
          Volume3.prototype.write = function(fd2, a, b, c, d, e) {
            var _this = this;
            validateFd(fd2);
            var offset;
            var length;
            var position;
            var encoding;
            var callback;
            var tipa = typeof a;
            var tipb = typeof b;
            var tipc = typeof c;
            var tipd = typeof d;
            if (tipa !== "string") {
              if (tipb === "function") {
                callback = b;
              } else if (tipc === "function") {
                offset = b | 0;
                callback = c;
              } else if (tipd === "function") {
                offset = b | 0;
                length = c;
                callback = d;
              } else {
                offset = b | 0;
                length = c;
                position = d;
                callback = e;
              }
            } else {
              if (tipb === "function") {
                callback = b;
              } else if (tipc === "function") {
                position = b;
                callback = c;
              } else if (tipd === "function") {
                position = b;
                encoding = c;
                callback = d;
              }
            }
            var buf = dataToBuffer(a, encoding);
            if (tipa !== "string") {
              if (typeof length === "undefined")
                length = buf.length;
            } else {
              offset = 0;
              length = buf.length;
            }
            var cb = validateCallback(callback);
            setImmediate_1.default(function() {
              try {
                var bytes = _this.writeBase(fd2, buf, offset, length, position);
                if (tipa !== "string") {
                  cb(null, bytes, buf);
                } else {
                  cb(null, bytes, a);
                }
              } catch (err2) {
                cb(err2);
              }
            });
          };
          Volume3.prototype.writeFileBase = function(id, buf, flagsNum, modeNum) {
            var isUserFd = typeof id === "number";
            var fd2;
            if (isUserFd)
              fd2 = id;
            else {
              fd2 = this.openBase(pathToFilename(id), flagsNum, modeNum);
            }
            var offset = 0;
            var length = buf.length;
            var position = flagsNum & O_APPEND ? void 0 : 0;
            try {
              while (length > 0) {
                var written = this.writeSync(fd2, buf, offset, length, position);
                offset += written;
                length -= written;
                if (position !== void 0)
                  position += written;
              }
            } finally {
              if (!isUserFd)
                this.closeSync(fd2);
            }
          };
          Volume3.prototype.writeFileSync = function(id, data, options) {
            var opts = getWriteFileOptions(options);
            var flagsNum = flagsToNumber(opts.flag);
            var modeNum = modeToNumber(opts.mode);
            var buf = dataToBuffer(data, opts.encoding);
            this.writeFileBase(id, buf, flagsNum, modeNum);
          };
          Volume3.prototype.writeFile = function(id, data, a, b) {
            var options = a;
            var callback = b;
            if (typeof a === "function") {
              options = writeFileDefaults;
              callback = a;
            }
            var cb = validateCallback(callback);
            var opts = getWriteFileOptions(options);
            var flagsNum = flagsToNumber(opts.flag);
            var modeNum = modeToNumber(opts.mode);
            var buf = dataToBuffer(data, opts.encoding);
            this.wrapAsync(this.writeFileBase, [id, buf, flagsNum, modeNum], cb);
          };
          Volume3.prototype.linkBase = function(filename1, filename2) {
            var steps1 = filenameToSteps2(filename1);
            var link1 = this.getLink(steps1);
            if (!link1)
              throw createError(ENOENT, "link", filename1, filename2);
            var steps2 = filenameToSteps2(filename2);
            var dir2 = this.getLinkParent(steps2);
            if (!dir2)
              throw createError(ENOENT, "link", filename1, filename2);
            var name = steps2[steps2.length - 1];
            if (dir2.getChild(name))
              throw createError(EEXIST, "link", filename1, filename2);
            var node = link1.getNode();
            node.nlink++;
            dir2.createChild(name, node);
          };
          Volume3.prototype.copyFileBase = function(src, dest, flags) {
            var buf = this.readFileSync(src);
            if (flags & COPYFILE_EXCL) {
              if (this.existsSync(dest)) {
                throw createError(EEXIST, "copyFile", src, dest);
              }
            }
            if (flags & COPYFILE_FICLONE_FORCE) {
              throw createError(ENOSYS, "copyFile", src, dest);
            }
            this.writeFileBase(
              dest,
              buf,
              FLAGS.w,
              438
              /* DEFAULT */
            );
          };
          Volume3.prototype.copyFileSync = function(src, dest, flags) {
            var srcFilename = pathToFilename(src);
            var destFilename = pathToFilename(dest);
            return this.copyFileBase(srcFilename, destFilename, (flags || 0) | 0);
          };
          Volume3.prototype.copyFile = function(src, dest, a, b) {
            var srcFilename = pathToFilename(src);
            var destFilename = pathToFilename(dest);
            var flags;
            var callback;
            if (typeof a === "function") {
              flags = 0;
              callback = a;
            } else {
              flags = a;
              callback = b;
            }
            validateCallback(callback);
            this.wrapAsync(this.copyFileBase, [srcFilename, destFilename, flags], callback);
          };
          Volume3.prototype.linkSync = function(existingPath, newPath) {
            var existingPathFilename = pathToFilename(existingPath);
            var newPathFilename = pathToFilename(newPath);
            this.linkBase(existingPathFilename, newPathFilename);
          };
          Volume3.prototype.link = function(existingPath, newPath, callback) {
            var existingPathFilename = pathToFilename(existingPath);
            var newPathFilename = pathToFilename(newPath);
            this.wrapAsync(this.linkBase, [existingPathFilename, newPathFilename], callback);
          };
          Volume3.prototype.unlinkBase = function(filename) {
            var steps = filenameToSteps2(filename);
            var link = this.getLink(steps);
            if (!link)
              throw createError(ENOENT, "unlink", filename);
            if (link.length)
              throw Error("Dir not empty...");
            this.deleteLink(link);
            var node = link.getNode();
            node.nlink--;
            if (node.nlink <= 0) {
              this.deleteNode(node);
            }
          };
          Volume3.prototype.unlinkSync = function(path2) {
            var filename = pathToFilename(path2);
            this.unlinkBase(filename);
          };
          Volume3.prototype.unlink = function(path2, callback) {
            var filename = pathToFilename(path2);
            this.wrapAsync(this.unlinkBase, [filename], callback);
          };
          Volume3.prototype.symlinkBase = function(targetFilename, pathFilename) {
            var pathSteps = filenameToSteps2(pathFilename);
            var dirLink = this.getLinkParent(pathSteps);
            if (!dirLink)
              throw createError(ENOENT, "symlink", targetFilename, pathFilename);
            var name = pathSteps[pathSteps.length - 1];
            if (dirLink.getChild(name))
              throw createError(EEXIST, "symlink", targetFilename, pathFilename);
            var symlink = dirLink.createChild(name);
            symlink.getNode().makeSymlink(filenameToSteps2(targetFilename));
            return symlink;
          };
          Volume3.prototype.symlinkSync = function(target, path2, type) {
            var targetFilename = pathToFilename(target);
            var pathFilename = pathToFilename(path2);
            this.symlinkBase(targetFilename, pathFilename);
          };
          Volume3.prototype.symlink = function(target, path2, a, b) {
            var callback = validateCallback(typeof a === "function" ? a : b);
            var targetFilename = pathToFilename(target);
            var pathFilename = pathToFilename(path2);
            this.wrapAsync(this.symlinkBase, [targetFilename, pathFilename], callback);
          };
          Volume3.prototype.realpathBase = function(filename, encoding) {
            var steps = filenameToSteps2(filename);
            var realLink = this.getResolvedLink(steps);
            if (!realLink)
              throw createError(ENOENT, "realpath", filename);
            return encoding_1.strToEncoding(realLink.getPath(), encoding);
          };
          Volume3.prototype.realpathSync = function(path2, options) {
            return this.realpathBase(pathToFilename(path2), getRealpathOptions(options).encoding);
          };
          Volume3.prototype.realpath = function(path2, a, b) {
            var _a2 = getRealpathOptsAndCb(a, b), opts = _a2[0], callback = _a2[1];
            var pathFilename = pathToFilename(path2);
            this.wrapAsync(this.realpathBase, [pathFilename, opts.encoding], callback);
          };
          Volume3.prototype.lstatBase = function(filename, bigint) {
            if (bigint === void 0) {
              bigint = false;
            }
            var link = this.getLink(filenameToSteps2(filename));
            if (!link)
              throw createError(ENOENT, "lstat", filename);
            return Stats_1.default.build(link.getNode(), bigint);
          };
          Volume3.prototype.lstatSync = function(path2, options) {
            return this.lstatBase(pathToFilename(path2), getStatOptions(options).bigint);
          };
          Volume3.prototype.lstat = function(path2, a, b) {
            var _a2 = getStatOptsAndCb(a, b), opts = _a2[0], callback = _a2[1];
            this.wrapAsync(this.lstatBase, [pathToFilename(path2), opts.bigint], callback);
          };
          Volume3.prototype.statBase = function(filename, bigint) {
            if (bigint === void 0) {
              bigint = false;
            }
            var link = this.getResolvedLink(filenameToSteps2(filename));
            if (!link)
              throw createError(ENOENT, "stat", filename);
            return Stats_1.default.build(link.getNode(), bigint);
          };
          Volume3.prototype.statSync = function(path2, options) {
            return this.statBase(pathToFilename(path2), getStatOptions(options).bigint);
          };
          Volume3.prototype.stat = function(path2, a, b) {
            var _a2 = getStatOptsAndCb(a, b), opts = _a2[0], callback = _a2[1];
            this.wrapAsync(this.statBase, [pathToFilename(path2), opts.bigint], callback);
          };
          Volume3.prototype.fstatBase = function(fd2, bigint) {
            if (bigint === void 0) {
              bigint = false;
            }
            var file = this.getFileByFd(fd2);
            if (!file)
              throw createError(EBADF, "fstat");
            return Stats_1.default.build(file.node, bigint);
          };
          Volume3.prototype.fstatSync = function(fd2, options) {
            return this.fstatBase(fd2, getStatOptions(options).bigint);
          };
          Volume3.prototype.fstat = function(fd2, a, b) {
            var _a2 = getStatOptsAndCb(a, b), opts = _a2[0], callback = _a2[1];
            this.wrapAsync(this.fstatBase, [fd2, opts.bigint], callback);
          };
          Volume3.prototype.renameBase = function(oldPathFilename, newPathFilename) {
            var link = this.getLink(filenameToSteps2(oldPathFilename));
            if (!link)
              throw createError(ENOENT, "rename", oldPathFilename, newPathFilename);
            var newPathSteps = filenameToSteps2(newPathFilename);
            var newPathDirLink = this.getLinkParent(newPathSteps);
            if (!newPathDirLink)
              throw createError(ENOENT, "rename", oldPathFilename, newPathFilename);
            var oldLinkParent = link.parent;
            if (oldLinkParent) {
              oldLinkParent.deleteChild(link);
            }
            var name = newPathSteps[newPathSteps.length - 1];
            link.steps = __spreadArrays(newPathDirLink.steps, [name]);
            newPathDirLink.setChild(link.getName(), link);
          };
          Volume3.prototype.renameSync = function(oldPath, newPath) {
            var oldPathFilename = pathToFilename(oldPath);
            var newPathFilename = pathToFilename(newPath);
            this.renameBase(oldPathFilename, newPathFilename);
          };
          Volume3.prototype.rename = function(oldPath, newPath, callback) {
            var oldPathFilename = pathToFilename(oldPath);
            var newPathFilename = pathToFilename(newPath);
            this.wrapAsync(this.renameBase, [oldPathFilename, newPathFilename], callback);
          };
          Volume3.prototype.existsBase = function(filename) {
            return !!this.statBase(filename);
          };
          Volume3.prototype.existsSync = function(path2) {
            try {
              return this.existsBase(pathToFilename(path2));
            } catch (err2) {
              return false;
            }
          };
          Volume3.prototype.exists = function(path2, callback) {
            var _this = this;
            var filename = pathToFilename(path2);
            if (typeof callback !== "function")
              throw Error(ERRSTR.CB);
            setImmediate_1.default(function() {
              try {
                callback(_this.existsBase(filename));
              } catch (err2) {
                callback(false);
              }
            });
          };
          Volume3.prototype.accessBase = function(filename, mode) {
            var link = this.getLinkOrThrow(filename, "access");
          };
          Volume3.prototype.accessSync = function(path2, mode) {
            if (mode === void 0) {
              mode = F_OK;
            }
            var filename = pathToFilename(path2);
            mode = mode | 0;
            this.accessBase(filename, mode);
          };
          Volume3.prototype.access = function(path2, a, b) {
            var mode = F_OK;
            var callback;
            if (typeof a !== "function") {
              mode = a | 0;
              callback = validateCallback(b);
            } else {
              callback = a;
            }
            var filename = pathToFilename(path2);
            this.wrapAsync(this.accessBase, [filename, mode], callback);
          };
          Volume3.prototype.appendFileSync = function(id, data, options) {
            if (options === void 0) {
              options = appendFileDefaults;
            }
            var opts = getAppendFileOpts(options);
            if (!opts.flag || isFd(id))
              opts.flag = "a";
            this.writeFileSync(id, data, opts);
          };
          Volume3.prototype.appendFile = function(id, data, a, b) {
            var _a2 = getAppendFileOptsAndCb(a, b), opts = _a2[0], callback = _a2[1];
            if (!opts.flag || isFd(id))
              opts.flag = "a";
            this.writeFile(id, data, opts, callback);
          };
          Volume3.prototype.readdirBase = function(filename, options) {
            var steps = filenameToSteps2(filename);
            var link = this.getResolvedLink(steps);
            if (!link)
              throw createError(ENOENT, "readdir", filename);
            var node = link.getNode();
            if (!node.isDirectory())
              throw createError(ENOTDIR, "scandir", filename);
            if (options.withFileTypes) {
              var list_1 = [];
              for (var name_3 in link.children) {
                var child = link.getChild(name_3);
                if (!child) {
                  continue;
                }
                list_1.push(Dirent_1.default.build(child, options.encoding));
              }
              if (!isWin && options.encoding !== "buffer")
                list_1.sort(function(a, b) {
                  if (a.name < b.name)
                    return -1;
                  if (a.name > b.name)
                    return 1;
                  return 0;
                });
              return list_1;
            }
            var list = [];
            for (var name_4 in link.children) {
              list.push(encoding_1.strToEncoding(name_4, options.encoding));
            }
            if (!isWin && options.encoding !== "buffer")
              list.sort();
            return list;
          };
          Volume3.prototype.readdirSync = function(path2, options) {
            var opts = getReaddirOptions(options);
            var filename = pathToFilename(path2);
            return this.readdirBase(filename, opts);
          };
          Volume3.prototype.readdir = function(path2, a, b) {
            var _a2 = getReaddirOptsAndCb(a, b), options = _a2[0], callback = _a2[1];
            var filename = pathToFilename(path2);
            this.wrapAsync(this.readdirBase, [filename, options], callback);
          };
          Volume3.prototype.readlinkBase = function(filename, encoding) {
            var link = this.getLinkOrThrow(filename, "readlink");
            var node = link.getNode();
            if (!node.isSymlink())
              throw createError(EINVAL, "readlink", filename);
            var str = sep + node.symlink.join(sep);
            return encoding_1.strToEncoding(str, encoding);
          };
          Volume3.prototype.readlinkSync = function(path2, options) {
            var opts = getDefaultOpts(options);
            var filename = pathToFilename(path2);
            return this.readlinkBase(filename, opts.encoding);
          };
          Volume3.prototype.readlink = function(path2, a, b) {
            var _a2 = getDefaultOptsAndCb(a, b), opts = _a2[0], callback = _a2[1];
            var filename = pathToFilename(path2);
            this.wrapAsync(this.readlinkBase, [filename, opts.encoding], callback);
          };
          Volume3.prototype.fsyncBase = function(fd2) {
            this.getFileByFdOrThrow(fd2, "fsync");
          };
          Volume3.prototype.fsyncSync = function(fd2) {
            this.fsyncBase(fd2);
          };
          Volume3.prototype.fsync = function(fd2, callback) {
            this.wrapAsync(this.fsyncBase, [fd2], callback);
          };
          Volume3.prototype.fdatasyncBase = function(fd2) {
            this.getFileByFdOrThrow(fd2, "fdatasync");
          };
          Volume3.prototype.fdatasyncSync = function(fd2) {
            this.fdatasyncBase(fd2);
          };
          Volume3.prototype.fdatasync = function(fd2, callback) {
            this.wrapAsync(this.fdatasyncBase, [fd2], callback);
          };
          Volume3.prototype.ftruncateBase = function(fd2, len) {
            var file = this.getFileByFdOrThrow(fd2, "ftruncate");
            file.truncate(len);
          };
          Volume3.prototype.ftruncateSync = function(fd2, len) {
            this.ftruncateBase(fd2, len);
          };
          Volume3.prototype.ftruncate = function(fd2, a, b) {
            var len = typeof a === "number" ? a : 0;
            var callback = validateCallback(typeof a === "number" ? b : a);
            this.wrapAsync(this.ftruncateBase, [fd2, len], callback);
          };
          Volume3.prototype.truncateBase = function(path2, len) {
            var fd2 = this.openSync(path2, "r+");
            try {
              this.ftruncateSync(fd2, len);
            } finally {
              this.closeSync(fd2);
            }
          };
          Volume3.prototype.truncateSync = function(id, len) {
            if (isFd(id))
              return this.ftruncateSync(id, len);
            this.truncateBase(id, len);
          };
          Volume3.prototype.truncate = function(id, a, b) {
            var len = typeof a === "number" ? a : 0;
            var callback = validateCallback(typeof a === "number" ? b : a);
            if (isFd(id))
              return this.ftruncate(id, len, callback);
            this.wrapAsync(this.truncateBase, [id, len], callback);
          };
          Volume3.prototype.futimesBase = function(fd2, atime, mtime) {
            var file = this.getFileByFdOrThrow(fd2, "futimes");
            var node = file.node;
            node.atime = new Date(atime * 1e3);
            node.mtime = new Date(mtime * 1e3);
          };
          Volume3.prototype.futimesSync = function(fd2, atime, mtime) {
            this.futimesBase(fd2, toUnixTimestamp(atime), toUnixTimestamp(mtime));
          };
          Volume3.prototype.futimes = function(fd2, atime, mtime, callback) {
            this.wrapAsync(this.futimesBase, [fd2, toUnixTimestamp(atime), toUnixTimestamp(mtime)], callback);
          };
          Volume3.prototype.utimesBase = function(filename, atime, mtime) {
            var fd2 = this.openSync(filename, "r+");
            try {
              this.futimesBase(fd2, atime, mtime);
            } finally {
              this.closeSync(fd2);
            }
          };
          Volume3.prototype.utimesSync = function(path2, atime, mtime) {
            this.utimesBase(pathToFilename(path2), toUnixTimestamp(atime), toUnixTimestamp(mtime));
          };
          Volume3.prototype.utimes = function(path2, atime, mtime, callback) {
            this.wrapAsync(this.utimesBase, [pathToFilename(path2), toUnixTimestamp(atime), toUnixTimestamp(mtime)], callback);
          };
          Volume3.prototype.mkdirBase = function(filename, modeNum) {
            var steps = filenameToSteps2(filename);
            if (!steps.length) {
              throw createError(EISDIR, "mkdir", filename);
            }
            var dir = this.getLinkParentAsDirOrThrow(filename, "mkdir");
            var name = steps[steps.length - 1];
            if (dir.getChild(name))
              throw createError(EEXIST, "mkdir", filename);
            dir.createChild(name, this.createNode(true, modeNum));
          };
          Volume3.prototype.mkdirpBase = function(filename, modeNum) {
            var steps = filenameToSteps2(filename);
            var link = this.root;
            for (var i = 0; i < steps.length; i++) {
              var step = steps[i];
              if (!link.getNode().isDirectory())
                throw createError(ENOTDIR, "mkdir", link.getPath());
              var child = link.getChild(step);
              if (child) {
                if (child.getNode().isDirectory())
                  link = child;
                else
                  throw createError(ENOTDIR, "mkdir", child.getPath());
              } else {
                link = link.createChild(step, this.createNode(true, modeNum));
              }
            }
          };
          Volume3.prototype.mkdirSync = function(path2, options) {
            var opts = getMkdirOptions(options);
            var modeNum = modeToNumber(opts.mode, 511);
            var filename = pathToFilename(path2);
            if (opts.recursive)
              this.mkdirpBase(filename, modeNum);
            else
              this.mkdirBase(filename, modeNum);
          };
          Volume3.prototype.mkdir = function(path2, a, b) {
            var opts = getMkdirOptions(a);
            var callback = validateCallback(typeof a === "function" ? a : b);
            var modeNum = modeToNumber(opts.mode, 511);
            var filename = pathToFilename(path2);
            if (opts.recursive)
              this.wrapAsync(this.mkdirpBase, [filename, modeNum], callback);
            else
              this.wrapAsync(this.mkdirBase, [filename, modeNum], callback);
          };
          Volume3.prototype.mkdirpSync = function(path2, mode) {
            this.mkdirSync(path2, { mode, recursive: true });
          };
          Volume3.prototype.mkdirp = function(path2, a, b) {
            var mode = typeof a === "function" ? void 0 : a;
            var callback = validateCallback(typeof a === "function" ? a : b);
            this.mkdir(path2, { mode, recursive: true }, callback);
          };
          Volume3.prototype.mkdtempBase = function(prefix, encoding, retry) {
            if (retry === void 0) {
              retry = 5;
            }
            var filename = prefix + this.genRndStr();
            try {
              this.mkdirBase(
                filename,
                511
                /* DIR */
              );
              return encoding_1.strToEncoding(filename, encoding);
            } catch (err2) {
              if (err2.code === EEXIST) {
                if (retry > 1)
                  return this.mkdtempBase(prefix, encoding, retry - 1);
                else
                  throw Error("Could not create temp dir.");
              } else
                throw err2;
            }
          };
          Volume3.prototype.mkdtempSync = function(prefix, options) {
            var encoding = getDefaultOpts(options).encoding;
            if (!prefix || typeof prefix !== "string")
              throw new TypeError("filename prefix is required");
            nullCheck(prefix);
            return this.mkdtempBase(prefix, encoding);
          };
          Volume3.prototype.mkdtemp = function(prefix, a, b) {
            var _a2 = getDefaultOptsAndCb(a, b), encoding = _a2[0].encoding, callback = _a2[1];
            if (!prefix || typeof prefix !== "string")
              throw new TypeError("filename prefix is required");
            if (!nullCheck(prefix))
              return;
            this.wrapAsync(this.mkdtempBase, [prefix, encoding], callback);
          };
          Volume3.prototype.rmdirBase = function(filename, options) {
            var opts = getRmdirOptions(options);
            var link = this.getLinkAsDirOrThrow(filename, "rmdir");
            if (link.length && !opts.recursive)
              throw createError(ENOTEMPTY, "rmdir", filename);
            this.deleteLink(link);
          };
          Volume3.prototype.rmdirSync = function(path2, options) {
            this.rmdirBase(pathToFilename(path2), options);
          };
          Volume3.prototype.rmdir = function(path2, a, b) {
            var opts = getRmdirOptions(a);
            var callback = validateCallback(typeof a === "function" ? a : b);
            this.wrapAsync(this.rmdirBase, [pathToFilename(path2), opts], callback);
          };
          Volume3.prototype.fchmodBase = function(fd2, modeNum) {
            var file = this.getFileByFdOrThrow(fd2, "fchmod");
            file.chmod(modeNum);
          };
          Volume3.prototype.fchmodSync = function(fd2, mode) {
            this.fchmodBase(fd2, modeToNumber(mode));
          };
          Volume3.prototype.fchmod = function(fd2, mode, callback) {
            this.wrapAsync(this.fchmodBase, [fd2, modeToNumber(mode)], callback);
          };
          Volume3.prototype.chmodBase = function(filename, modeNum) {
            var fd2 = this.openSync(filename, "r+");
            try {
              this.fchmodBase(fd2, modeNum);
            } finally {
              this.closeSync(fd2);
            }
          };
          Volume3.prototype.chmodSync = function(path2, mode) {
            var modeNum = modeToNumber(mode);
            var filename = pathToFilename(path2);
            this.chmodBase(filename, modeNum);
          };
          Volume3.prototype.chmod = function(path2, mode, callback) {
            var modeNum = modeToNumber(mode);
            var filename = pathToFilename(path2);
            this.wrapAsync(this.chmodBase, [filename, modeNum], callback);
          };
          Volume3.prototype.lchmodBase = function(filename, modeNum) {
            var fd2 = this.openBase(filename, O_RDWR, 0, false);
            try {
              this.fchmodBase(fd2, modeNum);
            } finally {
              this.closeSync(fd2);
            }
          };
          Volume3.prototype.lchmodSync = function(path2, mode) {
            var modeNum = modeToNumber(mode);
            var filename = pathToFilename(path2);
            this.lchmodBase(filename, modeNum);
          };
          Volume3.prototype.lchmod = function(path2, mode, callback) {
            var modeNum = modeToNumber(mode);
            var filename = pathToFilename(path2);
            this.wrapAsync(this.lchmodBase, [filename, modeNum], callback);
          };
          Volume3.prototype.fchownBase = function(fd2, uid, gid) {
            this.getFileByFdOrThrow(fd2, "fchown").chown(uid, gid);
          };
          Volume3.prototype.fchownSync = function(fd2, uid, gid) {
            validateUid(uid);
            validateGid(gid);
            this.fchownBase(fd2, uid, gid);
          };
          Volume3.prototype.fchown = function(fd2, uid, gid, callback) {
            validateUid(uid);
            validateGid(gid);
            this.wrapAsync(this.fchownBase, [fd2, uid, gid], callback);
          };
          Volume3.prototype.chownBase = function(filename, uid, gid) {
            var link = this.getResolvedLinkOrThrow(filename, "chown");
            var node = link.getNode();
            node.chown(uid, gid);
          };
          Volume3.prototype.chownSync = function(path2, uid, gid) {
            validateUid(uid);
            validateGid(gid);
            this.chownBase(pathToFilename(path2), uid, gid);
          };
          Volume3.prototype.chown = function(path2, uid, gid, callback) {
            validateUid(uid);
            validateGid(gid);
            this.wrapAsync(this.chownBase, [pathToFilename(path2), uid, gid], callback);
          };
          Volume3.prototype.lchownBase = function(filename, uid, gid) {
            this.getLinkOrThrow(filename, "lchown").getNode().chown(uid, gid);
          };
          Volume3.prototype.lchownSync = function(path2, uid, gid) {
            validateUid(uid);
            validateGid(gid);
            this.lchownBase(pathToFilename(path2), uid, gid);
          };
          Volume3.prototype.lchown = function(path2, uid, gid, callback) {
            validateUid(uid);
            validateGid(gid);
            this.wrapAsync(this.lchownBase, [pathToFilename(path2), uid, gid], callback);
          };
          Volume3.prototype.watchFile = function(path2, a, b) {
            var filename = pathToFilename(path2);
            var options = a;
            var listener = b;
            if (typeof options === "function") {
              listener = a;
              options = null;
            }
            if (typeof listener !== "function") {
              throw Error('"watchFile()" requires a listener function');
            }
            var interval = 5007;
            var persistent = true;
            if (options && typeof options === "object") {
              if (typeof options.interval === "number")
                interval = options.interval;
              if (typeof options.persistent === "boolean")
                persistent = options.persistent;
            }
            var watcher = this.statWatchers[filename];
            if (!watcher) {
              watcher = new this.StatWatcher();
              watcher.start(filename, persistent, interval);
              this.statWatchers[filename] = watcher;
            }
            watcher.addListener("change", listener);
            return watcher;
          };
          Volume3.prototype.unwatchFile = function(path2, listener) {
            var filename = pathToFilename(path2);
            var watcher = this.statWatchers[filename];
            if (!watcher)
              return;
            if (typeof listener === "function") {
              watcher.removeListener("change", listener);
            } else {
              watcher.removeAllListeners("change");
            }
            if (watcher.listenerCount("change") === 0) {
              watcher.stop();
              delete this.statWatchers[filename];
            }
          };
          Volume3.prototype.createReadStream = function(path2, options) {
            return new this.ReadStream(path2, options);
          };
          Volume3.prototype.createWriteStream = function(path2, options) {
            return new this.WriteStream(path2, options);
          };
          Volume3.prototype.watch = function(path2, options, listener) {
            var filename = pathToFilename(path2);
            var givenOptions = options;
            if (typeof options === "function") {
              listener = options;
              givenOptions = null;
            }
            var _a2 = getDefaultOpts(givenOptions), persistent = _a2.persistent, recursive = _a2.recursive, encoding = _a2.encoding;
            if (persistent === void 0)
              persistent = true;
            if (recursive === void 0)
              recursive = false;
            var watcher = new this.FSWatcher();
            watcher.start(filename, persistent, recursive, encoding);
            if (listener) {
              watcher.addListener("change", listener);
            }
            return watcher;
          };
          Volume3.fd = 2147483647;
          return Volume3;
        }()
      );
      exports.Volume = Volume2;
      function emitStop(self2) {
        self2.emit("stop");
      }
      var StatWatcher = (
        /** @class */
        function(_super) {
          __extends(StatWatcher2, _super);
          function StatWatcher2(vol) {
            var _this = _super.call(this) || this;
            _this.onInterval = function() {
              try {
                var stats = _this.vol.statSync(_this.filename);
                if (_this.hasChanged(stats)) {
                  _this.emit("change", stats, _this.prev);
                  _this.prev = stats;
                }
              } finally {
                _this.loop();
              }
            };
            _this.vol = vol;
            return _this;
          }
          StatWatcher2.prototype.loop = function() {
            this.timeoutRef = this.setTimeout(this.onInterval, this.interval);
          };
          StatWatcher2.prototype.hasChanged = function(stats) {
            if (stats.mtimeMs > this.prev.mtimeMs)
              return true;
            if (stats.nlink !== this.prev.nlink)
              return true;
            return false;
          };
          StatWatcher2.prototype.start = function(path2, persistent, interval) {
            if (persistent === void 0) {
              persistent = true;
            }
            if (interval === void 0) {
              interval = 5007;
            }
            this.filename = pathToFilename(path2);
            this.setTimeout = persistent ? setTimeout : setTimeoutUnref_1.default;
            this.interval = interval;
            this.prev = this.vol.statSync(this.filename);
            this.loop();
          };
          StatWatcher2.prototype.stop = function() {
            clearTimeout(this.timeoutRef);
            process_1.default.nextTick(emitStop, this);
          };
          return StatWatcher2;
        }(events_1.EventEmitter)
      );
      exports.StatWatcher = StatWatcher;
      var pool;
      function allocNewPool(poolSize) {
        pool = buffer_1.bufferAllocUnsafe(poolSize);
        pool.used = 0;
      }
      util.inherits(FsReadStream, stream_1.Readable);
      exports.ReadStream = FsReadStream;
      function FsReadStream(vol, path2, options) {
        if (!(this instanceof FsReadStream))
          return new FsReadStream(vol, path2, options);
        this._vol = vol;
        options = extend({}, getOptions(options, {}));
        if (options.highWaterMark === void 0)
          options.highWaterMark = 64 * 1024;
        stream_1.Readable.call(this, options);
        this.path = pathToFilename(path2);
        this.fd = options.fd === void 0 ? null : options.fd;
        this.flags = options.flags === void 0 ? "r" : options.flags;
        this.mode = options.mode === void 0 ? 438 : options.mode;
        this.start = options.start;
        this.end = options.end;
        this.autoClose = options.autoClose === void 0 ? true : options.autoClose;
        this.pos = void 0;
        this.bytesRead = 0;
        if (this.start !== void 0) {
          if (typeof this.start !== "number") {
            throw new TypeError('"start" option must be a Number');
          }
          if (this.end === void 0) {
            this.end = Infinity;
          } else if (typeof this.end !== "number") {
            throw new TypeError('"end" option must be a Number');
          }
          if (this.start > this.end) {
            throw new Error('"start" option must be <= "end" option');
          }
          this.pos = this.start;
        }
        if (typeof this.fd !== "number")
          this.open();
        this.on("end", function() {
          if (this.autoClose) {
            if (this.destroy)
              this.destroy();
          }
        });
      }
      FsReadStream.prototype.open = function() {
        var self2 = this;
        this._vol.open(this.path, this.flags, this.mode, function(er, fd2) {
          if (er) {
            if (self2.autoClose) {
              if (self2.destroy)
                self2.destroy();
            }
            self2.emit("error", er);
            return;
          }
          self2.fd = fd2;
          self2.emit("open", fd2);
          self2.read();
        });
      };
      FsReadStream.prototype._read = function(n) {
        if (typeof this.fd !== "number") {
          return this.once("open", function() {
            this._read(n);
          });
        }
        if (this.destroyed)
          return;
        if (!pool || pool.length - pool.used < kMinPoolSpace) {
          allocNewPool(this._readableState.highWaterMark);
        }
        var thisPool = pool;
        var toRead = Math.min(pool.length - pool.used, n);
        var start = pool.used;
        if (this.pos !== void 0)
          toRead = Math.min(this.end - this.pos + 1, toRead);
        if (toRead <= 0)
          return this.push(null);
        var self2 = this;
        this._vol.read(this.fd, pool, pool.used, toRead, this.pos, onread);
        if (this.pos !== void 0)
          this.pos += toRead;
        pool.used += toRead;
        function onread(er, bytesRead) {
          if (er) {
            if (self2.autoClose && self2.destroy) {
              self2.destroy();
            }
            self2.emit("error", er);
          } else {
            var b = null;
            if (bytesRead > 0) {
              self2.bytesRead += bytesRead;
              b = thisPool.slice(start, start + bytesRead);
            }
            self2.push(b);
          }
        }
      };
      FsReadStream.prototype._destroy = function(err2, cb) {
        this.close(function(err22) {
          cb(err2 || err22);
        });
      };
      FsReadStream.prototype.close = function(cb) {
        var _this = this;
        if (cb)
          this.once("close", cb);
        if (this.closed || typeof this.fd !== "number") {
          if (typeof this.fd !== "number") {
            this.once("open", closeOnOpen);
            return;
          }
          return process_1.default.nextTick(function() {
            return _this.emit("close");
          });
        }
        this.closed = true;
        this._vol.close(this.fd, function(er) {
          if (er)
            _this.emit("error", er);
          else
            _this.emit("close");
        });
        this.fd = null;
      };
      function closeOnOpen(fd2) {
        this.close();
      }
      util.inherits(FsWriteStream, stream_1.Writable);
      exports.WriteStream = FsWriteStream;
      function FsWriteStream(vol, path2, options) {
        if (!(this instanceof FsWriteStream))
          return new FsWriteStream(vol, path2, options);
        this._vol = vol;
        options = extend({}, getOptions(options, {}));
        stream_1.Writable.call(this, options);
        this.path = pathToFilename(path2);
        this.fd = options.fd === void 0 ? null : options.fd;
        this.flags = options.flags === void 0 ? "w" : options.flags;
        this.mode = options.mode === void 0 ? 438 : options.mode;
        this.start = options.start;
        this.autoClose = options.autoClose === void 0 ? true : !!options.autoClose;
        this.pos = void 0;
        this.bytesWritten = 0;
        if (this.start !== void 0) {
          if (typeof this.start !== "number") {
            throw new TypeError('"start" option must be a Number');
          }
          if (this.start < 0) {
            throw new Error('"start" must be >= zero');
          }
          this.pos = this.start;
        }
        if (options.encoding)
          this.setDefaultEncoding(options.encoding);
        if (typeof this.fd !== "number")
          this.open();
        this.once("finish", function() {
          if (this.autoClose) {
            this.close();
          }
        });
      }
      FsWriteStream.prototype.open = function() {
        this._vol.open(this.path, this.flags, this.mode, function(er, fd2) {
          if (er) {
            if (this.autoClose && this.destroy) {
              this.destroy();
            }
            this.emit("error", er);
            return;
          }
          this.fd = fd2;
          this.emit("open", fd2);
        }.bind(this));
      };
      FsWriteStream.prototype._write = function(data, encoding, cb) {
        if (!(data instanceof buffer_1.Buffer))
          return this.emit("error", new Error("Invalid data"));
        if (typeof this.fd !== "number") {
          return this.once("open", function() {
            this._write(data, encoding, cb);
          });
        }
        var self2 = this;
        this._vol.write(this.fd, data, 0, data.length, this.pos, function(er, bytes) {
          if (er) {
            if (self2.autoClose && self2.destroy) {
              self2.destroy();
            }
            return cb(er);
          }
          self2.bytesWritten += bytes;
          cb();
        });
        if (this.pos !== void 0)
          this.pos += data.length;
      };
      FsWriteStream.prototype._writev = function(data, cb) {
        if (typeof this.fd !== "number") {
          return this.once("open", function() {
            this._writev(data, cb);
          });
        }
        var self2 = this;
        var len = data.length;
        var chunks = new Array(len);
        var size = 0;
        for (var i = 0; i < len; i++) {
          var chunk = data[i].chunk;
          chunks[i] = chunk;
          size += chunk.length;
        }
        var buf = buffer_1.Buffer.concat(chunks);
        this._vol.write(this.fd, buf, 0, buf.length, this.pos, function(er, bytes) {
          if (er) {
            if (self2.destroy)
              self2.destroy();
            return cb(er);
          }
          self2.bytesWritten += bytes;
          cb();
        });
        if (this.pos !== void 0)
          this.pos += size;
      };
      FsWriteStream.prototype._destroy = FsReadStream.prototype._destroy;
      FsWriteStream.prototype.close = FsReadStream.prototype.close;
      FsWriteStream.prototype.destroySoon = FsWriteStream.prototype.end;
      var FSWatcher = (
        /** @class */
        function(_super) {
          __extends(FSWatcher2, _super);
          function FSWatcher2(vol) {
            var _this = _super.call(this) || this;
            _this._filename = "";
            _this._filenameEncoded = "";
            _this._recursive = false;
            _this._encoding = encoding_1.ENCODING_UTF8;
            _this._onNodeChange = function() {
              _this._emit("change");
            };
            _this._onParentChild = function(link) {
              if (link.getName() === _this._getName()) {
                _this._emit("rename");
              }
            };
            _this._emit = function(type) {
              _this.emit("change", type, _this._filenameEncoded);
            };
            _this._persist = function() {
              _this._timer = setTimeout(_this._persist, 1e6);
            };
            _this._vol = vol;
            return _this;
          }
          FSWatcher2.prototype._getName = function() {
            return this._steps[this._steps.length - 1];
          };
          FSWatcher2.prototype.start = function(path2, persistent, recursive, encoding) {
            if (persistent === void 0) {
              persistent = true;
            }
            if (recursive === void 0) {
              recursive = false;
            }
            if (encoding === void 0) {
              encoding = encoding_1.ENCODING_UTF8;
            }
            this._filename = pathToFilename(path2);
            this._steps = filenameToSteps2(this._filename);
            this._filenameEncoded = encoding_1.strToEncoding(this._filename);
            this._recursive = recursive;
            this._encoding = encoding;
            try {
              this._link = this._vol.getLinkOrThrow(this._filename, "FSWatcher");
            } catch (err2) {
              var error = new Error("watch " + this._filename + " " + err2.code);
              error.code = err2.code;
              error.errno = err2.code;
              throw error;
            }
            this._link.getNode().on("change", this._onNodeChange);
            this._link.on("child:add", this._onNodeChange);
            this._link.on("child:delete", this._onNodeChange);
            var parent = this._link.parent;
            if (parent) {
              parent.setMaxListeners(parent.getMaxListeners() + 1);
              parent.on("child:delete", this._onParentChild);
            }
            if (persistent)
              this._persist();
          };
          FSWatcher2.prototype.close = function() {
            clearTimeout(this._timer);
            this._link.getNode().removeListener("change", this._onNodeChange);
            var parent = this._link.parent;
            if (parent) {
              parent.removeListener("child:delete", this._onParentChild);
            }
          };
          return FSWatcher2;
        }(events_1.EventEmitter)
      );
      exports.FSWatcher = FSWatcher;
    }
  });

  // node_modules/fs-monkey/lib/util/lists.js
  var require_lists = __commonJS({
    "node_modules/fs-monkey/lib/util/lists.js"(exports) {
      "use strict";
      init_process_shim();
      init_buffer_shim();
      Object.defineProperty(exports, "__esModule", {
        value: true
      });
      var fsProps = exports.fsProps = ["constants", "F_OK", "R_OK", "W_OK", "X_OK", "Stats"];
      var fsSyncMethods = exports.fsSyncMethods = ["renameSync", "ftruncateSync", "truncateSync", "chownSync", "fchownSync", "lchownSync", "chmodSync", "fchmodSync", "lchmodSync", "statSync", "lstatSync", "fstatSync", "linkSync", "symlinkSync", "readlinkSync", "realpathSync", "unlinkSync", "rmdirSync", "mkdirSync", "mkdirpSync", "readdirSync", "closeSync", "openSync", "utimesSync", "futimesSync", "fsyncSync", "writeSync", "readSync", "readFileSync", "writeFileSync", "appendFileSync", "existsSync", "accessSync", "fdatasyncSync", "mkdtempSync", "copyFileSync", "createReadStream", "createWriteStream"];
      var fsAsyncMethods = exports.fsAsyncMethods = ["rename", "ftruncate", "truncate", "chown", "fchown", "lchown", "chmod", "fchmod", "lchmod", "stat", "lstat", "fstat", "link", "symlink", "readlink", "realpath", "unlink", "rmdir", "mkdir", "mkdirp", "readdir", "close", "open", "utimes", "futimes", "fsync", "write", "read", "readFile", "writeFile", "appendFile", "exists", "access", "fdatasync", "mkdtemp", "copyFile", "watchFile", "unwatchFile", "watch"];
    }
  });

  // node_modules/memfs/lib/index.js
  var require_lib2 = __commonJS({
    "node_modules/memfs/lib/index.js"(exports, module) {
      "use strict";
      init_process_shim();
      init_buffer_shim();
      var __assign = exports && exports.__assign || function() {
        __assign = Object.assign || function(t) {
          for (var s, i = 1, n = arguments.length; i < n; i++) {
            s = arguments[i];
            for (var p in s)
              if (Object.prototype.hasOwnProperty.call(s, p))
                t[p] = s[p];
          }
          return t;
        };
        return __assign.apply(this, arguments);
      };
      Object.defineProperty(exports, "__esModule", { value: true });
      var Stats_1 = require_Stats();
      var Dirent_1 = require_Dirent();
      var volume_1 = require_volume();
      var _a2 = require_lists();
      var fsSyncMethods = _a2.fsSyncMethods;
      var fsAsyncMethods = _a2.fsAsyncMethods;
      var constants_1 = require_constants2();
      var F_OK = constants_1.constants.F_OK;
      var R_OK = constants_1.constants.R_OK;
      var W_OK = constants_1.constants.W_OK;
      var X_OK = constants_1.constants.X_OK;
      exports.Volume = volume_1.Volume;
      exports.vol = new volume_1.Volume();
      function createFsFromVolume2(vol) {
        var fs2 = { F_OK, R_OK, W_OK, X_OK, constants: constants_1.constants, Stats: Stats_1.default, Dirent: Dirent_1.default };
        for (var _i = 0, fsSyncMethods_1 = fsSyncMethods; _i < fsSyncMethods_1.length; _i++) {
          var method = fsSyncMethods_1[_i];
          if (typeof vol[method] === "function")
            fs2[method] = vol[method].bind(vol);
        }
        for (var _a3 = 0, fsAsyncMethods_1 = fsAsyncMethods; _a3 < fsAsyncMethods_1.length; _a3++) {
          var method = fsAsyncMethods_1[_a3];
          if (typeof vol[method] === "function")
            fs2[method] = vol[method].bind(vol);
        }
        fs2.StatWatcher = vol.StatWatcher;
        fs2.FSWatcher = vol.FSWatcher;
        fs2.WriteStream = vol.WriteStream;
        fs2.ReadStream = vol.ReadStream;
        fs2.promises = vol.promises;
        fs2._toUnixTimestamp = volume_1.toUnixTimestamp;
        return fs2;
      }
      exports.createFsFromVolume = createFsFromVolume2;
      exports.fs = createFsFromVolume2(exports.vol);
      module.exports = __assign(__assign({}, module.exports), exports.fs);
      module.exports.semantic = true;
    }
  });

  // node_modules/@wasmer/wasi/lib/polyfills/dataview.js
  var require_dataview = __commonJS({
    "node_modules/@wasmer/wasi/lib/polyfills/dataview.js"(exports) {
      "use strict";
      init_process_shim();
      init_buffer_shim();
      Object.defineProperty(exports, "__esModule", { value: true });
      var bigint_1 = require_bigint();
      var exportedDataView = DataView;
      if (!exportedDataView.prototype.setBigUint64) {
        exportedDataView.prototype.setBigUint64 = function(byteOffset, value, littleEndian) {
          let lowWord;
          let highWord;
          if (value < 2 ** 32) {
            lowWord = Number(value);
            highWord = 0;
          } else {
            var bigNumberAsBinaryStr = value.toString(2);
            var bigNumberAsBinaryStr2 = "";
            for (var i = 0; i < 64 - bigNumberAsBinaryStr.length; i++) {
              bigNumberAsBinaryStr2 += "0";
            }
            bigNumberAsBinaryStr2 += bigNumberAsBinaryStr;
            highWord = parseInt(bigNumberAsBinaryStr2.substring(0, 32), 2);
            lowWord = parseInt(bigNumberAsBinaryStr2.substring(32), 2);
          }
          this.setUint32(byteOffset + (littleEndian ? 0 : 4), lowWord, littleEndian);
          this.setUint32(byteOffset + (littleEndian ? 4 : 0), highWord, littleEndian);
        };
        exportedDataView.prototype.getBigUint64 = function(byteOffset, littleEndian) {
          let lowWord = this.getUint32(byteOffset + (littleEndian ? 0 : 4), littleEndian);
          let highWord = this.getUint32(byteOffset + (littleEndian ? 4 : 0), littleEndian);
          var lowWordAsBinaryStr = lowWord.toString(2);
          var highWordAsBinaryStr = highWord.toString(2);
          var lowWordAsBinaryStrPadded = "";
          for (var i = 0; i < 32 - lowWordAsBinaryStr.length; i++) {
            lowWordAsBinaryStrPadded += "0";
          }
          lowWordAsBinaryStrPadded += lowWordAsBinaryStr;
          return bigint_1.BigIntPolyfill("0b" + highWordAsBinaryStr + lowWordAsBinaryStrPadded);
        };
      }
      exports.DataViewPolyfill = exportedDataView;
    }
  });

  // node_modules/@wasmer/wasi/lib/polyfills/buffer.js
  var require_buffer3 = __commonJS({
    "node_modules/@wasmer/wasi/lib/polyfills/buffer.js"(exports) {
      "use strict";
      init_process_shim();
      init_buffer_shim();
      Object.defineProperty(exports, "__esModule", { value: true });
      var isomorphicBuffer = import_buffer.Buffer;
      exports.default = isomorphicBuffer;
    }
  });

  // node_modules/@wasmer/wasi/lib/index.js
  var require_lib3 = __commonJS({
    "node_modules/@wasmer/wasi/lib/index.js"(exports) {
      "use strict";
      init_process_shim();
      init_buffer_shim();
      Object.defineProperty(exports, "__esModule", { value: true });
      var bigint_1 = require_bigint();
      var dataview_1 = require_dataview();
      var buffer_1 = require_buffer3();
      var defaultBindings;
      var constants_1 = require_constants();
      var STDIN_DEFAULT_RIGHTS = constants_1.WASI_RIGHT_FD_DATASYNC | constants_1.WASI_RIGHT_FD_READ | constants_1.WASI_RIGHT_FD_SYNC | constants_1.WASI_RIGHT_FD_ADVISE | constants_1.WASI_RIGHT_FD_FILESTAT_GET | constants_1.WASI_RIGHT_POLL_FD_READWRITE;
      var STDOUT_DEFAULT_RIGHTS = constants_1.WASI_RIGHT_FD_DATASYNC | constants_1.WASI_RIGHT_FD_WRITE | constants_1.WASI_RIGHT_FD_SYNC | constants_1.WASI_RIGHT_FD_ADVISE | constants_1.WASI_RIGHT_FD_FILESTAT_GET | constants_1.WASI_RIGHT_POLL_FD_READWRITE;
      var STDERR_DEFAULT_RIGHTS = STDOUT_DEFAULT_RIGHTS;
      var msToNs = (ms) => {
        const msInt = Math.trunc(ms);
        const decimal = bigint_1.BigIntPolyfill(Math.round((ms - msInt) * 1e6));
        const ns = bigint_1.BigIntPolyfill(msInt) * bigint_1.BigIntPolyfill(1e6);
        return ns + decimal;
      };
      var nsToMs = (ns) => {
        if (typeof ns === "number") {
          ns = Math.trunc(ns);
        }
        const nsInt = bigint_1.BigIntPolyfill(ns);
        return Number(nsInt / bigint_1.BigIntPolyfill(1e6));
      };
      var wrap = (f) => (...args) => {
        try {
          return f(...args);
        } catch (e) {
          if (e && e.code && typeof e.code === "string") {
            return constants_1.ERROR_MAP[e.code] || constants_1.WASI_EINVAL;
          }
          if (e instanceof WASIError) {
            return e.errno;
          }
          throw e;
        }
      };
      var stat = (wasi, fd2) => {
        const entry = wasi.FD_MAP.get(fd2);
        if (!entry) {
          throw new WASIError(constants_1.WASI_EBADF);
        }
        if (entry.filetype === void 0) {
          const stats = wasi.bindings.fs.fstatSync(entry.real);
          const { filetype, rightsBase, rightsInheriting } = translateFileAttributes(wasi, fd2, stats);
          entry.filetype = filetype;
          if (!entry.rights) {
            entry.rights = {
              base: rightsBase,
              inheriting: rightsInheriting
            };
          }
        }
        return entry;
      };
      var translateFileAttributes = (wasi, fd2, stats) => {
        switch (true) {
          case stats.isBlockDevice():
            return {
              filetype: constants_1.WASI_FILETYPE_BLOCK_DEVICE,
              rightsBase: constants_1.RIGHTS_BLOCK_DEVICE_BASE,
              rightsInheriting: constants_1.RIGHTS_BLOCK_DEVICE_INHERITING
            };
          case stats.isCharacterDevice(): {
            const filetype = constants_1.WASI_FILETYPE_CHARACTER_DEVICE;
            if (fd2 !== void 0 && wasi.bindings.isTTY(fd2)) {
              return {
                filetype,
                rightsBase: constants_1.RIGHTS_TTY_BASE,
                rightsInheriting: constants_1.RIGHTS_TTY_INHERITING
              };
            }
            return {
              filetype,
              rightsBase: constants_1.RIGHTS_CHARACTER_DEVICE_BASE,
              rightsInheriting: constants_1.RIGHTS_CHARACTER_DEVICE_INHERITING
            };
          }
          case stats.isDirectory():
            return {
              filetype: constants_1.WASI_FILETYPE_DIRECTORY,
              rightsBase: constants_1.RIGHTS_DIRECTORY_BASE,
              rightsInheriting: constants_1.RIGHTS_DIRECTORY_INHERITING
            };
          case stats.isFIFO():
            return {
              filetype: constants_1.WASI_FILETYPE_SOCKET_STREAM,
              rightsBase: constants_1.RIGHTS_SOCKET_BASE,
              rightsInheriting: constants_1.RIGHTS_SOCKET_INHERITING
            };
          case stats.isFile():
            return {
              filetype: constants_1.WASI_FILETYPE_REGULAR_FILE,
              rightsBase: constants_1.RIGHTS_REGULAR_FILE_BASE,
              rightsInheriting: constants_1.RIGHTS_REGULAR_FILE_INHERITING
            };
          case stats.isSocket():
            return {
              filetype: constants_1.WASI_FILETYPE_SOCKET_STREAM,
              rightsBase: constants_1.RIGHTS_SOCKET_BASE,
              rightsInheriting: constants_1.RIGHTS_SOCKET_INHERITING
            };
          case stats.isSymbolicLink():
            return {
              filetype: constants_1.WASI_FILETYPE_SYMBOLIC_LINK,
              rightsBase: bigint_1.BigIntPolyfill(0),
              rightsInheriting: bigint_1.BigIntPolyfill(0)
            };
          default:
            return {
              filetype: constants_1.WASI_FILETYPE_UNKNOWN,
              rightsBase: bigint_1.BigIntPolyfill(0),
              rightsInheriting: bigint_1.BigIntPolyfill(0)
            };
        }
      };
      var WASIError = class extends Error {
        constructor(errno) {
          super();
          this.errno = errno;
          Object.setPrototypeOf(this, WASIError.prototype);
        }
      };
      exports.WASIError = WASIError;
      var WASIExitError2 = class extends Error {
        constructor(code) {
          super(`WASI Exit error: ${code}`);
          this.code = code;
          Object.setPrototypeOf(this, WASIExitError2.prototype);
        }
      };
      exports.WASIExitError = WASIExitError2;
      var WASIKillError = class extends Error {
        constructor(signal) {
          super(`WASI Kill signal: ${signal}`);
          this.signal = signal;
          Object.setPrototypeOf(this, WASIKillError.prototype);
        }
      };
      exports.WASIKillError = WASIKillError;
      var WASIDefault = class {
        constructor(wasiConfig) {
          let preopens = {};
          if (wasiConfig && wasiConfig.preopens) {
            preopens = wasiConfig.preopens;
          } else if (wasiConfig && wasiConfig.preopenDirectories) {
            preopens = wasiConfig.preopenDirectories;
          }
          let env2 = {};
          if (wasiConfig && wasiConfig.env) {
            env2 = wasiConfig.env;
          }
          let args = [];
          if (wasiConfig && wasiConfig.args) {
            args = wasiConfig.args;
          }
          let bindings = defaultBindings;
          if (wasiConfig && wasiConfig.bindings) {
            bindings = wasiConfig.bindings;
          }
          this.memory = void 0;
          this.view = void 0;
          this.bindings = bindings;
          this.FD_MAP = /* @__PURE__ */ new Map([
            [
              constants_1.WASI_STDIN_FILENO,
              {
                real: 0,
                filetype: constants_1.WASI_FILETYPE_CHARACTER_DEVICE,
                // offset: BigInt(0),
                rights: {
                  base: STDIN_DEFAULT_RIGHTS,
                  inheriting: bigint_1.BigIntPolyfill(0)
                },
                path: void 0
              }
            ],
            [
              constants_1.WASI_STDOUT_FILENO,
              {
                real: 1,
                filetype: constants_1.WASI_FILETYPE_CHARACTER_DEVICE,
                // offset: BigInt(0),
                rights: {
                  base: STDOUT_DEFAULT_RIGHTS,
                  inheriting: bigint_1.BigIntPolyfill(0)
                },
                path: void 0
              }
            ],
            [
              constants_1.WASI_STDERR_FILENO,
              {
                real: 2,
                filetype: constants_1.WASI_FILETYPE_CHARACTER_DEVICE,
                // offset: BigInt(0),
                rights: {
                  base: STDERR_DEFAULT_RIGHTS,
                  inheriting: bigint_1.BigIntPolyfill(0)
                },
                path: void 0
              }
            ]
          ]);
          let fs2 = this.bindings.fs;
          let path2 = this.bindings.path;
          for (const [k, v] of Object.entries(preopens)) {
            const real = fs2.openSync(v, fs2.constants.O_RDONLY);
            const newfd = [...this.FD_MAP.keys()].reverse()[0] + 1;
            this.FD_MAP.set(newfd, {
              real,
              filetype: constants_1.WASI_FILETYPE_DIRECTORY,
              // offset: BigInt(0),
              rights: {
                base: constants_1.RIGHTS_DIRECTORY_BASE,
                inheriting: constants_1.RIGHTS_DIRECTORY_INHERITING
              },
              fakePath: k,
              path: v
            });
          }
          const getiovs = (iovs, iovsLen) => {
            this.refreshMemory();
            const buffers = Array.from({ length: iovsLen }, (_, i) => {
              const ptr = iovs + i * 8;
              const buf = this.view.getUint32(ptr, true);
              const bufLen = this.view.getUint32(ptr + 4, true);
              return new Uint8Array(this.memory.buffer, buf, bufLen);
            });
            return buffers;
          };
          const CHECK_FD = (fd2, rights) => {
            const stats = stat(this, fd2);
            if (rights !== bigint_1.BigIntPolyfill(0) && (stats.rights.base & rights) === bigint_1.BigIntPolyfill(0)) {
              throw new WASIError(constants_1.WASI_EPERM);
            }
            return stats;
          };
          const CPUTIME_START = bindings.hrtime();
          const now = (clockId) => {
            switch (clockId) {
              case constants_1.WASI_CLOCK_MONOTONIC:
                return bindings.hrtime();
              case constants_1.WASI_CLOCK_REALTIME:
                return msToNs(Date.now());
              case constants_1.WASI_CLOCK_PROCESS_CPUTIME_ID:
              case constants_1.WASI_CLOCK_THREAD_CPUTIME_ID:
                return bindings.hrtime() - CPUTIME_START;
              default:
                return null;
            }
          };
          this.wasiImport = {
            args_get: (argv, argvBuf) => {
              this.refreshMemory();
              let coffset = argv;
              let offset = argvBuf;
              args.forEach((a) => {
                this.view.setUint32(coffset, offset, true);
                coffset += 4;
                offset += buffer_1.default.from(this.memory.buffer).write(`${a}\0`, offset);
              });
              return constants_1.WASI_ESUCCESS;
            },
            args_sizes_get: (argc, argvBufSize) => {
              this.refreshMemory();
              this.view.setUint32(argc, args.length, true);
              const size = args.reduce((acc, a) => acc + buffer_1.default.byteLength(a) + 1, 0);
              this.view.setUint32(argvBufSize, size, true);
              return constants_1.WASI_ESUCCESS;
            },
            environ_get: (environ, environBuf) => {
              this.refreshMemory();
              let coffset = environ;
              let offset = environBuf;
              Object.entries(env2).forEach(([key, value]) => {
                this.view.setUint32(coffset, offset, true);
                coffset += 4;
                offset += buffer_1.default.from(this.memory.buffer).write(`${key}=${value}\0`, offset);
              });
              return constants_1.WASI_ESUCCESS;
            },
            environ_sizes_get: (environCount, environBufSize) => {
              this.refreshMemory();
              const envProcessed = Object.entries(env2).map(([key, value]) => `${key}=${value}\0`);
              const size = envProcessed.reduce((acc, e) => acc + buffer_1.default.byteLength(e), 0);
              this.view.setUint32(environCount, envProcessed.length, true);
              this.view.setUint32(environBufSize, size, true);
              return constants_1.WASI_ESUCCESS;
            },
            clock_res_get: (clockId, resolution) => {
              let res;
              switch (clockId) {
                case constants_1.WASI_CLOCK_MONOTONIC:
                case constants_1.WASI_CLOCK_PROCESS_CPUTIME_ID:
                case constants_1.WASI_CLOCK_THREAD_CPUTIME_ID: {
                  res = bigint_1.BigIntPolyfill(1);
                  break;
                }
                case constants_1.WASI_CLOCK_REALTIME: {
                  res = bigint_1.BigIntPolyfill(1e3);
                  break;
                }
              }
              this.view.setBigUint64(resolution, res);
              return constants_1.WASI_ESUCCESS;
            },
            clock_time_get: (clockId, precision, time) => {
              this.refreshMemory();
              const n = now(clockId);
              if (n === null) {
                return constants_1.WASI_EINVAL;
              }
              this.view.setBigUint64(time, bigint_1.BigIntPolyfill(n), true);
              return constants_1.WASI_ESUCCESS;
            },
            fd_advise: wrap((fd2, offset, len, advice) => {
              CHECK_FD(fd2, constants_1.WASI_RIGHT_FD_ADVISE);
              return constants_1.WASI_ENOSYS;
            }),
            fd_allocate: wrap((fd2, offset, len) => {
              CHECK_FD(fd2, constants_1.WASI_RIGHT_FD_ALLOCATE);
              return constants_1.WASI_ENOSYS;
            }),
            fd_close: wrap((fd2) => {
              const stats = CHECK_FD(fd2, bigint_1.BigIntPolyfill(0));
              fs2.closeSync(stats.real);
              this.FD_MAP.delete(fd2);
              return constants_1.WASI_ESUCCESS;
            }),
            fd_datasync: wrap((fd2) => {
              const stats = CHECK_FD(fd2, constants_1.WASI_RIGHT_FD_DATASYNC);
              fs2.fdatasyncSync(stats.real);
              return constants_1.WASI_ESUCCESS;
            }),
            fd_fdstat_get: wrap((fd2, bufPtr) => {
              const stats = CHECK_FD(fd2, bigint_1.BigIntPolyfill(0));
              this.refreshMemory();
              this.view.setUint8(bufPtr, stats.filetype);
              this.view.setUint16(bufPtr + 2, 0, true);
              this.view.setUint16(bufPtr + 4, 0, true);
              this.view.setBigUint64(bufPtr + 8, bigint_1.BigIntPolyfill(stats.rights.base), true);
              this.view.setBigUint64(bufPtr + 8 + 8, bigint_1.BigIntPolyfill(stats.rights.inheriting), true);
              return constants_1.WASI_ESUCCESS;
            }),
            fd_fdstat_set_flags: wrap((fd2, flags) => {
              CHECK_FD(fd2, constants_1.WASI_RIGHT_FD_FDSTAT_SET_FLAGS);
              return constants_1.WASI_ENOSYS;
            }),
            fd_fdstat_set_rights: wrap((fd2, fsRightsBase, fsRightsInheriting) => {
              const stats = CHECK_FD(fd2, bigint_1.BigIntPolyfill(0));
              const nrb = stats.rights.base | fsRightsBase;
              if (nrb > stats.rights.base) {
                return constants_1.WASI_EPERM;
              }
              const nri = stats.rights.inheriting | fsRightsInheriting;
              if (nri > stats.rights.inheriting) {
                return constants_1.WASI_EPERM;
              }
              stats.rights.base = fsRightsBase;
              stats.rights.inheriting = fsRightsInheriting;
              return constants_1.WASI_ESUCCESS;
            }),
            fd_filestat_get: wrap((fd2, bufPtr) => {
              const stats = CHECK_FD(fd2, constants_1.WASI_RIGHT_FD_FILESTAT_GET);
              const rstats = fs2.fstatSync(stats.real);
              this.refreshMemory();
              this.view.setBigUint64(bufPtr, bigint_1.BigIntPolyfill(rstats.dev), true);
              bufPtr += 8;
              this.view.setBigUint64(bufPtr, bigint_1.BigIntPolyfill(rstats.ino), true);
              bufPtr += 8;
              this.view.setUint8(bufPtr, stats.filetype);
              bufPtr += 8;
              this.view.setBigUint64(bufPtr, bigint_1.BigIntPolyfill(rstats.nlink), true);
              bufPtr += 8;
              this.view.setBigUint64(bufPtr, bigint_1.BigIntPolyfill(rstats.size), true);
              bufPtr += 8;
              this.view.setBigUint64(bufPtr, msToNs(rstats.atimeMs), true);
              bufPtr += 8;
              this.view.setBigUint64(bufPtr, msToNs(rstats.mtimeMs), true);
              bufPtr += 8;
              this.view.setBigUint64(bufPtr, msToNs(rstats.ctimeMs), true);
              return constants_1.WASI_ESUCCESS;
            }),
            fd_filestat_set_size: wrap((fd2, stSize) => {
              const stats = CHECK_FD(fd2, constants_1.WASI_RIGHT_FD_FILESTAT_SET_SIZE);
              fs2.ftruncateSync(stats.real, Number(stSize));
              return constants_1.WASI_ESUCCESS;
            }),
            fd_filestat_set_times: wrap((fd2, stAtim, stMtim, fstflags) => {
              const stats = CHECK_FD(fd2, constants_1.WASI_RIGHT_FD_FILESTAT_SET_TIMES);
              const rstats = fs2.fstatSync(stats.real);
              let atim = rstats.atime;
              let mtim = rstats.mtime;
              const n = nsToMs(now(constants_1.WASI_CLOCK_REALTIME));
              const atimflags = constants_1.WASI_FILESTAT_SET_ATIM | constants_1.WASI_FILESTAT_SET_ATIM_NOW;
              if ((fstflags & atimflags) === atimflags) {
                return constants_1.WASI_EINVAL;
              }
              const mtimflags = constants_1.WASI_FILESTAT_SET_MTIM | constants_1.WASI_FILESTAT_SET_MTIM_NOW;
              if ((fstflags & mtimflags) === mtimflags) {
                return constants_1.WASI_EINVAL;
              }
              if ((fstflags & constants_1.WASI_FILESTAT_SET_ATIM) === constants_1.WASI_FILESTAT_SET_ATIM) {
                atim = nsToMs(stAtim);
              } else if ((fstflags & constants_1.WASI_FILESTAT_SET_ATIM_NOW) === constants_1.WASI_FILESTAT_SET_ATIM_NOW) {
                atim = n;
              }
              if ((fstflags & constants_1.WASI_FILESTAT_SET_MTIM) === constants_1.WASI_FILESTAT_SET_MTIM) {
                mtim = nsToMs(stMtim);
              } else if ((fstflags & constants_1.WASI_FILESTAT_SET_MTIM_NOW) === constants_1.WASI_FILESTAT_SET_MTIM_NOW) {
                mtim = n;
              }
              fs2.futimesSync(stats.real, new Date(atim), new Date(mtim));
              return constants_1.WASI_ESUCCESS;
            }),
            fd_prestat_get: wrap((fd2, bufPtr) => {
              const stats = CHECK_FD(fd2, bigint_1.BigIntPolyfill(0));
              if (!stats.path) {
                return constants_1.WASI_EINVAL;
              }
              this.refreshMemory();
              this.view.setUint8(bufPtr, constants_1.WASI_PREOPENTYPE_DIR);
              this.view.setUint32(bufPtr + 4, buffer_1.default.byteLength(stats.fakePath), true);
              return constants_1.WASI_ESUCCESS;
            }),
            fd_prestat_dir_name: wrap((fd2, pathPtr, pathLen) => {
              const stats = CHECK_FD(fd2, bigint_1.BigIntPolyfill(0));
              if (!stats.path) {
                return constants_1.WASI_EINVAL;
              }
              this.refreshMemory();
              buffer_1.default.from(this.memory.buffer).write(stats.fakePath, pathPtr, pathLen, "utf8");
              return constants_1.WASI_ESUCCESS;
            }),
            fd_pwrite: wrap((fd2, iovs, iovsLen, offset, nwritten) => {
              const stats = CHECK_FD(fd2, constants_1.WASI_RIGHT_FD_WRITE | constants_1.WASI_RIGHT_FD_SEEK);
              let written = 0;
              getiovs(iovs, iovsLen).forEach((iov) => {
                let w = 0;
                while (w < iov.byteLength) {
                  w += fs2.writeSync(stats.real, iov, w, iov.byteLength - w, Number(offset) + written + w);
                }
                written += w;
              });
              this.view.setUint32(nwritten, written, true);
              return constants_1.WASI_ESUCCESS;
            }),
            fd_write: wrap((fd2, iovs, iovsLen, nwritten) => {
              const stats = CHECK_FD(fd2, constants_1.WASI_RIGHT_FD_WRITE);
              let written = 0;
              getiovs(iovs, iovsLen).forEach((iov) => {
                let w = 0;
                while (w < iov.byteLength) {
                  const i = fs2.writeSync(stats.real, iov, w, iov.byteLength - w, stats.offset ? Number(stats.offset) : null);
                  if (stats.offset)
                    stats.offset += bigint_1.BigIntPolyfill(i);
                  w += i;
                }
                written += w;
              });
              this.view.setUint32(nwritten, written, true);
              return constants_1.WASI_ESUCCESS;
            }),
            fd_pread: wrap((fd2, iovs, iovsLen, offset, nread) => {
              const stats = CHECK_FD(fd2, constants_1.WASI_RIGHT_FD_READ | constants_1.WASI_RIGHT_FD_SEEK);
              let read = 0;
              outer:
                for (const iov of getiovs(iovs, iovsLen)) {
                  let r = 0;
                  while (r < iov.byteLength) {
                    const length = iov.byteLength - r;
                    const rr = fs2.readSync(stats.real, iov, r, iov.byteLength - r, Number(offset) + read + r);
                    r += rr;
                    read += rr;
                    if (rr === 0 || rr < length) {
                      break outer;
                    }
                  }
                  read += r;
                }
              ;
              this.view.setUint32(nread, read, true);
              return constants_1.WASI_ESUCCESS;
            }),
            fd_read: wrap((fd2, iovs, iovsLen, nread) => {
              const stats = CHECK_FD(fd2, constants_1.WASI_RIGHT_FD_READ);
              const IS_STDIN = stats.real === 0;
              let read = 0;
              outer:
                for (const iov of getiovs(iovs, iovsLen)) {
                  let r = 0;
                  while (r < iov.byteLength) {
                    let length = iov.byteLength - r;
                    let position = IS_STDIN || stats.offset === void 0 ? null : Number(stats.offset);
                    let rr = fs2.readSync(
                      stats.real,
                      // fd
                      iov,
                      // buffer
                      r,
                      // offset
                      length,
                      // length
                      position
                      // position
                    );
                    if (!IS_STDIN) {
                      stats.offset = (stats.offset ? stats.offset : bigint_1.BigIntPolyfill(0)) + bigint_1.BigIntPolyfill(rr);
                    }
                    r += rr;
                    read += rr;
                    if (rr === 0 || rr < length) {
                      break outer;
                    }
                  }
                }
              this.view.setUint32(nread, read, true);
              return constants_1.WASI_ESUCCESS;
            }),
            fd_readdir: wrap((fd2, bufPtr, bufLen, cookie, bufusedPtr) => {
              const stats = CHECK_FD(fd2, constants_1.WASI_RIGHT_FD_READDIR);
              this.refreshMemory();
              const entries = fs2.readdirSync(stats.path, { withFileTypes: true });
              const startPtr = bufPtr;
              for (let i = Number(cookie); i < entries.length; i += 1) {
                const entry = entries[i];
                let nameLength = buffer_1.default.byteLength(entry.name);
                if (bufPtr - startPtr > bufLen) {
                  break;
                }
                this.view.setBigUint64(bufPtr, bigint_1.BigIntPolyfill(i + 1), true);
                bufPtr += 8;
                if (bufPtr - startPtr > bufLen) {
                  break;
                }
                const rstats = fs2.statSync(path2.resolve(stats.path, entry.name));
                this.view.setBigUint64(bufPtr, bigint_1.BigIntPolyfill(rstats.ino), true);
                bufPtr += 8;
                if (bufPtr - startPtr > bufLen) {
                  break;
                }
                this.view.setUint32(bufPtr, nameLength, true);
                bufPtr += 4;
                if (bufPtr - startPtr > bufLen) {
                  break;
                }
                let filetype;
                switch (true) {
                  case rstats.isBlockDevice():
                    filetype = constants_1.WASI_FILETYPE_BLOCK_DEVICE;
                    break;
                  case rstats.isCharacterDevice():
                    filetype = constants_1.WASI_FILETYPE_CHARACTER_DEVICE;
                    break;
                  case rstats.isDirectory():
                    filetype = constants_1.WASI_FILETYPE_DIRECTORY;
                    break;
                  case rstats.isFIFO():
                    filetype = constants_1.WASI_FILETYPE_SOCKET_STREAM;
                    break;
                  case rstats.isFile():
                    filetype = constants_1.WASI_FILETYPE_REGULAR_FILE;
                    break;
                  case rstats.isSocket():
                    filetype = constants_1.WASI_FILETYPE_SOCKET_STREAM;
                    break;
                  case rstats.isSymbolicLink():
                    filetype = constants_1.WASI_FILETYPE_SYMBOLIC_LINK;
                    break;
                  default:
                    filetype = constants_1.WASI_FILETYPE_UNKNOWN;
                    break;
                }
                this.view.setUint8(bufPtr, filetype);
                bufPtr += 1;
                bufPtr += 3;
                if (bufPtr + nameLength >= startPtr + bufLen) {
                  break;
                }
                let memory_buffer = buffer_1.default.from(this.memory.buffer);
                memory_buffer.write(entry.name, bufPtr);
                bufPtr += nameLength;
              }
              const bufused = bufPtr - startPtr;
              this.view.setUint32(bufusedPtr, Math.min(bufused, bufLen), true);
              return constants_1.WASI_ESUCCESS;
            }),
            fd_renumber: wrap((from, to) => {
              CHECK_FD(from, bigint_1.BigIntPolyfill(0));
              CHECK_FD(to, bigint_1.BigIntPolyfill(0));
              fs2.closeSync(this.FD_MAP.get(from).real);
              this.FD_MAP.set(from, this.FD_MAP.get(to));
              this.FD_MAP.delete(to);
              return constants_1.WASI_ESUCCESS;
            }),
            fd_seek: wrap((fd2, offset, whence, newOffsetPtr) => {
              const stats = CHECK_FD(fd2, constants_1.WASI_RIGHT_FD_SEEK);
              this.refreshMemory();
              switch (whence) {
                case constants_1.WASI_WHENCE_CUR:
                  stats.offset = (stats.offset ? stats.offset : bigint_1.BigIntPolyfill(0)) + bigint_1.BigIntPolyfill(offset);
                  break;
                case constants_1.WASI_WHENCE_END:
                  const { size } = fs2.fstatSync(stats.real);
                  stats.offset = bigint_1.BigIntPolyfill(size) + bigint_1.BigIntPolyfill(offset);
                  break;
                case constants_1.WASI_WHENCE_SET:
                  stats.offset = bigint_1.BigIntPolyfill(offset);
                  break;
              }
              this.view.setBigUint64(newOffsetPtr, stats.offset, true);
              return constants_1.WASI_ESUCCESS;
            }),
            fd_tell: wrap((fd2, offsetPtr) => {
              const stats = CHECK_FD(fd2, constants_1.WASI_RIGHT_FD_TELL);
              this.refreshMemory();
              if (!stats.offset) {
                stats.offset = bigint_1.BigIntPolyfill(0);
              }
              this.view.setBigUint64(offsetPtr, stats.offset, true);
              return constants_1.WASI_ESUCCESS;
            }),
            fd_sync: wrap((fd2) => {
              const stats = CHECK_FD(fd2, constants_1.WASI_RIGHT_FD_SYNC);
              fs2.fsyncSync(stats.real);
              return constants_1.WASI_ESUCCESS;
            }),
            path_create_directory: wrap((fd2, pathPtr, pathLen) => {
              const stats = CHECK_FD(fd2, constants_1.WASI_RIGHT_PATH_CREATE_DIRECTORY);
              if (!stats.path) {
                return constants_1.WASI_EINVAL;
              }
              this.refreshMemory();
              const p = buffer_1.default.from(this.memory.buffer, pathPtr, pathLen).toString();
              fs2.mkdirSync(path2.resolve(stats.path, p));
              return constants_1.WASI_ESUCCESS;
            }),
            path_filestat_get: wrap((fd2, flags, pathPtr, pathLen, bufPtr) => {
              const stats = CHECK_FD(fd2, constants_1.WASI_RIGHT_PATH_FILESTAT_GET);
              if (!stats.path) {
                return constants_1.WASI_EINVAL;
              }
              this.refreshMemory();
              const p = buffer_1.default.from(this.memory.buffer, pathPtr, pathLen).toString();
              const rstats = fs2.statSync(path2.resolve(stats.path, p));
              this.view.setBigUint64(bufPtr, bigint_1.BigIntPolyfill(rstats.dev), true);
              bufPtr += 8;
              this.view.setBigUint64(bufPtr, bigint_1.BigIntPolyfill(rstats.ino), true);
              bufPtr += 8;
              this.view.setUint8(bufPtr, translateFileAttributes(this, void 0, rstats).filetype);
              bufPtr += 8;
              this.view.setBigUint64(bufPtr, bigint_1.BigIntPolyfill(rstats.nlink), true);
              bufPtr += 8;
              this.view.setBigUint64(bufPtr, bigint_1.BigIntPolyfill(rstats.size), true);
              bufPtr += 8;
              this.view.setBigUint64(bufPtr, msToNs(rstats.atimeMs), true);
              bufPtr += 8;
              this.view.setBigUint64(bufPtr, msToNs(rstats.mtimeMs), true);
              bufPtr += 8;
              this.view.setBigUint64(bufPtr, msToNs(rstats.ctimeMs), true);
              return constants_1.WASI_ESUCCESS;
            }),
            path_filestat_set_times: wrap((fd2, dirflags, pathPtr, pathLen, stAtim, stMtim, fstflags) => {
              const stats = CHECK_FD(fd2, constants_1.WASI_RIGHT_PATH_FILESTAT_SET_TIMES);
              if (!stats.path) {
                return constants_1.WASI_EINVAL;
              }
              this.refreshMemory();
              const rstats = fs2.fstatSync(stats.real);
              let atim = rstats.atime;
              let mtim = rstats.mtime;
              const n = nsToMs(now(constants_1.WASI_CLOCK_REALTIME));
              const atimflags = constants_1.WASI_FILESTAT_SET_ATIM | constants_1.WASI_FILESTAT_SET_ATIM_NOW;
              if ((fstflags & atimflags) === atimflags) {
                return constants_1.WASI_EINVAL;
              }
              const mtimflags = constants_1.WASI_FILESTAT_SET_MTIM | constants_1.WASI_FILESTAT_SET_MTIM_NOW;
              if ((fstflags & mtimflags) === mtimflags) {
                return constants_1.WASI_EINVAL;
              }
              if ((fstflags & constants_1.WASI_FILESTAT_SET_ATIM) === constants_1.WASI_FILESTAT_SET_ATIM) {
                atim = nsToMs(stAtim);
              } else if ((fstflags & constants_1.WASI_FILESTAT_SET_ATIM_NOW) === constants_1.WASI_FILESTAT_SET_ATIM_NOW) {
                atim = n;
              }
              if ((fstflags & constants_1.WASI_FILESTAT_SET_MTIM) === constants_1.WASI_FILESTAT_SET_MTIM) {
                mtim = nsToMs(stMtim);
              } else if ((fstflags & constants_1.WASI_FILESTAT_SET_MTIM_NOW) === constants_1.WASI_FILESTAT_SET_MTIM_NOW) {
                mtim = n;
              }
              const p = buffer_1.default.from(this.memory.buffer, pathPtr, pathLen).toString();
              fs2.utimesSync(path2.resolve(stats.path, p), new Date(atim), new Date(mtim));
              return constants_1.WASI_ESUCCESS;
            }),
            path_link: wrap((oldFd, oldFlags, oldPath, oldPathLen, newFd, newPath, newPathLen) => {
              const ostats = CHECK_FD(oldFd, constants_1.WASI_RIGHT_PATH_LINK_SOURCE);
              const nstats = CHECK_FD(newFd, constants_1.WASI_RIGHT_PATH_LINK_TARGET);
              if (!ostats.path || !nstats.path) {
                return constants_1.WASI_EINVAL;
              }
              this.refreshMemory();
              const op = buffer_1.default.from(this.memory.buffer, oldPath, oldPathLen).toString();
              const np = buffer_1.default.from(this.memory.buffer, newPath, newPathLen).toString();
              fs2.linkSync(path2.resolve(ostats.path, op), path2.resolve(nstats.path, np));
              return constants_1.WASI_ESUCCESS;
            }),
            path_open: wrap((dirfd, dirflags, pathPtr, pathLen, oflags, fsRightsBase, fsRightsInheriting, fsFlags, fd2) => {
              const stats = CHECK_FD(dirfd, constants_1.WASI_RIGHT_PATH_OPEN);
              fsRightsBase = bigint_1.BigIntPolyfill(fsRightsBase);
              fsRightsInheriting = bigint_1.BigIntPolyfill(fsRightsInheriting);
              const read = (fsRightsBase & (constants_1.WASI_RIGHT_FD_READ | constants_1.WASI_RIGHT_FD_READDIR)) !== bigint_1.BigIntPolyfill(0);
              const write = (fsRightsBase & (constants_1.WASI_RIGHT_FD_DATASYNC | constants_1.WASI_RIGHT_FD_WRITE | constants_1.WASI_RIGHT_FD_ALLOCATE | constants_1.WASI_RIGHT_FD_FILESTAT_SET_SIZE)) !== bigint_1.BigIntPolyfill(0);
              let noflags;
              if (write && read) {
                noflags = fs2.constants.O_RDWR;
              } else if (read) {
                noflags = fs2.constants.O_RDONLY;
              } else if (write) {
                noflags = fs2.constants.O_WRONLY;
              }
              let neededBase = fsRightsBase | constants_1.WASI_RIGHT_PATH_OPEN;
              let neededInheriting = fsRightsBase | fsRightsInheriting;
              if ((oflags & constants_1.WASI_O_CREAT) !== 0) {
                noflags |= fs2.constants.O_CREAT;
                neededBase |= constants_1.WASI_RIGHT_PATH_CREATE_FILE;
              }
              if ((oflags & constants_1.WASI_O_DIRECTORY) !== 0) {
                noflags |= fs2.constants.O_DIRECTORY;
              }
              if ((oflags & constants_1.WASI_O_EXCL) !== 0) {
                noflags |= fs2.constants.O_EXCL;
              }
              if ((oflags & constants_1.WASI_O_TRUNC) !== 0) {
                noflags |= fs2.constants.O_TRUNC;
                neededBase |= constants_1.WASI_RIGHT_PATH_FILESTAT_SET_SIZE;
              }
              if ((fsFlags & constants_1.WASI_FDFLAG_APPEND) !== 0) {
                noflags |= fs2.constants.O_APPEND;
              }
              if ((fsFlags & constants_1.WASI_FDFLAG_DSYNC) !== 0) {
                if (fs2.constants.O_DSYNC) {
                  noflags |= fs2.constants.O_DSYNC;
                } else {
                  noflags |= fs2.constants.O_SYNC;
                }
                neededInheriting |= constants_1.WASI_RIGHT_FD_DATASYNC;
              }
              if ((fsFlags & constants_1.WASI_FDFLAG_NONBLOCK) !== 0) {
                noflags |= fs2.constants.O_NONBLOCK;
              }
              if ((fsFlags & constants_1.WASI_FDFLAG_RSYNC) !== 0) {
                if (fs2.constants.O_RSYNC) {
                  noflags |= fs2.constants.O_RSYNC;
                } else {
                  noflags |= fs2.constants.O_SYNC;
                }
                neededInheriting |= constants_1.WASI_RIGHT_FD_SYNC;
              }
              if ((fsFlags & constants_1.WASI_FDFLAG_SYNC) !== 0) {
                noflags |= fs2.constants.O_SYNC;
                neededInheriting |= constants_1.WASI_RIGHT_FD_SYNC;
              }
              if (write && (noflags & (fs2.constants.O_APPEND | fs2.constants.O_TRUNC)) === 0) {
                neededInheriting |= constants_1.WASI_RIGHT_FD_SEEK;
              }
              this.refreshMemory();
              const p = buffer_1.default.from(this.memory.buffer, pathPtr, pathLen).toString();
              const fullUnresolved = path2.resolve(stats.path, p);
              if (path2.relative(stats.path, fullUnresolved).startsWith("..")) {
                return constants_1.WASI_ENOTCAPABLE;
              }
              let full;
              try {
                full = fs2.realpathSync(fullUnresolved);
                if (path2.relative(stats.path, full).startsWith("..")) {
                  return constants_1.WASI_ENOTCAPABLE;
                }
              } catch (e) {
                if (e.code === "ENOENT") {
                  full = fullUnresolved;
                } else {
                  throw e;
                }
              }
              let isDirectory;
              try {
                isDirectory = fs2.statSync(full).isDirectory();
              } catch (e) {
              }
              let realfd;
              if (!write && isDirectory) {
                realfd = fs2.openSync(full, fs2.constants.O_RDONLY);
              } else {
                realfd = fs2.openSync(full, noflags);
              }
              const newfd = [...this.FD_MAP.keys()].reverse()[0] + 1;
              this.FD_MAP.set(newfd, {
                real: realfd,
                filetype: void 0,
                // offset: BigInt(0),
                rights: {
                  base: neededBase,
                  inheriting: neededInheriting
                },
                path: full
              });
              stat(this, newfd);
              this.view.setUint32(fd2, newfd, true);
              return constants_1.WASI_ESUCCESS;
            }),
            path_readlink: wrap((fd2, pathPtr, pathLen, buf, bufLen, bufused) => {
              const stats = CHECK_FD(fd2, constants_1.WASI_RIGHT_PATH_READLINK);
              if (!stats.path) {
                return constants_1.WASI_EINVAL;
              }
              this.refreshMemory();
              const p = buffer_1.default.from(this.memory.buffer, pathPtr, pathLen).toString();
              const full = path2.resolve(stats.path, p);
              const r = fs2.readlinkSync(full);
              const used = buffer_1.default.from(this.memory.buffer).write(r, buf, bufLen);
              this.view.setUint32(bufused, used, true);
              return constants_1.WASI_ESUCCESS;
            }),
            path_remove_directory: wrap((fd2, pathPtr, pathLen) => {
              const stats = CHECK_FD(fd2, constants_1.WASI_RIGHT_PATH_REMOVE_DIRECTORY);
              if (!stats.path) {
                return constants_1.WASI_EINVAL;
              }
              this.refreshMemory();
              const p = buffer_1.default.from(this.memory.buffer, pathPtr, pathLen).toString();
              fs2.rmdirSync(path2.resolve(stats.path, p));
              return constants_1.WASI_ESUCCESS;
            }),
            path_rename: wrap((oldFd, oldPath, oldPathLen, newFd, newPath, newPathLen) => {
              const ostats = CHECK_FD(oldFd, constants_1.WASI_RIGHT_PATH_RENAME_SOURCE);
              const nstats = CHECK_FD(newFd, constants_1.WASI_RIGHT_PATH_RENAME_TARGET);
              if (!ostats.path || !nstats.path) {
                return constants_1.WASI_EINVAL;
              }
              this.refreshMemory();
              const op = buffer_1.default.from(this.memory.buffer, oldPath, oldPathLen).toString();
              const np = buffer_1.default.from(this.memory.buffer, newPath, newPathLen).toString();
              fs2.renameSync(path2.resolve(ostats.path, op), path2.resolve(nstats.path, np));
              return constants_1.WASI_ESUCCESS;
            }),
            path_symlink: wrap((oldPath, oldPathLen, fd2, newPath, newPathLen) => {
              const stats = CHECK_FD(fd2, constants_1.WASI_RIGHT_PATH_SYMLINK);
              if (!stats.path) {
                return constants_1.WASI_EINVAL;
              }
              this.refreshMemory();
              const op = buffer_1.default.from(this.memory.buffer, oldPath, oldPathLen).toString();
              const np = buffer_1.default.from(this.memory.buffer, newPath, newPathLen).toString();
              fs2.symlinkSync(op, path2.resolve(stats.path, np));
              return constants_1.WASI_ESUCCESS;
            }),
            path_unlink_file: wrap((fd2, pathPtr, pathLen) => {
              const stats = CHECK_FD(fd2, constants_1.WASI_RIGHT_PATH_UNLINK_FILE);
              if (!stats.path) {
                return constants_1.WASI_EINVAL;
              }
              this.refreshMemory();
              const p = buffer_1.default.from(this.memory.buffer, pathPtr, pathLen).toString();
              fs2.unlinkSync(path2.resolve(stats.path, p));
              return constants_1.WASI_ESUCCESS;
            }),
            poll_oneoff: (sin, sout, nsubscriptions, nevents) => {
              let eventc = 0;
              let waitEnd = 0;
              this.refreshMemory();
              for (let i = 0; i < nsubscriptions; i += 1) {
                const userdata = this.view.getBigUint64(sin, true);
                sin += 8;
                const type = this.view.getUint8(sin);
                sin += 1;
                switch (type) {
                  case constants_1.WASI_EVENTTYPE_CLOCK: {
                    sin += 7;
                    const identifier = this.view.getBigUint64(sin, true);
                    sin += 8;
                    const clockid = this.view.getUint32(sin, true);
                    sin += 4;
                    sin += 4;
                    const timestamp = this.view.getBigUint64(sin, true);
                    sin += 8;
                    const precision = this.view.getBigUint64(sin, true);
                    sin += 8;
                    const subclockflags = this.view.getUint16(sin, true);
                    sin += 2;
                    sin += 6;
                    const absolute = subclockflags === 1;
                    let e = constants_1.WASI_ESUCCESS;
                    const n = bigint_1.BigIntPolyfill(now(clockid));
                    if (n === null) {
                      e = constants_1.WASI_EINVAL;
                    } else {
                      const end = absolute ? timestamp : n + timestamp;
                      waitEnd = end > waitEnd ? end : waitEnd;
                    }
                    this.view.setBigUint64(sout, userdata, true);
                    sout += 8;
                    this.view.setUint16(sout, e, true);
                    sout += 2;
                    this.view.setUint8(sout, constants_1.WASI_EVENTTYPE_CLOCK);
                    sout += 1;
                    sout += 5;
                    eventc += 1;
                    break;
                  }
                  case constants_1.WASI_EVENTTYPE_FD_READ:
                  case constants_1.WASI_EVENTTYPE_FD_WRITE: {
                    sin += 3;
                    const fd2 = this.view.getUint32(sin, true);
                    sin += 4;
                    this.view.setBigUint64(sout, userdata, true);
                    sout += 8;
                    this.view.setUint16(sout, constants_1.WASI_ENOSYS, true);
                    sout += 2;
                    this.view.setUint8(sout, type);
                    sout += 1;
                    sout += 5;
                    eventc += 1;
                    break;
                  }
                  default:
                    return constants_1.WASI_EINVAL;
                }
              }
              this.view.setUint32(nevents, eventc, true);
              while (bindings.hrtime() < waitEnd) {
              }
              return constants_1.WASI_ESUCCESS;
            },
            proc_exit: (rval) => {
              bindings.exit(rval);
              return constants_1.WASI_ESUCCESS;
            },
            proc_raise: (sig) => {
              if (!(sig in constants_1.SIGNAL_MAP)) {
                return constants_1.WASI_EINVAL;
              }
              bindings.kill(constants_1.SIGNAL_MAP[sig]);
              return constants_1.WASI_ESUCCESS;
            },
            random_get: (bufPtr, bufLen) => {
              this.refreshMemory();
              bindings.randomFillSync(new Uint8Array(this.memory.buffer), bufPtr, bufLen);
              return constants_1.WASI_ESUCCESS;
            },
            sched_yield() {
              return constants_1.WASI_ESUCCESS;
            },
            sock_recv() {
              return constants_1.WASI_ENOSYS;
            },
            sock_send() {
              return constants_1.WASI_ENOSYS;
            },
            sock_shutdown() {
              return constants_1.WASI_ENOSYS;
            }
          };
          if (wasiConfig.traceSyscalls) {
            Object.keys(this.wasiImport).forEach((key) => {
              const prevImport = this.wasiImport[key];
              this.wasiImport[key] = function(...args2) {
                console.log(`WASI: wasiImport called: ${key} (${args2})`);
                try {
                  let result = prevImport(...args2);
                  console.log(`WASI:  => ${result}`);
                  return result;
                } catch (e) {
                  console.log(`Catched error: ${e}`);
                  throw e;
                }
              };
            });
          }
        }
        refreshMemory() {
          if (!this.view || this.view.buffer.byteLength === 0) {
            this.view = new dataview_1.DataViewPolyfill(this.memory.buffer);
          }
        }
        setMemory(memory) {
          this.memory = memory;
        }
        start(instance) {
          const exports2 = instance.exports;
          if (exports2 === null || typeof exports2 !== "object") {
            throw new Error(`instance.exports must be an Object. Received ${exports2}.`);
          }
          const { memory } = exports2;
          if (!(memory instanceof WebAssembly.Memory)) {
            throw new Error(`instance.exports.memory must be a WebAssembly.Memory. Recceived ${memory}.`);
          }
          this.setMemory(memory);
          if (exports2._start) {
            exports2._start();
          }
        }
        getImportNamespace(module2) {
          let namespace = null;
          for (let imp of WebAssembly.Module.imports(module2)) {
            if (imp.kind !== "function") {
              continue;
            }
            if (!imp.module.startsWith("wasi_")) {
              continue;
            }
            if (!namespace) {
              namespace = imp.module;
            } else {
              if (namespace !== imp.module) {
                throw new Error("Multiple namespaces detected.");
              }
            }
          }
          return namespace;
        }
        getImports(module2) {
          let namespace = this.getImportNamespace(module2);
          switch (namespace) {
            case "wasi_unstable":
              return {
                wasi_unstable: this.wasiImport
              };
            case "wasi_snapshot_preview1":
              return {
                wasi_snapshot_preview1: this.wasiImport
              };
            default:
              throw new Error("Can't detect a WASI namespace for the WebAssembly Module");
          }
        }
      };
      exports.default = WASIDefault;
      WASIDefault.defaultBindings = defaultBindings;
      exports.WASI = WASIDefault;
    }
  });

  // node_modules/@wasmer/wasmfs/lib/node_sync_emit.js
  var require_node_sync_emit = __commonJS({
    "node_modules/@wasmer/wasmfs/lib/node_sync_emit.js"(exports) {
      "use strict";
      init_process_shim();
      init_buffer_shim();
      Object.defineProperty(exports, "__esModule", { value: true });
      var node_1 = require_node();
      node_1.Node.prototype.emit = function(event, ...args) {
        const listeners = this.listeners(event);
        for (let listener of listeners) {
          try {
            listener(...args);
          } catch (e) {
            console.error(e);
          }
        }
        return listeners.length > 0;
      };
    }
  });

  // node_modules/@wasmer/wasmfs/lib/index.js
  var require_lib4 = __commonJS({
    "node_modules/@wasmer/wasmfs/lib/index.js"(exports) {
      "use strict";
      init_process_shim();
      init_buffer_shim();
      Object.defineProperty(exports, "__esModule", { value: true });
      var memfs_1 = require_lib2();
      var volume_1 = require_volume();
      var path_1 = require_path_browserify();
      require_node_sync_emit();
      var assert4 = (cond, message) => {
        if (!cond) {
          throw new Error(message);
        }
      };
      var WasmFsDefault = class {
        constructor() {
          this.volume = new volume_1.Volume();
          this.fs = memfs_1.createFsFromVolume(this.volume);
          this.fromJSON({
            "/dev/stdin": "",
            "/dev/stdout": "",
            "/dev/stderr": ""
          });
        }
        _toJSON(link, json = {}, path2) {
          let isEmpty = true;
          for (const name in link.children) {
            isEmpty = false;
            const child = link.getChild(name);
            if (child) {
              const node = child.getNode();
              if (node && node.isFile()) {
                let filename = child.getPath();
                if (path2)
                  filename = path_1.relative(path2, filename);
                json[filename] = node.getBuffer();
              } else if (node && node.isDirectory()) {
                this._toJSON(child, json, path2);
              }
            }
          }
          let dirPath = link.getPath();
          if (path2)
            dirPath = path_1.relative(path2, dirPath);
          if (dirPath && isEmpty) {
            json[dirPath] = null;
          }
          return json;
        }
        toJSON(paths, json = {}, isRelative = false) {
          const links = [];
          if (paths) {
            if (!(paths instanceof Array))
              paths = [paths];
            for (const path2 of paths) {
              const filename = volume_1.pathToFilename(path2);
              const link = this.volume.getResolvedLink(filename);
              if (!link)
                continue;
              links.push(link);
            }
          } else {
            links.push(this.volume.root);
          }
          if (!links.length)
            return json;
          for (const link of links)
            this._toJSON(link, json, isRelative ? link.getPath() : "");
          return json;
        }
        fromJSONFixed(vol, json) {
          const sep = "/";
          for (let filename in json) {
            const data = json[filename];
            const isDir = data ? Object.getPrototypeOf(data) === null : data === null;
            if (!isDir) {
              const steps = volume_1.filenameToSteps(filename);
              if (steps.length > 1) {
                const dirname = sep + steps.slice(0, steps.length - 1).join(sep);
                vol.mkdirpBase(dirname, 511);
              }
              vol.writeFileSync(filename, data || "");
            } else {
              vol.mkdirpBase(filename, 511);
            }
          }
        }
        fromJSON(fsJson) {
          this.volume = new volume_1.Volume();
          this.fromJSONFixed(this.volume, fsJson);
          this.fs = memfs_1.createFsFromVolume(this.volume);
          this.volume.releasedFds = [0, 1, 2];
          const fdErr = this.volume.openSync("/dev/stderr", "w");
          const fdOut = this.volume.openSync("/dev/stdout", "w");
          const fdIn = this.volume.openSync("/dev/stdin", "r");
          assert4(fdErr === 2, `invalid handle for stderr: ${fdErr}`);
          assert4(fdOut === 1, `invalid handle for stdout: ${fdOut}`);
          assert4(fdIn === 0, `invalid handle for stdin: ${fdIn}`);
        }
        async getStdOut() {
          let promise = new Promise((resolve) => {
            resolve(this.fs.readFileSync("/dev/stdout", "utf8"));
          });
          return promise;
        }
      };
      exports.default = WasmFsDefault;
      exports.WasmFs = WasmFsDefault;
    }
  });

  // node_modules/wasi-kernel/src/kernel/bits/tty.ts
  function bindAll3(instance, methods) {
    return methods.reduce((d, m) => Object.assign(d, { [m]: instance[m].bind(instance) }), {});
  }
  function range(n) {
    return [...Array(n).keys()];
  }
  var import_events4, Tty, TtyIoctls;
  var init_tty = __esm({
    "node_modules/wasi-kernel/src/kernel/bits/tty.ts"() {
      init_process_shim();
      init_buffer_shim();
      import_events4 = __toESM(require_events());
      Tty = class extends import_events4.EventEmitter {
        constructor(core) {
          super();
          this.core = core;
          this.fds = [];
          this.stdin_fl = 0;
          this.termios = {
            flags: [258, 3, 0, 10],
            /* see include/bits/termios.h */
            win: this.defaultWindow()
          };
          this.core.on("stream:out", (ev) => {
            if (this.fds.includes(ev.fd))
              this.emit("data", ev.data);
          });
          this.debug = () => {
          };
        }
        to() {
          return { termios: { win: this.termios.win } };
        }
        makeTty(fd2) {
          this.core.wasi.FD_MAP.get(fd2).filetype = 2;
          this.core.wasi.FD_MAP.get(fd2).rights.base &= ~BigInt(36);
        }
        write(data) {
          this.core.stdin.write(data);
        }
        // ------------------------------
        // Overrides for WASI.wasiImports
        // ------------------------------
        fd_fdstat_set_flags(fd2, flags) {
          this.debug(`fdstat_set_flags(${fd2}, ${flags})
`);
          if (fd2 === 0) {
            this.stdin_fl = flags;
            this.core.stdin.blocking = !(flags & 4);
          }
          return 0;
        }
        fd_fdstat_get(fd2, bufPtr) {
          var ret = this.core.wasi.wasiImport.fd_fdstat_get(fd2, bufPtr);
          if (fd2 === 0) {
            this.core.proc.mem.setUint16(bufPtr + 2, this.stdin_fl, true);
          }
          return ret;
        }
        defaultWindow() {
          var win = new Uint16Array(new SharedArrayBuffer(4));
          win[0] = 24;
          win[1] = 80;
          return win;
        }
        get overrideImport() {
          return bindAll3(this, ["fd_fdstat_get", "fd_fdstat_set_flags"]);
        }
        get import() {
          return bindAll3(this, ["tcgetattr", "tcsetattr", "tgetent"]);
        }
        get extlib() {
          return bindAll3(this, ["tty_ioctl"]);
        }
        // ------------
        // Termois Part
        // ------------
        tcgetattr(fd2, termios_p) {
          this.debug(`tcgetattr(${fd2}, ${termios_p})`);
          let mem = this.core.proc.mem;
          this.termios.flags.forEach((fl2, i) => {
            mem.setUint32(termios_p + 4 * i, fl2, true);
          });
          mem.setUint8(termios_p + 4 * 4 + 1 + 5, 0);
          mem.setUint8(termios_p + 4 * 4 + 1 + 6, 1);
          return 0;
        }
        tcsetattr(fd2, when, termios_p) {
          this.debug(`tcsetattr(${fd2}, ${when}, ${termios_p})`);
          let mem = this.core.proc.mem, flags = range(4).map((i) => mem.getUint32(termios_p + 4 * i, true)), cc = range(32).map((i) => mem.getUint8(termios_p + 4 * 4 + 1 + i));
          this.debug(`  [${flags.map((i) => "0" + i.toString(8)).join(", ")}] [${cc}]`);
          this.termios.flags = flags;
          this.core.stdin.blocking = cc[6] > 0;
          this.core.proc.emit("syscall", {
            func: "ioctl:tty",
            data: { fd: fd2, when, flags }
          });
          return 0;
        }
        tgetent(bp, name) {
          this.debug(`tgetent(_, '${this.core.proc.userGetCString(name)}')`);
          return 1;
        }
        tty_ioctl(fd2, request, buf) {
          console.warn("tty_ioctl", fd2, request, buf);
          if (fd2 == 1) {
            var mem = this.core.proc.mem, win = this.termios.win;
            switch (request) {
              case TtyIoctls.TIOCGWINSZ:
                for (let i = 0; i < win.length; i++)
                  mem.setUint16(buf + 2 * i, win[i], true);
                break;
              case TtyIoctls.TIOCSWINSZ:
                var setting = win.map((_, i) => mem.getUint16(buf + 2 * i));
                this.core.proc.emit("syscall", {
                  func: "ioctl:tty",
                  data: { fd: fd2, request, win: setting }
                });
                break;
            }
          }
        }
      };
      TtyIoctls = /* @__PURE__ */ ((TtyIoctls2) => {
        TtyIoctls2[TtyIoctls2["TCSETFL"] = 1] = "TCSETFL";
        TtyIoctls2[TtyIoctls2["TIOCGWINSZ"] = 21523] = "TIOCGWINSZ";
        TtyIoctls2[TtyIoctls2["TIOCSWINSZ"] = 21524] = "TIOCSWINSZ";
        return TtyIoctls2;
      })(TtyIoctls || {});
    }
  });

  // node_modules/randombytes/browser.js
  var require_browser3 = __commonJS({
    "node_modules/randombytes/browser.js"(exports, module) {
      "use strict";
      init_process_shim();
      init_buffer_shim();
      var MAX_BYTES = 65536;
      var MAX_UINT32 = 4294967295;
      function oldBrowser() {
        throw new Error("Secure random number generation is not supported by this browser.\nUse Chrome, Firefox or Internet Explorer 11");
      }
      var Buffer4 = require_safe_buffer().Buffer;
      var crypto = self.crypto || self.msCrypto;
      if (crypto && crypto.getRandomValues) {
        module.exports = randomBytes;
      } else {
        module.exports = oldBrowser;
      }
      function randomBytes(size, cb) {
        if (size > MAX_UINT32)
          throw new RangeError("requested too many random bytes");
        var bytes = Buffer4.allocUnsafe(size);
        if (size > 0) {
          if (size > MAX_BYTES) {
            for (var generated = 0; generated < size; generated += MAX_BYTES) {
              crypto.getRandomValues(bytes.slice(generated, generated + MAX_BYTES));
            }
          } else {
            crypto.getRandomValues(bytes);
          }
        }
        if (typeof cb === "function") {
          return process.nextTick(function() {
            cb(null, bytes);
          });
        }
        return bytes;
      }
    }
  });

  // node_modules/randomfill/browser.js
  var require_browser4 = __commonJS({
    "node_modules/randomfill/browser.js"(exports) {
      "use strict";
      init_process_shim();
      init_buffer_shim();
      function oldBrowser() {
        throw new Error("secure random number generation not supported by this browser\nuse chrome, FireFox or Internet Explorer 11");
      }
      var safeBuffer = require_safe_buffer();
      var randombytes = require_browser3();
      var Buffer4 = safeBuffer.Buffer;
      var kBufferMaxLength = safeBuffer.kMaxLength;
      var crypto = self.crypto || self.msCrypto;
      var kMaxUint32 = Math.pow(2, 32) - 1;
      function assertOffset(offset, length) {
        if (typeof offset !== "number" || offset !== offset) {
          throw new TypeError("offset must be a number");
        }
        if (offset > kMaxUint32 || offset < 0) {
          throw new TypeError("offset must be a uint32");
        }
        if (offset > kBufferMaxLength || offset > length) {
          throw new RangeError("offset out of range");
        }
      }
      function assertSize(size, offset, length) {
        if (typeof size !== "number" || size !== size) {
          throw new TypeError("size must be a number");
        }
        if (size > kMaxUint32 || size < 0) {
          throw new TypeError("size must be a uint32");
        }
        if (size + offset > length || size > kBufferMaxLength) {
          throw new RangeError("buffer too small");
        }
      }
      if (crypto && crypto.getRandomValues || !process.browser) {
        exports.randomFill = randomFill;
        exports.randomFillSync = randomFillSync;
      } else {
        exports.randomFill = oldBrowser;
        exports.randomFillSync = oldBrowser;
      }
      function randomFill(buf, offset, size, cb) {
        if (!Buffer4.isBuffer(buf) && !(buf instanceof self.Uint8Array)) {
          throw new TypeError('"buf" argument must be a Buffer or Uint8Array');
        }
        if (typeof offset === "function") {
          cb = offset;
          offset = 0;
          size = buf.length;
        } else if (typeof size === "function") {
          cb = size;
          size = buf.length - offset;
        } else if (typeof cb !== "function") {
          throw new TypeError('"cb" argument must be a function');
        }
        assertOffset(offset, buf.length);
        assertSize(size, offset, buf.length);
        return actualFill(buf, offset, size, cb);
      }
      function actualFill(buf, offset, size, cb) {
        if (process.browser) {
          var ourBuf = buf.buffer;
          var uint = new Uint8Array(ourBuf, offset, size);
          crypto.getRandomValues(uint);
          if (cb) {
            process.nextTick(function() {
              cb(null, buf);
            });
            return;
          }
          return buf;
        }
        if (cb) {
          randombytes(size, function(err2, bytes2) {
            if (err2) {
              return cb(err2);
            }
            bytes2.copy(buf, offset);
            cb(null, buf);
          });
          return;
        }
        var bytes = randombytes(size);
        bytes.copy(buf, offset);
        return buf;
      }
      function randomFillSync(buf, offset, size) {
        if (typeof offset === "undefined") {
          offset = 0;
        }
        if (!Buffer4.isBuffer(buf) && !(buf instanceof self.Uint8Array)) {
          throw new TypeError('"buf" argument must be a Buffer or Uint8Array');
        }
        assertOffset(offset, buf.length);
        if (size === void 0)
          size = buf.length - offset;
        assertSize(size, offset, buf.length);
        return actualFill(buf, offset, size);
      }
    }
  });

  // node_modules/@wasmer/wasi/lib/polyfills/browser-hrtime.js
  var require_browser_hrtime = __commonJS({
    "node_modules/@wasmer/wasi/lib/polyfills/browser-hrtime.js"(exports) {
      "use strict";
      init_process_shim();
      init_buffer_shim();
      Object.defineProperty(exports, "__esModule", { value: true });
      var baseNow = Math.floor((Date.now() - performance.now()) * 1e-3);
      function hrtime(previousTimestamp) {
        let clocktime = performance.now() * 1e-3;
        let seconds = Math.floor(clocktime) + baseNow;
        let nanoseconds = Math.floor(clocktime % 1 * 1e9);
        if (previousTimestamp) {
          seconds = seconds - previousTimestamp[0];
          nanoseconds = nanoseconds - previousTimestamp[1];
          if (nanoseconds < 0) {
            seconds--;
            nanoseconds += 1e9;
          }
        }
        return [seconds, nanoseconds];
      }
      exports.default = hrtime;
    }
  });

  // node_modules/@wasmer/wasi/lib/polyfills/hrtime.bigint.js
  var require_hrtime_bigint = __commonJS({
    "node_modules/@wasmer/wasi/lib/polyfills/hrtime.bigint.js"(exports) {
      "use strict";
      init_process_shim();
      init_buffer_shim();
      Object.defineProperty(exports, "__esModule", { value: true });
      var NS_PER_SEC = 1e9;
      var getBigIntHrtime = (nativeHrtime) => {
        return (time) => {
          const diff = nativeHrtime(time);
          return diff[0] * NS_PER_SEC + diff[1];
        };
      };
      exports.default = getBigIntHrtime;
    }
  });

  // node_modules/@wasmer/wasi/lib/bindings/browser.js
  var require_browser5 = __commonJS({
    "node_modules/@wasmer/wasi/lib/bindings/browser.js"(exports) {
      "use strict";
      init_process_shim();
      init_buffer_shim();
      Object.defineProperty(exports, "__esModule", { value: true });
      var randomfill = require_browser4();
      var browser_hrtime_1 = require_browser_hrtime();
      var path2 = require_path_browserify();
      var index_1 = require_lib3();
      var hrtime_bigint_1 = require_hrtime_bigint();
      var bindings = {
        hrtime: hrtime_bigint_1.default(browser_hrtime_1.default),
        exit: (code) => {
          throw new index_1.WASIExitError(code);
        },
        kill: (signal) => {
          throw new index_1.WASIKillError(signal);
        },
        // @ts-ignore
        randomFillSync: randomfill.randomFillSync,
        isTTY: () => true,
        path: path2,
        // Let the user attach the fs at runtime
        fs: null
      };
      exports.default = bindings;
    }
  });

  // (disabled):crypto
  var require_crypto = __commonJS({
    "(disabled):crypto"() {
      init_process_shim();
      init_buffer_shim();
    }
  });

  // (disabled):fs
  var require_fs = __commonJS({
    "(disabled):fs"() {
      init_process_shim();
      init_buffer_shim();
    }
  });

  // (disabled):tty
  var require_tty = __commonJS({
    "(disabled):tty"() {
      init_process_shim();
      init_buffer_shim();
    }
  });

  // node_modules/@wasmer/wasi/lib/bindings/node.js
  var require_node2 = __commonJS({
    "node_modules/@wasmer/wasi/lib/bindings/node.js"(exports) {
      "use strict";
      init_process_shim();
      init_buffer_shim();
      Object.defineProperty(exports, "__esModule", { value: true });
      var crypto = require_crypto();
      var fs2 = require_fs();
      var { isatty: isTTY } = require_tty();
      var path2 = require_path_browserify();
      var hrtime_bigint_1 = require_hrtime_bigint();
      var bigIntHrtime = hrtime_bigint_1.default(process.hrtime);
      if (process.hrtime && process.hrtime.bigint) {
        bigIntHrtime = process.hrtime.bigint;
      }
      var bindings = {
        hrtime: bigIntHrtime,
        exit: (code) => {
          process.exit(code);
        },
        kill: (signal) => {
          process.kill(process.pid, signal);
        },
        randomFillSync: crypto.randomFillSync,
        isTTY,
        fs: fs2,
        path: path2
      };
      exports.default = bindings;
    }
  });

  // node_modules/wasi-kernel/src/kernel/exec.ts
  function memoize(cache, k, f) {
    let v = cache.get(k);
    if (!v) {
      v = f(k);
      cache.set(k, v);
    }
    return v;
  }
  function memoizeMaybe(cache, k, f) {
    return cache ? memoize(cache, k, f) : f(k);
  }
  var import_events5, import_assert2, import_memfs, import_lib, import_lib2, ExecCore, defaults, nop, WASIExitError;
  var init_exec = __esm({
    "node_modules/wasi-kernel/src/kernel/exec.ts"() {
      init_process_shim();
      init_buffer_shim();
      import_events5 = __toESM(require_events());
      import_assert2 = __toESM(require_assert());
      import_memfs = __toESM(require_lib2());
      import_lib = __toESM(require_lib3());
      import_lib2 = __toESM(require_lib4());
      init_streams();
      init_tty();
      init_proc();
      init_stubs();
      init_utf8();
      init_arch();
      import_lib.WASI.defaultBindings = isBrowser ? require_browser5().default : require_node2().default;
      ExecCore = class extends import_events5.EventEmitter {
        constructor(opts = {}) {
          super();
          /* cached binaries */
          this.debug = nop;
          this.trace = { user: nop, syscalls: nop };
          this.opts = opts = Object.assign({}, defaults, opts);
          this.stdin = opts.stdin ? new SimplexStream() : null;
          this.wasmFs = new import_lib2.WasmFs();
          this.populateRootFs();
          this.proc = new Proc(this, opts.proc);
          this.tty = opts.tty ? new Tty(this) : null;
          this.cached = opts.cacheBins !== false ? /* @__PURE__ */ new Map() : null;
          this.init();
        }
        initTraces() {
          if (this.opts.debug) {
            this.debug = this._debugPrint();
            this.trace.user = this._tracePrint();
          }
          if (this.opts.trace?.syscalls) {
            this.trace.syscalls = this._tracePrintAny();
          }
          if (this.tty)
            this.tty.debug = (...a) => this.debug(...a);
          this.proc.debug = (...a) => this.debug(...a);
          stubs_default.debug = this.debug;
        }
        init() {
          this.argv = ["."];
          this.env = this.initialEnv();
          this.wasi = new import_lib.WASI({
            args: this.argv,
            env: this.env,
            bindings: {
              ...import_lib.WASI.defaultBindings,
              exit: (code) => {
                throw new WASIExitError(code);
              },
              fs: this.wasmFs.fs,
              path: this.proc.path
            },
            preopens: { "/": "/" },
            ...this.extraWASIConfig()
          });
          this.exited = false;
          this.registerStdio();
          this.proc.init();
          let tty = this.opts.tty;
          if (tty) {
            var fds = typeof tty == "number" ? [tty] : typeof tty == "boolean" ? [0, 1, 2] : tty;
            this.tty.fds = fds;
            for (let fd2 of fds)
              this.tty.makeTty(fd2);
          }
        }
        configure(opts) {
          Object.assign(this.opts, opts);
        }
        reset() {
          if (this.stdin)
            this.stdin.reset();
          this.init();
        }
        async start(wasmUri, argv, env2) {
          if (this.exited)
            this.reset();
          if (argv)
            this.argv.splice(0, Infinity, ...argv);
          if (env2)
            Object.assign(this.env, env2);
          this.proc.opts = this.opts.proc || {};
          this.initTraces();
          var wamodule = await this.fetchCompile(wasmUri), wainstance = await WebAssembly.instantiate(
            wamodule,
            this.getImports(wamodule)
          );
          this.wasm = { module: wamodule, instance: wainstance };
          try {
            this.wasi.start(this.wasm.instance);
            return 0;
          } catch (e) {
            if (e instanceof WASIExitError)
              return e.code;
            else
              throw e;
          } finally {
            this.exited = true;
          }
        }
        get fs() {
          return this.wasmFs.fs;
        }
        async fetch(uri) {
          if (typeof fetch !== "undefined") {
            const response = await fetch(uri);
            return new Uint8Array(await response.arrayBuffer());
          } else {
            const fs2 = require_fs();
            return (0, fs2.readFileSync)(uri);
          }
        }
        async fetchCompile(uri) {
          return memoizeMaybe(this.cached, uri, async (uri2) => {
            var bytes = await this.fetch(uri2);
            return WebAssembly.compile(bytes);
          });
        }
        /**
         * @todo warn about unresolved symbols such as `__SIG_IGN` that stem
         *    from not linking some wasi-sdk emulation lib (`-lwasi-emulated-signal`).
         */
        getImports(wamodule) {
          return {
            ...this.wasi.getImports(wamodule),
            wasik_ext: { ...this.proc.extlib, ...this.tty?.extlib },
            env: { ...this.proc.import, ...this.tty?.import }
          };
        }
        /**
         * Returns an object that can be shared with a parent thread
         * (via e.g. `Worker.postMessage`) to communicate with this core.
         */
        share() {
          return {
            stdin: this.stdin.to(),
            tty: this.tty.to(),
            sigvec: this.proc.sigvec.to(),
            childq: this.proc.childq.to()
          };
        }
        emitWrite(fd2, buffer2) {
          this.emit("stream:out", { fd: fd2, data: buffer2 });
          return buffer2.length;
        }
        /**
         * Initial environment variables
         */
        initialEnv() {
          return this.opts.env ? Object.assign({}, this.opts.env) : this.defaultEnv();
        }
        defaultEnv() {
          return { PATH: "/bin", PWD: "/home" };
        }
        extraWASIConfig() {
          let o = this.opts;
          return { traceSyscalls: o.trace && o.trace.syscalls };
        }
        registerStdio() {
          var volume = this.wasmFs.volume;
          if (!(volume.fds[0] && volume.fds[1] && volume.fds[2])) {
            volume.releasedFds = [0, 1, 2];
            const fdErr = volume.openSync("/dev/stderr", "w"), fdOut = volume.openSync("/dev/stdout", "w"), fdIn = volume.openSync("/dev/stdin", "r");
            (0, import_assert2.default)(fdIn == 0 && fdOut == 1 && fdErr == 2);
          }
          if (this.stdin)
            volume.fds[0].read = this.stdin.read.bind(this.stdin);
          volume.fds[1].write = (d) => this.emitWrite(1, d);
          volume.fds[2].write = (d) => this.emitWrite(2, d);
        }
        mountFs(volume) {
          volume.fromJSON(this.wasmFs.volume.toJSON());
          this.wasmFs.volume = volume;
          this.wasmFs.fs = (0, import_memfs.createFsFromVolume)(volume);
          this.init();
        }
        /**
         * Bootstrapping filesystem contents
         */
        populateRootFs() {
          this.wasmFs.fs.mkdirSync("/home");
          this.wasmFs.fs.mkdirSync("/bin");
        }
        _debugPrint() {
          return self.process ? (
            /* console is funky in Node worker threads */
            (...args) => this.emitWrite(2, utf8encode(args.join(" ") + "\n"))
          ) : console.log;
        }
        _tracePrint() {
          return self.process ? (
            /* console is funky in Node worker threads */
            (ui8a) => this.emitWrite(2, ui8a)
          ) : (ui8a) => console.warn("[trace]", utf8decode(ui8a), ui8a);
        }
        _tracePrintAny() {
          return self.process ? (
            /* console is funky in Node worker threads */
            (...args) => this.emitWrite(2, utf8encode(args.toString()))
          ) : (...args) => console.warn("[trace]", ...args);
        }
      };
      defaults = { stdin: true };
      nop = () => {
      };
      WASIExitError = class {
        constructor(code) {
          this.code = code;
        }
      };
    }
  });

  // wacoq_worker.ts
  init_process_shim();
  init_buffer_shim();

  // core.ts
  init_process_shim();
  init_buffer_shim();
  var import_events6 = __toESM(require_events());

  // node_modules/fflate/esm/browser.js
  init_process_shim();
  init_buffer_shim();
  var u8 = Uint8Array;
  var u16 = Uint16Array;
  var u32 = Uint32Array;
  var fleb = new u8([
    0,
    0,
    0,
    0,
    0,
    0,
    0,
    0,
    1,
    1,
    1,
    1,
    2,
    2,
    2,
    2,
    3,
    3,
    3,
    3,
    4,
    4,
    4,
    4,
    5,
    5,
    5,
    5,
    0,
    /* unused */
    0,
    0,
    /* impossible */
    0
  ]);
  var fdeb = new u8([
    0,
    0,
    0,
    0,
    1,
    1,
    2,
    2,
    3,
    3,
    4,
    4,
    5,
    5,
    6,
    6,
    7,
    7,
    8,
    8,
    9,
    9,
    10,
    10,
    11,
    11,
    12,
    12,
    13,
    13,
    /* unused */
    0,
    0
  ]);
  var clim = new u8([16, 17, 18, 0, 8, 7, 9, 6, 10, 5, 11, 4, 12, 3, 13, 2, 14, 1, 15]);
  var freb = function(eb, start) {
    var b = new u16(31);
    for (var i = 0; i < 31; ++i) {
      b[i] = start += 1 << eb[i - 1];
    }
    var r = new u32(b[30]);
    for (var i = 1; i < 30; ++i) {
      for (var j = b[i]; j < b[i + 1]; ++j) {
        r[j] = j - b[i] << 5 | i;
      }
    }
    return [b, r];
  };
  var _a = freb(fleb, 2);
  var fl = _a[0];
  var revfl = _a[1];
  fl[28] = 258, revfl[258] = 28;
  var _b = freb(fdeb, 0);
  var fd = _b[0];
  var revfd = _b[1];
  var rev = new u16(32768);
  for (i = 0; i < 32768; ++i) {
    x = (i & 43690) >>> 1 | (i & 21845) << 1;
    x = (x & 52428) >>> 2 | (x & 13107) << 2;
    x = (x & 61680) >>> 4 | (x & 3855) << 4;
    rev[i] = ((x & 65280) >>> 8 | (x & 255) << 8) >>> 1;
  }
  var x;
  var i;
  var hMap = function(cd, mb, r) {
    var s = cd.length;
    var i = 0;
    var l = new u16(mb);
    for (; i < s; ++i) {
      if (cd[i])
        ++l[cd[i] - 1];
    }
    var le = new u16(mb);
    for (i = 0; i < mb; ++i) {
      le[i] = le[i - 1] + l[i - 1] << 1;
    }
    var co;
    if (r) {
      co = new u16(1 << mb);
      var rvb = 15 - mb;
      for (i = 0; i < s; ++i) {
        if (cd[i]) {
          var sv = i << 4 | cd[i];
          var r_1 = mb - cd[i];
          var v = le[cd[i] - 1]++ << r_1;
          for (var m = v | (1 << r_1) - 1; v <= m; ++v) {
            co[rev[v] >>> rvb] = sv;
          }
        }
      }
    } else {
      co = new u16(s);
      for (i = 0; i < s; ++i) {
        if (cd[i]) {
          co[i] = rev[le[cd[i] - 1]++] >>> 15 - cd[i];
        }
      }
    }
    return co;
  };
  var flt = new u8(288);
  for (i = 0; i < 144; ++i)
    flt[i] = 8;
  var i;
  for (i = 144; i < 256; ++i)
    flt[i] = 9;
  var i;
  for (i = 256; i < 280; ++i)
    flt[i] = 7;
  var i;
  for (i = 280; i < 288; ++i)
    flt[i] = 8;
  var i;
  var fdt = new u8(32);
  for (i = 0; i < 32; ++i)
    fdt[i] = 5;
  var i;
  var flrm = /* @__PURE__ */ hMap(flt, 9, 1);
  var fdrm = /* @__PURE__ */ hMap(fdt, 5, 1);
  var max = function(a) {
    var m = a[0];
    for (var i = 1; i < a.length; ++i) {
      if (a[i] > m)
        m = a[i];
    }
    return m;
  };
  var bits = function(d, p, m) {
    var o = p / 8 | 0;
    return (d[o] | d[o + 1] << 8) >> (p & 7) & m;
  };
  var bits16 = function(d, p) {
    var o = p / 8 | 0;
    return (d[o] | d[o + 1] << 8 | d[o + 2] << 16) >> (p & 7);
  };
  var shft = function(p) {
    return (p + 7) / 8 | 0;
  };
  var slc = function(v, s, e) {
    if (s == null || s < 0)
      s = 0;
    if (e == null || e > v.length)
      e = v.length;
    var n = new (v.BYTES_PER_ELEMENT == 2 ? u16 : v.BYTES_PER_ELEMENT == 4 ? u32 : u8)(e - s);
    n.set(v.subarray(s, e));
    return n;
  };
  var ec = [
    "unexpected EOF",
    "invalid block type",
    "invalid length/literal",
    "invalid distance",
    "stream finished",
    "no stream handler",
    ,
    "no callback",
    "invalid UTF-8 data",
    "extra field too long",
    "date not in range 1980-2099",
    "filename too long",
    "stream finishing",
    "invalid zip data"
    // determined by unknown compression method
  ];
  var err = function(ind, msg, nt) {
    var e = new Error(msg || ec[ind]);
    e.code = ind;
    if (Error.captureStackTrace)
      Error.captureStackTrace(e, err);
    if (!nt)
      throw e;
    return e;
  };
  var inflt = function(dat, buf, st) {
    var sl = dat.length;
    if (!sl || st && st.f && !st.l)
      return buf || new u8(0);
    var noBuf = !buf || st;
    var noSt = !st || st.i;
    if (!st)
      st = {};
    if (!buf)
      buf = new u8(sl * 3);
    var cbuf = function(l2) {
      var bl = buf.length;
      if (l2 > bl) {
        var nbuf = new u8(Math.max(bl * 2, l2));
        nbuf.set(buf);
        buf = nbuf;
      }
    };
    var final = st.f || 0, pos = st.p || 0, bt = st.b || 0, lm = st.l, dm = st.d, lbt = st.m, dbt = st.n;
    var tbts = sl * 8;
    do {
      if (!lm) {
        final = bits(dat, pos, 1);
        var type = bits(dat, pos + 1, 3);
        pos += 3;
        if (!type) {
          var s = shft(pos) + 4, l = dat[s - 4] | dat[s - 3] << 8, t = s + l;
          if (t > sl) {
            if (noSt)
              err(0);
            break;
          }
          if (noBuf)
            cbuf(bt + l);
          buf.set(dat.subarray(s, t), bt);
          st.b = bt += l, st.p = pos = t * 8, st.f = final;
          continue;
        } else if (type == 1)
          lm = flrm, dm = fdrm, lbt = 9, dbt = 5;
        else if (type == 2) {
          var hLit = bits(dat, pos, 31) + 257, hcLen = bits(dat, pos + 10, 15) + 4;
          var tl = hLit + bits(dat, pos + 5, 31) + 1;
          pos += 14;
          var ldt = new u8(tl);
          var clt = new u8(19);
          for (var i = 0; i < hcLen; ++i) {
            clt[clim[i]] = bits(dat, pos + i * 3, 7);
          }
          pos += hcLen * 3;
          var clb = max(clt), clbmsk = (1 << clb) - 1;
          var clm = hMap(clt, clb, 1);
          for (var i = 0; i < tl; ) {
            var r = clm[bits(dat, pos, clbmsk)];
            pos += r & 15;
            var s = r >>> 4;
            if (s < 16) {
              ldt[i++] = s;
            } else {
              var c = 0, n = 0;
              if (s == 16)
                n = 3 + bits(dat, pos, 3), pos += 2, c = ldt[i - 1];
              else if (s == 17)
                n = 3 + bits(dat, pos, 7), pos += 3;
              else if (s == 18)
                n = 11 + bits(dat, pos, 127), pos += 7;
              while (n--)
                ldt[i++] = c;
            }
          }
          var lt = ldt.subarray(0, hLit), dt = ldt.subarray(hLit);
          lbt = max(lt);
          dbt = max(dt);
          lm = hMap(lt, lbt, 1);
          dm = hMap(dt, dbt, 1);
        } else
          err(1);
        if (pos > tbts) {
          if (noSt)
            err(0);
          break;
        }
      }
      if (noBuf)
        cbuf(bt + 131072);
      var lms = (1 << lbt) - 1, dms = (1 << dbt) - 1;
      var lpos = pos;
      for (; ; lpos = pos) {
        var c = lm[bits16(dat, pos) & lms], sym = c >>> 4;
        pos += c & 15;
        if (pos > tbts) {
          if (noSt)
            err(0);
          break;
        }
        if (!c)
          err(2);
        if (sym < 256)
          buf[bt++] = sym;
        else if (sym == 256) {
          lpos = pos, lm = null;
          break;
        } else {
          var add = sym - 254;
          if (sym > 264) {
            var i = sym - 257, b = fleb[i];
            add = bits(dat, pos, (1 << b) - 1) + fl[i];
            pos += b;
          }
          var d = dm[bits16(dat, pos) & dms], dsym = d >>> 4;
          if (!d)
            err(3);
          pos += d & 15;
          var dt = fd[dsym];
          if (dsym > 3) {
            var b = fdeb[dsym];
            dt += bits16(dat, pos) & (1 << b) - 1, pos += b;
          }
          if (pos > tbts) {
            if (noSt)
              err(0);
            break;
          }
          if (noBuf)
            cbuf(bt + 131072);
          var end = bt + add;
          for (; bt < end; bt += 4) {
            buf[bt] = buf[bt - dt];
            buf[bt + 1] = buf[bt + 1 - dt];
            buf[bt + 2] = buf[bt + 2 - dt];
            buf[bt + 3] = buf[bt + 3 - dt];
          }
          bt = end;
        }
      }
      st.l = lm, st.p = lpos, st.b = bt, st.f = final;
      if (lm)
        final = 1, st.m = lbt, st.d = dm, st.n = dbt;
    } while (!final);
    return bt == buf.length ? buf : slc(buf, 0, bt);
  };
  var et = /* @__PURE__ */ new u8(0);
  var b2 = function(d, b) {
    return d[b] | d[b + 1] << 8;
  };
  var b4 = function(d, b) {
    return (d[b] | d[b + 1] << 8 | d[b + 2] << 16 | d[b + 3] << 24) >>> 0;
  };
  var b8 = function(d, b) {
    return b4(d, b) + b4(d, b + 4) * 4294967296;
  };
  function inflateSync(data, out) {
    return inflt(data, out);
  }
  var td = typeof TextDecoder != "undefined" && /* @__PURE__ */ new TextDecoder();
  var tds = 0;
  try {
    td.decode(et, { stream: true });
    tds = 1;
  } catch (e) {
  }
  var dutf8 = function(d) {
    for (var r = "", i = 0; ; ) {
      var c = d[i++];
      var eb = (c > 127) + (c > 223) + (c > 239);
      if (i + eb > d.length)
        return [r, slc(d, i - 1)];
      if (!eb)
        r += String.fromCharCode(c);
      else if (eb == 3) {
        c = ((c & 15) << 18 | (d[i++] & 63) << 12 | (d[i++] & 63) << 6 | d[i++] & 63) - 65536, r += String.fromCharCode(55296 | c >> 10, 56320 | c & 1023);
      } else if (eb & 1)
        r += String.fromCharCode((c & 31) << 6 | d[i++] & 63);
      else
        r += String.fromCharCode((c & 15) << 12 | (d[i++] & 63) << 6 | d[i++] & 63);
    }
  };
  function strFromU8(dat, latin1) {
    if (latin1) {
      var r = "";
      for (var i = 0; i < dat.length; i += 16384)
        r += String.fromCharCode.apply(null, dat.subarray(i, i + 16384));
      return r;
    } else if (td)
      return td.decode(dat);
    else {
      var _a2 = dutf8(dat), out = _a2[0], ext = _a2[1];
      if (ext.length)
        err(8);
      return out;
    }
  }
  var slzh = function(d, b) {
    return b + 30 + b2(d, b + 26) + b2(d, b + 28);
  };
  var zh = function(d, b, z) {
    var fnl = b2(d, b + 28), fn = strFromU8(d.subarray(b + 46, b + 46 + fnl), !(b2(d, b + 8) & 2048)), es = b + 46 + fnl, bs = b4(d, b + 20);
    var _a2 = z && bs == 4294967295 ? z64e(d, es) : [bs, b4(d, b + 24), b4(d, b + 42)], sc = _a2[0], su = _a2[1], off = _a2[2];
    return [b2(d, b + 10), sc, su, fn, es + b2(d, b + 30) + b2(d, b + 32), off];
  };
  var z64e = function(d, b) {
    for (; b2(d, b) != 1; b += 4 + b2(d, b + 2))
      ;
    return [b8(d, b + 12), b8(d, b + 4), b8(d, b + 20)];
  };
  function unzipSync(data, opts) {
    var files = {};
    var e = data.length - 22;
    for (; b4(data, e) != 101010256; --e) {
      if (!e || data.length - e > 65558)
        err(13);
    }
    ;
    var c = b2(data, e + 8);
    if (!c)
      return {};
    var o = b4(data, e + 16);
    var z = o == 4294967295 || c == 65535;
    if (z) {
      var ze = b4(data, e - 12);
      z = b4(data, ze) == 101075792;
      if (z) {
        c = b4(data, ze + 32);
        o = b4(data, ze + 48);
      }
    }
    var fltr = opts && opts.filter;
    for (var i = 0; i < c; ++i) {
      var _a2 = zh(data, o, z), c_2 = _a2[0], sc = _a2[1], su = _a2[2], fn = _a2[3], no = _a2[4], off = _a2[5], b = slzh(data, off);
      o = no;
      if (!fltr || fltr({
        name: fn,
        size: sc,
        originalSize: su,
        compression: c_2
      })) {
        if (!c_2)
          files[fn] = slc(data, b, b + sc);
        else if (c_2 == 8)
          files[fn] = inflateSync(data.subarray(b, b + sc), new u8(su));
        else
          err(14, "unknown compression type " + c_2);
      }
    }
    return files;
  }

  // core.ts
  var import_browser_or_node = __toESM(require_lib());

  // ocaml_exec.ts
  init_process_shim();
  init_buffer_shim();

  // node_modules/wasi-kernel/src/kernel/index.ts
  init_process_shim();
  init_buffer_shim();

  // node_modules/wasi-kernel/src/kernel/process.ts
  init_process_shim();
  init_buffer_shim();
  var import_events3 = __toESM(require_events());
  init_streams();
  init_proc();

  // node_modules/wasi-kernel/src/kernel/bindings/workers.ts
  init_process_shim();
  init_buffer_shim();
  init_arch();
  var WorkerImpl;
  var postMessage2;
  var onMessage;
  if (isBrowser) {
    WorkerImpl = self.Worker;
    postMessage2 = self.postMessage;
    onMessage = (handler) => addEventListener("message", handler);
  } else if (isNode) {
    const workerThreads = __require("worker_threads");
    class WorkerAdapter {
      constructor(stringUrl) {
        this.thread = new workerThreads.Worker(stringUrl);
      }
      addEventListener(eventName, handler) {
        this.thread.on(eventName, (ev) => {
          handler({ data: ev });
        });
      }
      postMessage(msg) {
        this.thread.postMessage(msg);
      }
      static onMessage(handler) {
        workerThreads.parentPort.on("message", (ev) => {
          handler({ data: ev });
        });
      }
      static postMessage(msg) {
        workerThreads.parentPort.postMessage(msg);
      }
    }
    WorkerImpl = WorkerAdapter;
    onMessage = WorkerAdapter.onMessage;
    postMessage2 = WorkerAdapter.postMessage;
  }

  // node_modules/wasi-kernel/src/kernel/process.ts
  init_queue();

  // node_modules/wasi-kernel/src/kernel/index.ts
  init_exec();

  // node_modules/wasi-kernel/src/kernel/services/shared-fs.ts
  init_process_shim();
  init_buffer_shim();
  var import_memfs2 = __toESM(require_lib2());
  var import_volume = __toESM(require_volume());
  var import_node = __toESM(require_node());
  var import_assert3 = __toESM(require_assert());
  var ProxyHandlers;
  ((ProxyHandlers2) => {
    class LinkHandler {
      get(link, name) {
        if (name === "children" && link.vol.dev && !link._dirty) {
          link.pull();
        }
        return link[name];
      }
    }
    ProxyHandlers2.LinkHandler = LinkHandler;
    class LinkChildren {
      constructor(link) {
        this.link = link;
      }
      getOwnPropertyDescriptor(children, name) {
        this.link.pull();
        return children.hasOwnProperty(name) ? { configurable: true, enumerable: true } : void 0;
      }
      get(children, name) {
        this.link.pull();
        return children[name];
      }
      set(children, name, value) {
        children[name] = value;
        return true;
      }
    }
    ProxyHandlers2.LinkChildren = LinkChildren;
  })(ProxyHandlers || (ProxyHandlers = {}));

  // ocaml_exec.ts
  var OCamlCAPI;
  ((OCamlCAPI2) => {
    function Val_int(v) {
      return v << 2 | 1;
    }
    OCamlCAPI2.Val_int = Val_int;
    function Val_bool(b) {
      return Val_int(+b);
    }
    OCamlCAPI2.Val_bool = Val_bool;
    function Int_val(v) {
      return v >> 1;
    }
    OCamlCAPI2.Int_val = Int_val;
    function Bool_val(v) {
      return !!Int_val(v);
    }
    OCamlCAPI2.Bool_val = Bool_val;
    OCamlCAPI2.Val_unit = Val_int(0);
    OCamlCAPI2.Val_false = Val_int(0);
    OCamlCAPI2.Val_true = Val_int(1);
  })(OCamlCAPI || (OCamlCAPI = {}));
  var OCamlExecutable = class extends ExecCore {
    constructor(opts) {
      super(opts);
      __publicField(this, "api");
      __publicField(this, "callbacks");
    }
    initialEnv() {
      return {
        ...super.initialEnv(),
        "OCAMLFIND_CONF": "/lib/findlib.conf",
        "COQLIB": "/lib"
      };
    }
    async run(bytecodeFile, args, callbacks = []) {
      var bin = this.opts.binDir || "../bin";
      for (let p of this.preloads())
        await this.proc.dyld.preload(p.name, p.uri, p.reloc);
      await this.start(
        `${bin}/ocamlrun.wasm`,
        ["ocamlrun", bytecodeFile, ...args],
        this.env
      );
      this.api = this.wasm.instance.exports;
      this.callbacks = this._getCallbacks(callbacks);
    }
    preloads() {
      var bin = this.opts.binDir || "../bin";
      return ["dllcamlstr", "dllunix", "dllthreads"].map((b) => ({
        name: `${b}.so`,
        uri: `${bin}/${b}.wasm`,
        reloc: STDLIB_STUBS[b]
      }));
    }
    to_caml_string(s) {
      var bytes = new TextEncoder().encode(s), a = this.api.caml_alloc_string(bytes.length);
      this.proc.membuf.set(bytes, a);
      return a;
    }
    _getCallbacks(names2) {
      var callbacks = {}, x = this.api.malloc(Math.max(...names2.map((s) => s.length)) + 1);
      ;
      for (let name of names2) {
        this.proc.membuf.write(name + "\0", x);
        let closure_f = this.api.caml_named_value(x);
        if (closure_f) {
          callbacks[name] = (arg) => this.api.caml_callback(this.proc.mem.getUint32(closure_f, true), arg);
        }
      }
      this.api.free(x);
      return callbacks;
    }
  };
  var UNIX_STUBBED = [
    "fstat",
    "fsync",
    "strchr",
    "fcntl",
    "ftruncate",
    "getgrnam",
    "gmtime",
    "localtime",
    "mktime",
    "lockf",
    "pwrite",
    "sysconf",
    "mmap",
    "munmap",
    "putenv",
    "rewinddir",
    "select",
    "nanosleep",
    "tcgetattr",
    "tcsetattr",
    "time",
    "truncate"
  ];
  var STDLIB_STUBS = {
    "dllunix": {
      js: mapAllTo(UNIX_STUBBED, () => 0)
    }
  };
  function mapAllTo(keys, value) {
    return Object.fromEntries(keys.map((nm) => [nm, value]));
  }

  // interrupt.ts
  init_process_shim();
  init_buffer_shim();
  var WorkerInterrupts = class {
    constructor() {
      __publicField(this, "debug", false);
      __publicField(this, "vec");
      __publicField(this, "checkpoint", 0);
    }
    setup(vec) {
      console.log("Interrupt Support Enabled (server)");
      this.vec = vec;
    }
    pending() {
      if (this.vec && typeof Atomics !== "undefined") {
        var ld = Atomics.load(this.vec, 0);
        if (ld > this.checkpoint) {
          if (this.debug)
            console.log("Rocq has been interrupted!");
          this.checkpoint = ld;
          return true;
        }
      }
      return false;
    }
  };

  // core.ts
  var IcoqPod = class extends import_events6.EventEmitter {
    constructor(binDir, nmDir, fetchMode = DEFAULT_FETCH_MODE) {
      super();
      __publicField(this, "core");
      __publicField(this, "intr");
      __publicField(this, "binDir");
      __publicField(this, "nmDir");
      __publicField(this, "io");
      binDir = binDir || (fetchMode === "fs" ? "./bin" : "../bin");
      this.binDir = binDir;
      this.nmDir = nmDir ?? "../node_modules";
      let options = {
        stdin: false,
        tty: false,
        binDir: `${nmDir}/ocaml-wasm/bin`,
        debug: false
        // debug: true,
        // trace: { syscalls: true}
      };
      this.core = new OCamlExecutable(options);
      var utf8 = new TextDecoder();
      this.core.on("stream:out", (ev) => console.log(utf8.decode(ev.data)));
      this.io = new IO(fetchMode);
      this.intr = new WorkerInterrupts();
    }
    async findlibStartup() {
      await this.unzip(this.binDir + "core-fs.zip", "/");
    }
    get fs() {
      return this.core.fs;
    }
    async boot() {
      await this.upload(`${this.binDir}/wacoq_worker.bc`, "/lib/icoq.bc");
      await this.findlibStartup();
      await this._preloadStub();
      await this.core.run("/lib/icoq.bc", [], ["wacoq_post", "wacoq_idle"]);
    }
    async upload(fromUri, toPath) {
      var content = await this.io._fetch(fromUri);
      this.putFile(toPath, content);
    }
    loadPackage(uri, refresh = true) {
      return this.loadPackages([uri], refresh);
    }
    async loadPackages(uris, refresh = true) {
      if (typeof uris == "string")
        uris = [uris];
      await Promise.all(uris.map(async (uri) => {
        try {
          await this.unzip(uri, "/");
          this.answer([["LibLoaded", uri]]);
        } catch (e) {
          this.answer([["LibError", uri, e.toString()]]);
          throw e;
        }
      }));
      this.answer([["LoadedPkg", uris]]);
    }
    async loadSources(uri, dirpath) {
      var subdir = dirpath.replace(/[.]|([^/])$/g, "$1/");
      this.unzip(uri, `/src/${subdir}`);
    }
    unzip(uri, dir) {
      return this.io.unzip(
        this._pkgUri(uri),
        (fn, ui8a) => this.putFile(`${dir}/${fn}`, ui8a),
        (p) => this._progress(uri, p)
      );
    }
    _pkgUri(uri) {
      return uri[0] == "+" ? `${this.binDir}/coq/${uri.substring(1)}.coq-pkg` : uri;
    }
    _progress(uri, download) {
      this.emit("progress", { uri, download });
    }
    putFile(filename, content) {
      if (!filename.startsWith("/"))
        filename = `/lib/${filename}`;
      this.fs.mkdirpSync(filename.replace(/[/][^/]+$/, ""));
      this.fs.writeFileSync(filename, content);
    }
    getFile(filename) {
      if (!filename.startsWith("/"))
        filename = `/lib/${filename}`;
      var buf = null;
      try {
        buf = this.fs.readFileSync(filename);
      } catch {
      }
      this.answer([["Got", filename, buf]]);
    }
    command(cmd) {
      switch (cmd[0]) {
        case "LoadPkg":
          this.loadPackages(cmd[1]);
          return;
        case "Put":
          this.putFile(cmd[1], cmd[2]);
          return;
        case "Get":
          this.getFile(cmd[1]);
          return;
        case "InterruptSetup":
          this.intr.setup(cmd[1]);
          return;
      }
      const wacoq_post = this.core.callbacks && this.core.callbacks.wacoq_post;
      if (!wacoq_post)
        return;
      var json = typeof cmd === "string" ? cmd : JSON.stringify(cmd);
      wacoq_post(this.core.to_caml_string(json));
      return;
    }
    idle() {
      const wacoq_idle = this.core.callbacks && this.core.callbacks.wacoq_idle;
      if (!wacoq_idle)
        return;
      wacoq_idle(0);
      return;
    }
    answer(msgs) {
      if (Array.isArray(msgs)) {
        for (let msg of msgs)
          this.emit("message", msg);
      } else {
        this.emit("message", msgs);
      }
    }
    _answer(ptr) {
      var cstr = this.core.proc.userGetCString(ptr);
      this.answer(JSON.parse(cstr));
    }
    _interrupt_pending() {
      return OCamlCAPI.Val_bool(this.intr.pending());
    }
    /**
     * (internal) Initializes the dllcoqrun_stub shared library.
     */
    async _preloadStub() {
      await this.core.proc.dyld.preload(
        "dllzarith.so",
        `${this.nmDir}/@ocaml-wasm/4.12--zarith/bin/dllzarith.wasm`
      );
      await this.core.proc.dyld.preload(
        "dllbase_stubs.so",
        `${this.nmDir}/@ocaml-wasm/4.12--janestreet-base/bin/dllbase_stubs.wasm`
      );
      await this.core.proc.dyld.preload(
        "dllbase_internalhash_types_stubs.so",
        `${this.nmDir}/@ocaml-wasm/4.12--janestreet-base/bin/dllbase_internalhash_types_stubs.wasm`
      );
      await this.core.proc.dyld.preload(
        "dllcoqrun_stubs.so",
        `${this.binDir}/dllcoqrun_stubs.wasm`
      );
      await this.core.proc.dyld.preload(
        "dllcoqperf_stubs.so",
        `${this.binDir}/dllcoqperf_stubs.wasm`
      );
      await this.core.proc.dyld.preload(
        "dllbigstringaf_stubs.so",
        `${this.binDir}/dlllib_stubs.wasm`,
        {
          js: {
            bigstringaf_blit_to_bytes: (vsrc, vsrc_off, vdst, vdst_off, vlen) => {
              console.log("bs_stubs: bigstringaf_blit_to_bytes");
            },
            bigstringaf_blit_to_bigstring: (vsrc, vsrc_off, vdst, vdst_off, vlen) => {
              console.log("bs_stubs: bigstringaf_blit_to_bigstring");
            },
            bigstringaf_blit_from_bytes: (vsrc, vsrc_off, vdst, vdst_off, vlen) => {
              console.log("bs_stubs: bigstringaf_blit_from_bytes");
            },
            bigstringaf_memcmp_bigstring: (vba1, vba1_off, vba2, vba2_off, vlen) => {
              console.log("bs_stubs: bigstringaf_memcmp_bigstring");
            },
            bigstringaf_memcmp_string: (vba, vba_off, vstr, vstr_off, vlen) => {
              console.log("bs_stubs: bigstringaf_memcmp_string");
            },
            bigstringaf_memchr: (vba, vba_off, vchr, vlen) => {
              console.log("bs_stubs: bigstringaf_memchr");
            }
          }
        }
      );
      await this.core.proc.dyld.preload(
        "dlllib_stubs.so",
        `${this.binDir}/dlllib_stubs.wasm`,
        {
          js: {
            wacoq_emit: (s) => this._answer(s),
            interrupt_pending: (_) => this._interrupt_pending(),
            rocq_vm_trap: (u) => console.warn("rocq vm trap!")
          }
        }
      );
    }
  };
  var IO = class {
    constructor(fetchMode) {
      this.fetchMode = fetchMode;
      __publicField(this, "pending", /* @__PURE__ */ new Set());
    }
    async unzip(uri, put, progress) {
      var zip = unzipSync(await this._fetch(uri, progress));
      for (let [filename, data] of Object.entries(zip)) {
        if (data.length > 0)
          put(filename, data);
      }
    }
    async _fetch(uri, progress) {
      if (progress && this.fetchMode === "browser") {
        return this._toU8A(this._fetchWithProgress(uri, progress));
      } else
        return this._fetchSimple(uri);
    }
    async _toU8A(blob) {
      return new Uint8Array(await (await blob).arrayBuffer());
    }
    async _fetchSimple(uri) {
      switch (this.fetchMode) {
        case "browser":
          return new Uint8Array(await (await fetch(uri)).arrayBuffer());
        case "fs":
          const fs2 = require_fs();
          return (0, fs2.readFileSync)(uri);
      }
    }
    // boilerplate
    async _fetchWithProgress(uri, progress) {
      var response = await fetch(uri), total = +response.headers.get("Content-Length") || 1e3, r = response.body.getReader(), chunks = [], downloaded = 0;
      this.pending.add(r);
      try {
        for (; ; ) {
          var { value, done } = await r.read();
          if (done)
            break;
          chunks.push(value);
          downloaded += value.length;
          progress({ total, downloaded });
        }
        return new Blob(chunks);
      } finally {
        this.pending.delete(r);
      }
    }
  };
  var DEFAULT_FETCH_MODE = import_browser_or_node.isBrowser || import_browser_or_node.isWebWorker ? "browser" : "fs";

  // wacoq_worker.ts
  function postMessage3(msg) {
    self.postMessage(msg);
  }
  async function main(baseURI) {
    let binDir = baseURI + "/out/";
    let nmDir = baseURI + "/node_modules/";
    let arr = [];
    const pushMsg = (msg) => {
      arr.push(msg.data);
    };
    addEventListener("message", pushMsg);
    var icoq = new IcoqPod(binDir, nmDir);
    icoq.on("message", postMessage3);
    await icoq.boot();
    arr.forEach((a) => {
      icoq.command(a);
    });
    addEventListener("message", (msg) => {
      icoq.command(msg.data);
    });
    removeEventListener("message", pushMsg);
    setInterval(() => {
      icoq.idle();
    }, 200);
    Object.assign(self, { icoq });
  }
  async function main_get_dir() {
    addEventListener("message", (event) => {
      main(event.data);
    }, { once: true });
  }
  main_get_dir();
})();
/*! Bundled license information:

ieee754/index.js:
  (*! ieee754. BSD-3-Clause License. Feross Aboukhadijeh <https://feross.org/opensource> *)

buffer/index.js:
  (*!
   * The buffer module from node.js, for the browser.
   *
   * @author   Feross Aboukhadijeh <http://feross.org>
   * @license  MIT
   *)

assert/build/internal/util/comparisons.js:
  (*!
   * The buffer module from node.js, for the browser.
   *
   * @author   Feross Aboukhadijeh <feross@feross.org> <http://feross.org>
   * @license  MIT
   *)

safe-buffer/index.js:
  (*! safe-buffer. MIT License. Feross Aboukhadijeh <https://feross.org/opensource> *)
*/
//# sourceMappingURL=data:application/json;base64,ewogICJ2ZXJzaW9uIjogMywKICAic291cmNlcyI6IFsiLi4vc2hpbXMvcHJvY2Vzcy1zaGltLmpzIiwgIi4uL25vZGVfbW9kdWxlcy9iYXNlNjQtanMvaW5kZXguanMiLCAiLi4vbm9kZV9tb2R1bGVzL2llZWU3NTQvaW5kZXguanMiLCAiLi4vbm9kZV9tb2R1bGVzL2lzYXJyYXkvaW5kZXguanMiLCAiLi4vbm9kZV9tb2R1bGVzL2J1ZmZlci9pbmRleC5qcyIsICIuLi9zaGltcy9idWZmZXItc2hpbS5qcyIsICIuLi9ub2RlX21vZHVsZXMvZXZlbnRzL2V2ZW50cy5qcyIsICIuLi9ub2RlX21vZHVsZXMvYnJvd3Nlci1vci1ub2RlL2xpYi9pbmRleC5qcyIsICIuLi9ub2RlX21vZHVsZXMvd2FzaS1rZXJuZWwvc3JjL2tlcm5lbC9iaXRzL3F1ZXVlLnRzIiwgIi4uL25vZGVfbW9kdWxlcy93YXNpLWtlcm5lbC9zcmMva2VybmVsL3N0cmVhbXMudHMiLCAiLi4vbm9kZV9tb2R1bGVzL2hhcy1zeW1ib2xzL3NoYW1zLmpzIiwgIi4uL25vZGVfbW9kdWxlcy9oYXMtdG9zdHJpbmd0YWcvc2hhbXMuanMiLCAiLi4vbm9kZV9tb2R1bGVzL2VzLW9iamVjdC1hdG9tcy9pbmRleC5qcyIsICIuLi9ub2RlX21vZHVsZXMvZXMtZXJyb3JzL2luZGV4LmpzIiwgIi4uL25vZGVfbW9kdWxlcy9lcy1lcnJvcnMvZXZhbC5qcyIsICIuLi9ub2RlX21vZHVsZXMvZXMtZXJyb3JzL3JhbmdlLmpzIiwgIi4uL25vZGVfbW9kdWxlcy9lcy1lcnJvcnMvcmVmLmpzIiwgIi4uL25vZGVfbW9kdWxlcy9lcy1lcnJvcnMvc3ludGF4LmpzIiwgIi4uL25vZGVfbW9kdWxlcy9lcy1lcnJvcnMvdHlwZS5qcyIsICIuLi9ub2RlX21vZHVsZXMvZXMtZXJyb3JzL3VyaS5qcyIsICIuLi9ub2RlX21vZHVsZXMvbWF0aC1pbnRyaW5zaWNzL2Ficy5qcyIsICIuLi9ub2RlX21vZHVsZXMvbWF0aC1pbnRyaW5zaWNzL2Zsb29yLmpzIiwgIi4uL25vZGVfbW9kdWxlcy9tYXRoLWludHJpbnNpY3MvbWF4LmpzIiwgIi4uL25vZGVfbW9kdWxlcy9tYXRoLWludHJpbnNpY3MvbWluLmpzIiwgIi4uL25vZGVfbW9kdWxlcy9tYXRoLWludHJpbnNpY3MvcG93LmpzIiwgIi4uL25vZGVfbW9kdWxlcy9tYXRoLWludHJpbnNpY3Mvcm91bmQuanMiLCAiLi4vbm9kZV9tb2R1bGVzL21hdGgtaW50cmluc2ljcy9pc05hTi5qcyIsICIuLi9ub2RlX21vZHVsZXMvbWF0aC1pbnRyaW5zaWNzL3NpZ24uanMiLCAiLi4vbm9kZV9tb2R1bGVzL2dvcGQvZ09QRC5qcyIsICIuLi9ub2RlX21vZHVsZXMvZ29wZC9pbmRleC5qcyIsICIuLi9ub2RlX21vZHVsZXMvZXMtZGVmaW5lLXByb3BlcnR5L2luZGV4LmpzIiwgIi4uL25vZGVfbW9kdWxlcy9oYXMtc3ltYm9scy9pbmRleC5qcyIsICIuLi9ub2RlX21vZHVsZXMvZ2V0LXByb3RvL1JlZmxlY3QuZ2V0UHJvdG90eXBlT2YuanMiLCAiLi4vbm9kZV9tb2R1bGVzL2dldC1wcm90by9PYmplY3QuZ2V0UHJvdG90eXBlT2YuanMiLCAiLi4vbm9kZV9tb2R1bGVzL2Z1bmN0aW9uLWJpbmQvaW1wbGVtZW50YXRpb24uanMiLCAiLi4vbm9kZV9tb2R1bGVzL2Z1bmN0aW9uLWJpbmQvaW5kZXguanMiLCAiLi4vbm9kZV9tb2R1bGVzL2NhbGwtYmluZC1hcHBseS1oZWxwZXJzL2Z1bmN0aW9uQ2FsbC5qcyIsICIuLi9ub2RlX21vZHVsZXMvY2FsbC1iaW5kLWFwcGx5LWhlbHBlcnMvZnVuY3Rpb25BcHBseS5qcyIsICIuLi9ub2RlX21vZHVsZXMvY2FsbC1iaW5kLWFwcGx5LWhlbHBlcnMvcmVmbGVjdEFwcGx5LmpzIiwgIi4uL25vZGVfbW9kdWxlcy9jYWxsLWJpbmQtYXBwbHktaGVscGVycy9hY3R1YWxBcHBseS5qcyIsICIuLi9ub2RlX21vZHVsZXMvY2FsbC1iaW5kLWFwcGx5LWhlbHBlcnMvaW5kZXguanMiLCAiLi4vbm9kZV9tb2R1bGVzL2R1bmRlci1wcm90by9nZXQuanMiLCAiLi4vbm9kZV9tb2R1bGVzL2dldC1wcm90by9pbmRleC5qcyIsICIuLi9ub2RlX21vZHVsZXMvaGFzb3duL2luZGV4LmpzIiwgIi4uL25vZGVfbW9kdWxlcy9nZXQtaW50cmluc2ljL2luZGV4LmpzIiwgIi4uL25vZGVfbW9kdWxlcy9jYWxsLWJvdW5kL2luZGV4LmpzIiwgIi4uL25vZGVfbW9kdWxlcy9pcy1hcmd1bWVudHMvaW5kZXguanMiLCAiLi4vbm9kZV9tb2R1bGVzL2lzLXJlZ2V4L2luZGV4LmpzIiwgIi4uL25vZGVfbW9kdWxlcy9zYWZlLXJlZ2V4LXRlc3QvaW5kZXguanMiLCAiLi4vbm9kZV9tb2R1bGVzL2lzLWdlbmVyYXRvci1mdW5jdGlvbi9pbmRleC5qcyIsICIuLi9ub2RlX21vZHVsZXMvaXMtY2FsbGFibGUvaW5kZXguanMiLCAiLi4vbm9kZV9tb2R1bGVzL2Zvci1lYWNoL2luZGV4LmpzIiwgIi4uL25vZGVfbW9kdWxlcy9wb3NzaWJsZS10eXBlZC1hcnJheS1uYW1lcy9pbmRleC5qcyIsICIuLi9ub2RlX21vZHVsZXMvYXZhaWxhYmxlLXR5cGVkLWFycmF5cy9pbmRleC5qcyIsICIuLi9ub2RlX21vZHVsZXMvZGVmaW5lLWRhdGEtcHJvcGVydHkvaW5kZXguanMiLCAiLi4vbm9kZV9tb2R1bGVzL2hhcy1wcm9wZXJ0eS1kZXNjcmlwdG9ycy9pbmRleC5qcyIsICIuLi9ub2RlX21vZHVsZXMvc2V0LWZ1bmN0aW9uLWxlbmd0aC9pbmRleC5qcyIsICIuLi9ub2RlX21vZHVsZXMvY2FsbC1iaW5kLWFwcGx5LWhlbHBlcnMvYXBwbHlCaW5kLmpzIiwgIi4uL25vZGVfbW9kdWxlcy9jYWxsLWJpbmQvaW5kZXguanMiLCAiLi4vbm9kZV9tb2R1bGVzL3doaWNoLXR5cGVkLWFycmF5L2luZGV4LmpzIiwgIi4uL25vZGVfbW9kdWxlcy9pcy10eXBlZC1hcnJheS9pbmRleC5qcyIsICIuLi9ub2RlX21vZHVsZXMvdXRpbC9zdXBwb3J0L3R5cGVzLmpzIiwgIi4uL25vZGVfbW9kdWxlcy91dGlsL3N1cHBvcnQvaXNCdWZmZXJCcm93c2VyLmpzIiwgIi4uL25vZGVfbW9kdWxlcy9pbmhlcml0cy9pbmhlcml0c19icm93c2VyLmpzIiwgIi4uL25vZGVfbW9kdWxlcy91dGlsL3V0aWwuanMiLCAiLi4vbm9kZV9tb2R1bGVzL2Fzc2VydC9idWlsZC9pbnRlcm5hbC9lcnJvcnMuanMiLCAiLi4vbm9kZV9tb2R1bGVzL2Fzc2VydC9idWlsZC9pbnRlcm5hbC9hc3NlcnQvYXNzZXJ0aW9uX2Vycm9yLmpzIiwgIi4uL25vZGVfbW9kdWxlcy9vYmplY3Qta2V5cy9pc0FyZ3VtZW50cy5qcyIsICIuLi9ub2RlX21vZHVsZXMvb2JqZWN0LWtleXMvaW1wbGVtZW50YXRpb24uanMiLCAiLi4vbm9kZV9tb2R1bGVzL29iamVjdC1rZXlzL2luZGV4LmpzIiwgIi4uL25vZGVfbW9kdWxlcy9vYmplY3QuYXNzaWduL2ltcGxlbWVudGF0aW9uLmpzIiwgIi4uL25vZGVfbW9kdWxlcy9vYmplY3QuYXNzaWduL3BvbHlmaWxsLmpzIiwgIi4uL25vZGVfbW9kdWxlcy9vYmplY3QtaXMvaW1wbGVtZW50YXRpb24uanMiLCAiLi4vbm9kZV9tb2R1bGVzL29iamVjdC1pcy9wb2x5ZmlsbC5qcyIsICIuLi9ub2RlX21vZHVsZXMvY2FsbC1iaW5kL2NhbGxCb3VuZC5qcyIsICIuLi9ub2RlX21vZHVsZXMvZGVmaW5lLXByb3BlcnRpZXMvaW5kZXguanMiLCAiLi4vbm9kZV9tb2R1bGVzL29iamVjdC1pcy9zaGltLmpzIiwgIi4uL25vZGVfbW9kdWxlcy9vYmplY3QtaXMvaW5kZXguanMiLCAiLi4vbm9kZV9tb2R1bGVzL2lzLW5hbi9pbXBsZW1lbnRhdGlvbi5qcyIsICIuLi9ub2RlX21vZHVsZXMvaXMtbmFuL3BvbHlmaWxsLmpzIiwgIi4uL25vZGVfbW9kdWxlcy9pcy1uYW4vc2hpbS5qcyIsICIuLi9ub2RlX21vZHVsZXMvaXMtbmFuL2luZGV4LmpzIiwgIi4uL25vZGVfbW9kdWxlcy9hc3NlcnQvYnVpbGQvaW50ZXJuYWwvdXRpbC9jb21wYXJpc29ucy5qcyIsICIuLi9ub2RlX21vZHVsZXMvYXNzZXJ0L2J1aWxkL2Fzc2VydC5qcyIsICIuLi9ub2RlX21vZHVsZXMvcGF0aC1icm93c2VyaWZ5L2luZGV4LmpzIiwgIi4uL25vZGVfbW9kdWxlcy9Ad2FzbWVyL3dhc2kvbGliL3BvbHlmaWxscy9iaWdpbnQuanMiLCAiLi4vbm9kZV9tb2R1bGVzL0B3YXNtZXIvd2FzaS9saWIvY29uc3RhbnRzLmpzIiwgIi4uL25vZGVfbW9kdWxlcy93YXNpLWtlcm5lbC9zcmMva2VybmVsL2JpdHMvc3R1YnMudHMiLCAiLi4vbm9kZV9tb2R1bGVzL3dhc2kta2VybmVsL3NyYy9rZXJuZWwvYml0cy9hdXRvZ2VuL2RlbGVnYXRpb24udHMiLCAiLi4vbm9kZV9tb2R1bGVzL3dhc2kta2VybmVsL3NyYy9rZXJuZWwvYml0cy9keWxkLnRzIiwgIi4uL25vZGVfbW9kdWxlcy93YXNpLWtlcm5lbC9zcmMva2VybmVsL2JpdHMvZnMudHMiLCAiLi4vbm9kZV9tb2R1bGVzL3dhc2kta2VybmVsL3NyYy9rZXJuZWwvYmluZGluZ3MvdXRmOC50cyIsICIuLi9ub2RlX21vZHVsZXMvd2FzaS1rZXJuZWwvc3JjL2tlcm5lbC9iaXRzL3Byb2MudHMiLCAiLi4vbm9kZV9tb2R1bGVzL3dhc2kta2VybmVsL3NyYy9pbmZyYS9hcmNoLnRzIiwgIi4uL25vZGVfbW9kdWxlcy9tZW1mcy9saWIvY29uc3RhbnRzLmpzIiwgIi4uL25vZGVfbW9kdWxlcy9tZW1mcy9saWIvZ2V0QmlnSW50LmpzIiwgIi4uL25vZGVfbW9kdWxlcy9tZW1mcy9saWIvU3RhdHMuanMiLCAiLi4vbm9kZV9tb2R1bGVzL21lbWZzL2xpYi9pbnRlcm5hbC9idWZmZXIuanMiLCAiLi4vbm9kZV9tb2R1bGVzL21lbWZzL2xpYi9pbnRlcm5hbC9lcnJvcnMuanMiLCAiLi4vbm9kZV9tb2R1bGVzL21lbWZzL2xpYi9lbmNvZGluZy5qcyIsICIuLi9ub2RlX21vZHVsZXMvbWVtZnMvbGliL0RpcmVudC5qcyIsICIuLi9ub2RlX21vZHVsZXMvcHJvY2Vzcy9icm93c2VyLmpzIiwgIi4uL25vZGVfbW9kdWxlcy9tZW1mcy9saWIvc2V0SW1tZWRpYXRlLmpzIiwgIi4uL25vZGVfbW9kdWxlcy9tZW1mcy9saWIvcHJvY2Vzcy5qcyIsICIuLi9ub2RlX21vZHVsZXMvbWVtZnMvbGliL25vZGUuanMiLCAiLi4vbm9kZV9tb2R1bGVzL21lbWZzL2xpYi9zZXRUaW1lb3V0VW5yZWYuanMiLCAiLi4vbm9kZV9tb2R1bGVzL3JlYWRhYmxlLXN0cmVhbS9saWIvaW50ZXJuYWwvc3RyZWFtcy9zdHJlYW0tYnJvd3Nlci5qcyIsICIuLi9ub2RlX21vZHVsZXMvcmVhZGFibGUtc3RyZWFtL2xpYi9pbnRlcm5hbC9zdHJlYW1zL2J1ZmZlcl9saXN0LmpzIiwgIi4uL25vZGVfbW9kdWxlcy9yZWFkYWJsZS1zdHJlYW0vbGliL2ludGVybmFsL3N0cmVhbXMvZGVzdHJveS5qcyIsICIuLi9ub2RlX21vZHVsZXMvcmVhZGFibGUtc3RyZWFtL2Vycm9ycy1icm93c2VyLmpzIiwgIi4uL25vZGVfbW9kdWxlcy9yZWFkYWJsZS1zdHJlYW0vbGliL2ludGVybmFsL3N0cmVhbXMvc3RhdGUuanMiLCAiLi4vbm9kZV9tb2R1bGVzL3V0aWwtZGVwcmVjYXRlL2Jyb3dzZXIuanMiLCAiLi4vbm9kZV9tb2R1bGVzL3JlYWRhYmxlLXN0cmVhbS9saWIvX3N0cmVhbV93cml0YWJsZS5qcyIsICIuLi9ub2RlX21vZHVsZXMvcmVhZGFibGUtc3RyZWFtL2xpYi9fc3RyZWFtX2R1cGxleC5qcyIsICIuLi9ub2RlX21vZHVsZXMvc2FmZS1idWZmZXIvaW5kZXguanMiLCAiLi4vbm9kZV9tb2R1bGVzL3N0cmluZ19kZWNvZGVyL2xpYi9zdHJpbmdfZGVjb2Rlci5qcyIsICIuLi9ub2RlX21vZHVsZXMvcmVhZGFibGUtc3RyZWFtL2xpYi9pbnRlcm5hbC9zdHJlYW1zL2VuZC1vZi1zdHJlYW0uanMiLCAiLi4vbm9kZV9tb2R1bGVzL3JlYWRhYmxlLXN0cmVhbS9saWIvaW50ZXJuYWwvc3RyZWFtcy9hc3luY19pdGVyYXRvci5qcyIsICIuLi9ub2RlX21vZHVsZXMvcmVhZGFibGUtc3RyZWFtL2xpYi9pbnRlcm5hbC9zdHJlYW1zL2Zyb20tYnJvd3Nlci5qcyIsICIuLi9ub2RlX21vZHVsZXMvcmVhZGFibGUtc3RyZWFtL2xpYi9fc3RyZWFtX3JlYWRhYmxlLmpzIiwgIi4uL25vZGVfbW9kdWxlcy9yZWFkYWJsZS1zdHJlYW0vbGliL19zdHJlYW1fdHJhbnNmb3JtLmpzIiwgIi4uL25vZGVfbW9kdWxlcy9yZWFkYWJsZS1zdHJlYW0vbGliL19zdHJlYW1fcGFzc3Rocm91Z2guanMiLCAiLi4vbm9kZV9tb2R1bGVzL3JlYWRhYmxlLXN0cmVhbS9saWIvaW50ZXJuYWwvc3RyZWFtcy9waXBlbGluZS5qcyIsICIuLi9ub2RlX21vZHVsZXMvc3RyZWFtLWJyb3dzZXJpZnkvaW5kZXguanMiLCAiLi4vbm9kZV9tb2R1bGVzL2Zhc3QtZXh0ZW5kL2luZGV4LmpzIiwgIi4uL25vZGVfbW9kdWxlcy9tZW1mcy9saWIvcHJvbWlzZXMuanMiLCAiLi4vbm9kZV9tb2R1bGVzL2ZzLW1vbmtleS9saWIvY29ycmVjdFBhdGguanMiLCAiLi4vbm9kZV9tb2R1bGVzL21lbWZzL2xpYi92b2x1bWUuanMiLCAiLi4vbm9kZV9tb2R1bGVzL2ZzLW1vbmtleS9saWIvdXRpbC9saXN0cy5qcyIsICIuLi9ub2RlX21vZHVsZXMvbWVtZnMvbGliL2luZGV4LmpzIiwgIi4uL25vZGVfbW9kdWxlcy9Ad2FzbWVyL3dhc2kvbGliL3BvbHlmaWxscy9kYXRhdmlldy5qcyIsICIuLi9ub2RlX21vZHVsZXMvQHdhc21lci93YXNpL2xpYi9wb2x5ZmlsbHMvYnVmZmVyLmpzIiwgIi4uL25vZGVfbW9kdWxlcy9Ad2FzbWVyL3dhc2kvbGliL2luZGV4LmpzIiwgIi4uL25vZGVfbW9kdWxlcy9Ad2FzbWVyL3dhc21mcy9saWIvbm9kZV9zeW5jX2VtaXQuanMiLCAiLi4vbm9kZV9tb2R1bGVzL0B3YXNtZXIvd2FzbWZzL2xpYi9pbmRleC5qcyIsICIuLi9ub2RlX21vZHVsZXMvd2FzaS1rZXJuZWwvc3JjL2tlcm5lbC9iaXRzL3R0eS50cyIsICIuLi9ub2RlX21vZHVsZXMvcmFuZG9tYnl0ZXMvYnJvd3Nlci5qcyIsICIuLi9ub2RlX21vZHVsZXMvcmFuZG9tZmlsbC9icm93c2VyLmpzIiwgIi4uL25vZGVfbW9kdWxlcy9Ad2FzbWVyL3dhc2kvbGliL3BvbHlmaWxscy9icm93c2VyLWhydGltZS5qcyIsICIuLi9ub2RlX21vZHVsZXMvQHdhc21lci93YXNpL2xpYi9wb2x5ZmlsbHMvaHJ0aW1lLmJpZ2ludC5qcyIsICIuLi9ub2RlX21vZHVsZXMvQHdhc21lci93YXNpL2xpYi9iaW5kaW5ncy9icm93c2VyLmpzIiwgIi4uL25vZGVfbW9kdWxlcy9Ad2FzbWVyL3dhc2kvbGliL2JpbmRpbmdzL25vZGUuanMiLCAiLi4vbm9kZV9tb2R1bGVzL3dhc2kta2VybmVsL3NyYy9rZXJuZWwvZXhlYy50cyIsICIuLi93YWNvcV93b3JrZXIudHMiLCAiLi4vY29yZS50cyIsICIuLi9ub2RlX21vZHVsZXMvZmZsYXRlL2VzbS9icm93c2VyLmpzIiwgIi4uL29jYW1sX2V4ZWMudHMiLCAiLi4vbm9kZV9tb2R1bGVzL3dhc2kta2VybmVsL3NyYy9rZXJuZWwvaW5kZXgudHMiLCAiLi4vbm9kZV9tb2R1bGVzL3dhc2kta2VybmVsL3NyYy9rZXJuZWwvcHJvY2Vzcy50cyIsICIuLi9ub2RlX21vZHVsZXMvd2FzaS1rZXJuZWwvc3JjL2tlcm5lbC9iaW5kaW5ncy93b3JrZXJzLnRzIiwgIi4uL25vZGVfbW9kdWxlcy93YXNpLWtlcm5lbC9zcmMva2VybmVsL3NlcnZpY2VzL3NoYXJlZC1mcy50cyIsICIuLi9pbnRlcnJ1cHQudHMiXSwKICAic291cmNlc0NvbnRlbnQiOiBbImNvbnN0IGJyb3dzZXIgPSB0cnVlXG5jb25zdCBlbnYgPSB7fVxuY29uc3QgY3dkID0gKCkgPT4gXCIvXCI7XG5cbi8vIERvZXNuJ3Qgd29yayBvbiBjb3EtbHNwIHNldHVwLCBpdCBkb2VzIG9uIGpzQ29xJ3Ncbi8vXG4vLyBleHBvcnQgeyBicm93c2VyIGFzICdwcm9jZXNzLmJyb3dzZXInLCBlbnYgYXMgJ3Byb2Nlc3MuZW52JywgY3dkIGFzICdwcm9jZXNzLmN3ZCcgfVxuXG4vLyBXb3JraW5nIGFsdGVybmF0aXZlXG5leHBvcnQgY29uc3QgcHJvY2VzcyA9IHtcbiAgYnJvd3NlcixcbiAgZW52LFxuICBjd2Rcbn07XG4iLCAiJ3VzZSBzdHJpY3QnXG5cbmV4cG9ydHMuYnl0ZUxlbmd0aCA9IGJ5dGVMZW5ndGhcbmV4cG9ydHMudG9CeXRlQXJyYXkgPSB0b0J5dGVBcnJheVxuZXhwb3J0cy5mcm9tQnl0ZUFycmF5ID0gZnJvbUJ5dGVBcnJheVxuXG52YXIgbG9va3VwID0gW11cbnZhciByZXZMb29rdXAgPSBbXVxudmFyIEFyciA9IHR5cGVvZiBVaW50OEFycmF5ICE9PSAndW5kZWZpbmVkJyA/IFVpbnQ4QXJyYXkgOiBBcnJheVxuXG52YXIgY29kZSA9ICdBQkNERUZHSElKS0xNTk9QUVJTVFVWV1hZWmFiY2RlZmdoaWprbG1ub3BxcnN0dXZ3eHl6MDEyMzQ1Njc4OSsvJ1xuZm9yICh2YXIgaSA9IDAsIGxlbiA9IGNvZGUubGVuZ3RoOyBpIDwgbGVuOyArK2kpIHtcbiAgbG9va3VwW2ldID0gY29kZVtpXVxuICByZXZMb29rdXBbY29kZS5jaGFyQ29kZUF0KGkpXSA9IGlcbn1cblxuLy8gU3VwcG9ydCBkZWNvZGluZyBVUkwtc2FmZSBiYXNlNjQgc3RyaW5ncywgYXMgTm9kZS5qcyBkb2VzLlxuLy8gU2VlOiBodHRwczovL2VuLndpa2lwZWRpYS5vcmcvd2lraS9CYXNlNjQjVVJMX2FwcGxpY2F0aW9uc1xucmV2TG9va3VwWyctJy5jaGFyQ29kZUF0KDApXSA9IDYyXG5yZXZMb29rdXBbJ18nLmNoYXJDb2RlQXQoMCldID0gNjNcblxuZnVuY3Rpb24gZ2V0TGVucyAoYjY0KSB7XG4gIHZhciBsZW4gPSBiNjQubGVuZ3RoXG5cbiAgaWYgKGxlbiAlIDQgPiAwKSB7XG4gICAgdGhyb3cgbmV3IEVycm9yKCdJbnZhbGlkIHN0cmluZy4gTGVuZ3RoIG11c3QgYmUgYSBtdWx0aXBsZSBvZiA0JylcbiAgfVxuXG4gIC8vIFRyaW0gb2ZmIGV4dHJhIGJ5dGVzIGFmdGVyIHBsYWNlaG9sZGVyIGJ5dGVzIGFyZSBmb3VuZFxuICAvLyBTZWU6IGh0dHBzOi8vZ2l0aHViLmNvbS9iZWF0Z2FtbWl0L2Jhc2U2NC1qcy9pc3N1ZXMvNDJcbiAgdmFyIHZhbGlkTGVuID0gYjY0LmluZGV4T2YoJz0nKVxuICBpZiAodmFsaWRMZW4gPT09IC0xKSB2YWxpZExlbiA9IGxlblxuXG4gIHZhciBwbGFjZUhvbGRlcnNMZW4gPSB2YWxpZExlbiA9PT0gbGVuXG4gICAgPyAwXG4gICAgOiA0IC0gKHZhbGlkTGVuICUgNClcblxuICByZXR1cm4gW3ZhbGlkTGVuLCBwbGFjZUhvbGRlcnNMZW5dXG59XG5cbi8vIGJhc2U2NCBpcyA0LzMgKyB1cCB0byB0d28gY2hhcmFjdGVycyBvZiB0aGUgb3JpZ2luYWwgZGF0YVxuZnVuY3Rpb24gYnl0ZUxlbmd0aCAoYjY0KSB7XG4gIHZhciBsZW5zID0gZ2V0TGVucyhiNjQpXG4gIHZhciB2YWxpZExlbiA9IGxlbnNbMF1cbiAgdmFyIHBsYWNlSG9sZGVyc0xlbiA9IGxlbnNbMV1cbiAgcmV0dXJuICgodmFsaWRMZW4gKyBwbGFjZUhvbGRlcnNMZW4pICogMyAvIDQpIC0gcGxhY2VIb2xkZXJzTGVuXG59XG5cbmZ1bmN0aW9uIF9ieXRlTGVuZ3RoIChiNjQsIHZhbGlkTGVuLCBwbGFjZUhvbGRlcnNMZW4pIHtcbiAgcmV0dXJuICgodmFsaWRMZW4gKyBwbGFjZUhvbGRlcnNMZW4pICogMyAvIDQpIC0gcGxhY2VIb2xkZXJzTGVuXG59XG5cbmZ1bmN0aW9uIHRvQnl0ZUFycmF5IChiNjQpIHtcbiAgdmFyIHRtcFxuICB2YXIgbGVucyA9IGdldExlbnMoYjY0KVxuICB2YXIgdmFsaWRMZW4gPSBsZW5zWzBdXG4gIHZhciBwbGFjZUhvbGRlcnNMZW4gPSBsZW5zWzFdXG5cbiAgdmFyIGFyciA9IG5ldyBBcnIoX2J5dGVMZW5ndGgoYjY0LCB2YWxpZExlbiwgcGxhY2VIb2xkZXJzTGVuKSlcblxuICB2YXIgY3VyQnl0ZSA9IDBcblxuICAvLyBpZiB0aGVyZSBhcmUgcGxhY2Vob2xkZXJzLCBvbmx5IGdldCB1cCB0byB0aGUgbGFzdCBjb21wbGV0ZSA0IGNoYXJzXG4gIHZhciBsZW4gPSBwbGFjZUhvbGRlcnNMZW4gPiAwXG4gICAgPyB2YWxpZExlbiAtIDRcbiAgICA6IHZhbGlkTGVuXG5cbiAgdmFyIGlcbiAgZm9yIChpID0gMDsgaSA8IGxlbjsgaSArPSA0KSB7XG4gICAgdG1wID1cbiAgICAgIChyZXZMb29rdXBbYjY0LmNoYXJDb2RlQXQoaSldIDw8IDE4KSB8XG4gICAgICAocmV2TG9va3VwW2I2NC5jaGFyQ29kZUF0KGkgKyAxKV0gPDwgMTIpIHxcbiAgICAgIChyZXZMb29rdXBbYjY0LmNoYXJDb2RlQXQoaSArIDIpXSA8PCA2KSB8XG4gICAgICByZXZMb29rdXBbYjY0LmNoYXJDb2RlQXQoaSArIDMpXVxuICAgIGFycltjdXJCeXRlKytdID0gKHRtcCA+PiAxNikgJiAweEZGXG4gICAgYXJyW2N1ckJ5dGUrK10gPSAodG1wID4+IDgpICYgMHhGRlxuICAgIGFycltjdXJCeXRlKytdID0gdG1wICYgMHhGRlxuICB9XG5cbiAgaWYgKHBsYWNlSG9sZGVyc0xlbiA9PT0gMikge1xuICAgIHRtcCA9XG4gICAgICAocmV2TG9va3VwW2I2NC5jaGFyQ29kZUF0KGkpXSA8PCAyKSB8XG4gICAgICAocmV2TG9va3VwW2I2NC5jaGFyQ29kZUF0KGkgKyAxKV0gPj4gNClcbiAgICBhcnJbY3VyQnl0ZSsrXSA9IHRtcCAmIDB4RkZcbiAgfVxuXG4gIGlmIChwbGFjZUhvbGRlcnNMZW4gPT09IDEpIHtcbiAgICB0bXAgPVxuICAgICAgKHJldkxvb2t1cFtiNjQuY2hhckNvZGVBdChpKV0gPDwgMTApIHxcbiAgICAgIChyZXZMb29rdXBbYjY0LmNoYXJDb2RlQXQoaSArIDEpXSA8PCA0KSB8XG4gICAgICAocmV2TG9va3VwW2I2NC5jaGFyQ29kZUF0KGkgKyAyKV0gPj4gMilcbiAgICBhcnJbY3VyQnl0ZSsrXSA9ICh0bXAgPj4gOCkgJiAweEZGXG4gICAgYXJyW2N1ckJ5dGUrK10gPSB0bXAgJiAweEZGXG4gIH1cblxuICByZXR1cm4gYXJyXG59XG5cbmZ1bmN0aW9uIHRyaXBsZXRUb0Jhc2U2NCAobnVtKSB7XG4gIHJldHVybiBsb29rdXBbbnVtID4+IDE4ICYgMHgzRl0gK1xuICAgIGxvb2t1cFtudW0gPj4gMTIgJiAweDNGXSArXG4gICAgbG9va3VwW251bSA+PiA2ICYgMHgzRl0gK1xuICAgIGxvb2t1cFtudW0gJiAweDNGXVxufVxuXG5mdW5jdGlvbiBlbmNvZGVDaHVuayAodWludDgsIHN0YXJ0LCBlbmQpIHtcbiAgdmFyIHRtcFxuICB2YXIgb3V0cHV0ID0gW11cbiAgZm9yICh2YXIgaSA9IHN0YXJ0OyBpIDwgZW5kOyBpICs9IDMpIHtcbiAgICB0bXAgPVxuICAgICAgKCh1aW50OFtpXSA8PCAxNikgJiAweEZGMDAwMCkgK1xuICAgICAgKCh1aW50OFtpICsgMV0gPDwgOCkgJiAweEZGMDApICtcbiAgICAgICh1aW50OFtpICsgMl0gJiAweEZGKVxuICAgIG91dHB1dC5wdXNoKHRyaXBsZXRUb0Jhc2U2NCh0bXApKVxuICB9XG4gIHJldHVybiBvdXRwdXQuam9pbignJylcbn1cblxuZnVuY3Rpb24gZnJvbUJ5dGVBcnJheSAodWludDgpIHtcbiAgdmFyIHRtcFxuICB2YXIgbGVuID0gdWludDgubGVuZ3RoXG4gIHZhciBleHRyYUJ5dGVzID0gbGVuICUgMyAvLyBpZiB3ZSBoYXZlIDEgYnl0ZSBsZWZ0LCBwYWQgMiBieXRlc1xuICB2YXIgcGFydHMgPSBbXVxuICB2YXIgbWF4Q2h1bmtMZW5ndGggPSAxNjM4MyAvLyBtdXN0IGJlIG11bHRpcGxlIG9mIDNcblxuICAvLyBnbyB0aHJvdWdoIHRoZSBhcnJheSBldmVyeSB0aHJlZSBieXRlcywgd2UnbGwgZGVhbCB3aXRoIHRyYWlsaW5nIHN0dWZmIGxhdGVyXG4gIGZvciAodmFyIGkgPSAwLCBsZW4yID0gbGVuIC0gZXh0cmFCeXRlczsgaSA8IGxlbjI7IGkgKz0gbWF4Q2h1bmtMZW5ndGgpIHtcbiAgICBwYXJ0cy5wdXNoKGVuY29kZUNodW5rKHVpbnQ4LCBpLCAoaSArIG1heENodW5rTGVuZ3RoKSA+IGxlbjIgPyBsZW4yIDogKGkgKyBtYXhDaHVua0xlbmd0aCkpKVxuICB9XG5cbiAgLy8gcGFkIHRoZSBlbmQgd2l0aCB6ZXJvcywgYnV0IG1ha2Ugc3VyZSB0byBub3QgZm9yZ2V0IHRoZSBleHRyYSBieXRlc1xuICBpZiAoZXh0cmFCeXRlcyA9PT0gMSkge1xuICAgIHRtcCA9IHVpbnQ4W2xlbiAtIDFdXG4gICAgcGFydHMucHVzaChcbiAgICAgIGxvb2t1cFt0bXAgPj4gMl0gK1xuICAgICAgbG9va3VwWyh0bXAgPDwgNCkgJiAweDNGXSArXG4gICAgICAnPT0nXG4gICAgKVxuICB9IGVsc2UgaWYgKGV4dHJhQnl0ZXMgPT09IDIpIHtcbiAgICB0bXAgPSAodWludDhbbGVuIC0gMl0gPDwgOCkgKyB1aW50OFtsZW4gLSAxXVxuICAgIHBhcnRzLnB1c2goXG4gICAgICBsb29rdXBbdG1wID4+IDEwXSArXG4gICAgICBsb29rdXBbKHRtcCA+PiA0KSAmIDB4M0ZdICtcbiAgICAgIGxvb2t1cFsodG1wIDw8IDIpICYgMHgzRl0gK1xuICAgICAgJz0nXG4gICAgKVxuICB9XG5cbiAgcmV0dXJuIHBhcnRzLmpvaW4oJycpXG59XG4iLCAiLyohIGllZWU3NTQuIEJTRC0zLUNsYXVzZSBMaWNlbnNlLiBGZXJvc3MgQWJvdWtoYWRpamVoIDxodHRwczovL2Zlcm9zcy5vcmcvb3BlbnNvdXJjZT4gKi9cbmV4cG9ydHMucmVhZCA9IGZ1bmN0aW9uIChidWZmZXIsIG9mZnNldCwgaXNMRSwgbUxlbiwgbkJ5dGVzKSB7XG4gIHZhciBlLCBtXG4gIHZhciBlTGVuID0gKG5CeXRlcyAqIDgpIC0gbUxlbiAtIDFcbiAgdmFyIGVNYXggPSAoMSA8PCBlTGVuKSAtIDFcbiAgdmFyIGVCaWFzID0gZU1heCA+PiAxXG4gIHZhciBuQml0cyA9IC03XG4gIHZhciBpID0gaXNMRSA/IChuQnl0ZXMgLSAxKSA6IDBcbiAgdmFyIGQgPSBpc0xFID8gLTEgOiAxXG4gIHZhciBzID0gYnVmZmVyW29mZnNldCArIGldXG5cbiAgaSArPSBkXG5cbiAgZSA9IHMgJiAoKDEgPDwgKC1uQml0cykpIC0gMSlcbiAgcyA+Pj0gKC1uQml0cylcbiAgbkJpdHMgKz0gZUxlblxuICBmb3IgKDsgbkJpdHMgPiAwOyBlID0gKGUgKiAyNTYpICsgYnVmZmVyW29mZnNldCArIGldLCBpICs9IGQsIG5CaXRzIC09IDgpIHt9XG5cbiAgbSA9IGUgJiAoKDEgPDwgKC1uQml0cykpIC0gMSlcbiAgZSA+Pj0gKC1uQml0cylcbiAgbkJpdHMgKz0gbUxlblxuICBmb3IgKDsgbkJpdHMgPiAwOyBtID0gKG0gKiAyNTYpICsgYnVmZmVyW29mZnNldCArIGldLCBpICs9IGQsIG5CaXRzIC09IDgpIHt9XG5cbiAgaWYgKGUgPT09IDApIHtcbiAgICBlID0gMSAtIGVCaWFzXG4gIH0gZWxzZSBpZiAoZSA9PT0gZU1heCkge1xuICAgIHJldHVybiBtID8gTmFOIDogKChzID8gLTEgOiAxKSAqIEluZmluaXR5KVxuICB9IGVsc2Uge1xuICAgIG0gPSBtICsgTWF0aC5wb3coMiwgbUxlbilcbiAgICBlID0gZSAtIGVCaWFzXG4gIH1cbiAgcmV0dXJuIChzID8gLTEgOiAxKSAqIG0gKiBNYXRoLnBvdygyLCBlIC0gbUxlbilcbn1cblxuZXhwb3J0cy53cml0ZSA9IGZ1bmN0aW9uIChidWZmZXIsIHZhbHVlLCBvZmZzZXQsIGlzTEUsIG1MZW4sIG5CeXRlcykge1xuICB2YXIgZSwgbSwgY1xuICB2YXIgZUxlbiA9IChuQnl0ZXMgKiA4KSAtIG1MZW4gLSAxXG4gIHZhciBlTWF4ID0gKDEgPDwgZUxlbikgLSAxXG4gIHZhciBlQmlhcyA9IGVNYXggPj4gMVxuICB2YXIgcnQgPSAobUxlbiA9PT0gMjMgPyBNYXRoLnBvdygyLCAtMjQpIC0gTWF0aC5wb3coMiwgLTc3KSA6IDApXG4gIHZhciBpID0gaXNMRSA/IDAgOiAobkJ5dGVzIC0gMSlcbiAgdmFyIGQgPSBpc0xFID8gMSA6IC0xXG4gIHZhciBzID0gdmFsdWUgPCAwIHx8ICh2YWx1ZSA9PT0gMCAmJiAxIC8gdmFsdWUgPCAwKSA/IDEgOiAwXG5cbiAgdmFsdWUgPSBNYXRoLmFicyh2YWx1ZSlcblxuICBpZiAoaXNOYU4odmFsdWUpIHx8IHZhbHVlID09PSBJbmZpbml0eSkge1xuICAgIG0gPSBpc05hTih2YWx1ZSkgPyAxIDogMFxuICAgIGUgPSBlTWF4XG4gIH0gZWxzZSB7XG4gICAgZSA9IE1hdGguZmxvb3IoTWF0aC5sb2codmFsdWUpIC8gTWF0aC5MTjIpXG4gICAgaWYgKHZhbHVlICogKGMgPSBNYXRoLnBvdygyLCAtZSkpIDwgMSkge1xuICAgICAgZS0tXG4gICAgICBjICo9IDJcbiAgICB9XG4gICAgaWYgKGUgKyBlQmlhcyA+PSAxKSB7XG4gICAgICB2YWx1ZSArPSBydCAvIGNcbiAgICB9IGVsc2Uge1xuICAgICAgdmFsdWUgKz0gcnQgKiBNYXRoLnBvdygyLCAxIC0gZUJpYXMpXG4gICAgfVxuICAgIGlmICh2YWx1ZSAqIGMgPj0gMikge1xuICAgICAgZSsrXG4gICAgICBjIC89IDJcbiAgICB9XG5cbiAgICBpZiAoZSArIGVCaWFzID49IGVNYXgpIHtcbiAgICAgIG0gPSAwXG4gICAgICBlID0gZU1heFxuICAgIH0gZWxzZSBpZiAoZSArIGVCaWFzID49IDEpIHtcbiAgICAgIG0gPSAoKHZhbHVlICogYykgLSAxKSAqIE1hdGgucG93KDIsIG1MZW4pXG4gICAgICBlID0gZSArIGVCaWFzXG4gICAgfSBlbHNlIHtcbiAgICAgIG0gPSB2YWx1ZSAqIE1hdGgucG93KDIsIGVCaWFzIC0gMSkgKiBNYXRoLnBvdygyLCBtTGVuKVxuICAgICAgZSA9IDBcbiAgICB9XG4gIH1cblxuICBmb3IgKDsgbUxlbiA+PSA4OyBidWZmZXJbb2Zmc2V0ICsgaV0gPSBtICYgMHhmZiwgaSArPSBkLCBtIC89IDI1NiwgbUxlbiAtPSA4KSB7fVxuXG4gIGUgPSAoZSA8PCBtTGVuKSB8IG1cbiAgZUxlbiArPSBtTGVuXG4gIGZvciAoOyBlTGVuID4gMDsgYnVmZmVyW29mZnNldCArIGldID0gZSAmIDB4ZmYsIGkgKz0gZCwgZSAvPSAyNTYsIGVMZW4gLT0gOCkge31cblxuICBidWZmZXJbb2Zmc2V0ICsgaSAtIGRdIHw9IHMgKiAxMjhcbn1cbiIsICJ2YXIgdG9TdHJpbmcgPSB7fS50b1N0cmluZztcblxubW9kdWxlLmV4cG9ydHMgPSBBcnJheS5pc0FycmF5IHx8IGZ1bmN0aW9uIChhcnIpIHtcbiAgcmV0dXJuIHRvU3RyaW5nLmNhbGwoYXJyKSA9PSAnW29iamVjdCBBcnJheV0nO1xufTtcbiIsICIvKiFcbiAqIFRoZSBidWZmZXIgbW9kdWxlIGZyb20gbm9kZS5qcywgZm9yIHRoZSBicm93c2VyLlxuICpcbiAqIEBhdXRob3IgICBGZXJvc3MgQWJvdWtoYWRpamVoIDxodHRwOi8vZmVyb3NzLm9yZz5cbiAqIEBsaWNlbnNlICBNSVRcbiAqL1xuLyogZXNsaW50LWRpc2FibGUgbm8tcHJvdG8gKi9cblxuJ3VzZSBzdHJpY3QnXG5cbnZhciBiYXNlNjQgPSByZXF1aXJlKCdiYXNlNjQtanMnKVxudmFyIGllZWU3NTQgPSByZXF1aXJlKCdpZWVlNzU0JylcbnZhciBpc0FycmF5ID0gcmVxdWlyZSgnaXNhcnJheScpXG5cbmV4cG9ydHMuQnVmZmVyID0gQnVmZmVyXG5leHBvcnRzLlNsb3dCdWZmZXIgPSBTbG93QnVmZmVyXG5leHBvcnRzLklOU1BFQ1RfTUFYX0JZVEVTID0gNTBcblxuLyoqXG4gKiBJZiBgQnVmZmVyLlRZUEVEX0FSUkFZX1NVUFBPUlRgOlxuICogICA9PT0gdHJ1ZSAgICBVc2UgVWludDhBcnJheSBpbXBsZW1lbnRhdGlvbiAoZmFzdGVzdClcbiAqICAgPT09IGZhbHNlICAgVXNlIE9iamVjdCBpbXBsZW1lbnRhdGlvbiAobW9zdCBjb21wYXRpYmxlLCBldmVuIElFNilcbiAqXG4gKiBCcm93c2VycyB0aGF0IHN1cHBvcnQgdHlwZWQgYXJyYXlzIGFyZSBJRSAxMCssIEZpcmVmb3ggNCssIENocm9tZSA3KywgU2FmYXJpIDUuMSssXG4gKiBPcGVyYSAxMS42KywgaU9TIDQuMisuXG4gKlxuICogRHVlIHRvIHZhcmlvdXMgYnJvd3NlciBidWdzLCBzb21ldGltZXMgdGhlIE9iamVjdCBpbXBsZW1lbnRhdGlvbiB3aWxsIGJlIHVzZWQgZXZlblxuICogd2hlbiB0aGUgYnJvd3NlciBzdXBwb3J0cyB0eXBlZCBhcnJheXMuXG4gKlxuICogTm90ZTpcbiAqXG4gKiAgIC0gRmlyZWZveCA0LTI5IGxhY2tzIHN1cHBvcnQgZm9yIGFkZGluZyBuZXcgcHJvcGVydGllcyB0byBgVWludDhBcnJheWAgaW5zdGFuY2VzLFxuICogICAgIFNlZTogaHR0cHM6Ly9idWd6aWxsYS5tb3ppbGxhLm9yZy9zaG93X2J1Zy5jZ2k/aWQ9Njk1NDM4LlxuICpcbiAqICAgLSBDaHJvbWUgOS0xMCBpcyBtaXNzaW5nIHRoZSBgVHlwZWRBcnJheS5wcm90b3R5cGUuc3ViYXJyYXlgIGZ1bmN0aW9uLlxuICpcbiAqICAgLSBJRTEwIGhhcyBhIGJyb2tlbiBgVHlwZWRBcnJheS5wcm90b3R5cGUuc3ViYXJyYXlgIGZ1bmN0aW9uIHdoaWNoIHJldHVybnMgYXJyYXlzIG9mXG4gKiAgICAgaW5jb3JyZWN0IGxlbmd0aCBpbiBzb21lIHNpdHVhdGlvbnMuXG5cbiAqIFdlIGRldGVjdCB0aGVzZSBidWdneSBicm93c2VycyBhbmQgc2V0IGBCdWZmZXIuVFlQRURfQVJSQVlfU1VQUE9SVGAgdG8gYGZhbHNlYCBzbyB0aGV5XG4gKiBnZXQgdGhlIE9iamVjdCBpbXBsZW1lbnRhdGlvbiwgd2hpY2ggaXMgc2xvd2VyIGJ1dCBiZWhhdmVzIGNvcnJlY3RseS5cbiAqL1xuQnVmZmVyLlRZUEVEX0FSUkFZX1NVUFBPUlQgPSBnbG9iYWwuVFlQRURfQVJSQVlfU1VQUE9SVCAhPT0gdW5kZWZpbmVkXG4gID8gZ2xvYmFsLlRZUEVEX0FSUkFZX1NVUFBPUlRcbiAgOiB0eXBlZEFycmF5U3VwcG9ydCgpXG5cbi8qXG4gKiBFeHBvcnQga01heExlbmd0aCBhZnRlciB0eXBlZCBhcnJheSBzdXBwb3J0IGlzIGRldGVybWluZWQuXG4gKi9cbmV4cG9ydHMua01heExlbmd0aCA9IGtNYXhMZW5ndGgoKVxuXG5mdW5jdGlvbiB0eXBlZEFycmF5U3VwcG9ydCAoKSB7XG4gIHRyeSB7XG4gICAgdmFyIGFyciA9IG5ldyBVaW50OEFycmF5KDEpXG4gICAgYXJyLl9fcHJvdG9fXyA9IHtfX3Byb3RvX186IFVpbnQ4QXJyYXkucHJvdG90eXBlLCBmb286IGZ1bmN0aW9uICgpIHsgcmV0dXJuIDQyIH19XG4gICAgcmV0dXJuIGFyci5mb28oKSA9PT0gNDIgJiYgLy8gdHlwZWQgYXJyYXkgaW5zdGFuY2VzIGNhbiBiZSBhdWdtZW50ZWRcbiAgICAgICAgdHlwZW9mIGFyci5zdWJhcnJheSA9PT0gJ2Z1bmN0aW9uJyAmJiAvLyBjaHJvbWUgOS0xMCBsYWNrIGBzdWJhcnJheWBcbiAgICAgICAgYXJyLnN1YmFycmF5KDEsIDEpLmJ5dGVMZW5ndGggPT09IDAgLy8gaWUxMCBoYXMgYnJva2VuIGBzdWJhcnJheWBcbiAgfSBjYXRjaCAoZSkge1xuICAgIHJldHVybiBmYWxzZVxuICB9XG59XG5cbmZ1bmN0aW9uIGtNYXhMZW5ndGggKCkge1xuICByZXR1cm4gQnVmZmVyLlRZUEVEX0FSUkFZX1NVUFBPUlRcbiAgICA/IDB4N2ZmZmZmZmZcbiAgICA6IDB4M2ZmZmZmZmZcbn1cblxuZnVuY3Rpb24gY3JlYXRlQnVmZmVyICh0aGF0LCBsZW5ndGgpIHtcbiAgaWYgKGtNYXhMZW5ndGgoKSA8IGxlbmd0aCkge1xuICAgIHRocm93IG5ldyBSYW5nZUVycm9yKCdJbnZhbGlkIHR5cGVkIGFycmF5IGxlbmd0aCcpXG4gIH1cbiAgaWYgKEJ1ZmZlci5UWVBFRF9BUlJBWV9TVVBQT1JUKSB7XG4gICAgLy8gUmV0dXJuIGFuIGF1Z21lbnRlZCBgVWludDhBcnJheWAgaW5zdGFuY2UsIGZvciBiZXN0IHBlcmZvcm1hbmNlXG4gICAgdGhhdCA9IG5ldyBVaW50OEFycmF5KGxlbmd0aClcbiAgICB0aGF0Ll9fcHJvdG9fXyA9IEJ1ZmZlci5wcm90b3R5cGVcbiAgfSBlbHNlIHtcbiAgICAvLyBGYWxsYmFjazogUmV0dXJuIGFuIG9iamVjdCBpbnN0YW5jZSBvZiB0aGUgQnVmZmVyIGNsYXNzXG4gICAgaWYgKHRoYXQgPT09IG51bGwpIHtcbiAgICAgIHRoYXQgPSBuZXcgQnVmZmVyKGxlbmd0aClcbiAgICB9XG4gICAgdGhhdC5sZW5ndGggPSBsZW5ndGhcbiAgfVxuXG4gIHJldHVybiB0aGF0XG59XG5cbi8qKlxuICogVGhlIEJ1ZmZlciBjb25zdHJ1Y3RvciByZXR1cm5zIGluc3RhbmNlcyBvZiBgVWludDhBcnJheWAgdGhhdCBoYXZlIHRoZWlyXG4gKiBwcm90b3R5cGUgY2hhbmdlZCB0byBgQnVmZmVyLnByb3RvdHlwZWAuIEZ1cnRoZXJtb3JlLCBgQnVmZmVyYCBpcyBhIHN1YmNsYXNzIG9mXG4gKiBgVWludDhBcnJheWAsIHNvIHRoZSByZXR1cm5lZCBpbnN0YW5jZXMgd2lsbCBoYXZlIGFsbCB0aGUgbm9kZSBgQnVmZmVyYCBtZXRob2RzXG4gKiBhbmQgdGhlIGBVaW50OEFycmF5YCBtZXRob2RzLiBTcXVhcmUgYnJhY2tldCBub3RhdGlvbiB3b3JrcyBhcyBleHBlY3RlZCAtLSBpdFxuICogcmV0dXJucyBhIHNpbmdsZSBvY3RldC5cbiAqXG4gKiBUaGUgYFVpbnQ4QXJyYXlgIHByb3RvdHlwZSByZW1haW5zIHVubW9kaWZpZWQuXG4gKi9cblxuZnVuY3Rpb24gQnVmZmVyIChhcmcsIGVuY29kaW5nT3JPZmZzZXQsIGxlbmd0aCkge1xuICBpZiAoIUJ1ZmZlci5UWVBFRF9BUlJBWV9TVVBQT1JUICYmICEodGhpcyBpbnN0YW5jZW9mIEJ1ZmZlcikpIHtcbiAgICByZXR1cm4gbmV3IEJ1ZmZlcihhcmcsIGVuY29kaW5nT3JPZmZzZXQsIGxlbmd0aClcbiAgfVxuXG4gIC8vIENvbW1vbiBjYXNlLlxuICBpZiAodHlwZW9mIGFyZyA9PT0gJ251bWJlcicpIHtcbiAgICBpZiAodHlwZW9mIGVuY29kaW5nT3JPZmZzZXQgPT09ICdzdHJpbmcnKSB7XG4gICAgICB0aHJvdyBuZXcgRXJyb3IoXG4gICAgICAgICdJZiBlbmNvZGluZyBpcyBzcGVjaWZpZWQgdGhlbiB0aGUgZmlyc3QgYXJndW1lbnQgbXVzdCBiZSBhIHN0cmluZydcbiAgICAgIClcbiAgICB9XG4gICAgcmV0dXJuIGFsbG9jVW5zYWZlKHRoaXMsIGFyZylcbiAgfVxuICByZXR1cm4gZnJvbSh0aGlzLCBhcmcsIGVuY29kaW5nT3JPZmZzZXQsIGxlbmd0aClcbn1cblxuQnVmZmVyLnBvb2xTaXplID0gODE5MiAvLyBub3QgdXNlZCBieSB0aGlzIGltcGxlbWVudGF0aW9uXG5cbi8vIFRPRE86IExlZ2FjeSwgbm90IG5lZWRlZCBhbnltb3JlLiBSZW1vdmUgaW4gbmV4dCBtYWpvciB2ZXJzaW9uLlxuQnVmZmVyLl9hdWdtZW50ID0gZnVuY3Rpb24gKGFycikge1xuICBhcnIuX19wcm90b19fID0gQnVmZmVyLnByb3RvdHlwZVxuICByZXR1cm4gYXJyXG59XG5cbmZ1bmN0aW9uIGZyb20gKHRoYXQsIHZhbHVlLCBlbmNvZGluZ09yT2Zmc2V0LCBsZW5ndGgpIHtcbiAgaWYgKHR5cGVvZiB2YWx1ZSA9PT0gJ251bWJlcicpIHtcbiAgICB0aHJvdyBuZXcgVHlwZUVycm9yKCdcInZhbHVlXCIgYXJndW1lbnQgbXVzdCBub3QgYmUgYSBudW1iZXInKVxuICB9XG5cbiAgaWYgKHR5cGVvZiBBcnJheUJ1ZmZlciAhPT0gJ3VuZGVmaW5lZCcgJiYgdmFsdWUgaW5zdGFuY2VvZiBBcnJheUJ1ZmZlcikge1xuICAgIHJldHVybiBmcm9tQXJyYXlCdWZmZXIodGhhdCwgdmFsdWUsIGVuY29kaW5nT3JPZmZzZXQsIGxlbmd0aClcbiAgfVxuXG4gIGlmICh0eXBlb2YgdmFsdWUgPT09ICdzdHJpbmcnKSB7XG4gICAgcmV0dXJuIGZyb21TdHJpbmcodGhhdCwgdmFsdWUsIGVuY29kaW5nT3JPZmZzZXQpXG4gIH1cblxuICByZXR1cm4gZnJvbU9iamVjdCh0aGF0LCB2YWx1ZSlcbn1cblxuLyoqXG4gKiBGdW5jdGlvbmFsbHkgZXF1aXZhbGVudCB0byBCdWZmZXIoYXJnLCBlbmNvZGluZykgYnV0IHRocm93cyBhIFR5cGVFcnJvclxuICogaWYgdmFsdWUgaXMgYSBudW1iZXIuXG4gKiBCdWZmZXIuZnJvbShzdHJbLCBlbmNvZGluZ10pXG4gKiBCdWZmZXIuZnJvbShhcnJheSlcbiAqIEJ1ZmZlci5mcm9tKGJ1ZmZlcilcbiAqIEJ1ZmZlci5mcm9tKGFycmF5QnVmZmVyWywgYnl0ZU9mZnNldFssIGxlbmd0aF1dKVxuICoqL1xuQnVmZmVyLmZyb20gPSBmdW5jdGlvbiAodmFsdWUsIGVuY29kaW5nT3JPZmZzZXQsIGxlbmd0aCkge1xuICByZXR1cm4gZnJvbShudWxsLCB2YWx1ZSwgZW5jb2RpbmdPck9mZnNldCwgbGVuZ3RoKVxufVxuXG5pZiAoQnVmZmVyLlRZUEVEX0FSUkFZX1NVUFBPUlQpIHtcbiAgQnVmZmVyLnByb3RvdHlwZS5fX3Byb3RvX18gPSBVaW50OEFycmF5LnByb3RvdHlwZVxuICBCdWZmZXIuX19wcm90b19fID0gVWludDhBcnJheVxuICBpZiAodHlwZW9mIFN5bWJvbCAhPT0gJ3VuZGVmaW5lZCcgJiYgU3ltYm9sLnNwZWNpZXMgJiZcbiAgICAgIEJ1ZmZlcltTeW1ib2wuc3BlY2llc10gPT09IEJ1ZmZlcikge1xuICAgIC8vIEZpeCBzdWJhcnJheSgpIGluIEVTMjAxNi4gU2VlOiBodHRwczovL2dpdGh1Yi5jb20vZmVyb3NzL2J1ZmZlci9wdWxsLzk3XG4gICAgT2JqZWN0LmRlZmluZVByb3BlcnR5KEJ1ZmZlciwgU3ltYm9sLnNwZWNpZXMsIHtcbiAgICAgIHZhbHVlOiBudWxsLFxuICAgICAgY29uZmlndXJhYmxlOiB0cnVlXG4gICAgfSlcbiAgfVxufVxuXG5mdW5jdGlvbiBhc3NlcnRTaXplIChzaXplKSB7XG4gIGlmICh0eXBlb2Ygc2l6ZSAhPT0gJ251bWJlcicpIHtcbiAgICB0aHJvdyBuZXcgVHlwZUVycm9yKCdcInNpemVcIiBhcmd1bWVudCBtdXN0IGJlIGEgbnVtYmVyJylcbiAgfSBlbHNlIGlmIChzaXplIDwgMCkge1xuICAgIHRocm93IG5ldyBSYW5nZUVycm9yKCdcInNpemVcIiBhcmd1bWVudCBtdXN0IG5vdCBiZSBuZWdhdGl2ZScpXG4gIH1cbn1cblxuZnVuY3Rpb24gYWxsb2MgKHRoYXQsIHNpemUsIGZpbGwsIGVuY29kaW5nKSB7XG4gIGFzc2VydFNpemUoc2l6ZSlcbiAgaWYgKHNpemUgPD0gMCkge1xuICAgIHJldHVybiBjcmVhdGVCdWZmZXIodGhhdCwgc2l6ZSlcbiAgfVxuICBpZiAoZmlsbCAhPT0gdW5kZWZpbmVkKSB7XG4gICAgLy8gT25seSBwYXkgYXR0ZW50aW9uIHRvIGVuY29kaW5nIGlmIGl0J3MgYSBzdHJpbmcuIFRoaXNcbiAgICAvLyBwcmV2ZW50cyBhY2NpZGVudGFsbHkgc2VuZGluZyBpbiBhIG51bWJlciB0aGF0IHdvdWxkXG4gICAgLy8gYmUgaW50ZXJwcmV0dGVkIGFzIGEgc3RhcnQgb2Zmc2V0LlxuICAgIHJldHVybiB0eXBlb2YgZW5jb2RpbmcgPT09ICdzdHJpbmcnXG4gICAgICA/IGNyZWF0ZUJ1ZmZlcih0aGF0LCBzaXplKS5maWxsKGZpbGwsIGVuY29kaW5nKVxuICAgICAgOiBjcmVhdGVCdWZmZXIodGhhdCwgc2l6ZSkuZmlsbChmaWxsKVxuICB9XG4gIHJldHVybiBjcmVhdGVCdWZmZXIodGhhdCwgc2l6ZSlcbn1cblxuLyoqXG4gKiBDcmVhdGVzIGEgbmV3IGZpbGxlZCBCdWZmZXIgaW5zdGFuY2UuXG4gKiBhbGxvYyhzaXplWywgZmlsbFssIGVuY29kaW5nXV0pXG4gKiovXG5CdWZmZXIuYWxsb2MgPSBmdW5jdGlvbiAoc2l6ZSwgZmlsbCwgZW5jb2RpbmcpIHtcbiAgcmV0dXJuIGFsbG9jKG51bGwsIHNpemUsIGZpbGwsIGVuY29kaW5nKVxufVxuXG5mdW5jdGlvbiBhbGxvY1Vuc2FmZSAodGhhdCwgc2l6ZSkge1xuICBhc3NlcnRTaXplKHNpemUpXG4gIHRoYXQgPSBjcmVhdGVCdWZmZXIodGhhdCwgc2l6ZSA8IDAgPyAwIDogY2hlY2tlZChzaXplKSB8IDApXG4gIGlmICghQnVmZmVyLlRZUEVEX0FSUkFZX1NVUFBPUlQpIHtcbiAgICBmb3IgKHZhciBpID0gMDsgaSA8IHNpemU7ICsraSkge1xuICAgICAgdGhhdFtpXSA9IDBcbiAgICB9XG4gIH1cbiAgcmV0dXJuIHRoYXRcbn1cblxuLyoqXG4gKiBFcXVpdmFsZW50IHRvIEJ1ZmZlcihudW0pLCBieSBkZWZhdWx0IGNyZWF0ZXMgYSBub24temVyby1maWxsZWQgQnVmZmVyIGluc3RhbmNlLlxuICogKi9cbkJ1ZmZlci5hbGxvY1Vuc2FmZSA9IGZ1bmN0aW9uIChzaXplKSB7XG4gIHJldHVybiBhbGxvY1Vuc2FmZShudWxsLCBzaXplKVxufVxuLyoqXG4gKiBFcXVpdmFsZW50IHRvIFNsb3dCdWZmZXIobnVtKSwgYnkgZGVmYXVsdCBjcmVhdGVzIGEgbm9uLXplcm8tZmlsbGVkIEJ1ZmZlciBpbnN0YW5jZS5cbiAqL1xuQnVmZmVyLmFsbG9jVW5zYWZlU2xvdyA9IGZ1bmN0aW9uIChzaXplKSB7XG4gIHJldHVybiBhbGxvY1Vuc2FmZShudWxsLCBzaXplKVxufVxuXG5mdW5jdGlvbiBmcm9tU3RyaW5nICh0aGF0LCBzdHJpbmcsIGVuY29kaW5nKSB7XG4gIGlmICh0eXBlb2YgZW5jb2RpbmcgIT09ICdzdHJpbmcnIHx8IGVuY29kaW5nID09PSAnJykge1xuICAgIGVuY29kaW5nID0gJ3V0ZjgnXG4gIH1cblxuICBpZiAoIUJ1ZmZlci5pc0VuY29kaW5nKGVuY29kaW5nKSkge1xuICAgIHRocm93IG5ldyBUeXBlRXJyb3IoJ1wiZW5jb2RpbmdcIiBtdXN0IGJlIGEgdmFsaWQgc3RyaW5nIGVuY29kaW5nJylcbiAgfVxuXG4gIHZhciBsZW5ndGggPSBieXRlTGVuZ3RoKHN0cmluZywgZW5jb2RpbmcpIHwgMFxuICB0aGF0ID0gY3JlYXRlQnVmZmVyKHRoYXQsIGxlbmd0aClcblxuICB2YXIgYWN0dWFsID0gdGhhdC53cml0ZShzdHJpbmcsIGVuY29kaW5nKVxuXG4gIGlmIChhY3R1YWwgIT09IGxlbmd0aCkge1xuICAgIC8vIFdyaXRpbmcgYSBoZXggc3RyaW5nLCBmb3IgZXhhbXBsZSwgdGhhdCBjb250YWlucyBpbnZhbGlkIGNoYXJhY3RlcnMgd2lsbFxuICAgIC8vIGNhdXNlIGV2ZXJ5dGhpbmcgYWZ0ZXIgdGhlIGZpcnN0IGludmFsaWQgY2hhcmFjdGVyIHRvIGJlIGlnbm9yZWQuIChlLmcuXG4gICAgLy8gJ2FieHhjZCcgd2lsbCBiZSB0cmVhdGVkIGFzICdhYicpXG4gICAgdGhhdCA9IHRoYXQuc2xpY2UoMCwgYWN0dWFsKVxuICB9XG5cbiAgcmV0dXJuIHRoYXRcbn1cblxuZnVuY3Rpb24gZnJvbUFycmF5TGlrZSAodGhhdCwgYXJyYXkpIHtcbiAgdmFyIGxlbmd0aCA9IGFycmF5Lmxlbmd0aCA8IDAgPyAwIDogY2hlY2tlZChhcnJheS5sZW5ndGgpIHwgMFxuICB0aGF0ID0gY3JlYXRlQnVmZmVyKHRoYXQsIGxlbmd0aClcbiAgZm9yICh2YXIgaSA9IDA7IGkgPCBsZW5ndGg7IGkgKz0gMSkge1xuICAgIHRoYXRbaV0gPSBhcnJheVtpXSAmIDI1NVxuICB9XG4gIHJldHVybiB0aGF0XG59XG5cbmZ1bmN0aW9uIGZyb21BcnJheUJ1ZmZlciAodGhhdCwgYXJyYXksIGJ5dGVPZmZzZXQsIGxlbmd0aCkge1xuICBhcnJheS5ieXRlTGVuZ3RoIC8vIHRoaXMgdGhyb3dzIGlmIGBhcnJheWAgaXMgbm90IGEgdmFsaWQgQXJyYXlCdWZmZXJcblxuICBpZiAoYnl0ZU9mZnNldCA8IDAgfHwgYXJyYXkuYnl0ZUxlbmd0aCA8IGJ5dGVPZmZzZXQpIHtcbiAgICB0aHJvdyBuZXcgUmFuZ2VFcnJvcignXFwnb2Zmc2V0XFwnIGlzIG91dCBvZiBib3VuZHMnKVxuICB9XG5cbiAgaWYgKGFycmF5LmJ5dGVMZW5ndGggPCBieXRlT2Zmc2V0ICsgKGxlbmd0aCB8fCAwKSkge1xuICAgIHRocm93IG5ldyBSYW5nZUVycm9yKCdcXCdsZW5ndGhcXCcgaXMgb3V0IG9mIGJvdW5kcycpXG4gIH1cblxuICBpZiAoYnl0ZU9mZnNldCA9PT0gdW5kZWZpbmVkICYmIGxlbmd0aCA9PT0gdW5kZWZpbmVkKSB7XG4gICAgYXJyYXkgPSBuZXcgVWludDhBcnJheShhcnJheSlcbiAgfSBlbHNlIGlmIChsZW5ndGggPT09IHVuZGVmaW5lZCkge1xuICAgIGFycmF5ID0gbmV3IFVpbnQ4QXJyYXkoYXJyYXksIGJ5dGVPZmZzZXQpXG4gIH0gZWxzZSB7XG4gICAgYXJyYXkgPSBuZXcgVWludDhBcnJheShhcnJheSwgYnl0ZU9mZnNldCwgbGVuZ3RoKVxuICB9XG5cbiAgaWYgKEJ1ZmZlci5UWVBFRF9BUlJBWV9TVVBQT1JUKSB7XG4gICAgLy8gUmV0dXJuIGFuIGF1Z21lbnRlZCBgVWludDhBcnJheWAgaW5zdGFuY2UsIGZvciBiZXN0IHBlcmZvcm1hbmNlXG4gICAgdGhhdCA9IGFycmF5XG4gICAgdGhhdC5fX3Byb3RvX18gPSBCdWZmZXIucHJvdG90eXBlXG4gIH0gZWxzZSB7XG4gICAgLy8gRmFsbGJhY2s6IFJldHVybiBhbiBvYmplY3QgaW5zdGFuY2Ugb2YgdGhlIEJ1ZmZlciBjbGFzc1xuICAgIHRoYXQgPSBmcm9tQXJyYXlMaWtlKHRoYXQsIGFycmF5KVxuICB9XG4gIHJldHVybiB0aGF0XG59XG5cbmZ1bmN0aW9uIGZyb21PYmplY3QgKHRoYXQsIG9iaikge1xuICBpZiAoQnVmZmVyLmlzQnVmZmVyKG9iaikpIHtcbiAgICB2YXIgbGVuID0gY2hlY2tlZChvYmoubGVuZ3RoKSB8IDBcbiAgICB0aGF0ID0gY3JlYXRlQnVmZmVyKHRoYXQsIGxlbilcblxuICAgIGlmICh0aGF0Lmxlbmd0aCA9PT0gMCkge1xuICAgICAgcmV0dXJuIHRoYXRcbiAgICB9XG5cbiAgICBvYmouY29weSh0aGF0LCAwLCAwLCBsZW4pXG4gICAgcmV0dXJuIHRoYXRcbiAgfVxuXG4gIGlmIChvYmopIHtcbiAgICBpZiAoKHR5cGVvZiBBcnJheUJ1ZmZlciAhPT0gJ3VuZGVmaW5lZCcgJiZcbiAgICAgICAgb2JqLmJ1ZmZlciBpbnN0YW5jZW9mIEFycmF5QnVmZmVyKSB8fCAnbGVuZ3RoJyBpbiBvYmopIHtcbiAgICAgIGlmICh0eXBlb2Ygb2JqLmxlbmd0aCAhPT0gJ251bWJlcicgfHwgaXNuYW4ob2JqLmxlbmd0aCkpIHtcbiAgICAgICAgcmV0dXJuIGNyZWF0ZUJ1ZmZlcih0aGF0LCAwKVxuICAgICAgfVxuICAgICAgcmV0dXJuIGZyb21BcnJheUxpa2UodGhhdCwgb2JqKVxuICAgIH1cblxuICAgIGlmIChvYmoudHlwZSA9PT0gJ0J1ZmZlcicgJiYgaXNBcnJheShvYmouZGF0YSkpIHtcbiAgICAgIHJldHVybiBmcm9tQXJyYXlMaWtlKHRoYXQsIG9iai5kYXRhKVxuICAgIH1cbiAgfVxuXG4gIHRocm93IG5ldyBUeXBlRXJyb3IoJ0ZpcnN0IGFyZ3VtZW50IG11c3QgYmUgYSBzdHJpbmcsIEJ1ZmZlciwgQXJyYXlCdWZmZXIsIEFycmF5LCBvciBhcnJheS1saWtlIG9iamVjdC4nKVxufVxuXG5mdW5jdGlvbiBjaGVja2VkIChsZW5ndGgpIHtcbiAgLy8gTm90ZTogY2Fubm90IHVzZSBgbGVuZ3RoIDwga01heExlbmd0aCgpYCBoZXJlIGJlY2F1c2UgdGhhdCBmYWlscyB3aGVuXG4gIC8vIGxlbmd0aCBpcyBOYU4gKHdoaWNoIGlzIG90aGVyd2lzZSBjb2VyY2VkIHRvIHplcm8uKVxuICBpZiAobGVuZ3RoID49IGtNYXhMZW5ndGgoKSkge1xuICAgIHRocm93IG5ldyBSYW5nZUVycm9yKCdBdHRlbXB0IHRvIGFsbG9jYXRlIEJ1ZmZlciBsYXJnZXIgdGhhbiBtYXhpbXVtICcgK1xuICAgICAgICAgICAgICAgICAgICAgICAgICdzaXplOiAweCcgKyBrTWF4TGVuZ3RoKCkudG9TdHJpbmcoMTYpICsgJyBieXRlcycpXG4gIH1cbiAgcmV0dXJuIGxlbmd0aCB8IDBcbn1cblxuZnVuY3Rpb24gU2xvd0J1ZmZlciAobGVuZ3RoKSB7XG4gIGlmICgrbGVuZ3RoICE9IGxlbmd0aCkgeyAvLyBlc2xpbnQtZGlzYWJsZS1saW5lIGVxZXFlcVxuICAgIGxlbmd0aCA9IDBcbiAgfVxuICByZXR1cm4gQnVmZmVyLmFsbG9jKCtsZW5ndGgpXG59XG5cbkJ1ZmZlci5pc0J1ZmZlciA9IGZ1bmN0aW9uIGlzQnVmZmVyIChiKSB7XG4gIHJldHVybiAhIShiICE9IG51bGwgJiYgYi5faXNCdWZmZXIpXG59XG5cbkJ1ZmZlci5jb21wYXJlID0gZnVuY3Rpb24gY29tcGFyZSAoYSwgYikge1xuICBpZiAoIUJ1ZmZlci5pc0J1ZmZlcihhKSB8fCAhQnVmZmVyLmlzQnVmZmVyKGIpKSB7XG4gICAgdGhyb3cgbmV3IFR5cGVFcnJvcignQXJndW1lbnRzIG11c3QgYmUgQnVmZmVycycpXG4gIH1cblxuICBpZiAoYSA9PT0gYikgcmV0dXJuIDBcblxuICB2YXIgeCA9IGEubGVuZ3RoXG4gIHZhciB5ID0gYi5sZW5ndGhcblxuICBmb3IgKHZhciBpID0gMCwgbGVuID0gTWF0aC5taW4oeCwgeSk7IGkgPCBsZW47ICsraSkge1xuICAgIGlmIChhW2ldICE9PSBiW2ldKSB7XG4gICAgICB4ID0gYVtpXVxuICAgICAgeSA9IGJbaV1cbiAgICAgIGJyZWFrXG4gICAgfVxuICB9XG5cbiAgaWYgKHggPCB5KSByZXR1cm4gLTFcbiAgaWYgKHkgPCB4KSByZXR1cm4gMVxuICByZXR1cm4gMFxufVxuXG5CdWZmZXIuaXNFbmNvZGluZyA9IGZ1bmN0aW9uIGlzRW5jb2RpbmcgKGVuY29kaW5nKSB7XG4gIHN3aXRjaCAoU3RyaW5nKGVuY29kaW5nKS50b0xvd2VyQ2FzZSgpKSB7XG4gICAgY2FzZSAnaGV4JzpcbiAgICBjYXNlICd1dGY4JzpcbiAgICBjYXNlICd1dGYtOCc6XG4gICAgY2FzZSAnYXNjaWknOlxuICAgIGNhc2UgJ2xhdGluMSc6XG4gICAgY2FzZSAnYmluYXJ5JzpcbiAgICBjYXNlICdiYXNlNjQnOlxuICAgIGNhc2UgJ3VjczInOlxuICAgIGNhc2UgJ3Vjcy0yJzpcbiAgICBjYXNlICd1dGYxNmxlJzpcbiAgICBjYXNlICd1dGYtMTZsZSc6XG4gICAgICByZXR1cm4gdHJ1ZVxuICAgIGRlZmF1bHQ6XG4gICAgICByZXR1cm4gZmFsc2VcbiAgfVxufVxuXG5CdWZmZXIuY29uY2F0ID0gZnVuY3Rpb24gY29uY2F0IChsaXN0LCBsZW5ndGgpIHtcbiAgaWYgKCFpc0FycmF5KGxpc3QpKSB7XG4gICAgdGhyb3cgbmV3IFR5cGVFcnJvcignXCJsaXN0XCIgYXJndW1lbnQgbXVzdCBiZSBhbiBBcnJheSBvZiBCdWZmZXJzJylcbiAgfVxuXG4gIGlmIChsaXN0Lmxlbmd0aCA9PT0gMCkge1xuICAgIHJldHVybiBCdWZmZXIuYWxsb2MoMClcbiAgfVxuXG4gIHZhciBpXG4gIGlmIChsZW5ndGggPT09IHVuZGVmaW5lZCkge1xuICAgIGxlbmd0aCA9IDBcbiAgICBmb3IgKGkgPSAwOyBpIDwgbGlzdC5sZW5ndGg7ICsraSkge1xuICAgICAgbGVuZ3RoICs9IGxpc3RbaV0ubGVuZ3RoXG4gICAgfVxuICB9XG5cbiAgdmFyIGJ1ZmZlciA9IEJ1ZmZlci5hbGxvY1Vuc2FmZShsZW5ndGgpXG4gIHZhciBwb3MgPSAwXG4gIGZvciAoaSA9IDA7IGkgPCBsaXN0Lmxlbmd0aDsgKytpKSB7XG4gICAgdmFyIGJ1ZiA9IGxpc3RbaV1cbiAgICBpZiAoIUJ1ZmZlci5pc0J1ZmZlcihidWYpKSB7XG4gICAgICB0aHJvdyBuZXcgVHlwZUVycm9yKCdcImxpc3RcIiBhcmd1bWVudCBtdXN0IGJlIGFuIEFycmF5IG9mIEJ1ZmZlcnMnKVxuICAgIH1cbiAgICBidWYuY29weShidWZmZXIsIHBvcylcbiAgICBwb3MgKz0gYnVmLmxlbmd0aFxuICB9XG4gIHJldHVybiBidWZmZXJcbn1cblxuZnVuY3Rpb24gYnl0ZUxlbmd0aCAoc3RyaW5nLCBlbmNvZGluZykge1xuICBpZiAoQnVmZmVyLmlzQnVmZmVyKHN0cmluZykpIHtcbiAgICByZXR1cm4gc3RyaW5nLmxlbmd0aFxuICB9XG4gIGlmICh0eXBlb2YgQXJyYXlCdWZmZXIgIT09ICd1bmRlZmluZWQnICYmIHR5cGVvZiBBcnJheUJ1ZmZlci5pc1ZpZXcgPT09ICdmdW5jdGlvbicgJiZcbiAgICAgIChBcnJheUJ1ZmZlci5pc1ZpZXcoc3RyaW5nKSB8fCBzdHJpbmcgaW5zdGFuY2VvZiBBcnJheUJ1ZmZlcikpIHtcbiAgICByZXR1cm4gc3RyaW5nLmJ5dGVMZW5ndGhcbiAgfVxuICBpZiAodHlwZW9mIHN0cmluZyAhPT0gJ3N0cmluZycpIHtcbiAgICBzdHJpbmcgPSAnJyArIHN0cmluZ1xuICB9XG5cbiAgdmFyIGxlbiA9IHN0cmluZy5sZW5ndGhcbiAgaWYgKGxlbiA9PT0gMCkgcmV0dXJuIDBcblxuICAvLyBVc2UgYSBmb3IgbG9vcCB0byBhdm9pZCByZWN1cnNpb25cbiAgdmFyIGxvd2VyZWRDYXNlID0gZmFsc2VcbiAgZm9yICg7Oykge1xuICAgIHN3aXRjaCAoZW5jb2RpbmcpIHtcbiAgICAgIGNhc2UgJ2FzY2lpJzpcbiAgICAgIGNhc2UgJ2xhdGluMSc6XG4gICAgICBjYXNlICdiaW5hcnknOlxuICAgICAgICByZXR1cm4gbGVuXG4gICAgICBjYXNlICd1dGY4JzpcbiAgICAgIGNhc2UgJ3V0Zi04JzpcbiAgICAgIGNhc2UgdW5kZWZpbmVkOlxuICAgICAgICByZXR1cm4gdXRmOFRvQnl0ZXMoc3RyaW5nKS5sZW5ndGhcbiAgICAgIGNhc2UgJ3VjczInOlxuICAgICAgY2FzZSAndWNzLTInOlxuICAgICAgY2FzZSAndXRmMTZsZSc6XG4gICAgICBjYXNlICd1dGYtMTZsZSc6XG4gICAgICAgIHJldHVybiBsZW4gKiAyXG4gICAgICBjYXNlICdoZXgnOlxuICAgICAgICByZXR1cm4gbGVuID4+PiAxXG4gICAgICBjYXNlICdiYXNlNjQnOlxuICAgICAgICByZXR1cm4gYmFzZTY0VG9CeXRlcyhzdHJpbmcpLmxlbmd0aFxuICAgICAgZGVmYXVsdDpcbiAgICAgICAgaWYgKGxvd2VyZWRDYXNlKSByZXR1cm4gdXRmOFRvQnl0ZXMoc3RyaW5nKS5sZW5ndGggLy8gYXNzdW1lIHV0ZjhcbiAgICAgICAgZW5jb2RpbmcgPSAoJycgKyBlbmNvZGluZykudG9Mb3dlckNhc2UoKVxuICAgICAgICBsb3dlcmVkQ2FzZSA9IHRydWVcbiAgICB9XG4gIH1cbn1cbkJ1ZmZlci5ieXRlTGVuZ3RoID0gYnl0ZUxlbmd0aFxuXG5mdW5jdGlvbiBzbG93VG9TdHJpbmcgKGVuY29kaW5nLCBzdGFydCwgZW5kKSB7XG4gIHZhciBsb3dlcmVkQ2FzZSA9IGZhbHNlXG5cbiAgLy8gTm8gbmVlZCB0byB2ZXJpZnkgdGhhdCBcInRoaXMubGVuZ3RoIDw9IE1BWF9VSU5UMzJcIiBzaW5jZSBpdCdzIGEgcmVhZC1vbmx5XG4gIC8vIHByb3BlcnR5IG9mIGEgdHlwZWQgYXJyYXkuXG5cbiAgLy8gVGhpcyBiZWhhdmVzIG5laXRoZXIgbGlrZSBTdHJpbmcgbm9yIFVpbnQ4QXJyYXkgaW4gdGhhdCB3ZSBzZXQgc3RhcnQvZW5kXG4gIC8vIHRvIHRoZWlyIHVwcGVyL2xvd2VyIGJvdW5kcyBpZiB0aGUgdmFsdWUgcGFzc2VkIGlzIG91dCBvZiByYW5nZS5cbiAgLy8gdW5kZWZpbmVkIGlzIGhhbmRsZWQgc3BlY2lhbGx5IGFzIHBlciBFQ01BLTI2MiA2dGggRWRpdGlvbixcbiAgLy8gU2VjdGlvbiAxMy4zLjMuNyBSdW50aW1lIFNlbWFudGljczogS2V5ZWRCaW5kaW5nSW5pdGlhbGl6YXRpb24uXG4gIGlmIChzdGFydCA9PT0gdW5kZWZpbmVkIHx8IHN0YXJ0IDwgMCkge1xuICAgIHN0YXJ0ID0gMFxuICB9XG4gIC8vIFJldHVybiBlYXJseSBpZiBzdGFydCA+IHRoaXMubGVuZ3RoLiBEb25lIGhlcmUgdG8gcHJldmVudCBwb3RlbnRpYWwgdWludDMyXG4gIC8vIGNvZXJjaW9uIGZhaWwgYmVsb3cuXG4gIGlmIChzdGFydCA+IHRoaXMubGVuZ3RoKSB7XG4gICAgcmV0dXJuICcnXG4gIH1cblxuICBpZiAoZW5kID09PSB1bmRlZmluZWQgfHwgZW5kID4gdGhpcy5sZW5ndGgpIHtcbiAgICBlbmQgPSB0aGlzLmxlbmd0aFxuICB9XG5cbiAgaWYgKGVuZCA8PSAwKSB7XG4gICAgcmV0dXJuICcnXG4gIH1cblxuICAvLyBGb3JjZSBjb2Vyc2lvbiB0byB1aW50MzIuIFRoaXMgd2lsbCBhbHNvIGNvZXJjZSBmYWxzZXkvTmFOIHZhbHVlcyB0byAwLlxuICBlbmQgPj4+PSAwXG4gIHN0YXJ0ID4+Pj0gMFxuXG4gIGlmIChlbmQgPD0gc3RhcnQpIHtcbiAgICByZXR1cm4gJydcbiAgfVxuXG4gIGlmICghZW5jb2RpbmcpIGVuY29kaW5nID0gJ3V0ZjgnXG5cbiAgd2hpbGUgKHRydWUpIHtcbiAgICBzd2l0Y2ggKGVuY29kaW5nKSB7XG4gICAgICBjYXNlICdoZXgnOlxuICAgICAgICByZXR1cm4gaGV4U2xpY2UodGhpcywgc3RhcnQsIGVuZClcblxuICAgICAgY2FzZSAndXRmOCc6XG4gICAgICBjYXNlICd1dGYtOCc6XG4gICAgICAgIHJldHVybiB1dGY4U2xpY2UodGhpcywgc3RhcnQsIGVuZClcblxuICAgICAgY2FzZSAnYXNjaWknOlxuICAgICAgICByZXR1cm4gYXNjaWlTbGljZSh0aGlzLCBzdGFydCwgZW5kKVxuXG4gICAgICBjYXNlICdsYXRpbjEnOlxuICAgICAgY2FzZSAnYmluYXJ5JzpcbiAgICAgICAgcmV0dXJuIGxhdGluMVNsaWNlKHRoaXMsIHN0YXJ0LCBlbmQpXG5cbiAgICAgIGNhc2UgJ2Jhc2U2NCc6XG4gICAgICAgIHJldHVybiBiYXNlNjRTbGljZSh0aGlzLCBzdGFydCwgZW5kKVxuXG4gICAgICBjYXNlICd1Y3MyJzpcbiAgICAgIGNhc2UgJ3Vjcy0yJzpcbiAgICAgIGNhc2UgJ3V0ZjE2bGUnOlxuICAgICAgY2FzZSAndXRmLTE2bGUnOlxuICAgICAgICByZXR1cm4gdXRmMTZsZVNsaWNlKHRoaXMsIHN0YXJ0LCBlbmQpXG5cbiAgICAgIGRlZmF1bHQ6XG4gICAgICAgIGlmIChsb3dlcmVkQ2FzZSkgdGhyb3cgbmV3IFR5cGVFcnJvcignVW5rbm93biBlbmNvZGluZzogJyArIGVuY29kaW5nKVxuICAgICAgICBlbmNvZGluZyA9IChlbmNvZGluZyArICcnKS50b0xvd2VyQ2FzZSgpXG4gICAgICAgIGxvd2VyZWRDYXNlID0gdHJ1ZVxuICAgIH1cbiAgfVxufVxuXG4vLyBUaGUgcHJvcGVydHkgaXMgdXNlZCBieSBgQnVmZmVyLmlzQnVmZmVyYCBhbmQgYGlzLWJ1ZmZlcmAgKGluIFNhZmFyaSA1LTcpIHRvIGRldGVjdFxuLy8gQnVmZmVyIGluc3RhbmNlcy5cbkJ1ZmZlci5wcm90b3R5cGUuX2lzQnVmZmVyID0gdHJ1ZVxuXG5mdW5jdGlvbiBzd2FwIChiLCBuLCBtKSB7XG4gIHZhciBpID0gYltuXVxuICBiW25dID0gYlttXVxuICBiW21dID0gaVxufVxuXG5CdWZmZXIucHJvdG90eXBlLnN3YXAxNiA9IGZ1bmN0aW9uIHN3YXAxNiAoKSB7XG4gIHZhciBsZW4gPSB0aGlzLmxlbmd0aFxuICBpZiAobGVuICUgMiAhPT0gMCkge1xuICAgIHRocm93IG5ldyBSYW5nZUVycm9yKCdCdWZmZXIgc2l6ZSBtdXN0IGJlIGEgbXVsdGlwbGUgb2YgMTYtYml0cycpXG4gIH1cbiAgZm9yICh2YXIgaSA9IDA7IGkgPCBsZW47IGkgKz0gMikge1xuICAgIHN3YXAodGhpcywgaSwgaSArIDEpXG4gIH1cbiAgcmV0dXJuIHRoaXNcbn1cblxuQnVmZmVyLnByb3RvdHlwZS5zd2FwMzIgPSBmdW5jdGlvbiBzd2FwMzIgKCkge1xuICB2YXIgbGVuID0gdGhpcy5sZW5ndGhcbiAgaWYgKGxlbiAlIDQgIT09IDApIHtcbiAgICB0aHJvdyBuZXcgUmFuZ2VFcnJvcignQnVmZmVyIHNpemUgbXVzdCBiZSBhIG11bHRpcGxlIG9mIDMyLWJpdHMnKVxuICB9XG4gIGZvciAodmFyIGkgPSAwOyBpIDwgbGVuOyBpICs9IDQpIHtcbiAgICBzd2FwKHRoaXMsIGksIGkgKyAzKVxuICAgIHN3YXAodGhpcywgaSArIDEsIGkgKyAyKVxuICB9XG4gIHJldHVybiB0aGlzXG59XG5cbkJ1ZmZlci5wcm90b3R5cGUuc3dhcDY0ID0gZnVuY3Rpb24gc3dhcDY0ICgpIHtcbiAgdmFyIGxlbiA9IHRoaXMubGVuZ3RoXG4gIGlmIChsZW4gJSA4ICE9PSAwKSB7XG4gICAgdGhyb3cgbmV3IFJhbmdlRXJyb3IoJ0J1ZmZlciBzaXplIG11c3QgYmUgYSBtdWx0aXBsZSBvZiA2NC1iaXRzJylcbiAgfVxuICBmb3IgKHZhciBpID0gMDsgaSA8IGxlbjsgaSArPSA4KSB7XG4gICAgc3dhcCh0aGlzLCBpLCBpICsgNylcbiAgICBzd2FwKHRoaXMsIGkgKyAxLCBpICsgNilcbiAgICBzd2FwKHRoaXMsIGkgKyAyLCBpICsgNSlcbiAgICBzd2FwKHRoaXMsIGkgKyAzLCBpICsgNClcbiAgfVxuICByZXR1cm4gdGhpc1xufVxuXG5CdWZmZXIucHJvdG90eXBlLnRvU3RyaW5nID0gZnVuY3Rpb24gdG9TdHJpbmcgKCkge1xuICB2YXIgbGVuZ3RoID0gdGhpcy5sZW5ndGggfCAwXG4gIGlmIChsZW5ndGggPT09IDApIHJldHVybiAnJ1xuICBpZiAoYXJndW1lbnRzLmxlbmd0aCA9PT0gMCkgcmV0dXJuIHV0ZjhTbGljZSh0aGlzLCAwLCBsZW5ndGgpXG4gIHJldHVybiBzbG93VG9TdHJpbmcuYXBwbHkodGhpcywgYXJndW1lbnRzKVxufVxuXG5CdWZmZXIucHJvdG90eXBlLmVxdWFscyA9IGZ1bmN0aW9uIGVxdWFscyAoYikge1xuICBpZiAoIUJ1ZmZlci5pc0J1ZmZlcihiKSkgdGhyb3cgbmV3IFR5cGVFcnJvcignQXJndW1lbnQgbXVzdCBiZSBhIEJ1ZmZlcicpXG4gIGlmICh0aGlzID09PSBiKSByZXR1cm4gdHJ1ZVxuICByZXR1cm4gQnVmZmVyLmNvbXBhcmUodGhpcywgYikgPT09IDBcbn1cblxuQnVmZmVyLnByb3RvdHlwZS5pbnNwZWN0ID0gZnVuY3Rpb24gaW5zcGVjdCAoKSB7XG4gIHZhciBzdHIgPSAnJ1xuICB2YXIgbWF4ID0gZXhwb3J0cy5JTlNQRUNUX01BWF9CWVRFU1xuICBpZiAodGhpcy5sZW5ndGggPiAwKSB7XG4gICAgc3RyID0gdGhpcy50b1N0cmluZygnaGV4JywgMCwgbWF4KS5tYXRjaCgvLnsyfS9nKS5qb2luKCcgJylcbiAgICBpZiAodGhpcy5sZW5ndGggPiBtYXgpIHN0ciArPSAnIC4uLiAnXG4gIH1cbiAgcmV0dXJuICc8QnVmZmVyICcgKyBzdHIgKyAnPidcbn1cblxuQnVmZmVyLnByb3RvdHlwZS5jb21wYXJlID0gZnVuY3Rpb24gY29tcGFyZSAodGFyZ2V0LCBzdGFydCwgZW5kLCB0aGlzU3RhcnQsIHRoaXNFbmQpIHtcbiAgaWYgKCFCdWZmZXIuaXNCdWZmZXIodGFyZ2V0KSkge1xuICAgIHRocm93IG5ldyBUeXBlRXJyb3IoJ0FyZ3VtZW50IG11c3QgYmUgYSBCdWZmZXInKVxuICB9XG5cbiAgaWYgKHN0YXJ0ID09PSB1bmRlZmluZWQpIHtcbiAgICBzdGFydCA9IDBcbiAgfVxuICBpZiAoZW5kID09PSB1bmRlZmluZWQpIHtcbiAgICBlbmQgPSB0YXJnZXQgPyB0YXJnZXQubGVuZ3RoIDogMFxuICB9XG4gIGlmICh0aGlzU3RhcnQgPT09IHVuZGVmaW5lZCkge1xuICAgIHRoaXNTdGFydCA9IDBcbiAgfVxuICBpZiAodGhpc0VuZCA9PT0gdW5kZWZpbmVkKSB7XG4gICAgdGhpc0VuZCA9IHRoaXMubGVuZ3RoXG4gIH1cblxuICBpZiAoc3RhcnQgPCAwIHx8IGVuZCA+IHRhcmdldC5sZW5ndGggfHwgdGhpc1N0YXJ0IDwgMCB8fCB0aGlzRW5kID4gdGhpcy5sZW5ndGgpIHtcbiAgICB0aHJvdyBuZXcgUmFuZ2VFcnJvcignb3V0IG9mIHJhbmdlIGluZGV4JylcbiAgfVxuXG4gIGlmICh0aGlzU3RhcnQgPj0gdGhpc0VuZCAmJiBzdGFydCA+PSBlbmQpIHtcbiAgICByZXR1cm4gMFxuICB9XG4gIGlmICh0aGlzU3RhcnQgPj0gdGhpc0VuZCkge1xuICAgIHJldHVybiAtMVxuICB9XG4gIGlmIChzdGFydCA+PSBlbmQpIHtcbiAgICByZXR1cm4gMVxuICB9XG5cbiAgc3RhcnQgPj4+PSAwXG4gIGVuZCA+Pj49IDBcbiAgdGhpc1N0YXJ0ID4+Pj0gMFxuICB0aGlzRW5kID4+Pj0gMFxuXG4gIGlmICh0aGlzID09PSB0YXJnZXQpIHJldHVybiAwXG5cbiAgdmFyIHggPSB0aGlzRW5kIC0gdGhpc1N0YXJ0XG4gIHZhciB5ID0gZW5kIC0gc3RhcnRcbiAgdmFyIGxlbiA9IE1hdGgubWluKHgsIHkpXG5cbiAgdmFyIHRoaXNDb3B5ID0gdGhpcy5zbGljZSh0aGlzU3RhcnQsIHRoaXNFbmQpXG4gIHZhciB0YXJnZXRDb3B5ID0gdGFyZ2V0LnNsaWNlKHN0YXJ0LCBlbmQpXG5cbiAgZm9yICh2YXIgaSA9IDA7IGkgPCBsZW47ICsraSkge1xuICAgIGlmICh0aGlzQ29weVtpXSAhPT0gdGFyZ2V0Q29weVtpXSkge1xuICAgICAgeCA9IHRoaXNDb3B5W2ldXG4gICAgICB5ID0gdGFyZ2V0Q29weVtpXVxuICAgICAgYnJlYWtcbiAgICB9XG4gIH1cblxuICBpZiAoeCA8IHkpIHJldHVybiAtMVxuICBpZiAoeSA8IHgpIHJldHVybiAxXG4gIHJldHVybiAwXG59XG5cbi8vIEZpbmRzIGVpdGhlciB0aGUgZmlyc3QgaW5kZXggb2YgYHZhbGAgaW4gYGJ1ZmZlcmAgYXQgb2Zmc2V0ID49IGBieXRlT2Zmc2V0YCxcbi8vIE9SIHRoZSBsYXN0IGluZGV4IG9mIGB2YWxgIGluIGBidWZmZXJgIGF0IG9mZnNldCA8PSBgYnl0ZU9mZnNldGAuXG4vL1xuLy8gQXJndW1lbnRzOlxuLy8gLSBidWZmZXIgLSBhIEJ1ZmZlciB0byBzZWFyY2hcbi8vIC0gdmFsIC0gYSBzdHJpbmcsIEJ1ZmZlciwgb3IgbnVtYmVyXG4vLyAtIGJ5dGVPZmZzZXQgLSBhbiBpbmRleCBpbnRvIGBidWZmZXJgOyB3aWxsIGJlIGNsYW1wZWQgdG8gYW4gaW50MzJcbi8vIC0gZW5jb2RpbmcgLSBhbiBvcHRpb25hbCBlbmNvZGluZywgcmVsZXZhbnQgaXMgdmFsIGlzIGEgc3RyaW5nXG4vLyAtIGRpciAtIHRydWUgZm9yIGluZGV4T2YsIGZhbHNlIGZvciBsYXN0SW5kZXhPZlxuZnVuY3Rpb24gYmlkaXJlY3Rpb25hbEluZGV4T2YgKGJ1ZmZlciwgdmFsLCBieXRlT2Zmc2V0LCBlbmNvZGluZywgZGlyKSB7XG4gIC8vIEVtcHR5IGJ1ZmZlciBtZWFucyBubyBtYXRjaFxuICBpZiAoYnVmZmVyLmxlbmd0aCA9PT0gMCkgcmV0dXJuIC0xXG5cbiAgLy8gTm9ybWFsaXplIGJ5dGVPZmZzZXRcbiAgaWYgKHR5cGVvZiBieXRlT2Zmc2V0ID09PSAnc3RyaW5nJykge1xuICAgIGVuY29kaW5nID0gYnl0ZU9mZnNldFxuICAgIGJ5dGVPZmZzZXQgPSAwXG4gIH0gZWxzZSBpZiAoYnl0ZU9mZnNldCA+IDB4N2ZmZmZmZmYpIHtcbiAgICBieXRlT2Zmc2V0ID0gMHg3ZmZmZmZmZlxuICB9IGVsc2UgaWYgKGJ5dGVPZmZzZXQgPCAtMHg4MDAwMDAwMCkge1xuICAgIGJ5dGVPZmZzZXQgPSAtMHg4MDAwMDAwMFxuICB9XG4gIGJ5dGVPZmZzZXQgPSArYnl0ZU9mZnNldCAgLy8gQ29lcmNlIHRvIE51bWJlci5cbiAgaWYgKGlzTmFOKGJ5dGVPZmZzZXQpKSB7XG4gICAgLy8gYnl0ZU9mZnNldDogaXQgaXQncyB1bmRlZmluZWQsIG51bGwsIE5hTiwgXCJmb29cIiwgZXRjLCBzZWFyY2ggd2hvbGUgYnVmZmVyXG4gICAgYnl0ZU9mZnNldCA9IGRpciA/IDAgOiAoYnVmZmVyLmxlbmd0aCAtIDEpXG4gIH1cblxuICAvLyBOb3JtYWxpemUgYnl0ZU9mZnNldDogbmVnYXRpdmUgb2Zmc2V0cyBzdGFydCBmcm9tIHRoZSBlbmQgb2YgdGhlIGJ1ZmZlclxuICBpZiAoYnl0ZU9mZnNldCA8IDApIGJ5dGVPZmZzZXQgPSBidWZmZXIubGVuZ3RoICsgYnl0ZU9mZnNldFxuICBpZiAoYnl0ZU9mZnNldCA+PSBidWZmZXIubGVuZ3RoKSB7XG4gICAgaWYgKGRpcikgcmV0dXJuIC0xXG4gICAgZWxzZSBieXRlT2Zmc2V0ID0gYnVmZmVyLmxlbmd0aCAtIDFcbiAgfSBlbHNlIGlmIChieXRlT2Zmc2V0IDwgMCkge1xuICAgIGlmIChkaXIpIGJ5dGVPZmZzZXQgPSAwXG4gICAgZWxzZSByZXR1cm4gLTFcbiAgfVxuXG4gIC8vIE5vcm1hbGl6ZSB2YWxcbiAgaWYgKHR5cGVvZiB2YWwgPT09ICdzdHJpbmcnKSB7XG4gICAgdmFsID0gQnVmZmVyLmZyb20odmFsLCBlbmNvZGluZylcbiAgfVxuXG4gIC8vIEZpbmFsbHksIHNlYXJjaCBlaXRoZXIgaW5kZXhPZiAoaWYgZGlyIGlzIHRydWUpIG9yIGxhc3RJbmRleE9mXG4gIGlmIChCdWZmZXIuaXNCdWZmZXIodmFsKSkge1xuICAgIC8vIFNwZWNpYWwgY2FzZTogbG9va2luZyBmb3IgZW1wdHkgc3RyaW5nL2J1ZmZlciBhbHdheXMgZmFpbHNcbiAgICBpZiAodmFsLmxlbmd0aCA9PT0gMCkge1xuICAgICAgcmV0dXJuIC0xXG4gICAgfVxuICAgIHJldHVybiBhcnJheUluZGV4T2YoYnVmZmVyLCB2YWwsIGJ5dGVPZmZzZXQsIGVuY29kaW5nLCBkaXIpXG4gIH0gZWxzZSBpZiAodHlwZW9mIHZhbCA9PT0gJ251bWJlcicpIHtcbiAgICB2YWwgPSB2YWwgJiAweEZGIC8vIFNlYXJjaCBmb3IgYSBieXRlIHZhbHVlIFswLTI1NV1cbiAgICBpZiAoQnVmZmVyLlRZUEVEX0FSUkFZX1NVUFBPUlQgJiZcbiAgICAgICAgdHlwZW9mIFVpbnQ4QXJyYXkucHJvdG90eXBlLmluZGV4T2YgPT09ICdmdW5jdGlvbicpIHtcbiAgICAgIGlmIChkaXIpIHtcbiAgICAgICAgcmV0dXJuIFVpbnQ4QXJyYXkucHJvdG90eXBlLmluZGV4T2YuY2FsbChidWZmZXIsIHZhbCwgYnl0ZU9mZnNldClcbiAgICAgIH0gZWxzZSB7XG4gICAgICAgIHJldHVybiBVaW50OEFycmF5LnByb3RvdHlwZS5sYXN0SW5kZXhPZi5jYWxsKGJ1ZmZlciwgdmFsLCBieXRlT2Zmc2V0KVxuICAgICAgfVxuICAgIH1cbiAgICByZXR1cm4gYXJyYXlJbmRleE9mKGJ1ZmZlciwgWyB2YWwgXSwgYnl0ZU9mZnNldCwgZW5jb2RpbmcsIGRpcilcbiAgfVxuXG4gIHRocm93IG5ldyBUeXBlRXJyb3IoJ3ZhbCBtdXN0IGJlIHN0cmluZywgbnVtYmVyIG9yIEJ1ZmZlcicpXG59XG5cbmZ1bmN0aW9uIGFycmF5SW5kZXhPZiAoYXJyLCB2YWwsIGJ5dGVPZmZzZXQsIGVuY29kaW5nLCBkaXIpIHtcbiAgdmFyIGluZGV4U2l6ZSA9IDFcbiAgdmFyIGFyckxlbmd0aCA9IGFyci5sZW5ndGhcbiAgdmFyIHZhbExlbmd0aCA9IHZhbC5sZW5ndGhcblxuICBpZiAoZW5jb2RpbmcgIT09IHVuZGVmaW5lZCkge1xuICAgIGVuY29kaW5nID0gU3RyaW5nKGVuY29kaW5nKS50b0xvd2VyQ2FzZSgpXG4gICAgaWYgKGVuY29kaW5nID09PSAndWNzMicgfHwgZW5jb2RpbmcgPT09ICd1Y3MtMicgfHxcbiAgICAgICAgZW5jb2RpbmcgPT09ICd1dGYxNmxlJyB8fCBlbmNvZGluZyA9PT0gJ3V0Zi0xNmxlJykge1xuICAgICAgaWYgKGFyci5sZW5ndGggPCAyIHx8IHZhbC5sZW5ndGggPCAyKSB7XG4gICAgICAgIHJldHVybiAtMVxuICAgICAgfVxuICAgICAgaW5kZXhTaXplID0gMlxuICAgICAgYXJyTGVuZ3RoIC89IDJcbiAgICAgIHZhbExlbmd0aCAvPSAyXG4gICAgICBieXRlT2Zmc2V0IC89IDJcbiAgICB9XG4gIH1cblxuICBmdW5jdGlvbiByZWFkIChidWYsIGkpIHtcbiAgICBpZiAoaW5kZXhTaXplID09PSAxKSB7XG4gICAgICByZXR1cm4gYnVmW2ldXG4gICAgfSBlbHNlIHtcbiAgICAgIHJldHVybiBidWYucmVhZFVJbnQxNkJFKGkgKiBpbmRleFNpemUpXG4gICAgfVxuICB9XG5cbiAgdmFyIGlcbiAgaWYgKGRpcikge1xuICAgIHZhciBmb3VuZEluZGV4ID0gLTFcbiAgICBmb3IgKGkgPSBieXRlT2Zmc2V0OyBpIDwgYXJyTGVuZ3RoOyBpKyspIHtcbiAgICAgIGlmIChyZWFkKGFyciwgaSkgPT09IHJlYWQodmFsLCBmb3VuZEluZGV4ID09PSAtMSA/IDAgOiBpIC0gZm91bmRJbmRleCkpIHtcbiAgICAgICAgaWYgKGZvdW5kSW5kZXggPT09IC0xKSBmb3VuZEluZGV4ID0gaVxuICAgICAgICBpZiAoaSAtIGZvdW5kSW5kZXggKyAxID09PSB2YWxMZW5ndGgpIHJldHVybiBmb3VuZEluZGV4ICogaW5kZXhTaXplXG4gICAgICB9IGVsc2Uge1xuICAgICAgICBpZiAoZm91bmRJbmRleCAhPT0gLTEpIGkgLT0gaSAtIGZvdW5kSW5kZXhcbiAgICAgICAgZm91bmRJbmRleCA9IC0xXG4gICAgICB9XG4gICAgfVxuICB9IGVsc2Uge1xuICAgIGlmIChieXRlT2Zmc2V0ICsgdmFsTGVuZ3RoID4gYXJyTGVuZ3RoKSBieXRlT2Zmc2V0ID0gYXJyTGVuZ3RoIC0gdmFsTGVuZ3RoXG4gICAgZm9yIChpID0gYnl0ZU9mZnNldDsgaSA+PSAwOyBpLS0pIHtcbiAgICAgIHZhciBmb3VuZCA9IHRydWVcbiAgICAgIGZvciAodmFyIGogPSAwOyBqIDwgdmFsTGVuZ3RoOyBqKyspIHtcbiAgICAgICAgaWYgKHJlYWQoYXJyLCBpICsgaikgIT09IHJlYWQodmFsLCBqKSkge1xuICAgICAgICAgIGZvdW5kID0gZmFsc2VcbiAgICAgICAgICBicmVha1xuICAgICAgICB9XG4gICAgICB9XG4gICAgICBpZiAoZm91bmQpIHJldHVybiBpXG4gICAgfVxuICB9XG5cbiAgcmV0dXJuIC0xXG59XG5cbkJ1ZmZlci5wcm90b3R5cGUuaW5jbHVkZXMgPSBmdW5jdGlvbiBpbmNsdWRlcyAodmFsLCBieXRlT2Zmc2V0LCBlbmNvZGluZykge1xuICByZXR1cm4gdGhpcy5pbmRleE9mKHZhbCwgYnl0ZU9mZnNldCwgZW5jb2RpbmcpICE9PSAtMVxufVxuXG5CdWZmZXIucHJvdG90eXBlLmluZGV4T2YgPSBmdW5jdGlvbiBpbmRleE9mICh2YWwsIGJ5dGVPZmZzZXQsIGVuY29kaW5nKSB7XG4gIHJldHVybiBiaWRpcmVjdGlvbmFsSW5kZXhPZih0aGlzLCB2YWwsIGJ5dGVPZmZzZXQsIGVuY29kaW5nLCB0cnVlKVxufVxuXG5CdWZmZXIucHJvdG90eXBlLmxhc3RJbmRleE9mID0gZnVuY3Rpb24gbGFzdEluZGV4T2YgKHZhbCwgYnl0ZU9mZnNldCwgZW5jb2RpbmcpIHtcbiAgcmV0dXJuIGJpZGlyZWN0aW9uYWxJbmRleE9mKHRoaXMsIHZhbCwgYnl0ZU9mZnNldCwgZW5jb2RpbmcsIGZhbHNlKVxufVxuXG5mdW5jdGlvbiBoZXhXcml0ZSAoYnVmLCBzdHJpbmcsIG9mZnNldCwgbGVuZ3RoKSB7XG4gIG9mZnNldCA9IE51bWJlcihvZmZzZXQpIHx8IDBcbiAgdmFyIHJlbWFpbmluZyA9IGJ1Zi5sZW5ndGggLSBvZmZzZXRcbiAgaWYgKCFsZW5ndGgpIHtcbiAgICBsZW5ndGggPSByZW1haW5pbmdcbiAgfSBlbHNlIHtcbiAgICBsZW5ndGggPSBOdW1iZXIobGVuZ3RoKVxuICAgIGlmIChsZW5ndGggPiByZW1haW5pbmcpIHtcbiAgICAgIGxlbmd0aCA9IHJlbWFpbmluZ1xuICAgIH1cbiAgfVxuXG4gIC8vIG11c3QgYmUgYW4gZXZlbiBudW1iZXIgb2YgZGlnaXRzXG4gIHZhciBzdHJMZW4gPSBzdHJpbmcubGVuZ3RoXG4gIGlmIChzdHJMZW4gJSAyICE9PSAwKSB0aHJvdyBuZXcgVHlwZUVycm9yKCdJbnZhbGlkIGhleCBzdHJpbmcnKVxuXG4gIGlmIChsZW5ndGggPiBzdHJMZW4gLyAyKSB7XG4gICAgbGVuZ3RoID0gc3RyTGVuIC8gMlxuICB9XG4gIGZvciAodmFyIGkgPSAwOyBpIDwgbGVuZ3RoOyArK2kpIHtcbiAgICB2YXIgcGFyc2VkID0gcGFyc2VJbnQoc3RyaW5nLnN1YnN0cihpICogMiwgMiksIDE2KVxuICAgIGlmIChpc05hTihwYXJzZWQpKSByZXR1cm4gaVxuICAgIGJ1ZltvZmZzZXQgKyBpXSA9IHBhcnNlZFxuICB9XG4gIHJldHVybiBpXG59XG5cbmZ1bmN0aW9uIHV0ZjhXcml0ZSAoYnVmLCBzdHJpbmcsIG9mZnNldCwgbGVuZ3RoKSB7XG4gIHJldHVybiBibGl0QnVmZmVyKHV0ZjhUb0J5dGVzKHN0cmluZywgYnVmLmxlbmd0aCAtIG9mZnNldCksIGJ1Ziwgb2Zmc2V0LCBsZW5ndGgpXG59XG5cbmZ1bmN0aW9uIGFzY2lpV3JpdGUgKGJ1Ziwgc3RyaW5nLCBvZmZzZXQsIGxlbmd0aCkge1xuICByZXR1cm4gYmxpdEJ1ZmZlcihhc2NpaVRvQnl0ZXMoc3RyaW5nKSwgYnVmLCBvZmZzZXQsIGxlbmd0aClcbn1cblxuZnVuY3Rpb24gbGF0aW4xV3JpdGUgKGJ1Ziwgc3RyaW5nLCBvZmZzZXQsIGxlbmd0aCkge1xuICByZXR1cm4gYXNjaWlXcml0ZShidWYsIHN0cmluZywgb2Zmc2V0LCBsZW5ndGgpXG59XG5cbmZ1bmN0aW9uIGJhc2U2NFdyaXRlIChidWYsIHN0cmluZywgb2Zmc2V0LCBsZW5ndGgpIHtcbiAgcmV0dXJuIGJsaXRCdWZmZXIoYmFzZTY0VG9CeXRlcyhzdHJpbmcpLCBidWYsIG9mZnNldCwgbGVuZ3RoKVxufVxuXG5mdW5jdGlvbiB1Y3MyV3JpdGUgKGJ1Ziwgc3RyaW5nLCBvZmZzZXQsIGxlbmd0aCkge1xuICByZXR1cm4gYmxpdEJ1ZmZlcih1dGYxNmxlVG9CeXRlcyhzdHJpbmcsIGJ1Zi5sZW5ndGggLSBvZmZzZXQpLCBidWYsIG9mZnNldCwgbGVuZ3RoKVxufVxuXG5CdWZmZXIucHJvdG90eXBlLndyaXRlID0gZnVuY3Rpb24gd3JpdGUgKHN0cmluZywgb2Zmc2V0LCBsZW5ndGgsIGVuY29kaW5nKSB7XG4gIC8vIEJ1ZmZlciN3cml0ZShzdHJpbmcpXG4gIGlmIChvZmZzZXQgPT09IHVuZGVmaW5lZCkge1xuICAgIGVuY29kaW5nID0gJ3V0ZjgnXG4gICAgbGVuZ3RoID0gdGhpcy5sZW5ndGhcbiAgICBvZmZzZXQgPSAwXG4gIC8vIEJ1ZmZlciN3cml0ZShzdHJpbmcsIGVuY29kaW5nKVxuICB9IGVsc2UgaWYgKGxlbmd0aCA9PT0gdW5kZWZpbmVkICYmIHR5cGVvZiBvZmZzZXQgPT09ICdzdHJpbmcnKSB7XG4gICAgZW5jb2RpbmcgPSBvZmZzZXRcbiAgICBsZW5ndGggPSB0aGlzLmxlbmd0aFxuICAgIG9mZnNldCA9IDBcbiAgLy8gQnVmZmVyI3dyaXRlKHN0cmluZywgb2Zmc2V0WywgbGVuZ3RoXVssIGVuY29kaW5nXSlcbiAgfSBlbHNlIGlmIChpc0Zpbml0ZShvZmZzZXQpKSB7XG4gICAgb2Zmc2V0ID0gb2Zmc2V0IHwgMFxuICAgIGlmIChpc0Zpbml0ZShsZW5ndGgpKSB7XG4gICAgICBsZW5ndGggPSBsZW5ndGggfCAwXG4gICAgICBpZiAoZW5jb2RpbmcgPT09IHVuZGVmaW5lZCkgZW5jb2RpbmcgPSAndXRmOCdcbiAgICB9IGVsc2Uge1xuICAgICAgZW5jb2RpbmcgPSBsZW5ndGhcbiAgICAgIGxlbmd0aCA9IHVuZGVmaW5lZFxuICAgIH1cbiAgLy8gbGVnYWN5IHdyaXRlKHN0cmluZywgZW5jb2RpbmcsIG9mZnNldCwgbGVuZ3RoKSAtIHJlbW92ZSBpbiB2MC4xM1xuICB9IGVsc2Uge1xuICAgIHRocm93IG5ldyBFcnJvcihcbiAgICAgICdCdWZmZXIud3JpdGUoc3RyaW5nLCBlbmNvZGluZywgb2Zmc2V0WywgbGVuZ3RoXSkgaXMgbm8gbG9uZ2VyIHN1cHBvcnRlZCdcbiAgICApXG4gIH1cblxuICB2YXIgcmVtYWluaW5nID0gdGhpcy5sZW5ndGggLSBvZmZzZXRcbiAgaWYgKGxlbmd0aCA9PT0gdW5kZWZpbmVkIHx8IGxlbmd0aCA+IHJlbWFpbmluZykgbGVuZ3RoID0gcmVtYWluaW5nXG5cbiAgaWYgKChzdHJpbmcubGVuZ3RoID4gMCAmJiAobGVuZ3RoIDwgMCB8fCBvZmZzZXQgPCAwKSkgfHwgb2Zmc2V0ID4gdGhpcy5sZW5ndGgpIHtcbiAgICB0aHJvdyBuZXcgUmFuZ2VFcnJvcignQXR0ZW1wdCB0byB3cml0ZSBvdXRzaWRlIGJ1ZmZlciBib3VuZHMnKVxuICB9XG5cbiAgaWYgKCFlbmNvZGluZykgZW5jb2RpbmcgPSAndXRmOCdcblxuICB2YXIgbG93ZXJlZENhc2UgPSBmYWxzZVxuICBmb3IgKDs7KSB7XG4gICAgc3dpdGNoIChlbmNvZGluZykge1xuICAgICAgY2FzZSAnaGV4JzpcbiAgICAgICAgcmV0dXJuIGhleFdyaXRlKHRoaXMsIHN0cmluZywgb2Zmc2V0LCBsZW5ndGgpXG5cbiAgICAgIGNhc2UgJ3V0ZjgnOlxuICAgICAgY2FzZSAndXRmLTgnOlxuICAgICAgICByZXR1cm4gdXRmOFdyaXRlKHRoaXMsIHN0cmluZywgb2Zmc2V0LCBsZW5ndGgpXG5cbiAgICAgIGNhc2UgJ2FzY2lpJzpcbiAgICAgICAgcmV0dXJuIGFzY2lpV3JpdGUodGhpcywgc3RyaW5nLCBvZmZzZXQsIGxlbmd0aClcblxuICAgICAgY2FzZSAnbGF0aW4xJzpcbiAgICAgIGNhc2UgJ2JpbmFyeSc6XG4gICAgICAgIHJldHVybiBsYXRpbjFXcml0ZSh0aGlzLCBzdHJpbmcsIG9mZnNldCwgbGVuZ3RoKVxuXG4gICAgICBjYXNlICdiYXNlNjQnOlxuICAgICAgICAvLyBXYXJuaW5nOiBtYXhMZW5ndGggbm90IHRha2VuIGludG8gYWNjb3VudCBpbiBiYXNlNjRXcml0ZVxuICAgICAgICByZXR1cm4gYmFzZTY0V3JpdGUodGhpcywgc3RyaW5nLCBvZmZzZXQsIGxlbmd0aClcblxuICAgICAgY2FzZSAndWNzMic6XG4gICAgICBjYXNlICd1Y3MtMic6XG4gICAgICBjYXNlICd1dGYxNmxlJzpcbiAgICAgIGNhc2UgJ3V0Zi0xNmxlJzpcbiAgICAgICAgcmV0dXJuIHVjczJXcml0ZSh0aGlzLCBzdHJpbmcsIG9mZnNldCwgbGVuZ3RoKVxuXG4gICAgICBkZWZhdWx0OlxuICAgICAgICBpZiAobG93ZXJlZENhc2UpIHRocm93IG5ldyBUeXBlRXJyb3IoJ1Vua25vd24gZW5jb2Rpbmc6ICcgKyBlbmNvZGluZylcbiAgICAgICAgZW5jb2RpbmcgPSAoJycgKyBlbmNvZGluZykudG9Mb3dlckNhc2UoKVxuICAgICAgICBsb3dlcmVkQ2FzZSA9IHRydWVcbiAgICB9XG4gIH1cbn1cblxuQnVmZmVyLnByb3RvdHlwZS50b0pTT04gPSBmdW5jdGlvbiB0b0pTT04gKCkge1xuICByZXR1cm4ge1xuICAgIHR5cGU6ICdCdWZmZXInLFxuICAgIGRhdGE6IEFycmF5LnByb3RvdHlwZS5zbGljZS5jYWxsKHRoaXMuX2FyciB8fCB0aGlzLCAwKVxuICB9XG59XG5cbmZ1bmN0aW9uIGJhc2U2NFNsaWNlIChidWYsIHN0YXJ0LCBlbmQpIHtcbiAgaWYgKHN0YXJ0ID09PSAwICYmIGVuZCA9PT0gYnVmLmxlbmd0aCkge1xuICAgIHJldHVybiBiYXNlNjQuZnJvbUJ5dGVBcnJheShidWYpXG4gIH0gZWxzZSB7XG4gICAgcmV0dXJuIGJhc2U2NC5mcm9tQnl0ZUFycmF5KGJ1Zi5zbGljZShzdGFydCwgZW5kKSlcbiAgfVxufVxuXG5mdW5jdGlvbiB1dGY4U2xpY2UgKGJ1Ziwgc3RhcnQsIGVuZCkge1xuICBlbmQgPSBNYXRoLm1pbihidWYubGVuZ3RoLCBlbmQpXG4gIHZhciByZXMgPSBbXVxuXG4gIHZhciBpID0gc3RhcnRcbiAgd2hpbGUgKGkgPCBlbmQpIHtcbiAgICB2YXIgZmlyc3RCeXRlID0gYnVmW2ldXG4gICAgdmFyIGNvZGVQb2ludCA9IG51bGxcbiAgICB2YXIgYnl0ZXNQZXJTZXF1ZW5jZSA9IChmaXJzdEJ5dGUgPiAweEVGKSA/IDRcbiAgICAgIDogKGZpcnN0Qnl0ZSA+IDB4REYpID8gM1xuICAgICAgOiAoZmlyc3RCeXRlID4gMHhCRikgPyAyXG4gICAgICA6IDFcblxuICAgIGlmIChpICsgYnl0ZXNQZXJTZXF1ZW5jZSA8PSBlbmQpIHtcbiAgICAgIHZhciBzZWNvbmRCeXRlLCB0aGlyZEJ5dGUsIGZvdXJ0aEJ5dGUsIHRlbXBDb2RlUG9pbnRcblxuICAgICAgc3dpdGNoIChieXRlc1BlclNlcXVlbmNlKSB7XG4gICAgICAgIGNhc2UgMTpcbiAgICAgICAgICBpZiAoZmlyc3RCeXRlIDwgMHg4MCkge1xuICAgICAgICAgICAgY29kZVBvaW50ID0gZmlyc3RCeXRlXG4gICAgICAgICAgfVxuICAgICAgICAgIGJyZWFrXG4gICAgICAgIGNhc2UgMjpcbiAgICAgICAgICBzZWNvbmRCeXRlID0gYnVmW2kgKyAxXVxuICAgICAgICAgIGlmICgoc2Vjb25kQnl0ZSAmIDB4QzApID09PSAweDgwKSB7XG4gICAgICAgICAgICB0ZW1wQ29kZVBvaW50ID0gKGZpcnN0Qnl0ZSAmIDB4MUYpIDw8IDB4NiB8IChzZWNvbmRCeXRlICYgMHgzRilcbiAgICAgICAgICAgIGlmICh0ZW1wQ29kZVBvaW50ID4gMHg3Rikge1xuICAgICAgICAgICAgICBjb2RlUG9pbnQgPSB0ZW1wQ29kZVBvaW50XG4gICAgICAgICAgICB9XG4gICAgICAgICAgfVxuICAgICAgICAgIGJyZWFrXG4gICAgICAgIGNhc2UgMzpcbiAgICAgICAgICBzZWNvbmRCeXRlID0gYnVmW2kgKyAxXVxuICAgICAgICAgIHRoaXJkQnl0ZSA9IGJ1ZltpICsgMl1cbiAgICAgICAgICBpZiAoKHNlY29uZEJ5dGUgJiAweEMwKSA9PT0gMHg4MCAmJiAodGhpcmRCeXRlICYgMHhDMCkgPT09IDB4ODApIHtcbiAgICAgICAgICAgIHRlbXBDb2RlUG9pbnQgPSAoZmlyc3RCeXRlICYgMHhGKSA8PCAweEMgfCAoc2Vjb25kQnl0ZSAmIDB4M0YpIDw8IDB4NiB8ICh0aGlyZEJ5dGUgJiAweDNGKVxuICAgICAgICAgICAgaWYgKHRlbXBDb2RlUG9pbnQgPiAweDdGRiAmJiAodGVtcENvZGVQb2ludCA8IDB4RDgwMCB8fCB0ZW1wQ29kZVBvaW50ID4gMHhERkZGKSkge1xuICAgICAgICAgICAgICBjb2RlUG9pbnQgPSB0ZW1wQ29kZVBvaW50XG4gICAgICAgICAgICB9XG4gICAgICAgICAgfVxuICAgICAgICAgIGJyZWFrXG4gICAgICAgIGNhc2UgNDpcbiAgICAgICAgICBzZWNvbmRCeXRlID0gYnVmW2kgKyAxXVxuICAgICAgICAgIHRoaXJkQnl0ZSA9IGJ1ZltpICsgMl1cbiAgICAgICAgICBmb3VydGhCeXRlID0gYnVmW2kgKyAzXVxuICAgICAgICAgIGlmICgoc2Vjb25kQnl0ZSAmIDB4QzApID09PSAweDgwICYmICh0aGlyZEJ5dGUgJiAweEMwKSA9PT0gMHg4MCAmJiAoZm91cnRoQnl0ZSAmIDB4QzApID09PSAweDgwKSB7XG4gICAgICAgICAgICB0ZW1wQ29kZVBvaW50ID0gKGZpcnN0Qnl0ZSAmIDB4RikgPDwgMHgxMiB8IChzZWNvbmRCeXRlICYgMHgzRikgPDwgMHhDIHwgKHRoaXJkQnl0ZSAmIDB4M0YpIDw8IDB4NiB8IChmb3VydGhCeXRlICYgMHgzRilcbiAgICAgICAgICAgIGlmICh0ZW1wQ29kZVBvaW50ID4gMHhGRkZGICYmIHRlbXBDb2RlUG9pbnQgPCAweDExMDAwMCkge1xuICAgICAgICAgICAgICBjb2RlUG9pbnQgPSB0ZW1wQ29kZVBvaW50XG4gICAgICAgICAgICB9XG4gICAgICAgICAgfVxuICAgICAgfVxuICAgIH1cblxuICAgIGlmIChjb2RlUG9pbnQgPT09IG51bGwpIHtcbiAgICAgIC8vIHdlIGRpZCBub3QgZ2VuZXJhdGUgYSB2YWxpZCBjb2RlUG9pbnQgc28gaW5zZXJ0IGFcbiAgICAgIC8vIHJlcGxhY2VtZW50IGNoYXIgKFUrRkZGRCkgYW5kIGFkdmFuY2Ugb25seSAxIGJ5dGVcbiAgICAgIGNvZGVQb2ludCA9IDB4RkZGRFxuICAgICAgYnl0ZXNQZXJTZXF1ZW5jZSA9IDFcbiAgICB9IGVsc2UgaWYgKGNvZGVQb2ludCA+IDB4RkZGRikge1xuICAgICAgLy8gZW5jb2RlIHRvIHV0ZjE2IChzdXJyb2dhdGUgcGFpciBkYW5jZSlcbiAgICAgIGNvZGVQb2ludCAtPSAweDEwMDAwXG4gICAgICByZXMucHVzaChjb2RlUG9pbnQgPj4+IDEwICYgMHgzRkYgfCAweEQ4MDApXG4gICAgICBjb2RlUG9pbnQgPSAweERDMDAgfCBjb2RlUG9pbnQgJiAweDNGRlxuICAgIH1cblxuICAgIHJlcy5wdXNoKGNvZGVQb2ludClcbiAgICBpICs9IGJ5dGVzUGVyU2VxdWVuY2VcbiAgfVxuXG4gIHJldHVybiBkZWNvZGVDb2RlUG9pbnRzQXJyYXkocmVzKVxufVxuXG4vLyBCYXNlZCBvbiBodHRwOi8vc3RhY2tvdmVyZmxvdy5jb20vYS8yMjc0NzI3Mi82ODA3NDIsIHRoZSBicm93c2VyIHdpdGhcbi8vIHRoZSBsb3dlc3QgbGltaXQgaXMgQ2hyb21lLCB3aXRoIDB4MTAwMDAgYXJncy5cbi8vIFdlIGdvIDEgbWFnbml0dWRlIGxlc3MsIGZvciBzYWZldHlcbnZhciBNQVhfQVJHVU1FTlRTX0xFTkdUSCA9IDB4MTAwMFxuXG5mdW5jdGlvbiBkZWNvZGVDb2RlUG9pbnRzQXJyYXkgKGNvZGVQb2ludHMpIHtcbiAgdmFyIGxlbiA9IGNvZGVQb2ludHMubGVuZ3RoXG4gIGlmIChsZW4gPD0gTUFYX0FSR1VNRU5UU19MRU5HVEgpIHtcbiAgICByZXR1cm4gU3RyaW5nLmZyb21DaGFyQ29kZS5hcHBseShTdHJpbmcsIGNvZGVQb2ludHMpIC8vIGF2b2lkIGV4dHJhIHNsaWNlKClcbiAgfVxuXG4gIC8vIERlY29kZSBpbiBjaHVua3MgdG8gYXZvaWQgXCJjYWxsIHN0YWNrIHNpemUgZXhjZWVkZWRcIi5cbiAgdmFyIHJlcyA9ICcnXG4gIHZhciBpID0gMFxuICB3aGlsZSAoaSA8IGxlbikge1xuICAgIHJlcyArPSBTdHJpbmcuZnJvbUNoYXJDb2RlLmFwcGx5KFxuICAgICAgU3RyaW5nLFxuICAgICAgY29kZVBvaW50cy5zbGljZShpLCBpICs9IE1BWF9BUkdVTUVOVFNfTEVOR1RIKVxuICAgIClcbiAgfVxuICByZXR1cm4gcmVzXG59XG5cbmZ1bmN0aW9uIGFzY2lpU2xpY2UgKGJ1Ziwgc3RhcnQsIGVuZCkge1xuICB2YXIgcmV0ID0gJydcbiAgZW5kID0gTWF0aC5taW4oYnVmLmxlbmd0aCwgZW5kKVxuXG4gIGZvciAodmFyIGkgPSBzdGFydDsgaSA8IGVuZDsgKytpKSB7XG4gICAgcmV0ICs9IFN0cmluZy5mcm9tQ2hhckNvZGUoYnVmW2ldICYgMHg3RilcbiAgfVxuICByZXR1cm4gcmV0XG59XG5cbmZ1bmN0aW9uIGxhdGluMVNsaWNlIChidWYsIHN0YXJ0LCBlbmQpIHtcbiAgdmFyIHJldCA9ICcnXG4gIGVuZCA9IE1hdGgubWluKGJ1Zi5sZW5ndGgsIGVuZClcblxuICBmb3IgKHZhciBpID0gc3RhcnQ7IGkgPCBlbmQ7ICsraSkge1xuICAgIHJldCArPSBTdHJpbmcuZnJvbUNoYXJDb2RlKGJ1ZltpXSlcbiAgfVxuICByZXR1cm4gcmV0XG59XG5cbmZ1bmN0aW9uIGhleFNsaWNlIChidWYsIHN0YXJ0LCBlbmQpIHtcbiAgdmFyIGxlbiA9IGJ1Zi5sZW5ndGhcblxuICBpZiAoIXN0YXJ0IHx8IHN0YXJ0IDwgMCkgc3RhcnQgPSAwXG4gIGlmICghZW5kIHx8IGVuZCA8IDAgfHwgZW5kID4gbGVuKSBlbmQgPSBsZW5cblxuICB2YXIgb3V0ID0gJydcbiAgZm9yICh2YXIgaSA9IHN0YXJ0OyBpIDwgZW5kOyArK2kpIHtcbiAgICBvdXQgKz0gdG9IZXgoYnVmW2ldKVxuICB9XG4gIHJldHVybiBvdXRcbn1cblxuZnVuY3Rpb24gdXRmMTZsZVNsaWNlIChidWYsIHN0YXJ0LCBlbmQpIHtcbiAgdmFyIGJ5dGVzID0gYnVmLnNsaWNlKHN0YXJ0LCBlbmQpXG4gIHZhciByZXMgPSAnJ1xuICBmb3IgKHZhciBpID0gMDsgaSA8IGJ5dGVzLmxlbmd0aDsgaSArPSAyKSB7XG4gICAgcmVzICs9IFN0cmluZy5mcm9tQ2hhckNvZGUoYnl0ZXNbaV0gKyBieXRlc1tpICsgMV0gKiAyNTYpXG4gIH1cbiAgcmV0dXJuIHJlc1xufVxuXG5CdWZmZXIucHJvdG90eXBlLnNsaWNlID0gZnVuY3Rpb24gc2xpY2UgKHN0YXJ0LCBlbmQpIHtcbiAgdmFyIGxlbiA9IHRoaXMubGVuZ3RoXG4gIHN0YXJ0ID0gfn5zdGFydFxuICBlbmQgPSBlbmQgPT09IHVuZGVmaW5lZCA/IGxlbiA6IH5+ZW5kXG5cbiAgaWYgKHN0YXJ0IDwgMCkge1xuICAgIHN0YXJ0ICs9IGxlblxuICAgIGlmIChzdGFydCA8IDApIHN0YXJ0ID0gMFxuICB9IGVsc2UgaWYgKHN0YXJ0ID4gbGVuKSB7XG4gICAgc3RhcnQgPSBsZW5cbiAgfVxuXG4gIGlmIChlbmQgPCAwKSB7XG4gICAgZW5kICs9IGxlblxuICAgIGlmIChlbmQgPCAwKSBlbmQgPSAwXG4gIH0gZWxzZSBpZiAoZW5kID4gbGVuKSB7XG4gICAgZW5kID0gbGVuXG4gIH1cblxuICBpZiAoZW5kIDwgc3RhcnQpIGVuZCA9IHN0YXJ0XG5cbiAgdmFyIG5ld0J1ZlxuICBpZiAoQnVmZmVyLlRZUEVEX0FSUkFZX1NVUFBPUlQpIHtcbiAgICBuZXdCdWYgPSB0aGlzLnN1YmFycmF5KHN0YXJ0LCBlbmQpXG4gICAgbmV3QnVmLl9fcHJvdG9fXyA9IEJ1ZmZlci5wcm90b3R5cGVcbiAgfSBlbHNlIHtcbiAgICB2YXIgc2xpY2VMZW4gPSBlbmQgLSBzdGFydFxuICAgIG5ld0J1ZiA9IG5ldyBCdWZmZXIoc2xpY2VMZW4sIHVuZGVmaW5lZClcbiAgICBmb3IgKHZhciBpID0gMDsgaSA8IHNsaWNlTGVuOyArK2kpIHtcbiAgICAgIG5ld0J1ZltpXSA9IHRoaXNbaSArIHN0YXJ0XVxuICAgIH1cbiAgfVxuXG4gIHJldHVybiBuZXdCdWZcbn1cblxuLypcbiAqIE5lZWQgdG8gbWFrZSBzdXJlIHRoYXQgYnVmZmVyIGlzbid0IHRyeWluZyB0byB3cml0ZSBvdXQgb2YgYm91bmRzLlxuICovXG5mdW5jdGlvbiBjaGVja09mZnNldCAob2Zmc2V0LCBleHQsIGxlbmd0aCkge1xuICBpZiAoKG9mZnNldCAlIDEpICE9PSAwIHx8IG9mZnNldCA8IDApIHRocm93IG5ldyBSYW5nZUVycm9yKCdvZmZzZXQgaXMgbm90IHVpbnQnKVxuICBpZiAob2Zmc2V0ICsgZXh0ID4gbGVuZ3RoKSB0aHJvdyBuZXcgUmFuZ2VFcnJvcignVHJ5aW5nIHRvIGFjY2VzcyBiZXlvbmQgYnVmZmVyIGxlbmd0aCcpXG59XG5cbkJ1ZmZlci5wcm90b3R5cGUucmVhZFVJbnRMRSA9IGZ1bmN0aW9uIHJlYWRVSW50TEUgKG9mZnNldCwgYnl0ZUxlbmd0aCwgbm9Bc3NlcnQpIHtcbiAgb2Zmc2V0ID0gb2Zmc2V0IHwgMFxuICBieXRlTGVuZ3RoID0gYnl0ZUxlbmd0aCB8IDBcbiAgaWYgKCFub0Fzc2VydCkgY2hlY2tPZmZzZXQob2Zmc2V0LCBieXRlTGVuZ3RoLCB0aGlzLmxlbmd0aClcblxuICB2YXIgdmFsID0gdGhpc1tvZmZzZXRdXG4gIHZhciBtdWwgPSAxXG4gIHZhciBpID0gMFxuICB3aGlsZSAoKytpIDwgYnl0ZUxlbmd0aCAmJiAobXVsICo9IDB4MTAwKSkge1xuICAgIHZhbCArPSB0aGlzW29mZnNldCArIGldICogbXVsXG4gIH1cblxuICByZXR1cm4gdmFsXG59XG5cbkJ1ZmZlci5wcm90b3R5cGUucmVhZFVJbnRCRSA9IGZ1bmN0aW9uIHJlYWRVSW50QkUgKG9mZnNldCwgYnl0ZUxlbmd0aCwgbm9Bc3NlcnQpIHtcbiAgb2Zmc2V0ID0gb2Zmc2V0IHwgMFxuICBieXRlTGVuZ3RoID0gYnl0ZUxlbmd0aCB8IDBcbiAgaWYgKCFub0Fzc2VydCkge1xuICAgIGNoZWNrT2Zmc2V0KG9mZnNldCwgYnl0ZUxlbmd0aCwgdGhpcy5sZW5ndGgpXG4gIH1cblxuICB2YXIgdmFsID0gdGhpc1tvZmZzZXQgKyAtLWJ5dGVMZW5ndGhdXG4gIHZhciBtdWwgPSAxXG4gIHdoaWxlIChieXRlTGVuZ3RoID4gMCAmJiAobXVsICo9IDB4MTAwKSkge1xuICAgIHZhbCArPSB0aGlzW29mZnNldCArIC0tYnl0ZUxlbmd0aF0gKiBtdWxcbiAgfVxuXG4gIHJldHVybiB2YWxcbn1cblxuQnVmZmVyLnByb3RvdHlwZS5yZWFkVUludDggPSBmdW5jdGlvbiByZWFkVUludDggKG9mZnNldCwgbm9Bc3NlcnQpIHtcbiAgaWYgKCFub0Fzc2VydCkgY2hlY2tPZmZzZXQob2Zmc2V0LCAxLCB0aGlzLmxlbmd0aClcbiAgcmV0dXJuIHRoaXNbb2Zmc2V0XVxufVxuXG5CdWZmZXIucHJvdG90eXBlLnJlYWRVSW50MTZMRSA9IGZ1bmN0aW9uIHJlYWRVSW50MTZMRSAob2Zmc2V0LCBub0Fzc2VydCkge1xuICBpZiAoIW5vQXNzZXJ0KSBjaGVja09mZnNldChvZmZzZXQsIDIsIHRoaXMubGVuZ3RoKVxuICByZXR1cm4gdGhpc1tvZmZzZXRdIHwgKHRoaXNbb2Zmc2V0ICsgMV0gPDwgOClcbn1cblxuQnVmZmVyLnByb3RvdHlwZS5yZWFkVUludDE2QkUgPSBmdW5jdGlvbiByZWFkVUludDE2QkUgKG9mZnNldCwgbm9Bc3NlcnQpIHtcbiAgaWYgKCFub0Fzc2VydCkgY2hlY2tPZmZzZXQob2Zmc2V0LCAyLCB0aGlzLmxlbmd0aClcbiAgcmV0dXJuICh0aGlzW29mZnNldF0gPDwgOCkgfCB0aGlzW29mZnNldCArIDFdXG59XG5cbkJ1ZmZlci5wcm90b3R5cGUucmVhZFVJbnQzMkxFID0gZnVuY3Rpb24gcmVhZFVJbnQzMkxFIChvZmZzZXQsIG5vQXNzZXJ0KSB7XG4gIGlmICghbm9Bc3NlcnQpIGNoZWNrT2Zmc2V0KG9mZnNldCwgNCwgdGhpcy5sZW5ndGgpXG5cbiAgcmV0dXJuICgodGhpc1tvZmZzZXRdKSB8XG4gICAgICAodGhpc1tvZmZzZXQgKyAxXSA8PCA4KSB8XG4gICAgICAodGhpc1tvZmZzZXQgKyAyXSA8PCAxNikpICtcbiAgICAgICh0aGlzW29mZnNldCArIDNdICogMHgxMDAwMDAwKVxufVxuXG5CdWZmZXIucHJvdG90eXBlLnJlYWRVSW50MzJCRSA9IGZ1bmN0aW9uIHJlYWRVSW50MzJCRSAob2Zmc2V0LCBub0Fzc2VydCkge1xuICBpZiAoIW5vQXNzZXJ0KSBjaGVja09mZnNldChvZmZzZXQsIDQsIHRoaXMubGVuZ3RoKVxuXG4gIHJldHVybiAodGhpc1tvZmZzZXRdICogMHgxMDAwMDAwKSArXG4gICAgKCh0aGlzW29mZnNldCArIDFdIDw8IDE2KSB8XG4gICAgKHRoaXNbb2Zmc2V0ICsgMl0gPDwgOCkgfFxuICAgIHRoaXNbb2Zmc2V0ICsgM10pXG59XG5cbkJ1ZmZlci5wcm90b3R5cGUucmVhZEludExFID0gZnVuY3Rpb24gcmVhZEludExFIChvZmZzZXQsIGJ5dGVMZW5ndGgsIG5vQXNzZXJ0KSB7XG4gIG9mZnNldCA9IG9mZnNldCB8IDBcbiAgYnl0ZUxlbmd0aCA9IGJ5dGVMZW5ndGggfCAwXG4gIGlmICghbm9Bc3NlcnQpIGNoZWNrT2Zmc2V0KG9mZnNldCwgYnl0ZUxlbmd0aCwgdGhpcy5sZW5ndGgpXG5cbiAgdmFyIHZhbCA9IHRoaXNbb2Zmc2V0XVxuICB2YXIgbXVsID0gMVxuICB2YXIgaSA9IDBcbiAgd2hpbGUgKCsraSA8IGJ5dGVMZW5ndGggJiYgKG11bCAqPSAweDEwMCkpIHtcbiAgICB2YWwgKz0gdGhpc1tvZmZzZXQgKyBpXSAqIG11bFxuICB9XG4gIG11bCAqPSAweDgwXG5cbiAgaWYgKHZhbCA+PSBtdWwpIHZhbCAtPSBNYXRoLnBvdygyLCA4ICogYnl0ZUxlbmd0aClcblxuICByZXR1cm4gdmFsXG59XG5cbkJ1ZmZlci5wcm90b3R5cGUucmVhZEludEJFID0gZnVuY3Rpb24gcmVhZEludEJFIChvZmZzZXQsIGJ5dGVMZW5ndGgsIG5vQXNzZXJ0KSB7XG4gIG9mZnNldCA9IG9mZnNldCB8IDBcbiAgYnl0ZUxlbmd0aCA9IGJ5dGVMZW5ndGggfCAwXG4gIGlmICghbm9Bc3NlcnQpIGNoZWNrT2Zmc2V0KG9mZnNldCwgYnl0ZUxlbmd0aCwgdGhpcy5sZW5ndGgpXG5cbiAgdmFyIGkgPSBieXRlTGVuZ3RoXG4gIHZhciBtdWwgPSAxXG4gIHZhciB2YWwgPSB0aGlzW29mZnNldCArIC0taV1cbiAgd2hpbGUgKGkgPiAwICYmIChtdWwgKj0gMHgxMDApKSB7XG4gICAgdmFsICs9IHRoaXNbb2Zmc2V0ICsgLS1pXSAqIG11bFxuICB9XG4gIG11bCAqPSAweDgwXG5cbiAgaWYgKHZhbCA+PSBtdWwpIHZhbCAtPSBNYXRoLnBvdygyLCA4ICogYnl0ZUxlbmd0aClcblxuICByZXR1cm4gdmFsXG59XG5cbkJ1ZmZlci5wcm90b3R5cGUucmVhZEludDggPSBmdW5jdGlvbiByZWFkSW50OCAob2Zmc2V0LCBub0Fzc2VydCkge1xuICBpZiAoIW5vQXNzZXJ0KSBjaGVja09mZnNldChvZmZzZXQsIDEsIHRoaXMubGVuZ3RoKVxuICBpZiAoISh0aGlzW29mZnNldF0gJiAweDgwKSkgcmV0dXJuICh0aGlzW29mZnNldF0pXG4gIHJldHVybiAoKDB4ZmYgLSB0aGlzW29mZnNldF0gKyAxKSAqIC0xKVxufVxuXG5CdWZmZXIucHJvdG90eXBlLnJlYWRJbnQxNkxFID0gZnVuY3Rpb24gcmVhZEludDE2TEUgKG9mZnNldCwgbm9Bc3NlcnQpIHtcbiAgaWYgKCFub0Fzc2VydCkgY2hlY2tPZmZzZXQob2Zmc2V0LCAyLCB0aGlzLmxlbmd0aClcbiAgdmFyIHZhbCA9IHRoaXNbb2Zmc2V0XSB8ICh0aGlzW29mZnNldCArIDFdIDw8IDgpXG4gIHJldHVybiAodmFsICYgMHg4MDAwKSA/IHZhbCB8IDB4RkZGRjAwMDAgOiB2YWxcbn1cblxuQnVmZmVyLnByb3RvdHlwZS5yZWFkSW50MTZCRSA9IGZ1bmN0aW9uIHJlYWRJbnQxNkJFIChvZmZzZXQsIG5vQXNzZXJ0KSB7XG4gIGlmICghbm9Bc3NlcnQpIGNoZWNrT2Zmc2V0KG9mZnNldCwgMiwgdGhpcy5sZW5ndGgpXG4gIHZhciB2YWwgPSB0aGlzW29mZnNldCArIDFdIHwgKHRoaXNbb2Zmc2V0XSA8PCA4KVxuICByZXR1cm4gKHZhbCAmIDB4ODAwMCkgPyB2YWwgfCAweEZGRkYwMDAwIDogdmFsXG59XG5cbkJ1ZmZlci5wcm90b3R5cGUucmVhZEludDMyTEUgPSBmdW5jdGlvbiByZWFkSW50MzJMRSAob2Zmc2V0LCBub0Fzc2VydCkge1xuICBpZiAoIW5vQXNzZXJ0KSBjaGVja09mZnNldChvZmZzZXQsIDQsIHRoaXMubGVuZ3RoKVxuXG4gIHJldHVybiAodGhpc1tvZmZzZXRdKSB8XG4gICAgKHRoaXNbb2Zmc2V0ICsgMV0gPDwgOCkgfFxuICAgICh0aGlzW29mZnNldCArIDJdIDw8IDE2KSB8XG4gICAgKHRoaXNbb2Zmc2V0ICsgM10gPDwgMjQpXG59XG5cbkJ1ZmZlci5wcm90b3R5cGUucmVhZEludDMyQkUgPSBmdW5jdGlvbiByZWFkSW50MzJCRSAob2Zmc2V0LCBub0Fzc2VydCkge1xuICBpZiAoIW5vQXNzZXJ0KSBjaGVja09mZnNldChvZmZzZXQsIDQsIHRoaXMubGVuZ3RoKVxuXG4gIHJldHVybiAodGhpc1tvZmZzZXRdIDw8IDI0KSB8XG4gICAgKHRoaXNbb2Zmc2V0ICsgMV0gPDwgMTYpIHxcbiAgICAodGhpc1tvZmZzZXQgKyAyXSA8PCA4KSB8XG4gICAgKHRoaXNbb2Zmc2V0ICsgM10pXG59XG5cbkJ1ZmZlci5wcm90b3R5cGUucmVhZEZsb2F0TEUgPSBmdW5jdGlvbiByZWFkRmxvYXRMRSAob2Zmc2V0LCBub0Fzc2VydCkge1xuICBpZiAoIW5vQXNzZXJ0KSBjaGVja09mZnNldChvZmZzZXQsIDQsIHRoaXMubGVuZ3RoKVxuICByZXR1cm4gaWVlZTc1NC5yZWFkKHRoaXMsIG9mZnNldCwgdHJ1ZSwgMjMsIDQpXG59XG5cbkJ1ZmZlci5wcm90b3R5cGUucmVhZEZsb2F0QkUgPSBmdW5jdGlvbiByZWFkRmxvYXRCRSAob2Zmc2V0LCBub0Fzc2VydCkge1xuICBpZiAoIW5vQXNzZXJ0KSBjaGVja09mZnNldChvZmZzZXQsIDQsIHRoaXMubGVuZ3RoKVxuICByZXR1cm4gaWVlZTc1NC5yZWFkKHRoaXMsIG9mZnNldCwgZmFsc2UsIDIzLCA0KVxufVxuXG5CdWZmZXIucHJvdG90eXBlLnJlYWREb3VibGVMRSA9IGZ1bmN0aW9uIHJlYWREb3VibGVMRSAob2Zmc2V0LCBub0Fzc2VydCkge1xuICBpZiAoIW5vQXNzZXJ0KSBjaGVja09mZnNldChvZmZzZXQsIDgsIHRoaXMubGVuZ3RoKVxuICByZXR1cm4gaWVlZTc1NC5yZWFkKHRoaXMsIG9mZnNldCwgdHJ1ZSwgNTIsIDgpXG59XG5cbkJ1ZmZlci5wcm90b3R5cGUucmVhZERvdWJsZUJFID0gZnVuY3Rpb24gcmVhZERvdWJsZUJFIChvZmZzZXQsIG5vQXNzZXJ0KSB7XG4gIGlmICghbm9Bc3NlcnQpIGNoZWNrT2Zmc2V0KG9mZnNldCwgOCwgdGhpcy5sZW5ndGgpXG4gIHJldHVybiBpZWVlNzU0LnJlYWQodGhpcywgb2Zmc2V0LCBmYWxzZSwgNTIsIDgpXG59XG5cbmZ1bmN0aW9uIGNoZWNrSW50IChidWYsIHZhbHVlLCBvZmZzZXQsIGV4dCwgbWF4LCBtaW4pIHtcbiAgaWYgKCFCdWZmZXIuaXNCdWZmZXIoYnVmKSkgdGhyb3cgbmV3IFR5cGVFcnJvcignXCJidWZmZXJcIiBhcmd1bWVudCBtdXN0IGJlIGEgQnVmZmVyIGluc3RhbmNlJylcbiAgaWYgKHZhbHVlID4gbWF4IHx8IHZhbHVlIDwgbWluKSB0aHJvdyBuZXcgUmFuZ2VFcnJvcignXCJ2YWx1ZVwiIGFyZ3VtZW50IGlzIG91dCBvZiBib3VuZHMnKVxuICBpZiAob2Zmc2V0ICsgZXh0ID4gYnVmLmxlbmd0aCkgdGhyb3cgbmV3IFJhbmdlRXJyb3IoJ0luZGV4IG91dCBvZiByYW5nZScpXG59XG5cbkJ1ZmZlci5wcm90b3R5cGUud3JpdGVVSW50TEUgPSBmdW5jdGlvbiB3cml0ZVVJbnRMRSAodmFsdWUsIG9mZnNldCwgYnl0ZUxlbmd0aCwgbm9Bc3NlcnQpIHtcbiAgdmFsdWUgPSArdmFsdWVcbiAgb2Zmc2V0ID0gb2Zmc2V0IHwgMFxuICBieXRlTGVuZ3RoID0gYnl0ZUxlbmd0aCB8IDBcbiAgaWYgKCFub0Fzc2VydCkge1xuICAgIHZhciBtYXhCeXRlcyA9IE1hdGgucG93KDIsIDggKiBieXRlTGVuZ3RoKSAtIDFcbiAgICBjaGVja0ludCh0aGlzLCB2YWx1ZSwgb2Zmc2V0LCBieXRlTGVuZ3RoLCBtYXhCeXRlcywgMClcbiAgfVxuXG4gIHZhciBtdWwgPSAxXG4gIHZhciBpID0gMFxuICB0aGlzW29mZnNldF0gPSB2YWx1ZSAmIDB4RkZcbiAgd2hpbGUgKCsraSA8IGJ5dGVMZW5ndGggJiYgKG11bCAqPSAweDEwMCkpIHtcbiAgICB0aGlzW29mZnNldCArIGldID0gKHZhbHVlIC8gbXVsKSAmIDB4RkZcbiAgfVxuXG4gIHJldHVybiBvZmZzZXQgKyBieXRlTGVuZ3RoXG59XG5cbkJ1ZmZlci5wcm90b3R5cGUud3JpdGVVSW50QkUgPSBmdW5jdGlvbiB3cml0ZVVJbnRCRSAodmFsdWUsIG9mZnNldCwgYnl0ZUxlbmd0aCwgbm9Bc3NlcnQpIHtcbiAgdmFsdWUgPSArdmFsdWVcbiAgb2Zmc2V0ID0gb2Zmc2V0IHwgMFxuICBieXRlTGVuZ3RoID0gYnl0ZUxlbmd0aCB8IDBcbiAgaWYgKCFub0Fzc2VydCkge1xuICAgIHZhciBtYXhCeXRlcyA9IE1hdGgucG93KDIsIDggKiBieXRlTGVuZ3RoKSAtIDFcbiAgICBjaGVja0ludCh0aGlzLCB2YWx1ZSwgb2Zmc2V0LCBieXRlTGVuZ3RoLCBtYXhCeXRlcywgMClcbiAgfVxuXG4gIHZhciBpID0gYnl0ZUxlbmd0aCAtIDFcbiAgdmFyIG11bCA9IDFcbiAgdGhpc1tvZmZzZXQgKyBpXSA9IHZhbHVlICYgMHhGRlxuICB3aGlsZSAoLS1pID49IDAgJiYgKG11bCAqPSAweDEwMCkpIHtcbiAgICB0aGlzW29mZnNldCArIGldID0gKHZhbHVlIC8gbXVsKSAmIDB4RkZcbiAgfVxuXG4gIHJldHVybiBvZmZzZXQgKyBieXRlTGVuZ3RoXG59XG5cbkJ1ZmZlci5wcm90b3R5cGUud3JpdGVVSW50OCA9IGZ1bmN0aW9uIHdyaXRlVUludDggKHZhbHVlLCBvZmZzZXQsIG5vQXNzZXJ0KSB7XG4gIHZhbHVlID0gK3ZhbHVlXG4gIG9mZnNldCA9IG9mZnNldCB8IDBcbiAgaWYgKCFub0Fzc2VydCkgY2hlY2tJbnQodGhpcywgdmFsdWUsIG9mZnNldCwgMSwgMHhmZiwgMClcbiAgaWYgKCFCdWZmZXIuVFlQRURfQVJSQVlfU1VQUE9SVCkgdmFsdWUgPSBNYXRoLmZsb29yKHZhbHVlKVxuICB0aGlzW29mZnNldF0gPSAodmFsdWUgJiAweGZmKVxuICByZXR1cm4gb2Zmc2V0ICsgMVxufVxuXG5mdW5jdGlvbiBvYmplY3RXcml0ZVVJbnQxNiAoYnVmLCB2YWx1ZSwgb2Zmc2V0LCBsaXR0bGVFbmRpYW4pIHtcbiAgaWYgKHZhbHVlIDwgMCkgdmFsdWUgPSAweGZmZmYgKyB2YWx1ZSArIDFcbiAgZm9yICh2YXIgaSA9IDAsIGogPSBNYXRoLm1pbihidWYubGVuZ3RoIC0gb2Zmc2V0LCAyKTsgaSA8IGo7ICsraSkge1xuICAgIGJ1ZltvZmZzZXQgKyBpXSA9ICh2YWx1ZSAmICgweGZmIDw8ICg4ICogKGxpdHRsZUVuZGlhbiA/IGkgOiAxIC0gaSkpKSkgPj4+XG4gICAgICAobGl0dGxlRW5kaWFuID8gaSA6IDEgLSBpKSAqIDhcbiAgfVxufVxuXG5CdWZmZXIucHJvdG90eXBlLndyaXRlVUludDE2TEUgPSBmdW5jdGlvbiB3cml0ZVVJbnQxNkxFICh2YWx1ZSwgb2Zmc2V0LCBub0Fzc2VydCkge1xuICB2YWx1ZSA9ICt2YWx1ZVxuICBvZmZzZXQgPSBvZmZzZXQgfCAwXG4gIGlmICghbm9Bc3NlcnQpIGNoZWNrSW50KHRoaXMsIHZhbHVlLCBvZmZzZXQsIDIsIDB4ZmZmZiwgMClcbiAgaWYgKEJ1ZmZlci5UWVBFRF9BUlJBWV9TVVBQT1JUKSB7XG4gICAgdGhpc1tvZmZzZXRdID0gKHZhbHVlICYgMHhmZilcbiAgICB0aGlzW29mZnNldCArIDFdID0gKHZhbHVlID4+PiA4KVxuICB9IGVsc2Uge1xuICAgIG9iamVjdFdyaXRlVUludDE2KHRoaXMsIHZhbHVlLCBvZmZzZXQsIHRydWUpXG4gIH1cbiAgcmV0dXJuIG9mZnNldCArIDJcbn1cblxuQnVmZmVyLnByb3RvdHlwZS53cml0ZVVJbnQxNkJFID0gZnVuY3Rpb24gd3JpdGVVSW50MTZCRSAodmFsdWUsIG9mZnNldCwgbm9Bc3NlcnQpIHtcbiAgdmFsdWUgPSArdmFsdWVcbiAgb2Zmc2V0ID0gb2Zmc2V0IHwgMFxuICBpZiAoIW5vQXNzZXJ0KSBjaGVja0ludCh0aGlzLCB2YWx1ZSwgb2Zmc2V0LCAyLCAweGZmZmYsIDApXG4gIGlmIChCdWZmZXIuVFlQRURfQVJSQVlfU1VQUE9SVCkge1xuICAgIHRoaXNbb2Zmc2V0XSA9ICh2YWx1ZSA+Pj4gOClcbiAgICB0aGlzW29mZnNldCArIDFdID0gKHZhbHVlICYgMHhmZilcbiAgfSBlbHNlIHtcbiAgICBvYmplY3RXcml0ZVVJbnQxNih0aGlzLCB2YWx1ZSwgb2Zmc2V0LCBmYWxzZSlcbiAgfVxuICByZXR1cm4gb2Zmc2V0ICsgMlxufVxuXG5mdW5jdGlvbiBvYmplY3RXcml0ZVVJbnQzMiAoYnVmLCB2YWx1ZSwgb2Zmc2V0LCBsaXR0bGVFbmRpYW4pIHtcbiAgaWYgKHZhbHVlIDwgMCkgdmFsdWUgPSAweGZmZmZmZmZmICsgdmFsdWUgKyAxXG4gIGZvciAodmFyIGkgPSAwLCBqID0gTWF0aC5taW4oYnVmLmxlbmd0aCAtIG9mZnNldCwgNCk7IGkgPCBqOyArK2kpIHtcbiAgICBidWZbb2Zmc2V0ICsgaV0gPSAodmFsdWUgPj4+IChsaXR0bGVFbmRpYW4gPyBpIDogMyAtIGkpICogOCkgJiAweGZmXG4gIH1cbn1cblxuQnVmZmVyLnByb3RvdHlwZS53cml0ZVVJbnQzMkxFID0gZnVuY3Rpb24gd3JpdGVVSW50MzJMRSAodmFsdWUsIG9mZnNldCwgbm9Bc3NlcnQpIHtcbiAgdmFsdWUgPSArdmFsdWVcbiAgb2Zmc2V0ID0gb2Zmc2V0IHwgMFxuICBpZiAoIW5vQXNzZXJ0KSBjaGVja0ludCh0aGlzLCB2YWx1ZSwgb2Zmc2V0LCA0LCAweGZmZmZmZmZmLCAwKVxuICBpZiAoQnVmZmVyLlRZUEVEX0FSUkFZX1NVUFBPUlQpIHtcbiAgICB0aGlzW29mZnNldCArIDNdID0gKHZhbHVlID4+PiAyNClcbiAgICB0aGlzW29mZnNldCArIDJdID0gKHZhbHVlID4+PiAxNilcbiAgICB0aGlzW29mZnNldCArIDFdID0gKHZhbHVlID4+PiA4KVxuICAgIHRoaXNbb2Zmc2V0XSA9ICh2YWx1ZSAmIDB4ZmYpXG4gIH0gZWxzZSB7XG4gICAgb2JqZWN0V3JpdGVVSW50MzIodGhpcywgdmFsdWUsIG9mZnNldCwgdHJ1ZSlcbiAgfVxuICByZXR1cm4gb2Zmc2V0ICsgNFxufVxuXG5CdWZmZXIucHJvdG90eXBlLndyaXRlVUludDMyQkUgPSBmdW5jdGlvbiB3cml0ZVVJbnQzMkJFICh2YWx1ZSwgb2Zmc2V0LCBub0Fzc2VydCkge1xuICB2YWx1ZSA9ICt2YWx1ZVxuICBvZmZzZXQgPSBvZmZzZXQgfCAwXG4gIGlmICghbm9Bc3NlcnQpIGNoZWNrSW50KHRoaXMsIHZhbHVlLCBvZmZzZXQsIDQsIDB4ZmZmZmZmZmYsIDApXG4gIGlmIChCdWZmZXIuVFlQRURfQVJSQVlfU1VQUE9SVCkge1xuICAgIHRoaXNbb2Zmc2V0XSA9ICh2YWx1ZSA+Pj4gMjQpXG4gICAgdGhpc1tvZmZzZXQgKyAxXSA9ICh2YWx1ZSA+Pj4gMTYpXG4gICAgdGhpc1tvZmZzZXQgKyAyXSA9ICh2YWx1ZSA+Pj4gOClcbiAgICB0aGlzW29mZnNldCArIDNdID0gKHZhbHVlICYgMHhmZilcbiAgfSBlbHNlIHtcbiAgICBvYmplY3RXcml0ZVVJbnQzMih0aGlzLCB2YWx1ZSwgb2Zmc2V0LCBmYWxzZSlcbiAgfVxuICByZXR1cm4gb2Zmc2V0ICsgNFxufVxuXG5CdWZmZXIucHJvdG90eXBlLndyaXRlSW50TEUgPSBmdW5jdGlvbiB3cml0ZUludExFICh2YWx1ZSwgb2Zmc2V0LCBieXRlTGVuZ3RoLCBub0Fzc2VydCkge1xuICB2YWx1ZSA9ICt2YWx1ZVxuICBvZmZzZXQgPSBvZmZzZXQgfCAwXG4gIGlmICghbm9Bc3NlcnQpIHtcbiAgICB2YXIgbGltaXQgPSBNYXRoLnBvdygyLCA4ICogYnl0ZUxlbmd0aCAtIDEpXG5cbiAgICBjaGVja0ludCh0aGlzLCB2YWx1ZSwgb2Zmc2V0LCBieXRlTGVuZ3RoLCBsaW1pdCAtIDEsIC1saW1pdClcbiAgfVxuXG4gIHZhciBpID0gMFxuICB2YXIgbXVsID0gMVxuICB2YXIgc3ViID0gMFxuICB0aGlzW29mZnNldF0gPSB2YWx1ZSAmIDB4RkZcbiAgd2hpbGUgKCsraSA8IGJ5dGVMZW5ndGggJiYgKG11bCAqPSAweDEwMCkpIHtcbiAgICBpZiAodmFsdWUgPCAwICYmIHN1YiA9PT0gMCAmJiB0aGlzW29mZnNldCArIGkgLSAxXSAhPT0gMCkge1xuICAgICAgc3ViID0gMVxuICAgIH1cbiAgICB0aGlzW29mZnNldCArIGldID0gKCh2YWx1ZSAvIG11bCkgPj4gMCkgLSBzdWIgJiAweEZGXG4gIH1cblxuICByZXR1cm4gb2Zmc2V0ICsgYnl0ZUxlbmd0aFxufVxuXG5CdWZmZXIucHJvdG90eXBlLndyaXRlSW50QkUgPSBmdW5jdGlvbiB3cml0ZUludEJFICh2YWx1ZSwgb2Zmc2V0LCBieXRlTGVuZ3RoLCBub0Fzc2VydCkge1xuICB2YWx1ZSA9ICt2YWx1ZVxuICBvZmZzZXQgPSBvZmZzZXQgfCAwXG4gIGlmICghbm9Bc3NlcnQpIHtcbiAgICB2YXIgbGltaXQgPSBNYXRoLnBvdygyLCA4ICogYnl0ZUxlbmd0aCAtIDEpXG5cbiAgICBjaGVja0ludCh0aGlzLCB2YWx1ZSwgb2Zmc2V0LCBieXRlTGVuZ3RoLCBsaW1pdCAtIDEsIC1saW1pdClcbiAgfVxuXG4gIHZhciBpID0gYnl0ZUxlbmd0aCAtIDFcbiAgdmFyIG11bCA9IDFcbiAgdmFyIHN1YiA9IDBcbiAgdGhpc1tvZmZzZXQgKyBpXSA9IHZhbHVlICYgMHhGRlxuICB3aGlsZSAoLS1pID49IDAgJiYgKG11bCAqPSAweDEwMCkpIHtcbiAgICBpZiAodmFsdWUgPCAwICYmIHN1YiA9PT0gMCAmJiB0aGlzW29mZnNldCArIGkgKyAxXSAhPT0gMCkge1xuICAgICAgc3ViID0gMVxuICAgIH1cbiAgICB0aGlzW29mZnNldCArIGldID0gKCh2YWx1ZSAvIG11bCkgPj4gMCkgLSBzdWIgJiAweEZGXG4gIH1cblxuICByZXR1cm4gb2Zmc2V0ICsgYnl0ZUxlbmd0aFxufVxuXG5CdWZmZXIucHJvdG90eXBlLndyaXRlSW50OCA9IGZ1bmN0aW9uIHdyaXRlSW50OCAodmFsdWUsIG9mZnNldCwgbm9Bc3NlcnQpIHtcbiAgdmFsdWUgPSArdmFsdWVcbiAgb2Zmc2V0ID0gb2Zmc2V0IHwgMFxuICBpZiAoIW5vQXNzZXJ0KSBjaGVja0ludCh0aGlzLCB2YWx1ZSwgb2Zmc2V0LCAxLCAweDdmLCAtMHg4MClcbiAgaWYgKCFCdWZmZXIuVFlQRURfQVJSQVlfU1VQUE9SVCkgdmFsdWUgPSBNYXRoLmZsb29yKHZhbHVlKVxuICBpZiAodmFsdWUgPCAwKSB2YWx1ZSA9IDB4ZmYgKyB2YWx1ZSArIDFcbiAgdGhpc1tvZmZzZXRdID0gKHZhbHVlICYgMHhmZilcbiAgcmV0dXJuIG9mZnNldCArIDFcbn1cblxuQnVmZmVyLnByb3RvdHlwZS53cml0ZUludDE2TEUgPSBmdW5jdGlvbiB3cml0ZUludDE2TEUgKHZhbHVlLCBvZmZzZXQsIG5vQXNzZXJ0KSB7XG4gIHZhbHVlID0gK3ZhbHVlXG4gIG9mZnNldCA9IG9mZnNldCB8IDBcbiAgaWYgKCFub0Fzc2VydCkgY2hlY2tJbnQodGhpcywgdmFsdWUsIG9mZnNldCwgMiwgMHg3ZmZmLCAtMHg4MDAwKVxuICBpZiAoQnVmZmVyLlRZUEVEX0FSUkFZX1NVUFBPUlQpIHtcbiAgICB0aGlzW29mZnNldF0gPSAodmFsdWUgJiAweGZmKVxuICAgIHRoaXNbb2Zmc2V0ICsgMV0gPSAodmFsdWUgPj4+IDgpXG4gIH0gZWxzZSB7XG4gICAgb2JqZWN0V3JpdGVVSW50MTYodGhpcywgdmFsdWUsIG9mZnNldCwgdHJ1ZSlcbiAgfVxuICByZXR1cm4gb2Zmc2V0ICsgMlxufVxuXG5CdWZmZXIucHJvdG90eXBlLndyaXRlSW50MTZCRSA9IGZ1bmN0aW9uIHdyaXRlSW50MTZCRSAodmFsdWUsIG9mZnNldCwgbm9Bc3NlcnQpIHtcbiAgdmFsdWUgPSArdmFsdWVcbiAgb2Zmc2V0ID0gb2Zmc2V0IHwgMFxuICBpZiAoIW5vQXNzZXJ0KSBjaGVja0ludCh0aGlzLCB2YWx1ZSwgb2Zmc2V0LCAyLCAweDdmZmYsIC0weDgwMDApXG4gIGlmIChCdWZmZXIuVFlQRURfQVJSQVlfU1VQUE9SVCkge1xuICAgIHRoaXNbb2Zmc2V0XSA9ICh2YWx1ZSA+Pj4gOClcbiAgICB0aGlzW29mZnNldCArIDFdID0gKHZhbHVlICYgMHhmZilcbiAgfSBlbHNlIHtcbiAgICBvYmplY3RXcml0ZVVJbnQxNih0aGlzLCB2YWx1ZSwgb2Zmc2V0LCBmYWxzZSlcbiAgfVxuICByZXR1cm4gb2Zmc2V0ICsgMlxufVxuXG5CdWZmZXIucHJvdG90eXBlLndyaXRlSW50MzJMRSA9IGZ1bmN0aW9uIHdyaXRlSW50MzJMRSAodmFsdWUsIG9mZnNldCwgbm9Bc3NlcnQpIHtcbiAgdmFsdWUgPSArdmFsdWVcbiAgb2Zmc2V0ID0gb2Zmc2V0IHwgMFxuICBpZiAoIW5vQXNzZXJ0KSBjaGVja0ludCh0aGlzLCB2YWx1ZSwgb2Zmc2V0LCA0LCAweDdmZmZmZmZmLCAtMHg4MDAwMDAwMClcbiAgaWYgKEJ1ZmZlci5UWVBFRF9BUlJBWV9TVVBQT1JUKSB7XG4gICAgdGhpc1tvZmZzZXRdID0gKHZhbHVlICYgMHhmZilcbiAgICB0aGlzW29mZnNldCArIDFdID0gKHZhbHVlID4+PiA4KVxuICAgIHRoaXNbb2Zmc2V0ICsgMl0gPSAodmFsdWUgPj4+IDE2KVxuICAgIHRoaXNbb2Zmc2V0ICsgM10gPSAodmFsdWUgPj4+IDI0KVxuICB9IGVsc2Uge1xuICAgIG9iamVjdFdyaXRlVUludDMyKHRoaXMsIHZhbHVlLCBvZmZzZXQsIHRydWUpXG4gIH1cbiAgcmV0dXJuIG9mZnNldCArIDRcbn1cblxuQnVmZmVyLnByb3RvdHlwZS53cml0ZUludDMyQkUgPSBmdW5jdGlvbiB3cml0ZUludDMyQkUgKHZhbHVlLCBvZmZzZXQsIG5vQXNzZXJ0KSB7XG4gIHZhbHVlID0gK3ZhbHVlXG4gIG9mZnNldCA9IG9mZnNldCB8IDBcbiAgaWYgKCFub0Fzc2VydCkgY2hlY2tJbnQodGhpcywgdmFsdWUsIG9mZnNldCwgNCwgMHg3ZmZmZmZmZiwgLTB4ODAwMDAwMDApXG4gIGlmICh2YWx1ZSA8IDApIHZhbHVlID0gMHhmZmZmZmZmZiArIHZhbHVlICsgMVxuICBpZiAoQnVmZmVyLlRZUEVEX0FSUkFZX1NVUFBPUlQpIHtcbiAgICB0aGlzW29mZnNldF0gPSAodmFsdWUgPj4+IDI0KVxuICAgIHRoaXNbb2Zmc2V0ICsgMV0gPSAodmFsdWUgPj4+IDE2KVxuICAgIHRoaXNbb2Zmc2V0ICsgMl0gPSAodmFsdWUgPj4+IDgpXG4gICAgdGhpc1tvZmZzZXQgKyAzXSA9ICh2YWx1ZSAmIDB4ZmYpXG4gIH0gZWxzZSB7XG4gICAgb2JqZWN0V3JpdGVVSW50MzIodGhpcywgdmFsdWUsIG9mZnNldCwgZmFsc2UpXG4gIH1cbiAgcmV0dXJuIG9mZnNldCArIDRcbn1cblxuZnVuY3Rpb24gY2hlY2tJRUVFNzU0IChidWYsIHZhbHVlLCBvZmZzZXQsIGV4dCwgbWF4LCBtaW4pIHtcbiAgaWYgKG9mZnNldCArIGV4dCA+IGJ1Zi5sZW5ndGgpIHRocm93IG5ldyBSYW5nZUVycm9yKCdJbmRleCBvdXQgb2YgcmFuZ2UnKVxuICBpZiAob2Zmc2V0IDwgMCkgdGhyb3cgbmV3IFJhbmdlRXJyb3IoJ0luZGV4IG91dCBvZiByYW5nZScpXG59XG5cbmZ1bmN0aW9uIHdyaXRlRmxvYXQgKGJ1ZiwgdmFsdWUsIG9mZnNldCwgbGl0dGxlRW5kaWFuLCBub0Fzc2VydCkge1xuICBpZiAoIW5vQXNzZXJ0KSB7XG4gICAgY2hlY2tJRUVFNzU0KGJ1ZiwgdmFsdWUsIG9mZnNldCwgNCwgMy40MDI4MjM0NjYzODUyODg2ZSszOCwgLTMuNDAyODIzNDY2Mzg1Mjg4NmUrMzgpXG4gIH1cbiAgaWVlZTc1NC53cml0ZShidWYsIHZhbHVlLCBvZmZzZXQsIGxpdHRsZUVuZGlhbiwgMjMsIDQpXG4gIHJldHVybiBvZmZzZXQgKyA0XG59XG5cbkJ1ZmZlci5wcm90b3R5cGUud3JpdGVGbG9hdExFID0gZnVuY3Rpb24gd3JpdGVGbG9hdExFICh2YWx1ZSwgb2Zmc2V0LCBub0Fzc2VydCkge1xuICByZXR1cm4gd3JpdGVGbG9hdCh0aGlzLCB2YWx1ZSwgb2Zmc2V0LCB0cnVlLCBub0Fzc2VydClcbn1cblxuQnVmZmVyLnByb3RvdHlwZS53cml0ZUZsb2F0QkUgPSBmdW5jdGlvbiB3cml0ZUZsb2F0QkUgKHZhbHVlLCBvZmZzZXQsIG5vQXNzZXJ0KSB7XG4gIHJldHVybiB3cml0ZUZsb2F0KHRoaXMsIHZhbHVlLCBvZmZzZXQsIGZhbHNlLCBub0Fzc2VydClcbn1cblxuZnVuY3Rpb24gd3JpdGVEb3VibGUgKGJ1ZiwgdmFsdWUsIG9mZnNldCwgbGl0dGxlRW5kaWFuLCBub0Fzc2VydCkge1xuICBpZiAoIW5vQXNzZXJ0KSB7XG4gICAgY2hlY2tJRUVFNzU0KGJ1ZiwgdmFsdWUsIG9mZnNldCwgOCwgMS43OTc2OTMxMzQ4NjIzMTU3RSszMDgsIC0xLjc5NzY5MzEzNDg2MjMxNTdFKzMwOClcbiAgfVxuICBpZWVlNzU0LndyaXRlKGJ1ZiwgdmFsdWUsIG9mZnNldCwgbGl0dGxlRW5kaWFuLCA1MiwgOClcbiAgcmV0dXJuIG9mZnNldCArIDhcbn1cblxuQnVmZmVyLnByb3RvdHlwZS53cml0ZURvdWJsZUxFID0gZnVuY3Rpb24gd3JpdGVEb3VibGVMRSAodmFsdWUsIG9mZnNldCwgbm9Bc3NlcnQpIHtcbiAgcmV0dXJuIHdyaXRlRG91YmxlKHRoaXMsIHZhbHVlLCBvZmZzZXQsIHRydWUsIG5vQXNzZXJ0KVxufVxuXG5CdWZmZXIucHJvdG90eXBlLndyaXRlRG91YmxlQkUgPSBmdW5jdGlvbiB3cml0ZURvdWJsZUJFICh2YWx1ZSwgb2Zmc2V0LCBub0Fzc2VydCkge1xuICByZXR1cm4gd3JpdGVEb3VibGUodGhpcywgdmFsdWUsIG9mZnNldCwgZmFsc2UsIG5vQXNzZXJ0KVxufVxuXG4vLyBjb3B5KHRhcmdldEJ1ZmZlciwgdGFyZ2V0U3RhcnQ9MCwgc291cmNlU3RhcnQ9MCwgc291cmNlRW5kPWJ1ZmZlci5sZW5ndGgpXG5CdWZmZXIucHJvdG90eXBlLmNvcHkgPSBmdW5jdGlvbiBjb3B5ICh0YXJnZXQsIHRhcmdldFN0YXJ0LCBzdGFydCwgZW5kKSB7XG4gIGlmICghc3RhcnQpIHN0YXJ0ID0gMFxuICBpZiAoIWVuZCAmJiBlbmQgIT09IDApIGVuZCA9IHRoaXMubGVuZ3RoXG4gIGlmICh0YXJnZXRTdGFydCA+PSB0YXJnZXQubGVuZ3RoKSB0YXJnZXRTdGFydCA9IHRhcmdldC5sZW5ndGhcbiAgaWYgKCF0YXJnZXRTdGFydCkgdGFyZ2V0U3RhcnQgPSAwXG4gIGlmIChlbmQgPiAwICYmIGVuZCA8IHN0YXJ0KSBlbmQgPSBzdGFydFxuXG4gIC8vIENvcHkgMCBieXRlczsgd2UncmUgZG9uZVxuICBpZiAoZW5kID09PSBzdGFydCkgcmV0dXJuIDBcbiAgaWYgKHRhcmdldC5sZW5ndGggPT09IDAgfHwgdGhpcy5sZW5ndGggPT09IDApIHJldHVybiAwXG5cbiAgLy8gRmF0YWwgZXJyb3IgY29uZGl0aW9uc1xuICBpZiAodGFyZ2V0U3RhcnQgPCAwKSB7XG4gICAgdGhyb3cgbmV3IFJhbmdlRXJyb3IoJ3RhcmdldFN0YXJ0IG91dCBvZiBib3VuZHMnKVxuICB9XG4gIGlmIChzdGFydCA8IDAgfHwgc3RhcnQgPj0gdGhpcy5sZW5ndGgpIHRocm93IG5ldyBSYW5nZUVycm9yKCdzb3VyY2VTdGFydCBvdXQgb2YgYm91bmRzJylcbiAgaWYgKGVuZCA8IDApIHRocm93IG5ldyBSYW5nZUVycm9yKCdzb3VyY2VFbmQgb3V0IG9mIGJvdW5kcycpXG5cbiAgLy8gQXJlIHdlIG9vYj9cbiAgaWYgKGVuZCA+IHRoaXMubGVuZ3RoKSBlbmQgPSB0aGlzLmxlbmd0aFxuICBpZiAodGFyZ2V0Lmxlbmd0aCAtIHRhcmdldFN0YXJ0IDwgZW5kIC0gc3RhcnQpIHtcbiAgICBlbmQgPSB0YXJnZXQubGVuZ3RoIC0gdGFyZ2V0U3RhcnQgKyBzdGFydFxuICB9XG5cbiAgdmFyIGxlbiA9IGVuZCAtIHN0YXJ0XG4gIHZhciBpXG5cbiAgaWYgKHRoaXMgPT09IHRhcmdldCAmJiBzdGFydCA8IHRhcmdldFN0YXJ0ICYmIHRhcmdldFN0YXJ0IDwgZW5kKSB7XG4gICAgLy8gZGVzY2VuZGluZyBjb3B5IGZyb20gZW5kXG4gICAgZm9yIChpID0gbGVuIC0gMTsgaSA+PSAwOyAtLWkpIHtcbiAgICAgIHRhcmdldFtpICsgdGFyZ2V0U3RhcnRdID0gdGhpc1tpICsgc3RhcnRdXG4gICAgfVxuICB9IGVsc2UgaWYgKGxlbiA8IDEwMDAgfHwgIUJ1ZmZlci5UWVBFRF9BUlJBWV9TVVBQT1JUKSB7XG4gICAgLy8gYXNjZW5kaW5nIGNvcHkgZnJvbSBzdGFydFxuICAgIGZvciAoaSA9IDA7IGkgPCBsZW47ICsraSkge1xuICAgICAgdGFyZ2V0W2kgKyB0YXJnZXRTdGFydF0gPSB0aGlzW2kgKyBzdGFydF1cbiAgICB9XG4gIH0gZWxzZSB7XG4gICAgVWludDhBcnJheS5wcm90b3R5cGUuc2V0LmNhbGwoXG4gICAgICB0YXJnZXQsXG4gICAgICB0aGlzLnN1YmFycmF5KHN0YXJ0LCBzdGFydCArIGxlbiksXG4gICAgICB0YXJnZXRTdGFydFxuICAgIClcbiAgfVxuXG4gIHJldHVybiBsZW5cbn1cblxuLy8gVXNhZ2U6XG4vLyAgICBidWZmZXIuZmlsbChudW1iZXJbLCBvZmZzZXRbLCBlbmRdXSlcbi8vICAgIGJ1ZmZlci5maWxsKGJ1ZmZlclssIG9mZnNldFssIGVuZF1dKVxuLy8gICAgYnVmZmVyLmZpbGwoc3RyaW5nWywgb2Zmc2V0WywgZW5kXV1bLCBlbmNvZGluZ10pXG5CdWZmZXIucHJvdG90eXBlLmZpbGwgPSBmdW5jdGlvbiBmaWxsICh2YWwsIHN0YXJ0LCBlbmQsIGVuY29kaW5nKSB7XG4gIC8vIEhhbmRsZSBzdHJpbmcgY2FzZXM6XG4gIGlmICh0eXBlb2YgdmFsID09PSAnc3RyaW5nJykge1xuICAgIGlmICh0eXBlb2Ygc3RhcnQgPT09ICdzdHJpbmcnKSB7XG4gICAgICBlbmNvZGluZyA9IHN0YXJ0XG4gICAgICBzdGFydCA9IDBcbiAgICAgIGVuZCA9IHRoaXMubGVuZ3RoXG4gICAgfSBlbHNlIGlmICh0eXBlb2YgZW5kID09PSAnc3RyaW5nJykge1xuICAgICAgZW5jb2RpbmcgPSBlbmRcbiAgICAgIGVuZCA9IHRoaXMubGVuZ3RoXG4gICAgfVxuICAgIGlmICh2YWwubGVuZ3RoID09PSAxKSB7XG4gICAgICB2YXIgY29kZSA9IHZhbC5jaGFyQ29kZUF0KDApXG4gICAgICBpZiAoY29kZSA8IDI1Nikge1xuICAgICAgICB2YWwgPSBjb2RlXG4gICAgICB9XG4gICAgfVxuICAgIGlmIChlbmNvZGluZyAhPT0gdW5kZWZpbmVkICYmIHR5cGVvZiBlbmNvZGluZyAhPT0gJ3N0cmluZycpIHtcbiAgICAgIHRocm93IG5ldyBUeXBlRXJyb3IoJ2VuY29kaW5nIG11c3QgYmUgYSBzdHJpbmcnKVxuICAgIH1cbiAgICBpZiAodHlwZW9mIGVuY29kaW5nID09PSAnc3RyaW5nJyAmJiAhQnVmZmVyLmlzRW5jb2RpbmcoZW5jb2RpbmcpKSB7XG4gICAgICB0aHJvdyBuZXcgVHlwZUVycm9yKCdVbmtub3duIGVuY29kaW5nOiAnICsgZW5jb2RpbmcpXG4gICAgfVxuICB9IGVsc2UgaWYgKHR5cGVvZiB2YWwgPT09ICdudW1iZXInKSB7XG4gICAgdmFsID0gdmFsICYgMjU1XG4gIH1cblxuICAvLyBJbnZhbGlkIHJhbmdlcyBhcmUgbm90IHNldCB0byBhIGRlZmF1bHQsIHNvIGNhbiByYW5nZSBjaGVjayBlYXJseS5cbiAgaWYgKHN0YXJ0IDwgMCB8fCB0aGlzLmxlbmd0aCA8IHN0YXJ0IHx8IHRoaXMubGVuZ3RoIDwgZW5kKSB7XG4gICAgdGhyb3cgbmV3IFJhbmdlRXJyb3IoJ091dCBvZiByYW5nZSBpbmRleCcpXG4gIH1cblxuICBpZiAoZW5kIDw9IHN0YXJ0KSB7XG4gICAgcmV0dXJuIHRoaXNcbiAgfVxuXG4gIHN0YXJ0ID0gc3RhcnQgPj4+IDBcbiAgZW5kID0gZW5kID09PSB1bmRlZmluZWQgPyB0aGlzLmxlbmd0aCA6IGVuZCA+Pj4gMFxuXG4gIGlmICghdmFsKSB2YWwgPSAwXG5cbiAgdmFyIGlcbiAgaWYgKHR5cGVvZiB2YWwgPT09ICdudW1iZXInKSB7XG4gICAgZm9yIChpID0gc3RhcnQ7IGkgPCBlbmQ7ICsraSkge1xuICAgICAgdGhpc1tpXSA9IHZhbFxuICAgIH1cbiAgfSBlbHNlIHtcbiAgICB2YXIgYnl0ZXMgPSBCdWZmZXIuaXNCdWZmZXIodmFsKVxuICAgICAgPyB2YWxcbiAgICAgIDogdXRmOFRvQnl0ZXMobmV3IEJ1ZmZlcih2YWwsIGVuY29kaW5nKS50b1N0cmluZygpKVxuICAgIHZhciBsZW4gPSBieXRlcy5sZW5ndGhcbiAgICBmb3IgKGkgPSAwOyBpIDwgZW5kIC0gc3RhcnQ7ICsraSkge1xuICAgICAgdGhpc1tpICsgc3RhcnRdID0gYnl0ZXNbaSAlIGxlbl1cbiAgICB9XG4gIH1cblxuICByZXR1cm4gdGhpc1xufVxuXG4vLyBIRUxQRVIgRlVOQ1RJT05TXG4vLyA9PT09PT09PT09PT09PT09XG5cbnZhciBJTlZBTElEX0JBU0U2NF9SRSA9IC9bXitcXC8wLTlBLVphLXotX10vZ1xuXG5mdW5jdGlvbiBiYXNlNjRjbGVhbiAoc3RyKSB7XG4gIC8vIE5vZGUgc3RyaXBzIG91dCBpbnZhbGlkIGNoYXJhY3RlcnMgbGlrZSBcXG4gYW5kIFxcdCBmcm9tIHRoZSBzdHJpbmcsIGJhc2U2NC1qcyBkb2VzIG5vdFxuICBzdHIgPSBzdHJpbmd0cmltKHN0cikucmVwbGFjZShJTlZBTElEX0JBU0U2NF9SRSwgJycpXG4gIC8vIE5vZGUgY29udmVydHMgc3RyaW5ncyB3aXRoIGxlbmd0aCA8IDIgdG8gJydcbiAgaWYgKHN0ci5sZW5ndGggPCAyKSByZXR1cm4gJydcbiAgLy8gTm9kZSBhbGxvd3MgZm9yIG5vbi1wYWRkZWQgYmFzZTY0IHN0cmluZ3MgKG1pc3NpbmcgdHJhaWxpbmcgPT09KSwgYmFzZTY0LWpzIGRvZXMgbm90XG4gIHdoaWxlIChzdHIubGVuZ3RoICUgNCAhPT0gMCkge1xuICAgIHN0ciA9IHN0ciArICc9J1xuICB9XG4gIHJldHVybiBzdHJcbn1cblxuZnVuY3Rpb24gc3RyaW5ndHJpbSAoc3RyKSB7XG4gIGlmIChzdHIudHJpbSkgcmV0dXJuIHN0ci50cmltKClcbiAgcmV0dXJuIHN0ci5yZXBsYWNlKC9eXFxzK3xcXHMrJC9nLCAnJylcbn1cblxuZnVuY3Rpb24gdG9IZXggKG4pIHtcbiAgaWYgKG4gPCAxNikgcmV0dXJuICcwJyArIG4udG9TdHJpbmcoMTYpXG4gIHJldHVybiBuLnRvU3RyaW5nKDE2KVxufVxuXG5mdW5jdGlvbiB1dGY4VG9CeXRlcyAoc3RyaW5nLCB1bml0cykge1xuICB1bml0cyA9IHVuaXRzIHx8IEluZmluaXR5XG4gIHZhciBjb2RlUG9pbnRcbiAgdmFyIGxlbmd0aCA9IHN0cmluZy5sZW5ndGhcbiAgdmFyIGxlYWRTdXJyb2dhdGUgPSBudWxsXG4gIHZhciBieXRlcyA9IFtdXG5cbiAgZm9yICh2YXIgaSA9IDA7IGkgPCBsZW5ndGg7ICsraSkge1xuICAgIGNvZGVQb2ludCA9IHN0cmluZy5jaGFyQ29kZUF0KGkpXG5cbiAgICAvLyBpcyBzdXJyb2dhdGUgY29tcG9uZW50XG4gICAgaWYgKGNvZGVQb2ludCA+IDB4RDdGRiAmJiBjb2RlUG9pbnQgPCAweEUwMDApIHtcbiAgICAgIC8vIGxhc3QgY2hhciB3YXMgYSBsZWFkXG4gICAgICBpZiAoIWxlYWRTdXJyb2dhdGUpIHtcbiAgICAgICAgLy8gbm8gbGVhZCB5ZXRcbiAgICAgICAgaWYgKGNvZGVQb2ludCA+IDB4REJGRikge1xuICAgICAgICAgIC8vIHVuZXhwZWN0ZWQgdHJhaWxcbiAgICAgICAgICBpZiAoKHVuaXRzIC09IDMpID4gLTEpIGJ5dGVzLnB1c2goMHhFRiwgMHhCRiwgMHhCRClcbiAgICAgICAgICBjb250aW51ZVxuICAgICAgICB9IGVsc2UgaWYgKGkgKyAxID09PSBsZW5ndGgpIHtcbiAgICAgICAgICAvLyB1bnBhaXJlZCBsZWFkXG4gICAgICAgICAgaWYgKCh1bml0cyAtPSAzKSA+IC0xKSBieXRlcy5wdXNoKDB4RUYsIDB4QkYsIDB4QkQpXG4gICAgICAgICAgY29udGludWVcbiAgICAgICAgfVxuXG4gICAgICAgIC8vIHZhbGlkIGxlYWRcbiAgICAgICAgbGVhZFN1cnJvZ2F0ZSA9IGNvZGVQb2ludFxuXG4gICAgICAgIGNvbnRpbnVlXG4gICAgICB9XG5cbiAgICAgIC8vIDIgbGVhZHMgaW4gYSByb3dcbiAgICAgIGlmIChjb2RlUG9pbnQgPCAweERDMDApIHtcbiAgICAgICAgaWYgKCh1bml0cyAtPSAzKSA+IC0xKSBieXRlcy5wdXNoKDB4RUYsIDB4QkYsIDB4QkQpXG4gICAgICAgIGxlYWRTdXJyb2dhdGUgPSBjb2RlUG9pbnRcbiAgICAgICAgY29udGludWVcbiAgICAgIH1cblxuICAgICAgLy8gdmFsaWQgc3Vycm9nYXRlIHBhaXJcbiAgICAgIGNvZGVQb2ludCA9IChsZWFkU3Vycm9nYXRlIC0gMHhEODAwIDw8IDEwIHwgY29kZVBvaW50IC0gMHhEQzAwKSArIDB4MTAwMDBcbiAgICB9IGVsc2UgaWYgKGxlYWRTdXJyb2dhdGUpIHtcbiAgICAgIC8vIHZhbGlkIGJtcCBjaGFyLCBidXQgbGFzdCBjaGFyIHdhcyBhIGxlYWRcbiAgICAgIGlmICgodW5pdHMgLT0gMykgPiAtMSkgYnl0ZXMucHVzaCgweEVGLCAweEJGLCAweEJEKVxuICAgIH1cblxuICAgIGxlYWRTdXJyb2dhdGUgPSBudWxsXG5cbiAgICAvLyBlbmNvZGUgdXRmOFxuICAgIGlmIChjb2RlUG9pbnQgPCAweDgwKSB7XG4gICAgICBpZiAoKHVuaXRzIC09IDEpIDwgMCkgYnJlYWtcbiAgICAgIGJ5dGVzLnB1c2goY29kZVBvaW50KVxuICAgIH0gZWxzZSBpZiAoY29kZVBvaW50IDwgMHg4MDApIHtcbiAgICAgIGlmICgodW5pdHMgLT0gMikgPCAwKSBicmVha1xuICAgICAgYnl0ZXMucHVzaChcbiAgICAgICAgY29kZVBvaW50ID4+IDB4NiB8IDB4QzAsXG4gICAgICAgIGNvZGVQb2ludCAmIDB4M0YgfCAweDgwXG4gICAgICApXG4gICAgfSBlbHNlIGlmIChjb2RlUG9pbnQgPCAweDEwMDAwKSB7XG4gICAgICBpZiAoKHVuaXRzIC09IDMpIDwgMCkgYnJlYWtcbiAgICAgIGJ5dGVzLnB1c2goXG4gICAgICAgIGNvZGVQb2ludCA+PiAweEMgfCAweEUwLFxuICAgICAgICBjb2RlUG9pbnQgPj4gMHg2ICYgMHgzRiB8IDB4ODAsXG4gICAgICAgIGNvZGVQb2ludCAmIDB4M0YgfCAweDgwXG4gICAgICApXG4gICAgfSBlbHNlIGlmIChjb2RlUG9pbnQgPCAweDExMDAwMCkge1xuICAgICAgaWYgKCh1bml0cyAtPSA0KSA8IDApIGJyZWFrXG4gICAgICBieXRlcy5wdXNoKFxuICAgICAgICBjb2RlUG9pbnQgPj4gMHgxMiB8IDB4RjAsXG4gICAgICAgIGNvZGVQb2ludCA+PiAweEMgJiAweDNGIHwgMHg4MCxcbiAgICAgICAgY29kZVBvaW50ID4+IDB4NiAmIDB4M0YgfCAweDgwLFxuICAgICAgICBjb2RlUG9pbnQgJiAweDNGIHwgMHg4MFxuICAgICAgKVxuICAgIH0gZWxzZSB7XG4gICAgICB0aHJvdyBuZXcgRXJyb3IoJ0ludmFsaWQgY29kZSBwb2ludCcpXG4gICAgfVxuICB9XG5cbiAgcmV0dXJuIGJ5dGVzXG59XG5cbmZ1bmN0aW9uIGFzY2lpVG9CeXRlcyAoc3RyKSB7XG4gIHZhciBieXRlQXJyYXkgPSBbXVxuICBmb3IgKHZhciBpID0gMDsgaSA8IHN0ci5sZW5ndGg7ICsraSkge1xuICAgIC8vIE5vZGUncyBjb2RlIHNlZW1zIHRvIGJlIGRvaW5nIHRoaXMgYW5kIG5vdCAmIDB4N0YuLlxuICAgIGJ5dGVBcnJheS5wdXNoKHN0ci5jaGFyQ29kZUF0KGkpICYgMHhGRilcbiAgfVxuICByZXR1cm4gYnl0ZUFycmF5XG59XG5cbmZ1bmN0aW9uIHV0ZjE2bGVUb0J5dGVzIChzdHIsIHVuaXRzKSB7XG4gIHZhciBjLCBoaSwgbG9cbiAgdmFyIGJ5dGVBcnJheSA9IFtdXG4gIGZvciAodmFyIGkgPSAwOyBpIDwgc3RyLmxlbmd0aDsgKytpKSB7XG4gICAgaWYgKCh1bml0cyAtPSAyKSA8IDApIGJyZWFrXG5cbiAgICBjID0gc3RyLmNoYXJDb2RlQXQoaSlcbiAgICBoaSA9IGMgPj4gOFxuICAgIGxvID0gYyAlIDI1NlxuICAgIGJ5dGVBcnJheS5wdXNoKGxvKVxuICAgIGJ5dGVBcnJheS5wdXNoKGhpKVxuICB9XG5cbiAgcmV0dXJuIGJ5dGVBcnJheVxufVxuXG5mdW5jdGlvbiBiYXNlNjRUb0J5dGVzIChzdHIpIHtcbiAgcmV0dXJuIGJhc2U2NC50b0J5dGVBcnJheShiYXNlNjRjbGVhbihzdHIpKVxufVxuXG5mdW5jdGlvbiBibGl0QnVmZmVyIChzcmMsIGRzdCwgb2Zmc2V0LCBsZW5ndGgpIHtcbiAgZm9yICh2YXIgaSA9IDA7IGkgPCBsZW5ndGg7ICsraSkge1xuICAgIGlmICgoaSArIG9mZnNldCA+PSBkc3QubGVuZ3RoKSB8fCAoaSA+PSBzcmMubGVuZ3RoKSkgYnJlYWtcbiAgICBkc3RbaSArIG9mZnNldF0gPSBzcmNbaV1cbiAgfVxuICByZXR1cm4gaVxufVxuXG5mdW5jdGlvbiBpc25hbiAodmFsKSB7XG4gIHJldHVybiB2YWwgIT09IHZhbCAvLyBlc2xpbnQtZGlzYWJsZS1saW5lIG5vLXNlbGYtY29tcGFyZVxufVxuIiwgIi8vIGltcG9ydCBidWZmZXIsIHsgQnVmZmVyIH0gZnJvbSAnYnVmZmVyLWVzNic7XG4vLyBleHBvcnQgeyBidWZmZXIsIEJ1ZmZlciB9O1xuLy8gZXhwb3J0IHsgYnVmZmVyIGFzICdidWZmZXInLCBCdWZmZXIgYXMgJ0J1ZmZlcicgfVxuXG5leHBvcnQgKiBhcyBidWZmZXIgZnJvbSAnYnVmZmVyJztcbmV4cG9ydCB7IEJ1ZmZlciB9IGZyb20gJ2J1ZmZlcic7XG4iLCAiLy8gQ29weXJpZ2h0IEpveWVudCwgSW5jLiBhbmQgb3RoZXIgTm9kZSBjb250cmlidXRvcnMuXG4vL1xuLy8gUGVybWlzc2lvbiBpcyBoZXJlYnkgZ3JhbnRlZCwgZnJlZSBvZiBjaGFyZ2UsIHRvIGFueSBwZXJzb24gb2J0YWluaW5nIGFcbi8vIGNvcHkgb2YgdGhpcyBzb2Z0d2FyZSBhbmQgYXNzb2NpYXRlZCBkb2N1bWVudGF0aW9uIGZpbGVzICh0aGVcbi8vIFwiU29mdHdhcmVcIiksIHRvIGRlYWwgaW4gdGhlIFNvZnR3YXJlIHdpdGhvdXQgcmVzdHJpY3Rpb24sIGluY2x1ZGluZ1xuLy8gd2l0aG91dCBsaW1pdGF0aW9uIHRoZSByaWdodHMgdG8gdXNlLCBjb3B5LCBtb2RpZnksIG1lcmdlLCBwdWJsaXNoLFxuLy8gZGlzdHJpYnV0ZSwgc3VibGljZW5zZSwgYW5kL29yIHNlbGwgY29waWVzIG9mIHRoZSBTb2Z0d2FyZSwgYW5kIHRvIHBlcm1pdFxuLy8gcGVyc29ucyB0byB3aG9tIHRoZSBTb2Z0d2FyZSBpcyBmdXJuaXNoZWQgdG8gZG8gc28sIHN1YmplY3QgdG8gdGhlXG4vLyBmb2xsb3dpbmcgY29uZGl0aW9uczpcbi8vXG4vLyBUaGUgYWJvdmUgY29weXJpZ2h0IG5vdGljZSBhbmQgdGhpcyBwZXJtaXNzaW9uIG5vdGljZSBzaGFsbCBiZSBpbmNsdWRlZFxuLy8gaW4gYWxsIGNvcGllcyBvciBzdWJzdGFudGlhbCBwb3J0aW9ucyBvZiB0aGUgU29mdHdhcmUuXG4vL1xuLy8gVEhFIFNPRlRXQVJFIElTIFBST1ZJREVEIFwiQVMgSVNcIiwgV0lUSE9VVCBXQVJSQU5UWSBPRiBBTlkgS0lORCwgRVhQUkVTU1xuLy8gT1IgSU1QTElFRCwgSU5DTFVESU5HIEJVVCBOT1QgTElNSVRFRCBUTyBUSEUgV0FSUkFOVElFUyBPRlxuLy8gTUVSQ0hBTlRBQklMSVRZLCBGSVRORVNTIEZPUiBBIFBBUlRJQ1VMQVIgUFVSUE9TRSBBTkQgTk9OSU5GUklOR0VNRU5ULiBJTlxuLy8gTk8gRVZFTlQgU0hBTEwgVEhFIEFVVEhPUlMgT1IgQ09QWVJJR0hUIEhPTERFUlMgQkUgTElBQkxFIEZPUiBBTlkgQ0xBSU0sXG4vLyBEQU1BR0VTIE9SIE9USEVSIExJQUJJTElUWSwgV0hFVEhFUiBJTiBBTiBBQ1RJT04gT0YgQ09OVFJBQ1QsIFRPUlQgT1Jcbi8vIE9USEVSV0lTRSwgQVJJU0lORyBGUk9NLCBPVVQgT0YgT1IgSU4gQ09OTkVDVElPTiBXSVRIIFRIRSBTT0ZUV0FSRSBPUiBUSEVcbi8vIFVTRSBPUiBPVEhFUiBERUFMSU5HUyBJTiBUSEUgU09GVFdBUkUuXG5cbid1c2Ugc3RyaWN0JztcblxudmFyIFIgPSB0eXBlb2YgUmVmbGVjdCA9PT0gJ29iamVjdCcgPyBSZWZsZWN0IDogbnVsbFxudmFyIFJlZmxlY3RBcHBseSA9IFIgJiYgdHlwZW9mIFIuYXBwbHkgPT09ICdmdW5jdGlvbidcbiAgPyBSLmFwcGx5XG4gIDogZnVuY3Rpb24gUmVmbGVjdEFwcGx5KHRhcmdldCwgcmVjZWl2ZXIsIGFyZ3MpIHtcbiAgICByZXR1cm4gRnVuY3Rpb24ucHJvdG90eXBlLmFwcGx5LmNhbGwodGFyZ2V0LCByZWNlaXZlciwgYXJncyk7XG4gIH1cblxudmFyIFJlZmxlY3RPd25LZXlzXG5pZiAoUiAmJiB0eXBlb2YgUi5vd25LZXlzID09PSAnZnVuY3Rpb24nKSB7XG4gIFJlZmxlY3RPd25LZXlzID0gUi5vd25LZXlzXG59IGVsc2UgaWYgKE9iamVjdC5nZXRPd25Qcm9wZXJ0eVN5bWJvbHMpIHtcbiAgUmVmbGVjdE93bktleXMgPSBmdW5jdGlvbiBSZWZsZWN0T3duS2V5cyh0YXJnZXQpIHtcbiAgICByZXR1cm4gT2JqZWN0LmdldE93blByb3BlcnR5TmFtZXModGFyZ2V0KVxuICAgICAgLmNvbmNhdChPYmplY3QuZ2V0T3duUHJvcGVydHlTeW1ib2xzKHRhcmdldCkpO1xuICB9O1xufSBlbHNlIHtcbiAgUmVmbGVjdE93bktleXMgPSBmdW5jdGlvbiBSZWZsZWN0T3duS2V5cyh0YXJnZXQpIHtcbiAgICByZXR1cm4gT2JqZWN0LmdldE93blByb3BlcnR5TmFtZXModGFyZ2V0KTtcbiAgfTtcbn1cblxuZnVuY3Rpb24gUHJvY2Vzc0VtaXRXYXJuaW5nKHdhcm5pbmcpIHtcbiAgaWYgKGNvbnNvbGUgJiYgY29uc29sZS53YXJuKSBjb25zb2xlLndhcm4od2FybmluZyk7XG59XG5cbnZhciBOdW1iZXJJc05hTiA9IE51bWJlci5pc05hTiB8fCBmdW5jdGlvbiBOdW1iZXJJc05hTih2YWx1ZSkge1xuICByZXR1cm4gdmFsdWUgIT09IHZhbHVlO1xufVxuXG5mdW5jdGlvbiBFdmVudEVtaXR0ZXIoKSB7XG4gIEV2ZW50RW1pdHRlci5pbml0LmNhbGwodGhpcyk7XG59XG5tb2R1bGUuZXhwb3J0cyA9IEV2ZW50RW1pdHRlcjtcbm1vZHVsZS5leHBvcnRzLm9uY2UgPSBvbmNlO1xuXG4vLyBCYWNrd2FyZHMtY29tcGF0IHdpdGggbm9kZSAwLjEwLnhcbkV2ZW50RW1pdHRlci5FdmVudEVtaXR0ZXIgPSBFdmVudEVtaXR0ZXI7XG5cbkV2ZW50RW1pdHRlci5wcm90b3R5cGUuX2V2ZW50cyA9IHVuZGVmaW5lZDtcbkV2ZW50RW1pdHRlci5wcm90b3R5cGUuX2V2ZW50c0NvdW50ID0gMDtcbkV2ZW50RW1pdHRlci5wcm90b3R5cGUuX21heExpc3RlbmVycyA9IHVuZGVmaW5lZDtcblxuLy8gQnkgZGVmYXVsdCBFdmVudEVtaXR0ZXJzIHdpbGwgcHJpbnQgYSB3YXJuaW5nIGlmIG1vcmUgdGhhbiAxMCBsaXN0ZW5lcnMgYXJlXG4vLyBhZGRlZCB0byBpdC4gVGhpcyBpcyBhIHVzZWZ1bCBkZWZhdWx0IHdoaWNoIGhlbHBzIGZpbmRpbmcgbWVtb3J5IGxlYWtzLlxudmFyIGRlZmF1bHRNYXhMaXN0ZW5lcnMgPSAxMDtcblxuZnVuY3Rpb24gY2hlY2tMaXN0ZW5lcihsaXN0ZW5lcikge1xuICBpZiAodHlwZW9mIGxpc3RlbmVyICE9PSAnZnVuY3Rpb24nKSB7XG4gICAgdGhyb3cgbmV3IFR5cGVFcnJvcignVGhlIFwibGlzdGVuZXJcIiBhcmd1bWVudCBtdXN0IGJlIG9mIHR5cGUgRnVuY3Rpb24uIFJlY2VpdmVkIHR5cGUgJyArIHR5cGVvZiBsaXN0ZW5lcik7XG4gIH1cbn1cblxuT2JqZWN0LmRlZmluZVByb3BlcnR5KEV2ZW50RW1pdHRlciwgJ2RlZmF1bHRNYXhMaXN0ZW5lcnMnLCB7XG4gIGVudW1lcmFibGU6IHRydWUsXG4gIGdldDogZnVuY3Rpb24oKSB7XG4gICAgcmV0dXJuIGRlZmF1bHRNYXhMaXN0ZW5lcnM7XG4gIH0sXG4gIHNldDogZnVuY3Rpb24oYXJnKSB7XG4gICAgaWYgKHR5cGVvZiBhcmcgIT09ICdudW1iZXInIHx8IGFyZyA8IDAgfHwgTnVtYmVySXNOYU4oYXJnKSkge1xuICAgICAgdGhyb3cgbmV3IFJhbmdlRXJyb3IoJ1RoZSB2YWx1ZSBvZiBcImRlZmF1bHRNYXhMaXN0ZW5lcnNcIiBpcyBvdXQgb2YgcmFuZ2UuIEl0IG11c3QgYmUgYSBub24tbmVnYXRpdmUgbnVtYmVyLiBSZWNlaXZlZCAnICsgYXJnICsgJy4nKTtcbiAgICB9XG4gICAgZGVmYXVsdE1heExpc3RlbmVycyA9IGFyZztcbiAgfVxufSk7XG5cbkV2ZW50RW1pdHRlci5pbml0ID0gZnVuY3Rpb24oKSB7XG5cbiAgaWYgKHRoaXMuX2V2ZW50cyA9PT0gdW5kZWZpbmVkIHx8XG4gICAgICB0aGlzLl9ldmVudHMgPT09IE9iamVjdC5nZXRQcm90b3R5cGVPZih0aGlzKS5fZXZlbnRzKSB7XG4gICAgdGhpcy5fZXZlbnRzID0gT2JqZWN0LmNyZWF0ZShudWxsKTtcbiAgICB0aGlzLl9ldmVudHNDb3VudCA9IDA7XG4gIH1cblxuICB0aGlzLl9tYXhMaXN0ZW5lcnMgPSB0aGlzLl9tYXhMaXN0ZW5lcnMgfHwgdW5kZWZpbmVkO1xufTtcblxuLy8gT2J2aW91c2x5IG5vdCBhbGwgRW1pdHRlcnMgc2hvdWxkIGJlIGxpbWl0ZWQgdG8gMTAuIFRoaXMgZnVuY3Rpb24gYWxsb3dzXG4vLyB0aGF0IHRvIGJlIGluY3JlYXNlZC4gU2V0IHRvIHplcm8gZm9yIHVubGltaXRlZC5cbkV2ZW50RW1pdHRlci5wcm90b3R5cGUuc2V0TWF4TGlzdGVuZXJzID0gZnVuY3Rpb24gc2V0TWF4TGlzdGVuZXJzKG4pIHtcbiAgaWYgKHR5cGVvZiBuICE9PSAnbnVtYmVyJyB8fCBuIDwgMCB8fCBOdW1iZXJJc05hTihuKSkge1xuICAgIHRocm93IG5ldyBSYW5nZUVycm9yKCdUaGUgdmFsdWUgb2YgXCJuXCIgaXMgb3V0IG9mIHJhbmdlLiBJdCBtdXN0IGJlIGEgbm9uLW5lZ2F0aXZlIG51bWJlci4gUmVjZWl2ZWQgJyArIG4gKyAnLicpO1xuICB9XG4gIHRoaXMuX21heExpc3RlbmVycyA9IG47XG4gIHJldHVybiB0aGlzO1xufTtcblxuZnVuY3Rpb24gX2dldE1heExpc3RlbmVycyh0aGF0KSB7XG4gIGlmICh0aGF0Ll9tYXhMaXN0ZW5lcnMgPT09IHVuZGVmaW5lZClcbiAgICByZXR1cm4gRXZlbnRFbWl0dGVyLmRlZmF1bHRNYXhMaXN0ZW5lcnM7XG4gIHJldHVybiB0aGF0Ll9tYXhMaXN0ZW5lcnM7XG59XG5cbkV2ZW50RW1pdHRlci5wcm90b3R5cGUuZ2V0TWF4TGlzdGVuZXJzID0gZnVuY3Rpb24gZ2V0TWF4TGlzdGVuZXJzKCkge1xuICByZXR1cm4gX2dldE1heExpc3RlbmVycyh0aGlzKTtcbn07XG5cbkV2ZW50RW1pdHRlci5wcm90b3R5cGUuZW1pdCA9IGZ1bmN0aW9uIGVtaXQodHlwZSkge1xuICB2YXIgYXJncyA9IFtdO1xuICBmb3IgKHZhciBpID0gMTsgaSA8IGFyZ3VtZW50cy5sZW5ndGg7IGkrKykgYXJncy5wdXNoKGFyZ3VtZW50c1tpXSk7XG4gIHZhciBkb0Vycm9yID0gKHR5cGUgPT09ICdlcnJvcicpO1xuXG4gIHZhciBldmVudHMgPSB0aGlzLl9ldmVudHM7XG4gIGlmIChldmVudHMgIT09IHVuZGVmaW5lZClcbiAgICBkb0Vycm9yID0gKGRvRXJyb3IgJiYgZXZlbnRzLmVycm9yID09PSB1bmRlZmluZWQpO1xuICBlbHNlIGlmICghZG9FcnJvcilcbiAgICByZXR1cm4gZmFsc2U7XG5cbiAgLy8gSWYgdGhlcmUgaXMgbm8gJ2Vycm9yJyBldmVudCBsaXN0ZW5lciB0aGVuIHRocm93LlxuICBpZiAoZG9FcnJvcikge1xuICAgIHZhciBlcjtcbiAgICBpZiAoYXJncy5sZW5ndGggPiAwKVxuICAgICAgZXIgPSBhcmdzWzBdO1xuICAgIGlmIChlciBpbnN0YW5jZW9mIEVycm9yKSB7XG4gICAgICAvLyBOb3RlOiBUaGUgY29tbWVudHMgb24gdGhlIGB0aHJvd2AgbGluZXMgYXJlIGludGVudGlvbmFsLCB0aGV5IHNob3dcbiAgICAgIC8vIHVwIGluIE5vZGUncyBvdXRwdXQgaWYgdGhpcyByZXN1bHRzIGluIGFuIHVuaGFuZGxlZCBleGNlcHRpb24uXG4gICAgICB0aHJvdyBlcjsgLy8gVW5oYW5kbGVkICdlcnJvcicgZXZlbnRcbiAgICB9XG4gICAgLy8gQXQgbGVhc3QgZ2l2ZSBzb21lIGtpbmQgb2YgY29udGV4dCB0byB0aGUgdXNlclxuICAgIHZhciBlcnIgPSBuZXcgRXJyb3IoJ1VuaGFuZGxlZCBlcnJvci4nICsgKGVyID8gJyAoJyArIGVyLm1lc3NhZ2UgKyAnKScgOiAnJykpO1xuICAgIGVyci5jb250ZXh0ID0gZXI7XG4gICAgdGhyb3cgZXJyOyAvLyBVbmhhbmRsZWQgJ2Vycm9yJyBldmVudFxuICB9XG5cbiAgdmFyIGhhbmRsZXIgPSBldmVudHNbdHlwZV07XG5cbiAgaWYgKGhhbmRsZXIgPT09IHVuZGVmaW5lZClcbiAgICByZXR1cm4gZmFsc2U7XG5cbiAgaWYgKHR5cGVvZiBoYW5kbGVyID09PSAnZnVuY3Rpb24nKSB7XG4gICAgUmVmbGVjdEFwcGx5KGhhbmRsZXIsIHRoaXMsIGFyZ3MpO1xuICB9IGVsc2Uge1xuICAgIHZhciBsZW4gPSBoYW5kbGVyLmxlbmd0aDtcbiAgICB2YXIgbGlzdGVuZXJzID0gYXJyYXlDbG9uZShoYW5kbGVyLCBsZW4pO1xuICAgIGZvciAodmFyIGkgPSAwOyBpIDwgbGVuOyArK2kpXG4gICAgICBSZWZsZWN0QXBwbHkobGlzdGVuZXJzW2ldLCB0aGlzLCBhcmdzKTtcbiAgfVxuXG4gIHJldHVybiB0cnVlO1xufTtcblxuZnVuY3Rpb24gX2FkZExpc3RlbmVyKHRhcmdldCwgdHlwZSwgbGlzdGVuZXIsIHByZXBlbmQpIHtcbiAgdmFyIG07XG4gIHZhciBldmVudHM7XG4gIHZhciBleGlzdGluZztcblxuICBjaGVja0xpc3RlbmVyKGxpc3RlbmVyKTtcblxuICBldmVudHMgPSB0YXJnZXQuX2V2ZW50cztcbiAgaWYgKGV2ZW50cyA9PT0gdW5kZWZpbmVkKSB7XG4gICAgZXZlbnRzID0gdGFyZ2V0Ll9ldmVudHMgPSBPYmplY3QuY3JlYXRlKG51bGwpO1xuICAgIHRhcmdldC5fZXZlbnRzQ291bnQgPSAwO1xuICB9IGVsc2Uge1xuICAgIC8vIFRvIGF2b2lkIHJlY3Vyc2lvbiBpbiB0aGUgY2FzZSB0aGF0IHR5cGUgPT09IFwibmV3TGlzdGVuZXJcIiEgQmVmb3JlXG4gICAgLy8gYWRkaW5nIGl0IHRvIHRoZSBsaXN0ZW5lcnMsIGZpcnN0IGVtaXQgXCJuZXdMaXN0ZW5lclwiLlxuICAgIGlmIChldmVudHMubmV3TGlzdGVuZXIgIT09IHVuZGVmaW5lZCkge1xuICAgICAgdGFyZ2V0LmVtaXQoJ25ld0xpc3RlbmVyJywgdHlwZSxcbiAgICAgICAgICAgICAgICAgIGxpc3RlbmVyLmxpc3RlbmVyID8gbGlzdGVuZXIubGlzdGVuZXIgOiBsaXN0ZW5lcik7XG5cbiAgICAgIC8vIFJlLWFzc2lnbiBgZXZlbnRzYCBiZWNhdXNlIGEgbmV3TGlzdGVuZXIgaGFuZGxlciBjb3VsZCBoYXZlIGNhdXNlZCB0aGVcbiAgICAgIC8vIHRoaXMuX2V2ZW50cyB0byBiZSBhc3NpZ25lZCB0byBhIG5ldyBvYmplY3RcbiAgICAgIGV2ZW50cyA9IHRhcmdldC5fZXZlbnRzO1xuICAgIH1cbiAgICBleGlzdGluZyA9IGV2ZW50c1t0eXBlXTtcbiAgfVxuXG4gIGlmIChleGlzdGluZyA9PT0gdW5kZWZpbmVkKSB7XG4gICAgLy8gT3B0aW1pemUgdGhlIGNhc2Ugb2Ygb25lIGxpc3RlbmVyLiBEb24ndCBuZWVkIHRoZSBleHRyYSBhcnJheSBvYmplY3QuXG4gICAgZXhpc3RpbmcgPSBldmVudHNbdHlwZV0gPSBsaXN0ZW5lcjtcbiAgICArK3RhcmdldC5fZXZlbnRzQ291bnQ7XG4gIH0gZWxzZSB7XG4gICAgaWYgKHR5cGVvZiBleGlzdGluZyA9PT0gJ2Z1bmN0aW9uJykge1xuICAgICAgLy8gQWRkaW5nIHRoZSBzZWNvbmQgZWxlbWVudCwgbmVlZCB0byBjaGFuZ2UgdG8gYXJyYXkuXG4gICAgICBleGlzdGluZyA9IGV2ZW50c1t0eXBlXSA9XG4gICAgICAgIHByZXBlbmQgPyBbbGlzdGVuZXIsIGV4aXN0aW5nXSA6IFtleGlzdGluZywgbGlzdGVuZXJdO1xuICAgICAgLy8gSWYgd2UndmUgYWxyZWFkeSBnb3QgYW4gYXJyYXksIGp1c3QgYXBwZW5kLlxuICAgIH0gZWxzZSBpZiAocHJlcGVuZCkge1xuICAgICAgZXhpc3RpbmcudW5zaGlmdChsaXN0ZW5lcik7XG4gICAgfSBlbHNlIHtcbiAgICAgIGV4aXN0aW5nLnB1c2gobGlzdGVuZXIpO1xuICAgIH1cblxuICAgIC8vIENoZWNrIGZvciBsaXN0ZW5lciBsZWFrXG4gICAgbSA9IF9nZXRNYXhMaXN0ZW5lcnModGFyZ2V0KTtcbiAgICBpZiAobSA+IDAgJiYgZXhpc3RpbmcubGVuZ3RoID4gbSAmJiAhZXhpc3Rpbmcud2FybmVkKSB7XG4gICAgICBleGlzdGluZy53YXJuZWQgPSB0cnVlO1xuICAgICAgLy8gTm8gZXJyb3IgY29kZSBmb3IgdGhpcyBzaW5jZSBpdCBpcyBhIFdhcm5pbmdcbiAgICAgIC8vIGVzbGludC1kaXNhYmxlLW5leHQtbGluZSBuby1yZXN0cmljdGVkLXN5bnRheFxuICAgICAgdmFyIHcgPSBuZXcgRXJyb3IoJ1Bvc3NpYmxlIEV2ZW50RW1pdHRlciBtZW1vcnkgbGVhayBkZXRlY3RlZC4gJyArXG4gICAgICAgICAgICAgICAgICAgICAgICAgIGV4aXN0aW5nLmxlbmd0aCArICcgJyArIFN0cmluZyh0eXBlKSArICcgbGlzdGVuZXJzICcgK1xuICAgICAgICAgICAgICAgICAgICAgICAgICAnYWRkZWQuIFVzZSBlbWl0dGVyLnNldE1heExpc3RlbmVycygpIHRvICcgK1xuICAgICAgICAgICAgICAgICAgICAgICAgICAnaW5jcmVhc2UgbGltaXQnKTtcbiAgICAgIHcubmFtZSA9ICdNYXhMaXN0ZW5lcnNFeGNlZWRlZFdhcm5pbmcnO1xuICAgICAgdy5lbWl0dGVyID0gdGFyZ2V0O1xuICAgICAgdy50eXBlID0gdHlwZTtcbiAgICAgIHcuY291bnQgPSBleGlzdGluZy5sZW5ndGg7XG4gICAgICBQcm9jZXNzRW1pdFdhcm5pbmcodyk7XG4gICAgfVxuICB9XG5cbiAgcmV0dXJuIHRhcmdldDtcbn1cblxuRXZlbnRFbWl0dGVyLnByb3RvdHlwZS5hZGRMaXN0ZW5lciA9IGZ1bmN0aW9uIGFkZExpc3RlbmVyKHR5cGUsIGxpc3RlbmVyKSB7XG4gIHJldHVybiBfYWRkTGlzdGVuZXIodGhpcywgdHlwZSwgbGlzdGVuZXIsIGZhbHNlKTtcbn07XG5cbkV2ZW50RW1pdHRlci5wcm90b3R5cGUub24gPSBFdmVudEVtaXR0ZXIucHJvdG90eXBlLmFkZExpc3RlbmVyO1xuXG5FdmVudEVtaXR0ZXIucHJvdG90eXBlLnByZXBlbmRMaXN0ZW5lciA9XG4gICAgZnVuY3Rpb24gcHJlcGVuZExpc3RlbmVyKHR5cGUsIGxpc3RlbmVyKSB7XG4gICAgICByZXR1cm4gX2FkZExpc3RlbmVyKHRoaXMsIHR5cGUsIGxpc3RlbmVyLCB0cnVlKTtcbiAgICB9O1xuXG5mdW5jdGlvbiBvbmNlV3JhcHBlcigpIHtcbiAgaWYgKCF0aGlzLmZpcmVkKSB7XG4gICAgdGhpcy50YXJnZXQucmVtb3ZlTGlzdGVuZXIodGhpcy50eXBlLCB0aGlzLndyYXBGbik7XG4gICAgdGhpcy5maXJlZCA9IHRydWU7XG4gICAgaWYgKGFyZ3VtZW50cy5sZW5ndGggPT09IDApXG4gICAgICByZXR1cm4gdGhpcy5saXN0ZW5lci5jYWxsKHRoaXMudGFyZ2V0KTtcbiAgICByZXR1cm4gdGhpcy5saXN0ZW5lci5hcHBseSh0aGlzLnRhcmdldCwgYXJndW1lbnRzKTtcbiAgfVxufVxuXG5mdW5jdGlvbiBfb25jZVdyYXAodGFyZ2V0LCB0eXBlLCBsaXN0ZW5lcikge1xuICB2YXIgc3RhdGUgPSB7IGZpcmVkOiBmYWxzZSwgd3JhcEZuOiB1bmRlZmluZWQsIHRhcmdldDogdGFyZ2V0LCB0eXBlOiB0eXBlLCBsaXN0ZW5lcjogbGlzdGVuZXIgfTtcbiAgdmFyIHdyYXBwZWQgPSBvbmNlV3JhcHBlci5iaW5kKHN0YXRlKTtcbiAgd3JhcHBlZC5saXN0ZW5lciA9IGxpc3RlbmVyO1xuICBzdGF0ZS53cmFwRm4gPSB3cmFwcGVkO1xuICByZXR1cm4gd3JhcHBlZDtcbn1cblxuRXZlbnRFbWl0dGVyLnByb3RvdHlwZS5vbmNlID0gZnVuY3Rpb24gb25jZSh0eXBlLCBsaXN0ZW5lcikge1xuICBjaGVja0xpc3RlbmVyKGxpc3RlbmVyKTtcbiAgdGhpcy5vbih0eXBlLCBfb25jZVdyYXAodGhpcywgdHlwZSwgbGlzdGVuZXIpKTtcbiAgcmV0dXJuIHRoaXM7XG59O1xuXG5FdmVudEVtaXR0ZXIucHJvdG90eXBlLnByZXBlbmRPbmNlTGlzdGVuZXIgPVxuICAgIGZ1bmN0aW9uIHByZXBlbmRPbmNlTGlzdGVuZXIodHlwZSwgbGlzdGVuZXIpIHtcbiAgICAgIGNoZWNrTGlzdGVuZXIobGlzdGVuZXIpO1xuICAgICAgdGhpcy5wcmVwZW5kTGlzdGVuZXIodHlwZSwgX29uY2VXcmFwKHRoaXMsIHR5cGUsIGxpc3RlbmVyKSk7XG4gICAgICByZXR1cm4gdGhpcztcbiAgICB9O1xuXG4vLyBFbWl0cyBhICdyZW1vdmVMaXN0ZW5lcicgZXZlbnQgaWYgYW5kIG9ubHkgaWYgdGhlIGxpc3RlbmVyIHdhcyByZW1vdmVkLlxuRXZlbnRFbWl0dGVyLnByb3RvdHlwZS5yZW1vdmVMaXN0ZW5lciA9XG4gICAgZnVuY3Rpb24gcmVtb3ZlTGlzdGVuZXIodHlwZSwgbGlzdGVuZXIpIHtcbiAgICAgIHZhciBsaXN0LCBldmVudHMsIHBvc2l0aW9uLCBpLCBvcmlnaW5hbExpc3RlbmVyO1xuXG4gICAgICBjaGVja0xpc3RlbmVyKGxpc3RlbmVyKTtcblxuICAgICAgZXZlbnRzID0gdGhpcy5fZXZlbnRzO1xuICAgICAgaWYgKGV2ZW50cyA9PT0gdW5kZWZpbmVkKVxuICAgICAgICByZXR1cm4gdGhpcztcblxuICAgICAgbGlzdCA9IGV2ZW50c1t0eXBlXTtcbiAgICAgIGlmIChsaXN0ID09PSB1bmRlZmluZWQpXG4gICAgICAgIHJldHVybiB0aGlzO1xuXG4gICAgICBpZiAobGlzdCA9PT0gbGlzdGVuZXIgfHwgbGlzdC5saXN0ZW5lciA9PT0gbGlzdGVuZXIpIHtcbiAgICAgICAgaWYgKC0tdGhpcy5fZXZlbnRzQ291bnQgPT09IDApXG4gICAgICAgICAgdGhpcy5fZXZlbnRzID0gT2JqZWN0LmNyZWF0ZShudWxsKTtcbiAgICAgICAgZWxzZSB7XG4gICAgICAgICAgZGVsZXRlIGV2ZW50c1t0eXBlXTtcbiAgICAgICAgICBpZiAoZXZlbnRzLnJlbW92ZUxpc3RlbmVyKVxuICAgICAgICAgICAgdGhpcy5lbWl0KCdyZW1vdmVMaXN0ZW5lcicsIHR5cGUsIGxpc3QubGlzdGVuZXIgfHwgbGlzdGVuZXIpO1xuICAgICAgICB9XG4gICAgICB9IGVsc2UgaWYgKHR5cGVvZiBsaXN0ICE9PSAnZnVuY3Rpb24nKSB7XG4gICAgICAgIHBvc2l0aW9uID0gLTE7XG5cbiAgICAgICAgZm9yIChpID0gbGlzdC5sZW5ndGggLSAxOyBpID49IDA7IGktLSkge1xuICAgICAgICAgIGlmIChsaXN0W2ldID09PSBsaXN0ZW5lciB8fCBsaXN0W2ldLmxpc3RlbmVyID09PSBsaXN0ZW5lcikge1xuICAgICAgICAgICAgb3JpZ2luYWxMaXN0ZW5lciA9IGxpc3RbaV0ubGlzdGVuZXI7XG4gICAgICAgICAgICBwb3NpdGlvbiA9IGk7XG4gICAgICAgICAgICBicmVhaztcbiAgICAgICAgICB9XG4gICAgICAgIH1cblxuICAgICAgICBpZiAocG9zaXRpb24gPCAwKVxuICAgICAgICAgIHJldHVybiB0aGlzO1xuXG4gICAgICAgIGlmIChwb3NpdGlvbiA9PT0gMClcbiAgICAgICAgICBsaXN0LnNoaWZ0KCk7XG4gICAgICAgIGVsc2Uge1xuICAgICAgICAgIHNwbGljZU9uZShsaXN0LCBwb3NpdGlvbik7XG4gICAgICAgIH1cblxuICAgICAgICBpZiAobGlzdC5sZW5ndGggPT09IDEpXG4gICAgICAgICAgZXZlbnRzW3R5cGVdID0gbGlzdFswXTtcblxuICAgICAgICBpZiAoZXZlbnRzLnJlbW92ZUxpc3RlbmVyICE9PSB1bmRlZmluZWQpXG4gICAgICAgICAgdGhpcy5lbWl0KCdyZW1vdmVMaXN0ZW5lcicsIHR5cGUsIG9yaWdpbmFsTGlzdGVuZXIgfHwgbGlzdGVuZXIpO1xuICAgICAgfVxuXG4gICAgICByZXR1cm4gdGhpcztcbiAgICB9O1xuXG5FdmVudEVtaXR0ZXIucHJvdG90eXBlLm9mZiA9IEV2ZW50RW1pdHRlci5wcm90b3R5cGUucmVtb3ZlTGlzdGVuZXI7XG5cbkV2ZW50RW1pdHRlci5wcm90b3R5cGUucmVtb3ZlQWxsTGlzdGVuZXJzID1cbiAgICBmdW5jdGlvbiByZW1vdmVBbGxMaXN0ZW5lcnModHlwZSkge1xuICAgICAgdmFyIGxpc3RlbmVycywgZXZlbnRzLCBpO1xuXG4gICAgICBldmVudHMgPSB0aGlzLl9ldmVudHM7XG4gICAgICBpZiAoZXZlbnRzID09PSB1bmRlZmluZWQpXG4gICAgICAgIHJldHVybiB0aGlzO1xuXG4gICAgICAvLyBub3QgbGlzdGVuaW5nIGZvciByZW1vdmVMaXN0ZW5lciwgbm8gbmVlZCB0byBlbWl0XG4gICAgICBpZiAoZXZlbnRzLnJlbW92ZUxpc3RlbmVyID09PSB1bmRlZmluZWQpIHtcbiAgICAgICAgaWYgKGFyZ3VtZW50cy5sZW5ndGggPT09IDApIHtcbiAgICAgICAgICB0aGlzLl9ldmVudHMgPSBPYmplY3QuY3JlYXRlKG51bGwpO1xuICAgICAgICAgIHRoaXMuX2V2ZW50c0NvdW50ID0gMDtcbiAgICAgICAgfSBlbHNlIGlmIChldmVudHNbdHlwZV0gIT09IHVuZGVmaW5lZCkge1xuICAgICAgICAgIGlmICgtLXRoaXMuX2V2ZW50c0NvdW50ID09PSAwKVxuICAgICAgICAgICAgdGhpcy5fZXZlbnRzID0gT2JqZWN0LmNyZWF0ZShudWxsKTtcbiAgICAgICAgICBlbHNlXG4gICAgICAgICAgICBkZWxldGUgZXZlbnRzW3R5cGVdO1xuICAgICAgICB9XG4gICAgICAgIHJldHVybiB0aGlzO1xuICAgICAgfVxuXG4gICAgICAvLyBlbWl0IHJlbW92ZUxpc3RlbmVyIGZvciBhbGwgbGlzdGVuZXJzIG9uIGFsbCBldmVudHNcbiAgICAgIGlmIChhcmd1bWVudHMubGVuZ3RoID09PSAwKSB7XG4gICAgICAgIHZhciBrZXlzID0gT2JqZWN0LmtleXMoZXZlbnRzKTtcbiAgICAgICAgdmFyIGtleTtcbiAgICAgICAgZm9yIChpID0gMDsgaSA8IGtleXMubGVuZ3RoOyArK2kpIHtcbiAgICAgICAgICBrZXkgPSBrZXlzW2ldO1xuICAgICAgICAgIGlmIChrZXkgPT09ICdyZW1vdmVMaXN0ZW5lcicpIGNvbnRpbnVlO1xuICAgICAgICAgIHRoaXMucmVtb3ZlQWxsTGlzdGVuZXJzKGtleSk7XG4gICAgICAgIH1cbiAgICAgICAgdGhpcy5yZW1vdmVBbGxMaXN0ZW5lcnMoJ3JlbW92ZUxpc3RlbmVyJyk7XG4gICAgICAgIHRoaXMuX2V2ZW50cyA9IE9iamVjdC5jcmVhdGUobnVsbCk7XG4gICAgICAgIHRoaXMuX2V2ZW50c0NvdW50ID0gMDtcbiAgICAgICAgcmV0dXJuIHRoaXM7XG4gICAgICB9XG5cbiAgICAgIGxpc3RlbmVycyA9IGV2ZW50c1t0eXBlXTtcblxuICAgICAgaWYgKHR5cGVvZiBsaXN0ZW5lcnMgPT09ICdmdW5jdGlvbicpIHtcbiAgICAgICAgdGhpcy5yZW1vdmVMaXN0ZW5lcih0eXBlLCBsaXN0ZW5lcnMpO1xuICAgICAgfSBlbHNlIGlmIChsaXN0ZW5lcnMgIT09IHVuZGVmaW5lZCkge1xuICAgICAgICAvLyBMSUZPIG9yZGVyXG4gICAgICAgIGZvciAoaSA9IGxpc3RlbmVycy5sZW5ndGggLSAxOyBpID49IDA7IGktLSkge1xuICAgICAgICAgIHRoaXMucmVtb3ZlTGlzdGVuZXIodHlwZSwgbGlzdGVuZXJzW2ldKTtcbiAgICAgICAgfVxuICAgICAgfVxuXG4gICAgICByZXR1cm4gdGhpcztcbiAgICB9O1xuXG5mdW5jdGlvbiBfbGlzdGVuZXJzKHRhcmdldCwgdHlwZSwgdW53cmFwKSB7XG4gIHZhciBldmVudHMgPSB0YXJnZXQuX2V2ZW50cztcblxuICBpZiAoZXZlbnRzID09PSB1bmRlZmluZWQpXG4gICAgcmV0dXJuIFtdO1xuXG4gIHZhciBldmxpc3RlbmVyID0gZXZlbnRzW3R5cGVdO1xuICBpZiAoZXZsaXN0ZW5lciA9PT0gdW5kZWZpbmVkKVxuICAgIHJldHVybiBbXTtcblxuICBpZiAodHlwZW9mIGV2bGlzdGVuZXIgPT09ICdmdW5jdGlvbicpXG4gICAgcmV0dXJuIHVud3JhcCA/IFtldmxpc3RlbmVyLmxpc3RlbmVyIHx8IGV2bGlzdGVuZXJdIDogW2V2bGlzdGVuZXJdO1xuXG4gIHJldHVybiB1bndyYXAgP1xuICAgIHVud3JhcExpc3RlbmVycyhldmxpc3RlbmVyKSA6IGFycmF5Q2xvbmUoZXZsaXN0ZW5lciwgZXZsaXN0ZW5lci5sZW5ndGgpO1xufVxuXG5FdmVudEVtaXR0ZXIucHJvdG90eXBlLmxpc3RlbmVycyA9IGZ1bmN0aW9uIGxpc3RlbmVycyh0eXBlKSB7XG4gIHJldHVybiBfbGlzdGVuZXJzKHRoaXMsIHR5cGUsIHRydWUpO1xufTtcblxuRXZlbnRFbWl0dGVyLnByb3RvdHlwZS5yYXdMaXN0ZW5lcnMgPSBmdW5jdGlvbiByYXdMaXN0ZW5lcnModHlwZSkge1xuICByZXR1cm4gX2xpc3RlbmVycyh0aGlzLCB0eXBlLCBmYWxzZSk7XG59O1xuXG5FdmVudEVtaXR0ZXIubGlzdGVuZXJDb3VudCA9IGZ1bmN0aW9uKGVtaXR0ZXIsIHR5cGUpIHtcbiAgaWYgKHR5cGVvZiBlbWl0dGVyLmxpc3RlbmVyQ291bnQgPT09ICdmdW5jdGlvbicpIHtcbiAgICByZXR1cm4gZW1pdHRlci5saXN0ZW5lckNvdW50KHR5cGUpO1xuICB9IGVsc2Uge1xuICAgIHJldHVybiBsaXN0ZW5lckNvdW50LmNhbGwoZW1pdHRlciwgdHlwZSk7XG4gIH1cbn07XG5cbkV2ZW50RW1pdHRlci5wcm90b3R5cGUubGlzdGVuZXJDb3VudCA9IGxpc3RlbmVyQ291bnQ7XG5mdW5jdGlvbiBsaXN0ZW5lckNvdW50KHR5cGUpIHtcbiAgdmFyIGV2ZW50cyA9IHRoaXMuX2V2ZW50cztcblxuICBpZiAoZXZlbnRzICE9PSB1bmRlZmluZWQpIHtcbiAgICB2YXIgZXZsaXN0ZW5lciA9IGV2ZW50c1t0eXBlXTtcblxuICAgIGlmICh0eXBlb2YgZXZsaXN0ZW5lciA9PT0gJ2Z1bmN0aW9uJykge1xuICAgICAgcmV0dXJuIDE7XG4gICAgfSBlbHNlIGlmIChldmxpc3RlbmVyICE9PSB1bmRlZmluZWQpIHtcbiAgICAgIHJldHVybiBldmxpc3RlbmVyLmxlbmd0aDtcbiAgICB9XG4gIH1cblxuICByZXR1cm4gMDtcbn1cblxuRXZlbnRFbWl0dGVyLnByb3RvdHlwZS5ldmVudE5hbWVzID0gZnVuY3Rpb24gZXZlbnROYW1lcygpIHtcbiAgcmV0dXJuIHRoaXMuX2V2ZW50c0NvdW50ID4gMCA/IFJlZmxlY3RPd25LZXlzKHRoaXMuX2V2ZW50cykgOiBbXTtcbn07XG5cbmZ1bmN0aW9uIGFycmF5Q2xvbmUoYXJyLCBuKSB7XG4gIHZhciBjb3B5ID0gbmV3IEFycmF5KG4pO1xuICBmb3IgKHZhciBpID0gMDsgaSA8IG47ICsraSlcbiAgICBjb3B5W2ldID0gYXJyW2ldO1xuICByZXR1cm4gY29weTtcbn1cblxuZnVuY3Rpb24gc3BsaWNlT25lKGxpc3QsIGluZGV4KSB7XG4gIGZvciAoOyBpbmRleCArIDEgPCBsaXN0Lmxlbmd0aDsgaW5kZXgrKylcbiAgICBsaXN0W2luZGV4XSA9IGxpc3RbaW5kZXggKyAxXTtcbiAgbGlzdC5wb3AoKTtcbn1cblxuZnVuY3Rpb24gdW53cmFwTGlzdGVuZXJzKGFycikge1xuICB2YXIgcmV0ID0gbmV3IEFycmF5KGFyci5sZW5ndGgpO1xuICBmb3IgKHZhciBpID0gMDsgaSA8IHJldC5sZW5ndGg7ICsraSkge1xuICAgIHJldFtpXSA9IGFycltpXS5saXN0ZW5lciB8fCBhcnJbaV07XG4gIH1cbiAgcmV0dXJuIHJldDtcbn1cblxuZnVuY3Rpb24gb25jZShlbWl0dGVyLCBuYW1lKSB7XG4gIHJldHVybiBuZXcgUHJvbWlzZShmdW5jdGlvbiAocmVzb2x2ZSwgcmVqZWN0KSB7XG4gICAgZnVuY3Rpb24gZXJyb3JMaXN0ZW5lcihlcnIpIHtcbiAgICAgIGVtaXR0ZXIucmVtb3ZlTGlzdGVuZXIobmFtZSwgcmVzb2x2ZXIpO1xuICAgICAgcmVqZWN0KGVycik7XG4gICAgfVxuXG4gICAgZnVuY3Rpb24gcmVzb2x2ZXIoKSB7XG4gICAgICBpZiAodHlwZW9mIGVtaXR0ZXIucmVtb3ZlTGlzdGVuZXIgPT09ICdmdW5jdGlvbicpIHtcbiAgICAgICAgZW1pdHRlci5yZW1vdmVMaXN0ZW5lcignZXJyb3InLCBlcnJvckxpc3RlbmVyKTtcbiAgICAgIH1cbiAgICAgIHJlc29sdmUoW10uc2xpY2UuY2FsbChhcmd1bWVudHMpKTtcbiAgICB9O1xuXG4gICAgZXZlbnRUYXJnZXRBZ25vc3RpY0FkZExpc3RlbmVyKGVtaXR0ZXIsIG5hbWUsIHJlc29sdmVyLCB7IG9uY2U6IHRydWUgfSk7XG4gICAgaWYgKG5hbWUgIT09ICdlcnJvcicpIHtcbiAgICAgIGFkZEVycm9ySGFuZGxlcklmRXZlbnRFbWl0dGVyKGVtaXR0ZXIsIGVycm9yTGlzdGVuZXIsIHsgb25jZTogdHJ1ZSB9KTtcbiAgICB9XG4gIH0pO1xufVxuXG5mdW5jdGlvbiBhZGRFcnJvckhhbmRsZXJJZkV2ZW50RW1pdHRlcihlbWl0dGVyLCBoYW5kbGVyLCBmbGFncykge1xuICBpZiAodHlwZW9mIGVtaXR0ZXIub24gPT09ICdmdW5jdGlvbicpIHtcbiAgICBldmVudFRhcmdldEFnbm9zdGljQWRkTGlzdGVuZXIoZW1pdHRlciwgJ2Vycm9yJywgaGFuZGxlciwgZmxhZ3MpO1xuICB9XG59XG5cbmZ1bmN0aW9uIGV2ZW50VGFyZ2V0QWdub3N0aWNBZGRMaXN0ZW5lcihlbWl0dGVyLCBuYW1lLCBsaXN0ZW5lciwgZmxhZ3MpIHtcbiAgaWYgKHR5cGVvZiBlbWl0dGVyLm9uID09PSAnZnVuY3Rpb24nKSB7XG4gICAgaWYgKGZsYWdzLm9uY2UpIHtcbiAgICAgIGVtaXR0ZXIub25jZShuYW1lLCBsaXN0ZW5lcik7XG4gICAgfSBlbHNlIHtcbiAgICAgIGVtaXR0ZXIub24obmFtZSwgbGlzdGVuZXIpO1xuICAgIH1cbiAgfSBlbHNlIGlmICh0eXBlb2YgZW1pdHRlci5hZGRFdmVudExpc3RlbmVyID09PSAnZnVuY3Rpb24nKSB7XG4gICAgLy8gRXZlbnRUYXJnZXQgZG9lcyBub3QgaGF2ZSBgZXJyb3JgIGV2ZW50IHNlbWFudGljcyBsaWtlIE5vZGVcbiAgICAvLyBFdmVudEVtaXR0ZXJzLCB3ZSBkbyBub3QgbGlzdGVuIGZvciBgZXJyb3JgIGV2ZW50cyBoZXJlLlxuICAgIGVtaXR0ZXIuYWRkRXZlbnRMaXN0ZW5lcihuYW1lLCBmdW5jdGlvbiB3cmFwTGlzdGVuZXIoYXJnKSB7XG4gICAgICAvLyBJRSBkb2VzIG5vdCBoYXZlIGJ1aWx0aW4gYHsgb25jZTogdHJ1ZSB9YCBzdXBwb3J0IHNvIHdlXG4gICAgICAvLyBoYXZlIHRvIGRvIGl0IG1hbnVhbGx5LlxuICAgICAgaWYgKGZsYWdzLm9uY2UpIHtcbiAgICAgICAgZW1pdHRlci5yZW1vdmVFdmVudExpc3RlbmVyKG5hbWUsIHdyYXBMaXN0ZW5lcik7XG4gICAgICB9XG4gICAgICBsaXN0ZW5lcihhcmcpO1xuICAgIH0pO1xuICB9IGVsc2Uge1xuICAgIHRocm93IG5ldyBUeXBlRXJyb3IoJ1RoZSBcImVtaXR0ZXJcIiBhcmd1bWVudCBtdXN0IGJlIG9mIHR5cGUgRXZlbnRFbWl0dGVyLiBSZWNlaXZlZCB0eXBlICcgKyB0eXBlb2YgZW1pdHRlcik7XG4gIH1cbn1cbiIsICJcInVzZSBzdHJpY3RcIjtcblxuT2JqZWN0LmRlZmluZVByb3BlcnR5KGV4cG9ydHMsIFwiX19lc01vZHVsZVwiLCB7XG4gIHZhbHVlOiB0cnVlXG59KTtcblxudmFyIF90eXBlb2YgPSB0eXBlb2YgU3ltYm9sID09PSBcImZ1bmN0aW9uXCIgJiYgdHlwZW9mIFN5bWJvbC5pdGVyYXRvciA9PT0gXCJzeW1ib2xcIiA/IGZ1bmN0aW9uIChvYmopIHsgcmV0dXJuIHR5cGVvZiBvYmo7IH0gOiBmdW5jdGlvbiAob2JqKSB7IHJldHVybiBvYmogJiYgdHlwZW9mIFN5bWJvbCA9PT0gXCJmdW5jdGlvblwiICYmIG9iai5jb25zdHJ1Y3RvciA9PT0gU3ltYm9sICYmIG9iaiAhPT0gU3ltYm9sLnByb3RvdHlwZSA/IFwic3ltYm9sXCIgOiB0eXBlb2Ygb2JqOyB9O1xuXG52YXIgaXNCcm93c2VyID0gdHlwZW9mIHdpbmRvdyAhPT0gXCJ1bmRlZmluZWRcIiAmJiB0eXBlb2Ygd2luZG93LmRvY3VtZW50ICE9PSBcInVuZGVmaW5lZFwiO1xuXG52YXIgaXNOb2RlID0gdHlwZW9mIHByb2Nlc3MgIT09IFwidW5kZWZpbmVkXCIgJiYgcHJvY2Vzcy52ZXJzaW9ucyAhPSBudWxsICYmIHByb2Nlc3MudmVyc2lvbnMubm9kZSAhPSBudWxsO1xuXG52YXIgaXNXZWJXb3JrZXIgPSAodHlwZW9mIHNlbGYgPT09IFwidW5kZWZpbmVkXCIgPyBcInVuZGVmaW5lZFwiIDogX3R5cGVvZihzZWxmKSkgPT09IFwib2JqZWN0XCIgJiYgc2VsZi5jb25zdHJ1Y3RvciAmJiBzZWxmLmNvbnN0cnVjdG9yLm5hbWUgPT09IFwiRGVkaWNhdGVkV29ya2VyR2xvYmFsU2NvcGVcIjtcblxuLyoqXG4gKiBAc2VlIGh0dHBzOi8vZ2l0aHViLmNvbS9qc2RvbS9qc2RvbS9yZWxlYXNlcy90YWcvMTIuMC4wXG4gKiBAc2VlIGh0dHBzOi8vZ2l0aHViLmNvbS9qc2RvbS9qc2RvbS9pc3N1ZXMvMTUzN1xuICovXG52YXIgaXNKc0RvbSA9IHR5cGVvZiB3aW5kb3cgIT09IFwidW5kZWZpbmVkXCIgJiYgd2luZG93Lm5hbWUgPT09IFwibm9kZWpzXCIgfHwgdHlwZW9mIG5hdmlnYXRvciAhPT0gXCJ1bmRlZmluZWRcIiAmJiAobmF2aWdhdG9yLnVzZXJBZ2VudC5pbmNsdWRlcyhcIk5vZGUuanNcIikgfHwgbmF2aWdhdG9yLnVzZXJBZ2VudC5pbmNsdWRlcyhcImpzZG9tXCIpKTtcblxudmFyIGlzRGVubyA9IHR5cGVvZiBEZW5vICE9PSBcInVuZGVmaW5lZFwiICYmIHR5cGVvZiBEZW5vLnZlcnNpb24gIT09IFwidW5kZWZpbmVkXCIgJiYgdHlwZW9mIERlbm8udmVyc2lvbi5kZW5vICE9PSBcInVuZGVmaW5lZFwiO1xuXG5leHBvcnRzLmlzQnJvd3NlciA9IGlzQnJvd3NlcjtcbmV4cG9ydHMuaXNXZWJXb3JrZXIgPSBpc1dlYldvcmtlcjtcbmV4cG9ydHMuaXNOb2RlID0gaXNOb2RlO1xuZXhwb3J0cy5pc0pzRG9tID0gaXNKc0RvbTtcbmV4cG9ydHMuaXNEZW5vID0gaXNEZW5vOyIsICJcbnR5cGUgSW50QXJyYXkgPSBJbnQ4QXJyYXkgfCBVaW50OEFycmF5IHwgSW50MTZBcnJheSB8IFVpbnQxNkFycmF5IHwgSW50MzJBcnJheSB8IFVpbnQzMkFycmF5O1xuXG5cbmNsYXNzIFNoYXJlZFF1ZXVlPEEgZXh0ZW5kcyBJbnRBcnJheT4ge1xuXG4gICAgX2RhdGE6IEE7XG4gICAgX3dhaXQ6IEludDMyQXJyYXk7XG5cbiAgICBjb25zdHJ1Y3Rvcihwcm9wczogU2hhcmVkUXVldWVQcm9wczxBPikge1xuICAgICAgICB0aGlzLl9kYXRhID0gcHJvcHMuZGF0YTtcbiAgICAgICAgdGhpcy5fd2FpdCA9IHByb3BzLndhaXQgfHwgbmV3IEludDMyQXJyYXkobmV3IE1heWJlU2hhcmVkQXJyYXlCdWZmZXIoNCAqIDIpKTtcbiAgICB9XG5cbiAgICBzdGF0aWMgZnJvbTxBIGV4dGVuZHMgSW50QXJyYXk+KHByb3BzOiBTaGFyZWRRdWV1ZVByb3BzPEE+KSB7XG4gICAgICAgIHJldHVybiBuZXcgU2hhcmVkUXVldWU8QT4ocHJvcHMpO1xuICAgIH1cblxuICAgIHRvKCk6IFNoYXJlZFF1ZXVlUHJvcHM8QT4ge1xuICAgICAgICByZXR1cm4ge2RhdGE6IHRoaXMuX2RhdGEsIHdhaXQ6IHRoaXMuX3dhaXR9O1xuICAgIH1cblxuICAgIGVucXVldWUodjogbnVtYmVyKSB7XG4gICAgICAgIGxldCBoZWFkID0gQXRvbWljcy5sb2FkKHRoaXMuX3dhaXQsIDApLCB0YWlsID0gQXRvbWljcy5sb2FkKHRoaXMuX3dhaXQsIDEpO1xuXG4gICAgICAgIGhlYWQgPyBoZWFkLS0gOiAoaGVhZCA9IHRoaXMuX2RhdGEubGVuZ3RoKTtcblxuICAgICAgICBpZiAoaGVhZCAhPSB0YWlsKSB7XG4gICAgICAgICAgICBBdG9taWNzLnN0b3JlKHRoaXMuX2RhdGEsIHRhaWwrKywgdik7XG4gICAgICAgICAgICBBdG9taWNzLnN0b3JlKHRoaXMuX3dhaXQsIDEsIHRhaWwpO1xuICAgICAgICAgICAgQXRvbWljcy5ub3RpZnkodGhpcy5fd2FpdCwgMSwgMSk7XG4gICAgICAgICAgICByZXR1cm4gMTtcbiAgICAgICAgfVxuICAgICAgICBlbHNlIHJldHVybiAwO1xuICAgIH1cblxuICAgIGVucXVldWVBbGwodnM6IEludEFycmF5KSB7XG4gICAgICAgIGxldCBoZWFkID0gQXRvbWljcy5sb2FkKHRoaXMuX3dhaXQsIDApLCB0YWlsID0gQXRvbWljcy5sb2FkKHRoaXMuX3dhaXQsIDEpO1xuXG4gICAgICAgIGhlYWQgPyBoZWFkLS0gOiAoaGVhZCA9IHRoaXMuX2RhdGEubGVuZ3RoKTtcblxuICAgICAgICB2YXIgaTogbnVtYmVyO1xuICAgICAgICBmb3IgKGkgPSAwOyBoZWFkICE9IHRhaWwgJiYgaSA8IHZzLmxlbmd0aDsgaSsrKSB7XG4gICAgICAgICAgICBBdG9taWNzLnN0b3JlKHRoaXMuX2RhdGEsIHRhaWwrKywgdnNbaV0pO1xuICAgICAgICB9XG5cbiAgICAgICAgaWYgKGkgPiAwKSB7XG4gICAgICAgICAgICBBdG9taWNzLnN0b3JlKHRoaXMuX3dhaXQsIDEsIHRhaWwpO1xuICAgICAgICAgICAgQXRvbWljcy5ub3RpZnkodGhpcy5fd2FpdCwgMSwgMSk7XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuIGk7XG4gICAgfVxuXG4gICAgd2FpdCgpIHtcbiAgICAgICAgbGV0IGhlYWQgPSBBdG9taWNzLmxvYWQodGhpcy5fd2FpdCwgMCksIHRhaWwgPSBBdG9taWNzLmxvYWQodGhpcy5fd2FpdCwgMSk7XG5cbiAgICAgICAgd2hpbGUgKGhlYWQgPT0gdGFpbCkge1xuICAgICAgICAgICAgQXRvbWljcy53YWl0KHRoaXMuX3dhaXQsIDEsIHRhaWwpO1xuICAgICAgICAgICAgdGFpbCA9IEF0b21pY3MubG9hZCh0aGlzLl93YWl0LCAxKTtcbiAgICAgICAgfVxuICAgIH1cblxuICAgIGRlcXVldWUoKSB7XG4gICAgICAgIHRoaXMud2FpdCgpO1xuXG4gICAgICAgIGxldCBoZWFkID0gQXRvbWljcy5sb2FkKHRoaXMuX3dhaXQsIDApLFxuICAgICAgICAgICAgdG9wID0gQXRvbWljcy5sb2FkKHRoaXMuX2RhdGEsIGhlYWQrKylcblxuICAgICAgICBBdG9taWNzLnN0b3JlKHRoaXMuX3dhaXQsIDAsIGhlYWQpO1xuICAgICAgICBBdG9taWNzLm5vdGlmeSh0aGlzLl93YWl0LCAwLCAxKTtcbiAgICAgICAgcmV0dXJuIHRvcDtcbiAgICB9XG5cbiAgICBkZXF1ZXVlU29tZShjb3VudDogbnVtYmVyLCBvdXQ6IEEsIG9mZnNldDogbnVtYmVyKTogbnVtYmVyIHtcbiAgICAgICAgaWYgKGNvdW50ID09IDApIHJldHVybiAwO1xuXG4gICAgICAgIHRoaXMud2FpdCgpO1xuXG4gICAgICAgIGxldCBoZWFkID0gQXRvbWljcy5sb2FkKHRoaXMuX3dhaXQsIDApLCB0YWlsID0gQXRvbWljcy5sb2FkKHRoaXMuX3dhaXQsIDEpO1xuXG4gICAgICAgIHZhciBpOiBudW1iZXI7XG4gICAgICAgIGZvciAoaSA9IDA7IGhlYWQgIT0gdGFpbCAmJiBvZmZzZXQgPCBjb3VudDsgaSsrKSB7XG4gICAgICAgICAgICBvdXRbb2Zmc2V0KytdID0gQXRvbWljcy5sb2FkKHRoaXMuX2RhdGEsIGhlYWQrKyk7XG4gICAgICAgICAgICBpZiAodGFpbCA+PSB0aGlzLl9kYXRhLmxlbmd0aCkgdGFpbCA9IDA7XG4gICAgICAgIH1cblxuICAgICAgICBBdG9taWNzLnN0b3JlKHRoaXMuX3dhaXQsIDAsIGhlYWQpO1xuICAgICAgICBBdG9taWNzLm5vdGlmeSh0aGlzLl93YWl0LCAwLCAxKTtcbiAgICAgICAgcmV0dXJuIGk7ICAgICAgICBcbiAgICB9XG5cbiAgICBpc0VtcHR5KCkgeyBcbiAgICAgICAgbGV0IGhlYWQgPSBBdG9taWNzLmxvYWQodGhpcy5fd2FpdCwgMCksIHRhaWwgPSBBdG9taWNzLmxvYWQodGhpcy5fd2FpdCwgMSk7XG4gICAgICAgIHJldHVybiBoZWFkID09IHRhaWw7XG4gICAgfVxufVxuXG50eXBlIFNoYXJlZFF1ZXVlUHJvcHM8QT4gPSB7IGRhdGE6IEEsIHdhaXQ/OiBJbnQzMkFycmF5IH07XG5cbmNvbnN0IE1heWJlU2hhcmVkQXJyYXlCdWZmZXIgPSB0eXBlb2YgU2hhcmVkQXJyYXlCdWZmZXIgIT0gJ3VuZGVmaW5lZCdcbiAgICA/IFNoYXJlZEFycmF5QnVmZmVyIDogQXJyYXlCdWZmZXI7XG5cblxuXG5leHBvcnQgeyBTaGFyZWRRdWV1ZSwgU2hhcmVkUXVldWVQcm9wcyB9IiwgImltcG9ydCB7IEV2ZW50RW1pdHRlciB9IGZyb20gJ2V2ZW50cyc7XG5pbXBvcnQgeyBTaGFyZWRRdWV1ZSwgU2hhcmVkUXVldWVQcm9wcyB9IGZyb20gJy4vYml0cy9xdWV1ZSc7XG5cblxuXG5jbGFzcyBTaW1wbGV4U3RyZWFtIGV4dGVuZHMgRXZlbnRFbWl0dGVyIHtcblxuICAgIHF1ZXVlOiBTaGFyZWRRdWV1ZTxVaW50OEFycmF5PlxuICAgIG1ldGE6IEludDMyQXJyYXlcblxuICAgIHBvczogbnVtYmVyXG4gICAgYmxvY2tpbmc6IGJvb2xlYW5cblxuICAgIGNvbnN0cnVjdG9yKF9mcm9tOiBTaW1wbGV4U3RyZWFtUHJvcHMgPSB7fSkge1xuICAgICAgICBzdXBlcigpO1xuICAgICAgICB0aGlzLnF1ZXVlID0gU2hhcmVkUXVldWUuZnJvbShfZnJvbS5xdWV1ZSB8fFxuICAgICAgICAgICAge2RhdGE6IG5ldyBVaW50OEFycmF5KG5ldyBNYXliZVNoYXJlZEFycmF5QnVmZmVyKDEwMjQpKX0pO1xuICAgICAgICB0aGlzLm1ldGEgPSBfZnJvbS5tZXRhIHx8IG5ldyBJbnQzMkFycmF5KG5ldyBNYXliZVNoYXJlZEFycmF5QnVmZmVyKDQpKTtcbiAgICAgICAgaWYgKCFfZnJvbS5tZXRhKSB0aGlzLmxlbmd0aCA9IC0xO1xuICAgICAgICAvKiBsb2NhbCBzdGF0ZSAqL1xuICAgICAgICB0aGlzLnBvcyA9IDA7XG4gICAgICAgIHRoaXMuYmxvY2tpbmcgPSB0cnVlO1xuICAgIH1cblxuICAgIHN0YXRpYyBmcm9tKHByb3BzOiBTaW1wbGV4U3RyZWFtUHJvcHMpIHsgcmV0dXJuIG5ldyBTaW1wbGV4U3RyZWFtKHByb3BzKTsgfVxuXG4gICAgdG8oKTogU2ltcGxleFN0cmVhbVByb3BzIHsgcmV0dXJuIHtxdWV1ZTogdGhpcy5xdWV1ZS50bygpLCBtZXRhOiB0aGlzLm1ldGF9OyB9XG5cbiAgICBnZXQgbGVuZ3RoKCkge1xuICAgICAgICByZXR1cm4gQXRvbWljcy5sb2FkKHRoaXMubWV0YSwgMCk7XG4gICAgfVxuXG4gICAgc2V0IGxlbmd0aChsOiBudW1iZXIpIHtcbiAgICAgICAgQXRvbWljcy5zdG9yZSh0aGlzLm1ldGEsIDAsIGwpO1xuICAgIH1cblxuICAgIHJlYWQocmVhZEJ1ZmZlcjogVWludDhBcnJheSwgb2Zmc2V0OiBudW1iZXIsIGxlbmd0aDogbnVtYmVyLCBwb3NpdGlvbikge1xuICAgICAgICBcbiAgICAgICAgaWYgKGxlbmd0aCA+IHJlYWRCdWZmZXIubGVuZ3RoKSBsZW5ndGggPSByZWFkQnVmZmVyLmxlbmd0aDtcblxuICAgICAgICBpZiAodGhpcy5xdWV1ZS5pc0VtcHR5KCkpIHtcbiAgICAgICAgICAgIGlmIChvZmZzZXQgPiAwKSByZXR1cm4gMDtcbiAgICAgICAgICAgIGVsc2UgaWYgKCF0aGlzLmJsb2NraW5nKSB0aHJvdyB7ZXJybm86IDM1LCBjb2RlOiAnRUFHQUlOJ307XG4gICAgICAgIH1cblxuICAgICAgICBpZiAodGhpcy5sZW5ndGggPj0gMCAmJiB0aGlzLnBvcyA+PSB0aGlzLmxlbmd0aClcbiAgICAgICAgICAgIHJldHVybiAwO1xuXG4gICAgICAgIHZhciByZWFkYyA9IHRoaXMucXVldWUuZGVxdWV1ZVNvbWUobGVuZ3RoLCByZWFkQnVmZmVyLCBvZmZzZXQpO1xuICAgICAgICBpZiAocmVhZGMgPiAwKSB7XG4gICAgICAgICAgICBpZiAodGhpcy5sZW5ndGggPj0gMClcbiAgICAgICAgICAgICAgICByZWFkYyA9IE1hdGgubWluKHRoaXMubGVuZ3RoIC0gdGhpcy5wb3MsIHJlYWRjKTtcbiAgICAgICAgICAgIHRoaXMucG9zICs9IHJlYWRjO1xuICAgICAgICAgICAgdGhpcy5lbWl0KCdkYXRhJywgcmVhZEJ1ZmZlci5zbGljZShvZmZzZXQsIHJlYWRjKSk7XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuIHJlYWRjO1xuICAgIH1cblxuICAgIHdyaXRlKHdyaXRlQnVmZmVyOiBVaW50OEFycmF5KSB7XG4gICAgICAgIGxldCB3cml0ZWMgPSB0aGlzLnF1ZXVlLmVucXVldWVBbGwod3JpdGVCdWZmZXIpO1xuICAgICAgICB0aGlzLnBvcyArPSB3cml0ZWM7XG4gICAgICAgIHJldHVybiB3cml0ZWM7XG4gICAgfVxuXG4gICAgZW5kKCkge1xuICAgICAgICB0aGlzLmxlbmd0aCA9IHRoaXMucG9zO1xuICAgICAgICB0aGlzLnF1ZXVlLmVucXVldWUoMCk7ICAvLyBnb3QgdG8gZW5xdWV1ZSBzb21ldGhpbmcgdG8gbm90aWZ5XG4gICAgfVxuXG4gICAgcmVzZXQoKSB7XG4gICAgICAgIHRoaXMubGVuZ3RoID0gLTE7XG4gICAgICAgIHRoaXMucG9zID0gMDtcbiAgICAgICAgdGhpcy5ibG9ja2luZyA9IHRydWU7XG4gICAgfVxufVxuXG5cbnR5cGUgU2ltcGxleFN0cmVhbVByb3BzID0ge1xuICAgIHF1ZXVlPyA6IFNoYXJlZFF1ZXVlUHJvcHM8VWludDhBcnJheT47XG4gICAgbWV0YT8gOiBJbnQzMkFycmF5O1xufTtcblxuXG5jbGFzcyBUcmFuc2Zvcm1TdHJlYW1EdXBsZXg8SSwgTz4gZXh0ZW5kcyBFdmVudEVtaXR0ZXIge1xuXG4gICAgdHM6IFRyYW5zZm9ybVN0cmVhbTxJLCBPPlxuICAgIHdyaXRlcjogV3JpdGFibGVTdHJlYW1EZWZhdWx0V3JpdGVyPEk+XG4gICAgcmVhZGVyOiBSZWFkYWJsZVN0cmVhbVJlYWRlcjxPPlxuXG4gICAgY29uc3RydWN0b3IodHM6IFRyYW5zZm9ybVN0cmVhbTxJLCBPPikge1xuICAgICAgICBzdXBlcigpO1xuICAgICAgICB0aGlzLnRzID0gdHM7XG4gICAgICAgIHRoaXMud3JpdGVyID0gdGhpcy50cy53cml0YWJsZS5nZXRXcml0ZXIoKTtcbiAgICAgICAgdGhpcy5yZWFkZXIgPSB0aGlzLnRzLnJlYWRhYmxlLmdldFJlYWRlcigpO1xuXG4gICAgICAgIChhc3luYyAoKSA9PiB7XG4gICAgICAgICAgICB3aGlsZSAodHJ1ZSkge1xuICAgICAgICAgICAgICAgIGxldCB7ZG9uZSwgdmFsdWV9ID0gYXdhaXQgdGhpcy5yZWFkZXIucmVhZCgpO1xuICAgICAgICAgICAgICAgIGlmICh2YWx1ZSkgdGhpcy5lbWl0KCdkYXRhJywgdmFsdWUpO1xuICAgICAgICAgICAgICAgIGlmIChkb25lKSB7IHRoaXMuZW1pdCgnZW5kJyk7IGJyZWFrOyB9XG4gICAgICAgICAgICB9XG4gICAgICAgIH0pKCk7XG4gICAgfVxuXG4gICAgd3JpdGUoZGF0YTogSSkge1xuICAgICAgICB0aGlzLndyaXRlci53cml0ZShkYXRhKTtcbiAgICB9XG5cbiAgICBlbmQoKSB7XG4gICAgICAgIHRoaXMud3JpdGVyLmNsb3NlKCk7XG4gICAgfVxuXG59XG5cblxuY29uc3QgTWF5YmVTaGFyZWRBcnJheUJ1ZmZlciA9IHR5cGVvZiBTaGFyZWRBcnJheUJ1ZmZlciAhPSAndW5kZWZpbmVkJ1xuICAgID8gU2hhcmVkQXJyYXlCdWZmZXIgOiBBcnJheUJ1ZmZlcjtcblxuXG5cbmV4cG9ydCB7U2ltcGxleFN0cmVhbSwgVHJhbnNmb3JtU3RyZWFtRHVwbGV4fVxuXG4iLCAiJ3VzZSBzdHJpY3QnO1xuXG4vKiogQHR5cGUge2ltcG9ydCgnLi9zaGFtcycpfSAqL1xuLyogZXNsaW50IGNvbXBsZXhpdHk6IFsyLCAxOF0sIG1heC1zdGF0ZW1lbnRzOiBbMiwgMzNdICovXG5tb2R1bGUuZXhwb3J0cyA9IGZ1bmN0aW9uIGhhc1N5bWJvbHMoKSB7XG5cdGlmICh0eXBlb2YgU3ltYm9sICE9PSAnZnVuY3Rpb24nIHx8IHR5cGVvZiBPYmplY3QuZ2V0T3duUHJvcGVydHlTeW1ib2xzICE9PSAnZnVuY3Rpb24nKSB7IHJldHVybiBmYWxzZTsgfVxuXHRpZiAodHlwZW9mIFN5bWJvbC5pdGVyYXRvciA9PT0gJ3N5bWJvbCcpIHsgcmV0dXJuIHRydWU7IH1cblxuXHQvKiogQHR5cGUge3sgW2sgaW4gc3ltYm9sXT86IHVua25vd24gfX0gKi9cblx0dmFyIG9iaiA9IHt9O1xuXHR2YXIgc3ltID0gU3ltYm9sKCd0ZXN0Jyk7XG5cdHZhciBzeW1PYmogPSBPYmplY3Qoc3ltKTtcblx0aWYgKHR5cGVvZiBzeW0gPT09ICdzdHJpbmcnKSB7IHJldHVybiBmYWxzZTsgfVxuXG5cdGlmIChPYmplY3QucHJvdG90eXBlLnRvU3RyaW5nLmNhbGwoc3ltKSAhPT0gJ1tvYmplY3QgU3ltYm9sXScpIHsgcmV0dXJuIGZhbHNlOyB9XG5cdGlmIChPYmplY3QucHJvdG90eXBlLnRvU3RyaW5nLmNhbGwoc3ltT2JqKSAhPT0gJ1tvYmplY3QgU3ltYm9sXScpIHsgcmV0dXJuIGZhbHNlOyB9XG5cblx0Ly8gdGVtcCBkaXNhYmxlZCBwZXIgaHR0cHM6Ly9naXRodWIuY29tL2xqaGFyYi9vYmplY3QuYXNzaWduL2lzc3Vlcy8xN1xuXHQvLyBpZiAoc3ltIGluc3RhbmNlb2YgU3ltYm9sKSB7IHJldHVybiBmYWxzZTsgfVxuXHQvLyB0ZW1wIGRpc2FibGVkIHBlciBodHRwczovL2dpdGh1Yi5jb20vV2ViUmVmbGVjdGlvbi9nZXQtb3duLXByb3BlcnR5LXN5bWJvbHMvaXNzdWVzLzRcblx0Ly8gaWYgKCEoc3ltT2JqIGluc3RhbmNlb2YgU3ltYm9sKSkgeyByZXR1cm4gZmFsc2U7IH1cblxuXHQvLyBpZiAodHlwZW9mIFN5bWJvbC5wcm90b3R5cGUudG9TdHJpbmcgIT09ICdmdW5jdGlvbicpIHsgcmV0dXJuIGZhbHNlOyB9XG5cdC8vIGlmIChTdHJpbmcoc3ltKSAhPT0gU3ltYm9sLnByb3RvdHlwZS50b1N0cmluZy5jYWxsKHN5bSkpIHsgcmV0dXJuIGZhbHNlOyB9XG5cblx0dmFyIHN5bVZhbCA9IDQyO1xuXHRvYmpbc3ltXSA9IHN5bVZhbDtcblx0Zm9yICh2YXIgXyBpbiBvYmopIHsgcmV0dXJuIGZhbHNlOyB9IC8vIGVzbGludC1kaXNhYmxlLWxpbmUgbm8tcmVzdHJpY3RlZC1zeW50YXgsIG5vLXVucmVhY2hhYmxlLWxvb3Bcblx0aWYgKHR5cGVvZiBPYmplY3Qua2V5cyA9PT0gJ2Z1bmN0aW9uJyAmJiBPYmplY3Qua2V5cyhvYmopLmxlbmd0aCAhPT0gMCkgeyByZXR1cm4gZmFsc2U7IH1cblxuXHRpZiAodHlwZW9mIE9iamVjdC5nZXRPd25Qcm9wZXJ0eU5hbWVzID09PSAnZnVuY3Rpb24nICYmIE9iamVjdC5nZXRPd25Qcm9wZXJ0eU5hbWVzKG9iaikubGVuZ3RoICE9PSAwKSB7IHJldHVybiBmYWxzZTsgfVxuXG5cdHZhciBzeW1zID0gT2JqZWN0LmdldE93blByb3BlcnR5U3ltYm9scyhvYmopO1xuXHRpZiAoc3ltcy5sZW5ndGggIT09IDEgfHwgc3ltc1swXSAhPT0gc3ltKSB7IHJldHVybiBmYWxzZTsgfVxuXG5cdGlmICghT2JqZWN0LnByb3RvdHlwZS5wcm9wZXJ0eUlzRW51bWVyYWJsZS5jYWxsKG9iaiwgc3ltKSkgeyByZXR1cm4gZmFsc2U7IH1cblxuXHRpZiAodHlwZW9mIE9iamVjdC5nZXRPd25Qcm9wZXJ0eURlc2NyaXB0b3IgPT09ICdmdW5jdGlvbicpIHtcblx0XHQvLyBlc2xpbnQtZGlzYWJsZS1uZXh0LWxpbmUgbm8tZXh0cmEtcGFyZW5zXG5cdFx0dmFyIGRlc2NyaXB0b3IgPSAvKiogQHR5cGUge1Byb3BlcnR5RGVzY3JpcHRvcn0gKi8gKE9iamVjdC5nZXRPd25Qcm9wZXJ0eURlc2NyaXB0b3Iob2JqLCBzeW0pKTtcblx0XHRpZiAoZGVzY3JpcHRvci52YWx1ZSAhPT0gc3ltVmFsIHx8IGRlc2NyaXB0b3IuZW51bWVyYWJsZSAhPT0gdHJ1ZSkgeyByZXR1cm4gZmFsc2U7IH1cblx0fVxuXG5cdHJldHVybiB0cnVlO1xufTtcbiIsICIndXNlIHN0cmljdCc7XG5cbnZhciBoYXNTeW1ib2xzID0gcmVxdWlyZSgnaGFzLXN5bWJvbHMvc2hhbXMnKTtcblxuLyoqIEB0eXBlIHtpbXBvcnQoJy4nKX0gKi9cbm1vZHVsZS5leHBvcnRzID0gZnVuY3Rpb24gaGFzVG9TdHJpbmdUYWdTaGFtcygpIHtcblx0cmV0dXJuIGhhc1N5bWJvbHMoKSAmJiAhIVN5bWJvbC50b1N0cmluZ1RhZztcbn07XG4iLCAiJ3VzZSBzdHJpY3QnO1xuXG4vKiogQHR5cGUge2ltcG9ydCgnLicpfSAqL1xubW9kdWxlLmV4cG9ydHMgPSBPYmplY3Q7XG4iLCAiJ3VzZSBzdHJpY3QnO1xuXG4vKiogQHR5cGUge2ltcG9ydCgnLicpfSAqL1xubW9kdWxlLmV4cG9ydHMgPSBFcnJvcjtcbiIsICIndXNlIHN0cmljdCc7XG5cbi8qKiBAdHlwZSB7aW1wb3J0KCcuL2V2YWwnKX0gKi9cbm1vZHVsZS5leHBvcnRzID0gRXZhbEVycm9yO1xuIiwgIid1c2Ugc3RyaWN0JztcblxuLyoqIEB0eXBlIHtpbXBvcnQoJy4vcmFuZ2UnKX0gKi9cbm1vZHVsZS5leHBvcnRzID0gUmFuZ2VFcnJvcjtcbiIsICIndXNlIHN0cmljdCc7XG5cbi8qKiBAdHlwZSB7aW1wb3J0KCcuL3JlZicpfSAqL1xubW9kdWxlLmV4cG9ydHMgPSBSZWZlcmVuY2VFcnJvcjtcbiIsICIndXNlIHN0cmljdCc7XG5cbi8qKiBAdHlwZSB7aW1wb3J0KCcuL3N5bnRheCcpfSAqL1xubW9kdWxlLmV4cG9ydHMgPSBTeW50YXhFcnJvcjtcbiIsICIndXNlIHN0cmljdCc7XG5cbi8qKiBAdHlwZSB7aW1wb3J0KCcuL3R5cGUnKX0gKi9cbm1vZHVsZS5leHBvcnRzID0gVHlwZUVycm9yO1xuIiwgIid1c2Ugc3RyaWN0JztcblxuLyoqIEB0eXBlIHtpbXBvcnQoJy4vdXJpJyl9ICovXG5tb2R1bGUuZXhwb3J0cyA9IFVSSUVycm9yO1xuIiwgIid1c2Ugc3RyaWN0JztcblxuLyoqIEB0eXBlIHtpbXBvcnQoJy4vYWJzJyl9ICovXG5tb2R1bGUuZXhwb3J0cyA9IE1hdGguYWJzO1xuIiwgIid1c2Ugc3RyaWN0JztcblxuLyoqIEB0eXBlIHtpbXBvcnQoJy4vZmxvb3InKX0gKi9cbm1vZHVsZS5leHBvcnRzID0gTWF0aC5mbG9vcjtcbiIsICIndXNlIHN0cmljdCc7XG5cbi8qKiBAdHlwZSB7aW1wb3J0KCcuL21heCcpfSAqL1xubW9kdWxlLmV4cG9ydHMgPSBNYXRoLm1heDtcbiIsICIndXNlIHN0cmljdCc7XG5cbi8qKiBAdHlwZSB7aW1wb3J0KCcuL21pbicpfSAqL1xubW9kdWxlLmV4cG9ydHMgPSBNYXRoLm1pbjtcbiIsICIndXNlIHN0cmljdCc7XG5cbi8qKiBAdHlwZSB7aW1wb3J0KCcuL3BvdycpfSAqL1xubW9kdWxlLmV4cG9ydHMgPSBNYXRoLnBvdztcbiIsICIndXNlIHN0cmljdCc7XG5cbi8qKiBAdHlwZSB7aW1wb3J0KCcuL3JvdW5kJyl9ICovXG5tb2R1bGUuZXhwb3J0cyA9IE1hdGgucm91bmQ7XG4iLCAiJ3VzZSBzdHJpY3QnO1xuXG4vKiogQHR5cGUge2ltcG9ydCgnLi9pc05hTicpfSAqL1xubW9kdWxlLmV4cG9ydHMgPSBOdW1iZXIuaXNOYU4gfHwgZnVuY3Rpb24gaXNOYU4oYSkge1xuXHRyZXR1cm4gYSAhPT0gYTtcbn07XG4iLCAiJ3VzZSBzdHJpY3QnO1xuXG52YXIgJGlzTmFOID0gcmVxdWlyZSgnLi9pc05hTicpO1xuXG4vKiogQHR5cGUge2ltcG9ydCgnLi9zaWduJyl9ICovXG5tb2R1bGUuZXhwb3J0cyA9IGZ1bmN0aW9uIHNpZ24obnVtYmVyKSB7XG5cdGlmICgkaXNOYU4obnVtYmVyKSB8fCBudW1iZXIgPT09IDApIHtcblx0XHRyZXR1cm4gbnVtYmVyO1xuXHR9XG5cdHJldHVybiBudW1iZXIgPCAwID8gLTEgOiArMTtcbn07XG4iLCAiJ3VzZSBzdHJpY3QnO1xuXG4vKiogQHR5cGUge2ltcG9ydCgnLi9nT1BEJyl9ICovXG5tb2R1bGUuZXhwb3J0cyA9IE9iamVjdC5nZXRPd25Qcm9wZXJ0eURlc2NyaXB0b3I7XG4iLCAiJ3VzZSBzdHJpY3QnO1xuXG4vKiogQHR5cGUge2ltcG9ydCgnLicpfSAqL1xudmFyICRnT1BEID0gcmVxdWlyZSgnLi9nT1BEJyk7XG5cbmlmICgkZ09QRCkge1xuXHR0cnkge1xuXHRcdCRnT1BEKFtdLCAnbGVuZ3RoJyk7XG5cdH0gY2F0Y2ggKGUpIHtcblx0XHQvLyBJRSA4IGhhcyBhIGJyb2tlbiBnT1BEXG5cdFx0JGdPUEQgPSBudWxsO1xuXHR9XG59XG5cbm1vZHVsZS5leHBvcnRzID0gJGdPUEQ7XG4iLCAiJ3VzZSBzdHJpY3QnO1xuXG4vKiogQHR5cGUge2ltcG9ydCgnLicpfSAqL1xudmFyICRkZWZpbmVQcm9wZXJ0eSA9IE9iamVjdC5kZWZpbmVQcm9wZXJ0eSB8fCBmYWxzZTtcbmlmICgkZGVmaW5lUHJvcGVydHkpIHtcblx0dHJ5IHtcblx0XHQkZGVmaW5lUHJvcGVydHkoe30sICdhJywgeyB2YWx1ZTogMSB9KTtcblx0fSBjYXRjaCAoZSkge1xuXHRcdC8vIElFIDggaGFzIGEgYnJva2VuIGRlZmluZVByb3BlcnR5XG5cdFx0JGRlZmluZVByb3BlcnR5ID0gZmFsc2U7XG5cdH1cbn1cblxubW9kdWxlLmV4cG9ydHMgPSAkZGVmaW5lUHJvcGVydHk7XG4iLCAiJ3VzZSBzdHJpY3QnO1xuXG52YXIgb3JpZ1N5bWJvbCA9IHR5cGVvZiBTeW1ib2wgIT09ICd1bmRlZmluZWQnICYmIFN5bWJvbDtcbnZhciBoYXNTeW1ib2xTaGFtID0gcmVxdWlyZSgnLi9zaGFtcycpO1xuXG4vKiogQHR5cGUge2ltcG9ydCgnLicpfSAqL1xubW9kdWxlLmV4cG9ydHMgPSBmdW5jdGlvbiBoYXNOYXRpdmVTeW1ib2xzKCkge1xuXHRpZiAodHlwZW9mIG9yaWdTeW1ib2wgIT09ICdmdW5jdGlvbicpIHsgcmV0dXJuIGZhbHNlOyB9XG5cdGlmICh0eXBlb2YgU3ltYm9sICE9PSAnZnVuY3Rpb24nKSB7IHJldHVybiBmYWxzZTsgfVxuXHRpZiAodHlwZW9mIG9yaWdTeW1ib2woJ2ZvbycpICE9PSAnc3ltYm9sJykgeyByZXR1cm4gZmFsc2U7IH1cblx0aWYgKHR5cGVvZiBTeW1ib2woJ2JhcicpICE9PSAnc3ltYm9sJykgeyByZXR1cm4gZmFsc2U7IH1cblxuXHRyZXR1cm4gaGFzU3ltYm9sU2hhbSgpO1xufTtcbiIsICIndXNlIHN0cmljdCc7XG5cbi8qKiBAdHlwZSB7aW1wb3J0KCcuL1JlZmxlY3QuZ2V0UHJvdG90eXBlT2YnKX0gKi9cbm1vZHVsZS5leHBvcnRzID0gKHR5cGVvZiBSZWZsZWN0ICE9PSAndW5kZWZpbmVkJyAmJiBSZWZsZWN0LmdldFByb3RvdHlwZU9mKSB8fCBudWxsO1xuIiwgIid1c2Ugc3RyaWN0JztcblxudmFyICRPYmplY3QgPSByZXF1aXJlKCdlcy1vYmplY3QtYXRvbXMnKTtcblxuLyoqIEB0eXBlIHtpbXBvcnQoJy4vT2JqZWN0LmdldFByb3RvdHlwZU9mJyl9ICovXG5tb2R1bGUuZXhwb3J0cyA9ICRPYmplY3QuZ2V0UHJvdG90eXBlT2YgfHwgbnVsbDtcbiIsICIndXNlIHN0cmljdCc7XG5cbi8qIGVzbGludCBuby1pbnZhbGlkLXRoaXM6IDEgKi9cblxudmFyIEVSUk9SX01FU1NBR0UgPSAnRnVuY3Rpb24ucHJvdG90eXBlLmJpbmQgY2FsbGVkIG9uIGluY29tcGF0aWJsZSAnO1xudmFyIHRvU3RyID0gT2JqZWN0LnByb3RvdHlwZS50b1N0cmluZztcbnZhciBtYXggPSBNYXRoLm1heDtcbnZhciBmdW5jVHlwZSA9ICdbb2JqZWN0IEZ1bmN0aW9uXSc7XG5cbnZhciBjb25jYXR0eSA9IGZ1bmN0aW9uIGNvbmNhdHR5KGEsIGIpIHtcbiAgICB2YXIgYXJyID0gW107XG5cbiAgICBmb3IgKHZhciBpID0gMDsgaSA8IGEubGVuZ3RoOyBpICs9IDEpIHtcbiAgICAgICAgYXJyW2ldID0gYVtpXTtcbiAgICB9XG4gICAgZm9yICh2YXIgaiA9IDA7IGogPCBiLmxlbmd0aDsgaiArPSAxKSB7XG4gICAgICAgIGFycltqICsgYS5sZW5ndGhdID0gYltqXTtcbiAgICB9XG5cbiAgICByZXR1cm4gYXJyO1xufTtcblxudmFyIHNsaWN5ID0gZnVuY3Rpb24gc2xpY3koYXJyTGlrZSwgb2Zmc2V0KSB7XG4gICAgdmFyIGFyciA9IFtdO1xuICAgIGZvciAodmFyIGkgPSBvZmZzZXQgfHwgMCwgaiA9IDA7IGkgPCBhcnJMaWtlLmxlbmd0aDsgaSArPSAxLCBqICs9IDEpIHtcbiAgICAgICAgYXJyW2pdID0gYXJyTGlrZVtpXTtcbiAgICB9XG4gICAgcmV0dXJuIGFycjtcbn07XG5cbnZhciBqb2lueSA9IGZ1bmN0aW9uIChhcnIsIGpvaW5lcikge1xuICAgIHZhciBzdHIgPSAnJztcbiAgICBmb3IgKHZhciBpID0gMDsgaSA8IGFyci5sZW5ndGg7IGkgKz0gMSkge1xuICAgICAgICBzdHIgKz0gYXJyW2ldO1xuICAgICAgICBpZiAoaSArIDEgPCBhcnIubGVuZ3RoKSB7XG4gICAgICAgICAgICBzdHIgKz0gam9pbmVyO1xuICAgICAgICB9XG4gICAgfVxuICAgIHJldHVybiBzdHI7XG59O1xuXG5tb2R1bGUuZXhwb3J0cyA9IGZ1bmN0aW9uIGJpbmQodGhhdCkge1xuICAgIHZhciB0YXJnZXQgPSB0aGlzO1xuICAgIGlmICh0eXBlb2YgdGFyZ2V0ICE9PSAnZnVuY3Rpb24nIHx8IHRvU3RyLmFwcGx5KHRhcmdldCkgIT09IGZ1bmNUeXBlKSB7XG4gICAgICAgIHRocm93IG5ldyBUeXBlRXJyb3IoRVJST1JfTUVTU0FHRSArIHRhcmdldCk7XG4gICAgfVxuICAgIHZhciBhcmdzID0gc2xpY3koYXJndW1lbnRzLCAxKTtcblxuICAgIHZhciBib3VuZDtcbiAgICB2YXIgYmluZGVyID0gZnVuY3Rpb24gKCkge1xuICAgICAgICBpZiAodGhpcyBpbnN0YW5jZW9mIGJvdW5kKSB7XG4gICAgICAgICAgICB2YXIgcmVzdWx0ID0gdGFyZ2V0LmFwcGx5KFxuICAgICAgICAgICAgICAgIHRoaXMsXG4gICAgICAgICAgICAgICAgY29uY2F0dHkoYXJncywgYXJndW1lbnRzKVxuICAgICAgICAgICAgKTtcbiAgICAgICAgICAgIGlmIChPYmplY3QocmVzdWx0KSA9PT0gcmVzdWx0KSB7XG4gICAgICAgICAgICAgICAgcmV0dXJuIHJlc3VsdDtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIHJldHVybiB0aGlzO1xuICAgICAgICB9XG4gICAgICAgIHJldHVybiB0YXJnZXQuYXBwbHkoXG4gICAgICAgICAgICB0aGF0LFxuICAgICAgICAgICAgY29uY2F0dHkoYXJncywgYXJndW1lbnRzKVxuICAgICAgICApO1xuXG4gICAgfTtcblxuICAgIHZhciBib3VuZExlbmd0aCA9IG1heCgwLCB0YXJnZXQubGVuZ3RoIC0gYXJncy5sZW5ndGgpO1xuICAgIHZhciBib3VuZEFyZ3MgPSBbXTtcbiAgICBmb3IgKHZhciBpID0gMDsgaSA8IGJvdW5kTGVuZ3RoOyBpKyspIHtcbiAgICAgICAgYm91bmRBcmdzW2ldID0gJyQnICsgaTtcbiAgICB9XG5cbiAgICBib3VuZCA9IEZ1bmN0aW9uKCdiaW5kZXInLCAncmV0dXJuIGZ1bmN0aW9uICgnICsgam9pbnkoYm91bmRBcmdzLCAnLCcpICsgJyl7IHJldHVybiBiaW5kZXIuYXBwbHkodGhpcyxhcmd1bWVudHMpOyB9JykoYmluZGVyKTtcblxuICAgIGlmICh0YXJnZXQucHJvdG90eXBlKSB7XG4gICAgICAgIHZhciBFbXB0eSA9IGZ1bmN0aW9uIEVtcHR5KCkge307XG4gICAgICAgIEVtcHR5LnByb3RvdHlwZSA9IHRhcmdldC5wcm90b3R5cGU7XG4gICAgICAgIGJvdW5kLnByb3RvdHlwZSA9IG5ldyBFbXB0eSgpO1xuICAgICAgICBFbXB0eS5wcm90b3R5cGUgPSBudWxsO1xuICAgIH1cblxuICAgIHJldHVybiBib3VuZDtcbn07XG4iLCAiJ3VzZSBzdHJpY3QnO1xuXG52YXIgaW1wbGVtZW50YXRpb24gPSByZXF1aXJlKCcuL2ltcGxlbWVudGF0aW9uJyk7XG5cbm1vZHVsZS5leHBvcnRzID0gRnVuY3Rpb24ucHJvdG90eXBlLmJpbmQgfHwgaW1wbGVtZW50YXRpb247XG4iLCAiJ3VzZSBzdHJpY3QnO1xuXG4vKiogQHR5cGUge2ltcG9ydCgnLi9mdW5jdGlvbkNhbGwnKX0gKi9cbm1vZHVsZS5leHBvcnRzID0gRnVuY3Rpb24ucHJvdG90eXBlLmNhbGw7XG4iLCAiJ3VzZSBzdHJpY3QnO1xuXG4vKiogQHR5cGUge2ltcG9ydCgnLi9mdW5jdGlvbkFwcGx5Jyl9ICovXG5tb2R1bGUuZXhwb3J0cyA9IEZ1bmN0aW9uLnByb3RvdHlwZS5hcHBseTtcbiIsICIndXNlIHN0cmljdCc7XG5cbi8qKiBAdHlwZSB7aW1wb3J0KCcuL3JlZmxlY3RBcHBseScpfSAqL1xubW9kdWxlLmV4cG9ydHMgPSB0eXBlb2YgUmVmbGVjdCAhPT0gJ3VuZGVmaW5lZCcgJiYgUmVmbGVjdCAmJiBSZWZsZWN0LmFwcGx5O1xuIiwgIid1c2Ugc3RyaWN0JztcblxudmFyIGJpbmQgPSByZXF1aXJlKCdmdW5jdGlvbi1iaW5kJyk7XG5cbnZhciAkYXBwbHkgPSByZXF1aXJlKCcuL2Z1bmN0aW9uQXBwbHknKTtcbnZhciAkY2FsbCA9IHJlcXVpcmUoJy4vZnVuY3Rpb25DYWxsJyk7XG52YXIgJHJlZmxlY3RBcHBseSA9IHJlcXVpcmUoJy4vcmVmbGVjdEFwcGx5Jyk7XG5cbi8qKiBAdHlwZSB7aW1wb3J0KCcuL2FjdHVhbEFwcGx5Jyl9ICovXG5tb2R1bGUuZXhwb3J0cyA9ICRyZWZsZWN0QXBwbHkgfHwgYmluZC5jYWxsKCRjYWxsLCAkYXBwbHkpO1xuIiwgIid1c2Ugc3RyaWN0JztcblxudmFyIGJpbmQgPSByZXF1aXJlKCdmdW5jdGlvbi1iaW5kJyk7XG52YXIgJFR5cGVFcnJvciA9IHJlcXVpcmUoJ2VzLWVycm9ycy90eXBlJyk7XG5cbnZhciAkY2FsbCA9IHJlcXVpcmUoJy4vZnVuY3Rpb25DYWxsJyk7XG52YXIgJGFjdHVhbEFwcGx5ID0gcmVxdWlyZSgnLi9hY3R1YWxBcHBseScpO1xuXG4vKiogQHR5cGUgeyhhcmdzOiBbRnVuY3Rpb24sIHRoaXNBcmc/OiB1bmtub3duLCAuLi5hcmdzOiB1bmtub3duW11dKSA9PiBGdW5jdGlvbn0gVE9ETyBGSVhNRSwgZmluZCBhIHdheSB0byB1c2UgaW1wb3J0KCcuJykgKi9cbm1vZHVsZS5leHBvcnRzID0gZnVuY3Rpb24gY2FsbEJpbmRCYXNpYyhhcmdzKSB7XG5cdGlmIChhcmdzLmxlbmd0aCA8IDEgfHwgdHlwZW9mIGFyZ3NbMF0gIT09ICdmdW5jdGlvbicpIHtcblx0XHR0aHJvdyBuZXcgJFR5cGVFcnJvcignYSBmdW5jdGlvbiBpcyByZXF1aXJlZCcpO1xuXHR9XG5cdHJldHVybiAkYWN0dWFsQXBwbHkoYmluZCwgJGNhbGwsIGFyZ3MpO1xufTtcbiIsICIndXNlIHN0cmljdCc7XG5cbnZhciBjYWxsQmluZCA9IHJlcXVpcmUoJ2NhbGwtYmluZC1hcHBseS1oZWxwZXJzJyk7XG52YXIgZ09QRCA9IHJlcXVpcmUoJ2dvcGQnKTtcblxudmFyIGhhc1Byb3RvQWNjZXNzb3I7XG50cnkge1xuXHQvLyBlc2xpbnQtZGlzYWJsZS1uZXh0LWxpbmUgbm8tZXh0cmEtcGFyZW5zLCBuby1wcm90b1xuXHRoYXNQcm90b0FjY2Vzc29yID0gLyoqIEB0eXBlIHt7IF9fcHJvdG9fXz86IHR5cGVvZiBBcnJheS5wcm90b3R5cGUgfX0gKi8gKFtdKS5fX3Byb3RvX18gPT09IEFycmF5LnByb3RvdHlwZTtcbn0gY2F0Y2ggKGUpIHtcblx0aWYgKCFlIHx8IHR5cGVvZiBlICE9PSAnb2JqZWN0JyB8fCAhKCdjb2RlJyBpbiBlKSB8fCBlLmNvZGUgIT09ICdFUlJfUFJPVE9fQUNDRVNTJykge1xuXHRcdHRocm93IGU7XG5cdH1cbn1cblxuLy8gZXNsaW50LWRpc2FibGUtbmV4dC1saW5lIG5vLWV4dHJhLXBhcmVuc1xudmFyIGRlc2MgPSAhIWhhc1Byb3RvQWNjZXNzb3IgJiYgZ09QRCAmJiBnT1BEKE9iamVjdC5wcm90b3R5cGUsIC8qKiBAdHlwZSB7a2V5b2YgdHlwZW9mIE9iamVjdC5wcm90b3R5cGV9ICovICgnX19wcm90b19fJykpO1xuXG52YXIgJE9iamVjdCA9IE9iamVjdDtcbnZhciAkZ2V0UHJvdG90eXBlT2YgPSAkT2JqZWN0LmdldFByb3RvdHlwZU9mO1xuXG4vKiogQHR5cGUge2ltcG9ydCgnLi9nZXQnKX0gKi9cbm1vZHVsZS5leHBvcnRzID0gZGVzYyAmJiB0eXBlb2YgZGVzYy5nZXQgPT09ICdmdW5jdGlvbidcblx0PyBjYWxsQmluZChbZGVzYy5nZXRdKVxuXHQ6IHR5cGVvZiAkZ2V0UHJvdG90eXBlT2YgPT09ICdmdW5jdGlvbidcblx0XHQ/IC8qKiBAdHlwZSB7aW1wb3J0KCcuL2dldCcpfSAqLyBmdW5jdGlvbiBnZXREdW5kZXIodmFsdWUpIHtcblx0XHRcdC8vIGVzbGludC1kaXNhYmxlLW5leHQtbGluZSBlcWVxZXFcblx0XHRcdHJldHVybiAkZ2V0UHJvdG90eXBlT2YodmFsdWUgPT0gbnVsbCA/IHZhbHVlIDogJE9iamVjdCh2YWx1ZSkpO1xuXHRcdH1cblx0XHQ6IGZhbHNlO1xuIiwgIid1c2Ugc3RyaWN0JztcblxudmFyIHJlZmxlY3RHZXRQcm90byA9IHJlcXVpcmUoJy4vUmVmbGVjdC5nZXRQcm90b3R5cGVPZicpO1xudmFyIG9yaWdpbmFsR2V0UHJvdG8gPSByZXF1aXJlKCcuL09iamVjdC5nZXRQcm90b3R5cGVPZicpO1xuXG52YXIgZ2V0RHVuZGVyUHJvdG8gPSByZXF1aXJlKCdkdW5kZXItcHJvdG8vZ2V0Jyk7XG5cbi8qKiBAdHlwZSB7aW1wb3J0KCcuJyl9ICovXG5tb2R1bGUuZXhwb3J0cyA9IHJlZmxlY3RHZXRQcm90b1xuXHQ/IGZ1bmN0aW9uIGdldFByb3RvKE8pIHtcblx0XHQvLyBAdHMtZXhwZWN0LWVycm9yIFRTIGNhbid0IG5hcnJvdyBpbnNpZGUgYSBjbG9zdXJlLCBmb3Igc29tZSByZWFzb25cblx0XHRyZXR1cm4gcmVmbGVjdEdldFByb3RvKE8pO1xuXHR9XG5cdDogb3JpZ2luYWxHZXRQcm90b1xuXHRcdD8gZnVuY3Rpb24gZ2V0UHJvdG8oTykge1xuXHRcdFx0aWYgKCFPIHx8ICh0eXBlb2YgTyAhPT0gJ29iamVjdCcgJiYgdHlwZW9mIE8gIT09ICdmdW5jdGlvbicpKSB7XG5cdFx0XHRcdHRocm93IG5ldyBUeXBlRXJyb3IoJ2dldFByb3RvOiBub3QgYW4gb2JqZWN0Jyk7XG5cdFx0XHR9XG5cdFx0XHQvLyBAdHMtZXhwZWN0LWVycm9yIFRTIGNhbid0IG5hcnJvdyBpbnNpZGUgYSBjbG9zdXJlLCBmb3Igc29tZSByZWFzb25cblx0XHRcdHJldHVybiBvcmlnaW5hbEdldFByb3RvKE8pO1xuXHRcdH1cblx0XHQ6IGdldER1bmRlclByb3RvXG5cdFx0XHQ/IGZ1bmN0aW9uIGdldFByb3RvKE8pIHtcblx0XHRcdFx0Ly8gQHRzLWV4cGVjdC1lcnJvciBUUyBjYW4ndCBuYXJyb3cgaW5zaWRlIGEgY2xvc3VyZSwgZm9yIHNvbWUgcmVhc29uXG5cdFx0XHRcdHJldHVybiBnZXREdW5kZXJQcm90byhPKTtcblx0XHRcdH1cblx0XHRcdDogbnVsbDtcbiIsICIndXNlIHN0cmljdCc7XG5cbnZhciBjYWxsID0gRnVuY3Rpb24ucHJvdG90eXBlLmNhbGw7XG52YXIgJGhhc093biA9IE9iamVjdC5wcm90b3R5cGUuaGFzT3duUHJvcGVydHk7XG52YXIgYmluZCA9IHJlcXVpcmUoJ2Z1bmN0aW9uLWJpbmQnKTtcblxuLyoqIEB0eXBlIHtpbXBvcnQoJy4nKX0gKi9cbm1vZHVsZS5leHBvcnRzID0gYmluZC5jYWxsKGNhbGwsICRoYXNPd24pO1xuIiwgIid1c2Ugc3RyaWN0JztcblxudmFyIHVuZGVmaW5lZDtcblxudmFyICRPYmplY3QgPSByZXF1aXJlKCdlcy1vYmplY3QtYXRvbXMnKTtcblxudmFyICRFcnJvciA9IHJlcXVpcmUoJ2VzLWVycm9ycycpO1xudmFyICRFdmFsRXJyb3IgPSByZXF1aXJlKCdlcy1lcnJvcnMvZXZhbCcpO1xudmFyICRSYW5nZUVycm9yID0gcmVxdWlyZSgnZXMtZXJyb3JzL3JhbmdlJyk7XG52YXIgJFJlZmVyZW5jZUVycm9yID0gcmVxdWlyZSgnZXMtZXJyb3JzL3JlZicpO1xudmFyICRTeW50YXhFcnJvciA9IHJlcXVpcmUoJ2VzLWVycm9ycy9zeW50YXgnKTtcbnZhciAkVHlwZUVycm9yID0gcmVxdWlyZSgnZXMtZXJyb3JzL3R5cGUnKTtcbnZhciAkVVJJRXJyb3IgPSByZXF1aXJlKCdlcy1lcnJvcnMvdXJpJyk7XG5cbnZhciBhYnMgPSByZXF1aXJlKCdtYXRoLWludHJpbnNpY3MvYWJzJyk7XG52YXIgZmxvb3IgPSByZXF1aXJlKCdtYXRoLWludHJpbnNpY3MvZmxvb3InKTtcbnZhciBtYXggPSByZXF1aXJlKCdtYXRoLWludHJpbnNpY3MvbWF4Jyk7XG52YXIgbWluID0gcmVxdWlyZSgnbWF0aC1pbnRyaW5zaWNzL21pbicpO1xudmFyIHBvdyA9IHJlcXVpcmUoJ21hdGgtaW50cmluc2ljcy9wb3cnKTtcbnZhciByb3VuZCA9IHJlcXVpcmUoJ21hdGgtaW50cmluc2ljcy9yb3VuZCcpO1xudmFyIHNpZ24gPSByZXF1aXJlKCdtYXRoLWludHJpbnNpY3Mvc2lnbicpO1xuXG52YXIgJEZ1bmN0aW9uID0gRnVuY3Rpb247XG5cbi8vIGVzbGludC1kaXNhYmxlLW5leHQtbGluZSBjb25zaXN0ZW50LXJldHVyblxudmFyIGdldEV2YWxsZWRDb25zdHJ1Y3RvciA9IGZ1bmN0aW9uIChleHByZXNzaW9uU3ludGF4KSB7XG5cdHRyeSB7XG5cdFx0cmV0dXJuICRGdW5jdGlvbignXCJ1c2Ugc3RyaWN0XCI7IHJldHVybiAoJyArIGV4cHJlc3Npb25TeW50YXggKyAnKS5jb25zdHJ1Y3RvcjsnKSgpO1xuXHR9IGNhdGNoIChlKSB7fVxufTtcblxudmFyICRnT1BEID0gcmVxdWlyZSgnZ29wZCcpO1xudmFyICRkZWZpbmVQcm9wZXJ0eSA9IHJlcXVpcmUoJ2VzLWRlZmluZS1wcm9wZXJ0eScpO1xuXG52YXIgdGhyb3dUeXBlRXJyb3IgPSBmdW5jdGlvbiAoKSB7XG5cdHRocm93IG5ldyAkVHlwZUVycm9yKCk7XG59O1xudmFyIFRocm93VHlwZUVycm9yID0gJGdPUERcblx0PyAoZnVuY3Rpb24gKCkge1xuXHRcdHRyeSB7XG5cdFx0XHQvLyBlc2xpbnQtZGlzYWJsZS1uZXh0LWxpbmUgbm8tdW51c2VkLWV4cHJlc3Npb25zLCBuby1jYWxsZXIsIG5vLXJlc3RyaWN0ZWQtcHJvcGVydGllc1xuXHRcdFx0YXJndW1lbnRzLmNhbGxlZTsgLy8gSUUgOCBkb2VzIG5vdCB0aHJvdyBoZXJlXG5cdFx0XHRyZXR1cm4gdGhyb3dUeXBlRXJyb3I7XG5cdFx0fSBjYXRjaCAoY2FsbGVlVGhyb3dzKSB7XG5cdFx0XHR0cnkge1xuXHRcdFx0XHQvLyBJRSA4IHRocm93cyBvbiBPYmplY3QuZ2V0T3duUHJvcGVydHlEZXNjcmlwdG9yKGFyZ3VtZW50cywgJycpXG5cdFx0XHRcdHJldHVybiAkZ09QRChhcmd1bWVudHMsICdjYWxsZWUnKS5nZXQ7XG5cdFx0XHR9IGNhdGNoIChnT1BEdGhyb3dzKSB7XG5cdFx0XHRcdHJldHVybiB0aHJvd1R5cGVFcnJvcjtcblx0XHRcdH1cblx0XHR9XG5cdH0oKSlcblx0OiB0aHJvd1R5cGVFcnJvcjtcblxudmFyIGhhc1N5bWJvbHMgPSByZXF1aXJlKCdoYXMtc3ltYm9scycpKCk7XG5cbnZhciBnZXRQcm90byA9IHJlcXVpcmUoJ2dldC1wcm90bycpO1xudmFyICRPYmplY3RHUE8gPSByZXF1aXJlKCdnZXQtcHJvdG8vT2JqZWN0LmdldFByb3RvdHlwZU9mJyk7XG52YXIgJFJlZmxlY3RHUE8gPSByZXF1aXJlKCdnZXQtcHJvdG8vUmVmbGVjdC5nZXRQcm90b3R5cGVPZicpO1xuXG52YXIgJGFwcGx5ID0gcmVxdWlyZSgnY2FsbC1iaW5kLWFwcGx5LWhlbHBlcnMvZnVuY3Rpb25BcHBseScpO1xudmFyICRjYWxsID0gcmVxdWlyZSgnY2FsbC1iaW5kLWFwcGx5LWhlbHBlcnMvZnVuY3Rpb25DYWxsJyk7XG5cbnZhciBuZWVkc0V2YWwgPSB7fTtcblxudmFyIFR5cGVkQXJyYXkgPSB0eXBlb2YgVWludDhBcnJheSA9PT0gJ3VuZGVmaW5lZCcgfHwgIWdldFByb3RvID8gdW5kZWZpbmVkIDogZ2V0UHJvdG8oVWludDhBcnJheSk7XG5cbnZhciBJTlRSSU5TSUNTID0ge1xuXHRfX3Byb3RvX186IG51bGwsXG5cdCclQWdncmVnYXRlRXJyb3IlJzogdHlwZW9mIEFnZ3JlZ2F0ZUVycm9yID09PSAndW5kZWZpbmVkJyA/IHVuZGVmaW5lZCA6IEFnZ3JlZ2F0ZUVycm9yLFxuXHQnJUFycmF5JSc6IEFycmF5LFxuXHQnJUFycmF5QnVmZmVyJSc6IHR5cGVvZiBBcnJheUJ1ZmZlciA9PT0gJ3VuZGVmaW5lZCcgPyB1bmRlZmluZWQgOiBBcnJheUJ1ZmZlcixcblx0JyVBcnJheUl0ZXJhdG9yUHJvdG90eXBlJSc6IGhhc1N5bWJvbHMgJiYgZ2V0UHJvdG8gPyBnZXRQcm90byhbXVtTeW1ib2wuaXRlcmF0b3JdKCkpIDogdW5kZWZpbmVkLFxuXHQnJUFzeW5jRnJvbVN5bmNJdGVyYXRvclByb3RvdHlwZSUnOiB1bmRlZmluZWQsXG5cdCclQXN5bmNGdW5jdGlvbiUnOiBuZWVkc0V2YWwsXG5cdCclQXN5bmNHZW5lcmF0b3IlJzogbmVlZHNFdmFsLFxuXHQnJUFzeW5jR2VuZXJhdG9yRnVuY3Rpb24lJzogbmVlZHNFdmFsLFxuXHQnJUFzeW5jSXRlcmF0b3JQcm90b3R5cGUlJzogbmVlZHNFdmFsLFxuXHQnJUF0b21pY3MlJzogdHlwZW9mIEF0b21pY3MgPT09ICd1bmRlZmluZWQnID8gdW5kZWZpbmVkIDogQXRvbWljcyxcblx0JyVCaWdJbnQlJzogdHlwZW9mIEJpZ0ludCA9PT0gJ3VuZGVmaW5lZCcgPyB1bmRlZmluZWQgOiBCaWdJbnQsXG5cdCclQmlnSW50NjRBcnJheSUnOiB0eXBlb2YgQmlnSW50NjRBcnJheSA9PT0gJ3VuZGVmaW5lZCcgPyB1bmRlZmluZWQgOiBCaWdJbnQ2NEFycmF5LFxuXHQnJUJpZ1VpbnQ2NEFycmF5JSc6IHR5cGVvZiBCaWdVaW50NjRBcnJheSA9PT0gJ3VuZGVmaW5lZCcgPyB1bmRlZmluZWQgOiBCaWdVaW50NjRBcnJheSxcblx0JyVCb29sZWFuJSc6IEJvb2xlYW4sXG5cdCclRGF0YVZpZXclJzogdHlwZW9mIERhdGFWaWV3ID09PSAndW5kZWZpbmVkJyA/IHVuZGVmaW5lZCA6IERhdGFWaWV3LFxuXHQnJURhdGUlJzogRGF0ZSxcblx0JyVkZWNvZGVVUkklJzogZGVjb2RlVVJJLFxuXHQnJWRlY29kZVVSSUNvbXBvbmVudCUnOiBkZWNvZGVVUklDb21wb25lbnQsXG5cdCclZW5jb2RlVVJJJSc6IGVuY29kZVVSSSxcblx0JyVlbmNvZGVVUklDb21wb25lbnQlJzogZW5jb2RlVVJJQ29tcG9uZW50LFxuXHQnJUVycm9yJSc6ICRFcnJvcixcblx0JyVldmFsJSc6IGV2YWwsIC8vIGVzbGludC1kaXNhYmxlLWxpbmUgbm8tZXZhbFxuXHQnJUV2YWxFcnJvciUnOiAkRXZhbEVycm9yLFxuXHQnJUZsb2F0MTZBcnJheSUnOiB0eXBlb2YgRmxvYXQxNkFycmF5ID09PSAndW5kZWZpbmVkJyA/IHVuZGVmaW5lZCA6IEZsb2F0MTZBcnJheSxcblx0JyVGbG9hdDMyQXJyYXklJzogdHlwZW9mIEZsb2F0MzJBcnJheSA9PT0gJ3VuZGVmaW5lZCcgPyB1bmRlZmluZWQgOiBGbG9hdDMyQXJyYXksXG5cdCclRmxvYXQ2NEFycmF5JSc6IHR5cGVvZiBGbG9hdDY0QXJyYXkgPT09ICd1bmRlZmluZWQnID8gdW5kZWZpbmVkIDogRmxvYXQ2NEFycmF5LFxuXHQnJUZpbmFsaXphdGlvblJlZ2lzdHJ5JSc6IHR5cGVvZiBGaW5hbGl6YXRpb25SZWdpc3RyeSA9PT0gJ3VuZGVmaW5lZCcgPyB1bmRlZmluZWQgOiBGaW5hbGl6YXRpb25SZWdpc3RyeSxcblx0JyVGdW5jdGlvbiUnOiAkRnVuY3Rpb24sXG5cdCclR2VuZXJhdG9yRnVuY3Rpb24lJzogbmVlZHNFdmFsLFxuXHQnJUludDhBcnJheSUnOiB0eXBlb2YgSW50OEFycmF5ID09PSAndW5kZWZpbmVkJyA/IHVuZGVmaW5lZCA6IEludDhBcnJheSxcblx0JyVJbnQxNkFycmF5JSc6IHR5cGVvZiBJbnQxNkFycmF5ID09PSAndW5kZWZpbmVkJyA/IHVuZGVmaW5lZCA6IEludDE2QXJyYXksXG5cdCclSW50MzJBcnJheSUnOiB0eXBlb2YgSW50MzJBcnJheSA9PT0gJ3VuZGVmaW5lZCcgPyB1bmRlZmluZWQgOiBJbnQzMkFycmF5LFxuXHQnJWlzRmluaXRlJSc6IGlzRmluaXRlLFxuXHQnJWlzTmFOJSc6IGlzTmFOLFxuXHQnJUl0ZXJhdG9yUHJvdG90eXBlJSc6IGhhc1N5bWJvbHMgJiYgZ2V0UHJvdG8gPyBnZXRQcm90byhnZXRQcm90byhbXVtTeW1ib2wuaXRlcmF0b3JdKCkpKSA6IHVuZGVmaW5lZCxcblx0JyVKU09OJSc6IHR5cGVvZiBKU09OID09PSAnb2JqZWN0JyA/IEpTT04gOiB1bmRlZmluZWQsXG5cdCclTWFwJSc6IHR5cGVvZiBNYXAgPT09ICd1bmRlZmluZWQnID8gdW5kZWZpbmVkIDogTWFwLFxuXHQnJU1hcEl0ZXJhdG9yUHJvdG90eXBlJSc6IHR5cGVvZiBNYXAgPT09ICd1bmRlZmluZWQnIHx8ICFoYXNTeW1ib2xzIHx8ICFnZXRQcm90byA/IHVuZGVmaW5lZCA6IGdldFByb3RvKG5ldyBNYXAoKVtTeW1ib2wuaXRlcmF0b3JdKCkpLFxuXHQnJU1hdGglJzogTWF0aCxcblx0JyVOdW1iZXIlJzogTnVtYmVyLFxuXHQnJU9iamVjdCUnOiAkT2JqZWN0LFxuXHQnJU9iamVjdC5nZXRPd25Qcm9wZXJ0eURlc2NyaXB0b3IlJzogJGdPUEQsXG5cdCclcGFyc2VGbG9hdCUnOiBwYXJzZUZsb2F0LFxuXHQnJXBhcnNlSW50JSc6IHBhcnNlSW50LFxuXHQnJVByb21pc2UlJzogdHlwZW9mIFByb21pc2UgPT09ICd1bmRlZmluZWQnID8gdW5kZWZpbmVkIDogUHJvbWlzZSxcblx0JyVQcm94eSUnOiB0eXBlb2YgUHJveHkgPT09ICd1bmRlZmluZWQnID8gdW5kZWZpbmVkIDogUHJveHksXG5cdCclUmFuZ2VFcnJvciUnOiAkUmFuZ2VFcnJvcixcblx0JyVSZWZlcmVuY2VFcnJvciUnOiAkUmVmZXJlbmNlRXJyb3IsXG5cdCclUmVmbGVjdCUnOiB0eXBlb2YgUmVmbGVjdCA9PT0gJ3VuZGVmaW5lZCcgPyB1bmRlZmluZWQgOiBSZWZsZWN0LFxuXHQnJVJlZ0V4cCUnOiBSZWdFeHAsXG5cdCclU2V0JSc6IHR5cGVvZiBTZXQgPT09ICd1bmRlZmluZWQnID8gdW5kZWZpbmVkIDogU2V0LFxuXHQnJVNldEl0ZXJhdG9yUHJvdG90eXBlJSc6IHR5cGVvZiBTZXQgPT09ICd1bmRlZmluZWQnIHx8ICFoYXNTeW1ib2xzIHx8ICFnZXRQcm90byA/IHVuZGVmaW5lZCA6IGdldFByb3RvKG5ldyBTZXQoKVtTeW1ib2wuaXRlcmF0b3JdKCkpLFxuXHQnJVNoYXJlZEFycmF5QnVmZmVyJSc6IHR5cGVvZiBTaGFyZWRBcnJheUJ1ZmZlciA9PT0gJ3VuZGVmaW5lZCcgPyB1bmRlZmluZWQgOiBTaGFyZWRBcnJheUJ1ZmZlcixcblx0JyVTdHJpbmclJzogU3RyaW5nLFxuXHQnJVN0cmluZ0l0ZXJhdG9yUHJvdG90eXBlJSc6IGhhc1N5bWJvbHMgJiYgZ2V0UHJvdG8gPyBnZXRQcm90bygnJ1tTeW1ib2wuaXRlcmF0b3JdKCkpIDogdW5kZWZpbmVkLFxuXHQnJVN5bWJvbCUnOiBoYXNTeW1ib2xzID8gU3ltYm9sIDogdW5kZWZpbmVkLFxuXHQnJVN5bnRheEVycm9yJSc6ICRTeW50YXhFcnJvcixcblx0JyVUaHJvd1R5cGVFcnJvciUnOiBUaHJvd1R5cGVFcnJvcixcblx0JyVUeXBlZEFycmF5JSc6IFR5cGVkQXJyYXksXG5cdCclVHlwZUVycm9yJSc6ICRUeXBlRXJyb3IsXG5cdCclVWludDhBcnJheSUnOiB0eXBlb2YgVWludDhBcnJheSA9PT0gJ3VuZGVmaW5lZCcgPyB1bmRlZmluZWQgOiBVaW50OEFycmF5LFxuXHQnJVVpbnQ4Q2xhbXBlZEFycmF5JSc6IHR5cGVvZiBVaW50OENsYW1wZWRBcnJheSA9PT0gJ3VuZGVmaW5lZCcgPyB1bmRlZmluZWQgOiBVaW50OENsYW1wZWRBcnJheSxcblx0JyVVaW50MTZBcnJheSUnOiB0eXBlb2YgVWludDE2QXJyYXkgPT09ICd1bmRlZmluZWQnID8gdW5kZWZpbmVkIDogVWludDE2QXJyYXksXG5cdCclVWludDMyQXJyYXklJzogdHlwZW9mIFVpbnQzMkFycmF5ID09PSAndW5kZWZpbmVkJyA/IHVuZGVmaW5lZCA6IFVpbnQzMkFycmF5LFxuXHQnJVVSSUVycm9yJSc6ICRVUklFcnJvcixcblx0JyVXZWFrTWFwJSc6IHR5cGVvZiBXZWFrTWFwID09PSAndW5kZWZpbmVkJyA/IHVuZGVmaW5lZCA6IFdlYWtNYXAsXG5cdCclV2Vha1JlZiUnOiB0eXBlb2YgV2Vha1JlZiA9PT0gJ3VuZGVmaW5lZCcgPyB1bmRlZmluZWQgOiBXZWFrUmVmLFxuXHQnJVdlYWtTZXQlJzogdHlwZW9mIFdlYWtTZXQgPT09ICd1bmRlZmluZWQnID8gdW5kZWZpbmVkIDogV2Vha1NldCxcblxuXHQnJUZ1bmN0aW9uLnByb3RvdHlwZS5jYWxsJSc6ICRjYWxsLFxuXHQnJUZ1bmN0aW9uLnByb3RvdHlwZS5hcHBseSUnOiAkYXBwbHksXG5cdCclT2JqZWN0LmRlZmluZVByb3BlcnR5JSc6ICRkZWZpbmVQcm9wZXJ0eSxcblx0JyVPYmplY3QuZ2V0UHJvdG90eXBlT2YlJzogJE9iamVjdEdQTyxcblx0JyVNYXRoLmFicyUnOiBhYnMsXG5cdCclTWF0aC5mbG9vciUnOiBmbG9vcixcblx0JyVNYXRoLm1heCUnOiBtYXgsXG5cdCclTWF0aC5taW4lJzogbWluLFxuXHQnJU1hdGgucG93JSc6IHBvdyxcblx0JyVNYXRoLnJvdW5kJSc6IHJvdW5kLFxuXHQnJU1hdGguc2lnbiUnOiBzaWduLFxuXHQnJVJlZmxlY3QuZ2V0UHJvdG90eXBlT2YlJzogJFJlZmxlY3RHUE9cbn07XG5cbmlmIChnZXRQcm90bykge1xuXHR0cnkge1xuXHRcdG51bGwuZXJyb3I7IC8vIGVzbGludC1kaXNhYmxlLWxpbmUgbm8tdW51c2VkLWV4cHJlc3Npb25zXG5cdH0gY2F0Y2ggKGUpIHtcblx0XHQvLyBodHRwczovL2dpdGh1Yi5jb20vdGMzOS9wcm9wb3NhbC1zaGFkb3dyZWFsbS9wdWxsLzM4NCNpc3N1ZWNvbW1lbnQtMTM2NDI2NDIyOVxuXHRcdHZhciBlcnJvclByb3RvID0gZ2V0UHJvdG8oZ2V0UHJvdG8oZSkpO1xuXHRcdElOVFJJTlNJQ1NbJyVFcnJvci5wcm90b3R5cGUlJ10gPSBlcnJvclByb3RvO1xuXHR9XG59XG5cbnZhciBkb0V2YWwgPSBmdW5jdGlvbiBkb0V2YWwobmFtZSkge1xuXHR2YXIgdmFsdWU7XG5cdGlmIChuYW1lID09PSAnJUFzeW5jRnVuY3Rpb24lJykge1xuXHRcdHZhbHVlID0gZ2V0RXZhbGxlZENvbnN0cnVjdG9yKCdhc3luYyBmdW5jdGlvbiAoKSB7fScpO1xuXHR9IGVsc2UgaWYgKG5hbWUgPT09ICclR2VuZXJhdG9yRnVuY3Rpb24lJykge1xuXHRcdHZhbHVlID0gZ2V0RXZhbGxlZENvbnN0cnVjdG9yKCdmdW5jdGlvbiogKCkge30nKTtcblx0fSBlbHNlIGlmIChuYW1lID09PSAnJUFzeW5jR2VuZXJhdG9yRnVuY3Rpb24lJykge1xuXHRcdHZhbHVlID0gZ2V0RXZhbGxlZENvbnN0cnVjdG9yKCdhc3luYyBmdW5jdGlvbiogKCkge30nKTtcblx0fSBlbHNlIGlmIChuYW1lID09PSAnJUFzeW5jR2VuZXJhdG9yJScpIHtcblx0XHR2YXIgZm4gPSBkb0V2YWwoJyVBc3luY0dlbmVyYXRvckZ1bmN0aW9uJScpO1xuXHRcdGlmIChmbikge1xuXHRcdFx0dmFsdWUgPSBmbi5wcm90b3R5cGU7XG5cdFx0fVxuXHR9IGVsc2UgaWYgKG5hbWUgPT09ICclQXN5bmNJdGVyYXRvclByb3RvdHlwZSUnKSB7XG5cdFx0dmFyIGdlbiA9IGRvRXZhbCgnJUFzeW5jR2VuZXJhdG9yJScpO1xuXHRcdGlmIChnZW4gJiYgZ2V0UHJvdG8pIHtcblx0XHRcdHZhbHVlID0gZ2V0UHJvdG8oZ2VuLnByb3RvdHlwZSk7XG5cdFx0fVxuXHR9XG5cblx0SU5UUklOU0lDU1tuYW1lXSA9IHZhbHVlO1xuXG5cdHJldHVybiB2YWx1ZTtcbn07XG5cbnZhciBMRUdBQ1lfQUxJQVNFUyA9IHtcblx0X19wcm90b19fOiBudWxsLFxuXHQnJUFycmF5QnVmZmVyUHJvdG90eXBlJSc6IFsnQXJyYXlCdWZmZXInLCAncHJvdG90eXBlJ10sXG5cdCclQXJyYXlQcm90b3R5cGUlJzogWydBcnJheScsICdwcm90b3R5cGUnXSxcblx0JyVBcnJheVByb3RvX2VudHJpZXMlJzogWydBcnJheScsICdwcm90b3R5cGUnLCAnZW50cmllcyddLFxuXHQnJUFycmF5UHJvdG9fZm9yRWFjaCUnOiBbJ0FycmF5JywgJ3Byb3RvdHlwZScsICdmb3JFYWNoJ10sXG5cdCclQXJyYXlQcm90b19rZXlzJSc6IFsnQXJyYXknLCAncHJvdG90eXBlJywgJ2tleXMnXSxcblx0JyVBcnJheVByb3RvX3ZhbHVlcyUnOiBbJ0FycmF5JywgJ3Byb3RvdHlwZScsICd2YWx1ZXMnXSxcblx0JyVBc3luY0Z1bmN0aW9uUHJvdG90eXBlJSc6IFsnQXN5bmNGdW5jdGlvbicsICdwcm90b3R5cGUnXSxcblx0JyVBc3luY0dlbmVyYXRvciUnOiBbJ0FzeW5jR2VuZXJhdG9yRnVuY3Rpb24nLCAncHJvdG90eXBlJ10sXG5cdCclQXN5bmNHZW5lcmF0b3JQcm90b3R5cGUlJzogWydBc3luY0dlbmVyYXRvckZ1bmN0aW9uJywgJ3Byb3RvdHlwZScsICdwcm90b3R5cGUnXSxcblx0JyVCb29sZWFuUHJvdG90eXBlJSc6IFsnQm9vbGVhbicsICdwcm90b3R5cGUnXSxcblx0JyVEYXRhVmlld1Byb3RvdHlwZSUnOiBbJ0RhdGFWaWV3JywgJ3Byb3RvdHlwZSddLFxuXHQnJURhdGVQcm90b3R5cGUlJzogWydEYXRlJywgJ3Byb3RvdHlwZSddLFxuXHQnJUVycm9yUHJvdG90eXBlJSc6IFsnRXJyb3InLCAncHJvdG90eXBlJ10sXG5cdCclRXZhbEVycm9yUHJvdG90eXBlJSc6IFsnRXZhbEVycm9yJywgJ3Byb3RvdHlwZSddLFxuXHQnJUZsb2F0MzJBcnJheVByb3RvdHlwZSUnOiBbJ0Zsb2F0MzJBcnJheScsICdwcm90b3R5cGUnXSxcblx0JyVGbG9hdDY0QXJyYXlQcm90b3R5cGUlJzogWydGbG9hdDY0QXJyYXknLCAncHJvdG90eXBlJ10sXG5cdCclRnVuY3Rpb25Qcm90b3R5cGUlJzogWydGdW5jdGlvbicsICdwcm90b3R5cGUnXSxcblx0JyVHZW5lcmF0b3IlJzogWydHZW5lcmF0b3JGdW5jdGlvbicsICdwcm90b3R5cGUnXSxcblx0JyVHZW5lcmF0b3JQcm90b3R5cGUlJzogWydHZW5lcmF0b3JGdW5jdGlvbicsICdwcm90b3R5cGUnLCAncHJvdG90eXBlJ10sXG5cdCclSW50OEFycmF5UHJvdG90eXBlJSc6IFsnSW50OEFycmF5JywgJ3Byb3RvdHlwZSddLFxuXHQnJUludDE2QXJyYXlQcm90b3R5cGUlJzogWydJbnQxNkFycmF5JywgJ3Byb3RvdHlwZSddLFxuXHQnJUludDMyQXJyYXlQcm90b3R5cGUlJzogWydJbnQzMkFycmF5JywgJ3Byb3RvdHlwZSddLFxuXHQnJUpTT05QYXJzZSUnOiBbJ0pTT04nLCAncGFyc2UnXSxcblx0JyVKU09OU3RyaW5naWZ5JSc6IFsnSlNPTicsICdzdHJpbmdpZnknXSxcblx0JyVNYXBQcm90b3R5cGUlJzogWydNYXAnLCAncHJvdG90eXBlJ10sXG5cdCclTnVtYmVyUHJvdG90eXBlJSc6IFsnTnVtYmVyJywgJ3Byb3RvdHlwZSddLFxuXHQnJU9iamVjdFByb3RvdHlwZSUnOiBbJ09iamVjdCcsICdwcm90b3R5cGUnXSxcblx0JyVPYmpQcm90b190b1N0cmluZyUnOiBbJ09iamVjdCcsICdwcm90b3R5cGUnLCAndG9TdHJpbmcnXSxcblx0JyVPYmpQcm90b192YWx1ZU9mJSc6IFsnT2JqZWN0JywgJ3Byb3RvdHlwZScsICd2YWx1ZU9mJ10sXG5cdCclUHJvbWlzZVByb3RvdHlwZSUnOiBbJ1Byb21pc2UnLCAncHJvdG90eXBlJ10sXG5cdCclUHJvbWlzZVByb3RvX3RoZW4lJzogWydQcm9taXNlJywgJ3Byb3RvdHlwZScsICd0aGVuJ10sXG5cdCclUHJvbWlzZV9hbGwlJzogWydQcm9taXNlJywgJ2FsbCddLFxuXHQnJVByb21pc2VfcmVqZWN0JSc6IFsnUHJvbWlzZScsICdyZWplY3QnXSxcblx0JyVQcm9taXNlX3Jlc29sdmUlJzogWydQcm9taXNlJywgJ3Jlc29sdmUnXSxcblx0JyVSYW5nZUVycm9yUHJvdG90eXBlJSc6IFsnUmFuZ2VFcnJvcicsICdwcm90b3R5cGUnXSxcblx0JyVSZWZlcmVuY2VFcnJvclByb3RvdHlwZSUnOiBbJ1JlZmVyZW5jZUVycm9yJywgJ3Byb3RvdHlwZSddLFxuXHQnJVJlZ0V4cFByb3RvdHlwZSUnOiBbJ1JlZ0V4cCcsICdwcm90b3R5cGUnXSxcblx0JyVTZXRQcm90b3R5cGUlJzogWydTZXQnLCAncHJvdG90eXBlJ10sXG5cdCclU2hhcmVkQXJyYXlCdWZmZXJQcm90b3R5cGUlJzogWydTaGFyZWRBcnJheUJ1ZmZlcicsICdwcm90b3R5cGUnXSxcblx0JyVTdHJpbmdQcm90b3R5cGUlJzogWydTdHJpbmcnLCAncHJvdG90eXBlJ10sXG5cdCclU3ltYm9sUHJvdG90eXBlJSc6IFsnU3ltYm9sJywgJ3Byb3RvdHlwZSddLFxuXHQnJVN5bnRheEVycm9yUHJvdG90eXBlJSc6IFsnU3ludGF4RXJyb3InLCAncHJvdG90eXBlJ10sXG5cdCclVHlwZWRBcnJheVByb3RvdHlwZSUnOiBbJ1R5cGVkQXJyYXknLCAncHJvdG90eXBlJ10sXG5cdCclVHlwZUVycm9yUHJvdG90eXBlJSc6IFsnVHlwZUVycm9yJywgJ3Byb3RvdHlwZSddLFxuXHQnJVVpbnQ4QXJyYXlQcm90b3R5cGUlJzogWydVaW50OEFycmF5JywgJ3Byb3RvdHlwZSddLFxuXHQnJVVpbnQ4Q2xhbXBlZEFycmF5UHJvdG90eXBlJSc6IFsnVWludDhDbGFtcGVkQXJyYXknLCAncHJvdG90eXBlJ10sXG5cdCclVWludDE2QXJyYXlQcm90b3R5cGUlJzogWydVaW50MTZBcnJheScsICdwcm90b3R5cGUnXSxcblx0JyVVaW50MzJBcnJheVByb3RvdHlwZSUnOiBbJ1VpbnQzMkFycmF5JywgJ3Byb3RvdHlwZSddLFxuXHQnJVVSSUVycm9yUHJvdG90eXBlJSc6IFsnVVJJRXJyb3InLCAncHJvdG90eXBlJ10sXG5cdCclV2Vha01hcFByb3RvdHlwZSUnOiBbJ1dlYWtNYXAnLCAncHJvdG90eXBlJ10sXG5cdCclV2Vha1NldFByb3RvdHlwZSUnOiBbJ1dlYWtTZXQnLCAncHJvdG90eXBlJ11cbn07XG5cbnZhciBiaW5kID0gcmVxdWlyZSgnZnVuY3Rpb24tYmluZCcpO1xudmFyIGhhc093biA9IHJlcXVpcmUoJ2hhc293bicpO1xudmFyICRjb25jYXQgPSBiaW5kLmNhbGwoJGNhbGwsIEFycmF5LnByb3RvdHlwZS5jb25jYXQpO1xudmFyICRzcGxpY2VBcHBseSA9IGJpbmQuY2FsbCgkYXBwbHksIEFycmF5LnByb3RvdHlwZS5zcGxpY2UpO1xudmFyICRyZXBsYWNlID0gYmluZC5jYWxsKCRjYWxsLCBTdHJpbmcucHJvdG90eXBlLnJlcGxhY2UpO1xudmFyICRzdHJTbGljZSA9IGJpbmQuY2FsbCgkY2FsbCwgU3RyaW5nLnByb3RvdHlwZS5zbGljZSk7XG52YXIgJGV4ZWMgPSBiaW5kLmNhbGwoJGNhbGwsIFJlZ0V4cC5wcm90b3R5cGUuZXhlYyk7XG5cbi8qIGFkYXB0ZWQgZnJvbSBodHRwczovL2dpdGh1Yi5jb20vbG9kYXNoL2xvZGFzaC9ibG9iLzQuMTcuMTUvZGlzdC9sb2Rhc2guanMjTDY3MzUtTDY3NDQgKi9cbnZhciByZVByb3BOYW1lID0gL1teJS5bXFxdXSt8XFxbKD86KC0/XFxkKyg/OlxcLlxcZCspPyl8KFtcIiddKSgoPzooPyFcXDIpW15cXFxcXXxcXFxcLikqPylcXDIpXFxdfCg/PSg/OlxcLnxcXFtcXF0pKD86XFwufFxcW1xcXXwlJCkpL2c7XG52YXIgcmVFc2NhcGVDaGFyID0gL1xcXFwoXFxcXCk/L2c7IC8qKiBVc2VkIHRvIG1hdGNoIGJhY2tzbGFzaGVzIGluIHByb3BlcnR5IHBhdGhzLiAqL1xudmFyIHN0cmluZ1RvUGF0aCA9IGZ1bmN0aW9uIHN0cmluZ1RvUGF0aChzdHJpbmcpIHtcblx0dmFyIGZpcnN0ID0gJHN0clNsaWNlKHN0cmluZywgMCwgMSk7XG5cdHZhciBsYXN0ID0gJHN0clNsaWNlKHN0cmluZywgLTEpO1xuXHRpZiAoZmlyc3QgPT09ICclJyAmJiBsYXN0ICE9PSAnJScpIHtcblx0XHR0aHJvdyBuZXcgJFN5bnRheEVycm9yKCdpbnZhbGlkIGludHJpbnNpYyBzeW50YXgsIGV4cGVjdGVkIGNsb3NpbmcgYCVgJyk7XG5cdH0gZWxzZSBpZiAobGFzdCA9PT0gJyUnICYmIGZpcnN0ICE9PSAnJScpIHtcblx0XHR0aHJvdyBuZXcgJFN5bnRheEVycm9yKCdpbnZhbGlkIGludHJpbnNpYyBzeW50YXgsIGV4cGVjdGVkIG9wZW5pbmcgYCVgJyk7XG5cdH1cblx0dmFyIHJlc3VsdCA9IFtdO1xuXHQkcmVwbGFjZShzdHJpbmcsIHJlUHJvcE5hbWUsIGZ1bmN0aW9uIChtYXRjaCwgbnVtYmVyLCBxdW90ZSwgc3ViU3RyaW5nKSB7XG5cdFx0cmVzdWx0W3Jlc3VsdC5sZW5ndGhdID0gcXVvdGUgPyAkcmVwbGFjZShzdWJTdHJpbmcsIHJlRXNjYXBlQ2hhciwgJyQxJykgOiBudW1iZXIgfHwgbWF0Y2g7XG5cdH0pO1xuXHRyZXR1cm4gcmVzdWx0O1xufTtcbi8qIGVuZCBhZGFwdGF0aW9uICovXG5cbnZhciBnZXRCYXNlSW50cmluc2ljID0gZnVuY3Rpb24gZ2V0QmFzZUludHJpbnNpYyhuYW1lLCBhbGxvd01pc3NpbmcpIHtcblx0dmFyIGludHJpbnNpY05hbWUgPSBuYW1lO1xuXHR2YXIgYWxpYXM7XG5cdGlmIChoYXNPd24oTEVHQUNZX0FMSUFTRVMsIGludHJpbnNpY05hbWUpKSB7XG5cdFx0YWxpYXMgPSBMRUdBQ1lfQUxJQVNFU1tpbnRyaW5zaWNOYW1lXTtcblx0XHRpbnRyaW5zaWNOYW1lID0gJyUnICsgYWxpYXNbMF0gKyAnJSc7XG5cdH1cblxuXHRpZiAoaGFzT3duKElOVFJJTlNJQ1MsIGludHJpbnNpY05hbWUpKSB7XG5cdFx0dmFyIHZhbHVlID0gSU5UUklOU0lDU1tpbnRyaW5zaWNOYW1lXTtcblx0XHRpZiAodmFsdWUgPT09IG5lZWRzRXZhbCkge1xuXHRcdFx0dmFsdWUgPSBkb0V2YWwoaW50cmluc2ljTmFtZSk7XG5cdFx0fVxuXHRcdGlmICh0eXBlb2YgdmFsdWUgPT09ICd1bmRlZmluZWQnICYmICFhbGxvd01pc3NpbmcpIHtcblx0XHRcdHRocm93IG5ldyAkVHlwZUVycm9yKCdpbnRyaW5zaWMgJyArIG5hbWUgKyAnIGV4aXN0cywgYnV0IGlzIG5vdCBhdmFpbGFibGUuIFBsZWFzZSBmaWxlIGFuIGlzc3VlIScpO1xuXHRcdH1cblxuXHRcdHJldHVybiB7XG5cdFx0XHRhbGlhczogYWxpYXMsXG5cdFx0XHRuYW1lOiBpbnRyaW5zaWNOYW1lLFxuXHRcdFx0dmFsdWU6IHZhbHVlXG5cdFx0fTtcblx0fVxuXG5cdHRocm93IG5ldyAkU3ludGF4RXJyb3IoJ2ludHJpbnNpYyAnICsgbmFtZSArICcgZG9lcyBub3QgZXhpc3QhJyk7XG59O1xuXG5tb2R1bGUuZXhwb3J0cyA9IGZ1bmN0aW9uIEdldEludHJpbnNpYyhuYW1lLCBhbGxvd01pc3NpbmcpIHtcblx0aWYgKHR5cGVvZiBuYW1lICE9PSAnc3RyaW5nJyB8fCBuYW1lLmxlbmd0aCA9PT0gMCkge1xuXHRcdHRocm93IG5ldyAkVHlwZUVycm9yKCdpbnRyaW5zaWMgbmFtZSBtdXN0IGJlIGEgbm9uLWVtcHR5IHN0cmluZycpO1xuXHR9XG5cdGlmIChhcmd1bWVudHMubGVuZ3RoID4gMSAmJiB0eXBlb2YgYWxsb3dNaXNzaW5nICE9PSAnYm9vbGVhbicpIHtcblx0XHR0aHJvdyBuZXcgJFR5cGVFcnJvcignXCJhbGxvd01pc3NpbmdcIiBhcmd1bWVudCBtdXN0IGJlIGEgYm9vbGVhbicpO1xuXHR9XG5cblx0aWYgKCRleGVjKC9eJT9bXiVdKiU/JC8sIG5hbWUpID09PSBudWxsKSB7XG5cdFx0dGhyb3cgbmV3ICRTeW50YXhFcnJvcignYCVgIG1heSBub3QgYmUgcHJlc2VudCBhbnl3aGVyZSBidXQgYXQgdGhlIGJlZ2lubmluZyBhbmQgZW5kIG9mIHRoZSBpbnRyaW5zaWMgbmFtZScpO1xuXHR9XG5cdHZhciBwYXJ0cyA9IHN0cmluZ1RvUGF0aChuYW1lKTtcblx0dmFyIGludHJpbnNpY0Jhc2VOYW1lID0gcGFydHMubGVuZ3RoID4gMCA/IHBhcnRzWzBdIDogJyc7XG5cblx0dmFyIGludHJpbnNpYyA9IGdldEJhc2VJbnRyaW5zaWMoJyUnICsgaW50cmluc2ljQmFzZU5hbWUgKyAnJScsIGFsbG93TWlzc2luZyk7XG5cdHZhciBpbnRyaW5zaWNSZWFsTmFtZSA9IGludHJpbnNpYy5uYW1lO1xuXHR2YXIgdmFsdWUgPSBpbnRyaW5zaWMudmFsdWU7XG5cdHZhciBza2lwRnVydGhlckNhY2hpbmcgPSBmYWxzZTtcblxuXHR2YXIgYWxpYXMgPSBpbnRyaW5zaWMuYWxpYXM7XG5cdGlmIChhbGlhcykge1xuXHRcdGludHJpbnNpY0Jhc2VOYW1lID0gYWxpYXNbMF07XG5cdFx0JHNwbGljZUFwcGx5KHBhcnRzLCAkY29uY2F0KFswLCAxXSwgYWxpYXMpKTtcblx0fVxuXG5cdGZvciAodmFyIGkgPSAxLCBpc093biA9IHRydWU7IGkgPCBwYXJ0cy5sZW5ndGg7IGkgKz0gMSkge1xuXHRcdHZhciBwYXJ0ID0gcGFydHNbaV07XG5cdFx0dmFyIGZpcnN0ID0gJHN0clNsaWNlKHBhcnQsIDAsIDEpO1xuXHRcdHZhciBsYXN0ID0gJHN0clNsaWNlKHBhcnQsIC0xKTtcblx0XHRpZiAoXG5cdFx0XHQoXG5cdFx0XHRcdChmaXJzdCA9PT0gJ1wiJyB8fCBmaXJzdCA9PT0gXCInXCIgfHwgZmlyc3QgPT09ICdgJylcblx0XHRcdFx0fHwgKGxhc3QgPT09ICdcIicgfHwgbGFzdCA9PT0gXCInXCIgfHwgbGFzdCA9PT0gJ2AnKVxuXHRcdFx0KVxuXHRcdFx0JiYgZmlyc3QgIT09IGxhc3Rcblx0XHQpIHtcblx0XHRcdHRocm93IG5ldyAkU3ludGF4RXJyb3IoJ3Byb3BlcnR5IG5hbWVzIHdpdGggcXVvdGVzIG11c3QgaGF2ZSBtYXRjaGluZyBxdW90ZXMnKTtcblx0XHR9XG5cdFx0aWYgKHBhcnQgPT09ICdjb25zdHJ1Y3RvcicgfHwgIWlzT3duKSB7XG5cdFx0XHRza2lwRnVydGhlckNhY2hpbmcgPSB0cnVlO1xuXHRcdH1cblxuXHRcdGludHJpbnNpY0Jhc2VOYW1lICs9ICcuJyArIHBhcnQ7XG5cdFx0aW50cmluc2ljUmVhbE5hbWUgPSAnJScgKyBpbnRyaW5zaWNCYXNlTmFtZSArICclJztcblxuXHRcdGlmIChoYXNPd24oSU5UUklOU0lDUywgaW50cmluc2ljUmVhbE5hbWUpKSB7XG5cdFx0XHR2YWx1ZSA9IElOVFJJTlNJQ1NbaW50cmluc2ljUmVhbE5hbWVdO1xuXHRcdH0gZWxzZSBpZiAodmFsdWUgIT0gbnVsbCkge1xuXHRcdFx0aWYgKCEocGFydCBpbiB2YWx1ZSkpIHtcblx0XHRcdFx0aWYgKCFhbGxvd01pc3NpbmcpIHtcblx0XHRcdFx0XHR0aHJvdyBuZXcgJFR5cGVFcnJvcignYmFzZSBpbnRyaW5zaWMgZm9yICcgKyBuYW1lICsgJyBleGlzdHMsIGJ1dCB0aGUgcHJvcGVydHkgaXMgbm90IGF2YWlsYWJsZS4nKTtcblx0XHRcdFx0fVxuXHRcdFx0XHRyZXR1cm4gdm9pZCB1bmRlZmluZWQ7XG5cdFx0XHR9XG5cdFx0XHRpZiAoJGdPUEQgJiYgKGkgKyAxKSA+PSBwYXJ0cy5sZW5ndGgpIHtcblx0XHRcdFx0dmFyIGRlc2MgPSAkZ09QRCh2YWx1ZSwgcGFydCk7XG5cdFx0XHRcdGlzT3duID0gISFkZXNjO1xuXG5cdFx0XHRcdC8vIEJ5IGNvbnZlbnRpb24sIHdoZW4gYSBkYXRhIHByb3BlcnR5IGlzIGNvbnZlcnRlZCB0byBhbiBhY2Nlc3NvclxuXHRcdFx0XHQvLyBwcm9wZXJ0eSB0byBlbXVsYXRlIGEgZGF0YSBwcm9wZXJ0eSB0aGF0IGRvZXMgbm90IHN1ZmZlciBmcm9tXG5cdFx0XHRcdC8vIHRoZSBvdmVycmlkZSBtaXN0YWtlLCB0aGF0IGFjY2Vzc29yJ3MgZ2V0dGVyIGlzIG1hcmtlZCB3aXRoXG5cdFx0XHRcdC8vIGFuIGBvcmlnaW5hbFZhbHVlYCBwcm9wZXJ0eS4gSGVyZSwgd2hlbiB3ZSBkZXRlY3QgdGhpcywgd2Vcblx0XHRcdFx0Ly8gdXBob2xkIHRoZSBpbGx1c2lvbiBieSBwcmV0ZW5kaW5nIHRvIHNlZSB0aGF0IG9yaWdpbmFsIGRhdGFcblx0XHRcdFx0Ly8gcHJvcGVydHksIGkuZS4sIHJldHVybmluZyB0aGUgdmFsdWUgcmF0aGVyIHRoYW4gdGhlIGdldHRlclxuXHRcdFx0XHQvLyBpdHNlbGYuXG5cdFx0XHRcdGlmIChpc093biAmJiAnZ2V0JyBpbiBkZXNjICYmICEoJ29yaWdpbmFsVmFsdWUnIGluIGRlc2MuZ2V0KSkge1xuXHRcdFx0XHRcdHZhbHVlID0gZGVzYy5nZXQ7XG5cdFx0XHRcdH0gZWxzZSB7XG5cdFx0XHRcdFx0dmFsdWUgPSB2YWx1ZVtwYXJ0XTtcblx0XHRcdFx0fVxuXHRcdFx0fSBlbHNlIHtcblx0XHRcdFx0aXNPd24gPSBoYXNPd24odmFsdWUsIHBhcnQpO1xuXHRcdFx0XHR2YWx1ZSA9IHZhbHVlW3BhcnRdO1xuXHRcdFx0fVxuXG5cdFx0XHRpZiAoaXNPd24gJiYgIXNraXBGdXJ0aGVyQ2FjaGluZykge1xuXHRcdFx0XHRJTlRSSU5TSUNTW2ludHJpbnNpY1JlYWxOYW1lXSA9IHZhbHVlO1xuXHRcdFx0fVxuXHRcdH1cblx0fVxuXHRyZXR1cm4gdmFsdWU7XG59O1xuIiwgIid1c2Ugc3RyaWN0JztcblxudmFyIEdldEludHJpbnNpYyA9IHJlcXVpcmUoJ2dldC1pbnRyaW5zaWMnKTtcblxudmFyIGNhbGxCaW5kQmFzaWMgPSByZXF1aXJlKCdjYWxsLWJpbmQtYXBwbHktaGVscGVycycpO1xuXG4vKiogQHR5cGUgeyh0aGlzQXJnOiBzdHJpbmcsIHNlYXJjaFN0cmluZzogc3RyaW5nLCBwb3NpdGlvbj86IG51bWJlcikgPT4gbnVtYmVyfSAqL1xudmFyICRpbmRleE9mID0gY2FsbEJpbmRCYXNpYyhbR2V0SW50cmluc2ljKCclU3RyaW5nLnByb3RvdHlwZS5pbmRleE9mJScpXSk7XG5cbi8qKiBAdHlwZSB7aW1wb3J0KCcuJyl9ICovXG5tb2R1bGUuZXhwb3J0cyA9IGZ1bmN0aW9uIGNhbGxCb3VuZEludHJpbnNpYyhuYW1lLCBhbGxvd01pc3NpbmcpIHtcblx0LyogZXNsaW50IG5vLWV4dHJhLXBhcmVuczogMCAqL1xuXG5cdHZhciBpbnRyaW5zaWMgPSAvKiogQHR5cGUgeyh0aGlzOiB1bmtub3duLCAuLi5hcmdzOiB1bmtub3duW10pID0+IHVua25vd259ICovIChHZXRJbnRyaW5zaWMobmFtZSwgISFhbGxvd01pc3NpbmcpKTtcblx0aWYgKHR5cGVvZiBpbnRyaW5zaWMgPT09ICdmdW5jdGlvbicgJiYgJGluZGV4T2YobmFtZSwgJy5wcm90b3R5cGUuJykgPiAtMSkge1xuXHRcdHJldHVybiBjYWxsQmluZEJhc2ljKC8qKiBAdHlwZSB7Y29uc3R9ICovIChbaW50cmluc2ljXSkpO1xuXHR9XG5cdHJldHVybiBpbnRyaW5zaWM7XG59O1xuIiwgIid1c2Ugc3RyaWN0JztcblxudmFyIGhhc1RvU3RyaW5nVGFnID0gcmVxdWlyZSgnaGFzLXRvc3RyaW5ndGFnL3NoYW1zJykoKTtcbnZhciBjYWxsQm91bmQgPSByZXF1aXJlKCdjYWxsLWJvdW5kJyk7XG5cbnZhciAkdG9TdHJpbmcgPSBjYWxsQm91bmQoJ09iamVjdC5wcm90b3R5cGUudG9TdHJpbmcnKTtcblxuLyoqIEB0eXBlIHtpbXBvcnQoJy4nKX0gKi9cbnZhciBpc1N0YW5kYXJkQXJndW1lbnRzID0gZnVuY3Rpb24gaXNBcmd1bWVudHModmFsdWUpIHtcblx0aWYgKFxuXHRcdGhhc1RvU3RyaW5nVGFnXG5cdFx0JiYgdmFsdWVcblx0XHQmJiB0eXBlb2YgdmFsdWUgPT09ICdvYmplY3QnXG5cdFx0JiYgU3ltYm9sLnRvU3RyaW5nVGFnIGluIHZhbHVlXG5cdCkge1xuXHRcdHJldHVybiBmYWxzZTtcblx0fVxuXHRyZXR1cm4gJHRvU3RyaW5nKHZhbHVlKSA9PT0gJ1tvYmplY3QgQXJndW1lbnRzXSc7XG59O1xuXG4vKiogQHR5cGUge2ltcG9ydCgnLicpfSAqL1xudmFyIGlzTGVnYWN5QXJndW1lbnRzID0gZnVuY3Rpb24gaXNBcmd1bWVudHModmFsdWUpIHtcblx0aWYgKGlzU3RhbmRhcmRBcmd1bWVudHModmFsdWUpKSB7XG5cdFx0cmV0dXJuIHRydWU7XG5cdH1cblx0cmV0dXJuIHZhbHVlICE9PSBudWxsXG5cdFx0JiYgdHlwZW9mIHZhbHVlID09PSAnb2JqZWN0J1xuXHRcdCYmICdsZW5ndGgnIGluIHZhbHVlXG5cdFx0JiYgdHlwZW9mIHZhbHVlLmxlbmd0aCA9PT0gJ251bWJlcidcblx0XHQmJiB2YWx1ZS5sZW5ndGggPj0gMFxuXHRcdCYmICR0b1N0cmluZyh2YWx1ZSkgIT09ICdbb2JqZWN0IEFycmF5XSdcblx0XHQmJiAnY2FsbGVlJyBpbiB2YWx1ZVxuXHRcdCYmICR0b1N0cmluZyh2YWx1ZS5jYWxsZWUpID09PSAnW29iamVjdCBGdW5jdGlvbl0nO1xufTtcblxudmFyIHN1cHBvcnRzU3RhbmRhcmRBcmd1bWVudHMgPSAoZnVuY3Rpb24gKCkge1xuXHRyZXR1cm4gaXNTdGFuZGFyZEFyZ3VtZW50cyhhcmd1bWVudHMpO1xufSgpKTtcblxuLy8gQHRzLWV4cGVjdC1lcnJvciBUT0RPIG1ha2UgdGhpcyBub3QgZXJyb3JcbmlzU3RhbmRhcmRBcmd1bWVudHMuaXNMZWdhY3lBcmd1bWVudHMgPSBpc0xlZ2FjeUFyZ3VtZW50czsgLy8gZm9yIHRlc3RzXG5cbi8qKiBAdHlwZSB7aW1wb3J0KCcuJyl9ICovXG5tb2R1bGUuZXhwb3J0cyA9IHN1cHBvcnRzU3RhbmRhcmRBcmd1bWVudHMgPyBpc1N0YW5kYXJkQXJndW1lbnRzIDogaXNMZWdhY3lBcmd1bWVudHM7XG4iLCAiJ3VzZSBzdHJpY3QnO1xuXG52YXIgY2FsbEJvdW5kID0gcmVxdWlyZSgnY2FsbC1ib3VuZCcpO1xudmFyIGhhc1RvU3RyaW5nVGFnID0gcmVxdWlyZSgnaGFzLXRvc3RyaW5ndGFnL3NoYW1zJykoKTtcbnZhciBoYXNPd24gPSByZXF1aXJlKCdoYXNvd24nKTtcbnZhciBnT1BEID0gcmVxdWlyZSgnZ29wZCcpO1xuXG4vKiogQHR5cGUge2ltcG9ydCgnLicpfSAqL1xudmFyIGZuO1xuXG5pZiAoaGFzVG9TdHJpbmdUYWcpIHtcblx0LyoqIEB0eXBlIHsocmVjZWl2ZXI6IFRoaXNQYXJhbWV0ZXJUeXBlPHR5cGVvZiBSZWdFeHAucHJvdG90eXBlLmV4ZWM+LCAuLi5hcmdzOiBQYXJhbWV0ZXJzPHR5cGVvZiBSZWdFeHAucHJvdG90eXBlLmV4ZWM+KSA9PiBSZXR1cm5UeXBlPHR5cGVvZiBSZWdFeHAucHJvdG90eXBlLmV4ZWM+fSAqL1xuXHR2YXIgJGV4ZWMgPSBjYWxsQm91bmQoJ1JlZ0V4cC5wcm90b3R5cGUuZXhlYycpO1xuXHQvKiogQHR5cGUge29iamVjdH0gKi9cblx0dmFyIGlzUmVnZXhNYXJrZXIgPSB7fTtcblxuXHR2YXIgdGhyb3dSZWdleE1hcmtlciA9IGZ1bmN0aW9uICgpIHtcblx0XHR0aHJvdyBpc1JlZ2V4TWFya2VyO1xuXHR9O1xuXHQvKiogQHR5cGUge3sgdG9TdHJpbmcoKTogbmV2ZXIsIHZhbHVlT2YoKTogbmV2ZXIsIFtTeW1ib2wudG9QcmltaXRpdmVdPygpOiBuZXZlciB9fSAqL1xuXHR2YXIgYmFkU3RyaW5naWZpZXIgPSB7XG5cdFx0dG9TdHJpbmc6IHRocm93UmVnZXhNYXJrZXIsXG5cdFx0dmFsdWVPZjogdGhyb3dSZWdleE1hcmtlclxuXHR9O1xuXG5cdGlmICh0eXBlb2YgU3ltYm9sLnRvUHJpbWl0aXZlID09PSAnc3ltYm9sJykge1xuXHRcdGJhZFN0cmluZ2lmaWVyW1N5bWJvbC50b1ByaW1pdGl2ZV0gPSB0aHJvd1JlZ2V4TWFya2VyO1xuXHR9XG5cblx0LyoqIEB0eXBlIHtpbXBvcnQoJy4nKX0gKi9cblx0Ly8gQHRzLWV4cGVjdC1lcnJvciBUUyBjYW4ndCBmaWd1cmUgb3V0IHRoYXQgdGhlICRleGVjIGNhbGwgYWx3YXlzIHRocm93c1xuXHQvLyBlc2xpbnQtZGlzYWJsZS1uZXh0LWxpbmUgY29uc2lzdGVudC1yZXR1cm5cblx0Zm4gPSBmdW5jdGlvbiBpc1JlZ2V4KHZhbHVlKSB7XG5cdFx0aWYgKCF2YWx1ZSB8fCB0eXBlb2YgdmFsdWUgIT09ICdvYmplY3QnKSB7XG5cdFx0XHRyZXR1cm4gZmFsc2U7XG5cdFx0fVxuXG5cdFx0Ly8gZXNsaW50LWRpc2FibGUtbmV4dC1saW5lIG5vLWV4dHJhLXBhcmVuc1xuXHRcdHZhciBkZXNjcmlwdG9yID0gLyoqIEB0eXBlIHtOb25OdWxsYWJsZTx0eXBlb2YgZ09QRD59ICovIChnT1BEKSgvKiogQHR5cGUge3sgbGFzdEluZGV4PzogdW5rbm93biB9fSAqLyAodmFsdWUpLCAnbGFzdEluZGV4Jyk7XG5cdFx0dmFyIGhhc0xhc3RJbmRleERhdGFQcm9wZXJ0eSA9IGRlc2NyaXB0b3IgJiYgaGFzT3duKGRlc2NyaXB0b3IsICd2YWx1ZScpO1xuXHRcdGlmICghaGFzTGFzdEluZGV4RGF0YVByb3BlcnR5KSB7XG5cdFx0XHRyZXR1cm4gZmFsc2U7XG5cdFx0fVxuXG5cdFx0dHJ5IHtcblx0XHRcdC8vIGVzbGludC1kaXNhYmxlLW5leHQtbGluZSBuby1leHRyYS1wYXJlbnNcblx0XHRcdCRleGVjKHZhbHVlLCAvKiogQHR5cGUge3N0cmluZ30gKi8gKC8qKiBAdHlwZSB7dW5rbm93bn0gKi8gKGJhZFN0cmluZ2lmaWVyKSkpO1xuXHRcdH0gY2F0Y2ggKGUpIHtcblx0XHRcdHJldHVybiBlID09PSBpc1JlZ2V4TWFya2VyO1xuXHRcdH1cblx0fTtcbn0gZWxzZSB7XG5cdC8qKiBAdHlwZSB7KHJlY2VpdmVyOiBUaGlzUGFyYW1ldGVyVHlwZTx0eXBlb2YgT2JqZWN0LnByb3RvdHlwZS50b1N0cmluZz4sIC4uLmFyZ3M6IFBhcmFtZXRlcnM8dHlwZW9mIE9iamVjdC5wcm90b3R5cGUudG9TdHJpbmc+KSA9PiBSZXR1cm5UeXBlPHR5cGVvZiBPYmplY3QucHJvdG90eXBlLnRvU3RyaW5nPn0gKi9cblx0dmFyICR0b1N0cmluZyA9IGNhbGxCb3VuZCgnT2JqZWN0LnByb3RvdHlwZS50b1N0cmluZycpO1xuXHQvKiogQGNvbnN0IEB0eXBlIHsnW29iamVjdCBSZWdFeHBdJ30gKi9cblx0dmFyIHJlZ2V4Q2xhc3MgPSAnW29iamVjdCBSZWdFeHBdJztcblxuXHQvKiogQHR5cGUge2ltcG9ydCgnLicpfSAqL1xuXHRmbiA9IGZ1bmN0aW9uIGlzUmVnZXgodmFsdWUpIHtcblx0XHQvLyBJbiBvbGRlciBicm93c2VycywgdHlwZW9mIHJlZ2V4IGluY29ycmVjdGx5IHJldHVybnMgJ2Z1bmN0aW9uJ1xuXHRcdGlmICghdmFsdWUgfHwgKHR5cGVvZiB2YWx1ZSAhPT0gJ29iamVjdCcgJiYgdHlwZW9mIHZhbHVlICE9PSAnZnVuY3Rpb24nKSkge1xuXHRcdFx0cmV0dXJuIGZhbHNlO1xuXHRcdH1cblxuXHRcdHJldHVybiAkdG9TdHJpbmcodmFsdWUpID09PSByZWdleENsYXNzO1xuXHR9O1xufVxuXG5tb2R1bGUuZXhwb3J0cyA9IGZuO1xuIiwgIid1c2Ugc3RyaWN0JztcblxudmFyIGNhbGxCb3VuZCA9IHJlcXVpcmUoJ2NhbGwtYm91bmQnKTtcbnZhciBpc1JlZ2V4ID0gcmVxdWlyZSgnaXMtcmVnZXgnKTtcblxudmFyICRleGVjID0gY2FsbEJvdW5kKCdSZWdFeHAucHJvdG90eXBlLmV4ZWMnKTtcbnZhciAkVHlwZUVycm9yID0gcmVxdWlyZSgnZXMtZXJyb3JzL3R5cGUnKTtcblxuLyoqIEB0eXBlIHtpbXBvcnQoJy4nKX0gKi9cbm1vZHVsZS5leHBvcnRzID0gZnVuY3Rpb24gcmVnZXhUZXN0ZXIocmVnZXgpIHtcblx0aWYgKCFpc1JlZ2V4KHJlZ2V4KSkge1xuXHRcdHRocm93IG5ldyAkVHlwZUVycm9yKCdgcmVnZXhgIG11c3QgYmUgYSBSZWdFeHAnKTtcblx0fVxuXHRyZXR1cm4gZnVuY3Rpb24gdGVzdChzKSB7XG5cdFx0cmV0dXJuICRleGVjKHJlZ2V4LCBzKSAhPT0gbnVsbDtcblx0fTtcbn07XG4iLCAiJ3VzZSBzdHJpY3QnO1xuXG52YXIgY2FsbEJvdW5kID0gcmVxdWlyZSgnY2FsbC1ib3VuZCcpO1xudmFyIHNhZmVSZWdleFRlc3QgPSByZXF1aXJlKCdzYWZlLXJlZ2V4LXRlc3QnKTtcbnZhciBpc0ZuUmVnZXggPSBzYWZlUmVnZXhUZXN0KC9eXFxzKig/OmZ1bmN0aW9uKT9cXCovKTtcbnZhciBoYXNUb1N0cmluZ1RhZyA9IHJlcXVpcmUoJ2hhcy10b3N0cmluZ3RhZy9zaGFtcycpKCk7XG52YXIgZ2V0UHJvdG8gPSByZXF1aXJlKCdnZXQtcHJvdG8nKTtcblxudmFyIHRvU3RyID0gY2FsbEJvdW5kKCdPYmplY3QucHJvdG90eXBlLnRvU3RyaW5nJyk7XG52YXIgZm5Ub1N0ciA9IGNhbGxCb3VuZCgnRnVuY3Rpb24ucHJvdG90eXBlLnRvU3RyaW5nJyk7XG5cbnZhciBnZXRHZW5lcmF0b3JGdW5jID0gZnVuY3Rpb24gKCkgeyAvLyBlc2xpbnQtZGlzYWJsZS1saW5lIGNvbnNpc3RlbnQtcmV0dXJuXG5cdGlmICghaGFzVG9TdHJpbmdUYWcpIHtcblx0XHRyZXR1cm4gZmFsc2U7XG5cdH1cblx0dHJ5IHtcblx0XHRyZXR1cm4gRnVuY3Rpb24oJ3JldHVybiBmdW5jdGlvbiooKSB7fScpKCk7XG5cdH0gY2F0Y2ggKGUpIHtcblx0fVxufTtcbi8qKiBAdHlwZSB7dW5kZWZpbmVkIHwgZmFsc2UgfCBudWxsIHwgR2VuZXJhdG9yRnVuY3Rpb25Db25zdHJ1Y3Rvcn0gKi9cbnZhciBHZW5lcmF0b3JGdW5jdGlvbjtcblxuLyoqIEB0eXBlIHtpbXBvcnQoJy4nKX0gKi9cbm1vZHVsZS5leHBvcnRzID0gZnVuY3Rpb24gaXNHZW5lcmF0b3JGdW5jdGlvbihmbikge1xuXHRpZiAodHlwZW9mIGZuICE9PSAnZnVuY3Rpb24nKSB7XG5cdFx0cmV0dXJuIGZhbHNlO1xuXHR9XG5cdGlmIChpc0ZuUmVnZXgoZm5Ub1N0cihmbikpKSB7XG5cdFx0cmV0dXJuIHRydWU7XG5cdH1cblx0aWYgKCFoYXNUb1N0cmluZ1RhZykge1xuXHRcdHZhciBzdHIgPSB0b1N0cihmbik7XG5cdFx0cmV0dXJuIHN0ciA9PT0gJ1tvYmplY3QgR2VuZXJhdG9yRnVuY3Rpb25dJztcblx0fVxuXHRpZiAoIWdldFByb3RvKSB7XG5cdFx0cmV0dXJuIGZhbHNlO1xuXHR9XG5cdGlmICh0eXBlb2YgR2VuZXJhdG9yRnVuY3Rpb24gPT09ICd1bmRlZmluZWQnKSB7XG5cdFx0dmFyIGdlbmVyYXRvckZ1bmMgPSBnZXRHZW5lcmF0b3JGdW5jKCk7XG5cdFx0R2VuZXJhdG9yRnVuY3Rpb24gPSBnZW5lcmF0b3JGdW5jXG5cdFx0XHQvLyBlc2xpbnQtZGlzYWJsZS1uZXh0LWxpbmUgbm8tZXh0cmEtcGFyZW5zXG5cdFx0XHQ/IC8qKiBAdHlwZSB7R2VuZXJhdG9yRnVuY3Rpb25Db25zdHJ1Y3Rvcn0gKi8gKGdldFByb3RvKGdlbmVyYXRvckZ1bmMpKVxuXHRcdFx0OiBmYWxzZTtcblx0fVxuXHRyZXR1cm4gZ2V0UHJvdG8oZm4pID09PSBHZW5lcmF0b3JGdW5jdGlvbjtcbn07XG4iLCAiJ3VzZSBzdHJpY3QnO1xuXG52YXIgZm5Ub1N0ciA9IEZ1bmN0aW9uLnByb3RvdHlwZS50b1N0cmluZztcbnZhciByZWZsZWN0QXBwbHkgPSB0eXBlb2YgUmVmbGVjdCA9PT0gJ29iamVjdCcgJiYgUmVmbGVjdCAhPT0gbnVsbCAmJiBSZWZsZWN0LmFwcGx5O1xudmFyIGJhZEFycmF5TGlrZTtcbnZhciBpc0NhbGxhYmxlTWFya2VyO1xuaWYgKHR5cGVvZiByZWZsZWN0QXBwbHkgPT09ICdmdW5jdGlvbicgJiYgdHlwZW9mIE9iamVjdC5kZWZpbmVQcm9wZXJ0eSA9PT0gJ2Z1bmN0aW9uJykge1xuXHR0cnkge1xuXHRcdGJhZEFycmF5TGlrZSA9IE9iamVjdC5kZWZpbmVQcm9wZXJ0eSh7fSwgJ2xlbmd0aCcsIHtcblx0XHRcdGdldDogZnVuY3Rpb24gKCkge1xuXHRcdFx0XHR0aHJvdyBpc0NhbGxhYmxlTWFya2VyO1xuXHRcdFx0fVxuXHRcdH0pO1xuXHRcdGlzQ2FsbGFibGVNYXJrZXIgPSB7fTtcblx0XHQvLyBlc2xpbnQtZGlzYWJsZS1uZXh0LWxpbmUgbm8tdGhyb3ctbGl0ZXJhbFxuXHRcdHJlZmxlY3RBcHBseShmdW5jdGlvbiAoKSB7IHRocm93IDQyOyB9LCBudWxsLCBiYWRBcnJheUxpa2UpO1xuXHR9IGNhdGNoIChfKSB7XG5cdFx0aWYgKF8gIT09IGlzQ2FsbGFibGVNYXJrZXIpIHtcblx0XHRcdHJlZmxlY3RBcHBseSA9IG51bGw7XG5cdFx0fVxuXHR9XG59IGVsc2Uge1xuXHRyZWZsZWN0QXBwbHkgPSBudWxsO1xufVxuXG52YXIgY29uc3RydWN0b3JSZWdleCA9IC9eXFxzKmNsYXNzXFxiLztcbnZhciBpc0VTNkNsYXNzRm4gPSBmdW5jdGlvbiBpc0VTNkNsYXNzRnVuY3Rpb24odmFsdWUpIHtcblx0dHJ5IHtcblx0XHR2YXIgZm5TdHIgPSBmblRvU3RyLmNhbGwodmFsdWUpO1xuXHRcdHJldHVybiBjb25zdHJ1Y3RvclJlZ2V4LnRlc3QoZm5TdHIpO1xuXHR9IGNhdGNoIChlKSB7XG5cdFx0cmV0dXJuIGZhbHNlOyAvLyBub3QgYSBmdW5jdGlvblxuXHR9XG59O1xuXG52YXIgdHJ5RnVuY3Rpb25PYmplY3QgPSBmdW5jdGlvbiB0cnlGdW5jdGlvblRvU3RyKHZhbHVlKSB7XG5cdHRyeSB7XG5cdFx0aWYgKGlzRVM2Q2xhc3NGbih2YWx1ZSkpIHsgcmV0dXJuIGZhbHNlOyB9XG5cdFx0Zm5Ub1N0ci5jYWxsKHZhbHVlKTtcblx0XHRyZXR1cm4gdHJ1ZTtcblx0fSBjYXRjaCAoZSkge1xuXHRcdHJldHVybiBmYWxzZTtcblx0fVxufTtcbnZhciB0b1N0ciA9IE9iamVjdC5wcm90b3R5cGUudG9TdHJpbmc7XG52YXIgb2JqZWN0Q2xhc3MgPSAnW29iamVjdCBPYmplY3RdJztcbnZhciBmbkNsYXNzID0gJ1tvYmplY3QgRnVuY3Rpb25dJztcbnZhciBnZW5DbGFzcyA9ICdbb2JqZWN0IEdlbmVyYXRvckZ1bmN0aW9uXSc7XG52YXIgZGRhQ2xhc3MgPSAnW29iamVjdCBIVE1MQWxsQ29sbGVjdGlvbl0nOyAvLyBJRSAxMVxudmFyIGRkYUNsYXNzMiA9ICdbb2JqZWN0IEhUTUwgZG9jdW1lbnQuYWxsIGNsYXNzXSc7XG52YXIgZGRhQ2xhc3MzID0gJ1tvYmplY3QgSFRNTENvbGxlY3Rpb25dJzsgLy8gSUUgOS0xMFxudmFyIGhhc1RvU3RyaW5nVGFnID0gdHlwZW9mIFN5bWJvbCA9PT0gJ2Z1bmN0aW9uJyAmJiAhIVN5bWJvbC50b1N0cmluZ1RhZzsgLy8gYmV0dGVyOiB1c2UgYGhhcy10b3N0cmluZ3RhZ2BcblxudmFyIGlzSUU2OCA9ICEoMCBpbiBbLF0pOyAvLyBlc2xpbnQtZGlzYWJsZS1saW5lIG5vLXNwYXJzZS1hcnJheXMsIGNvbW1hLXNwYWNpbmdcblxudmFyIGlzRERBID0gZnVuY3Rpb24gaXNEb2N1bWVudERvdEFsbCgpIHsgcmV0dXJuIGZhbHNlOyB9O1xuaWYgKHR5cGVvZiBkb2N1bWVudCA9PT0gJ29iamVjdCcpIHtcblx0Ly8gRmlyZWZveCAzIGNhbm9uaWNhbGl6ZXMgRERBIHRvIHVuZGVmaW5lZCB3aGVuIGl0J3Mgbm90IGFjY2Vzc2VkIGRpcmVjdGx5XG5cdHZhciBhbGwgPSBkb2N1bWVudC5hbGw7XG5cdGlmICh0b1N0ci5jYWxsKGFsbCkgPT09IHRvU3RyLmNhbGwoZG9jdW1lbnQuYWxsKSkge1xuXHRcdGlzRERBID0gZnVuY3Rpb24gaXNEb2N1bWVudERvdEFsbCh2YWx1ZSkge1xuXHRcdFx0LyogZ2xvYmFscyBkb2N1bWVudDogZmFsc2UgKi9cblx0XHRcdC8vIGluIElFIDYtOCwgdHlwZW9mIGRvY3VtZW50LmFsbCBpcyBcIm9iamVjdFwiIGFuZCBpdCdzIHRydXRoeVxuXHRcdFx0aWYgKChpc0lFNjggfHwgIXZhbHVlKSAmJiAodHlwZW9mIHZhbHVlID09PSAndW5kZWZpbmVkJyB8fCB0eXBlb2YgdmFsdWUgPT09ICdvYmplY3QnKSkge1xuXHRcdFx0XHR0cnkge1xuXHRcdFx0XHRcdHZhciBzdHIgPSB0b1N0ci5jYWxsKHZhbHVlKTtcblx0XHRcdFx0XHRyZXR1cm4gKFxuXHRcdFx0XHRcdFx0c3RyID09PSBkZGFDbGFzc1xuXHRcdFx0XHRcdFx0fHwgc3RyID09PSBkZGFDbGFzczJcblx0XHRcdFx0XHRcdHx8IHN0ciA9PT0gZGRhQ2xhc3MzIC8vIG9wZXJhIDEyLjE2XG5cdFx0XHRcdFx0XHR8fCBzdHIgPT09IG9iamVjdENsYXNzIC8vIElFIDYtOFxuXHRcdFx0XHRcdCkgJiYgdmFsdWUoJycpID09IG51bGw7IC8vIGVzbGludC1kaXNhYmxlLWxpbmUgZXFlcWVxXG5cdFx0XHRcdH0gY2F0Y2ggKGUpIHsgLyoqLyB9XG5cdFx0XHR9XG5cdFx0XHRyZXR1cm4gZmFsc2U7XG5cdFx0fTtcblx0fVxufVxuXG5tb2R1bGUuZXhwb3J0cyA9IHJlZmxlY3RBcHBseVxuXHQ/IGZ1bmN0aW9uIGlzQ2FsbGFibGUodmFsdWUpIHtcblx0XHRpZiAoaXNEREEodmFsdWUpKSB7IHJldHVybiB0cnVlOyB9XG5cdFx0aWYgKCF2YWx1ZSkgeyByZXR1cm4gZmFsc2U7IH1cblx0XHRpZiAodHlwZW9mIHZhbHVlICE9PSAnZnVuY3Rpb24nICYmIHR5cGVvZiB2YWx1ZSAhPT0gJ29iamVjdCcpIHsgcmV0dXJuIGZhbHNlOyB9XG5cdFx0dHJ5IHtcblx0XHRcdHJlZmxlY3RBcHBseSh2YWx1ZSwgbnVsbCwgYmFkQXJyYXlMaWtlKTtcblx0XHR9IGNhdGNoIChlKSB7XG5cdFx0XHRpZiAoZSAhPT0gaXNDYWxsYWJsZU1hcmtlcikgeyByZXR1cm4gZmFsc2U7IH1cblx0XHR9XG5cdFx0cmV0dXJuICFpc0VTNkNsYXNzRm4odmFsdWUpICYmIHRyeUZ1bmN0aW9uT2JqZWN0KHZhbHVlKTtcblx0fVxuXHQ6IGZ1bmN0aW9uIGlzQ2FsbGFibGUodmFsdWUpIHtcblx0XHRpZiAoaXNEREEodmFsdWUpKSB7IHJldHVybiB0cnVlOyB9XG5cdFx0aWYgKCF2YWx1ZSkgeyByZXR1cm4gZmFsc2U7IH1cblx0XHRpZiAodHlwZW9mIHZhbHVlICE9PSAnZnVuY3Rpb24nICYmIHR5cGVvZiB2YWx1ZSAhPT0gJ29iamVjdCcpIHsgcmV0dXJuIGZhbHNlOyB9XG5cdFx0aWYgKGhhc1RvU3RyaW5nVGFnKSB7IHJldHVybiB0cnlGdW5jdGlvbk9iamVjdCh2YWx1ZSk7IH1cblx0XHRpZiAoaXNFUzZDbGFzc0ZuKHZhbHVlKSkgeyByZXR1cm4gZmFsc2U7IH1cblx0XHR2YXIgc3RyQ2xhc3MgPSB0b1N0ci5jYWxsKHZhbHVlKTtcblx0XHRpZiAoc3RyQ2xhc3MgIT09IGZuQ2xhc3MgJiYgc3RyQ2xhc3MgIT09IGdlbkNsYXNzICYmICEoL15cXFtvYmplY3QgSFRNTC8pLnRlc3Qoc3RyQ2xhc3MpKSB7IHJldHVybiBmYWxzZTsgfVxuXHRcdHJldHVybiB0cnlGdW5jdGlvbk9iamVjdCh2YWx1ZSk7XG5cdH07XG4iLCAiJ3VzZSBzdHJpY3QnO1xuXG52YXIgaXNDYWxsYWJsZSA9IHJlcXVpcmUoJ2lzLWNhbGxhYmxlJyk7XG5cbnZhciB0b1N0ciA9IE9iamVjdC5wcm90b3R5cGUudG9TdHJpbmc7XG52YXIgaGFzT3duUHJvcGVydHkgPSBPYmplY3QucHJvdG90eXBlLmhhc093blByb3BlcnR5O1xuXG4vKiogQHR5cGUgezxUaGlzLCBBIGV4dGVuZHMgcmVhZG9ubHkgdW5rbm93bltdPihhcnI6IEEsIGl0ZXJhdG9yOiAodGhpczogVGhpcyB8IHZvaWQsIHZhbHVlOiBBW251bWJlcl0sIGluZGV4OiBudW1iZXIsIGFycjogQSkgPT4gdm9pZCwgcmVjZWl2ZXI6IFRoaXMgfCB1bmRlZmluZWQpID0+IHZvaWR9ICovXG52YXIgZm9yRWFjaEFycmF5ID0gZnVuY3Rpb24gZm9yRWFjaEFycmF5KGFycmF5LCBpdGVyYXRvciwgcmVjZWl2ZXIpIHtcbiAgICBmb3IgKHZhciBpID0gMCwgbGVuID0gYXJyYXkubGVuZ3RoOyBpIDwgbGVuOyBpKyspIHtcbiAgICAgICAgaWYgKGhhc093blByb3BlcnR5LmNhbGwoYXJyYXksIGkpKSB7XG4gICAgICAgICAgICBpZiAocmVjZWl2ZXIgPT0gbnVsbCkge1xuICAgICAgICAgICAgICAgIGl0ZXJhdG9yKGFycmF5W2ldLCBpLCBhcnJheSk7XG4gICAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgICAgIGl0ZXJhdG9yLmNhbGwocmVjZWl2ZXIsIGFycmF5W2ldLCBpLCBhcnJheSk7XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICB9XG59O1xuXG4vKiogQHR5cGUgezxUaGlzLCBTIGV4dGVuZHMgc3RyaW5nPihzdHJpbmc6IFMsIGl0ZXJhdG9yOiAodGhpczogVGhpcyB8IHZvaWQsIHZhbHVlOiBTW251bWJlcl0sIGluZGV4OiBudW1iZXIsIHN0cmluZzogUykgPT4gdm9pZCwgcmVjZWl2ZXI6IFRoaXMgfCB1bmRlZmluZWQpID0+IHZvaWR9ICovXG52YXIgZm9yRWFjaFN0cmluZyA9IGZ1bmN0aW9uIGZvckVhY2hTdHJpbmcoc3RyaW5nLCBpdGVyYXRvciwgcmVjZWl2ZXIpIHtcbiAgICBmb3IgKHZhciBpID0gMCwgbGVuID0gc3RyaW5nLmxlbmd0aDsgaSA8IGxlbjsgaSsrKSB7XG4gICAgICAgIC8vIG5vIHN1Y2ggdGhpbmcgYXMgYSBzcGFyc2Ugc3RyaW5nLlxuICAgICAgICBpZiAocmVjZWl2ZXIgPT0gbnVsbCkge1xuICAgICAgICAgICAgaXRlcmF0b3Ioc3RyaW5nLmNoYXJBdChpKSwgaSwgc3RyaW5nKTtcbiAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgIGl0ZXJhdG9yLmNhbGwocmVjZWl2ZXIsIHN0cmluZy5jaGFyQXQoaSksIGksIHN0cmluZyk7XG4gICAgICAgIH1cbiAgICB9XG59O1xuXG4vKiogQHR5cGUgezxUaGlzLCBPPihvYmo6IE8sIGl0ZXJhdG9yOiAodGhpczogVGhpcyB8IHZvaWQsIHZhbHVlOiBPW2tleW9mIE9dLCBpbmRleDoga2V5b2YgTywgb2JqOiBPKSA9PiB2b2lkLCByZWNlaXZlcjogVGhpcyB8IHVuZGVmaW5lZCkgPT4gdm9pZH0gKi9cbnZhciBmb3JFYWNoT2JqZWN0ID0gZnVuY3Rpb24gZm9yRWFjaE9iamVjdChvYmplY3QsIGl0ZXJhdG9yLCByZWNlaXZlcikge1xuICAgIGZvciAodmFyIGsgaW4gb2JqZWN0KSB7XG4gICAgICAgIGlmIChoYXNPd25Qcm9wZXJ0eS5jYWxsKG9iamVjdCwgaykpIHtcbiAgICAgICAgICAgIGlmIChyZWNlaXZlciA9PSBudWxsKSB7XG4gICAgICAgICAgICAgICAgaXRlcmF0b3Iob2JqZWN0W2tdLCBrLCBvYmplY3QpO1xuICAgICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgICAgICBpdGVyYXRvci5jYWxsKHJlY2VpdmVyLCBvYmplY3Rba10sIGssIG9iamVjdCk7XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICB9XG59O1xuXG4vKiogQHR5cGUgeyh4OiB1bmtub3duKSA9PiB4IGlzIHJlYWRvbmx5IHVua25vd25bXX0gKi9cbmZ1bmN0aW9uIGlzQXJyYXkoeCkge1xuICAgIHJldHVybiB0b1N0ci5jYWxsKHgpID09PSAnW29iamVjdCBBcnJheV0nO1xufVxuXG4vKiogQHR5cGUge2ltcG9ydCgnLicpLl9pbnRlcm5hbH0gKi9cbm1vZHVsZS5leHBvcnRzID0gZnVuY3Rpb24gZm9yRWFjaChsaXN0LCBpdGVyYXRvciwgdGhpc0FyZykge1xuICAgIGlmICghaXNDYWxsYWJsZShpdGVyYXRvcikpIHtcbiAgICAgICAgdGhyb3cgbmV3IFR5cGVFcnJvcignaXRlcmF0b3IgbXVzdCBiZSBhIGZ1bmN0aW9uJyk7XG4gICAgfVxuXG4gICAgdmFyIHJlY2VpdmVyO1xuICAgIGlmIChhcmd1bWVudHMubGVuZ3RoID49IDMpIHtcbiAgICAgICAgcmVjZWl2ZXIgPSB0aGlzQXJnO1xuICAgIH1cblxuICAgIGlmIChpc0FycmF5KGxpc3QpKSB7XG4gICAgICAgIGZvckVhY2hBcnJheShsaXN0LCBpdGVyYXRvciwgcmVjZWl2ZXIpO1xuICAgIH0gZWxzZSBpZiAodHlwZW9mIGxpc3QgPT09ICdzdHJpbmcnKSB7XG4gICAgICAgIGZvckVhY2hTdHJpbmcobGlzdCwgaXRlcmF0b3IsIHJlY2VpdmVyKTtcbiAgICB9IGVsc2Uge1xuICAgICAgICBmb3JFYWNoT2JqZWN0KGxpc3QsIGl0ZXJhdG9yLCByZWNlaXZlcik7XG4gICAgfVxufTtcbiIsICIndXNlIHN0cmljdCc7XG5cbi8qKiBAdHlwZSB7aW1wb3J0KCcuJyl9ICovXG5tb2R1bGUuZXhwb3J0cyA9IFtcblx0J0Zsb2F0MTZBcnJheScsXG5cdCdGbG9hdDMyQXJyYXknLFxuXHQnRmxvYXQ2NEFycmF5Jyxcblx0J0ludDhBcnJheScsXG5cdCdJbnQxNkFycmF5Jyxcblx0J0ludDMyQXJyYXknLFxuXHQnVWludDhBcnJheScsXG5cdCdVaW50OENsYW1wZWRBcnJheScsXG5cdCdVaW50MTZBcnJheScsXG5cdCdVaW50MzJBcnJheScsXG5cdCdCaWdJbnQ2NEFycmF5Jyxcblx0J0JpZ1VpbnQ2NEFycmF5J1xuXTtcbiIsICIndXNlIHN0cmljdCc7XG5cbnZhciBwb3NzaWJsZU5hbWVzID0gcmVxdWlyZSgncG9zc2libGUtdHlwZWQtYXJyYXktbmFtZXMnKTtcblxudmFyIGcgPSB0eXBlb2YgZ2xvYmFsVGhpcyA9PT0gJ3VuZGVmaW5lZCcgPyBnbG9iYWwgOiBnbG9iYWxUaGlzO1xuXG4vKiogQHR5cGUge2ltcG9ydCgnLicpfSAqL1xubW9kdWxlLmV4cG9ydHMgPSBmdW5jdGlvbiBhdmFpbGFibGVUeXBlZEFycmF5cygpIHtcblx0dmFyIC8qKiBAdHlwZSB7UmV0dXJuVHlwZTx0eXBlb2YgYXZhaWxhYmxlVHlwZWRBcnJheXM+fSAqLyBvdXQgPSBbXTtcblx0Zm9yICh2YXIgaSA9IDA7IGkgPCBwb3NzaWJsZU5hbWVzLmxlbmd0aDsgaSsrKSB7XG5cdFx0aWYgKHR5cGVvZiBnW3Bvc3NpYmxlTmFtZXNbaV1dID09PSAnZnVuY3Rpb24nKSB7XG5cdFx0XHQvLyBAdHMtZXhwZWN0LWVycm9yXG5cdFx0XHRvdXRbb3V0Lmxlbmd0aF0gPSBwb3NzaWJsZU5hbWVzW2ldO1xuXHRcdH1cblx0fVxuXHRyZXR1cm4gb3V0O1xufTtcbiIsICIndXNlIHN0cmljdCc7XG5cbnZhciAkZGVmaW5lUHJvcGVydHkgPSByZXF1aXJlKCdlcy1kZWZpbmUtcHJvcGVydHknKTtcblxudmFyICRTeW50YXhFcnJvciA9IHJlcXVpcmUoJ2VzLWVycm9ycy9zeW50YXgnKTtcbnZhciAkVHlwZUVycm9yID0gcmVxdWlyZSgnZXMtZXJyb3JzL3R5cGUnKTtcblxudmFyIGdvcGQgPSByZXF1aXJlKCdnb3BkJyk7XG5cbi8qKiBAdHlwZSB7aW1wb3J0KCcuJyl9ICovXG5tb2R1bGUuZXhwb3J0cyA9IGZ1bmN0aW9uIGRlZmluZURhdGFQcm9wZXJ0eShcblx0b2JqLFxuXHRwcm9wZXJ0eSxcblx0dmFsdWVcbikge1xuXHRpZiAoIW9iaiB8fCAodHlwZW9mIG9iaiAhPT0gJ29iamVjdCcgJiYgdHlwZW9mIG9iaiAhPT0gJ2Z1bmN0aW9uJykpIHtcblx0XHR0aHJvdyBuZXcgJFR5cGVFcnJvcignYG9iamAgbXVzdCBiZSBhbiBvYmplY3Qgb3IgYSBmdW5jdGlvbmAnKTtcblx0fVxuXHRpZiAodHlwZW9mIHByb3BlcnR5ICE9PSAnc3RyaW5nJyAmJiB0eXBlb2YgcHJvcGVydHkgIT09ICdzeW1ib2wnKSB7XG5cdFx0dGhyb3cgbmV3ICRUeXBlRXJyb3IoJ2Bwcm9wZXJ0eWAgbXVzdCBiZSBhIHN0cmluZyBvciBhIHN5bWJvbGAnKTtcblx0fVxuXHRpZiAoYXJndW1lbnRzLmxlbmd0aCA+IDMgJiYgdHlwZW9mIGFyZ3VtZW50c1szXSAhPT0gJ2Jvb2xlYW4nICYmIGFyZ3VtZW50c1szXSAhPT0gbnVsbCkge1xuXHRcdHRocm93IG5ldyAkVHlwZUVycm9yKCdgbm9uRW51bWVyYWJsZWAsIGlmIHByb3ZpZGVkLCBtdXN0IGJlIGEgYm9vbGVhbiBvciBudWxsJyk7XG5cdH1cblx0aWYgKGFyZ3VtZW50cy5sZW5ndGggPiA0ICYmIHR5cGVvZiBhcmd1bWVudHNbNF0gIT09ICdib29sZWFuJyAmJiBhcmd1bWVudHNbNF0gIT09IG51bGwpIHtcblx0XHR0aHJvdyBuZXcgJFR5cGVFcnJvcignYG5vbldyaXRhYmxlYCwgaWYgcHJvdmlkZWQsIG11c3QgYmUgYSBib29sZWFuIG9yIG51bGwnKTtcblx0fVxuXHRpZiAoYXJndW1lbnRzLmxlbmd0aCA+IDUgJiYgdHlwZW9mIGFyZ3VtZW50c1s1XSAhPT0gJ2Jvb2xlYW4nICYmIGFyZ3VtZW50c1s1XSAhPT0gbnVsbCkge1xuXHRcdHRocm93IG5ldyAkVHlwZUVycm9yKCdgbm9uQ29uZmlndXJhYmxlYCwgaWYgcHJvdmlkZWQsIG11c3QgYmUgYSBib29sZWFuIG9yIG51bGwnKTtcblx0fVxuXHRpZiAoYXJndW1lbnRzLmxlbmd0aCA+IDYgJiYgdHlwZW9mIGFyZ3VtZW50c1s2XSAhPT0gJ2Jvb2xlYW4nKSB7XG5cdFx0dGhyb3cgbmV3ICRUeXBlRXJyb3IoJ2Bsb29zZWAsIGlmIHByb3ZpZGVkLCBtdXN0IGJlIGEgYm9vbGVhbicpO1xuXHR9XG5cblx0dmFyIG5vbkVudW1lcmFibGUgPSBhcmd1bWVudHMubGVuZ3RoID4gMyA/IGFyZ3VtZW50c1szXSA6IG51bGw7XG5cdHZhciBub25Xcml0YWJsZSA9IGFyZ3VtZW50cy5sZW5ndGggPiA0ID8gYXJndW1lbnRzWzRdIDogbnVsbDtcblx0dmFyIG5vbkNvbmZpZ3VyYWJsZSA9IGFyZ3VtZW50cy5sZW5ndGggPiA1ID8gYXJndW1lbnRzWzVdIDogbnVsbDtcblx0dmFyIGxvb3NlID0gYXJndW1lbnRzLmxlbmd0aCA+IDYgPyBhcmd1bWVudHNbNl0gOiBmYWxzZTtcblxuXHQvKiBAdHlwZSB7ZmFsc2UgfCBUeXBlZFByb3BlcnR5RGVzY3JpcHRvcjx1bmtub3duPn0gKi9cblx0dmFyIGRlc2MgPSAhIWdvcGQgJiYgZ29wZChvYmosIHByb3BlcnR5KTtcblxuXHRpZiAoJGRlZmluZVByb3BlcnR5KSB7XG5cdFx0JGRlZmluZVByb3BlcnR5KG9iaiwgcHJvcGVydHksIHtcblx0XHRcdGNvbmZpZ3VyYWJsZTogbm9uQ29uZmlndXJhYmxlID09PSBudWxsICYmIGRlc2MgPyBkZXNjLmNvbmZpZ3VyYWJsZSA6ICFub25Db25maWd1cmFibGUsXG5cdFx0XHRlbnVtZXJhYmxlOiBub25FbnVtZXJhYmxlID09PSBudWxsICYmIGRlc2MgPyBkZXNjLmVudW1lcmFibGUgOiAhbm9uRW51bWVyYWJsZSxcblx0XHRcdHZhbHVlOiB2YWx1ZSxcblx0XHRcdHdyaXRhYmxlOiBub25Xcml0YWJsZSA9PT0gbnVsbCAmJiBkZXNjID8gZGVzYy53cml0YWJsZSA6ICFub25Xcml0YWJsZVxuXHRcdH0pO1xuXHR9IGVsc2UgaWYgKGxvb3NlIHx8ICghbm9uRW51bWVyYWJsZSAmJiAhbm9uV3JpdGFibGUgJiYgIW5vbkNvbmZpZ3VyYWJsZSkpIHtcblx0XHQvLyBtdXN0IGZhbGwgYmFjayB0byBbW1NldF1dLCBhbmQgd2FzIG5vdCBleHBsaWNpdGx5IGFza2VkIHRvIG1ha2Ugbm9uLWVudW1lcmFibGUsIG5vbi13cml0YWJsZSwgb3Igbm9uLWNvbmZpZ3VyYWJsZVxuXHRcdG9ialtwcm9wZXJ0eV0gPSB2YWx1ZTsgLy8gZXNsaW50LWRpc2FibGUtbGluZSBuby1wYXJhbS1yZWFzc2lnblxuXHR9IGVsc2Uge1xuXHRcdHRocm93IG5ldyAkU3ludGF4RXJyb3IoJ1RoaXMgZW52aXJvbm1lbnQgZG9lcyBub3Qgc3VwcG9ydCBkZWZpbmluZyBhIHByb3BlcnR5IGFzIG5vbi1jb25maWd1cmFibGUsIG5vbi13cml0YWJsZSwgb3Igbm9uLWVudW1lcmFibGUuJyk7XG5cdH1cbn07XG4iLCAiJ3VzZSBzdHJpY3QnO1xuXG52YXIgJGRlZmluZVByb3BlcnR5ID0gcmVxdWlyZSgnZXMtZGVmaW5lLXByb3BlcnR5Jyk7XG5cbnZhciBoYXNQcm9wZXJ0eURlc2NyaXB0b3JzID0gZnVuY3Rpb24gaGFzUHJvcGVydHlEZXNjcmlwdG9ycygpIHtcblx0cmV0dXJuICEhJGRlZmluZVByb3BlcnR5O1xufTtcblxuaGFzUHJvcGVydHlEZXNjcmlwdG9ycy5oYXNBcnJheUxlbmd0aERlZmluZUJ1ZyA9IGZ1bmN0aW9uIGhhc0FycmF5TGVuZ3RoRGVmaW5lQnVnKCkge1xuXHQvLyBub2RlIHYwLjYgaGFzIGEgYnVnIHdoZXJlIGFycmF5IGxlbmd0aHMgY2FuIGJlIFNldCBidXQgbm90IERlZmluZWRcblx0aWYgKCEkZGVmaW5lUHJvcGVydHkpIHtcblx0XHRyZXR1cm4gbnVsbDtcblx0fVxuXHR0cnkge1xuXHRcdHJldHVybiAkZGVmaW5lUHJvcGVydHkoW10sICdsZW5ndGgnLCB7IHZhbHVlOiAxIH0pLmxlbmd0aCAhPT0gMTtcblx0fSBjYXRjaCAoZSkge1xuXHRcdC8vIEluIEZpcmVmb3ggNC0yMiwgZGVmaW5pbmcgbGVuZ3RoIG9uIGFuIGFycmF5IHRocm93cyBhbiBleGNlcHRpb24uXG5cdFx0cmV0dXJuIHRydWU7XG5cdH1cbn07XG5cbm1vZHVsZS5leHBvcnRzID0gaGFzUHJvcGVydHlEZXNjcmlwdG9ycztcbiIsICIndXNlIHN0cmljdCc7XG5cbnZhciBHZXRJbnRyaW5zaWMgPSByZXF1aXJlKCdnZXQtaW50cmluc2ljJyk7XG52YXIgZGVmaW5lID0gcmVxdWlyZSgnZGVmaW5lLWRhdGEtcHJvcGVydHknKTtcbnZhciBoYXNEZXNjcmlwdG9ycyA9IHJlcXVpcmUoJ2hhcy1wcm9wZXJ0eS1kZXNjcmlwdG9ycycpKCk7XG52YXIgZ09QRCA9IHJlcXVpcmUoJ2dvcGQnKTtcblxudmFyICRUeXBlRXJyb3IgPSByZXF1aXJlKCdlcy1lcnJvcnMvdHlwZScpO1xudmFyICRmbG9vciA9IEdldEludHJpbnNpYygnJU1hdGguZmxvb3IlJyk7XG5cbi8qKiBAdHlwZSB7aW1wb3J0KCcuJyl9ICovXG5tb2R1bGUuZXhwb3J0cyA9IGZ1bmN0aW9uIHNldEZ1bmN0aW9uTGVuZ3RoKGZuLCBsZW5ndGgpIHtcblx0aWYgKHR5cGVvZiBmbiAhPT0gJ2Z1bmN0aW9uJykge1xuXHRcdHRocm93IG5ldyAkVHlwZUVycm9yKCdgZm5gIGlzIG5vdCBhIGZ1bmN0aW9uJyk7XG5cdH1cblx0aWYgKHR5cGVvZiBsZW5ndGggIT09ICdudW1iZXInIHx8IGxlbmd0aCA8IDAgfHwgbGVuZ3RoID4gMHhGRkZGRkZGRiB8fCAkZmxvb3IobGVuZ3RoKSAhPT0gbGVuZ3RoKSB7XG5cdFx0dGhyb3cgbmV3ICRUeXBlRXJyb3IoJ2BsZW5ndGhgIG11c3QgYmUgYSBwb3NpdGl2ZSAzMi1iaXQgaW50ZWdlcicpO1xuXHR9XG5cblx0dmFyIGxvb3NlID0gYXJndW1lbnRzLmxlbmd0aCA+IDIgJiYgISFhcmd1bWVudHNbMl07XG5cblx0dmFyIGZ1bmN0aW9uTGVuZ3RoSXNDb25maWd1cmFibGUgPSB0cnVlO1xuXHR2YXIgZnVuY3Rpb25MZW5ndGhJc1dyaXRhYmxlID0gdHJ1ZTtcblx0aWYgKCdsZW5ndGgnIGluIGZuICYmIGdPUEQpIHtcblx0XHR2YXIgZGVzYyA9IGdPUEQoZm4sICdsZW5ndGgnKTtcblx0XHRpZiAoZGVzYyAmJiAhZGVzYy5jb25maWd1cmFibGUpIHtcblx0XHRcdGZ1bmN0aW9uTGVuZ3RoSXNDb25maWd1cmFibGUgPSBmYWxzZTtcblx0XHR9XG5cdFx0aWYgKGRlc2MgJiYgIWRlc2Mud3JpdGFibGUpIHtcblx0XHRcdGZ1bmN0aW9uTGVuZ3RoSXNXcml0YWJsZSA9IGZhbHNlO1xuXHRcdH1cblx0fVxuXG5cdGlmIChmdW5jdGlvbkxlbmd0aElzQ29uZmlndXJhYmxlIHx8IGZ1bmN0aW9uTGVuZ3RoSXNXcml0YWJsZSB8fCAhbG9vc2UpIHtcblx0XHRpZiAoaGFzRGVzY3JpcHRvcnMpIHtcblx0XHRcdGRlZmluZSgvKiogQHR5cGUge1BhcmFtZXRlcnM8ZGVmaW5lPlswXX0gKi8gKGZuKSwgJ2xlbmd0aCcsIGxlbmd0aCwgdHJ1ZSwgdHJ1ZSk7XG5cdFx0fSBlbHNlIHtcblx0XHRcdGRlZmluZSgvKiogQHR5cGUge1BhcmFtZXRlcnM8ZGVmaW5lPlswXX0gKi8gKGZuKSwgJ2xlbmd0aCcsIGxlbmd0aCk7XG5cdFx0fVxuXHR9XG5cdHJldHVybiBmbjtcbn07XG4iLCAiJ3VzZSBzdHJpY3QnO1xuXG52YXIgYmluZCA9IHJlcXVpcmUoJ2Z1bmN0aW9uLWJpbmQnKTtcbnZhciAkYXBwbHkgPSByZXF1aXJlKCcuL2Z1bmN0aW9uQXBwbHknKTtcbnZhciBhY3R1YWxBcHBseSA9IHJlcXVpcmUoJy4vYWN0dWFsQXBwbHknKTtcblxuLyoqIEB0eXBlIHtpbXBvcnQoJy4vYXBwbHlCaW5kJyl9ICovXG5tb2R1bGUuZXhwb3J0cyA9IGZ1bmN0aW9uIGFwcGx5QmluZCgpIHtcblx0cmV0dXJuIGFjdHVhbEFwcGx5KGJpbmQsICRhcHBseSwgYXJndW1lbnRzKTtcbn07XG4iLCAiJ3VzZSBzdHJpY3QnO1xuXG52YXIgc2V0RnVuY3Rpb25MZW5ndGggPSByZXF1aXJlKCdzZXQtZnVuY3Rpb24tbGVuZ3RoJyk7XG5cbnZhciAkZGVmaW5lUHJvcGVydHkgPSByZXF1aXJlKCdlcy1kZWZpbmUtcHJvcGVydHknKTtcblxudmFyIGNhbGxCaW5kQmFzaWMgPSByZXF1aXJlKCdjYWxsLWJpbmQtYXBwbHktaGVscGVycycpO1xudmFyIGFwcGx5QmluZCA9IHJlcXVpcmUoJ2NhbGwtYmluZC1hcHBseS1oZWxwZXJzL2FwcGx5QmluZCcpO1xuXG5tb2R1bGUuZXhwb3J0cyA9IGZ1bmN0aW9uIGNhbGxCaW5kKG9yaWdpbmFsRnVuY3Rpb24pIHtcblx0dmFyIGZ1bmMgPSBjYWxsQmluZEJhc2ljKGFyZ3VtZW50cyk7XG5cdHZhciBhZGp1c3RlZExlbmd0aCA9IG9yaWdpbmFsRnVuY3Rpb24ubGVuZ3RoIC0gKGFyZ3VtZW50cy5sZW5ndGggLSAxKTtcblx0cmV0dXJuIHNldEZ1bmN0aW9uTGVuZ3RoKFxuXHRcdGZ1bmMsXG5cdFx0MSArIChhZGp1c3RlZExlbmd0aCA+IDAgPyBhZGp1c3RlZExlbmd0aCA6IDApLFxuXHRcdHRydWVcblx0KTtcbn07XG5cbmlmICgkZGVmaW5lUHJvcGVydHkpIHtcblx0JGRlZmluZVByb3BlcnR5KG1vZHVsZS5leHBvcnRzLCAnYXBwbHknLCB7IHZhbHVlOiBhcHBseUJpbmQgfSk7XG59IGVsc2Uge1xuXHRtb2R1bGUuZXhwb3J0cy5hcHBseSA9IGFwcGx5QmluZDtcbn1cbiIsICIndXNlIHN0cmljdCc7XG5cbnZhciBmb3JFYWNoID0gcmVxdWlyZSgnZm9yLWVhY2gnKTtcbnZhciBhdmFpbGFibGVUeXBlZEFycmF5cyA9IHJlcXVpcmUoJ2F2YWlsYWJsZS10eXBlZC1hcnJheXMnKTtcbnZhciBjYWxsQmluZCA9IHJlcXVpcmUoJ2NhbGwtYmluZCcpO1xudmFyIGNhbGxCb3VuZCA9IHJlcXVpcmUoJ2NhbGwtYm91bmQnKTtcbnZhciBnT1BEID0gcmVxdWlyZSgnZ29wZCcpO1xudmFyIGdldFByb3RvID0gcmVxdWlyZSgnZ2V0LXByb3RvJyk7XG5cbnZhciAkdG9TdHJpbmcgPSBjYWxsQm91bmQoJ09iamVjdC5wcm90b3R5cGUudG9TdHJpbmcnKTtcbnZhciBoYXNUb1N0cmluZ1RhZyA9IHJlcXVpcmUoJ2hhcy10b3N0cmluZ3RhZy9zaGFtcycpKCk7XG5cbnZhciBnID0gdHlwZW9mIGdsb2JhbFRoaXMgPT09ICd1bmRlZmluZWQnID8gZ2xvYmFsIDogZ2xvYmFsVGhpcztcbnZhciB0eXBlZEFycmF5cyA9IGF2YWlsYWJsZVR5cGVkQXJyYXlzKCk7XG5cbnZhciAkc2xpY2UgPSBjYWxsQm91bmQoJ1N0cmluZy5wcm90b3R5cGUuc2xpY2UnKTtcblxuLyoqIEB0eXBlIHs8VCA9IHVua25vd24+KGFycmF5OiByZWFkb25seSBUW10sIHZhbHVlOiB1bmtub3duKSA9PiBudW1iZXJ9ICovXG52YXIgJGluZGV4T2YgPSBjYWxsQm91bmQoJ0FycmF5LnByb3RvdHlwZS5pbmRleE9mJywgdHJ1ZSkgfHwgZnVuY3Rpb24gaW5kZXhPZihhcnJheSwgdmFsdWUpIHtcblx0Zm9yICh2YXIgaSA9IDA7IGkgPCBhcnJheS5sZW5ndGg7IGkgKz0gMSkge1xuXHRcdGlmIChhcnJheVtpXSA9PT0gdmFsdWUpIHtcblx0XHRcdHJldHVybiBpO1xuXHRcdH1cblx0fVxuXHRyZXR1cm4gLTE7XG59O1xuXG4vKiogQHR5cGVkZWYge2ltcG9ydCgnLi90eXBlcycpLkdldHRlcn0gR2V0dGVyICovXG4vKiogQHR5cGUge2ltcG9ydCgnLi90eXBlcycpLkNhY2hlfSAqL1xudmFyIGNhY2hlID0geyBfX3Byb3RvX186IG51bGwgfTtcbmlmIChoYXNUb1N0cmluZ1RhZyAmJiBnT1BEICYmIGdldFByb3RvKSB7XG5cdGZvckVhY2godHlwZWRBcnJheXMsIGZ1bmN0aW9uICh0eXBlZEFycmF5KSB7XG5cdFx0dmFyIGFyciA9IG5ldyBnW3R5cGVkQXJyYXldKCk7XG5cdFx0aWYgKFN5bWJvbC50b1N0cmluZ1RhZyBpbiBhcnIgJiYgZ2V0UHJvdG8pIHtcblx0XHRcdHZhciBwcm90byA9IGdldFByb3RvKGFycik7XG5cdFx0XHQvLyBAdHMtZXhwZWN0LWVycm9yIFRTIHdvbid0IG5hcnJvdyBpbnNpZGUgYSBjbG9zdXJlXG5cdFx0XHR2YXIgZGVzY3JpcHRvciA9IGdPUEQocHJvdG8sIFN5bWJvbC50b1N0cmluZ1RhZyk7XG5cdFx0XHRpZiAoIWRlc2NyaXB0b3IgJiYgcHJvdG8pIHtcblx0XHRcdFx0dmFyIHN1cGVyUHJvdG8gPSBnZXRQcm90byhwcm90byk7XG5cdFx0XHRcdC8vIEB0cy1leHBlY3QtZXJyb3IgVFMgd29uJ3QgbmFycm93IGluc2lkZSBhIGNsb3N1cmVcblx0XHRcdFx0ZGVzY3JpcHRvciA9IGdPUEQoc3VwZXJQcm90bywgU3ltYm9sLnRvU3RyaW5nVGFnKTtcblx0XHRcdH1cblx0XHRcdC8vIEB0cy1leHBlY3QtZXJyb3IgVE9ETzogZml4XG5cdFx0XHRjYWNoZVsnJCcgKyB0eXBlZEFycmF5XSA9IGNhbGxCaW5kKGRlc2NyaXB0b3IuZ2V0KTtcblx0XHR9XG5cdH0pO1xufSBlbHNlIHtcblx0Zm9yRWFjaCh0eXBlZEFycmF5cywgZnVuY3Rpb24gKHR5cGVkQXJyYXkpIHtcblx0XHR2YXIgYXJyID0gbmV3IGdbdHlwZWRBcnJheV0oKTtcblx0XHR2YXIgZm4gPSBhcnIuc2xpY2UgfHwgYXJyLnNldDtcblx0XHRpZiAoZm4pIHtcblx0XHRcdGNhY2hlW1xuXHRcdFx0XHQvKiogQHR5cGUge2AkJHtpbXBvcnQoJy4nKS5UeXBlZEFycmF5TmFtZX1gfSAqLyAoJyQnICsgdHlwZWRBcnJheSlcblx0XHRcdF0gPSAvKiogQHR5cGUge2ltcG9ydCgnLi90eXBlcycpLkJvdW5kU2xpY2UgfCBpbXBvcnQoJy4vdHlwZXMnKS5Cb3VuZFNldH0gKi8gKFxuXHRcdFx0XHQvLyBAdHMtZXhwZWN0LWVycm9yIFRPRE8gRklYTUVcblx0XHRcdFx0Y2FsbEJpbmQoZm4pXG5cdFx0XHQpO1xuXHRcdH1cblx0fSk7XG59XG5cbi8qKiBAdHlwZSB7KHZhbHVlOiBvYmplY3QpID0+IGZhbHNlIHwgaW1wb3J0KCcuJykuVHlwZWRBcnJheU5hbWV9ICovXG52YXIgdHJ5VHlwZWRBcnJheXMgPSBmdW5jdGlvbiB0cnlBbGxUeXBlZEFycmF5cyh2YWx1ZSkge1xuXHQvKiogQHR5cGUge1JldHVyblR5cGU8dHlwZW9mIHRyeUFsbFR5cGVkQXJyYXlzPn0gKi8gdmFyIGZvdW5kID0gZmFsc2U7XG5cdGZvckVhY2goXG5cdFx0LyoqIEB0eXBlIHtSZWNvcmQ8YFxcJCR7aW1wb3J0KCcuJykuVHlwZWRBcnJheU5hbWV9YCwgR2V0dGVyPn0gKi8gKGNhY2hlKSxcblx0XHQvKiogQHR5cGUgeyhnZXR0ZXI6IEdldHRlciwgbmFtZTogYFxcJCR7aW1wb3J0KCcuJykuVHlwZWRBcnJheU5hbWV9YCkgPT4gdm9pZH0gKi9cblx0XHRmdW5jdGlvbiAoZ2V0dGVyLCB0eXBlZEFycmF5KSB7XG5cdFx0XHRpZiAoIWZvdW5kKSB7XG5cdFx0XHRcdHRyeSB7XG5cdFx0XHRcdFx0Ly8gQHRzLWV4cGVjdC1lcnJvciBhIHRocm93IGlzIGZpbmUgaGVyZVxuXHRcdFx0XHRcdGlmICgnJCcgKyBnZXR0ZXIodmFsdWUpID09PSB0eXBlZEFycmF5KSB7XG5cdFx0XHRcdFx0XHRmb3VuZCA9IC8qKiBAdHlwZSB7aW1wb3J0KCcuJykuVHlwZWRBcnJheU5hbWV9ICovICgkc2xpY2UodHlwZWRBcnJheSwgMSkpO1xuXHRcdFx0XHRcdH1cblx0XHRcdFx0fSBjYXRjaCAoZSkgeyAvKiovIH1cblx0XHRcdH1cblx0XHR9XG5cdCk7XG5cdHJldHVybiBmb3VuZDtcbn07XG5cbi8qKiBAdHlwZSB7KHZhbHVlOiBvYmplY3QpID0+IGZhbHNlIHwgaW1wb3J0KCcuJykuVHlwZWRBcnJheU5hbWV9ICovXG52YXIgdHJ5U2xpY2VzID0gZnVuY3Rpb24gdHJ5QWxsU2xpY2VzKHZhbHVlKSB7XG5cdC8qKiBAdHlwZSB7UmV0dXJuVHlwZTx0eXBlb2YgdHJ5QWxsU2xpY2VzPn0gKi8gdmFyIGZvdW5kID0gZmFsc2U7XG5cdGZvckVhY2goXG5cdFx0LyoqIEB0eXBlIHtSZWNvcmQ8YFxcJCR7aW1wb3J0KCcuJykuVHlwZWRBcnJheU5hbWV9YCwgR2V0dGVyPn0gKi8oY2FjaGUpLFxuXHRcdC8qKiBAdHlwZSB7KGdldHRlcjogR2V0dGVyLCBuYW1lOiBgXFwkJHtpbXBvcnQoJy4nKS5UeXBlZEFycmF5TmFtZX1gKSA9PiB2b2lkfSAqLyBmdW5jdGlvbiAoZ2V0dGVyLCBuYW1lKSB7XG5cdFx0XHRpZiAoIWZvdW5kKSB7XG5cdFx0XHRcdHRyeSB7XG5cdFx0XHRcdFx0Ly8gQHRzLWV4cGVjdC1lcnJvciBhIHRocm93IGlzIGZpbmUgaGVyZVxuXHRcdFx0XHRcdGdldHRlcih2YWx1ZSk7XG5cdFx0XHRcdFx0Zm91bmQgPSAvKiogQHR5cGUge2ltcG9ydCgnLicpLlR5cGVkQXJyYXlOYW1lfSAqLyAoJHNsaWNlKG5hbWUsIDEpKTtcblx0XHRcdFx0fSBjYXRjaCAoZSkgeyAvKiovIH1cblx0XHRcdH1cblx0XHR9XG5cdCk7XG5cdHJldHVybiBmb3VuZDtcbn07XG5cbi8qKiBAdHlwZSB7aW1wb3J0KCcuJyl9ICovXG5tb2R1bGUuZXhwb3J0cyA9IGZ1bmN0aW9uIHdoaWNoVHlwZWRBcnJheSh2YWx1ZSkge1xuXHRpZiAoIXZhbHVlIHx8IHR5cGVvZiB2YWx1ZSAhPT0gJ29iamVjdCcpIHsgcmV0dXJuIGZhbHNlOyB9XG5cdGlmICghaGFzVG9TdHJpbmdUYWcpIHtcblx0XHQvKiogQHR5cGUge3N0cmluZ30gKi9cblx0XHR2YXIgdGFnID0gJHNsaWNlKCR0b1N0cmluZyh2YWx1ZSksIDgsIC0xKTtcblx0XHRpZiAoJGluZGV4T2YodHlwZWRBcnJheXMsIHRhZykgPiAtMSkge1xuXHRcdFx0cmV0dXJuIHRhZztcblx0XHR9XG5cdFx0aWYgKHRhZyAhPT0gJ09iamVjdCcpIHtcblx0XHRcdHJldHVybiBmYWxzZTtcblx0XHR9XG5cdFx0Ly8gbm9kZSA8IDAuNiBoaXRzIGhlcmUgb24gcmVhbCBUeXBlZCBBcnJheXNcblx0XHRyZXR1cm4gdHJ5U2xpY2VzKHZhbHVlKTtcblx0fVxuXHRpZiAoIWdPUEQpIHsgcmV0dXJuIG51bGw7IH0gLy8gdW5rbm93biBlbmdpbmVcblx0cmV0dXJuIHRyeVR5cGVkQXJyYXlzKHZhbHVlKTtcbn07XG4iLCAiJ3VzZSBzdHJpY3QnO1xuXG52YXIgd2hpY2hUeXBlZEFycmF5ID0gcmVxdWlyZSgnd2hpY2gtdHlwZWQtYXJyYXknKTtcblxuLyoqIEB0eXBlIHtpbXBvcnQoJy4nKX0gKi9cbm1vZHVsZS5leHBvcnRzID0gZnVuY3Rpb24gaXNUeXBlZEFycmF5KHZhbHVlKSB7XG5cdHJldHVybiAhIXdoaWNoVHlwZWRBcnJheSh2YWx1ZSk7XG59O1xuIiwgIi8vIEN1cnJlbnRseSBpbiBzeW5jIHdpdGggTm9kZS5qcyBsaWIvaW50ZXJuYWwvdXRpbC90eXBlcy5qc1xuLy8gaHR0cHM6Ly9naXRodWIuY29tL25vZGVqcy9ub2RlL2NvbW1pdC8xMTJjYzdjMjc1NTEyNTRhYTJiMTcwOThmYjc3NDg2N2YwNWVkMGQ5XG5cbid1c2Ugc3RyaWN0JztcblxudmFyIGlzQXJndW1lbnRzT2JqZWN0ID0gcmVxdWlyZSgnaXMtYXJndW1lbnRzJyk7XG52YXIgaXNHZW5lcmF0b3JGdW5jdGlvbiA9IHJlcXVpcmUoJ2lzLWdlbmVyYXRvci1mdW5jdGlvbicpO1xudmFyIHdoaWNoVHlwZWRBcnJheSA9IHJlcXVpcmUoJ3doaWNoLXR5cGVkLWFycmF5Jyk7XG52YXIgaXNUeXBlZEFycmF5ID0gcmVxdWlyZSgnaXMtdHlwZWQtYXJyYXknKTtcblxuZnVuY3Rpb24gdW5jdXJyeVRoaXMoZikge1xuICByZXR1cm4gZi5jYWxsLmJpbmQoZik7XG59XG5cbnZhciBCaWdJbnRTdXBwb3J0ZWQgPSB0eXBlb2YgQmlnSW50ICE9PSAndW5kZWZpbmVkJztcbnZhciBTeW1ib2xTdXBwb3J0ZWQgPSB0eXBlb2YgU3ltYm9sICE9PSAndW5kZWZpbmVkJztcblxudmFyIE9iamVjdFRvU3RyaW5nID0gdW5jdXJyeVRoaXMoT2JqZWN0LnByb3RvdHlwZS50b1N0cmluZyk7XG5cbnZhciBudW1iZXJWYWx1ZSA9IHVuY3VycnlUaGlzKE51bWJlci5wcm90b3R5cGUudmFsdWVPZik7XG52YXIgc3RyaW5nVmFsdWUgPSB1bmN1cnJ5VGhpcyhTdHJpbmcucHJvdG90eXBlLnZhbHVlT2YpO1xudmFyIGJvb2xlYW5WYWx1ZSA9IHVuY3VycnlUaGlzKEJvb2xlYW4ucHJvdG90eXBlLnZhbHVlT2YpO1xuXG5pZiAoQmlnSW50U3VwcG9ydGVkKSB7XG4gIHZhciBiaWdJbnRWYWx1ZSA9IHVuY3VycnlUaGlzKEJpZ0ludC5wcm90b3R5cGUudmFsdWVPZik7XG59XG5cbmlmIChTeW1ib2xTdXBwb3J0ZWQpIHtcbiAgdmFyIHN5bWJvbFZhbHVlID0gdW5jdXJyeVRoaXMoU3ltYm9sLnByb3RvdHlwZS52YWx1ZU9mKTtcbn1cblxuZnVuY3Rpb24gY2hlY2tCb3hlZFByaW1pdGl2ZSh2YWx1ZSwgcHJvdG90eXBlVmFsdWVPZikge1xuICBpZiAodHlwZW9mIHZhbHVlICE9PSAnb2JqZWN0Jykge1xuICAgIHJldHVybiBmYWxzZTtcbiAgfVxuICB0cnkge1xuICAgIHByb3RvdHlwZVZhbHVlT2YodmFsdWUpO1xuICAgIHJldHVybiB0cnVlO1xuICB9IGNhdGNoKGUpIHtcbiAgICByZXR1cm4gZmFsc2U7XG4gIH1cbn1cblxuZXhwb3J0cy5pc0FyZ3VtZW50c09iamVjdCA9IGlzQXJndW1lbnRzT2JqZWN0O1xuZXhwb3J0cy5pc0dlbmVyYXRvckZ1bmN0aW9uID0gaXNHZW5lcmF0b3JGdW5jdGlvbjtcbmV4cG9ydHMuaXNUeXBlZEFycmF5ID0gaXNUeXBlZEFycmF5O1xuXG4vLyBUYWtlbiBmcm9tIGhlcmUgYW5kIG1vZGlmaWVkIGZvciBiZXR0ZXIgYnJvd3NlciBzdXBwb3J0XG4vLyBodHRwczovL2dpdGh1Yi5jb20vc2luZHJlc29yaHVzL3AtaXMtcHJvbWlzZS9ibG9iL2NkYTM1YTUxM2JkYTAzZjk3N2FkNWNkZTNhMDc5ZDIzN2U4MmQ3ZWYvaW5kZXguanNcbmZ1bmN0aW9uIGlzUHJvbWlzZShpbnB1dCkge1xuXHRyZXR1cm4gKFxuXHRcdChcblx0XHRcdHR5cGVvZiBQcm9taXNlICE9PSAndW5kZWZpbmVkJyAmJlxuXHRcdFx0aW5wdXQgaW5zdGFuY2VvZiBQcm9taXNlXG5cdFx0KSB8fFxuXHRcdChcblx0XHRcdGlucHV0ICE9PSBudWxsICYmXG5cdFx0XHR0eXBlb2YgaW5wdXQgPT09ICdvYmplY3QnICYmXG5cdFx0XHR0eXBlb2YgaW5wdXQudGhlbiA9PT0gJ2Z1bmN0aW9uJyAmJlxuXHRcdFx0dHlwZW9mIGlucHV0LmNhdGNoID09PSAnZnVuY3Rpb24nXG5cdFx0KVxuXHQpO1xufVxuZXhwb3J0cy5pc1Byb21pc2UgPSBpc1Byb21pc2U7XG5cbmZ1bmN0aW9uIGlzQXJyYXlCdWZmZXJWaWV3KHZhbHVlKSB7XG4gIGlmICh0eXBlb2YgQXJyYXlCdWZmZXIgIT09ICd1bmRlZmluZWQnICYmIEFycmF5QnVmZmVyLmlzVmlldykge1xuICAgIHJldHVybiBBcnJheUJ1ZmZlci5pc1ZpZXcodmFsdWUpO1xuICB9XG5cbiAgcmV0dXJuIChcbiAgICBpc1R5cGVkQXJyYXkodmFsdWUpIHx8XG4gICAgaXNEYXRhVmlldyh2YWx1ZSlcbiAgKTtcbn1cbmV4cG9ydHMuaXNBcnJheUJ1ZmZlclZpZXcgPSBpc0FycmF5QnVmZmVyVmlldztcblxuXG5mdW5jdGlvbiBpc1VpbnQ4QXJyYXkodmFsdWUpIHtcbiAgcmV0dXJuIHdoaWNoVHlwZWRBcnJheSh2YWx1ZSkgPT09ICdVaW50OEFycmF5Jztcbn1cbmV4cG9ydHMuaXNVaW50OEFycmF5ID0gaXNVaW50OEFycmF5O1xuXG5mdW5jdGlvbiBpc1VpbnQ4Q2xhbXBlZEFycmF5KHZhbHVlKSB7XG4gIHJldHVybiB3aGljaFR5cGVkQXJyYXkodmFsdWUpID09PSAnVWludDhDbGFtcGVkQXJyYXknO1xufVxuZXhwb3J0cy5pc1VpbnQ4Q2xhbXBlZEFycmF5ID0gaXNVaW50OENsYW1wZWRBcnJheTtcblxuZnVuY3Rpb24gaXNVaW50MTZBcnJheSh2YWx1ZSkge1xuICByZXR1cm4gd2hpY2hUeXBlZEFycmF5KHZhbHVlKSA9PT0gJ1VpbnQxNkFycmF5Jztcbn1cbmV4cG9ydHMuaXNVaW50MTZBcnJheSA9IGlzVWludDE2QXJyYXk7XG5cbmZ1bmN0aW9uIGlzVWludDMyQXJyYXkodmFsdWUpIHtcbiAgcmV0dXJuIHdoaWNoVHlwZWRBcnJheSh2YWx1ZSkgPT09ICdVaW50MzJBcnJheSc7XG59XG5leHBvcnRzLmlzVWludDMyQXJyYXkgPSBpc1VpbnQzMkFycmF5O1xuXG5mdW5jdGlvbiBpc0ludDhBcnJheSh2YWx1ZSkge1xuICByZXR1cm4gd2hpY2hUeXBlZEFycmF5KHZhbHVlKSA9PT0gJ0ludDhBcnJheSc7XG59XG5leHBvcnRzLmlzSW50OEFycmF5ID0gaXNJbnQ4QXJyYXk7XG5cbmZ1bmN0aW9uIGlzSW50MTZBcnJheSh2YWx1ZSkge1xuICByZXR1cm4gd2hpY2hUeXBlZEFycmF5KHZhbHVlKSA9PT0gJ0ludDE2QXJyYXknO1xufVxuZXhwb3J0cy5pc0ludDE2QXJyYXkgPSBpc0ludDE2QXJyYXk7XG5cbmZ1bmN0aW9uIGlzSW50MzJBcnJheSh2YWx1ZSkge1xuICByZXR1cm4gd2hpY2hUeXBlZEFycmF5KHZhbHVlKSA9PT0gJ0ludDMyQXJyYXknO1xufVxuZXhwb3J0cy5pc0ludDMyQXJyYXkgPSBpc0ludDMyQXJyYXk7XG5cbmZ1bmN0aW9uIGlzRmxvYXQzMkFycmF5KHZhbHVlKSB7XG4gIHJldHVybiB3aGljaFR5cGVkQXJyYXkodmFsdWUpID09PSAnRmxvYXQzMkFycmF5Jztcbn1cbmV4cG9ydHMuaXNGbG9hdDMyQXJyYXkgPSBpc0Zsb2F0MzJBcnJheTtcblxuZnVuY3Rpb24gaXNGbG9hdDY0QXJyYXkodmFsdWUpIHtcbiAgcmV0dXJuIHdoaWNoVHlwZWRBcnJheSh2YWx1ZSkgPT09ICdGbG9hdDY0QXJyYXknO1xufVxuZXhwb3J0cy5pc0Zsb2F0NjRBcnJheSA9IGlzRmxvYXQ2NEFycmF5O1xuXG5mdW5jdGlvbiBpc0JpZ0ludDY0QXJyYXkodmFsdWUpIHtcbiAgcmV0dXJuIHdoaWNoVHlwZWRBcnJheSh2YWx1ZSkgPT09ICdCaWdJbnQ2NEFycmF5Jztcbn1cbmV4cG9ydHMuaXNCaWdJbnQ2NEFycmF5ID0gaXNCaWdJbnQ2NEFycmF5O1xuXG5mdW5jdGlvbiBpc0JpZ1VpbnQ2NEFycmF5KHZhbHVlKSB7XG4gIHJldHVybiB3aGljaFR5cGVkQXJyYXkodmFsdWUpID09PSAnQmlnVWludDY0QXJyYXknO1xufVxuZXhwb3J0cy5pc0JpZ1VpbnQ2NEFycmF5ID0gaXNCaWdVaW50NjRBcnJheTtcblxuZnVuY3Rpb24gaXNNYXBUb1N0cmluZyh2YWx1ZSkge1xuICByZXR1cm4gT2JqZWN0VG9TdHJpbmcodmFsdWUpID09PSAnW29iamVjdCBNYXBdJztcbn1cbmlzTWFwVG9TdHJpbmcud29ya2luZyA9IChcbiAgdHlwZW9mIE1hcCAhPT0gJ3VuZGVmaW5lZCcgJiZcbiAgaXNNYXBUb1N0cmluZyhuZXcgTWFwKCkpXG4pO1xuXG5mdW5jdGlvbiBpc01hcCh2YWx1ZSkge1xuICBpZiAodHlwZW9mIE1hcCA9PT0gJ3VuZGVmaW5lZCcpIHtcbiAgICByZXR1cm4gZmFsc2U7XG4gIH1cblxuICByZXR1cm4gaXNNYXBUb1N0cmluZy53b3JraW5nXG4gICAgPyBpc01hcFRvU3RyaW5nKHZhbHVlKVxuICAgIDogdmFsdWUgaW5zdGFuY2VvZiBNYXA7XG59XG5leHBvcnRzLmlzTWFwID0gaXNNYXA7XG5cbmZ1bmN0aW9uIGlzU2V0VG9TdHJpbmcodmFsdWUpIHtcbiAgcmV0dXJuIE9iamVjdFRvU3RyaW5nKHZhbHVlKSA9PT0gJ1tvYmplY3QgU2V0XSc7XG59XG5pc1NldFRvU3RyaW5nLndvcmtpbmcgPSAoXG4gIHR5cGVvZiBTZXQgIT09ICd1bmRlZmluZWQnICYmXG4gIGlzU2V0VG9TdHJpbmcobmV3IFNldCgpKVxuKTtcbmZ1bmN0aW9uIGlzU2V0KHZhbHVlKSB7XG4gIGlmICh0eXBlb2YgU2V0ID09PSAndW5kZWZpbmVkJykge1xuICAgIHJldHVybiBmYWxzZTtcbiAgfVxuXG4gIHJldHVybiBpc1NldFRvU3RyaW5nLndvcmtpbmdcbiAgICA/IGlzU2V0VG9TdHJpbmcodmFsdWUpXG4gICAgOiB2YWx1ZSBpbnN0YW5jZW9mIFNldDtcbn1cbmV4cG9ydHMuaXNTZXQgPSBpc1NldDtcblxuZnVuY3Rpb24gaXNXZWFrTWFwVG9TdHJpbmcodmFsdWUpIHtcbiAgcmV0dXJuIE9iamVjdFRvU3RyaW5nKHZhbHVlKSA9PT0gJ1tvYmplY3QgV2Vha01hcF0nO1xufVxuaXNXZWFrTWFwVG9TdHJpbmcud29ya2luZyA9IChcbiAgdHlwZW9mIFdlYWtNYXAgIT09ICd1bmRlZmluZWQnICYmXG4gIGlzV2Vha01hcFRvU3RyaW5nKG5ldyBXZWFrTWFwKCkpXG4pO1xuZnVuY3Rpb24gaXNXZWFrTWFwKHZhbHVlKSB7XG4gIGlmICh0eXBlb2YgV2Vha01hcCA9PT0gJ3VuZGVmaW5lZCcpIHtcbiAgICByZXR1cm4gZmFsc2U7XG4gIH1cblxuICByZXR1cm4gaXNXZWFrTWFwVG9TdHJpbmcud29ya2luZ1xuICAgID8gaXNXZWFrTWFwVG9TdHJpbmcodmFsdWUpXG4gICAgOiB2YWx1ZSBpbnN0YW5jZW9mIFdlYWtNYXA7XG59XG5leHBvcnRzLmlzV2Vha01hcCA9IGlzV2Vha01hcDtcblxuZnVuY3Rpb24gaXNXZWFrU2V0VG9TdHJpbmcodmFsdWUpIHtcbiAgcmV0dXJuIE9iamVjdFRvU3RyaW5nKHZhbHVlKSA9PT0gJ1tvYmplY3QgV2Vha1NldF0nO1xufVxuaXNXZWFrU2V0VG9TdHJpbmcud29ya2luZyA9IChcbiAgdHlwZW9mIFdlYWtTZXQgIT09ICd1bmRlZmluZWQnICYmXG4gIGlzV2Vha1NldFRvU3RyaW5nKG5ldyBXZWFrU2V0KCkpXG4pO1xuZnVuY3Rpb24gaXNXZWFrU2V0KHZhbHVlKSB7XG4gIHJldHVybiBpc1dlYWtTZXRUb1N0cmluZyh2YWx1ZSk7XG59XG5leHBvcnRzLmlzV2Vha1NldCA9IGlzV2Vha1NldDtcblxuZnVuY3Rpb24gaXNBcnJheUJ1ZmZlclRvU3RyaW5nKHZhbHVlKSB7XG4gIHJldHVybiBPYmplY3RUb1N0cmluZyh2YWx1ZSkgPT09ICdbb2JqZWN0IEFycmF5QnVmZmVyXSc7XG59XG5pc0FycmF5QnVmZmVyVG9TdHJpbmcud29ya2luZyA9IChcbiAgdHlwZW9mIEFycmF5QnVmZmVyICE9PSAndW5kZWZpbmVkJyAmJlxuICBpc0FycmF5QnVmZmVyVG9TdHJpbmcobmV3IEFycmF5QnVmZmVyKCkpXG4pO1xuZnVuY3Rpb24gaXNBcnJheUJ1ZmZlcih2YWx1ZSkge1xuICBpZiAodHlwZW9mIEFycmF5QnVmZmVyID09PSAndW5kZWZpbmVkJykge1xuICAgIHJldHVybiBmYWxzZTtcbiAgfVxuXG4gIHJldHVybiBpc0FycmF5QnVmZmVyVG9TdHJpbmcud29ya2luZ1xuICAgID8gaXNBcnJheUJ1ZmZlclRvU3RyaW5nKHZhbHVlKVxuICAgIDogdmFsdWUgaW5zdGFuY2VvZiBBcnJheUJ1ZmZlcjtcbn1cbmV4cG9ydHMuaXNBcnJheUJ1ZmZlciA9IGlzQXJyYXlCdWZmZXI7XG5cbmZ1bmN0aW9uIGlzRGF0YVZpZXdUb1N0cmluZyh2YWx1ZSkge1xuICByZXR1cm4gT2JqZWN0VG9TdHJpbmcodmFsdWUpID09PSAnW29iamVjdCBEYXRhVmlld10nO1xufVxuaXNEYXRhVmlld1RvU3RyaW5nLndvcmtpbmcgPSAoXG4gIHR5cGVvZiBBcnJheUJ1ZmZlciAhPT0gJ3VuZGVmaW5lZCcgJiZcbiAgdHlwZW9mIERhdGFWaWV3ICE9PSAndW5kZWZpbmVkJyAmJlxuICBpc0RhdGFWaWV3VG9TdHJpbmcobmV3IERhdGFWaWV3KG5ldyBBcnJheUJ1ZmZlcigxKSwgMCwgMSkpXG4pO1xuZnVuY3Rpb24gaXNEYXRhVmlldyh2YWx1ZSkge1xuICBpZiAodHlwZW9mIERhdGFWaWV3ID09PSAndW5kZWZpbmVkJykge1xuICAgIHJldHVybiBmYWxzZTtcbiAgfVxuXG4gIHJldHVybiBpc0RhdGFWaWV3VG9TdHJpbmcud29ya2luZ1xuICAgID8gaXNEYXRhVmlld1RvU3RyaW5nKHZhbHVlKVxuICAgIDogdmFsdWUgaW5zdGFuY2VvZiBEYXRhVmlldztcbn1cbmV4cG9ydHMuaXNEYXRhVmlldyA9IGlzRGF0YVZpZXc7XG5cbi8vIFN0b3JlIGEgY29weSBvZiBTaGFyZWRBcnJheUJ1ZmZlciBpbiBjYXNlIGl0J3MgZGVsZXRlZCBlbHNld2hlcmVcbnZhciBTaGFyZWRBcnJheUJ1ZmZlckNvcHkgPSB0eXBlb2YgU2hhcmVkQXJyYXlCdWZmZXIgIT09ICd1bmRlZmluZWQnID8gU2hhcmVkQXJyYXlCdWZmZXIgOiB1bmRlZmluZWQ7XG5mdW5jdGlvbiBpc1NoYXJlZEFycmF5QnVmZmVyVG9TdHJpbmcodmFsdWUpIHtcbiAgcmV0dXJuIE9iamVjdFRvU3RyaW5nKHZhbHVlKSA9PT0gJ1tvYmplY3QgU2hhcmVkQXJyYXlCdWZmZXJdJztcbn1cbmZ1bmN0aW9uIGlzU2hhcmVkQXJyYXlCdWZmZXIodmFsdWUpIHtcbiAgaWYgKHR5cGVvZiBTaGFyZWRBcnJheUJ1ZmZlckNvcHkgPT09ICd1bmRlZmluZWQnKSB7XG4gICAgcmV0dXJuIGZhbHNlO1xuICB9XG5cbiAgaWYgKHR5cGVvZiBpc1NoYXJlZEFycmF5QnVmZmVyVG9TdHJpbmcud29ya2luZyA9PT0gJ3VuZGVmaW5lZCcpIHtcbiAgICBpc1NoYXJlZEFycmF5QnVmZmVyVG9TdHJpbmcud29ya2luZyA9IGlzU2hhcmVkQXJyYXlCdWZmZXJUb1N0cmluZyhuZXcgU2hhcmVkQXJyYXlCdWZmZXJDb3B5KCkpO1xuICB9XG5cbiAgcmV0dXJuIGlzU2hhcmVkQXJyYXlCdWZmZXJUb1N0cmluZy53b3JraW5nXG4gICAgPyBpc1NoYXJlZEFycmF5QnVmZmVyVG9TdHJpbmcodmFsdWUpXG4gICAgOiB2YWx1ZSBpbnN0YW5jZW9mIFNoYXJlZEFycmF5QnVmZmVyQ29weTtcbn1cbmV4cG9ydHMuaXNTaGFyZWRBcnJheUJ1ZmZlciA9IGlzU2hhcmVkQXJyYXlCdWZmZXI7XG5cbmZ1bmN0aW9uIGlzQXN5bmNGdW5jdGlvbih2YWx1ZSkge1xuICByZXR1cm4gT2JqZWN0VG9TdHJpbmcodmFsdWUpID09PSAnW29iamVjdCBBc3luY0Z1bmN0aW9uXSc7XG59XG5leHBvcnRzLmlzQXN5bmNGdW5jdGlvbiA9IGlzQXN5bmNGdW5jdGlvbjtcblxuZnVuY3Rpb24gaXNNYXBJdGVyYXRvcih2YWx1ZSkge1xuICByZXR1cm4gT2JqZWN0VG9TdHJpbmcodmFsdWUpID09PSAnW29iamVjdCBNYXAgSXRlcmF0b3JdJztcbn1cbmV4cG9ydHMuaXNNYXBJdGVyYXRvciA9IGlzTWFwSXRlcmF0b3I7XG5cbmZ1bmN0aW9uIGlzU2V0SXRlcmF0b3IodmFsdWUpIHtcbiAgcmV0dXJuIE9iamVjdFRvU3RyaW5nKHZhbHVlKSA9PT0gJ1tvYmplY3QgU2V0IEl0ZXJhdG9yXSc7XG59XG5leHBvcnRzLmlzU2V0SXRlcmF0b3IgPSBpc1NldEl0ZXJhdG9yO1xuXG5mdW5jdGlvbiBpc0dlbmVyYXRvck9iamVjdCh2YWx1ZSkge1xuICByZXR1cm4gT2JqZWN0VG9TdHJpbmcodmFsdWUpID09PSAnW29iamVjdCBHZW5lcmF0b3JdJztcbn1cbmV4cG9ydHMuaXNHZW5lcmF0b3JPYmplY3QgPSBpc0dlbmVyYXRvck9iamVjdDtcblxuZnVuY3Rpb24gaXNXZWJBc3NlbWJseUNvbXBpbGVkTW9kdWxlKHZhbHVlKSB7XG4gIHJldHVybiBPYmplY3RUb1N0cmluZyh2YWx1ZSkgPT09ICdbb2JqZWN0IFdlYkFzc2VtYmx5Lk1vZHVsZV0nO1xufVxuZXhwb3J0cy5pc1dlYkFzc2VtYmx5Q29tcGlsZWRNb2R1bGUgPSBpc1dlYkFzc2VtYmx5Q29tcGlsZWRNb2R1bGU7XG5cbmZ1bmN0aW9uIGlzTnVtYmVyT2JqZWN0KHZhbHVlKSB7XG4gIHJldHVybiBjaGVja0JveGVkUHJpbWl0aXZlKHZhbHVlLCBudW1iZXJWYWx1ZSk7XG59XG5leHBvcnRzLmlzTnVtYmVyT2JqZWN0ID0gaXNOdW1iZXJPYmplY3Q7XG5cbmZ1bmN0aW9uIGlzU3RyaW5nT2JqZWN0KHZhbHVlKSB7XG4gIHJldHVybiBjaGVja0JveGVkUHJpbWl0aXZlKHZhbHVlLCBzdHJpbmdWYWx1ZSk7XG59XG5leHBvcnRzLmlzU3RyaW5nT2JqZWN0ID0gaXNTdHJpbmdPYmplY3Q7XG5cbmZ1bmN0aW9uIGlzQm9vbGVhbk9iamVjdCh2YWx1ZSkge1xuICByZXR1cm4gY2hlY2tCb3hlZFByaW1pdGl2ZSh2YWx1ZSwgYm9vbGVhblZhbHVlKTtcbn1cbmV4cG9ydHMuaXNCb29sZWFuT2JqZWN0ID0gaXNCb29sZWFuT2JqZWN0O1xuXG5mdW5jdGlvbiBpc0JpZ0ludE9iamVjdCh2YWx1ZSkge1xuICByZXR1cm4gQmlnSW50U3VwcG9ydGVkICYmIGNoZWNrQm94ZWRQcmltaXRpdmUodmFsdWUsIGJpZ0ludFZhbHVlKTtcbn1cbmV4cG9ydHMuaXNCaWdJbnRPYmplY3QgPSBpc0JpZ0ludE9iamVjdDtcblxuZnVuY3Rpb24gaXNTeW1ib2xPYmplY3QodmFsdWUpIHtcbiAgcmV0dXJuIFN5bWJvbFN1cHBvcnRlZCAmJiBjaGVja0JveGVkUHJpbWl0aXZlKHZhbHVlLCBzeW1ib2xWYWx1ZSk7XG59XG5leHBvcnRzLmlzU3ltYm9sT2JqZWN0ID0gaXNTeW1ib2xPYmplY3Q7XG5cbmZ1bmN0aW9uIGlzQm94ZWRQcmltaXRpdmUodmFsdWUpIHtcbiAgcmV0dXJuIChcbiAgICBpc051bWJlck9iamVjdCh2YWx1ZSkgfHxcbiAgICBpc1N0cmluZ09iamVjdCh2YWx1ZSkgfHxcbiAgICBpc0Jvb2xlYW5PYmplY3QodmFsdWUpIHx8XG4gICAgaXNCaWdJbnRPYmplY3QodmFsdWUpIHx8XG4gICAgaXNTeW1ib2xPYmplY3QodmFsdWUpXG4gICk7XG59XG5leHBvcnRzLmlzQm94ZWRQcmltaXRpdmUgPSBpc0JveGVkUHJpbWl0aXZlO1xuXG5mdW5jdGlvbiBpc0FueUFycmF5QnVmZmVyKHZhbHVlKSB7XG4gIHJldHVybiB0eXBlb2YgVWludDhBcnJheSAhPT0gJ3VuZGVmaW5lZCcgJiYgKFxuICAgIGlzQXJyYXlCdWZmZXIodmFsdWUpIHx8XG4gICAgaXNTaGFyZWRBcnJheUJ1ZmZlcih2YWx1ZSlcbiAgKTtcbn1cbmV4cG9ydHMuaXNBbnlBcnJheUJ1ZmZlciA9IGlzQW55QXJyYXlCdWZmZXI7XG5cblsnaXNQcm94eScsICdpc0V4dGVybmFsJywgJ2lzTW9kdWxlTmFtZXNwYWNlT2JqZWN0J10uZm9yRWFjaChmdW5jdGlvbihtZXRob2QpIHtcbiAgT2JqZWN0LmRlZmluZVByb3BlcnR5KGV4cG9ydHMsIG1ldGhvZCwge1xuICAgIGVudW1lcmFibGU6IGZhbHNlLFxuICAgIHZhbHVlOiBmdW5jdGlvbigpIHtcbiAgICAgIHRocm93IG5ldyBFcnJvcihtZXRob2QgKyAnIGlzIG5vdCBzdXBwb3J0ZWQgaW4gdXNlcmxhbmQnKTtcbiAgICB9XG4gIH0pO1xufSk7XG4iLCAibW9kdWxlLmV4cG9ydHMgPSBmdW5jdGlvbiBpc0J1ZmZlcihhcmcpIHtcbiAgcmV0dXJuIGFyZyAmJiB0eXBlb2YgYXJnID09PSAnb2JqZWN0J1xuICAgICYmIHR5cGVvZiBhcmcuY29weSA9PT0gJ2Z1bmN0aW9uJ1xuICAgICYmIHR5cGVvZiBhcmcuZmlsbCA9PT0gJ2Z1bmN0aW9uJ1xuICAgICYmIHR5cGVvZiBhcmcucmVhZFVJbnQ4ID09PSAnZnVuY3Rpb24nO1xufSIsICJpZiAodHlwZW9mIE9iamVjdC5jcmVhdGUgPT09ICdmdW5jdGlvbicpIHtcbiAgLy8gaW1wbGVtZW50YXRpb24gZnJvbSBzdGFuZGFyZCBub2RlLmpzICd1dGlsJyBtb2R1bGVcbiAgbW9kdWxlLmV4cG9ydHMgPSBmdW5jdGlvbiBpbmhlcml0cyhjdG9yLCBzdXBlckN0b3IpIHtcbiAgICBpZiAoc3VwZXJDdG9yKSB7XG4gICAgICBjdG9yLnN1cGVyXyA9IHN1cGVyQ3RvclxuICAgICAgY3Rvci5wcm90b3R5cGUgPSBPYmplY3QuY3JlYXRlKHN1cGVyQ3Rvci5wcm90b3R5cGUsIHtcbiAgICAgICAgY29uc3RydWN0b3I6IHtcbiAgICAgICAgICB2YWx1ZTogY3RvcixcbiAgICAgICAgICBlbnVtZXJhYmxlOiBmYWxzZSxcbiAgICAgICAgICB3cml0YWJsZTogdHJ1ZSxcbiAgICAgICAgICBjb25maWd1cmFibGU6IHRydWVcbiAgICAgICAgfVxuICAgICAgfSlcbiAgICB9XG4gIH07XG59IGVsc2Uge1xuICAvLyBvbGQgc2Nob29sIHNoaW0gZm9yIG9sZCBicm93c2Vyc1xuICBtb2R1bGUuZXhwb3J0cyA9IGZ1bmN0aW9uIGluaGVyaXRzKGN0b3IsIHN1cGVyQ3Rvcikge1xuICAgIGlmIChzdXBlckN0b3IpIHtcbiAgICAgIGN0b3Iuc3VwZXJfID0gc3VwZXJDdG9yXG4gICAgICB2YXIgVGVtcEN0b3IgPSBmdW5jdGlvbiAoKSB7fVxuICAgICAgVGVtcEN0b3IucHJvdG90eXBlID0gc3VwZXJDdG9yLnByb3RvdHlwZVxuICAgICAgY3Rvci5wcm90b3R5cGUgPSBuZXcgVGVtcEN0b3IoKVxuICAgICAgY3Rvci5wcm90b3R5cGUuY29uc3RydWN0b3IgPSBjdG9yXG4gICAgfVxuICB9XG59XG4iLCAiLy8gQ29weXJpZ2h0IEpveWVudCwgSW5jLiBhbmQgb3RoZXIgTm9kZSBjb250cmlidXRvcnMuXG4vL1xuLy8gUGVybWlzc2lvbiBpcyBoZXJlYnkgZ3JhbnRlZCwgZnJlZSBvZiBjaGFyZ2UsIHRvIGFueSBwZXJzb24gb2J0YWluaW5nIGFcbi8vIGNvcHkgb2YgdGhpcyBzb2Z0d2FyZSBhbmQgYXNzb2NpYXRlZCBkb2N1bWVudGF0aW9uIGZpbGVzICh0aGVcbi8vIFwiU29mdHdhcmVcIiksIHRvIGRlYWwgaW4gdGhlIFNvZnR3YXJlIHdpdGhvdXQgcmVzdHJpY3Rpb24sIGluY2x1ZGluZ1xuLy8gd2l0aG91dCBsaW1pdGF0aW9uIHRoZSByaWdodHMgdG8gdXNlLCBjb3B5LCBtb2RpZnksIG1lcmdlLCBwdWJsaXNoLFxuLy8gZGlzdHJpYnV0ZSwgc3VibGljZW5zZSwgYW5kL29yIHNlbGwgY29waWVzIG9mIHRoZSBTb2Z0d2FyZSwgYW5kIHRvIHBlcm1pdFxuLy8gcGVyc29ucyB0byB3aG9tIHRoZSBTb2Z0d2FyZSBpcyBmdXJuaXNoZWQgdG8gZG8gc28sIHN1YmplY3QgdG8gdGhlXG4vLyBmb2xsb3dpbmcgY29uZGl0aW9uczpcbi8vXG4vLyBUaGUgYWJvdmUgY29weXJpZ2h0IG5vdGljZSBhbmQgdGhpcyBwZXJtaXNzaW9uIG5vdGljZSBzaGFsbCBiZSBpbmNsdWRlZFxuLy8gaW4gYWxsIGNvcGllcyBvciBzdWJzdGFudGlhbCBwb3J0aW9ucyBvZiB0aGUgU29mdHdhcmUuXG4vL1xuLy8gVEhFIFNPRlRXQVJFIElTIFBST1ZJREVEIFwiQVMgSVNcIiwgV0lUSE9VVCBXQVJSQU5UWSBPRiBBTlkgS0lORCwgRVhQUkVTU1xuLy8gT1IgSU1QTElFRCwgSU5DTFVESU5HIEJVVCBOT1QgTElNSVRFRCBUTyBUSEUgV0FSUkFOVElFUyBPRlxuLy8gTUVSQ0hBTlRBQklMSVRZLCBGSVRORVNTIEZPUiBBIFBBUlRJQ1VMQVIgUFVSUE9TRSBBTkQgTk9OSU5GUklOR0VNRU5ULiBJTlxuLy8gTk8gRVZFTlQgU0hBTEwgVEhFIEFVVEhPUlMgT1IgQ09QWVJJR0hUIEhPTERFUlMgQkUgTElBQkxFIEZPUiBBTlkgQ0xBSU0sXG4vLyBEQU1BR0VTIE9SIE9USEVSIExJQUJJTElUWSwgV0hFVEhFUiBJTiBBTiBBQ1RJT04gT0YgQ09OVFJBQ1QsIFRPUlQgT1Jcbi8vIE9USEVSV0lTRSwgQVJJU0lORyBGUk9NLCBPVVQgT0YgT1IgSU4gQ09OTkVDVElPTiBXSVRIIFRIRSBTT0ZUV0FSRSBPUiBUSEVcbi8vIFVTRSBPUiBPVEhFUiBERUFMSU5HUyBJTiBUSEUgU09GVFdBUkUuXG5cbnZhciBnZXRPd25Qcm9wZXJ0eURlc2NyaXB0b3JzID0gT2JqZWN0LmdldE93blByb3BlcnR5RGVzY3JpcHRvcnMgfHxcbiAgZnVuY3Rpb24gZ2V0T3duUHJvcGVydHlEZXNjcmlwdG9ycyhvYmopIHtcbiAgICB2YXIga2V5cyA9IE9iamVjdC5rZXlzKG9iaik7XG4gICAgdmFyIGRlc2NyaXB0b3JzID0ge307XG4gICAgZm9yICh2YXIgaSA9IDA7IGkgPCBrZXlzLmxlbmd0aDsgaSsrKSB7XG4gICAgICBkZXNjcmlwdG9yc1trZXlzW2ldXSA9IE9iamVjdC5nZXRPd25Qcm9wZXJ0eURlc2NyaXB0b3Iob2JqLCBrZXlzW2ldKTtcbiAgICB9XG4gICAgcmV0dXJuIGRlc2NyaXB0b3JzO1xuICB9O1xuXG52YXIgZm9ybWF0UmVnRXhwID0gLyVbc2RqJV0vZztcbmV4cG9ydHMuZm9ybWF0ID0gZnVuY3Rpb24oZikge1xuICBpZiAoIWlzU3RyaW5nKGYpKSB7XG4gICAgdmFyIG9iamVjdHMgPSBbXTtcbiAgICBmb3IgKHZhciBpID0gMDsgaSA8IGFyZ3VtZW50cy5sZW5ndGg7IGkrKykge1xuICAgICAgb2JqZWN0cy5wdXNoKGluc3BlY3QoYXJndW1lbnRzW2ldKSk7XG4gICAgfVxuICAgIHJldHVybiBvYmplY3RzLmpvaW4oJyAnKTtcbiAgfVxuXG4gIHZhciBpID0gMTtcbiAgdmFyIGFyZ3MgPSBhcmd1bWVudHM7XG4gIHZhciBsZW4gPSBhcmdzLmxlbmd0aDtcbiAgdmFyIHN0ciA9IFN0cmluZyhmKS5yZXBsYWNlKGZvcm1hdFJlZ0V4cCwgZnVuY3Rpb24oeCkge1xuICAgIGlmICh4ID09PSAnJSUnKSByZXR1cm4gJyUnO1xuICAgIGlmIChpID49IGxlbikgcmV0dXJuIHg7XG4gICAgc3dpdGNoICh4KSB7XG4gICAgICBjYXNlICclcyc6IHJldHVybiBTdHJpbmcoYXJnc1tpKytdKTtcbiAgICAgIGNhc2UgJyVkJzogcmV0dXJuIE51bWJlcihhcmdzW2krK10pO1xuICAgICAgY2FzZSAnJWonOlxuICAgICAgICB0cnkge1xuICAgICAgICAgIHJldHVybiBKU09OLnN0cmluZ2lmeShhcmdzW2krK10pO1xuICAgICAgICB9IGNhdGNoIChfKSB7XG4gICAgICAgICAgcmV0dXJuICdbQ2lyY3VsYXJdJztcbiAgICAgICAgfVxuICAgICAgZGVmYXVsdDpcbiAgICAgICAgcmV0dXJuIHg7XG4gICAgfVxuICB9KTtcbiAgZm9yICh2YXIgeCA9IGFyZ3NbaV07IGkgPCBsZW47IHggPSBhcmdzWysraV0pIHtcbiAgICBpZiAoaXNOdWxsKHgpIHx8ICFpc09iamVjdCh4KSkge1xuICAgICAgc3RyICs9ICcgJyArIHg7XG4gICAgfSBlbHNlIHtcbiAgICAgIHN0ciArPSAnICcgKyBpbnNwZWN0KHgpO1xuICAgIH1cbiAgfVxuICByZXR1cm4gc3RyO1xufTtcblxuXG4vLyBNYXJrIHRoYXQgYSBtZXRob2Qgc2hvdWxkIG5vdCBiZSB1c2VkLlxuLy8gUmV0dXJucyBhIG1vZGlmaWVkIGZ1bmN0aW9uIHdoaWNoIHdhcm5zIG9uY2UgYnkgZGVmYXVsdC5cbi8vIElmIC0tbm8tZGVwcmVjYXRpb24gaXMgc2V0LCB0aGVuIGl0IGlzIGEgbm8tb3AuXG5leHBvcnRzLmRlcHJlY2F0ZSA9IGZ1bmN0aW9uKGZuLCBtc2cpIHtcbiAgaWYgKHR5cGVvZiBwcm9jZXNzICE9PSAndW5kZWZpbmVkJyAmJiBwcm9jZXNzLm5vRGVwcmVjYXRpb24gPT09IHRydWUpIHtcbiAgICByZXR1cm4gZm47XG4gIH1cblxuICAvLyBBbGxvdyBmb3IgZGVwcmVjYXRpbmcgdGhpbmdzIGluIHRoZSBwcm9jZXNzIG9mIHN0YXJ0aW5nIHVwLlxuICBpZiAodHlwZW9mIHByb2Nlc3MgPT09ICd1bmRlZmluZWQnKSB7XG4gICAgcmV0dXJuIGZ1bmN0aW9uKCkge1xuICAgICAgcmV0dXJuIGV4cG9ydHMuZGVwcmVjYXRlKGZuLCBtc2cpLmFwcGx5KHRoaXMsIGFyZ3VtZW50cyk7XG4gICAgfTtcbiAgfVxuXG4gIHZhciB3YXJuZWQgPSBmYWxzZTtcbiAgZnVuY3Rpb24gZGVwcmVjYXRlZCgpIHtcbiAgICBpZiAoIXdhcm5lZCkge1xuICAgICAgaWYgKHByb2Nlc3MudGhyb3dEZXByZWNhdGlvbikge1xuICAgICAgICB0aHJvdyBuZXcgRXJyb3IobXNnKTtcbiAgICAgIH0gZWxzZSBpZiAocHJvY2Vzcy50cmFjZURlcHJlY2F0aW9uKSB7XG4gICAgICAgIGNvbnNvbGUudHJhY2UobXNnKTtcbiAgICAgIH0gZWxzZSB7XG4gICAgICAgIGNvbnNvbGUuZXJyb3IobXNnKTtcbiAgICAgIH1cbiAgICAgIHdhcm5lZCA9IHRydWU7XG4gICAgfVxuICAgIHJldHVybiBmbi5hcHBseSh0aGlzLCBhcmd1bWVudHMpO1xuICB9XG5cbiAgcmV0dXJuIGRlcHJlY2F0ZWQ7XG59O1xuXG5cbnZhciBkZWJ1Z3MgPSB7fTtcbnZhciBkZWJ1Z0VudlJlZ2V4ID0gL14kLztcblxuaWYgKHByb2Nlc3MuZW52Lk5PREVfREVCVUcpIHtcbiAgdmFyIGRlYnVnRW52ID0gcHJvY2Vzcy5lbnYuTk9ERV9ERUJVRztcbiAgZGVidWdFbnYgPSBkZWJ1Z0Vudi5yZXBsYWNlKC9bfFxcXFx7fSgpW1xcXV4kKz8uXS9nLCAnXFxcXCQmJylcbiAgICAucmVwbGFjZSgvXFwqL2csICcuKicpXG4gICAgLnJlcGxhY2UoLywvZywgJyR8XicpXG4gICAgLnRvVXBwZXJDYXNlKCk7XG4gIGRlYnVnRW52UmVnZXggPSBuZXcgUmVnRXhwKCdeJyArIGRlYnVnRW52ICsgJyQnLCAnaScpO1xufVxuZXhwb3J0cy5kZWJ1Z2xvZyA9IGZ1bmN0aW9uKHNldCkge1xuICBzZXQgPSBzZXQudG9VcHBlckNhc2UoKTtcbiAgaWYgKCFkZWJ1Z3Nbc2V0XSkge1xuICAgIGlmIChkZWJ1Z0VudlJlZ2V4LnRlc3Qoc2V0KSkge1xuICAgICAgdmFyIHBpZCA9IHByb2Nlc3MucGlkO1xuICAgICAgZGVidWdzW3NldF0gPSBmdW5jdGlvbigpIHtcbiAgICAgICAgdmFyIG1zZyA9IGV4cG9ydHMuZm9ybWF0LmFwcGx5KGV4cG9ydHMsIGFyZ3VtZW50cyk7XG4gICAgICAgIGNvbnNvbGUuZXJyb3IoJyVzICVkOiAlcycsIHNldCwgcGlkLCBtc2cpO1xuICAgICAgfTtcbiAgICB9IGVsc2Uge1xuICAgICAgZGVidWdzW3NldF0gPSBmdW5jdGlvbigpIHt9O1xuICAgIH1cbiAgfVxuICByZXR1cm4gZGVidWdzW3NldF07XG59O1xuXG5cbi8qKlxuICogRWNob3MgdGhlIHZhbHVlIG9mIGEgdmFsdWUuIFRyeXMgdG8gcHJpbnQgdGhlIHZhbHVlIG91dFxuICogaW4gdGhlIGJlc3Qgd2F5IHBvc3NpYmxlIGdpdmVuIHRoZSBkaWZmZXJlbnQgdHlwZXMuXG4gKlxuICogQHBhcmFtIHtPYmplY3R9IG9iaiBUaGUgb2JqZWN0IHRvIHByaW50IG91dC5cbiAqIEBwYXJhbSB7T2JqZWN0fSBvcHRzIE9wdGlvbmFsIG9wdGlvbnMgb2JqZWN0IHRoYXQgYWx0ZXJzIHRoZSBvdXRwdXQuXG4gKi9cbi8qIGxlZ2FjeTogb2JqLCBzaG93SGlkZGVuLCBkZXB0aCwgY29sb3JzKi9cbmZ1bmN0aW9uIGluc3BlY3Qob2JqLCBvcHRzKSB7XG4gIC8vIGRlZmF1bHQgb3B0aW9uc1xuICB2YXIgY3R4ID0ge1xuICAgIHNlZW46IFtdLFxuICAgIHN0eWxpemU6IHN0eWxpemVOb0NvbG9yXG4gIH07XG4gIC8vIGxlZ2FjeS4uLlxuICBpZiAoYXJndW1lbnRzLmxlbmd0aCA+PSAzKSBjdHguZGVwdGggPSBhcmd1bWVudHNbMl07XG4gIGlmIChhcmd1bWVudHMubGVuZ3RoID49IDQpIGN0eC5jb2xvcnMgPSBhcmd1bWVudHNbM107XG4gIGlmIChpc0Jvb2xlYW4ob3B0cykpIHtcbiAgICAvLyBsZWdhY3kuLi5cbiAgICBjdHguc2hvd0hpZGRlbiA9IG9wdHM7XG4gIH0gZWxzZSBpZiAob3B0cykge1xuICAgIC8vIGdvdCBhbiBcIm9wdGlvbnNcIiBvYmplY3RcbiAgICBleHBvcnRzLl9leHRlbmQoY3R4LCBvcHRzKTtcbiAgfVxuICAvLyBzZXQgZGVmYXVsdCBvcHRpb25zXG4gIGlmIChpc1VuZGVmaW5lZChjdHguc2hvd0hpZGRlbikpIGN0eC5zaG93SGlkZGVuID0gZmFsc2U7XG4gIGlmIChpc1VuZGVmaW5lZChjdHguZGVwdGgpKSBjdHguZGVwdGggPSAyO1xuICBpZiAoaXNVbmRlZmluZWQoY3R4LmNvbG9ycykpIGN0eC5jb2xvcnMgPSBmYWxzZTtcbiAgaWYgKGlzVW5kZWZpbmVkKGN0eC5jdXN0b21JbnNwZWN0KSkgY3R4LmN1c3RvbUluc3BlY3QgPSB0cnVlO1xuICBpZiAoY3R4LmNvbG9ycykgY3R4LnN0eWxpemUgPSBzdHlsaXplV2l0aENvbG9yO1xuICByZXR1cm4gZm9ybWF0VmFsdWUoY3R4LCBvYmosIGN0eC5kZXB0aCk7XG59XG5leHBvcnRzLmluc3BlY3QgPSBpbnNwZWN0O1xuXG5cbi8vIGh0dHA6Ly9lbi53aWtpcGVkaWEub3JnL3dpa2kvQU5TSV9lc2NhcGVfY29kZSNncmFwaGljc1xuaW5zcGVjdC5jb2xvcnMgPSB7XG4gICdib2xkJyA6IFsxLCAyMl0sXG4gICdpdGFsaWMnIDogWzMsIDIzXSxcbiAgJ3VuZGVybGluZScgOiBbNCwgMjRdLFxuICAnaW52ZXJzZScgOiBbNywgMjddLFxuICAnd2hpdGUnIDogWzM3LCAzOV0sXG4gICdncmV5JyA6IFs5MCwgMzldLFxuICAnYmxhY2snIDogWzMwLCAzOV0sXG4gICdibHVlJyA6IFszNCwgMzldLFxuICAnY3lhbicgOiBbMzYsIDM5XSxcbiAgJ2dyZWVuJyA6IFszMiwgMzldLFxuICAnbWFnZW50YScgOiBbMzUsIDM5XSxcbiAgJ3JlZCcgOiBbMzEsIDM5XSxcbiAgJ3llbGxvdycgOiBbMzMsIDM5XVxufTtcblxuLy8gRG9uJ3QgdXNlICdibHVlJyBub3QgdmlzaWJsZSBvbiBjbWQuZXhlXG5pbnNwZWN0LnN0eWxlcyA9IHtcbiAgJ3NwZWNpYWwnOiAnY3lhbicsXG4gICdudW1iZXInOiAneWVsbG93JyxcbiAgJ2Jvb2xlYW4nOiAneWVsbG93JyxcbiAgJ3VuZGVmaW5lZCc6ICdncmV5JyxcbiAgJ251bGwnOiAnYm9sZCcsXG4gICdzdHJpbmcnOiAnZ3JlZW4nLFxuICAnZGF0ZSc6ICdtYWdlbnRhJyxcbiAgLy8gXCJuYW1lXCI6IGludGVudGlvbmFsbHkgbm90IHN0eWxpbmdcbiAgJ3JlZ2V4cCc6ICdyZWQnXG59O1xuXG5cbmZ1bmN0aW9uIHN0eWxpemVXaXRoQ29sb3Ioc3RyLCBzdHlsZVR5cGUpIHtcbiAgdmFyIHN0eWxlID0gaW5zcGVjdC5zdHlsZXNbc3R5bGVUeXBlXTtcblxuICBpZiAoc3R5bGUpIHtcbiAgICByZXR1cm4gJ1xcdTAwMWJbJyArIGluc3BlY3QuY29sb3JzW3N0eWxlXVswXSArICdtJyArIHN0ciArXG4gICAgICAgICAgICdcXHUwMDFiWycgKyBpbnNwZWN0LmNvbG9yc1tzdHlsZV1bMV0gKyAnbSc7XG4gIH0gZWxzZSB7XG4gICAgcmV0dXJuIHN0cjtcbiAgfVxufVxuXG5cbmZ1bmN0aW9uIHN0eWxpemVOb0NvbG9yKHN0ciwgc3R5bGVUeXBlKSB7XG4gIHJldHVybiBzdHI7XG59XG5cblxuZnVuY3Rpb24gYXJyYXlUb0hhc2goYXJyYXkpIHtcbiAgdmFyIGhhc2ggPSB7fTtcblxuICBhcnJheS5mb3JFYWNoKGZ1bmN0aW9uKHZhbCwgaWR4KSB7XG4gICAgaGFzaFt2YWxdID0gdHJ1ZTtcbiAgfSk7XG5cbiAgcmV0dXJuIGhhc2g7XG59XG5cblxuZnVuY3Rpb24gZm9ybWF0VmFsdWUoY3R4LCB2YWx1ZSwgcmVjdXJzZVRpbWVzKSB7XG4gIC8vIFByb3ZpZGUgYSBob29rIGZvciB1c2VyLXNwZWNpZmllZCBpbnNwZWN0IGZ1bmN0aW9ucy5cbiAgLy8gQ2hlY2sgdGhhdCB2YWx1ZSBpcyBhbiBvYmplY3Qgd2l0aCBhbiBpbnNwZWN0IGZ1bmN0aW9uIG9uIGl0XG4gIGlmIChjdHguY3VzdG9tSW5zcGVjdCAmJlxuICAgICAgdmFsdWUgJiZcbiAgICAgIGlzRnVuY3Rpb24odmFsdWUuaW5zcGVjdCkgJiZcbiAgICAgIC8vIEZpbHRlciBvdXQgdGhlIHV0aWwgbW9kdWxlLCBpdCdzIGluc3BlY3QgZnVuY3Rpb24gaXMgc3BlY2lhbFxuICAgICAgdmFsdWUuaW5zcGVjdCAhPT0gZXhwb3J0cy5pbnNwZWN0ICYmXG4gICAgICAvLyBBbHNvIGZpbHRlciBvdXQgYW55IHByb3RvdHlwZSBvYmplY3RzIHVzaW5nIHRoZSBjaXJjdWxhciBjaGVjay5cbiAgICAgICEodmFsdWUuY29uc3RydWN0b3IgJiYgdmFsdWUuY29uc3RydWN0b3IucHJvdG90eXBlID09PSB2YWx1ZSkpIHtcbiAgICB2YXIgcmV0ID0gdmFsdWUuaW5zcGVjdChyZWN1cnNlVGltZXMsIGN0eCk7XG4gICAgaWYgKCFpc1N0cmluZyhyZXQpKSB7XG4gICAgICByZXQgPSBmb3JtYXRWYWx1ZShjdHgsIHJldCwgcmVjdXJzZVRpbWVzKTtcbiAgICB9XG4gICAgcmV0dXJuIHJldDtcbiAgfVxuXG4gIC8vIFByaW1pdGl2ZSB0eXBlcyBjYW5ub3QgaGF2ZSBwcm9wZXJ0aWVzXG4gIHZhciBwcmltaXRpdmUgPSBmb3JtYXRQcmltaXRpdmUoY3R4LCB2YWx1ZSk7XG4gIGlmIChwcmltaXRpdmUpIHtcbiAgICByZXR1cm4gcHJpbWl0aXZlO1xuICB9XG5cbiAgLy8gTG9vayB1cCB0aGUga2V5cyBvZiB0aGUgb2JqZWN0LlxuICB2YXIga2V5cyA9IE9iamVjdC5rZXlzKHZhbHVlKTtcbiAgdmFyIHZpc2libGVLZXlzID0gYXJyYXlUb0hhc2goa2V5cyk7XG5cbiAgaWYgKGN0eC5zaG93SGlkZGVuKSB7XG4gICAga2V5cyA9IE9iamVjdC5nZXRPd25Qcm9wZXJ0eU5hbWVzKHZhbHVlKTtcbiAgfVxuXG4gIC8vIElFIGRvZXNuJ3QgbWFrZSBlcnJvciBmaWVsZHMgbm9uLWVudW1lcmFibGVcbiAgLy8gaHR0cDovL21zZG4ubWljcm9zb2Z0LmNvbS9lbi11cy9saWJyYXJ5L2llL2R3dzUyc2J0KHY9dnMuOTQpLmFzcHhcbiAgaWYgKGlzRXJyb3IodmFsdWUpXG4gICAgICAmJiAoa2V5cy5pbmRleE9mKCdtZXNzYWdlJykgPj0gMCB8fCBrZXlzLmluZGV4T2YoJ2Rlc2NyaXB0aW9uJykgPj0gMCkpIHtcbiAgICByZXR1cm4gZm9ybWF0RXJyb3IodmFsdWUpO1xuICB9XG5cbiAgLy8gU29tZSB0eXBlIG9mIG9iamVjdCB3aXRob3V0IHByb3BlcnRpZXMgY2FuIGJlIHNob3J0Y3V0dGVkLlxuICBpZiAoa2V5cy5sZW5ndGggPT09IDApIHtcbiAgICBpZiAoaXNGdW5jdGlvbih2YWx1ZSkpIHtcbiAgICAgIHZhciBuYW1lID0gdmFsdWUubmFtZSA/ICc6ICcgKyB2YWx1ZS5uYW1lIDogJyc7XG4gICAgICByZXR1cm4gY3R4LnN0eWxpemUoJ1tGdW5jdGlvbicgKyBuYW1lICsgJ10nLCAnc3BlY2lhbCcpO1xuICAgIH1cbiAgICBpZiAoaXNSZWdFeHAodmFsdWUpKSB7XG4gICAgICByZXR1cm4gY3R4LnN0eWxpemUoUmVnRXhwLnByb3RvdHlwZS50b1N0cmluZy5jYWxsKHZhbHVlKSwgJ3JlZ2V4cCcpO1xuICAgIH1cbiAgICBpZiAoaXNEYXRlKHZhbHVlKSkge1xuICAgICAgcmV0dXJuIGN0eC5zdHlsaXplKERhdGUucHJvdG90eXBlLnRvU3RyaW5nLmNhbGwodmFsdWUpLCAnZGF0ZScpO1xuICAgIH1cbiAgICBpZiAoaXNFcnJvcih2YWx1ZSkpIHtcbiAgICAgIHJldHVybiBmb3JtYXRFcnJvcih2YWx1ZSk7XG4gICAgfVxuICB9XG5cbiAgdmFyIGJhc2UgPSAnJywgYXJyYXkgPSBmYWxzZSwgYnJhY2VzID0gWyd7JywgJ30nXTtcblxuICAvLyBNYWtlIEFycmF5IHNheSB0aGF0IHRoZXkgYXJlIEFycmF5XG4gIGlmIChpc0FycmF5KHZhbHVlKSkge1xuICAgIGFycmF5ID0gdHJ1ZTtcbiAgICBicmFjZXMgPSBbJ1snLCAnXSddO1xuICB9XG5cbiAgLy8gTWFrZSBmdW5jdGlvbnMgc2F5IHRoYXQgdGhleSBhcmUgZnVuY3Rpb25zXG4gIGlmIChpc0Z1bmN0aW9uKHZhbHVlKSkge1xuICAgIHZhciBuID0gdmFsdWUubmFtZSA/ICc6ICcgKyB2YWx1ZS5uYW1lIDogJyc7XG4gICAgYmFzZSA9ICcgW0Z1bmN0aW9uJyArIG4gKyAnXSc7XG4gIH1cblxuICAvLyBNYWtlIFJlZ0V4cHMgc2F5IHRoYXQgdGhleSBhcmUgUmVnRXhwc1xuICBpZiAoaXNSZWdFeHAodmFsdWUpKSB7XG4gICAgYmFzZSA9ICcgJyArIFJlZ0V4cC5wcm90b3R5cGUudG9TdHJpbmcuY2FsbCh2YWx1ZSk7XG4gIH1cblxuICAvLyBNYWtlIGRhdGVzIHdpdGggcHJvcGVydGllcyBmaXJzdCBzYXkgdGhlIGRhdGVcbiAgaWYgKGlzRGF0ZSh2YWx1ZSkpIHtcbiAgICBiYXNlID0gJyAnICsgRGF0ZS5wcm90b3R5cGUudG9VVENTdHJpbmcuY2FsbCh2YWx1ZSk7XG4gIH1cblxuICAvLyBNYWtlIGVycm9yIHdpdGggbWVzc2FnZSBmaXJzdCBzYXkgdGhlIGVycm9yXG4gIGlmIChpc0Vycm9yKHZhbHVlKSkge1xuICAgIGJhc2UgPSAnICcgKyBmb3JtYXRFcnJvcih2YWx1ZSk7XG4gIH1cblxuICBpZiAoa2V5cy5sZW5ndGggPT09IDAgJiYgKCFhcnJheSB8fCB2YWx1ZS5sZW5ndGggPT0gMCkpIHtcbiAgICByZXR1cm4gYnJhY2VzWzBdICsgYmFzZSArIGJyYWNlc1sxXTtcbiAgfVxuXG4gIGlmIChyZWN1cnNlVGltZXMgPCAwKSB7XG4gICAgaWYgKGlzUmVnRXhwKHZhbHVlKSkge1xuICAgICAgcmV0dXJuIGN0eC5zdHlsaXplKFJlZ0V4cC5wcm90b3R5cGUudG9TdHJpbmcuY2FsbCh2YWx1ZSksICdyZWdleHAnKTtcbiAgICB9IGVsc2Uge1xuICAgICAgcmV0dXJuIGN0eC5zdHlsaXplKCdbT2JqZWN0XScsICdzcGVjaWFsJyk7XG4gICAgfVxuICB9XG5cbiAgY3R4LnNlZW4ucHVzaCh2YWx1ZSk7XG5cbiAgdmFyIG91dHB1dDtcbiAgaWYgKGFycmF5KSB7XG4gICAgb3V0cHV0ID0gZm9ybWF0QXJyYXkoY3R4LCB2YWx1ZSwgcmVjdXJzZVRpbWVzLCB2aXNpYmxlS2V5cywga2V5cyk7XG4gIH0gZWxzZSB7XG4gICAgb3V0cHV0ID0ga2V5cy5tYXAoZnVuY3Rpb24oa2V5KSB7XG4gICAgICByZXR1cm4gZm9ybWF0UHJvcGVydHkoY3R4LCB2YWx1ZSwgcmVjdXJzZVRpbWVzLCB2aXNpYmxlS2V5cywga2V5LCBhcnJheSk7XG4gICAgfSk7XG4gIH1cblxuICBjdHguc2Vlbi5wb3AoKTtcblxuICByZXR1cm4gcmVkdWNlVG9TaW5nbGVTdHJpbmcob3V0cHV0LCBiYXNlLCBicmFjZXMpO1xufVxuXG5cbmZ1bmN0aW9uIGZvcm1hdFByaW1pdGl2ZShjdHgsIHZhbHVlKSB7XG4gIGlmIChpc1VuZGVmaW5lZCh2YWx1ZSkpXG4gICAgcmV0dXJuIGN0eC5zdHlsaXplKCd1bmRlZmluZWQnLCAndW5kZWZpbmVkJyk7XG4gIGlmIChpc1N0cmluZyh2YWx1ZSkpIHtcbiAgICB2YXIgc2ltcGxlID0gJ1xcJycgKyBKU09OLnN0cmluZ2lmeSh2YWx1ZSkucmVwbGFjZSgvXlwifFwiJC9nLCAnJylcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIC5yZXBsYWNlKC8nL2csIFwiXFxcXCdcIilcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIC5yZXBsYWNlKC9cXFxcXCIvZywgJ1wiJykgKyAnXFwnJztcbiAgICByZXR1cm4gY3R4LnN0eWxpemUoc2ltcGxlLCAnc3RyaW5nJyk7XG4gIH1cbiAgaWYgKGlzTnVtYmVyKHZhbHVlKSlcbiAgICByZXR1cm4gY3R4LnN0eWxpemUoJycgKyB2YWx1ZSwgJ251bWJlcicpO1xuICBpZiAoaXNCb29sZWFuKHZhbHVlKSlcbiAgICByZXR1cm4gY3R4LnN0eWxpemUoJycgKyB2YWx1ZSwgJ2Jvb2xlYW4nKTtcbiAgLy8gRm9yIHNvbWUgcmVhc29uIHR5cGVvZiBudWxsIGlzIFwib2JqZWN0XCIsIHNvIHNwZWNpYWwgY2FzZSBoZXJlLlxuICBpZiAoaXNOdWxsKHZhbHVlKSlcbiAgICByZXR1cm4gY3R4LnN0eWxpemUoJ251bGwnLCAnbnVsbCcpO1xufVxuXG5cbmZ1bmN0aW9uIGZvcm1hdEVycm9yKHZhbHVlKSB7XG4gIHJldHVybiAnWycgKyBFcnJvci5wcm90b3R5cGUudG9TdHJpbmcuY2FsbCh2YWx1ZSkgKyAnXSc7XG59XG5cblxuZnVuY3Rpb24gZm9ybWF0QXJyYXkoY3R4LCB2YWx1ZSwgcmVjdXJzZVRpbWVzLCB2aXNpYmxlS2V5cywga2V5cykge1xuICB2YXIgb3V0cHV0ID0gW107XG4gIGZvciAodmFyIGkgPSAwLCBsID0gdmFsdWUubGVuZ3RoOyBpIDwgbDsgKytpKSB7XG4gICAgaWYgKGhhc093blByb3BlcnR5KHZhbHVlLCBTdHJpbmcoaSkpKSB7XG4gICAgICBvdXRwdXQucHVzaChmb3JtYXRQcm9wZXJ0eShjdHgsIHZhbHVlLCByZWN1cnNlVGltZXMsIHZpc2libGVLZXlzLFxuICAgICAgICAgIFN0cmluZyhpKSwgdHJ1ZSkpO1xuICAgIH0gZWxzZSB7XG4gICAgICBvdXRwdXQucHVzaCgnJyk7XG4gICAgfVxuICB9XG4gIGtleXMuZm9yRWFjaChmdW5jdGlvbihrZXkpIHtcbiAgICBpZiAoIWtleS5tYXRjaCgvXlxcZCskLykpIHtcbiAgICAgIG91dHB1dC5wdXNoKGZvcm1hdFByb3BlcnR5KGN0eCwgdmFsdWUsIHJlY3Vyc2VUaW1lcywgdmlzaWJsZUtleXMsXG4gICAgICAgICAga2V5LCB0cnVlKSk7XG4gICAgfVxuICB9KTtcbiAgcmV0dXJuIG91dHB1dDtcbn1cblxuXG5mdW5jdGlvbiBmb3JtYXRQcm9wZXJ0eShjdHgsIHZhbHVlLCByZWN1cnNlVGltZXMsIHZpc2libGVLZXlzLCBrZXksIGFycmF5KSB7XG4gIHZhciBuYW1lLCBzdHIsIGRlc2M7XG4gIGRlc2MgPSBPYmplY3QuZ2V0T3duUHJvcGVydHlEZXNjcmlwdG9yKHZhbHVlLCBrZXkpIHx8IHsgdmFsdWU6IHZhbHVlW2tleV0gfTtcbiAgaWYgKGRlc2MuZ2V0KSB7XG4gICAgaWYgKGRlc2Muc2V0KSB7XG4gICAgICBzdHIgPSBjdHguc3R5bGl6ZSgnW0dldHRlci9TZXR0ZXJdJywgJ3NwZWNpYWwnKTtcbiAgICB9IGVsc2Uge1xuICAgICAgc3RyID0gY3R4LnN0eWxpemUoJ1tHZXR0ZXJdJywgJ3NwZWNpYWwnKTtcbiAgICB9XG4gIH0gZWxzZSB7XG4gICAgaWYgKGRlc2Muc2V0KSB7XG4gICAgICBzdHIgPSBjdHguc3R5bGl6ZSgnW1NldHRlcl0nLCAnc3BlY2lhbCcpO1xuICAgIH1cbiAgfVxuICBpZiAoIWhhc093blByb3BlcnR5KHZpc2libGVLZXlzLCBrZXkpKSB7XG4gICAgbmFtZSA9ICdbJyArIGtleSArICddJztcbiAgfVxuICBpZiAoIXN0cikge1xuICAgIGlmIChjdHguc2Vlbi5pbmRleE9mKGRlc2MudmFsdWUpIDwgMCkge1xuICAgICAgaWYgKGlzTnVsbChyZWN1cnNlVGltZXMpKSB7XG4gICAgICAgIHN0ciA9IGZvcm1hdFZhbHVlKGN0eCwgZGVzYy52YWx1ZSwgbnVsbCk7XG4gICAgICB9IGVsc2Uge1xuICAgICAgICBzdHIgPSBmb3JtYXRWYWx1ZShjdHgsIGRlc2MudmFsdWUsIHJlY3Vyc2VUaW1lcyAtIDEpO1xuICAgICAgfVxuICAgICAgaWYgKHN0ci5pbmRleE9mKCdcXG4nKSA+IC0xKSB7XG4gICAgICAgIGlmIChhcnJheSkge1xuICAgICAgICAgIHN0ciA9IHN0ci5zcGxpdCgnXFxuJykubWFwKGZ1bmN0aW9uKGxpbmUpIHtcbiAgICAgICAgICAgIHJldHVybiAnICAnICsgbGluZTtcbiAgICAgICAgICB9KS5qb2luKCdcXG4nKS5zbGljZSgyKTtcbiAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICBzdHIgPSAnXFxuJyArIHN0ci5zcGxpdCgnXFxuJykubWFwKGZ1bmN0aW9uKGxpbmUpIHtcbiAgICAgICAgICAgIHJldHVybiAnICAgJyArIGxpbmU7XG4gICAgICAgICAgfSkuam9pbignXFxuJyk7XG4gICAgICAgIH1cbiAgICAgIH1cbiAgICB9IGVsc2Uge1xuICAgICAgc3RyID0gY3R4LnN0eWxpemUoJ1tDaXJjdWxhcl0nLCAnc3BlY2lhbCcpO1xuICAgIH1cbiAgfVxuICBpZiAoaXNVbmRlZmluZWQobmFtZSkpIHtcbiAgICBpZiAoYXJyYXkgJiYga2V5Lm1hdGNoKC9eXFxkKyQvKSkge1xuICAgICAgcmV0dXJuIHN0cjtcbiAgICB9XG4gICAgbmFtZSA9IEpTT04uc3RyaW5naWZ5KCcnICsga2V5KTtcbiAgICBpZiAobmFtZS5tYXRjaCgvXlwiKFthLXpBLVpfXVthLXpBLVpfMC05XSopXCIkLykpIHtcbiAgICAgIG5hbWUgPSBuYW1lLnNsaWNlKDEsIC0xKTtcbiAgICAgIG5hbWUgPSBjdHguc3R5bGl6ZShuYW1lLCAnbmFtZScpO1xuICAgIH0gZWxzZSB7XG4gICAgICBuYW1lID0gbmFtZS5yZXBsYWNlKC8nL2csIFwiXFxcXCdcIilcbiAgICAgICAgICAgICAgICAgLnJlcGxhY2UoL1xcXFxcIi9nLCAnXCInKVxuICAgICAgICAgICAgICAgICAucmVwbGFjZSgvKF5cInxcIiQpL2csIFwiJ1wiKTtcbiAgICAgIG5hbWUgPSBjdHguc3R5bGl6ZShuYW1lLCAnc3RyaW5nJyk7XG4gICAgfVxuICB9XG5cbiAgcmV0dXJuIG5hbWUgKyAnOiAnICsgc3RyO1xufVxuXG5cbmZ1bmN0aW9uIHJlZHVjZVRvU2luZ2xlU3RyaW5nKG91dHB1dCwgYmFzZSwgYnJhY2VzKSB7XG4gIHZhciBudW1MaW5lc0VzdCA9IDA7XG4gIHZhciBsZW5ndGggPSBvdXRwdXQucmVkdWNlKGZ1bmN0aW9uKHByZXYsIGN1cikge1xuICAgIG51bUxpbmVzRXN0Kys7XG4gICAgaWYgKGN1ci5pbmRleE9mKCdcXG4nKSA+PSAwKSBudW1MaW5lc0VzdCsrO1xuICAgIHJldHVybiBwcmV2ICsgY3VyLnJlcGxhY2UoL1xcdTAwMWJcXFtcXGRcXGQ/bS9nLCAnJykubGVuZ3RoICsgMTtcbiAgfSwgMCk7XG5cbiAgaWYgKGxlbmd0aCA+IDYwKSB7XG4gICAgcmV0dXJuIGJyYWNlc1swXSArXG4gICAgICAgICAgIChiYXNlID09PSAnJyA/ICcnIDogYmFzZSArICdcXG4gJykgK1xuICAgICAgICAgICAnICcgK1xuICAgICAgICAgICBvdXRwdXQuam9pbignLFxcbiAgJykgK1xuICAgICAgICAgICAnICcgK1xuICAgICAgICAgICBicmFjZXNbMV07XG4gIH1cblxuICByZXR1cm4gYnJhY2VzWzBdICsgYmFzZSArICcgJyArIG91dHB1dC5qb2luKCcsICcpICsgJyAnICsgYnJhY2VzWzFdO1xufVxuXG5cbi8vIE5PVEU6IFRoZXNlIHR5cGUgY2hlY2tpbmcgZnVuY3Rpb25zIGludGVudGlvbmFsbHkgZG9uJ3QgdXNlIGBpbnN0YW5jZW9mYFxuLy8gYmVjYXVzZSBpdCBpcyBmcmFnaWxlIGFuZCBjYW4gYmUgZWFzaWx5IGZha2VkIHdpdGggYE9iamVjdC5jcmVhdGUoKWAuXG5leHBvcnRzLnR5cGVzID0gcmVxdWlyZSgnLi9zdXBwb3J0L3R5cGVzJyk7XG5cbmZ1bmN0aW9uIGlzQXJyYXkoYXIpIHtcbiAgcmV0dXJuIEFycmF5LmlzQXJyYXkoYXIpO1xufVxuZXhwb3J0cy5pc0FycmF5ID0gaXNBcnJheTtcblxuZnVuY3Rpb24gaXNCb29sZWFuKGFyZykge1xuICByZXR1cm4gdHlwZW9mIGFyZyA9PT0gJ2Jvb2xlYW4nO1xufVxuZXhwb3J0cy5pc0Jvb2xlYW4gPSBpc0Jvb2xlYW47XG5cbmZ1bmN0aW9uIGlzTnVsbChhcmcpIHtcbiAgcmV0dXJuIGFyZyA9PT0gbnVsbDtcbn1cbmV4cG9ydHMuaXNOdWxsID0gaXNOdWxsO1xuXG5mdW5jdGlvbiBpc051bGxPclVuZGVmaW5lZChhcmcpIHtcbiAgcmV0dXJuIGFyZyA9PSBudWxsO1xufVxuZXhwb3J0cy5pc051bGxPclVuZGVmaW5lZCA9IGlzTnVsbE9yVW5kZWZpbmVkO1xuXG5mdW5jdGlvbiBpc051bWJlcihhcmcpIHtcbiAgcmV0dXJuIHR5cGVvZiBhcmcgPT09ICdudW1iZXInO1xufVxuZXhwb3J0cy5pc051bWJlciA9IGlzTnVtYmVyO1xuXG5mdW5jdGlvbiBpc1N0cmluZyhhcmcpIHtcbiAgcmV0dXJuIHR5cGVvZiBhcmcgPT09ICdzdHJpbmcnO1xufVxuZXhwb3J0cy5pc1N0cmluZyA9IGlzU3RyaW5nO1xuXG5mdW5jdGlvbiBpc1N5bWJvbChhcmcpIHtcbiAgcmV0dXJuIHR5cGVvZiBhcmcgPT09ICdzeW1ib2wnO1xufVxuZXhwb3J0cy5pc1N5bWJvbCA9IGlzU3ltYm9sO1xuXG5mdW5jdGlvbiBpc1VuZGVmaW5lZChhcmcpIHtcbiAgcmV0dXJuIGFyZyA9PT0gdm9pZCAwO1xufVxuZXhwb3J0cy5pc1VuZGVmaW5lZCA9IGlzVW5kZWZpbmVkO1xuXG5mdW5jdGlvbiBpc1JlZ0V4cChyZSkge1xuICByZXR1cm4gaXNPYmplY3QocmUpICYmIG9iamVjdFRvU3RyaW5nKHJlKSA9PT0gJ1tvYmplY3QgUmVnRXhwXSc7XG59XG5leHBvcnRzLmlzUmVnRXhwID0gaXNSZWdFeHA7XG5leHBvcnRzLnR5cGVzLmlzUmVnRXhwID0gaXNSZWdFeHA7XG5cbmZ1bmN0aW9uIGlzT2JqZWN0KGFyZykge1xuICByZXR1cm4gdHlwZW9mIGFyZyA9PT0gJ29iamVjdCcgJiYgYXJnICE9PSBudWxsO1xufVxuZXhwb3J0cy5pc09iamVjdCA9IGlzT2JqZWN0O1xuXG5mdW5jdGlvbiBpc0RhdGUoZCkge1xuICByZXR1cm4gaXNPYmplY3QoZCkgJiYgb2JqZWN0VG9TdHJpbmcoZCkgPT09ICdbb2JqZWN0IERhdGVdJztcbn1cbmV4cG9ydHMuaXNEYXRlID0gaXNEYXRlO1xuZXhwb3J0cy50eXBlcy5pc0RhdGUgPSBpc0RhdGU7XG5cbmZ1bmN0aW9uIGlzRXJyb3IoZSkge1xuICByZXR1cm4gaXNPYmplY3QoZSkgJiZcbiAgICAgIChvYmplY3RUb1N0cmluZyhlKSA9PT0gJ1tvYmplY3QgRXJyb3JdJyB8fCBlIGluc3RhbmNlb2YgRXJyb3IpO1xufVxuZXhwb3J0cy5pc0Vycm9yID0gaXNFcnJvcjtcbmV4cG9ydHMudHlwZXMuaXNOYXRpdmVFcnJvciA9IGlzRXJyb3I7XG5cbmZ1bmN0aW9uIGlzRnVuY3Rpb24oYXJnKSB7XG4gIHJldHVybiB0eXBlb2YgYXJnID09PSAnZnVuY3Rpb24nO1xufVxuZXhwb3J0cy5pc0Z1bmN0aW9uID0gaXNGdW5jdGlvbjtcblxuZnVuY3Rpb24gaXNQcmltaXRpdmUoYXJnKSB7XG4gIHJldHVybiBhcmcgPT09IG51bGwgfHxcbiAgICAgICAgIHR5cGVvZiBhcmcgPT09ICdib29sZWFuJyB8fFxuICAgICAgICAgdHlwZW9mIGFyZyA9PT0gJ251bWJlcicgfHxcbiAgICAgICAgIHR5cGVvZiBhcmcgPT09ICdzdHJpbmcnIHx8XG4gICAgICAgICB0eXBlb2YgYXJnID09PSAnc3ltYm9sJyB8fCAgLy8gRVM2IHN5bWJvbFxuICAgICAgICAgdHlwZW9mIGFyZyA9PT0gJ3VuZGVmaW5lZCc7XG59XG5leHBvcnRzLmlzUHJpbWl0aXZlID0gaXNQcmltaXRpdmU7XG5cbmV4cG9ydHMuaXNCdWZmZXIgPSByZXF1aXJlKCcuL3N1cHBvcnQvaXNCdWZmZXInKTtcblxuZnVuY3Rpb24gb2JqZWN0VG9TdHJpbmcobykge1xuICByZXR1cm4gT2JqZWN0LnByb3RvdHlwZS50b1N0cmluZy5jYWxsKG8pO1xufVxuXG5cbmZ1bmN0aW9uIHBhZChuKSB7XG4gIHJldHVybiBuIDwgMTAgPyAnMCcgKyBuLnRvU3RyaW5nKDEwKSA6IG4udG9TdHJpbmcoMTApO1xufVxuXG5cbnZhciBtb250aHMgPSBbJ0phbicsICdGZWInLCAnTWFyJywgJ0FwcicsICdNYXknLCAnSnVuJywgJ0p1bCcsICdBdWcnLCAnU2VwJyxcbiAgICAgICAgICAgICAgJ09jdCcsICdOb3YnLCAnRGVjJ107XG5cbi8vIDI2IEZlYiAxNjoxOTozNFxuZnVuY3Rpb24gdGltZXN0YW1wKCkge1xuICB2YXIgZCA9IG5ldyBEYXRlKCk7XG4gIHZhciB0aW1lID0gW3BhZChkLmdldEhvdXJzKCkpLFxuICAgICAgICAgICAgICBwYWQoZC5nZXRNaW51dGVzKCkpLFxuICAgICAgICAgICAgICBwYWQoZC5nZXRTZWNvbmRzKCkpXS5qb2luKCc6Jyk7XG4gIHJldHVybiBbZC5nZXREYXRlKCksIG1vbnRoc1tkLmdldE1vbnRoKCldLCB0aW1lXS5qb2luKCcgJyk7XG59XG5cblxuLy8gbG9nIGlzIGp1c3QgYSB0aGluIHdyYXBwZXIgdG8gY29uc29sZS5sb2cgdGhhdCBwcmVwZW5kcyBhIHRpbWVzdGFtcFxuZXhwb3J0cy5sb2cgPSBmdW5jdGlvbigpIHtcbiAgY29uc29sZS5sb2coJyVzIC0gJXMnLCB0aW1lc3RhbXAoKSwgZXhwb3J0cy5mb3JtYXQuYXBwbHkoZXhwb3J0cywgYXJndW1lbnRzKSk7XG59O1xuXG5cbi8qKlxuICogSW5oZXJpdCB0aGUgcHJvdG90eXBlIG1ldGhvZHMgZnJvbSBvbmUgY29uc3RydWN0b3IgaW50byBhbm90aGVyLlxuICpcbiAqIFRoZSBGdW5jdGlvbi5wcm90b3R5cGUuaW5oZXJpdHMgZnJvbSBsYW5nLmpzIHJld3JpdHRlbiBhcyBhIHN0YW5kYWxvbmVcbiAqIGZ1bmN0aW9uIChub3Qgb24gRnVuY3Rpb24ucHJvdG90eXBlKS4gTk9URTogSWYgdGhpcyBmaWxlIGlzIHRvIGJlIGxvYWRlZFxuICogZHVyaW5nIGJvb3RzdHJhcHBpbmcgdGhpcyBmdW5jdGlvbiBuZWVkcyB0byBiZSByZXdyaXR0ZW4gdXNpbmcgc29tZSBuYXRpdmVcbiAqIGZ1bmN0aW9ucyBhcyBwcm90b3R5cGUgc2V0dXAgdXNpbmcgbm9ybWFsIEphdmFTY3JpcHQgZG9lcyBub3Qgd29yayBhc1xuICogZXhwZWN0ZWQgZHVyaW5nIGJvb3RzdHJhcHBpbmcgKHNlZSBtaXJyb3IuanMgaW4gcjExNDkwMykuXG4gKlxuICogQHBhcmFtIHtmdW5jdGlvbn0gY3RvciBDb25zdHJ1Y3RvciBmdW5jdGlvbiB3aGljaCBuZWVkcyB0byBpbmhlcml0IHRoZVxuICogICAgIHByb3RvdHlwZS5cbiAqIEBwYXJhbSB7ZnVuY3Rpb259IHN1cGVyQ3RvciBDb25zdHJ1Y3RvciBmdW5jdGlvbiB0byBpbmhlcml0IHByb3RvdHlwZSBmcm9tLlxuICovXG5leHBvcnRzLmluaGVyaXRzID0gcmVxdWlyZSgnaW5oZXJpdHMnKTtcblxuZXhwb3J0cy5fZXh0ZW5kID0gZnVuY3Rpb24ob3JpZ2luLCBhZGQpIHtcbiAgLy8gRG9uJ3QgZG8gYW55dGhpbmcgaWYgYWRkIGlzbid0IGFuIG9iamVjdFxuICBpZiAoIWFkZCB8fCAhaXNPYmplY3QoYWRkKSkgcmV0dXJuIG9yaWdpbjtcblxuICB2YXIga2V5cyA9IE9iamVjdC5rZXlzKGFkZCk7XG4gIHZhciBpID0ga2V5cy5sZW5ndGg7XG4gIHdoaWxlIChpLS0pIHtcbiAgICBvcmlnaW5ba2V5c1tpXV0gPSBhZGRba2V5c1tpXV07XG4gIH1cbiAgcmV0dXJuIG9yaWdpbjtcbn07XG5cbmZ1bmN0aW9uIGhhc093blByb3BlcnR5KG9iaiwgcHJvcCkge1xuICByZXR1cm4gT2JqZWN0LnByb3RvdHlwZS5oYXNPd25Qcm9wZXJ0eS5jYWxsKG9iaiwgcHJvcCk7XG59XG5cbnZhciBrQ3VzdG9tUHJvbWlzaWZpZWRTeW1ib2wgPSB0eXBlb2YgU3ltYm9sICE9PSAndW5kZWZpbmVkJyA/IFN5bWJvbCgndXRpbC5wcm9taXNpZnkuY3VzdG9tJykgOiB1bmRlZmluZWQ7XG5cbmV4cG9ydHMucHJvbWlzaWZ5ID0gZnVuY3Rpb24gcHJvbWlzaWZ5KG9yaWdpbmFsKSB7XG4gIGlmICh0eXBlb2Ygb3JpZ2luYWwgIT09ICdmdW5jdGlvbicpXG4gICAgdGhyb3cgbmV3IFR5cGVFcnJvcignVGhlIFwib3JpZ2luYWxcIiBhcmd1bWVudCBtdXN0IGJlIG9mIHR5cGUgRnVuY3Rpb24nKTtcblxuICBpZiAoa0N1c3RvbVByb21pc2lmaWVkU3ltYm9sICYmIG9yaWdpbmFsW2tDdXN0b21Qcm9taXNpZmllZFN5bWJvbF0pIHtcbiAgICB2YXIgZm4gPSBvcmlnaW5hbFtrQ3VzdG9tUHJvbWlzaWZpZWRTeW1ib2xdO1xuICAgIGlmICh0eXBlb2YgZm4gIT09ICdmdW5jdGlvbicpIHtcbiAgICAgIHRocm93IG5ldyBUeXBlRXJyb3IoJ1RoZSBcInV0aWwucHJvbWlzaWZ5LmN1c3RvbVwiIGFyZ3VtZW50IG11c3QgYmUgb2YgdHlwZSBGdW5jdGlvbicpO1xuICAgIH1cbiAgICBPYmplY3QuZGVmaW5lUHJvcGVydHkoZm4sIGtDdXN0b21Qcm9taXNpZmllZFN5bWJvbCwge1xuICAgICAgdmFsdWU6IGZuLCBlbnVtZXJhYmxlOiBmYWxzZSwgd3JpdGFibGU6IGZhbHNlLCBjb25maWd1cmFibGU6IHRydWVcbiAgICB9KTtcbiAgICByZXR1cm4gZm47XG4gIH1cblxuICBmdW5jdGlvbiBmbigpIHtcbiAgICB2YXIgcHJvbWlzZVJlc29sdmUsIHByb21pc2VSZWplY3Q7XG4gICAgdmFyIHByb21pc2UgPSBuZXcgUHJvbWlzZShmdW5jdGlvbiAocmVzb2x2ZSwgcmVqZWN0KSB7XG4gICAgICBwcm9taXNlUmVzb2x2ZSA9IHJlc29sdmU7XG4gICAgICBwcm9taXNlUmVqZWN0ID0gcmVqZWN0O1xuICAgIH0pO1xuXG4gICAgdmFyIGFyZ3MgPSBbXTtcbiAgICBmb3IgKHZhciBpID0gMDsgaSA8IGFyZ3VtZW50cy5sZW5ndGg7IGkrKykge1xuICAgICAgYXJncy5wdXNoKGFyZ3VtZW50c1tpXSk7XG4gICAgfVxuICAgIGFyZ3MucHVzaChmdW5jdGlvbiAoZXJyLCB2YWx1ZSkge1xuICAgICAgaWYgKGVycikge1xuICAgICAgICBwcm9taXNlUmVqZWN0KGVycik7XG4gICAgICB9IGVsc2Uge1xuICAgICAgICBwcm9taXNlUmVzb2x2ZSh2YWx1ZSk7XG4gICAgICB9XG4gICAgfSk7XG5cbiAgICB0cnkge1xuICAgICAgb3JpZ2luYWwuYXBwbHkodGhpcywgYXJncyk7XG4gICAgfSBjYXRjaCAoZXJyKSB7XG4gICAgICBwcm9taXNlUmVqZWN0KGVycik7XG4gICAgfVxuXG4gICAgcmV0dXJuIHByb21pc2U7XG4gIH1cblxuICBPYmplY3Quc2V0UHJvdG90eXBlT2YoZm4sIE9iamVjdC5nZXRQcm90b3R5cGVPZihvcmlnaW5hbCkpO1xuXG4gIGlmIChrQ3VzdG9tUHJvbWlzaWZpZWRTeW1ib2wpIE9iamVjdC5kZWZpbmVQcm9wZXJ0eShmbiwga0N1c3RvbVByb21pc2lmaWVkU3ltYm9sLCB7XG4gICAgdmFsdWU6IGZuLCBlbnVtZXJhYmxlOiBmYWxzZSwgd3JpdGFibGU6IGZhbHNlLCBjb25maWd1cmFibGU6IHRydWVcbiAgfSk7XG4gIHJldHVybiBPYmplY3QuZGVmaW5lUHJvcGVydGllcyhcbiAgICBmbixcbiAgICBnZXRPd25Qcm9wZXJ0eURlc2NyaXB0b3JzKG9yaWdpbmFsKVxuICApO1xufVxuXG5leHBvcnRzLnByb21pc2lmeS5jdXN0b20gPSBrQ3VzdG9tUHJvbWlzaWZpZWRTeW1ib2xcblxuZnVuY3Rpb24gY2FsbGJhY2tpZnlPblJlamVjdGVkKHJlYXNvbiwgY2IpIHtcbiAgLy8gYCFyZWFzb25gIGd1YXJkIGluc3BpcmVkIGJ5IGJsdWViaXJkIChSZWY6IGh0dHBzOi8vZ29vLmdsL3Q1SVM2TSkuXG4gIC8vIEJlY2F1c2UgYG51bGxgIGlzIGEgc3BlY2lhbCBlcnJvciB2YWx1ZSBpbiBjYWxsYmFja3Mgd2hpY2ggbWVhbnMgXCJubyBlcnJvclxuICAvLyBvY2N1cnJlZFwiLCB3ZSBlcnJvci13cmFwIHNvIHRoZSBjYWxsYmFjayBjb25zdW1lciBjYW4gZGlzdGluZ3Vpc2ggYmV0d2VlblxuICAvLyBcInRoZSBwcm9taXNlIHJlamVjdGVkIHdpdGggbnVsbFwiIG9yIFwidGhlIHByb21pc2UgZnVsZmlsbGVkIHdpdGggdW5kZWZpbmVkXCIuXG4gIGlmICghcmVhc29uKSB7XG4gICAgdmFyIG5ld1JlYXNvbiA9IG5ldyBFcnJvcignUHJvbWlzZSB3YXMgcmVqZWN0ZWQgd2l0aCBhIGZhbHN5IHZhbHVlJyk7XG4gICAgbmV3UmVhc29uLnJlYXNvbiA9IHJlYXNvbjtcbiAgICByZWFzb24gPSBuZXdSZWFzb247XG4gIH1cbiAgcmV0dXJuIGNiKHJlYXNvbik7XG59XG5cbmZ1bmN0aW9uIGNhbGxiYWNraWZ5KG9yaWdpbmFsKSB7XG4gIGlmICh0eXBlb2Ygb3JpZ2luYWwgIT09ICdmdW5jdGlvbicpIHtcbiAgICB0aHJvdyBuZXcgVHlwZUVycm9yKCdUaGUgXCJvcmlnaW5hbFwiIGFyZ3VtZW50IG11c3QgYmUgb2YgdHlwZSBGdW5jdGlvbicpO1xuICB9XG5cbiAgLy8gV2UgRE8gTk9UIHJldHVybiB0aGUgcHJvbWlzZSBhcyBpdCBnaXZlcyB0aGUgdXNlciBhIGZhbHNlIHNlbnNlIHRoYXRcbiAgLy8gdGhlIHByb21pc2UgaXMgYWN0dWFsbHkgc29tZWhvdyByZWxhdGVkIHRvIHRoZSBjYWxsYmFjaydzIGV4ZWN1dGlvblxuICAvLyBhbmQgdGhhdCB0aGUgY2FsbGJhY2sgdGhyb3dpbmcgd2lsbCByZWplY3QgdGhlIHByb21pc2UuXG4gIGZ1bmN0aW9uIGNhbGxiYWNraWZpZWQoKSB7XG4gICAgdmFyIGFyZ3MgPSBbXTtcbiAgICBmb3IgKHZhciBpID0gMDsgaSA8IGFyZ3VtZW50cy5sZW5ndGg7IGkrKykge1xuICAgICAgYXJncy5wdXNoKGFyZ3VtZW50c1tpXSk7XG4gICAgfVxuXG4gICAgdmFyIG1heWJlQ2IgPSBhcmdzLnBvcCgpO1xuICAgIGlmICh0eXBlb2YgbWF5YmVDYiAhPT0gJ2Z1bmN0aW9uJykge1xuICAgICAgdGhyb3cgbmV3IFR5cGVFcnJvcignVGhlIGxhc3QgYXJndW1lbnQgbXVzdCBiZSBvZiB0eXBlIEZ1bmN0aW9uJyk7XG4gICAgfVxuICAgIHZhciBzZWxmID0gdGhpcztcbiAgICB2YXIgY2IgPSBmdW5jdGlvbigpIHtcbiAgICAgIHJldHVybiBtYXliZUNiLmFwcGx5KHNlbGYsIGFyZ3VtZW50cyk7XG4gICAgfTtcbiAgICAvLyBJbiB0cnVlIG5vZGUgc3R5bGUgd2UgcHJvY2VzcyB0aGUgY2FsbGJhY2sgb24gYG5leHRUaWNrYCB3aXRoIGFsbCB0aGVcbiAgICAvLyBpbXBsaWNhdGlvbnMgKHN0YWNrLCBgdW5jYXVnaHRFeGNlcHRpb25gLCBgYXN5bmNfaG9va3NgKVxuICAgIG9yaWdpbmFsLmFwcGx5KHRoaXMsIGFyZ3MpXG4gICAgICAudGhlbihmdW5jdGlvbihyZXQpIHsgcHJvY2Vzcy5uZXh0VGljayhjYi5iaW5kKG51bGwsIG51bGwsIHJldCkpIH0sXG4gICAgICAgICAgICBmdW5jdGlvbihyZWopIHsgcHJvY2Vzcy5uZXh0VGljayhjYWxsYmFja2lmeU9uUmVqZWN0ZWQuYmluZChudWxsLCByZWosIGNiKSkgfSk7XG4gIH1cblxuICBPYmplY3Quc2V0UHJvdG90eXBlT2YoY2FsbGJhY2tpZmllZCwgT2JqZWN0LmdldFByb3RvdHlwZU9mKG9yaWdpbmFsKSk7XG4gIE9iamVjdC5kZWZpbmVQcm9wZXJ0aWVzKGNhbGxiYWNraWZpZWQsXG4gICAgICAgICAgICAgICAgICAgICAgICAgIGdldE93blByb3BlcnR5RGVzY3JpcHRvcnMob3JpZ2luYWwpKTtcbiAgcmV0dXJuIGNhbGxiYWNraWZpZWQ7XG59XG5leHBvcnRzLmNhbGxiYWNraWZ5ID0gY2FsbGJhY2tpZnk7XG4iLCAiLy8gQ3VycmVudGx5IGluIHN5bmMgd2l0aCBOb2RlLmpzIGxpYi9pbnRlcm5hbC9lcnJvcnMuanNcbi8vIGh0dHBzOi8vZ2l0aHViLmNvbS9ub2RlanMvbm9kZS9jb21taXQvM2IwNDQ5NjJjNDhmZTMxMzkwNTg3N2E5NmI1ZDA4OTRhNTQwNGY2ZlxuXG4vKiBlc2xpbnQgbm9kZS1jb3JlL2RvY3VtZW50ZWQtZXJyb3JzOiBcImVycm9yXCIgKi9cbi8qIGVzbGludCBub2RlLWNvcmUvYWxwaGFiZXRpemUtZXJyb3JzOiBcImVycm9yXCIgKi9cbi8qIGVzbGludCBub2RlLWNvcmUvcHJlZmVyLXV0aWwtZm9ybWF0LWVycm9yczogXCJlcnJvclwiICovXG5cbid1c2Ugc3RyaWN0JztcblxuLy8gVGhlIHdob2xlIHBvaW50IGJlaGluZCB0aGlzIGludGVybmFsIG1vZHVsZSBpcyB0byBhbGxvdyBOb2RlLmpzIHRvIG5vXG4vLyBsb25nZXIgYmUgZm9yY2VkIHRvIHRyZWF0IGV2ZXJ5IGVycm9yIG1lc3NhZ2UgY2hhbmdlIGFzIGEgc2VtdmVyLW1ham9yXG4vLyBjaGFuZ2UuIFRoZSBOb2RlRXJyb3IgY2xhc3NlcyBoZXJlIGFsbCBleHBvc2UgYSBgY29kZWAgcHJvcGVydHkgd2hvc2Vcbi8vIHZhbHVlIHN0YXRpY2FsbHkgYW5kIHBlcm1hbmVudGx5IGlkZW50aWZpZXMgdGhlIGVycm9yLiBXaGlsZSB0aGUgZXJyb3Jcbi8vIG1lc3NhZ2UgbWF5IGNoYW5nZSwgdGhlIGNvZGUgc2hvdWxkIG5vdC5cbmZ1bmN0aW9uIF90eXBlb2YobykgeyBcIkBiYWJlbC9oZWxwZXJzIC0gdHlwZW9mXCI7IHJldHVybiBfdHlwZW9mID0gXCJmdW5jdGlvblwiID09IHR5cGVvZiBTeW1ib2wgJiYgXCJzeW1ib2xcIiA9PSB0eXBlb2YgU3ltYm9sLml0ZXJhdG9yID8gZnVuY3Rpb24gKG8pIHsgcmV0dXJuIHR5cGVvZiBvOyB9IDogZnVuY3Rpb24gKG8pIHsgcmV0dXJuIG8gJiYgXCJmdW5jdGlvblwiID09IHR5cGVvZiBTeW1ib2wgJiYgby5jb25zdHJ1Y3RvciA9PT0gU3ltYm9sICYmIG8gIT09IFN5bWJvbC5wcm90b3R5cGUgPyBcInN5bWJvbFwiIDogdHlwZW9mIG87IH0sIF90eXBlb2Yobyk7IH1cbmZ1bmN0aW9uIF9kZWZpbmVQcm9wZXJ0aWVzKHRhcmdldCwgcHJvcHMpIHsgZm9yICh2YXIgaSA9IDA7IGkgPCBwcm9wcy5sZW5ndGg7IGkrKykgeyB2YXIgZGVzY3JpcHRvciA9IHByb3BzW2ldOyBkZXNjcmlwdG9yLmVudW1lcmFibGUgPSBkZXNjcmlwdG9yLmVudW1lcmFibGUgfHwgZmFsc2U7IGRlc2NyaXB0b3IuY29uZmlndXJhYmxlID0gdHJ1ZTsgaWYgKFwidmFsdWVcIiBpbiBkZXNjcmlwdG9yKSBkZXNjcmlwdG9yLndyaXRhYmxlID0gdHJ1ZTsgT2JqZWN0LmRlZmluZVByb3BlcnR5KHRhcmdldCwgX3RvUHJvcGVydHlLZXkoZGVzY3JpcHRvci5rZXkpLCBkZXNjcmlwdG9yKTsgfSB9XG5mdW5jdGlvbiBfY3JlYXRlQ2xhc3MoQ29uc3RydWN0b3IsIHByb3RvUHJvcHMsIHN0YXRpY1Byb3BzKSB7IGlmIChwcm90b1Byb3BzKSBfZGVmaW5lUHJvcGVydGllcyhDb25zdHJ1Y3Rvci5wcm90b3R5cGUsIHByb3RvUHJvcHMpOyBpZiAoc3RhdGljUHJvcHMpIF9kZWZpbmVQcm9wZXJ0aWVzKENvbnN0cnVjdG9yLCBzdGF0aWNQcm9wcyk7IE9iamVjdC5kZWZpbmVQcm9wZXJ0eShDb25zdHJ1Y3RvciwgXCJwcm90b3R5cGVcIiwgeyB3cml0YWJsZTogZmFsc2UgfSk7IHJldHVybiBDb25zdHJ1Y3RvcjsgfVxuZnVuY3Rpb24gX3RvUHJvcGVydHlLZXkoYXJnKSB7IHZhciBrZXkgPSBfdG9QcmltaXRpdmUoYXJnLCBcInN0cmluZ1wiKTsgcmV0dXJuIF90eXBlb2Yoa2V5KSA9PT0gXCJzeW1ib2xcIiA/IGtleSA6IFN0cmluZyhrZXkpOyB9XG5mdW5jdGlvbiBfdG9QcmltaXRpdmUoaW5wdXQsIGhpbnQpIHsgaWYgKF90eXBlb2YoaW5wdXQpICE9PSBcIm9iamVjdFwiIHx8IGlucHV0ID09PSBudWxsKSByZXR1cm4gaW5wdXQ7IHZhciBwcmltID0gaW5wdXRbU3ltYm9sLnRvUHJpbWl0aXZlXTsgaWYgKHByaW0gIT09IHVuZGVmaW5lZCkgeyB2YXIgcmVzID0gcHJpbS5jYWxsKGlucHV0LCBoaW50IHx8IFwiZGVmYXVsdFwiKTsgaWYgKF90eXBlb2YocmVzKSAhPT0gXCJvYmplY3RcIikgcmV0dXJuIHJlczsgdGhyb3cgbmV3IFR5cGVFcnJvcihcIkBAdG9QcmltaXRpdmUgbXVzdCByZXR1cm4gYSBwcmltaXRpdmUgdmFsdWUuXCIpOyB9IHJldHVybiAoaGludCA9PT0gXCJzdHJpbmdcIiA/IFN0cmluZyA6IE51bWJlcikoaW5wdXQpOyB9XG5mdW5jdGlvbiBfY2xhc3NDYWxsQ2hlY2soaW5zdGFuY2UsIENvbnN0cnVjdG9yKSB7IGlmICghKGluc3RhbmNlIGluc3RhbmNlb2YgQ29uc3RydWN0b3IpKSB7IHRocm93IG5ldyBUeXBlRXJyb3IoXCJDYW5ub3QgY2FsbCBhIGNsYXNzIGFzIGEgZnVuY3Rpb25cIik7IH0gfVxuZnVuY3Rpb24gX2luaGVyaXRzKHN1YkNsYXNzLCBzdXBlckNsYXNzKSB7IGlmICh0eXBlb2Ygc3VwZXJDbGFzcyAhPT0gXCJmdW5jdGlvblwiICYmIHN1cGVyQ2xhc3MgIT09IG51bGwpIHsgdGhyb3cgbmV3IFR5cGVFcnJvcihcIlN1cGVyIGV4cHJlc3Npb24gbXVzdCBlaXRoZXIgYmUgbnVsbCBvciBhIGZ1bmN0aW9uXCIpOyB9IHN1YkNsYXNzLnByb3RvdHlwZSA9IE9iamVjdC5jcmVhdGUoc3VwZXJDbGFzcyAmJiBzdXBlckNsYXNzLnByb3RvdHlwZSwgeyBjb25zdHJ1Y3RvcjogeyB2YWx1ZTogc3ViQ2xhc3MsIHdyaXRhYmxlOiB0cnVlLCBjb25maWd1cmFibGU6IHRydWUgfSB9KTsgT2JqZWN0LmRlZmluZVByb3BlcnR5KHN1YkNsYXNzLCBcInByb3RvdHlwZVwiLCB7IHdyaXRhYmxlOiBmYWxzZSB9KTsgaWYgKHN1cGVyQ2xhc3MpIF9zZXRQcm90b3R5cGVPZihzdWJDbGFzcywgc3VwZXJDbGFzcyk7IH1cbmZ1bmN0aW9uIF9zZXRQcm90b3R5cGVPZihvLCBwKSB7IF9zZXRQcm90b3R5cGVPZiA9IE9iamVjdC5zZXRQcm90b3R5cGVPZiA/IE9iamVjdC5zZXRQcm90b3R5cGVPZi5iaW5kKCkgOiBmdW5jdGlvbiBfc2V0UHJvdG90eXBlT2YobywgcCkgeyBvLl9fcHJvdG9fXyA9IHA7IHJldHVybiBvOyB9OyByZXR1cm4gX3NldFByb3RvdHlwZU9mKG8sIHApOyB9XG5mdW5jdGlvbiBfY3JlYXRlU3VwZXIoRGVyaXZlZCkgeyB2YXIgaGFzTmF0aXZlUmVmbGVjdENvbnN0cnVjdCA9IF9pc05hdGl2ZVJlZmxlY3RDb25zdHJ1Y3QoKTsgcmV0dXJuIGZ1bmN0aW9uIF9jcmVhdGVTdXBlckludGVybmFsKCkgeyB2YXIgU3VwZXIgPSBfZ2V0UHJvdG90eXBlT2YoRGVyaXZlZCksIHJlc3VsdDsgaWYgKGhhc05hdGl2ZVJlZmxlY3RDb25zdHJ1Y3QpIHsgdmFyIE5ld1RhcmdldCA9IF9nZXRQcm90b3R5cGVPZih0aGlzKS5jb25zdHJ1Y3RvcjsgcmVzdWx0ID0gUmVmbGVjdC5jb25zdHJ1Y3QoU3VwZXIsIGFyZ3VtZW50cywgTmV3VGFyZ2V0KTsgfSBlbHNlIHsgcmVzdWx0ID0gU3VwZXIuYXBwbHkodGhpcywgYXJndW1lbnRzKTsgfSByZXR1cm4gX3Bvc3NpYmxlQ29uc3RydWN0b3JSZXR1cm4odGhpcywgcmVzdWx0KTsgfTsgfVxuZnVuY3Rpb24gX3Bvc3NpYmxlQ29uc3RydWN0b3JSZXR1cm4oc2VsZiwgY2FsbCkgeyBpZiAoY2FsbCAmJiAoX3R5cGVvZihjYWxsKSA9PT0gXCJvYmplY3RcIiB8fCB0eXBlb2YgY2FsbCA9PT0gXCJmdW5jdGlvblwiKSkgeyByZXR1cm4gY2FsbDsgfSBlbHNlIGlmIChjYWxsICE9PSB2b2lkIDApIHsgdGhyb3cgbmV3IFR5cGVFcnJvcihcIkRlcml2ZWQgY29uc3RydWN0b3JzIG1heSBvbmx5IHJldHVybiBvYmplY3Qgb3IgdW5kZWZpbmVkXCIpOyB9IHJldHVybiBfYXNzZXJ0VGhpc0luaXRpYWxpemVkKHNlbGYpOyB9XG5mdW5jdGlvbiBfYXNzZXJ0VGhpc0luaXRpYWxpemVkKHNlbGYpIHsgaWYgKHNlbGYgPT09IHZvaWQgMCkgeyB0aHJvdyBuZXcgUmVmZXJlbmNlRXJyb3IoXCJ0aGlzIGhhc24ndCBiZWVuIGluaXRpYWxpc2VkIC0gc3VwZXIoKSBoYXNuJ3QgYmVlbiBjYWxsZWRcIik7IH0gcmV0dXJuIHNlbGY7IH1cbmZ1bmN0aW9uIF9pc05hdGl2ZVJlZmxlY3RDb25zdHJ1Y3QoKSB7IGlmICh0eXBlb2YgUmVmbGVjdCA9PT0gXCJ1bmRlZmluZWRcIiB8fCAhUmVmbGVjdC5jb25zdHJ1Y3QpIHJldHVybiBmYWxzZTsgaWYgKFJlZmxlY3QuY29uc3RydWN0LnNoYW0pIHJldHVybiBmYWxzZTsgaWYgKHR5cGVvZiBQcm94eSA9PT0gXCJmdW5jdGlvblwiKSByZXR1cm4gdHJ1ZTsgdHJ5IHsgQm9vbGVhbi5wcm90b3R5cGUudmFsdWVPZi5jYWxsKFJlZmxlY3QuY29uc3RydWN0KEJvb2xlYW4sIFtdLCBmdW5jdGlvbiAoKSB7fSkpOyByZXR1cm4gdHJ1ZTsgfSBjYXRjaCAoZSkgeyByZXR1cm4gZmFsc2U7IH0gfVxuZnVuY3Rpb24gX2dldFByb3RvdHlwZU9mKG8pIHsgX2dldFByb3RvdHlwZU9mID0gT2JqZWN0LnNldFByb3RvdHlwZU9mID8gT2JqZWN0LmdldFByb3RvdHlwZU9mLmJpbmQoKSA6IGZ1bmN0aW9uIF9nZXRQcm90b3R5cGVPZihvKSB7IHJldHVybiBvLl9fcHJvdG9fXyB8fCBPYmplY3QuZ2V0UHJvdG90eXBlT2Yobyk7IH07IHJldHVybiBfZ2V0UHJvdG90eXBlT2Yobyk7IH1cbnZhciBjb2RlcyA9IHt9O1xuXG4vLyBMYXp5IGxvYWRlZFxudmFyIGFzc2VydDtcbnZhciB1dGlsO1xuZnVuY3Rpb24gY3JlYXRlRXJyb3JUeXBlKGNvZGUsIG1lc3NhZ2UsIEJhc2UpIHtcbiAgaWYgKCFCYXNlKSB7XG4gICAgQmFzZSA9IEVycm9yO1xuICB9XG4gIGZ1bmN0aW9uIGdldE1lc3NhZ2UoYXJnMSwgYXJnMiwgYXJnMykge1xuICAgIGlmICh0eXBlb2YgbWVzc2FnZSA9PT0gJ3N0cmluZycpIHtcbiAgICAgIHJldHVybiBtZXNzYWdlO1xuICAgIH0gZWxzZSB7XG4gICAgICByZXR1cm4gbWVzc2FnZShhcmcxLCBhcmcyLCBhcmczKTtcbiAgICB9XG4gIH1cbiAgdmFyIE5vZGVFcnJvciA9IC8qI19fUFVSRV9fKi9mdW5jdGlvbiAoX0Jhc2UpIHtcbiAgICBfaW5oZXJpdHMoTm9kZUVycm9yLCBfQmFzZSk7XG4gICAgdmFyIF9zdXBlciA9IF9jcmVhdGVTdXBlcihOb2RlRXJyb3IpO1xuICAgIGZ1bmN0aW9uIE5vZGVFcnJvcihhcmcxLCBhcmcyLCBhcmczKSB7XG4gICAgICB2YXIgX3RoaXM7XG4gICAgICBfY2xhc3NDYWxsQ2hlY2sodGhpcywgTm9kZUVycm9yKTtcbiAgICAgIF90aGlzID0gX3N1cGVyLmNhbGwodGhpcywgZ2V0TWVzc2FnZShhcmcxLCBhcmcyLCBhcmczKSk7XG4gICAgICBfdGhpcy5jb2RlID0gY29kZTtcbiAgICAgIHJldHVybiBfdGhpcztcbiAgICB9XG4gICAgcmV0dXJuIF9jcmVhdGVDbGFzcyhOb2RlRXJyb3IpO1xuICB9KEJhc2UpO1xuICBjb2Rlc1tjb2RlXSA9IE5vZGVFcnJvcjtcbn1cblxuLy8gaHR0cHM6Ly9naXRodWIuY29tL25vZGVqcy9ub2RlL2Jsb2IvdjEwLjguMC9saWIvaW50ZXJuYWwvZXJyb3JzLmpzXG5mdW5jdGlvbiBvbmVPZihleHBlY3RlZCwgdGhpbmcpIHtcbiAgaWYgKEFycmF5LmlzQXJyYXkoZXhwZWN0ZWQpKSB7XG4gICAgdmFyIGxlbiA9IGV4cGVjdGVkLmxlbmd0aDtcbiAgICBleHBlY3RlZCA9IGV4cGVjdGVkLm1hcChmdW5jdGlvbiAoaSkge1xuICAgICAgcmV0dXJuIFN0cmluZyhpKTtcbiAgICB9KTtcbiAgICBpZiAobGVuID4gMikge1xuICAgICAgcmV0dXJuIFwib25lIG9mIFwiLmNvbmNhdCh0aGluZywgXCIgXCIpLmNvbmNhdChleHBlY3RlZC5zbGljZSgwLCBsZW4gLSAxKS5qb2luKCcsICcpLCBcIiwgb3IgXCIpICsgZXhwZWN0ZWRbbGVuIC0gMV07XG4gICAgfSBlbHNlIGlmIChsZW4gPT09IDIpIHtcbiAgICAgIHJldHVybiBcIm9uZSBvZiBcIi5jb25jYXQodGhpbmcsIFwiIFwiKS5jb25jYXQoZXhwZWN0ZWRbMF0sIFwiIG9yIFwiKS5jb25jYXQoZXhwZWN0ZWRbMV0pO1xuICAgIH0gZWxzZSB7XG4gICAgICByZXR1cm4gXCJvZiBcIi5jb25jYXQodGhpbmcsIFwiIFwiKS5jb25jYXQoZXhwZWN0ZWRbMF0pO1xuICAgIH1cbiAgfSBlbHNlIHtcbiAgICByZXR1cm4gXCJvZiBcIi5jb25jYXQodGhpbmcsIFwiIFwiKS5jb25jYXQoU3RyaW5nKGV4cGVjdGVkKSk7XG4gIH1cbn1cblxuLy8gaHR0cHM6Ly9kZXZlbG9wZXIubW96aWxsYS5vcmcvZW4tVVMvZG9jcy9XZWIvSmF2YVNjcmlwdC9SZWZlcmVuY2UvR2xvYmFsX09iamVjdHMvU3RyaW5nL3N0YXJ0c1dpdGhcbmZ1bmN0aW9uIHN0YXJ0c1dpdGgoc3RyLCBzZWFyY2gsIHBvcykge1xuICByZXR1cm4gc3RyLnN1YnN0cighcG9zIHx8IHBvcyA8IDAgPyAwIDogK3Bvcywgc2VhcmNoLmxlbmd0aCkgPT09IHNlYXJjaDtcbn1cblxuLy8gaHR0cHM6Ly9kZXZlbG9wZXIubW96aWxsYS5vcmcvZW4tVVMvZG9jcy9XZWIvSmF2YVNjcmlwdC9SZWZlcmVuY2UvR2xvYmFsX09iamVjdHMvU3RyaW5nL2VuZHNXaXRoXG5mdW5jdGlvbiBlbmRzV2l0aChzdHIsIHNlYXJjaCwgdGhpc19sZW4pIHtcbiAgaWYgKHRoaXNfbGVuID09PSB1bmRlZmluZWQgfHwgdGhpc19sZW4gPiBzdHIubGVuZ3RoKSB7XG4gICAgdGhpc19sZW4gPSBzdHIubGVuZ3RoO1xuICB9XG4gIHJldHVybiBzdHIuc3Vic3RyaW5nKHRoaXNfbGVuIC0gc2VhcmNoLmxlbmd0aCwgdGhpc19sZW4pID09PSBzZWFyY2g7XG59XG5cbi8vIGh0dHBzOi8vZGV2ZWxvcGVyLm1vemlsbGEub3JnL2VuLVVTL2RvY3MvV2ViL0phdmFTY3JpcHQvUmVmZXJlbmNlL0dsb2JhbF9PYmplY3RzL1N0cmluZy9pbmNsdWRlc1xuZnVuY3Rpb24gaW5jbHVkZXMoc3RyLCBzZWFyY2gsIHN0YXJ0KSB7XG4gIGlmICh0eXBlb2Ygc3RhcnQgIT09ICdudW1iZXInKSB7XG4gICAgc3RhcnQgPSAwO1xuICB9XG4gIGlmIChzdGFydCArIHNlYXJjaC5sZW5ndGggPiBzdHIubGVuZ3RoKSB7XG4gICAgcmV0dXJuIGZhbHNlO1xuICB9IGVsc2Uge1xuICAgIHJldHVybiBzdHIuaW5kZXhPZihzZWFyY2gsIHN0YXJ0KSAhPT0gLTE7XG4gIH1cbn1cbmNyZWF0ZUVycm9yVHlwZSgnRVJSX0FNQklHVU9VU19BUkdVTUVOVCcsICdUaGUgXCIlc1wiIGFyZ3VtZW50IGlzIGFtYmlndW91cy4gJXMnLCBUeXBlRXJyb3IpO1xuY3JlYXRlRXJyb3JUeXBlKCdFUlJfSU5WQUxJRF9BUkdfVFlQRScsIGZ1bmN0aW9uIChuYW1lLCBleHBlY3RlZCwgYWN0dWFsKSB7XG4gIGlmIChhc3NlcnQgPT09IHVuZGVmaW5lZCkgYXNzZXJ0ID0gcmVxdWlyZSgnLi4vYXNzZXJ0Jyk7XG4gIGFzc2VydCh0eXBlb2YgbmFtZSA9PT0gJ3N0cmluZycsIFwiJ25hbWUnIG11c3QgYmUgYSBzdHJpbmdcIik7XG5cbiAgLy8gZGV0ZXJtaW5lcjogJ211c3QgYmUnIG9yICdtdXN0IG5vdCBiZSdcbiAgdmFyIGRldGVybWluZXI7XG4gIGlmICh0eXBlb2YgZXhwZWN0ZWQgPT09ICdzdHJpbmcnICYmIHN0YXJ0c1dpdGgoZXhwZWN0ZWQsICdub3QgJykpIHtcbiAgICBkZXRlcm1pbmVyID0gJ211c3Qgbm90IGJlJztcbiAgICBleHBlY3RlZCA9IGV4cGVjdGVkLnJlcGxhY2UoL15ub3QgLywgJycpO1xuICB9IGVsc2Uge1xuICAgIGRldGVybWluZXIgPSAnbXVzdCBiZSc7XG4gIH1cbiAgdmFyIG1zZztcbiAgaWYgKGVuZHNXaXRoKG5hbWUsICcgYXJndW1lbnQnKSkge1xuICAgIC8vIEZvciBjYXNlcyBsaWtlICdmaXJzdCBhcmd1bWVudCdcbiAgICBtc2cgPSBcIlRoZSBcIi5jb25jYXQobmFtZSwgXCIgXCIpLmNvbmNhdChkZXRlcm1pbmVyLCBcIiBcIikuY29uY2F0KG9uZU9mKGV4cGVjdGVkLCAndHlwZScpKTtcbiAgfSBlbHNlIHtcbiAgICB2YXIgdHlwZSA9IGluY2x1ZGVzKG5hbWUsICcuJykgPyAncHJvcGVydHknIDogJ2FyZ3VtZW50JztcbiAgICBtc2cgPSBcIlRoZSBcXFwiXCIuY29uY2F0KG5hbWUsIFwiXFxcIiBcIikuY29uY2F0KHR5cGUsIFwiIFwiKS5jb25jYXQoZGV0ZXJtaW5lciwgXCIgXCIpLmNvbmNhdChvbmVPZihleHBlY3RlZCwgJ3R5cGUnKSk7XG4gIH1cblxuICAvLyBUT0RPKEJyaWRnZUFSKTogSW1wcm92ZSB0aGUgb3V0cHV0IGJ5IHNob3dpbmcgYG51bGxgIGFuZCBzaW1pbGFyLlxuICBtc2cgKz0gXCIuIFJlY2VpdmVkIHR5cGUgXCIuY29uY2F0KF90eXBlb2YoYWN0dWFsKSk7XG4gIHJldHVybiBtc2c7XG59LCBUeXBlRXJyb3IpO1xuY3JlYXRlRXJyb3JUeXBlKCdFUlJfSU5WQUxJRF9BUkdfVkFMVUUnLCBmdW5jdGlvbiAobmFtZSwgdmFsdWUpIHtcbiAgdmFyIHJlYXNvbiA9IGFyZ3VtZW50cy5sZW5ndGggPiAyICYmIGFyZ3VtZW50c1syXSAhPT0gdW5kZWZpbmVkID8gYXJndW1lbnRzWzJdIDogJ2lzIGludmFsaWQnO1xuICBpZiAodXRpbCA9PT0gdW5kZWZpbmVkKSB1dGlsID0gcmVxdWlyZSgndXRpbC8nKTtcbiAgdmFyIGluc3BlY3RlZCA9IHV0aWwuaW5zcGVjdCh2YWx1ZSk7XG4gIGlmIChpbnNwZWN0ZWQubGVuZ3RoID4gMTI4KSB7XG4gICAgaW5zcGVjdGVkID0gXCJcIi5jb25jYXQoaW5zcGVjdGVkLnNsaWNlKDAsIDEyOCksIFwiLi4uXCIpO1xuICB9XG4gIHJldHVybiBcIlRoZSBhcmd1bWVudCAnXCIuY29uY2F0KG5hbWUsIFwiJyBcIikuY29uY2F0KHJlYXNvbiwgXCIuIFJlY2VpdmVkIFwiKS5jb25jYXQoaW5zcGVjdGVkKTtcbn0sIFR5cGVFcnJvciwgUmFuZ2VFcnJvcik7XG5jcmVhdGVFcnJvclR5cGUoJ0VSUl9JTlZBTElEX1JFVFVSTl9WQUxVRScsIGZ1bmN0aW9uIChpbnB1dCwgbmFtZSwgdmFsdWUpIHtcbiAgdmFyIHR5cGU7XG4gIGlmICh2YWx1ZSAmJiB2YWx1ZS5jb25zdHJ1Y3RvciAmJiB2YWx1ZS5jb25zdHJ1Y3Rvci5uYW1lKSB7XG4gICAgdHlwZSA9IFwiaW5zdGFuY2Ugb2YgXCIuY29uY2F0KHZhbHVlLmNvbnN0cnVjdG9yLm5hbWUpO1xuICB9IGVsc2Uge1xuICAgIHR5cGUgPSBcInR5cGUgXCIuY29uY2F0KF90eXBlb2YodmFsdWUpKTtcbiAgfVxuICByZXR1cm4gXCJFeHBlY3RlZCBcIi5jb25jYXQoaW5wdXQsIFwiIHRvIGJlIHJldHVybmVkIGZyb20gdGhlIFxcXCJcIikuY29uY2F0KG5hbWUsIFwiXFxcIlwiKSArIFwiIGZ1bmN0aW9uIGJ1dCBnb3QgXCIuY29uY2F0KHR5cGUsIFwiLlwiKTtcbn0sIFR5cGVFcnJvcik7XG5jcmVhdGVFcnJvclR5cGUoJ0VSUl9NSVNTSU5HX0FSR1MnLCBmdW5jdGlvbiAoKSB7XG4gIGZvciAodmFyIF9sZW4gPSBhcmd1bWVudHMubGVuZ3RoLCBhcmdzID0gbmV3IEFycmF5KF9sZW4pLCBfa2V5ID0gMDsgX2tleSA8IF9sZW47IF9rZXkrKykge1xuICAgIGFyZ3NbX2tleV0gPSBhcmd1bWVudHNbX2tleV07XG4gIH1cbiAgaWYgKGFzc2VydCA9PT0gdW5kZWZpbmVkKSBhc3NlcnQgPSByZXF1aXJlKCcuLi9hc3NlcnQnKTtcbiAgYXNzZXJ0KGFyZ3MubGVuZ3RoID4gMCwgJ0F0IGxlYXN0IG9uZSBhcmcgbmVlZHMgdG8gYmUgc3BlY2lmaWVkJyk7XG4gIHZhciBtc2cgPSAnVGhlICc7XG4gIHZhciBsZW4gPSBhcmdzLmxlbmd0aDtcbiAgYXJncyA9IGFyZ3MubWFwKGZ1bmN0aW9uIChhKSB7XG4gICAgcmV0dXJuIFwiXFxcIlwiLmNvbmNhdChhLCBcIlxcXCJcIik7XG4gIH0pO1xuICBzd2l0Y2ggKGxlbikge1xuICAgIGNhc2UgMTpcbiAgICAgIG1zZyArPSBcIlwiLmNvbmNhdChhcmdzWzBdLCBcIiBhcmd1bWVudFwiKTtcbiAgICAgIGJyZWFrO1xuICAgIGNhc2UgMjpcbiAgICAgIG1zZyArPSBcIlwiLmNvbmNhdChhcmdzWzBdLCBcIiBhbmQgXCIpLmNvbmNhdChhcmdzWzFdLCBcIiBhcmd1bWVudHNcIik7XG4gICAgICBicmVhaztcbiAgICBkZWZhdWx0OlxuICAgICAgbXNnICs9IGFyZ3Muc2xpY2UoMCwgbGVuIC0gMSkuam9pbignLCAnKTtcbiAgICAgIG1zZyArPSBcIiwgYW5kIFwiLmNvbmNhdChhcmdzW2xlbiAtIDFdLCBcIiBhcmd1bWVudHNcIik7XG4gICAgICBicmVhaztcbiAgfVxuICByZXR1cm4gXCJcIi5jb25jYXQobXNnLCBcIiBtdXN0IGJlIHNwZWNpZmllZFwiKTtcbn0sIFR5cGVFcnJvcik7XG5tb2R1bGUuZXhwb3J0cy5jb2RlcyA9IGNvZGVzOyIsICIvLyBDdXJyZW50bHkgaW4gc3luYyB3aXRoIE5vZGUuanMgbGliL2ludGVybmFsL2Fzc2VydC9hc3NlcnRpb25fZXJyb3IuanNcbi8vIGh0dHBzOi8vZ2l0aHViLmNvbS9ub2RlanMvbm9kZS9jb21taXQvMDgxNzg0MGY3NzUwMzIxNjlkZGQ3MGM4NWFjMDU5ZjE4ZmZjYzgxY1xuXG4ndXNlIHN0cmljdCc7XG5cbmZ1bmN0aW9uIG93bktleXMoZSwgcikgeyB2YXIgdCA9IE9iamVjdC5rZXlzKGUpOyBpZiAoT2JqZWN0LmdldE93blByb3BlcnR5U3ltYm9scykgeyB2YXIgbyA9IE9iamVjdC5nZXRPd25Qcm9wZXJ0eVN5bWJvbHMoZSk7IHIgJiYgKG8gPSBvLmZpbHRlcihmdW5jdGlvbiAocikgeyByZXR1cm4gT2JqZWN0LmdldE93blByb3BlcnR5RGVzY3JpcHRvcihlLCByKS5lbnVtZXJhYmxlOyB9KSksIHQucHVzaC5hcHBseSh0LCBvKTsgfSByZXR1cm4gdDsgfVxuZnVuY3Rpb24gX29iamVjdFNwcmVhZChlKSB7IGZvciAodmFyIHIgPSAxOyByIDwgYXJndW1lbnRzLmxlbmd0aDsgcisrKSB7IHZhciB0ID0gbnVsbCAhPSBhcmd1bWVudHNbcl0gPyBhcmd1bWVudHNbcl0gOiB7fTsgciAlIDIgPyBvd25LZXlzKE9iamVjdCh0KSwgITApLmZvckVhY2goZnVuY3Rpb24gKHIpIHsgX2RlZmluZVByb3BlcnR5KGUsIHIsIHRbcl0pOyB9KSA6IE9iamVjdC5nZXRPd25Qcm9wZXJ0eURlc2NyaXB0b3JzID8gT2JqZWN0LmRlZmluZVByb3BlcnRpZXMoZSwgT2JqZWN0LmdldE93blByb3BlcnR5RGVzY3JpcHRvcnModCkpIDogb3duS2V5cyhPYmplY3QodCkpLmZvckVhY2goZnVuY3Rpb24gKHIpIHsgT2JqZWN0LmRlZmluZVByb3BlcnR5KGUsIHIsIE9iamVjdC5nZXRPd25Qcm9wZXJ0eURlc2NyaXB0b3IodCwgcikpOyB9KTsgfSByZXR1cm4gZTsgfVxuZnVuY3Rpb24gX2RlZmluZVByb3BlcnR5KG9iaiwga2V5LCB2YWx1ZSkgeyBrZXkgPSBfdG9Qcm9wZXJ0eUtleShrZXkpOyBpZiAoa2V5IGluIG9iaikgeyBPYmplY3QuZGVmaW5lUHJvcGVydHkob2JqLCBrZXksIHsgdmFsdWU6IHZhbHVlLCBlbnVtZXJhYmxlOiB0cnVlLCBjb25maWd1cmFibGU6IHRydWUsIHdyaXRhYmxlOiB0cnVlIH0pOyB9IGVsc2UgeyBvYmpba2V5XSA9IHZhbHVlOyB9IHJldHVybiBvYmo7IH1cbmZ1bmN0aW9uIF9jbGFzc0NhbGxDaGVjayhpbnN0YW5jZSwgQ29uc3RydWN0b3IpIHsgaWYgKCEoaW5zdGFuY2UgaW5zdGFuY2VvZiBDb25zdHJ1Y3RvcikpIHsgdGhyb3cgbmV3IFR5cGVFcnJvcihcIkNhbm5vdCBjYWxsIGEgY2xhc3MgYXMgYSBmdW5jdGlvblwiKTsgfSB9XG5mdW5jdGlvbiBfZGVmaW5lUHJvcGVydGllcyh0YXJnZXQsIHByb3BzKSB7IGZvciAodmFyIGkgPSAwOyBpIDwgcHJvcHMubGVuZ3RoOyBpKyspIHsgdmFyIGRlc2NyaXB0b3IgPSBwcm9wc1tpXTsgZGVzY3JpcHRvci5lbnVtZXJhYmxlID0gZGVzY3JpcHRvci5lbnVtZXJhYmxlIHx8IGZhbHNlOyBkZXNjcmlwdG9yLmNvbmZpZ3VyYWJsZSA9IHRydWU7IGlmIChcInZhbHVlXCIgaW4gZGVzY3JpcHRvcikgZGVzY3JpcHRvci53cml0YWJsZSA9IHRydWU7IE9iamVjdC5kZWZpbmVQcm9wZXJ0eSh0YXJnZXQsIF90b1Byb3BlcnR5S2V5KGRlc2NyaXB0b3Iua2V5KSwgZGVzY3JpcHRvcik7IH0gfVxuZnVuY3Rpb24gX2NyZWF0ZUNsYXNzKENvbnN0cnVjdG9yLCBwcm90b1Byb3BzLCBzdGF0aWNQcm9wcykgeyBpZiAocHJvdG9Qcm9wcykgX2RlZmluZVByb3BlcnRpZXMoQ29uc3RydWN0b3IucHJvdG90eXBlLCBwcm90b1Byb3BzKTsgaWYgKHN0YXRpY1Byb3BzKSBfZGVmaW5lUHJvcGVydGllcyhDb25zdHJ1Y3Rvciwgc3RhdGljUHJvcHMpOyBPYmplY3QuZGVmaW5lUHJvcGVydHkoQ29uc3RydWN0b3IsIFwicHJvdG90eXBlXCIsIHsgd3JpdGFibGU6IGZhbHNlIH0pOyByZXR1cm4gQ29uc3RydWN0b3I7IH1cbmZ1bmN0aW9uIF90b1Byb3BlcnR5S2V5KGFyZykgeyB2YXIga2V5ID0gX3RvUHJpbWl0aXZlKGFyZywgXCJzdHJpbmdcIik7IHJldHVybiBfdHlwZW9mKGtleSkgPT09IFwic3ltYm9sXCIgPyBrZXkgOiBTdHJpbmcoa2V5KTsgfVxuZnVuY3Rpb24gX3RvUHJpbWl0aXZlKGlucHV0LCBoaW50KSB7IGlmIChfdHlwZW9mKGlucHV0KSAhPT0gXCJvYmplY3RcIiB8fCBpbnB1dCA9PT0gbnVsbCkgcmV0dXJuIGlucHV0OyB2YXIgcHJpbSA9IGlucHV0W1N5bWJvbC50b1ByaW1pdGl2ZV07IGlmIChwcmltICE9PSB1bmRlZmluZWQpIHsgdmFyIHJlcyA9IHByaW0uY2FsbChpbnB1dCwgaGludCB8fCBcImRlZmF1bHRcIik7IGlmIChfdHlwZW9mKHJlcykgIT09IFwib2JqZWN0XCIpIHJldHVybiByZXM7IHRocm93IG5ldyBUeXBlRXJyb3IoXCJAQHRvUHJpbWl0aXZlIG11c3QgcmV0dXJuIGEgcHJpbWl0aXZlIHZhbHVlLlwiKTsgfSByZXR1cm4gKGhpbnQgPT09IFwic3RyaW5nXCIgPyBTdHJpbmcgOiBOdW1iZXIpKGlucHV0KTsgfVxuZnVuY3Rpb24gX2luaGVyaXRzKHN1YkNsYXNzLCBzdXBlckNsYXNzKSB7IGlmICh0eXBlb2Ygc3VwZXJDbGFzcyAhPT0gXCJmdW5jdGlvblwiICYmIHN1cGVyQ2xhc3MgIT09IG51bGwpIHsgdGhyb3cgbmV3IFR5cGVFcnJvcihcIlN1cGVyIGV4cHJlc3Npb24gbXVzdCBlaXRoZXIgYmUgbnVsbCBvciBhIGZ1bmN0aW9uXCIpOyB9IHN1YkNsYXNzLnByb3RvdHlwZSA9IE9iamVjdC5jcmVhdGUoc3VwZXJDbGFzcyAmJiBzdXBlckNsYXNzLnByb3RvdHlwZSwgeyBjb25zdHJ1Y3RvcjogeyB2YWx1ZTogc3ViQ2xhc3MsIHdyaXRhYmxlOiB0cnVlLCBjb25maWd1cmFibGU6IHRydWUgfSB9KTsgT2JqZWN0LmRlZmluZVByb3BlcnR5KHN1YkNsYXNzLCBcInByb3RvdHlwZVwiLCB7IHdyaXRhYmxlOiBmYWxzZSB9KTsgaWYgKHN1cGVyQ2xhc3MpIF9zZXRQcm90b3R5cGVPZihzdWJDbGFzcywgc3VwZXJDbGFzcyk7IH1cbmZ1bmN0aW9uIF9jcmVhdGVTdXBlcihEZXJpdmVkKSB7IHZhciBoYXNOYXRpdmVSZWZsZWN0Q29uc3RydWN0ID0gX2lzTmF0aXZlUmVmbGVjdENvbnN0cnVjdCgpOyByZXR1cm4gZnVuY3Rpb24gX2NyZWF0ZVN1cGVySW50ZXJuYWwoKSB7IHZhciBTdXBlciA9IF9nZXRQcm90b3R5cGVPZihEZXJpdmVkKSwgcmVzdWx0OyBpZiAoaGFzTmF0aXZlUmVmbGVjdENvbnN0cnVjdCkgeyB2YXIgTmV3VGFyZ2V0ID0gX2dldFByb3RvdHlwZU9mKHRoaXMpLmNvbnN0cnVjdG9yOyByZXN1bHQgPSBSZWZsZWN0LmNvbnN0cnVjdChTdXBlciwgYXJndW1lbnRzLCBOZXdUYXJnZXQpOyB9IGVsc2UgeyByZXN1bHQgPSBTdXBlci5hcHBseSh0aGlzLCBhcmd1bWVudHMpOyB9IHJldHVybiBfcG9zc2libGVDb25zdHJ1Y3RvclJldHVybih0aGlzLCByZXN1bHQpOyB9OyB9XG5mdW5jdGlvbiBfcG9zc2libGVDb25zdHJ1Y3RvclJldHVybihzZWxmLCBjYWxsKSB7IGlmIChjYWxsICYmIChfdHlwZW9mKGNhbGwpID09PSBcIm9iamVjdFwiIHx8IHR5cGVvZiBjYWxsID09PSBcImZ1bmN0aW9uXCIpKSB7IHJldHVybiBjYWxsOyB9IGVsc2UgaWYgKGNhbGwgIT09IHZvaWQgMCkgeyB0aHJvdyBuZXcgVHlwZUVycm9yKFwiRGVyaXZlZCBjb25zdHJ1Y3RvcnMgbWF5IG9ubHkgcmV0dXJuIG9iamVjdCBvciB1bmRlZmluZWRcIik7IH0gcmV0dXJuIF9hc3NlcnRUaGlzSW5pdGlhbGl6ZWQoc2VsZik7IH1cbmZ1bmN0aW9uIF9hc3NlcnRUaGlzSW5pdGlhbGl6ZWQoc2VsZikgeyBpZiAoc2VsZiA9PT0gdm9pZCAwKSB7IHRocm93IG5ldyBSZWZlcmVuY2VFcnJvcihcInRoaXMgaGFzbid0IGJlZW4gaW5pdGlhbGlzZWQgLSBzdXBlcigpIGhhc24ndCBiZWVuIGNhbGxlZFwiKTsgfSByZXR1cm4gc2VsZjsgfVxuZnVuY3Rpb24gX3dyYXBOYXRpdmVTdXBlcihDbGFzcykgeyB2YXIgX2NhY2hlID0gdHlwZW9mIE1hcCA9PT0gXCJmdW5jdGlvblwiID8gbmV3IE1hcCgpIDogdW5kZWZpbmVkOyBfd3JhcE5hdGl2ZVN1cGVyID0gZnVuY3Rpb24gX3dyYXBOYXRpdmVTdXBlcihDbGFzcykgeyBpZiAoQ2xhc3MgPT09IG51bGwgfHwgIV9pc05hdGl2ZUZ1bmN0aW9uKENsYXNzKSkgcmV0dXJuIENsYXNzOyBpZiAodHlwZW9mIENsYXNzICE9PSBcImZ1bmN0aW9uXCIpIHsgdGhyb3cgbmV3IFR5cGVFcnJvcihcIlN1cGVyIGV4cHJlc3Npb24gbXVzdCBlaXRoZXIgYmUgbnVsbCBvciBhIGZ1bmN0aW9uXCIpOyB9IGlmICh0eXBlb2YgX2NhY2hlICE9PSBcInVuZGVmaW5lZFwiKSB7IGlmIChfY2FjaGUuaGFzKENsYXNzKSkgcmV0dXJuIF9jYWNoZS5nZXQoQ2xhc3MpOyBfY2FjaGUuc2V0KENsYXNzLCBXcmFwcGVyKTsgfSBmdW5jdGlvbiBXcmFwcGVyKCkgeyByZXR1cm4gX2NvbnN0cnVjdChDbGFzcywgYXJndW1lbnRzLCBfZ2V0UHJvdG90eXBlT2YodGhpcykuY29uc3RydWN0b3IpOyB9IFdyYXBwZXIucHJvdG90eXBlID0gT2JqZWN0LmNyZWF0ZShDbGFzcy5wcm90b3R5cGUsIHsgY29uc3RydWN0b3I6IHsgdmFsdWU6IFdyYXBwZXIsIGVudW1lcmFibGU6IGZhbHNlLCB3cml0YWJsZTogdHJ1ZSwgY29uZmlndXJhYmxlOiB0cnVlIH0gfSk7IHJldHVybiBfc2V0UHJvdG90eXBlT2YoV3JhcHBlciwgQ2xhc3MpOyB9OyByZXR1cm4gX3dyYXBOYXRpdmVTdXBlcihDbGFzcyk7IH1cbmZ1bmN0aW9uIF9jb25zdHJ1Y3QoUGFyZW50LCBhcmdzLCBDbGFzcykgeyBpZiAoX2lzTmF0aXZlUmVmbGVjdENvbnN0cnVjdCgpKSB7IF9jb25zdHJ1Y3QgPSBSZWZsZWN0LmNvbnN0cnVjdC5iaW5kKCk7IH0gZWxzZSB7IF9jb25zdHJ1Y3QgPSBmdW5jdGlvbiBfY29uc3RydWN0KFBhcmVudCwgYXJncywgQ2xhc3MpIHsgdmFyIGEgPSBbbnVsbF07IGEucHVzaC5hcHBseShhLCBhcmdzKTsgdmFyIENvbnN0cnVjdG9yID0gRnVuY3Rpb24uYmluZC5hcHBseShQYXJlbnQsIGEpOyB2YXIgaW5zdGFuY2UgPSBuZXcgQ29uc3RydWN0b3IoKTsgaWYgKENsYXNzKSBfc2V0UHJvdG90eXBlT2YoaW5zdGFuY2UsIENsYXNzLnByb3RvdHlwZSk7IHJldHVybiBpbnN0YW5jZTsgfTsgfSByZXR1cm4gX2NvbnN0cnVjdC5hcHBseShudWxsLCBhcmd1bWVudHMpOyB9XG5mdW5jdGlvbiBfaXNOYXRpdmVSZWZsZWN0Q29uc3RydWN0KCkgeyBpZiAodHlwZW9mIFJlZmxlY3QgPT09IFwidW5kZWZpbmVkXCIgfHwgIVJlZmxlY3QuY29uc3RydWN0KSByZXR1cm4gZmFsc2U7IGlmIChSZWZsZWN0LmNvbnN0cnVjdC5zaGFtKSByZXR1cm4gZmFsc2U7IGlmICh0eXBlb2YgUHJveHkgPT09IFwiZnVuY3Rpb25cIikgcmV0dXJuIHRydWU7IHRyeSB7IEJvb2xlYW4ucHJvdG90eXBlLnZhbHVlT2YuY2FsbChSZWZsZWN0LmNvbnN0cnVjdChCb29sZWFuLCBbXSwgZnVuY3Rpb24gKCkge30pKTsgcmV0dXJuIHRydWU7IH0gY2F0Y2ggKGUpIHsgcmV0dXJuIGZhbHNlOyB9IH1cbmZ1bmN0aW9uIF9pc05hdGl2ZUZ1bmN0aW9uKGZuKSB7IHJldHVybiBGdW5jdGlvbi50b1N0cmluZy5jYWxsKGZuKS5pbmRleE9mKFwiW25hdGl2ZSBjb2RlXVwiKSAhPT0gLTE7IH1cbmZ1bmN0aW9uIF9zZXRQcm90b3R5cGVPZihvLCBwKSB7IF9zZXRQcm90b3R5cGVPZiA9IE9iamVjdC5zZXRQcm90b3R5cGVPZiA/IE9iamVjdC5zZXRQcm90b3R5cGVPZi5iaW5kKCkgOiBmdW5jdGlvbiBfc2V0UHJvdG90eXBlT2YobywgcCkgeyBvLl9fcHJvdG9fXyA9IHA7IHJldHVybiBvOyB9OyByZXR1cm4gX3NldFByb3RvdHlwZU9mKG8sIHApOyB9XG5mdW5jdGlvbiBfZ2V0UHJvdG90eXBlT2YobykgeyBfZ2V0UHJvdG90eXBlT2YgPSBPYmplY3Quc2V0UHJvdG90eXBlT2YgPyBPYmplY3QuZ2V0UHJvdG90eXBlT2YuYmluZCgpIDogZnVuY3Rpb24gX2dldFByb3RvdHlwZU9mKG8pIHsgcmV0dXJuIG8uX19wcm90b19fIHx8IE9iamVjdC5nZXRQcm90b3R5cGVPZihvKTsgfTsgcmV0dXJuIF9nZXRQcm90b3R5cGVPZihvKTsgfVxuZnVuY3Rpb24gX3R5cGVvZihvKSB7IFwiQGJhYmVsL2hlbHBlcnMgLSB0eXBlb2ZcIjsgcmV0dXJuIF90eXBlb2YgPSBcImZ1bmN0aW9uXCIgPT0gdHlwZW9mIFN5bWJvbCAmJiBcInN5bWJvbFwiID09IHR5cGVvZiBTeW1ib2wuaXRlcmF0b3IgPyBmdW5jdGlvbiAobykgeyByZXR1cm4gdHlwZW9mIG87IH0gOiBmdW5jdGlvbiAobykgeyByZXR1cm4gbyAmJiBcImZ1bmN0aW9uXCIgPT0gdHlwZW9mIFN5bWJvbCAmJiBvLmNvbnN0cnVjdG9yID09PSBTeW1ib2wgJiYgbyAhPT0gU3ltYm9sLnByb3RvdHlwZSA/IFwic3ltYm9sXCIgOiB0eXBlb2YgbzsgfSwgX3R5cGVvZihvKTsgfVxudmFyIF9yZXF1aXJlID0gcmVxdWlyZSgndXRpbC8nKSxcbiAgaW5zcGVjdCA9IF9yZXF1aXJlLmluc3BlY3Q7XG52YXIgX3JlcXVpcmUyID0gcmVxdWlyZSgnLi4vZXJyb3JzJyksXG4gIEVSUl9JTlZBTElEX0FSR19UWVBFID0gX3JlcXVpcmUyLmNvZGVzLkVSUl9JTlZBTElEX0FSR19UWVBFO1xuXG4vLyBodHRwczovL2RldmVsb3Blci5tb3ppbGxhLm9yZy9lbi1VUy9kb2NzL1dlYi9KYXZhU2NyaXB0L1JlZmVyZW5jZS9HbG9iYWxfT2JqZWN0cy9TdHJpbmcvZW5kc1dpdGhcbmZ1bmN0aW9uIGVuZHNXaXRoKHN0ciwgc2VhcmNoLCB0aGlzX2xlbikge1xuICBpZiAodGhpc19sZW4gPT09IHVuZGVmaW5lZCB8fCB0aGlzX2xlbiA+IHN0ci5sZW5ndGgpIHtcbiAgICB0aGlzX2xlbiA9IHN0ci5sZW5ndGg7XG4gIH1cbiAgcmV0dXJuIHN0ci5zdWJzdHJpbmcodGhpc19sZW4gLSBzZWFyY2gubGVuZ3RoLCB0aGlzX2xlbikgPT09IHNlYXJjaDtcbn1cblxuLy8gaHR0cHM6Ly9kZXZlbG9wZXIubW96aWxsYS5vcmcvZW4tVVMvZG9jcy9XZWIvSmF2YVNjcmlwdC9SZWZlcmVuY2UvR2xvYmFsX09iamVjdHMvU3RyaW5nL3JlcGVhdFxuZnVuY3Rpb24gcmVwZWF0KHN0ciwgY291bnQpIHtcbiAgY291bnQgPSBNYXRoLmZsb29yKGNvdW50KTtcbiAgaWYgKHN0ci5sZW5ndGggPT0gMCB8fCBjb3VudCA9PSAwKSByZXR1cm4gJyc7XG4gIHZhciBtYXhDb3VudCA9IHN0ci5sZW5ndGggKiBjb3VudDtcbiAgY291bnQgPSBNYXRoLmZsb29yKE1hdGgubG9nKGNvdW50KSAvIE1hdGgubG9nKDIpKTtcbiAgd2hpbGUgKGNvdW50KSB7XG4gICAgc3RyICs9IHN0cjtcbiAgICBjb3VudC0tO1xuICB9XG4gIHN0ciArPSBzdHIuc3Vic3RyaW5nKDAsIG1heENvdW50IC0gc3RyLmxlbmd0aCk7XG4gIHJldHVybiBzdHI7XG59XG52YXIgYmx1ZSA9ICcnO1xudmFyIGdyZWVuID0gJyc7XG52YXIgcmVkID0gJyc7XG52YXIgd2hpdGUgPSAnJztcbnZhciBrUmVhZGFibGVPcGVyYXRvciA9IHtcbiAgZGVlcFN0cmljdEVxdWFsOiAnRXhwZWN0ZWQgdmFsdWVzIHRvIGJlIHN0cmljdGx5IGRlZXAtZXF1YWw6JyxcbiAgc3RyaWN0RXF1YWw6ICdFeHBlY3RlZCB2YWx1ZXMgdG8gYmUgc3RyaWN0bHkgZXF1YWw6JyxcbiAgc3RyaWN0RXF1YWxPYmplY3Q6ICdFeHBlY3RlZCBcImFjdHVhbFwiIHRvIGJlIHJlZmVyZW5jZS1lcXVhbCB0byBcImV4cGVjdGVkXCI6JyxcbiAgZGVlcEVxdWFsOiAnRXhwZWN0ZWQgdmFsdWVzIHRvIGJlIGxvb3NlbHkgZGVlcC1lcXVhbDonLFxuICBlcXVhbDogJ0V4cGVjdGVkIHZhbHVlcyB0byBiZSBsb29zZWx5IGVxdWFsOicsXG4gIG5vdERlZXBTdHJpY3RFcXVhbDogJ0V4cGVjdGVkIFwiYWN0dWFsXCIgbm90IHRvIGJlIHN0cmljdGx5IGRlZXAtZXF1YWwgdG86JyxcbiAgbm90U3RyaWN0RXF1YWw6ICdFeHBlY3RlZCBcImFjdHVhbFwiIHRvIGJlIHN0cmljdGx5IHVuZXF1YWwgdG86JyxcbiAgbm90U3RyaWN0RXF1YWxPYmplY3Q6ICdFeHBlY3RlZCBcImFjdHVhbFwiIG5vdCB0byBiZSByZWZlcmVuY2UtZXF1YWwgdG8gXCJleHBlY3RlZFwiOicsXG4gIG5vdERlZXBFcXVhbDogJ0V4cGVjdGVkIFwiYWN0dWFsXCIgbm90IHRvIGJlIGxvb3NlbHkgZGVlcC1lcXVhbCB0bzonLFxuICBub3RFcXVhbDogJ0V4cGVjdGVkIFwiYWN0dWFsXCIgdG8gYmUgbG9vc2VseSB1bmVxdWFsIHRvOicsXG4gIG5vdElkZW50aWNhbDogJ1ZhbHVlcyBpZGVudGljYWwgYnV0IG5vdCByZWZlcmVuY2UtZXF1YWw6J1xufTtcblxuLy8gQ29tcGFyaW5nIHNob3J0IHByaW1pdGl2ZXMgc2hvdWxkIGp1c3Qgc2hvdyA9PT0gLyAhPT0gaW5zdGVhZCBvZiB1c2luZyB0aGVcbi8vIGRpZmYuXG52YXIga01heFNob3J0TGVuZ3RoID0gMTA7XG5mdW5jdGlvbiBjb3B5RXJyb3Ioc291cmNlKSB7XG4gIHZhciBrZXlzID0gT2JqZWN0LmtleXMoc291cmNlKTtcbiAgdmFyIHRhcmdldCA9IE9iamVjdC5jcmVhdGUoT2JqZWN0LmdldFByb3RvdHlwZU9mKHNvdXJjZSkpO1xuICBrZXlzLmZvckVhY2goZnVuY3Rpb24gKGtleSkge1xuICAgIHRhcmdldFtrZXldID0gc291cmNlW2tleV07XG4gIH0pO1xuICBPYmplY3QuZGVmaW5lUHJvcGVydHkodGFyZ2V0LCAnbWVzc2FnZScsIHtcbiAgICB2YWx1ZTogc291cmNlLm1lc3NhZ2VcbiAgfSk7XG4gIHJldHVybiB0YXJnZXQ7XG59XG5mdW5jdGlvbiBpbnNwZWN0VmFsdWUodmFsKSB7XG4gIC8vIFRoZSB1dGlsLmluc3BlY3QgZGVmYXVsdCB2YWx1ZXMgY291bGQgYmUgY2hhbmdlZC4gVGhpcyBtYWtlcyBzdXJlIHRoZVxuICAvLyBlcnJvciBtZXNzYWdlcyBjb250YWluIHRoZSBuZWNlc3NhcnkgaW5mb3JtYXRpb24gbmV2ZXJ0aGVsZXNzLlxuICByZXR1cm4gaW5zcGVjdCh2YWwsIHtcbiAgICBjb21wYWN0OiBmYWxzZSxcbiAgICBjdXN0b21JbnNwZWN0OiBmYWxzZSxcbiAgICBkZXB0aDogMTAwMCxcbiAgICBtYXhBcnJheUxlbmd0aDogSW5maW5pdHksXG4gICAgLy8gQXNzZXJ0IGNvbXBhcmVzIG9ubHkgZW51bWVyYWJsZSBwcm9wZXJ0aWVzICh3aXRoIGEgZmV3IGV4Y2VwdGlvbnMpLlxuICAgIHNob3dIaWRkZW46IGZhbHNlLFxuICAgIC8vIEhhdmluZyBhIGxvbmcgbGluZSBhcyBlcnJvciBpcyBiZXR0ZXIgdGhhbiB3cmFwcGluZyB0aGUgbGluZSBmb3JcbiAgICAvLyBjb21wYXJpc29uIGZvciBub3cuXG4gICAgLy8gVE9ETyhCcmlkZ2VBUik6IGBicmVha0xlbmd0aGAgc2hvdWxkIGJlIGxpbWl0ZWQgYXMgc29vbiBhcyBzb29uIGFzIHdlXG4gICAgLy8gaGF2ZSBtZXRhIGluZm9ybWF0aW9uIGFib3V0IHRoZSBpbnNwZWN0ZWQgcHJvcGVydGllcyAoaS5lLiwga25vdyB3aGVyZVxuICAgIC8vIGluIHdoYXQgbGluZSB0aGUgcHJvcGVydHkgc3RhcnRzIGFuZCBlbmRzKS5cbiAgICBicmVha0xlbmd0aDogSW5maW5pdHksXG4gICAgLy8gQXNzZXJ0IGRvZXMgbm90IGRldGVjdCBwcm94aWVzIGN1cnJlbnRseS5cbiAgICBzaG93UHJveHk6IGZhbHNlLFxuICAgIHNvcnRlZDogdHJ1ZSxcbiAgICAvLyBJbnNwZWN0IGdldHRlcnMgYXMgd2UgYWxzbyBjaGVjayB0aGVtIHdoZW4gY29tcGFyaW5nIGVudHJpZXMuXG4gICAgZ2V0dGVyczogdHJ1ZVxuICB9KTtcbn1cbmZ1bmN0aW9uIGNyZWF0ZUVyckRpZmYoYWN0dWFsLCBleHBlY3RlZCwgb3BlcmF0b3IpIHtcbiAgdmFyIG90aGVyID0gJyc7XG4gIHZhciByZXMgPSAnJztcbiAgdmFyIGxhc3RQb3MgPSAwO1xuICB2YXIgZW5kID0gJyc7XG4gIHZhciBza2lwcGVkID0gZmFsc2U7XG4gIHZhciBhY3R1YWxJbnNwZWN0ZWQgPSBpbnNwZWN0VmFsdWUoYWN0dWFsKTtcbiAgdmFyIGFjdHVhbExpbmVzID0gYWN0dWFsSW5zcGVjdGVkLnNwbGl0KCdcXG4nKTtcbiAgdmFyIGV4cGVjdGVkTGluZXMgPSBpbnNwZWN0VmFsdWUoZXhwZWN0ZWQpLnNwbGl0KCdcXG4nKTtcbiAgdmFyIGkgPSAwO1xuICB2YXIgaW5kaWNhdG9yID0gJyc7XG5cbiAgLy8gSW4gY2FzZSBib3RoIHZhbHVlcyBhcmUgb2JqZWN0cyBleHBsaWNpdGx5IG1hcmsgdGhlbSBhcyBub3QgcmVmZXJlbmNlIGVxdWFsXG4gIC8vIGZvciB0aGUgYHN0cmljdEVxdWFsYCBvcGVyYXRvci5cbiAgaWYgKG9wZXJhdG9yID09PSAnc3RyaWN0RXF1YWwnICYmIF90eXBlb2YoYWN0dWFsKSA9PT0gJ29iamVjdCcgJiYgX3R5cGVvZihleHBlY3RlZCkgPT09ICdvYmplY3QnICYmIGFjdHVhbCAhPT0gbnVsbCAmJiBleHBlY3RlZCAhPT0gbnVsbCkge1xuICAgIG9wZXJhdG9yID0gJ3N0cmljdEVxdWFsT2JqZWN0JztcbiAgfVxuXG4gIC8vIElmIFwiYWN0dWFsXCIgYW5kIFwiZXhwZWN0ZWRcIiBmaXQgb24gYSBzaW5nbGUgbGluZSBhbmQgdGhleSBhcmUgbm90IHN0cmljdGx5XG4gIC8vIGVxdWFsLCBjaGVjayBmdXJ0aGVyIHNwZWNpYWwgaGFuZGxpbmcuXG4gIGlmIChhY3R1YWxMaW5lcy5sZW5ndGggPT09IDEgJiYgZXhwZWN0ZWRMaW5lcy5sZW5ndGggPT09IDEgJiYgYWN0dWFsTGluZXNbMF0gIT09IGV4cGVjdGVkTGluZXNbMF0pIHtcbiAgICB2YXIgaW5wdXRMZW5ndGggPSBhY3R1YWxMaW5lc1swXS5sZW5ndGggKyBleHBlY3RlZExpbmVzWzBdLmxlbmd0aDtcbiAgICAvLyBJZiB0aGUgY2hhcmFjdGVyIGxlbmd0aCBvZiBcImFjdHVhbFwiIGFuZCBcImV4cGVjdGVkXCIgdG9nZXRoZXIgaXMgbGVzcyB0aGFuXG4gICAgLy8ga01heFNob3J0TGVuZ3RoIGFuZCBpZiBuZWl0aGVyIGlzIGFuIG9iamVjdCBhbmQgYXQgbGVhc3Qgb25lIG9mIHRoZW0gaXNcbiAgICAvLyBub3QgYHplcm9gLCB1c2UgdGhlIHN0cmljdCBlcXVhbCBjb21wYXJpc29uIHRvIHZpc3VhbGl6ZSB0aGUgb3V0cHV0LlxuICAgIGlmIChpbnB1dExlbmd0aCA8PSBrTWF4U2hvcnRMZW5ndGgpIHtcbiAgICAgIGlmICgoX3R5cGVvZihhY3R1YWwpICE9PSAnb2JqZWN0JyB8fCBhY3R1YWwgPT09IG51bGwpICYmIChfdHlwZW9mKGV4cGVjdGVkKSAhPT0gJ29iamVjdCcgfHwgZXhwZWN0ZWQgPT09IG51bGwpICYmIChhY3R1YWwgIT09IDAgfHwgZXhwZWN0ZWQgIT09IDApKSB7XG4gICAgICAgIC8vIC0wID09PSArMFxuICAgICAgICByZXR1cm4gXCJcIi5jb25jYXQoa1JlYWRhYmxlT3BlcmF0b3Jbb3BlcmF0b3JdLCBcIlxcblxcblwiKSArIFwiXCIuY29uY2F0KGFjdHVhbExpbmVzWzBdLCBcIiAhPT0gXCIpLmNvbmNhdChleHBlY3RlZExpbmVzWzBdLCBcIlxcblwiKTtcbiAgICAgIH1cbiAgICB9IGVsc2UgaWYgKG9wZXJhdG9yICE9PSAnc3RyaWN0RXF1YWxPYmplY3QnKSB7XG4gICAgICAvLyBJZiB0aGUgc3RkZXJyIGlzIGEgdHR5IGFuZCB0aGUgaW5wdXQgbGVuZ3RoIGlzIGxvd2VyIHRoYW4gdGhlIGN1cnJlbnRcbiAgICAgIC8vIGNvbHVtbnMgcGVyIGxpbmUsIGFkZCBhIG1pc21hdGNoIGluZGljYXRvciBiZWxvdyB0aGUgb3V0cHV0LiBJZiBpdCBpc1xuICAgICAgLy8gbm90IGEgdHR5LCB1c2UgYSBkZWZhdWx0IHZhbHVlIG9mIDgwIGNoYXJhY3RlcnMuXG4gICAgICB2YXIgbWF4TGVuZ3RoID0gcHJvY2Vzcy5zdGRlcnIgJiYgcHJvY2Vzcy5zdGRlcnIuaXNUVFkgPyBwcm9jZXNzLnN0ZGVyci5jb2x1bW5zIDogODA7XG4gICAgICBpZiAoaW5wdXRMZW5ndGggPCBtYXhMZW5ndGgpIHtcbiAgICAgICAgd2hpbGUgKGFjdHVhbExpbmVzWzBdW2ldID09PSBleHBlY3RlZExpbmVzWzBdW2ldKSB7XG4gICAgICAgICAgaSsrO1xuICAgICAgICB9XG4gICAgICAgIC8vIElnbm9yZSB0aGUgZmlyc3QgY2hhcmFjdGVycy5cbiAgICAgICAgaWYgKGkgPiAyKSB7XG4gICAgICAgICAgLy8gQWRkIHBvc2l0aW9uIGluZGljYXRvciBmb3IgdGhlIGZpcnN0IG1pc21hdGNoIGluIGNhc2UgaXQgaXMgYVxuICAgICAgICAgIC8vIHNpbmdsZSBsaW5lIGFuZCB0aGUgaW5wdXQgbGVuZ3RoIGlzIGxlc3MgdGhhbiB0aGUgY29sdW1uIGxlbmd0aC5cbiAgICAgICAgICBpbmRpY2F0b3IgPSBcIlxcbiAgXCIuY29uY2F0KHJlcGVhdCgnICcsIGkpLCBcIl5cIik7XG4gICAgICAgICAgaSA9IDA7XG4gICAgICAgIH1cbiAgICAgIH1cbiAgICB9XG4gIH1cblxuICAvLyBSZW1vdmUgYWxsIGVuZGluZyBsaW5lcyB0aGF0IG1hdGNoICh0aGlzIG9wdGltaXplcyB0aGUgb3V0cHV0IGZvclxuICAvLyByZWFkYWJpbGl0eSBieSByZWR1Y2luZyB0aGUgbnVtYmVyIG9mIHRvdGFsIGNoYW5nZWQgbGluZXMpLlxuICB2YXIgYSA9IGFjdHVhbExpbmVzW2FjdHVhbExpbmVzLmxlbmd0aCAtIDFdO1xuICB2YXIgYiA9IGV4cGVjdGVkTGluZXNbZXhwZWN0ZWRMaW5lcy5sZW5ndGggLSAxXTtcbiAgd2hpbGUgKGEgPT09IGIpIHtcbiAgICBpZiAoaSsrIDwgMikge1xuICAgICAgZW5kID0gXCJcXG4gIFwiLmNvbmNhdChhKS5jb25jYXQoZW5kKTtcbiAgICB9IGVsc2Uge1xuICAgICAgb3RoZXIgPSBhO1xuICAgIH1cbiAgICBhY3R1YWxMaW5lcy5wb3AoKTtcbiAgICBleHBlY3RlZExpbmVzLnBvcCgpO1xuICAgIGlmIChhY3R1YWxMaW5lcy5sZW5ndGggPT09IDAgfHwgZXhwZWN0ZWRMaW5lcy5sZW5ndGggPT09IDApIGJyZWFrO1xuICAgIGEgPSBhY3R1YWxMaW5lc1thY3R1YWxMaW5lcy5sZW5ndGggLSAxXTtcbiAgICBiID0gZXhwZWN0ZWRMaW5lc1tleHBlY3RlZExpbmVzLmxlbmd0aCAtIDFdO1xuICB9XG4gIHZhciBtYXhMaW5lcyA9IE1hdGgubWF4KGFjdHVhbExpbmVzLmxlbmd0aCwgZXhwZWN0ZWRMaW5lcy5sZW5ndGgpO1xuICAvLyBTdHJpY3QgZXF1YWwgd2l0aCBpZGVudGljYWwgb2JqZWN0cyB0aGF0IGFyZSBub3QgaWRlbnRpY2FsIGJ5IHJlZmVyZW5jZS5cbiAgLy8gRS5nLiwgYXNzZXJ0LmRlZXBTdHJpY3RFcXVhbCh7IGE6IFN5bWJvbCgpIH0sIHsgYTogU3ltYm9sKCkgfSlcbiAgaWYgKG1heExpbmVzID09PSAwKSB7XG4gICAgLy8gV2UgaGF2ZSB0byBnZXQgdGhlIHJlc3VsdCBhZ2Fpbi4gVGhlIGxpbmVzIHdlcmUgYWxsIHJlbW92ZWQgYmVmb3JlLlxuICAgIHZhciBfYWN0dWFsTGluZXMgPSBhY3R1YWxJbnNwZWN0ZWQuc3BsaXQoJ1xcbicpO1xuXG4gICAgLy8gT25seSByZW1vdmUgbGluZXMgaW4gY2FzZSBpdCBtYWtlcyBzZW5zZSB0byBjb2xsYXBzZSB0aG9zZS5cbiAgICAvLyBUT0RPOiBBY2NlcHQgZW52IHRvIGFsd2F5cyBzaG93IHRoZSBmdWxsIGVycm9yLlxuICAgIGlmIChfYWN0dWFsTGluZXMubGVuZ3RoID4gMzApIHtcbiAgICAgIF9hY3R1YWxMaW5lc1syNl0gPSBcIlwiLmNvbmNhdChibHVlLCBcIi4uLlwiKS5jb25jYXQod2hpdGUpO1xuICAgICAgd2hpbGUgKF9hY3R1YWxMaW5lcy5sZW5ndGggPiAyNykge1xuICAgICAgICBfYWN0dWFsTGluZXMucG9wKCk7XG4gICAgICB9XG4gICAgfVxuICAgIHJldHVybiBcIlwiLmNvbmNhdChrUmVhZGFibGVPcGVyYXRvci5ub3RJZGVudGljYWwsIFwiXFxuXFxuXCIpLmNvbmNhdChfYWN0dWFsTGluZXMuam9pbignXFxuJyksIFwiXFxuXCIpO1xuICB9XG4gIGlmIChpID4gMykge1xuICAgIGVuZCA9IFwiXFxuXCIuY29uY2F0KGJsdWUsIFwiLi4uXCIpLmNvbmNhdCh3aGl0ZSkuY29uY2F0KGVuZCk7XG4gICAgc2tpcHBlZCA9IHRydWU7XG4gIH1cbiAgaWYgKG90aGVyICE9PSAnJykge1xuICAgIGVuZCA9IFwiXFxuICBcIi5jb25jYXQob3RoZXIpLmNvbmNhdChlbmQpO1xuICAgIG90aGVyID0gJyc7XG4gIH1cbiAgdmFyIHByaW50ZWRMaW5lcyA9IDA7XG4gIHZhciBtc2cgPSBrUmVhZGFibGVPcGVyYXRvcltvcGVyYXRvcl0gKyBcIlxcblwiLmNvbmNhdChncmVlbiwgXCIrIGFjdHVhbFwiKS5jb25jYXQod2hpdGUsIFwiIFwiKS5jb25jYXQocmVkLCBcIi0gZXhwZWN0ZWRcIikuY29uY2F0KHdoaXRlKTtcbiAgdmFyIHNraXBwZWRNc2cgPSBcIiBcIi5jb25jYXQoYmx1ZSwgXCIuLi5cIikuY29uY2F0KHdoaXRlLCBcIiBMaW5lcyBza2lwcGVkXCIpO1xuICBmb3IgKGkgPSAwOyBpIDwgbWF4TGluZXM7IGkrKykge1xuICAgIC8vIE9ubHkgZXh0cmEgZXhwZWN0ZWQgbGluZXMgZXhpc3RcbiAgICB2YXIgY3VyID0gaSAtIGxhc3RQb3M7XG4gICAgaWYgKGFjdHVhbExpbmVzLmxlbmd0aCA8IGkgKyAxKSB7XG4gICAgICAvLyBJZiB0aGUgbGFzdCBkaXZlcmdpbmcgbGluZSBpcyBtb3JlIHRoYW4gb25lIGxpbmUgYWJvdmUgYW5kIHRoZVxuICAgICAgLy8gY3VycmVudCBsaW5lIGlzIGF0IGxlYXN0IGxpbmUgdGhyZWUsIGFkZCBzb21lIG9mIHRoZSBmb3JtZXIgbGluZXMgYW5kXG4gICAgICAvLyBhbHNvIGFkZCBkb3RzIHRvIGluZGljYXRlIHNraXBwZWQgZW50cmllcy5cbiAgICAgIGlmIChjdXIgPiAxICYmIGkgPiAyKSB7XG4gICAgICAgIGlmIChjdXIgPiA0KSB7XG4gICAgICAgICAgcmVzICs9IFwiXFxuXCIuY29uY2F0KGJsdWUsIFwiLi4uXCIpLmNvbmNhdCh3aGl0ZSk7XG4gICAgICAgICAgc2tpcHBlZCA9IHRydWU7XG4gICAgICAgIH0gZWxzZSBpZiAoY3VyID4gMykge1xuICAgICAgICAgIHJlcyArPSBcIlxcbiAgXCIuY29uY2F0KGV4cGVjdGVkTGluZXNbaSAtIDJdKTtcbiAgICAgICAgICBwcmludGVkTGluZXMrKztcbiAgICAgICAgfVxuICAgICAgICByZXMgKz0gXCJcXG4gIFwiLmNvbmNhdChleHBlY3RlZExpbmVzW2kgLSAxXSk7XG4gICAgICAgIHByaW50ZWRMaW5lcysrO1xuICAgICAgfVxuICAgICAgLy8gTWFyayB0aGUgY3VycmVudCBsaW5lIGFzIHRoZSBsYXN0IGRpdmVyZ2luZyBvbmUuXG4gICAgICBsYXN0UG9zID0gaTtcbiAgICAgIC8vIEFkZCB0aGUgZXhwZWN0ZWQgbGluZSB0byB0aGUgY2FjaGUuXG4gICAgICBvdGhlciArPSBcIlxcblwiLmNvbmNhdChyZWQsIFwiLVwiKS5jb25jYXQod2hpdGUsIFwiIFwiKS5jb25jYXQoZXhwZWN0ZWRMaW5lc1tpXSk7XG4gICAgICBwcmludGVkTGluZXMrKztcbiAgICAgIC8vIE9ubHkgZXh0cmEgYWN0dWFsIGxpbmVzIGV4aXN0XG4gICAgfSBlbHNlIGlmIChleHBlY3RlZExpbmVzLmxlbmd0aCA8IGkgKyAxKSB7XG4gICAgICAvLyBJZiB0aGUgbGFzdCBkaXZlcmdpbmcgbGluZSBpcyBtb3JlIHRoYW4gb25lIGxpbmUgYWJvdmUgYW5kIHRoZVxuICAgICAgLy8gY3VycmVudCBsaW5lIGlzIGF0IGxlYXN0IGxpbmUgdGhyZWUsIGFkZCBzb21lIG9mIHRoZSBmb3JtZXIgbGluZXMgYW5kXG4gICAgICAvLyBhbHNvIGFkZCBkb3RzIHRvIGluZGljYXRlIHNraXBwZWQgZW50cmllcy5cbiAgICAgIGlmIChjdXIgPiAxICYmIGkgPiAyKSB7XG4gICAgICAgIGlmIChjdXIgPiA0KSB7XG4gICAgICAgICAgcmVzICs9IFwiXFxuXCIuY29uY2F0KGJsdWUsIFwiLi4uXCIpLmNvbmNhdCh3aGl0ZSk7XG4gICAgICAgICAgc2tpcHBlZCA9IHRydWU7XG4gICAgICAgIH0gZWxzZSBpZiAoY3VyID4gMykge1xuICAgICAgICAgIHJlcyArPSBcIlxcbiAgXCIuY29uY2F0KGFjdHVhbExpbmVzW2kgLSAyXSk7XG4gICAgICAgICAgcHJpbnRlZExpbmVzKys7XG4gICAgICAgIH1cbiAgICAgICAgcmVzICs9IFwiXFxuICBcIi5jb25jYXQoYWN0dWFsTGluZXNbaSAtIDFdKTtcbiAgICAgICAgcHJpbnRlZExpbmVzKys7XG4gICAgICB9XG4gICAgICAvLyBNYXJrIHRoZSBjdXJyZW50IGxpbmUgYXMgdGhlIGxhc3QgZGl2ZXJnaW5nIG9uZS5cbiAgICAgIGxhc3RQb3MgPSBpO1xuICAgICAgLy8gQWRkIHRoZSBhY3R1YWwgbGluZSB0byB0aGUgcmVzdWx0LlxuICAgICAgcmVzICs9IFwiXFxuXCIuY29uY2F0KGdyZWVuLCBcIitcIikuY29uY2F0KHdoaXRlLCBcIiBcIikuY29uY2F0KGFjdHVhbExpbmVzW2ldKTtcbiAgICAgIHByaW50ZWRMaW5lcysrO1xuICAgICAgLy8gTGluZXMgZGl2ZXJnZVxuICAgIH0gZWxzZSB7XG4gICAgICB2YXIgZXhwZWN0ZWRMaW5lID0gZXhwZWN0ZWRMaW5lc1tpXTtcbiAgICAgIHZhciBhY3R1YWxMaW5lID0gYWN0dWFsTGluZXNbaV07XG4gICAgICAvLyBJZiB0aGUgbGluZXMgZGl2ZXJnZSwgc3BlY2lmaWNhbGx5IGNoZWNrIGZvciBsaW5lcyB0aGF0IG9ubHkgZGl2ZXJnZSBieVxuICAgICAgLy8gYSB0cmFpbGluZyBjb21tYS4gSW4gdGhhdCBjYXNlIGl0IGlzIGFjdHVhbGx5IGlkZW50aWNhbCBhbmQgd2Ugc2hvdWxkXG4gICAgICAvLyBtYXJrIGl0IGFzIHN1Y2guXG4gICAgICB2YXIgZGl2ZXJnaW5nTGluZXMgPSBhY3R1YWxMaW5lICE9PSBleHBlY3RlZExpbmUgJiYgKCFlbmRzV2l0aChhY3R1YWxMaW5lLCAnLCcpIHx8IGFjdHVhbExpbmUuc2xpY2UoMCwgLTEpICE9PSBleHBlY3RlZExpbmUpO1xuICAgICAgLy8gSWYgdGhlIGV4cGVjdGVkIGxpbmUgaGFzIGEgdHJhaWxpbmcgY29tbWEgYnV0IGlzIG90aGVyd2lzZSBpZGVudGljYWwsXG4gICAgICAvLyBhZGQgYSBjb21tYSBhdCB0aGUgZW5kIG9mIHRoZSBhY3R1YWwgbGluZS4gT3RoZXJ3aXNlIHRoZSBvdXRwdXQgY291bGRcbiAgICAgIC8vIGxvb2sgd2VpcmQgYXMgaW46XG4gICAgICAvL1xuICAgICAgLy8gICBbXG4gICAgICAvLyAgICAgMSAgICAgICAgIC8vIE5vIGNvbW1hIGF0IHRoZSBlbmQhXG4gICAgICAvLyArICAgMlxuICAgICAgLy8gICBdXG4gICAgICAvL1xuICAgICAgaWYgKGRpdmVyZ2luZ0xpbmVzICYmIGVuZHNXaXRoKGV4cGVjdGVkTGluZSwgJywnKSAmJiBleHBlY3RlZExpbmUuc2xpY2UoMCwgLTEpID09PSBhY3R1YWxMaW5lKSB7XG4gICAgICAgIGRpdmVyZ2luZ0xpbmVzID0gZmFsc2U7XG4gICAgICAgIGFjdHVhbExpbmUgKz0gJywnO1xuICAgICAgfVxuICAgICAgaWYgKGRpdmVyZ2luZ0xpbmVzKSB7XG4gICAgICAgIC8vIElmIHRoZSBsYXN0IGRpdmVyZ2luZyBsaW5lIGlzIG1vcmUgdGhhbiBvbmUgbGluZSBhYm92ZSBhbmQgdGhlXG4gICAgICAgIC8vIGN1cnJlbnQgbGluZSBpcyBhdCBsZWFzdCBsaW5lIHRocmVlLCBhZGQgc29tZSBvZiB0aGUgZm9ybWVyIGxpbmVzIGFuZFxuICAgICAgICAvLyBhbHNvIGFkZCBkb3RzIHRvIGluZGljYXRlIHNraXBwZWQgZW50cmllcy5cbiAgICAgICAgaWYgKGN1ciA+IDEgJiYgaSA+IDIpIHtcbiAgICAgICAgICBpZiAoY3VyID4gNCkge1xuICAgICAgICAgICAgcmVzICs9IFwiXFxuXCIuY29uY2F0KGJsdWUsIFwiLi4uXCIpLmNvbmNhdCh3aGl0ZSk7XG4gICAgICAgICAgICBza2lwcGVkID0gdHJ1ZTtcbiAgICAgICAgICB9IGVsc2UgaWYgKGN1ciA+IDMpIHtcbiAgICAgICAgICAgIHJlcyArPSBcIlxcbiAgXCIuY29uY2F0KGFjdHVhbExpbmVzW2kgLSAyXSk7XG4gICAgICAgICAgICBwcmludGVkTGluZXMrKztcbiAgICAgICAgICB9XG4gICAgICAgICAgcmVzICs9IFwiXFxuICBcIi5jb25jYXQoYWN0dWFsTGluZXNbaSAtIDFdKTtcbiAgICAgICAgICBwcmludGVkTGluZXMrKztcbiAgICAgICAgfVxuICAgICAgICAvLyBNYXJrIHRoZSBjdXJyZW50IGxpbmUgYXMgdGhlIGxhc3QgZGl2ZXJnaW5nIG9uZS5cbiAgICAgICAgbGFzdFBvcyA9IGk7XG4gICAgICAgIC8vIEFkZCB0aGUgYWN0dWFsIGxpbmUgdG8gdGhlIHJlc3VsdCBhbmQgY2FjaGUgdGhlIGV4cGVjdGVkIGRpdmVyZ2luZ1xuICAgICAgICAvLyBsaW5lIHNvIGNvbnNlY3V0aXZlIGRpdmVyZ2luZyBsaW5lcyBzaG93IHVwIGFzICsrKy0tLSBhbmQgbm90ICstKy0rLS5cbiAgICAgICAgcmVzICs9IFwiXFxuXCIuY29uY2F0KGdyZWVuLCBcIitcIikuY29uY2F0KHdoaXRlLCBcIiBcIikuY29uY2F0KGFjdHVhbExpbmUpO1xuICAgICAgICBvdGhlciArPSBcIlxcblwiLmNvbmNhdChyZWQsIFwiLVwiKS5jb25jYXQod2hpdGUsIFwiIFwiKS5jb25jYXQoZXhwZWN0ZWRMaW5lKTtcbiAgICAgICAgcHJpbnRlZExpbmVzICs9IDI7XG4gICAgICAgIC8vIExpbmVzIGFyZSBpZGVudGljYWxcbiAgICAgIH0gZWxzZSB7XG4gICAgICAgIC8vIEFkZCBhbGwgY2FjaGVkIGluZm9ybWF0aW9uIHRvIHRoZSByZXN1bHQgYmVmb3JlIGFkZGluZyBvdGhlciB0aGluZ3NcbiAgICAgICAgLy8gYW5kIHJlc2V0IHRoZSBjYWNoZS5cbiAgICAgICAgcmVzICs9IG90aGVyO1xuICAgICAgICBvdGhlciA9ICcnO1xuICAgICAgICAvLyBJZiB0aGUgbGFzdCBkaXZlcmdpbmcgbGluZSBpcyBleGFjdGx5IG9uZSBsaW5lIGFib3ZlIG9yIGlmIGl0IGlzIHRoZVxuICAgICAgICAvLyB2ZXJ5IGZpcnN0IGxpbmUsIGFkZCB0aGUgbGluZSB0byB0aGUgcmVzdWx0LlxuICAgICAgICBpZiAoY3VyID09PSAxIHx8IGkgPT09IDApIHtcbiAgICAgICAgICByZXMgKz0gXCJcXG4gIFwiLmNvbmNhdChhY3R1YWxMaW5lKTtcbiAgICAgICAgICBwcmludGVkTGluZXMrKztcbiAgICAgICAgfVxuICAgICAgfVxuICAgIH1cbiAgICAvLyBJbnNwZWN0ZWQgb2JqZWN0IHRvIGJpZyAoU2hvdyB+MjAgcm93cyBtYXgpXG4gICAgaWYgKHByaW50ZWRMaW5lcyA+IDIwICYmIGkgPCBtYXhMaW5lcyAtIDIpIHtcbiAgICAgIHJldHVybiBcIlwiLmNvbmNhdChtc2cpLmNvbmNhdChza2lwcGVkTXNnLCBcIlxcblwiKS5jb25jYXQocmVzLCBcIlxcblwiKS5jb25jYXQoYmx1ZSwgXCIuLi5cIikuY29uY2F0KHdoaXRlKS5jb25jYXQob3RoZXIsIFwiXFxuXCIpICsgXCJcIi5jb25jYXQoYmx1ZSwgXCIuLi5cIikuY29uY2F0KHdoaXRlKTtcbiAgICB9XG4gIH1cbiAgcmV0dXJuIFwiXCIuY29uY2F0KG1zZykuY29uY2F0KHNraXBwZWQgPyBza2lwcGVkTXNnIDogJycsIFwiXFxuXCIpLmNvbmNhdChyZXMpLmNvbmNhdChvdGhlcikuY29uY2F0KGVuZCkuY29uY2F0KGluZGljYXRvcik7XG59XG52YXIgQXNzZXJ0aW9uRXJyb3IgPSAvKiNfX1BVUkVfXyovZnVuY3Rpb24gKF9FcnJvciwgX2luc3BlY3QkY3VzdG9tKSB7XG4gIF9pbmhlcml0cyhBc3NlcnRpb25FcnJvciwgX0Vycm9yKTtcbiAgdmFyIF9zdXBlciA9IF9jcmVhdGVTdXBlcihBc3NlcnRpb25FcnJvcik7XG4gIGZ1bmN0aW9uIEFzc2VydGlvbkVycm9yKG9wdGlvbnMpIHtcbiAgICB2YXIgX3RoaXM7XG4gICAgX2NsYXNzQ2FsbENoZWNrKHRoaXMsIEFzc2VydGlvbkVycm9yKTtcbiAgICBpZiAoX3R5cGVvZihvcHRpb25zKSAhPT0gJ29iamVjdCcgfHwgb3B0aW9ucyA9PT0gbnVsbCkge1xuICAgICAgdGhyb3cgbmV3IEVSUl9JTlZBTElEX0FSR19UWVBFKCdvcHRpb25zJywgJ09iamVjdCcsIG9wdGlvbnMpO1xuICAgIH1cbiAgICB2YXIgbWVzc2FnZSA9IG9wdGlvbnMubWVzc2FnZSxcbiAgICAgIG9wZXJhdG9yID0gb3B0aW9ucy5vcGVyYXRvcixcbiAgICAgIHN0YWNrU3RhcnRGbiA9IG9wdGlvbnMuc3RhY2tTdGFydEZuO1xuICAgIHZhciBhY3R1YWwgPSBvcHRpb25zLmFjdHVhbCxcbiAgICAgIGV4cGVjdGVkID0gb3B0aW9ucy5leHBlY3RlZDtcbiAgICB2YXIgbGltaXQgPSBFcnJvci5zdGFja1RyYWNlTGltaXQ7XG4gICAgRXJyb3Iuc3RhY2tUcmFjZUxpbWl0ID0gMDtcbiAgICBpZiAobWVzc2FnZSAhPSBudWxsKSB7XG4gICAgICBfdGhpcyA9IF9zdXBlci5jYWxsKHRoaXMsIFN0cmluZyhtZXNzYWdlKSk7XG4gICAgfSBlbHNlIHtcbiAgICAgIGlmIChwcm9jZXNzLnN0ZGVyciAmJiBwcm9jZXNzLnN0ZGVyci5pc1RUWSkge1xuICAgICAgICAvLyBSZXNldCBvbiBlYWNoIGNhbGwgdG8gbWFrZSBzdXJlIHdlIGhhbmRsZSBkeW5hbWljYWxseSBzZXQgZW52aXJvbm1lbnRcbiAgICAgICAgLy8gdmFyaWFibGVzIGNvcnJlY3QuXG4gICAgICAgIGlmIChwcm9jZXNzLnN0ZGVyciAmJiBwcm9jZXNzLnN0ZGVyci5nZXRDb2xvckRlcHRoICYmIHByb2Nlc3Muc3RkZXJyLmdldENvbG9yRGVwdGgoKSAhPT0gMSkge1xuICAgICAgICAgIGJsdWUgPSBcIlxceDFCWzM0bVwiO1xuICAgICAgICAgIGdyZWVuID0gXCJcXHgxQlszMm1cIjtcbiAgICAgICAgICB3aGl0ZSA9IFwiXFx4MUJbMzltXCI7XG4gICAgICAgICAgcmVkID0gXCJcXHgxQlszMW1cIjtcbiAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICBibHVlID0gJyc7XG4gICAgICAgICAgZ3JlZW4gPSAnJztcbiAgICAgICAgICB3aGl0ZSA9ICcnO1xuICAgICAgICAgIHJlZCA9ICcnO1xuICAgICAgICB9XG4gICAgICB9XG4gICAgICAvLyBQcmV2ZW50IHRoZSBlcnJvciBzdGFjayBmcm9tIGJlaW5nIHZpc2libGUgYnkgZHVwbGljYXRpbmcgdGhlIGVycm9yXG4gICAgICAvLyBpbiBhIHZlcnkgY2xvc2Ugd2F5IHRvIHRoZSBvcmlnaW5hbCBpbiBjYXNlIGJvdGggc2lkZXMgYXJlIGFjdHVhbGx5XG4gICAgICAvLyBpbnN0YW5jZXMgb2YgRXJyb3IuXG4gICAgICBpZiAoX3R5cGVvZihhY3R1YWwpID09PSAnb2JqZWN0JyAmJiBhY3R1YWwgIT09IG51bGwgJiYgX3R5cGVvZihleHBlY3RlZCkgPT09ICdvYmplY3QnICYmIGV4cGVjdGVkICE9PSBudWxsICYmICdzdGFjaycgaW4gYWN0dWFsICYmIGFjdHVhbCBpbnN0YW5jZW9mIEVycm9yICYmICdzdGFjaycgaW4gZXhwZWN0ZWQgJiYgZXhwZWN0ZWQgaW5zdGFuY2VvZiBFcnJvcikge1xuICAgICAgICBhY3R1YWwgPSBjb3B5RXJyb3IoYWN0dWFsKTtcbiAgICAgICAgZXhwZWN0ZWQgPSBjb3B5RXJyb3IoZXhwZWN0ZWQpO1xuICAgICAgfVxuICAgICAgaWYgKG9wZXJhdG9yID09PSAnZGVlcFN0cmljdEVxdWFsJyB8fCBvcGVyYXRvciA9PT0gJ3N0cmljdEVxdWFsJykge1xuICAgICAgICBfdGhpcyA9IF9zdXBlci5jYWxsKHRoaXMsIGNyZWF0ZUVyckRpZmYoYWN0dWFsLCBleHBlY3RlZCwgb3BlcmF0b3IpKTtcbiAgICAgIH0gZWxzZSBpZiAob3BlcmF0b3IgPT09ICdub3REZWVwU3RyaWN0RXF1YWwnIHx8IG9wZXJhdG9yID09PSAnbm90U3RyaWN0RXF1YWwnKSB7XG4gICAgICAgIC8vIEluIGNhc2UgdGhlIG9iamVjdHMgYXJlIGVxdWFsIGJ1dCB0aGUgb3BlcmF0b3IgcmVxdWlyZXMgdW5lcXVhbCwgc2hvd1xuICAgICAgICAvLyB0aGUgZmlyc3Qgb2JqZWN0IGFuZCBzYXkgQSBlcXVhbHMgQlxuICAgICAgICB2YXIgYmFzZSA9IGtSZWFkYWJsZU9wZXJhdG9yW29wZXJhdG9yXTtcbiAgICAgICAgdmFyIHJlcyA9IGluc3BlY3RWYWx1ZShhY3R1YWwpLnNwbGl0KCdcXG4nKTtcblxuICAgICAgICAvLyBJbiBjYXNlIFwiYWN0dWFsXCIgaXMgYW4gb2JqZWN0LCBpdCBzaG91bGQgbm90IGJlIHJlZmVyZW5jZSBlcXVhbC5cbiAgICAgICAgaWYgKG9wZXJhdG9yID09PSAnbm90U3RyaWN0RXF1YWwnICYmIF90eXBlb2YoYWN0dWFsKSA9PT0gJ29iamVjdCcgJiYgYWN0dWFsICE9PSBudWxsKSB7XG4gICAgICAgICAgYmFzZSA9IGtSZWFkYWJsZU9wZXJhdG9yLm5vdFN0cmljdEVxdWFsT2JqZWN0O1xuICAgICAgICB9XG5cbiAgICAgICAgLy8gT25seSByZW1vdmUgbGluZXMgaW4gY2FzZSBpdCBtYWtlcyBzZW5zZSB0byBjb2xsYXBzZSB0aG9zZS5cbiAgICAgICAgLy8gVE9ETzogQWNjZXB0IGVudiB0byBhbHdheXMgc2hvdyB0aGUgZnVsbCBlcnJvci5cbiAgICAgICAgaWYgKHJlcy5sZW5ndGggPiAzMCkge1xuICAgICAgICAgIHJlc1syNl0gPSBcIlwiLmNvbmNhdChibHVlLCBcIi4uLlwiKS5jb25jYXQod2hpdGUpO1xuICAgICAgICAgIHdoaWxlIChyZXMubGVuZ3RoID4gMjcpIHtcbiAgICAgICAgICAgIHJlcy5wb3AoKTtcbiAgICAgICAgICB9XG4gICAgICAgIH1cblxuICAgICAgICAvLyBPbmx5IHByaW50IGEgc2luZ2xlIGlucHV0LlxuICAgICAgICBpZiAocmVzLmxlbmd0aCA9PT0gMSkge1xuICAgICAgICAgIF90aGlzID0gX3N1cGVyLmNhbGwodGhpcywgXCJcIi5jb25jYXQoYmFzZSwgXCIgXCIpLmNvbmNhdChyZXNbMF0pKTtcbiAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICBfdGhpcyA9IF9zdXBlci5jYWxsKHRoaXMsIFwiXCIuY29uY2F0KGJhc2UsIFwiXFxuXFxuXCIpLmNvbmNhdChyZXMuam9pbignXFxuJyksIFwiXFxuXCIpKTtcbiAgICAgICAgfVxuICAgICAgfSBlbHNlIHtcbiAgICAgICAgdmFyIF9yZXMgPSBpbnNwZWN0VmFsdWUoYWN0dWFsKTtcbiAgICAgICAgdmFyIG90aGVyID0gJyc7XG4gICAgICAgIHZhciBrbm93bk9wZXJhdG9ycyA9IGtSZWFkYWJsZU9wZXJhdG9yW29wZXJhdG9yXTtcbiAgICAgICAgaWYgKG9wZXJhdG9yID09PSAnbm90RGVlcEVxdWFsJyB8fCBvcGVyYXRvciA9PT0gJ25vdEVxdWFsJykge1xuICAgICAgICAgIF9yZXMgPSBcIlwiLmNvbmNhdChrUmVhZGFibGVPcGVyYXRvcltvcGVyYXRvcl0sIFwiXFxuXFxuXCIpLmNvbmNhdChfcmVzKTtcbiAgICAgICAgICBpZiAoX3Jlcy5sZW5ndGggPiAxMDI0KSB7XG4gICAgICAgICAgICBfcmVzID0gXCJcIi5jb25jYXQoX3Jlcy5zbGljZSgwLCAxMDIxKSwgXCIuLi5cIik7XG4gICAgICAgICAgfVxuICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgIG90aGVyID0gXCJcIi5jb25jYXQoaW5zcGVjdFZhbHVlKGV4cGVjdGVkKSk7XG4gICAgICAgICAgaWYgKF9yZXMubGVuZ3RoID4gNTEyKSB7XG4gICAgICAgICAgICBfcmVzID0gXCJcIi5jb25jYXQoX3Jlcy5zbGljZSgwLCA1MDkpLCBcIi4uLlwiKTtcbiAgICAgICAgICB9XG4gICAgICAgICAgaWYgKG90aGVyLmxlbmd0aCA+IDUxMikge1xuICAgICAgICAgICAgb3RoZXIgPSBcIlwiLmNvbmNhdChvdGhlci5zbGljZSgwLCA1MDkpLCBcIi4uLlwiKTtcbiAgICAgICAgICB9XG4gICAgICAgICAgaWYgKG9wZXJhdG9yID09PSAnZGVlcEVxdWFsJyB8fCBvcGVyYXRvciA9PT0gJ2VxdWFsJykge1xuICAgICAgICAgICAgX3JlcyA9IFwiXCIuY29uY2F0KGtub3duT3BlcmF0b3JzLCBcIlxcblxcblwiKS5jb25jYXQoX3JlcywgXCJcXG5cXG5zaG91bGQgZXF1YWxcXG5cXG5cIik7XG4gICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgIG90aGVyID0gXCIgXCIuY29uY2F0KG9wZXJhdG9yLCBcIiBcIikuY29uY2F0KG90aGVyKTtcbiAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgICAgX3RoaXMgPSBfc3VwZXIuY2FsbCh0aGlzLCBcIlwiLmNvbmNhdChfcmVzKS5jb25jYXQob3RoZXIpKTtcbiAgICAgIH1cbiAgICB9XG4gICAgRXJyb3Iuc3RhY2tUcmFjZUxpbWl0ID0gbGltaXQ7XG4gICAgX3RoaXMuZ2VuZXJhdGVkTWVzc2FnZSA9ICFtZXNzYWdlO1xuICAgIE9iamVjdC5kZWZpbmVQcm9wZXJ0eShfYXNzZXJ0VGhpc0luaXRpYWxpemVkKF90aGlzKSwgJ25hbWUnLCB7XG4gICAgICB2YWx1ZTogJ0Fzc2VydGlvbkVycm9yIFtFUlJfQVNTRVJUSU9OXScsXG4gICAgICBlbnVtZXJhYmxlOiBmYWxzZSxcbiAgICAgIHdyaXRhYmxlOiB0cnVlLFxuICAgICAgY29uZmlndXJhYmxlOiB0cnVlXG4gICAgfSk7XG4gICAgX3RoaXMuY29kZSA9ICdFUlJfQVNTRVJUSU9OJztcbiAgICBfdGhpcy5hY3R1YWwgPSBhY3R1YWw7XG4gICAgX3RoaXMuZXhwZWN0ZWQgPSBleHBlY3RlZDtcbiAgICBfdGhpcy5vcGVyYXRvciA9IG9wZXJhdG9yO1xuICAgIGlmIChFcnJvci5jYXB0dXJlU3RhY2tUcmFjZSkge1xuICAgICAgLy8gZXNsaW50LWRpc2FibGUtbmV4dC1saW5lIG5vLXJlc3RyaWN0ZWQtc3ludGF4XG4gICAgICBFcnJvci5jYXB0dXJlU3RhY2tUcmFjZShfYXNzZXJ0VGhpc0luaXRpYWxpemVkKF90aGlzKSwgc3RhY2tTdGFydEZuKTtcbiAgICB9XG4gICAgLy8gQ3JlYXRlIGVycm9yIG1lc3NhZ2UgaW5jbHVkaW5nIHRoZSBlcnJvciBjb2RlIGluIHRoZSBuYW1lLlxuICAgIF90aGlzLnN0YWNrO1xuICAgIC8vIFJlc2V0IHRoZSBuYW1lLlxuICAgIF90aGlzLm5hbWUgPSAnQXNzZXJ0aW9uRXJyb3InO1xuICAgIHJldHVybiBfcG9zc2libGVDb25zdHJ1Y3RvclJldHVybihfdGhpcyk7XG4gIH1cbiAgX2NyZWF0ZUNsYXNzKEFzc2VydGlvbkVycm9yLCBbe1xuICAgIGtleTogXCJ0b1N0cmluZ1wiLFxuICAgIHZhbHVlOiBmdW5jdGlvbiB0b1N0cmluZygpIHtcbiAgICAgIHJldHVybiBcIlwiLmNvbmNhdCh0aGlzLm5hbWUsIFwiIFtcIikuY29uY2F0KHRoaXMuY29kZSwgXCJdOiBcIikuY29uY2F0KHRoaXMubWVzc2FnZSk7XG4gICAgfVxuICB9LCB7XG4gICAga2V5OiBfaW5zcGVjdCRjdXN0b20sXG4gICAgdmFsdWU6IGZ1bmN0aW9uIHZhbHVlKHJlY3Vyc2VUaW1lcywgY3R4KSB7XG4gICAgICAvLyBUaGlzIGxpbWl0cyB0aGUgYGFjdHVhbGAgYW5kIGBleHBlY3RlZGAgcHJvcGVydHkgZGVmYXVsdCBpbnNwZWN0aW9uIHRvXG4gICAgICAvLyB0aGUgbWluaW11bSBkZXB0aC4gT3RoZXJ3aXNlIHRob3NlIHZhbHVlcyB3b3VsZCBiZSB0b28gdmVyYm9zZSBjb21wYXJlZFxuICAgICAgLy8gdG8gdGhlIGFjdHVhbCBlcnJvciBtZXNzYWdlIHdoaWNoIGNvbnRhaW5zIGEgY29tYmluZWQgdmlldyBvZiB0aGVzZSB0d29cbiAgICAgIC8vIGlucHV0IHZhbHVlcy5cbiAgICAgIHJldHVybiBpbnNwZWN0KHRoaXMsIF9vYmplY3RTcHJlYWQoX29iamVjdFNwcmVhZCh7fSwgY3R4KSwge30sIHtcbiAgICAgICAgY3VzdG9tSW5zcGVjdDogZmFsc2UsXG4gICAgICAgIGRlcHRoOiAwXG4gICAgICB9KSk7XG4gICAgfVxuICB9XSk7XG4gIHJldHVybiBBc3NlcnRpb25FcnJvcjtcbn0oIC8qI19fUFVSRV9fKi9fd3JhcE5hdGl2ZVN1cGVyKEVycm9yKSwgaW5zcGVjdC5jdXN0b20pO1xubW9kdWxlLmV4cG9ydHMgPSBBc3NlcnRpb25FcnJvcjsiLCAiJ3VzZSBzdHJpY3QnO1xuXG52YXIgdG9TdHIgPSBPYmplY3QucHJvdG90eXBlLnRvU3RyaW5nO1xuXG5tb2R1bGUuZXhwb3J0cyA9IGZ1bmN0aW9uIGlzQXJndW1lbnRzKHZhbHVlKSB7XG5cdHZhciBzdHIgPSB0b1N0ci5jYWxsKHZhbHVlKTtcblx0dmFyIGlzQXJncyA9IHN0ciA9PT0gJ1tvYmplY3QgQXJndW1lbnRzXSc7XG5cdGlmICghaXNBcmdzKSB7XG5cdFx0aXNBcmdzID0gc3RyICE9PSAnW29iamVjdCBBcnJheV0nICYmXG5cdFx0XHR2YWx1ZSAhPT0gbnVsbCAmJlxuXHRcdFx0dHlwZW9mIHZhbHVlID09PSAnb2JqZWN0JyAmJlxuXHRcdFx0dHlwZW9mIHZhbHVlLmxlbmd0aCA9PT0gJ251bWJlcicgJiZcblx0XHRcdHZhbHVlLmxlbmd0aCA+PSAwICYmXG5cdFx0XHR0b1N0ci5jYWxsKHZhbHVlLmNhbGxlZSkgPT09ICdbb2JqZWN0IEZ1bmN0aW9uXSc7XG5cdH1cblx0cmV0dXJuIGlzQXJncztcbn07XG4iLCAiJ3VzZSBzdHJpY3QnO1xuXG52YXIga2V5c1NoaW07XG5pZiAoIU9iamVjdC5rZXlzKSB7XG5cdC8vIG1vZGlmaWVkIGZyb20gaHR0cHM6Ly9naXRodWIuY29tL2VzLXNoaW1zL2VzNS1zaGltXG5cdHZhciBoYXMgPSBPYmplY3QucHJvdG90eXBlLmhhc093blByb3BlcnR5O1xuXHR2YXIgdG9TdHIgPSBPYmplY3QucHJvdG90eXBlLnRvU3RyaW5nO1xuXHR2YXIgaXNBcmdzID0gcmVxdWlyZSgnLi9pc0FyZ3VtZW50cycpOyAvLyBlc2xpbnQtZGlzYWJsZS1saW5lIGdsb2JhbC1yZXF1aXJlXG5cdHZhciBpc0VudW1lcmFibGUgPSBPYmplY3QucHJvdG90eXBlLnByb3BlcnR5SXNFbnVtZXJhYmxlO1xuXHR2YXIgaGFzRG9udEVudW1CdWcgPSAhaXNFbnVtZXJhYmxlLmNhbGwoeyB0b1N0cmluZzogbnVsbCB9LCAndG9TdHJpbmcnKTtcblx0dmFyIGhhc1Byb3RvRW51bUJ1ZyA9IGlzRW51bWVyYWJsZS5jYWxsKGZ1bmN0aW9uICgpIHt9LCAncHJvdG90eXBlJyk7XG5cdHZhciBkb250RW51bXMgPSBbXG5cdFx0J3RvU3RyaW5nJyxcblx0XHQndG9Mb2NhbGVTdHJpbmcnLFxuXHRcdCd2YWx1ZU9mJyxcblx0XHQnaGFzT3duUHJvcGVydHknLFxuXHRcdCdpc1Byb3RvdHlwZU9mJyxcblx0XHQncHJvcGVydHlJc0VudW1lcmFibGUnLFxuXHRcdCdjb25zdHJ1Y3Rvcidcblx0XTtcblx0dmFyIGVxdWFsc0NvbnN0cnVjdG9yUHJvdG90eXBlID0gZnVuY3Rpb24gKG8pIHtcblx0XHR2YXIgY3RvciA9IG8uY29uc3RydWN0b3I7XG5cdFx0cmV0dXJuIGN0b3IgJiYgY3Rvci5wcm90b3R5cGUgPT09IG87XG5cdH07XG5cdHZhciBleGNsdWRlZEtleXMgPSB7XG5cdFx0JGFwcGxpY2F0aW9uQ2FjaGU6IHRydWUsXG5cdFx0JGNvbnNvbGU6IHRydWUsXG5cdFx0JGV4dGVybmFsOiB0cnVlLFxuXHRcdCRmcmFtZTogdHJ1ZSxcblx0XHQkZnJhbWVFbGVtZW50OiB0cnVlLFxuXHRcdCRmcmFtZXM6IHRydWUsXG5cdFx0JGlubmVySGVpZ2h0OiB0cnVlLFxuXHRcdCRpbm5lcldpZHRoOiB0cnVlLFxuXHRcdCRvbm1vemZ1bGxzY3JlZW5jaGFuZ2U6IHRydWUsXG5cdFx0JG9ubW96ZnVsbHNjcmVlbmVycm9yOiB0cnVlLFxuXHRcdCRvdXRlckhlaWdodDogdHJ1ZSxcblx0XHQkb3V0ZXJXaWR0aDogdHJ1ZSxcblx0XHQkcGFnZVhPZmZzZXQ6IHRydWUsXG5cdFx0JHBhZ2VZT2Zmc2V0OiB0cnVlLFxuXHRcdCRwYXJlbnQ6IHRydWUsXG5cdFx0JHNjcm9sbExlZnQ6IHRydWUsXG5cdFx0JHNjcm9sbFRvcDogdHJ1ZSxcblx0XHQkc2Nyb2xsWDogdHJ1ZSxcblx0XHQkc2Nyb2xsWTogdHJ1ZSxcblx0XHQkc2VsZjogdHJ1ZSxcblx0XHQkd2Via2l0SW5kZXhlZERCOiB0cnVlLFxuXHRcdCR3ZWJraXRTdG9yYWdlSW5mbzogdHJ1ZSxcblx0XHQkd2luZG93OiB0cnVlXG5cdH07XG5cdHZhciBoYXNBdXRvbWF0aW9uRXF1YWxpdHlCdWcgPSAoZnVuY3Rpb24gKCkge1xuXHRcdC8qIGdsb2JhbCB3aW5kb3cgKi9cblx0XHRpZiAodHlwZW9mIHdpbmRvdyA9PT0gJ3VuZGVmaW5lZCcpIHsgcmV0dXJuIGZhbHNlOyB9XG5cdFx0Zm9yICh2YXIgayBpbiB3aW5kb3cpIHtcblx0XHRcdHRyeSB7XG5cdFx0XHRcdGlmICghZXhjbHVkZWRLZXlzWyckJyArIGtdICYmIGhhcy5jYWxsKHdpbmRvdywgaykgJiYgd2luZG93W2tdICE9PSBudWxsICYmIHR5cGVvZiB3aW5kb3dba10gPT09ICdvYmplY3QnKSB7XG5cdFx0XHRcdFx0dHJ5IHtcblx0XHRcdFx0XHRcdGVxdWFsc0NvbnN0cnVjdG9yUHJvdG90eXBlKHdpbmRvd1trXSk7XG5cdFx0XHRcdFx0fSBjYXRjaCAoZSkge1xuXHRcdFx0XHRcdFx0cmV0dXJuIHRydWU7XG5cdFx0XHRcdFx0fVxuXHRcdFx0XHR9XG5cdFx0XHR9IGNhdGNoIChlKSB7XG5cdFx0XHRcdHJldHVybiB0cnVlO1xuXHRcdFx0fVxuXHRcdH1cblx0XHRyZXR1cm4gZmFsc2U7XG5cdH0oKSk7XG5cdHZhciBlcXVhbHNDb25zdHJ1Y3RvclByb3RvdHlwZUlmTm90QnVnZ3kgPSBmdW5jdGlvbiAobykge1xuXHRcdC8qIGdsb2JhbCB3aW5kb3cgKi9cblx0XHRpZiAodHlwZW9mIHdpbmRvdyA9PT0gJ3VuZGVmaW5lZCcgfHwgIWhhc0F1dG9tYXRpb25FcXVhbGl0eUJ1Zykge1xuXHRcdFx0cmV0dXJuIGVxdWFsc0NvbnN0cnVjdG9yUHJvdG90eXBlKG8pO1xuXHRcdH1cblx0XHR0cnkge1xuXHRcdFx0cmV0dXJuIGVxdWFsc0NvbnN0cnVjdG9yUHJvdG90eXBlKG8pO1xuXHRcdH0gY2F0Y2ggKGUpIHtcblx0XHRcdHJldHVybiBmYWxzZTtcblx0XHR9XG5cdH07XG5cblx0a2V5c1NoaW0gPSBmdW5jdGlvbiBrZXlzKG9iamVjdCkge1xuXHRcdHZhciBpc09iamVjdCA9IG9iamVjdCAhPT0gbnVsbCAmJiB0eXBlb2Ygb2JqZWN0ID09PSAnb2JqZWN0Jztcblx0XHR2YXIgaXNGdW5jdGlvbiA9IHRvU3RyLmNhbGwob2JqZWN0KSA9PT0gJ1tvYmplY3QgRnVuY3Rpb25dJztcblx0XHR2YXIgaXNBcmd1bWVudHMgPSBpc0FyZ3Mob2JqZWN0KTtcblx0XHR2YXIgaXNTdHJpbmcgPSBpc09iamVjdCAmJiB0b1N0ci5jYWxsKG9iamVjdCkgPT09ICdbb2JqZWN0IFN0cmluZ10nO1xuXHRcdHZhciB0aGVLZXlzID0gW107XG5cblx0XHRpZiAoIWlzT2JqZWN0ICYmICFpc0Z1bmN0aW9uICYmICFpc0FyZ3VtZW50cykge1xuXHRcdFx0dGhyb3cgbmV3IFR5cGVFcnJvcignT2JqZWN0LmtleXMgY2FsbGVkIG9uIGEgbm9uLW9iamVjdCcpO1xuXHRcdH1cblxuXHRcdHZhciBza2lwUHJvdG8gPSBoYXNQcm90b0VudW1CdWcgJiYgaXNGdW5jdGlvbjtcblx0XHRpZiAoaXNTdHJpbmcgJiYgb2JqZWN0Lmxlbmd0aCA+IDAgJiYgIWhhcy5jYWxsKG9iamVjdCwgMCkpIHtcblx0XHRcdGZvciAodmFyIGkgPSAwOyBpIDwgb2JqZWN0Lmxlbmd0aDsgKytpKSB7XG5cdFx0XHRcdHRoZUtleXMucHVzaChTdHJpbmcoaSkpO1xuXHRcdFx0fVxuXHRcdH1cblxuXHRcdGlmIChpc0FyZ3VtZW50cyAmJiBvYmplY3QubGVuZ3RoID4gMCkge1xuXHRcdFx0Zm9yICh2YXIgaiA9IDA7IGogPCBvYmplY3QubGVuZ3RoOyArK2opIHtcblx0XHRcdFx0dGhlS2V5cy5wdXNoKFN0cmluZyhqKSk7XG5cdFx0XHR9XG5cdFx0fSBlbHNlIHtcblx0XHRcdGZvciAodmFyIG5hbWUgaW4gb2JqZWN0KSB7XG5cdFx0XHRcdGlmICghKHNraXBQcm90byAmJiBuYW1lID09PSAncHJvdG90eXBlJykgJiYgaGFzLmNhbGwob2JqZWN0LCBuYW1lKSkge1xuXHRcdFx0XHRcdHRoZUtleXMucHVzaChTdHJpbmcobmFtZSkpO1xuXHRcdFx0XHR9XG5cdFx0XHR9XG5cdFx0fVxuXG5cdFx0aWYgKGhhc0RvbnRFbnVtQnVnKSB7XG5cdFx0XHR2YXIgc2tpcENvbnN0cnVjdG9yID0gZXF1YWxzQ29uc3RydWN0b3JQcm90b3R5cGVJZk5vdEJ1Z2d5KG9iamVjdCk7XG5cblx0XHRcdGZvciAodmFyIGsgPSAwOyBrIDwgZG9udEVudW1zLmxlbmd0aDsgKytrKSB7XG5cdFx0XHRcdGlmICghKHNraXBDb25zdHJ1Y3RvciAmJiBkb250RW51bXNba10gPT09ICdjb25zdHJ1Y3RvcicpICYmIGhhcy5jYWxsKG9iamVjdCwgZG9udEVudW1zW2tdKSkge1xuXHRcdFx0XHRcdHRoZUtleXMucHVzaChkb250RW51bXNba10pO1xuXHRcdFx0XHR9XG5cdFx0XHR9XG5cdFx0fVxuXHRcdHJldHVybiB0aGVLZXlzO1xuXHR9O1xufVxubW9kdWxlLmV4cG9ydHMgPSBrZXlzU2hpbTtcbiIsICIndXNlIHN0cmljdCc7XG5cbnZhciBzbGljZSA9IEFycmF5LnByb3RvdHlwZS5zbGljZTtcbnZhciBpc0FyZ3MgPSByZXF1aXJlKCcuL2lzQXJndW1lbnRzJyk7XG5cbnZhciBvcmlnS2V5cyA9IE9iamVjdC5rZXlzO1xudmFyIGtleXNTaGltID0gb3JpZ0tleXMgPyBmdW5jdGlvbiBrZXlzKG8pIHsgcmV0dXJuIG9yaWdLZXlzKG8pOyB9IDogcmVxdWlyZSgnLi9pbXBsZW1lbnRhdGlvbicpO1xuXG52YXIgb3JpZ2luYWxLZXlzID0gT2JqZWN0LmtleXM7XG5cbmtleXNTaGltLnNoaW0gPSBmdW5jdGlvbiBzaGltT2JqZWN0S2V5cygpIHtcblx0aWYgKE9iamVjdC5rZXlzKSB7XG5cdFx0dmFyIGtleXNXb3Jrc1dpdGhBcmd1bWVudHMgPSAoZnVuY3Rpb24gKCkge1xuXHRcdFx0Ly8gU2FmYXJpIDUuMCBidWdcblx0XHRcdHZhciBhcmdzID0gT2JqZWN0LmtleXMoYXJndW1lbnRzKTtcblx0XHRcdHJldHVybiBhcmdzICYmIGFyZ3MubGVuZ3RoID09PSBhcmd1bWVudHMubGVuZ3RoO1xuXHRcdH0oMSwgMikpO1xuXHRcdGlmICgha2V5c1dvcmtzV2l0aEFyZ3VtZW50cykge1xuXHRcdFx0T2JqZWN0LmtleXMgPSBmdW5jdGlvbiBrZXlzKG9iamVjdCkgeyAvLyBlc2xpbnQtZGlzYWJsZS1saW5lIGZ1bmMtbmFtZS1tYXRjaGluZ1xuXHRcdFx0XHRpZiAoaXNBcmdzKG9iamVjdCkpIHtcblx0XHRcdFx0XHRyZXR1cm4gb3JpZ2luYWxLZXlzKHNsaWNlLmNhbGwob2JqZWN0KSk7XG5cdFx0XHRcdH1cblx0XHRcdFx0cmV0dXJuIG9yaWdpbmFsS2V5cyhvYmplY3QpO1xuXHRcdFx0fTtcblx0XHR9XG5cdH0gZWxzZSB7XG5cdFx0T2JqZWN0LmtleXMgPSBrZXlzU2hpbTtcblx0fVxuXHRyZXR1cm4gT2JqZWN0LmtleXMgfHwga2V5c1NoaW07XG59O1xuXG5tb2R1bGUuZXhwb3J0cyA9IGtleXNTaGltO1xuIiwgIid1c2Ugc3RyaWN0JztcblxuLy8gbW9kaWZpZWQgZnJvbSBodHRwczovL2dpdGh1Yi5jb20vZXMtc2hpbXMvZXM2LXNoaW1cbnZhciBvYmplY3RLZXlzID0gcmVxdWlyZSgnb2JqZWN0LWtleXMnKTtcbnZhciBoYXNTeW1ib2xzID0gcmVxdWlyZSgnaGFzLXN5bWJvbHMvc2hhbXMnKSgpO1xudmFyIGNhbGxCb3VuZCA9IHJlcXVpcmUoJ2NhbGwtYm91bmQnKTtcbnZhciAkT2JqZWN0ID0gcmVxdWlyZSgnZXMtb2JqZWN0LWF0b21zJyk7XG52YXIgJHB1c2ggPSBjYWxsQm91bmQoJ0FycmF5LnByb3RvdHlwZS5wdXNoJyk7XG52YXIgJHByb3BJc0VudW1lcmFibGUgPSBjYWxsQm91bmQoJ09iamVjdC5wcm90b3R5cGUucHJvcGVydHlJc0VudW1lcmFibGUnKTtcbnZhciBvcmlnaW5hbEdldFN5bWJvbHMgPSBoYXNTeW1ib2xzID8gJE9iamVjdC5nZXRPd25Qcm9wZXJ0eVN5bWJvbHMgOiBudWxsO1xuXG4vLyBlc2xpbnQtZGlzYWJsZS1uZXh0LWxpbmUgbm8tdW51c2VkLXZhcnNcbm1vZHVsZS5leHBvcnRzID0gZnVuY3Rpb24gYXNzaWduKHRhcmdldCwgc291cmNlMSkge1xuXHRpZiAodGFyZ2V0ID09IG51bGwpIHsgdGhyb3cgbmV3IFR5cGVFcnJvcigndGFyZ2V0IG11c3QgYmUgYW4gb2JqZWN0Jyk7IH1cblx0dmFyIHRvID0gJE9iamVjdCh0YXJnZXQpOyAvLyBzdGVwIDFcblx0aWYgKGFyZ3VtZW50cy5sZW5ndGggPT09IDEpIHtcblx0XHRyZXR1cm4gdG87IC8vIHN0ZXAgMlxuXHR9XG5cdGZvciAodmFyIHMgPSAxOyBzIDwgYXJndW1lbnRzLmxlbmd0aDsgKytzKSB7XG5cdFx0dmFyIGZyb20gPSAkT2JqZWN0KGFyZ3VtZW50c1tzXSk7IC8vIHN0ZXAgMy5hLmlcblxuXHRcdC8vIHN0ZXAgMy5hLmlpOlxuXHRcdHZhciBrZXlzID0gb2JqZWN0S2V5cyhmcm9tKTtcblx0XHR2YXIgZ2V0U3ltYm9scyA9IGhhc1N5bWJvbHMgJiYgKCRPYmplY3QuZ2V0T3duUHJvcGVydHlTeW1ib2xzIHx8IG9yaWdpbmFsR2V0U3ltYm9scyk7XG5cdFx0aWYgKGdldFN5bWJvbHMpIHtcblx0XHRcdHZhciBzeW1zID0gZ2V0U3ltYm9scyhmcm9tKTtcblx0XHRcdGZvciAodmFyIGogPSAwOyBqIDwgc3ltcy5sZW5ndGg7ICsraikge1xuXHRcdFx0XHR2YXIga2V5ID0gc3ltc1tqXTtcblx0XHRcdFx0aWYgKCRwcm9wSXNFbnVtZXJhYmxlKGZyb20sIGtleSkpIHtcblx0XHRcdFx0XHQkcHVzaChrZXlzLCBrZXkpO1xuXHRcdFx0XHR9XG5cdFx0XHR9XG5cdFx0fVxuXG5cdFx0Ly8gc3RlcCAzLmEuaWlpOlxuXHRcdGZvciAodmFyIGkgPSAwOyBpIDwga2V5cy5sZW5ndGg7ICsraSkge1xuXHRcdFx0dmFyIG5leHRLZXkgPSBrZXlzW2ldO1xuXHRcdFx0aWYgKCRwcm9wSXNFbnVtZXJhYmxlKGZyb20sIG5leHRLZXkpKSB7IC8vIHN0ZXAgMy5hLmlpaS4yXG5cdFx0XHRcdHZhciBwcm9wVmFsdWUgPSBmcm9tW25leHRLZXldOyAvLyBzdGVwIDMuYS5paWkuMi5hXG5cdFx0XHRcdHRvW25leHRLZXldID0gcHJvcFZhbHVlOyAvLyBzdGVwIDMuYS5paWkuMi5iXG5cdFx0XHR9XG5cdFx0fVxuXHR9XG5cblx0cmV0dXJuIHRvOyAvLyBzdGVwIDRcbn07XG4iLCAiJ3VzZSBzdHJpY3QnO1xuXG52YXIgaW1wbGVtZW50YXRpb24gPSByZXF1aXJlKCcuL2ltcGxlbWVudGF0aW9uJyk7XG5cbnZhciBsYWNrc1Byb3BlckVudW1lcmF0aW9uT3JkZXIgPSBmdW5jdGlvbiAoKSB7XG5cdGlmICghT2JqZWN0LmFzc2lnbikge1xuXHRcdHJldHVybiBmYWxzZTtcblx0fVxuXHQvKlxuXHQgKiB2OCwgc3BlY2lmaWNhbGx5IGluIG5vZGUgNC54LCBoYXMgYSBidWcgd2l0aCBpbmNvcnJlY3QgcHJvcGVydHkgZW51bWVyYXRpb24gb3JkZXJcblx0ICogbm90ZTogdGhpcyBkb2VzIG5vdCBkZXRlY3QgdGhlIGJ1ZyB1bmxlc3MgdGhlcmUncyAyMCBjaGFyYWN0ZXJzXG5cdCAqL1xuXHR2YXIgc3RyID0gJ2FiY2RlZmdoaWprbG1ub3BxcnN0Jztcblx0dmFyIGxldHRlcnMgPSBzdHIuc3BsaXQoJycpO1xuXHR2YXIgbWFwID0ge307XG5cdGZvciAodmFyIGkgPSAwOyBpIDwgbGV0dGVycy5sZW5ndGg7ICsraSkge1xuXHRcdG1hcFtsZXR0ZXJzW2ldXSA9IGxldHRlcnNbaV07XG5cdH1cblx0dmFyIG9iaiA9IE9iamVjdC5hc3NpZ24oe30sIG1hcCk7XG5cdHZhciBhY3R1YWwgPSAnJztcblx0Zm9yICh2YXIgayBpbiBvYmopIHtcblx0XHRhY3R1YWwgKz0gaztcblx0fVxuXHRyZXR1cm4gc3RyICE9PSBhY3R1YWw7XG59O1xuXG52YXIgYXNzaWduSGFzUGVuZGluZ0V4Y2VwdGlvbnMgPSBmdW5jdGlvbiAoKSB7XG5cdGlmICghT2JqZWN0LmFzc2lnbiB8fCAhT2JqZWN0LnByZXZlbnRFeHRlbnNpb25zKSB7XG5cdFx0cmV0dXJuIGZhbHNlO1xuXHR9XG5cdC8qXG5cdCAqIEZpcmVmb3ggMzcgc3RpbGwgaGFzIFwicGVuZGluZyBleGNlcHRpb25cIiBsb2dpYyBpbiBpdHMgT2JqZWN0LmFzc2lnbiBpbXBsZW1lbnRhdGlvbixcblx0ICogd2hpY2ggaXMgNzIlIHNsb3dlciB0aGFuIG91ciBzaGltLCBhbmQgRmlyZWZveCA0MCdzIG5hdGl2ZSBpbXBsZW1lbnRhdGlvbi5cblx0ICovXG5cdHZhciB0aHJvd2VyID0gT2JqZWN0LnByZXZlbnRFeHRlbnNpb25zKHsgMTogMiB9KTtcblx0dHJ5IHtcblx0XHRPYmplY3QuYXNzaWduKHRocm93ZXIsICd4eScpO1xuXHR9IGNhdGNoIChlKSB7XG5cdFx0cmV0dXJuIHRocm93ZXJbMV0gPT09ICd5Jztcblx0fVxuXHRyZXR1cm4gZmFsc2U7XG59O1xuXG5tb2R1bGUuZXhwb3J0cyA9IGZ1bmN0aW9uIGdldFBvbHlmaWxsKCkge1xuXHRpZiAoIU9iamVjdC5hc3NpZ24pIHtcblx0XHRyZXR1cm4gaW1wbGVtZW50YXRpb247XG5cdH1cblx0aWYgKGxhY2tzUHJvcGVyRW51bWVyYXRpb25PcmRlcigpKSB7XG5cdFx0cmV0dXJuIGltcGxlbWVudGF0aW9uO1xuXHR9XG5cdGlmIChhc3NpZ25IYXNQZW5kaW5nRXhjZXB0aW9ucygpKSB7XG5cdFx0cmV0dXJuIGltcGxlbWVudGF0aW9uO1xuXHR9XG5cdHJldHVybiBPYmplY3QuYXNzaWduO1xufTtcbiIsICIndXNlIHN0cmljdCc7XG5cbnZhciBudW1iZXJJc05hTiA9IGZ1bmN0aW9uICh2YWx1ZSkge1xuXHRyZXR1cm4gdmFsdWUgIT09IHZhbHVlO1xufTtcblxubW9kdWxlLmV4cG9ydHMgPSBmdW5jdGlvbiBpcyhhLCBiKSB7XG5cdGlmIChhID09PSAwICYmIGIgPT09IDApIHtcblx0XHRyZXR1cm4gMSAvIGEgPT09IDEgLyBiO1xuXHR9XG5cdGlmIChhID09PSBiKSB7XG5cdFx0cmV0dXJuIHRydWU7XG5cdH1cblx0aWYgKG51bWJlcklzTmFOKGEpICYmIG51bWJlcklzTmFOKGIpKSB7XG5cdFx0cmV0dXJuIHRydWU7XG5cdH1cblx0cmV0dXJuIGZhbHNlO1xufTtcblxuIiwgIid1c2Ugc3RyaWN0JztcblxudmFyIGltcGxlbWVudGF0aW9uID0gcmVxdWlyZSgnLi9pbXBsZW1lbnRhdGlvbicpO1xuXG5tb2R1bGUuZXhwb3J0cyA9IGZ1bmN0aW9uIGdldFBvbHlmaWxsKCkge1xuXHRyZXR1cm4gdHlwZW9mIE9iamVjdC5pcyA9PT0gJ2Z1bmN0aW9uJyA/IE9iamVjdC5pcyA6IGltcGxlbWVudGF0aW9uO1xufTtcbiIsICIndXNlIHN0cmljdCc7XG5cbnZhciBHZXRJbnRyaW5zaWMgPSByZXF1aXJlKCdnZXQtaW50cmluc2ljJyk7XG5cbnZhciBjYWxsQmluZCA9IHJlcXVpcmUoJy4vJyk7XG5cbnZhciAkaW5kZXhPZiA9IGNhbGxCaW5kKEdldEludHJpbnNpYygnU3RyaW5nLnByb3RvdHlwZS5pbmRleE9mJykpO1xuXG5tb2R1bGUuZXhwb3J0cyA9IGZ1bmN0aW9uIGNhbGxCb3VuZEludHJpbnNpYyhuYW1lLCBhbGxvd01pc3NpbmcpIHtcblx0dmFyIGludHJpbnNpYyA9IEdldEludHJpbnNpYyhuYW1lLCAhIWFsbG93TWlzc2luZyk7XG5cdGlmICh0eXBlb2YgaW50cmluc2ljID09PSAnZnVuY3Rpb24nICYmICRpbmRleE9mKG5hbWUsICcucHJvdG90eXBlLicpID4gLTEpIHtcblx0XHRyZXR1cm4gY2FsbEJpbmQoaW50cmluc2ljKTtcblx0fVxuXHRyZXR1cm4gaW50cmluc2ljO1xufTtcbiIsICIndXNlIHN0cmljdCc7XG5cbnZhciBrZXlzID0gcmVxdWlyZSgnb2JqZWN0LWtleXMnKTtcbnZhciBoYXNTeW1ib2xzID0gdHlwZW9mIFN5bWJvbCA9PT0gJ2Z1bmN0aW9uJyAmJiB0eXBlb2YgU3ltYm9sKCdmb28nKSA9PT0gJ3N5bWJvbCc7XG5cbnZhciB0b1N0ciA9IE9iamVjdC5wcm90b3R5cGUudG9TdHJpbmc7XG52YXIgY29uY2F0ID0gQXJyYXkucHJvdG90eXBlLmNvbmNhdDtcbnZhciBkZWZpbmVEYXRhUHJvcGVydHkgPSByZXF1aXJlKCdkZWZpbmUtZGF0YS1wcm9wZXJ0eScpO1xuXG52YXIgaXNGdW5jdGlvbiA9IGZ1bmN0aW9uIChmbikge1xuXHRyZXR1cm4gdHlwZW9mIGZuID09PSAnZnVuY3Rpb24nICYmIHRvU3RyLmNhbGwoZm4pID09PSAnW29iamVjdCBGdW5jdGlvbl0nO1xufTtcblxudmFyIHN1cHBvcnRzRGVzY3JpcHRvcnMgPSByZXF1aXJlKCdoYXMtcHJvcGVydHktZGVzY3JpcHRvcnMnKSgpO1xuXG52YXIgZGVmaW5lUHJvcGVydHkgPSBmdW5jdGlvbiAob2JqZWN0LCBuYW1lLCB2YWx1ZSwgcHJlZGljYXRlKSB7XG5cdGlmIChuYW1lIGluIG9iamVjdCkge1xuXHRcdGlmIChwcmVkaWNhdGUgPT09IHRydWUpIHtcblx0XHRcdGlmIChvYmplY3RbbmFtZV0gPT09IHZhbHVlKSB7XG5cdFx0XHRcdHJldHVybjtcblx0XHRcdH1cblx0XHR9IGVsc2UgaWYgKCFpc0Z1bmN0aW9uKHByZWRpY2F0ZSkgfHwgIXByZWRpY2F0ZSgpKSB7XG5cdFx0XHRyZXR1cm47XG5cdFx0fVxuXHR9XG5cblx0aWYgKHN1cHBvcnRzRGVzY3JpcHRvcnMpIHtcblx0XHRkZWZpbmVEYXRhUHJvcGVydHkob2JqZWN0LCBuYW1lLCB2YWx1ZSwgdHJ1ZSk7XG5cdH0gZWxzZSB7XG5cdFx0ZGVmaW5lRGF0YVByb3BlcnR5KG9iamVjdCwgbmFtZSwgdmFsdWUpO1xuXHR9XG59O1xuXG52YXIgZGVmaW5lUHJvcGVydGllcyA9IGZ1bmN0aW9uIChvYmplY3QsIG1hcCkge1xuXHR2YXIgcHJlZGljYXRlcyA9IGFyZ3VtZW50cy5sZW5ndGggPiAyID8gYXJndW1lbnRzWzJdIDoge307XG5cdHZhciBwcm9wcyA9IGtleXMobWFwKTtcblx0aWYgKGhhc1N5bWJvbHMpIHtcblx0XHRwcm9wcyA9IGNvbmNhdC5jYWxsKHByb3BzLCBPYmplY3QuZ2V0T3duUHJvcGVydHlTeW1ib2xzKG1hcCkpO1xuXHR9XG5cdGZvciAodmFyIGkgPSAwOyBpIDwgcHJvcHMubGVuZ3RoOyBpICs9IDEpIHtcblx0XHRkZWZpbmVQcm9wZXJ0eShvYmplY3QsIHByb3BzW2ldLCBtYXBbcHJvcHNbaV1dLCBwcmVkaWNhdGVzW3Byb3BzW2ldXSk7XG5cdH1cbn07XG5cbmRlZmluZVByb3BlcnRpZXMuc3VwcG9ydHNEZXNjcmlwdG9ycyA9ICEhc3VwcG9ydHNEZXNjcmlwdG9ycztcblxubW9kdWxlLmV4cG9ydHMgPSBkZWZpbmVQcm9wZXJ0aWVzO1xuIiwgIid1c2Ugc3RyaWN0JztcblxudmFyIGdldFBvbHlmaWxsID0gcmVxdWlyZSgnLi9wb2x5ZmlsbCcpO1xudmFyIGRlZmluZSA9IHJlcXVpcmUoJ2RlZmluZS1wcm9wZXJ0aWVzJyk7XG5cbm1vZHVsZS5leHBvcnRzID0gZnVuY3Rpb24gc2hpbU9iamVjdElzKCkge1xuXHR2YXIgcG9seWZpbGwgPSBnZXRQb2x5ZmlsbCgpO1xuXHRkZWZpbmUoT2JqZWN0LCB7IGlzOiBwb2x5ZmlsbCB9LCB7XG5cdFx0aXM6IGZ1bmN0aW9uIHRlc3RPYmplY3RJcygpIHtcblx0XHRcdHJldHVybiBPYmplY3QuaXMgIT09IHBvbHlmaWxsO1xuXHRcdH1cblx0fSk7XG5cdHJldHVybiBwb2x5ZmlsbDtcbn07XG4iLCAiJ3VzZSBzdHJpY3QnO1xuXG52YXIgZGVmaW5lID0gcmVxdWlyZSgnZGVmaW5lLXByb3BlcnRpZXMnKTtcbnZhciBjYWxsQmluZCA9IHJlcXVpcmUoJ2NhbGwtYmluZCcpO1xuXG52YXIgaW1wbGVtZW50YXRpb24gPSByZXF1aXJlKCcuL2ltcGxlbWVudGF0aW9uJyk7XG52YXIgZ2V0UG9seWZpbGwgPSByZXF1aXJlKCcuL3BvbHlmaWxsJyk7XG52YXIgc2hpbSA9IHJlcXVpcmUoJy4vc2hpbScpO1xuXG52YXIgcG9seWZpbGwgPSBjYWxsQmluZChnZXRQb2x5ZmlsbCgpLCBPYmplY3QpO1xuXG5kZWZpbmUocG9seWZpbGwsIHtcblx0Z2V0UG9seWZpbGw6IGdldFBvbHlmaWxsLFxuXHRpbXBsZW1lbnRhdGlvbjogaW1wbGVtZW50YXRpb24sXG5cdHNoaW06IHNoaW1cbn0pO1xuXG5tb2R1bGUuZXhwb3J0cyA9IHBvbHlmaWxsO1xuIiwgIid1c2Ugc3RyaWN0JztcblxuLyogaHR0cDovL3d3dy5lY21hLWludGVybmF0aW9uYWwub3JnL2VjbWEtMjYyLzYuMC8jc2VjLW51bWJlci5pc25hbiAqL1xuXG5tb2R1bGUuZXhwb3J0cyA9IGZ1bmN0aW9uIGlzTmFOKHZhbHVlKSB7XG5cdHJldHVybiB2YWx1ZSAhPT0gdmFsdWU7XG59O1xuIiwgIid1c2Ugc3RyaWN0JztcblxudmFyIGltcGxlbWVudGF0aW9uID0gcmVxdWlyZSgnLi9pbXBsZW1lbnRhdGlvbicpO1xuXG5tb2R1bGUuZXhwb3J0cyA9IGZ1bmN0aW9uIGdldFBvbHlmaWxsKCkge1xuXHRpZiAoTnVtYmVyLmlzTmFOICYmIE51bWJlci5pc05hTihOYU4pICYmICFOdW1iZXIuaXNOYU4oJ2EnKSkge1xuXHRcdHJldHVybiBOdW1iZXIuaXNOYU47XG5cdH1cblx0cmV0dXJuIGltcGxlbWVudGF0aW9uO1xufTtcbiIsICIndXNlIHN0cmljdCc7XG5cbnZhciBkZWZpbmUgPSByZXF1aXJlKCdkZWZpbmUtcHJvcGVydGllcycpO1xudmFyIGdldFBvbHlmaWxsID0gcmVxdWlyZSgnLi9wb2x5ZmlsbCcpO1xuXG4vKiBodHRwOi8vd3d3LmVjbWEtaW50ZXJuYXRpb25hbC5vcmcvZWNtYS0yNjIvNi4wLyNzZWMtbnVtYmVyLmlzbmFuICovXG5cbm1vZHVsZS5leHBvcnRzID0gZnVuY3Rpb24gc2hpbU51bWJlcklzTmFOKCkge1xuXHR2YXIgcG9seWZpbGwgPSBnZXRQb2x5ZmlsbCgpO1xuXHRkZWZpbmUoTnVtYmVyLCB7IGlzTmFOOiBwb2x5ZmlsbCB9LCB7XG5cdFx0aXNOYU46IGZ1bmN0aW9uIHRlc3RJc05hTigpIHtcblx0XHRcdHJldHVybiBOdW1iZXIuaXNOYU4gIT09IHBvbHlmaWxsO1xuXHRcdH1cblx0fSk7XG5cdHJldHVybiBwb2x5ZmlsbDtcbn07XG4iLCAiJ3VzZSBzdHJpY3QnO1xuXG52YXIgY2FsbEJpbmQgPSByZXF1aXJlKCdjYWxsLWJpbmQnKTtcbnZhciBkZWZpbmUgPSByZXF1aXJlKCdkZWZpbmUtcHJvcGVydGllcycpO1xuXG52YXIgaW1wbGVtZW50YXRpb24gPSByZXF1aXJlKCcuL2ltcGxlbWVudGF0aW9uJyk7XG52YXIgZ2V0UG9seWZpbGwgPSByZXF1aXJlKCcuL3BvbHlmaWxsJyk7XG52YXIgc2hpbSA9IHJlcXVpcmUoJy4vc2hpbScpO1xuXG52YXIgcG9seWZpbGwgPSBjYWxsQmluZChnZXRQb2x5ZmlsbCgpLCBOdW1iZXIpO1xuXG4vKiBodHRwOi8vd3d3LmVjbWEtaW50ZXJuYXRpb25hbC5vcmcvZWNtYS0yNjIvNi4wLyNzZWMtbnVtYmVyLmlzbmFuICovXG5cbmRlZmluZShwb2x5ZmlsbCwge1xuXHRnZXRQb2x5ZmlsbDogZ2V0UG9seWZpbGwsXG5cdGltcGxlbWVudGF0aW9uOiBpbXBsZW1lbnRhdGlvbixcblx0c2hpbTogc2hpbVxufSk7XG5cbm1vZHVsZS5leHBvcnRzID0gcG9seWZpbGw7XG4iLCAiLy8gQ3VycmVudGx5IGluIHN5bmMgd2l0aCBOb2RlLmpzIGxpYi9pbnRlcm5hbC91dGlsL2NvbXBhcmlzb25zLmpzXG4vLyBodHRwczovL2dpdGh1Yi5jb20vbm9kZWpzL25vZGUvY29tbWl0LzExMmNjN2MyNzU1MTI1NGFhMmIxNzA5OGZiNzc0ODY3ZjA1ZWQwZDlcblxuJ3VzZSBzdHJpY3QnO1xuXG5mdW5jdGlvbiBfc2xpY2VkVG9BcnJheShhcnIsIGkpIHsgcmV0dXJuIF9hcnJheVdpdGhIb2xlcyhhcnIpIHx8IF9pdGVyYWJsZVRvQXJyYXlMaW1pdChhcnIsIGkpIHx8IF91bnN1cHBvcnRlZEl0ZXJhYmxlVG9BcnJheShhcnIsIGkpIHx8IF9ub25JdGVyYWJsZVJlc3QoKTsgfVxuZnVuY3Rpb24gX25vbkl0ZXJhYmxlUmVzdCgpIHsgdGhyb3cgbmV3IFR5cGVFcnJvcihcIkludmFsaWQgYXR0ZW1wdCB0byBkZXN0cnVjdHVyZSBub24taXRlcmFibGUgaW5zdGFuY2UuXFxuSW4gb3JkZXIgdG8gYmUgaXRlcmFibGUsIG5vbi1hcnJheSBvYmplY3RzIG11c3QgaGF2ZSBhIFtTeW1ib2wuaXRlcmF0b3JdKCkgbWV0aG9kLlwiKTsgfVxuZnVuY3Rpb24gX3Vuc3VwcG9ydGVkSXRlcmFibGVUb0FycmF5KG8sIG1pbkxlbikgeyBpZiAoIW8pIHJldHVybjsgaWYgKHR5cGVvZiBvID09PSBcInN0cmluZ1wiKSByZXR1cm4gX2FycmF5TGlrZVRvQXJyYXkobywgbWluTGVuKTsgdmFyIG4gPSBPYmplY3QucHJvdG90eXBlLnRvU3RyaW5nLmNhbGwobykuc2xpY2UoOCwgLTEpOyBpZiAobiA9PT0gXCJPYmplY3RcIiAmJiBvLmNvbnN0cnVjdG9yKSBuID0gby5jb25zdHJ1Y3Rvci5uYW1lOyBpZiAobiA9PT0gXCJNYXBcIiB8fCBuID09PSBcIlNldFwiKSByZXR1cm4gQXJyYXkuZnJvbShvKTsgaWYgKG4gPT09IFwiQXJndW1lbnRzXCIgfHwgL14oPzpVaXxJKW50KD86OHwxNnwzMikoPzpDbGFtcGVkKT9BcnJheSQvLnRlc3QobikpIHJldHVybiBfYXJyYXlMaWtlVG9BcnJheShvLCBtaW5MZW4pOyB9XG5mdW5jdGlvbiBfYXJyYXlMaWtlVG9BcnJheShhcnIsIGxlbikgeyBpZiAobGVuID09IG51bGwgfHwgbGVuID4gYXJyLmxlbmd0aCkgbGVuID0gYXJyLmxlbmd0aDsgZm9yICh2YXIgaSA9IDAsIGFycjIgPSBuZXcgQXJyYXkobGVuKTsgaSA8IGxlbjsgaSsrKSBhcnIyW2ldID0gYXJyW2ldOyByZXR1cm4gYXJyMjsgfVxuZnVuY3Rpb24gX2l0ZXJhYmxlVG9BcnJheUxpbWl0KHIsIGwpIHsgdmFyIHQgPSBudWxsID09IHIgPyBudWxsIDogXCJ1bmRlZmluZWRcIiAhPSB0eXBlb2YgU3ltYm9sICYmIHJbU3ltYm9sLml0ZXJhdG9yXSB8fCByW1wiQEBpdGVyYXRvclwiXTsgaWYgKG51bGwgIT0gdCkgeyB2YXIgZSwgbiwgaSwgdSwgYSA9IFtdLCBmID0gITAsIG8gPSAhMTsgdHJ5IHsgaWYgKGkgPSAodCA9IHQuY2FsbChyKSkubmV4dCwgMCA9PT0gbCkgeyBpZiAoT2JqZWN0KHQpICE9PSB0KSByZXR1cm47IGYgPSAhMTsgfSBlbHNlIGZvciAoOyAhKGYgPSAoZSA9IGkuY2FsbCh0KSkuZG9uZSkgJiYgKGEucHVzaChlLnZhbHVlKSwgYS5sZW5ndGggIT09IGwpOyBmID0gITApOyB9IGNhdGNoIChyKSB7IG8gPSAhMCwgbiA9IHI7IH0gZmluYWxseSB7IHRyeSB7IGlmICghZiAmJiBudWxsICE9IHQucmV0dXJuICYmICh1ID0gdC5yZXR1cm4oKSwgT2JqZWN0KHUpICE9PSB1KSkgcmV0dXJuOyB9IGZpbmFsbHkgeyBpZiAobykgdGhyb3cgbjsgfSB9IHJldHVybiBhOyB9IH1cbmZ1bmN0aW9uIF9hcnJheVdpdGhIb2xlcyhhcnIpIHsgaWYgKEFycmF5LmlzQXJyYXkoYXJyKSkgcmV0dXJuIGFycjsgfVxuZnVuY3Rpb24gX3R5cGVvZihvKSB7IFwiQGJhYmVsL2hlbHBlcnMgLSB0eXBlb2ZcIjsgcmV0dXJuIF90eXBlb2YgPSBcImZ1bmN0aW9uXCIgPT0gdHlwZW9mIFN5bWJvbCAmJiBcInN5bWJvbFwiID09IHR5cGVvZiBTeW1ib2wuaXRlcmF0b3IgPyBmdW5jdGlvbiAobykgeyByZXR1cm4gdHlwZW9mIG87IH0gOiBmdW5jdGlvbiAobykgeyByZXR1cm4gbyAmJiBcImZ1bmN0aW9uXCIgPT0gdHlwZW9mIFN5bWJvbCAmJiBvLmNvbnN0cnVjdG9yID09PSBTeW1ib2wgJiYgbyAhPT0gU3ltYm9sLnByb3RvdHlwZSA/IFwic3ltYm9sXCIgOiB0eXBlb2YgbzsgfSwgX3R5cGVvZihvKTsgfVxudmFyIHJlZ2V4RmxhZ3NTdXBwb3J0ZWQgPSAvYS9nLmZsYWdzICE9PSB1bmRlZmluZWQ7XG52YXIgYXJyYXlGcm9tU2V0ID0gZnVuY3Rpb24gYXJyYXlGcm9tU2V0KHNldCkge1xuICB2YXIgYXJyYXkgPSBbXTtcbiAgc2V0LmZvckVhY2goZnVuY3Rpb24gKHZhbHVlKSB7XG4gICAgcmV0dXJuIGFycmF5LnB1c2godmFsdWUpO1xuICB9KTtcbiAgcmV0dXJuIGFycmF5O1xufTtcbnZhciBhcnJheUZyb21NYXAgPSBmdW5jdGlvbiBhcnJheUZyb21NYXAobWFwKSB7XG4gIHZhciBhcnJheSA9IFtdO1xuICBtYXAuZm9yRWFjaChmdW5jdGlvbiAodmFsdWUsIGtleSkge1xuICAgIHJldHVybiBhcnJheS5wdXNoKFtrZXksIHZhbHVlXSk7XG4gIH0pO1xuICByZXR1cm4gYXJyYXk7XG59O1xudmFyIG9iamVjdElzID0gT2JqZWN0LmlzID8gT2JqZWN0LmlzIDogcmVxdWlyZSgnb2JqZWN0LWlzJyk7XG52YXIgb2JqZWN0R2V0T3duUHJvcGVydHlTeW1ib2xzID0gT2JqZWN0LmdldE93blByb3BlcnR5U3ltYm9scyA/IE9iamVjdC5nZXRPd25Qcm9wZXJ0eVN5bWJvbHMgOiBmdW5jdGlvbiAoKSB7XG4gIHJldHVybiBbXTtcbn07XG52YXIgbnVtYmVySXNOYU4gPSBOdW1iZXIuaXNOYU4gPyBOdW1iZXIuaXNOYU4gOiByZXF1aXJlKCdpcy1uYW4nKTtcbmZ1bmN0aW9uIHVuY3VycnlUaGlzKGYpIHtcbiAgcmV0dXJuIGYuY2FsbC5iaW5kKGYpO1xufVxudmFyIGhhc093blByb3BlcnR5ID0gdW5jdXJyeVRoaXMoT2JqZWN0LnByb3RvdHlwZS5oYXNPd25Qcm9wZXJ0eSk7XG52YXIgcHJvcGVydHlJc0VudW1lcmFibGUgPSB1bmN1cnJ5VGhpcyhPYmplY3QucHJvdG90eXBlLnByb3BlcnR5SXNFbnVtZXJhYmxlKTtcbnZhciBvYmplY3RUb1N0cmluZyA9IHVuY3VycnlUaGlzKE9iamVjdC5wcm90b3R5cGUudG9TdHJpbmcpO1xudmFyIF9yZXF1aXJlJHR5cGVzID0gcmVxdWlyZSgndXRpbC8nKS50eXBlcyxcbiAgaXNBbnlBcnJheUJ1ZmZlciA9IF9yZXF1aXJlJHR5cGVzLmlzQW55QXJyYXlCdWZmZXIsXG4gIGlzQXJyYXlCdWZmZXJWaWV3ID0gX3JlcXVpcmUkdHlwZXMuaXNBcnJheUJ1ZmZlclZpZXcsXG4gIGlzRGF0ZSA9IF9yZXF1aXJlJHR5cGVzLmlzRGF0ZSxcbiAgaXNNYXAgPSBfcmVxdWlyZSR0eXBlcy5pc01hcCxcbiAgaXNSZWdFeHAgPSBfcmVxdWlyZSR0eXBlcy5pc1JlZ0V4cCxcbiAgaXNTZXQgPSBfcmVxdWlyZSR0eXBlcy5pc1NldCxcbiAgaXNOYXRpdmVFcnJvciA9IF9yZXF1aXJlJHR5cGVzLmlzTmF0aXZlRXJyb3IsXG4gIGlzQm94ZWRQcmltaXRpdmUgPSBfcmVxdWlyZSR0eXBlcy5pc0JveGVkUHJpbWl0aXZlLFxuICBpc051bWJlck9iamVjdCA9IF9yZXF1aXJlJHR5cGVzLmlzTnVtYmVyT2JqZWN0LFxuICBpc1N0cmluZ09iamVjdCA9IF9yZXF1aXJlJHR5cGVzLmlzU3RyaW5nT2JqZWN0LFxuICBpc0Jvb2xlYW5PYmplY3QgPSBfcmVxdWlyZSR0eXBlcy5pc0Jvb2xlYW5PYmplY3QsXG4gIGlzQmlnSW50T2JqZWN0ID0gX3JlcXVpcmUkdHlwZXMuaXNCaWdJbnRPYmplY3QsXG4gIGlzU3ltYm9sT2JqZWN0ID0gX3JlcXVpcmUkdHlwZXMuaXNTeW1ib2xPYmplY3QsXG4gIGlzRmxvYXQzMkFycmF5ID0gX3JlcXVpcmUkdHlwZXMuaXNGbG9hdDMyQXJyYXksXG4gIGlzRmxvYXQ2NEFycmF5ID0gX3JlcXVpcmUkdHlwZXMuaXNGbG9hdDY0QXJyYXk7XG5mdW5jdGlvbiBpc05vbkluZGV4KGtleSkge1xuICBpZiAoa2V5Lmxlbmd0aCA9PT0gMCB8fCBrZXkubGVuZ3RoID4gMTApIHJldHVybiB0cnVlO1xuICBmb3IgKHZhciBpID0gMDsgaSA8IGtleS5sZW5ndGg7IGkrKykge1xuICAgIHZhciBjb2RlID0ga2V5LmNoYXJDb2RlQXQoaSk7XG4gICAgaWYgKGNvZGUgPCA0OCB8fCBjb2RlID4gNTcpIHJldHVybiB0cnVlO1xuICB9XG4gIC8vIFRoZSBtYXhpbXVtIHNpemUgZm9yIGFuIGFycmF5IGlzIDIgKiogMzIgLTEuXG4gIHJldHVybiBrZXkubGVuZ3RoID09PSAxMCAmJiBrZXkgPj0gTWF0aC5wb3coMiwgMzIpO1xufVxuZnVuY3Rpb24gZ2V0T3duTm9uSW5kZXhQcm9wZXJ0aWVzKHZhbHVlKSB7XG4gIHJldHVybiBPYmplY3Qua2V5cyh2YWx1ZSkuZmlsdGVyKGlzTm9uSW5kZXgpLmNvbmNhdChvYmplY3RHZXRPd25Qcm9wZXJ0eVN5bWJvbHModmFsdWUpLmZpbHRlcihPYmplY3QucHJvdG90eXBlLnByb3BlcnR5SXNFbnVtZXJhYmxlLmJpbmQodmFsdWUpKSk7XG59XG5cbi8vIFRha2VuIGZyb20gaHR0cHM6Ly9naXRodWIuY29tL2Zlcm9zcy9idWZmZXIvYmxvYi82ODBlOWU1ZTQ4OGYyMmFhYzI3NTk5YTU3ZGM4NDRhNjMxNTkyOGRkL2luZGV4LmpzXG4vLyBvcmlnaW5hbCBub3RpY2U6XG4vKiFcbiAqIFRoZSBidWZmZXIgbW9kdWxlIGZyb20gbm9kZS5qcywgZm9yIHRoZSBicm93c2VyLlxuICpcbiAqIEBhdXRob3IgICBGZXJvc3MgQWJvdWtoYWRpamVoIDxmZXJvc3NAZmVyb3NzLm9yZz4gPGh0dHA6Ly9mZXJvc3Mub3JnPlxuICogQGxpY2Vuc2UgIE1JVFxuICovXG5mdW5jdGlvbiBjb21wYXJlKGEsIGIpIHtcbiAgaWYgKGEgPT09IGIpIHtcbiAgICByZXR1cm4gMDtcbiAgfVxuICB2YXIgeCA9IGEubGVuZ3RoO1xuICB2YXIgeSA9IGIubGVuZ3RoO1xuICBmb3IgKHZhciBpID0gMCwgbGVuID0gTWF0aC5taW4oeCwgeSk7IGkgPCBsZW47ICsraSkge1xuICAgIGlmIChhW2ldICE9PSBiW2ldKSB7XG4gICAgICB4ID0gYVtpXTtcbiAgICAgIHkgPSBiW2ldO1xuICAgICAgYnJlYWs7XG4gICAgfVxuICB9XG4gIGlmICh4IDwgeSkge1xuICAgIHJldHVybiAtMTtcbiAgfVxuICBpZiAoeSA8IHgpIHtcbiAgICByZXR1cm4gMTtcbiAgfVxuICByZXR1cm4gMDtcbn1cbnZhciBPTkxZX0VOVU1FUkFCTEUgPSB1bmRlZmluZWQ7XG52YXIga1N0cmljdCA9IHRydWU7XG52YXIga0xvb3NlID0gZmFsc2U7XG52YXIga05vSXRlcmF0b3IgPSAwO1xudmFyIGtJc0FycmF5ID0gMTtcbnZhciBrSXNTZXQgPSAyO1xudmFyIGtJc01hcCA9IDM7XG5cbi8vIENoZWNrIGlmIHRoZXkgaGF2ZSB0aGUgc2FtZSBzb3VyY2UgYW5kIGZsYWdzXG5mdW5jdGlvbiBhcmVTaW1pbGFyUmVnRXhwcyhhLCBiKSB7XG4gIHJldHVybiByZWdleEZsYWdzU3VwcG9ydGVkID8gYS5zb3VyY2UgPT09IGIuc291cmNlICYmIGEuZmxhZ3MgPT09IGIuZmxhZ3MgOiBSZWdFeHAucHJvdG90eXBlLnRvU3RyaW5nLmNhbGwoYSkgPT09IFJlZ0V4cC5wcm90b3R5cGUudG9TdHJpbmcuY2FsbChiKTtcbn1cbmZ1bmN0aW9uIGFyZVNpbWlsYXJGbG9hdEFycmF5cyhhLCBiKSB7XG4gIGlmIChhLmJ5dGVMZW5ndGggIT09IGIuYnl0ZUxlbmd0aCkge1xuICAgIHJldHVybiBmYWxzZTtcbiAgfVxuICBmb3IgKHZhciBvZmZzZXQgPSAwOyBvZmZzZXQgPCBhLmJ5dGVMZW5ndGg7IG9mZnNldCsrKSB7XG4gICAgaWYgKGFbb2Zmc2V0XSAhPT0gYltvZmZzZXRdKSB7XG4gICAgICByZXR1cm4gZmFsc2U7XG4gICAgfVxuICB9XG4gIHJldHVybiB0cnVlO1xufVxuZnVuY3Rpb24gYXJlU2ltaWxhclR5cGVkQXJyYXlzKGEsIGIpIHtcbiAgaWYgKGEuYnl0ZUxlbmd0aCAhPT0gYi5ieXRlTGVuZ3RoKSB7XG4gICAgcmV0dXJuIGZhbHNlO1xuICB9XG4gIHJldHVybiBjb21wYXJlKG5ldyBVaW50OEFycmF5KGEuYnVmZmVyLCBhLmJ5dGVPZmZzZXQsIGEuYnl0ZUxlbmd0aCksIG5ldyBVaW50OEFycmF5KGIuYnVmZmVyLCBiLmJ5dGVPZmZzZXQsIGIuYnl0ZUxlbmd0aCkpID09PSAwO1xufVxuZnVuY3Rpb24gYXJlRXF1YWxBcnJheUJ1ZmZlcnMoYnVmMSwgYnVmMikge1xuICByZXR1cm4gYnVmMS5ieXRlTGVuZ3RoID09PSBidWYyLmJ5dGVMZW5ndGggJiYgY29tcGFyZShuZXcgVWludDhBcnJheShidWYxKSwgbmV3IFVpbnQ4QXJyYXkoYnVmMikpID09PSAwO1xufVxuZnVuY3Rpb24gaXNFcXVhbEJveGVkUHJpbWl0aXZlKHZhbDEsIHZhbDIpIHtcbiAgaWYgKGlzTnVtYmVyT2JqZWN0KHZhbDEpKSB7XG4gICAgcmV0dXJuIGlzTnVtYmVyT2JqZWN0KHZhbDIpICYmIG9iamVjdElzKE51bWJlci5wcm90b3R5cGUudmFsdWVPZi5jYWxsKHZhbDEpLCBOdW1iZXIucHJvdG90eXBlLnZhbHVlT2YuY2FsbCh2YWwyKSk7XG4gIH1cbiAgaWYgKGlzU3RyaW5nT2JqZWN0KHZhbDEpKSB7XG4gICAgcmV0dXJuIGlzU3RyaW5nT2JqZWN0KHZhbDIpICYmIFN0cmluZy5wcm90b3R5cGUudmFsdWVPZi5jYWxsKHZhbDEpID09PSBTdHJpbmcucHJvdG90eXBlLnZhbHVlT2YuY2FsbCh2YWwyKTtcbiAgfVxuICBpZiAoaXNCb29sZWFuT2JqZWN0KHZhbDEpKSB7XG4gICAgcmV0dXJuIGlzQm9vbGVhbk9iamVjdCh2YWwyKSAmJiBCb29sZWFuLnByb3RvdHlwZS52YWx1ZU9mLmNhbGwodmFsMSkgPT09IEJvb2xlYW4ucHJvdG90eXBlLnZhbHVlT2YuY2FsbCh2YWwyKTtcbiAgfVxuICBpZiAoaXNCaWdJbnRPYmplY3QodmFsMSkpIHtcbiAgICByZXR1cm4gaXNCaWdJbnRPYmplY3QodmFsMikgJiYgQmlnSW50LnByb3RvdHlwZS52YWx1ZU9mLmNhbGwodmFsMSkgPT09IEJpZ0ludC5wcm90b3R5cGUudmFsdWVPZi5jYWxsKHZhbDIpO1xuICB9XG4gIHJldHVybiBpc1N5bWJvbE9iamVjdCh2YWwyKSAmJiBTeW1ib2wucHJvdG90eXBlLnZhbHVlT2YuY2FsbCh2YWwxKSA9PT0gU3ltYm9sLnByb3RvdHlwZS52YWx1ZU9mLmNhbGwodmFsMik7XG59XG5cbi8vIE5vdGVzOiBUeXBlIHRhZ3MgYXJlIGhpc3RvcmljYWwgW1tDbGFzc11dIHByb3BlcnRpZXMgdGhhdCBjYW4gYmUgc2V0IGJ5XG4vLyBGdW5jdGlvblRlbXBsYXRlOjpTZXRDbGFzc05hbWUoKSBpbiBDKysgb3IgU3ltYm9sLnRvU3RyaW5nVGFnIGluIEpTXG4vLyBhbmQgcmV0cmlldmVkIHVzaW5nIE9iamVjdC5wcm90b3R5cGUudG9TdHJpbmcuY2FsbChvYmopIGluIEpTXG4vLyBTZWUgaHR0cHM6Ly90YzM5LmdpdGh1Yi5pby9lY21hMjYyLyNzZWMtb2JqZWN0LnByb3RvdHlwZS50b3N0cmluZ1xuLy8gZm9yIGEgbGlzdCBvZiB0YWdzIHByZS1kZWZpbmVkIGluIHRoZSBzcGVjLlxuLy8gVGhlcmUgYXJlIHNvbWUgdW5zcGVjaWZpZWQgdGFncyBpbiB0aGUgd2lsZCB0b28gKGUuZy4gdHlwZWQgYXJyYXkgdGFncykuXG4vLyBTaW5jZSB0YWdzIGNhbiBiZSBhbHRlcmVkLCB0aGV5IG9ubHkgc2VydmUgZmFzdCBmYWlsdXJlc1xuLy9cbi8vIFR5cGVkIGFycmF5cyBhbmQgYnVmZmVycyBhcmUgY2hlY2tlZCBieSBjb21wYXJpbmcgdGhlIGNvbnRlbnQgaW4gdGhlaXJcbi8vIHVuZGVybHlpbmcgQXJyYXlCdWZmZXIuIFRoaXMgb3B0aW1pemF0aW9uIHJlcXVpcmVzIHRoYXQgaXQnc1xuLy8gcmVhc29uYWJsZSB0byBpbnRlcnByZXQgdGhlaXIgdW5kZXJseWluZyBtZW1vcnkgaW4gdGhlIHNhbWUgd2F5LFxuLy8gd2hpY2ggaXMgY2hlY2tlZCBieSBjb21wYXJpbmcgdGhlaXIgdHlwZSB0YWdzLlxuLy8gKGUuZy4gYSBVaW50OEFycmF5IGFuZCBhIFVpbnQxNkFycmF5IHdpdGggdGhlIHNhbWUgbWVtb3J5IGNvbnRlbnRcbi8vIGNvdWxkIHN0aWxsIGJlIGRpZmZlcmVudCBiZWNhdXNlIHRoZXkgd2lsbCBiZSBpbnRlcnByZXRlZCBkaWZmZXJlbnRseSkuXG4vL1xuLy8gRm9yIHN0cmljdCBjb21wYXJpc29uLCBvYmplY3RzIHNob3VsZCBoYXZlXG4vLyBhKSBUaGUgc2FtZSBidWlsdC1pbiB0eXBlIHRhZ3Ncbi8vIGIpIFRoZSBzYW1lIHByb3RvdHlwZXMuXG5cbmZ1bmN0aW9uIGlubmVyRGVlcEVxdWFsKHZhbDEsIHZhbDIsIHN0cmljdCwgbWVtb3MpIHtcbiAgLy8gQWxsIGlkZW50aWNhbCB2YWx1ZXMgYXJlIGVxdWl2YWxlbnQsIGFzIGRldGVybWluZWQgYnkgPT09LlxuICBpZiAodmFsMSA9PT0gdmFsMikge1xuICAgIGlmICh2YWwxICE9PSAwKSByZXR1cm4gdHJ1ZTtcbiAgICByZXR1cm4gc3RyaWN0ID8gb2JqZWN0SXModmFsMSwgdmFsMikgOiB0cnVlO1xuICB9XG5cbiAgLy8gQ2hlY2sgbW9yZSBjbG9zZWx5IGlmIHZhbDEgYW5kIHZhbDIgYXJlIGVxdWFsLlxuICBpZiAoc3RyaWN0KSB7XG4gICAgaWYgKF90eXBlb2YodmFsMSkgIT09ICdvYmplY3QnKSB7XG4gICAgICByZXR1cm4gdHlwZW9mIHZhbDEgPT09ICdudW1iZXInICYmIG51bWJlcklzTmFOKHZhbDEpICYmIG51bWJlcklzTmFOKHZhbDIpO1xuICAgIH1cbiAgICBpZiAoX3R5cGVvZih2YWwyKSAhPT0gJ29iamVjdCcgfHwgdmFsMSA9PT0gbnVsbCB8fCB2YWwyID09PSBudWxsKSB7XG4gICAgICByZXR1cm4gZmFsc2U7XG4gICAgfVxuICAgIGlmIChPYmplY3QuZ2V0UHJvdG90eXBlT2YodmFsMSkgIT09IE9iamVjdC5nZXRQcm90b3R5cGVPZih2YWwyKSkge1xuICAgICAgcmV0dXJuIGZhbHNlO1xuICAgIH1cbiAgfSBlbHNlIHtcbiAgICBpZiAodmFsMSA9PT0gbnVsbCB8fCBfdHlwZW9mKHZhbDEpICE9PSAnb2JqZWN0Jykge1xuICAgICAgaWYgKHZhbDIgPT09IG51bGwgfHwgX3R5cGVvZih2YWwyKSAhPT0gJ29iamVjdCcpIHtcbiAgICAgICAgLy8gZXNsaW50LWRpc2FibGUtbmV4dC1saW5lIGVxZXFlcVxuICAgICAgICByZXR1cm4gdmFsMSA9PSB2YWwyO1xuICAgICAgfVxuICAgICAgcmV0dXJuIGZhbHNlO1xuICAgIH1cbiAgICBpZiAodmFsMiA9PT0gbnVsbCB8fCBfdHlwZW9mKHZhbDIpICE9PSAnb2JqZWN0Jykge1xuICAgICAgcmV0dXJuIGZhbHNlO1xuICAgIH1cbiAgfVxuICB2YXIgdmFsMVRhZyA9IG9iamVjdFRvU3RyaW5nKHZhbDEpO1xuICB2YXIgdmFsMlRhZyA9IG9iamVjdFRvU3RyaW5nKHZhbDIpO1xuICBpZiAodmFsMVRhZyAhPT0gdmFsMlRhZykge1xuICAgIHJldHVybiBmYWxzZTtcbiAgfVxuICBpZiAoQXJyYXkuaXNBcnJheSh2YWwxKSkge1xuICAgIC8vIENoZWNrIGZvciBzcGFyc2UgYXJyYXlzIGFuZCBnZW5lcmFsIGZhc3QgcGF0aFxuICAgIGlmICh2YWwxLmxlbmd0aCAhPT0gdmFsMi5sZW5ndGgpIHtcbiAgICAgIHJldHVybiBmYWxzZTtcbiAgICB9XG4gICAgdmFyIGtleXMxID0gZ2V0T3duTm9uSW5kZXhQcm9wZXJ0aWVzKHZhbDEsIE9OTFlfRU5VTUVSQUJMRSk7XG4gICAgdmFyIGtleXMyID0gZ2V0T3duTm9uSW5kZXhQcm9wZXJ0aWVzKHZhbDIsIE9OTFlfRU5VTUVSQUJMRSk7XG4gICAgaWYgKGtleXMxLmxlbmd0aCAhPT0ga2V5czIubGVuZ3RoKSB7XG4gICAgICByZXR1cm4gZmFsc2U7XG4gICAgfVxuICAgIHJldHVybiBrZXlDaGVjayh2YWwxLCB2YWwyLCBzdHJpY3QsIG1lbW9zLCBrSXNBcnJheSwga2V5czEpO1xuICB9XG4gIC8vIFticm93c2VyaWZ5XSBUaGlzIHRyaWdnZXJzIG9uIGNlcnRhaW4gdHlwZXMgaW4gSUUgKE1hcC9TZXQpIHNvIHdlIGRvbid0XG4gIC8vIHdhbid0IHRvIGVhcmx5IHJldHVybiBvdXQgb2YgdGhlIHJlc3Qgb2YgdGhlIGNoZWNrcy4gSG93ZXZlciB3ZSBjYW4gY2hlY2tcbiAgLy8gaWYgdGhlIHNlY29uZCB2YWx1ZSBpcyBvbmUgb2YgdGhlc2UgdmFsdWVzIGFuZCB0aGUgZmlyc3QgaXNuJ3QuXG4gIGlmICh2YWwxVGFnID09PSAnW29iamVjdCBPYmplY3RdJykge1xuICAgIC8vIHJldHVybiBrZXlDaGVjayh2YWwxLCB2YWwyLCBzdHJpY3QsIG1lbW9zLCBrTm9JdGVyYXRvcik7XG4gICAgaWYgKCFpc01hcCh2YWwxKSAmJiBpc01hcCh2YWwyKSB8fCAhaXNTZXQodmFsMSkgJiYgaXNTZXQodmFsMikpIHtcbiAgICAgIHJldHVybiBmYWxzZTtcbiAgICB9XG4gIH1cbiAgaWYgKGlzRGF0ZSh2YWwxKSkge1xuICAgIGlmICghaXNEYXRlKHZhbDIpIHx8IERhdGUucHJvdG90eXBlLmdldFRpbWUuY2FsbCh2YWwxKSAhPT0gRGF0ZS5wcm90b3R5cGUuZ2V0VGltZS5jYWxsKHZhbDIpKSB7XG4gICAgICByZXR1cm4gZmFsc2U7XG4gICAgfVxuICB9IGVsc2UgaWYgKGlzUmVnRXhwKHZhbDEpKSB7XG4gICAgaWYgKCFpc1JlZ0V4cCh2YWwyKSB8fCAhYXJlU2ltaWxhclJlZ0V4cHModmFsMSwgdmFsMikpIHtcbiAgICAgIHJldHVybiBmYWxzZTtcbiAgICB9XG4gIH0gZWxzZSBpZiAoaXNOYXRpdmVFcnJvcih2YWwxKSB8fCB2YWwxIGluc3RhbmNlb2YgRXJyb3IpIHtcbiAgICAvLyBEbyBub3QgY29tcGFyZSB0aGUgc3RhY2sgYXMgaXQgbWlnaHQgZGlmZmVyIGV2ZW4gdGhvdWdoIHRoZSBlcnJvciBpdHNlbGZcbiAgICAvLyBpcyBvdGhlcndpc2UgaWRlbnRpY2FsLlxuICAgIGlmICh2YWwxLm1lc3NhZ2UgIT09IHZhbDIubWVzc2FnZSB8fCB2YWwxLm5hbWUgIT09IHZhbDIubmFtZSkge1xuICAgICAgcmV0dXJuIGZhbHNlO1xuICAgIH1cbiAgfSBlbHNlIGlmIChpc0FycmF5QnVmZmVyVmlldyh2YWwxKSkge1xuICAgIGlmICghc3RyaWN0ICYmIChpc0Zsb2F0MzJBcnJheSh2YWwxKSB8fCBpc0Zsb2F0NjRBcnJheSh2YWwxKSkpIHtcbiAgICAgIGlmICghYXJlU2ltaWxhckZsb2F0QXJyYXlzKHZhbDEsIHZhbDIpKSB7XG4gICAgICAgIHJldHVybiBmYWxzZTtcbiAgICAgIH1cbiAgICB9IGVsc2UgaWYgKCFhcmVTaW1pbGFyVHlwZWRBcnJheXModmFsMSwgdmFsMikpIHtcbiAgICAgIHJldHVybiBmYWxzZTtcbiAgICB9XG4gICAgLy8gQnVmZmVyLmNvbXBhcmUgcmV0dXJucyB0cnVlLCBzbyB2YWwxLmxlbmd0aCA9PT0gdmFsMi5sZW5ndGguIElmIHRoZXkgYm90aFxuICAgIC8vIG9ubHkgY29udGFpbiBudW1lcmljIGtleXMsIHdlIGRvbid0IG5lZWQgdG8gZXhhbSBmdXJ0aGVyIHRoYW4gY2hlY2tpbmdcbiAgICAvLyB0aGUgc3ltYm9scy5cbiAgICB2YXIgX2tleXMgPSBnZXRPd25Ob25JbmRleFByb3BlcnRpZXModmFsMSwgT05MWV9FTlVNRVJBQkxFKTtcbiAgICB2YXIgX2tleXMyID0gZ2V0T3duTm9uSW5kZXhQcm9wZXJ0aWVzKHZhbDIsIE9OTFlfRU5VTUVSQUJMRSk7XG4gICAgaWYgKF9rZXlzLmxlbmd0aCAhPT0gX2tleXMyLmxlbmd0aCkge1xuICAgICAgcmV0dXJuIGZhbHNlO1xuICAgIH1cbiAgICByZXR1cm4ga2V5Q2hlY2sodmFsMSwgdmFsMiwgc3RyaWN0LCBtZW1vcywga05vSXRlcmF0b3IsIF9rZXlzKTtcbiAgfSBlbHNlIGlmIChpc1NldCh2YWwxKSkge1xuICAgIGlmICghaXNTZXQodmFsMikgfHwgdmFsMS5zaXplICE9PSB2YWwyLnNpemUpIHtcbiAgICAgIHJldHVybiBmYWxzZTtcbiAgICB9XG4gICAgcmV0dXJuIGtleUNoZWNrKHZhbDEsIHZhbDIsIHN0cmljdCwgbWVtb3MsIGtJc1NldCk7XG4gIH0gZWxzZSBpZiAoaXNNYXAodmFsMSkpIHtcbiAgICBpZiAoIWlzTWFwKHZhbDIpIHx8IHZhbDEuc2l6ZSAhPT0gdmFsMi5zaXplKSB7XG4gICAgICByZXR1cm4gZmFsc2U7XG4gICAgfVxuICAgIHJldHVybiBrZXlDaGVjayh2YWwxLCB2YWwyLCBzdHJpY3QsIG1lbW9zLCBrSXNNYXApO1xuICB9IGVsc2UgaWYgKGlzQW55QXJyYXlCdWZmZXIodmFsMSkpIHtcbiAgICBpZiAoIWFyZUVxdWFsQXJyYXlCdWZmZXJzKHZhbDEsIHZhbDIpKSB7XG4gICAgICByZXR1cm4gZmFsc2U7XG4gICAgfVxuICB9IGVsc2UgaWYgKGlzQm94ZWRQcmltaXRpdmUodmFsMSkgJiYgIWlzRXF1YWxCb3hlZFByaW1pdGl2ZSh2YWwxLCB2YWwyKSkge1xuICAgIHJldHVybiBmYWxzZTtcbiAgfVxuICByZXR1cm4ga2V5Q2hlY2sodmFsMSwgdmFsMiwgc3RyaWN0LCBtZW1vcywga05vSXRlcmF0b3IpO1xufVxuZnVuY3Rpb24gZ2V0RW51bWVyYWJsZXModmFsLCBrZXlzKSB7XG4gIHJldHVybiBrZXlzLmZpbHRlcihmdW5jdGlvbiAoaykge1xuICAgIHJldHVybiBwcm9wZXJ0eUlzRW51bWVyYWJsZSh2YWwsIGspO1xuICB9KTtcbn1cbmZ1bmN0aW9uIGtleUNoZWNrKHZhbDEsIHZhbDIsIHN0cmljdCwgbWVtb3MsIGl0ZXJhdGlvblR5cGUsIGFLZXlzKSB7XG4gIC8vIEZvciBhbGwgcmVtYWluaW5nIE9iamVjdCBwYWlycywgaW5jbHVkaW5nIEFycmF5LCBvYmplY3RzIGFuZCBNYXBzLFxuICAvLyBlcXVpdmFsZW5jZSBpcyBkZXRlcm1pbmVkIGJ5IGhhdmluZzpcbiAgLy8gYSkgVGhlIHNhbWUgbnVtYmVyIG9mIG93bmVkIGVudW1lcmFibGUgcHJvcGVydGllc1xuICAvLyBiKSBUaGUgc2FtZSBzZXQgb2Yga2V5cy9pbmRleGVzIChhbHRob3VnaCBub3QgbmVjZXNzYXJpbHkgdGhlIHNhbWUgb3JkZXIpXG4gIC8vIGMpIEVxdWl2YWxlbnQgdmFsdWVzIGZvciBldmVyeSBjb3JyZXNwb25kaW5nIGtleS9pbmRleFxuICAvLyBkKSBGb3IgU2V0cyBhbmQgTWFwcywgZXF1YWwgY29udGVudHNcbiAgLy8gTm90ZTogdGhpcyBhY2NvdW50cyBmb3IgYm90aCBuYW1lZCBhbmQgaW5kZXhlZCBwcm9wZXJ0aWVzIG9uIEFycmF5cy5cbiAgaWYgKGFyZ3VtZW50cy5sZW5ndGggPT09IDUpIHtcbiAgICBhS2V5cyA9IE9iamVjdC5rZXlzKHZhbDEpO1xuICAgIHZhciBiS2V5cyA9IE9iamVjdC5rZXlzKHZhbDIpO1xuXG4gICAgLy8gVGhlIHBhaXIgbXVzdCBoYXZlIHRoZSBzYW1lIG51bWJlciBvZiBvd25lZCBwcm9wZXJ0aWVzLlxuICAgIGlmIChhS2V5cy5sZW5ndGggIT09IGJLZXlzLmxlbmd0aCkge1xuICAgICAgcmV0dXJuIGZhbHNlO1xuICAgIH1cbiAgfVxuXG4gIC8vIENoZWFwIGtleSB0ZXN0XG4gIHZhciBpID0gMDtcbiAgZm9yICg7IGkgPCBhS2V5cy5sZW5ndGg7IGkrKykge1xuICAgIGlmICghaGFzT3duUHJvcGVydHkodmFsMiwgYUtleXNbaV0pKSB7XG4gICAgICByZXR1cm4gZmFsc2U7XG4gICAgfVxuICB9XG4gIGlmIChzdHJpY3QgJiYgYXJndW1lbnRzLmxlbmd0aCA9PT0gNSkge1xuICAgIHZhciBzeW1ib2xLZXlzQSA9IG9iamVjdEdldE93blByb3BlcnR5U3ltYm9scyh2YWwxKTtcbiAgICBpZiAoc3ltYm9sS2V5c0EubGVuZ3RoICE9PSAwKSB7XG4gICAgICB2YXIgY291bnQgPSAwO1xuICAgICAgZm9yIChpID0gMDsgaSA8IHN5bWJvbEtleXNBLmxlbmd0aDsgaSsrKSB7XG4gICAgICAgIHZhciBrZXkgPSBzeW1ib2xLZXlzQVtpXTtcbiAgICAgICAgaWYgKHByb3BlcnR5SXNFbnVtZXJhYmxlKHZhbDEsIGtleSkpIHtcbiAgICAgICAgICBpZiAoIXByb3BlcnR5SXNFbnVtZXJhYmxlKHZhbDIsIGtleSkpIHtcbiAgICAgICAgICAgIHJldHVybiBmYWxzZTtcbiAgICAgICAgICB9XG4gICAgICAgICAgYUtleXMucHVzaChrZXkpO1xuICAgICAgICAgIGNvdW50Kys7XG4gICAgICAgIH0gZWxzZSBpZiAocHJvcGVydHlJc0VudW1lcmFibGUodmFsMiwga2V5KSkge1xuICAgICAgICAgIHJldHVybiBmYWxzZTtcbiAgICAgICAgfVxuICAgICAgfVxuICAgICAgdmFyIHN5bWJvbEtleXNCID0gb2JqZWN0R2V0T3duUHJvcGVydHlTeW1ib2xzKHZhbDIpO1xuICAgICAgaWYgKHN5bWJvbEtleXNBLmxlbmd0aCAhPT0gc3ltYm9sS2V5c0IubGVuZ3RoICYmIGdldEVudW1lcmFibGVzKHZhbDIsIHN5bWJvbEtleXNCKS5sZW5ndGggIT09IGNvdW50KSB7XG4gICAgICAgIHJldHVybiBmYWxzZTtcbiAgICAgIH1cbiAgICB9IGVsc2Uge1xuICAgICAgdmFyIF9zeW1ib2xLZXlzQiA9IG9iamVjdEdldE93blByb3BlcnR5U3ltYm9scyh2YWwyKTtcbiAgICAgIGlmIChfc3ltYm9sS2V5c0IubGVuZ3RoICE9PSAwICYmIGdldEVudW1lcmFibGVzKHZhbDIsIF9zeW1ib2xLZXlzQikubGVuZ3RoICE9PSAwKSB7XG4gICAgICAgIHJldHVybiBmYWxzZTtcbiAgICAgIH1cbiAgICB9XG4gIH1cbiAgaWYgKGFLZXlzLmxlbmd0aCA9PT0gMCAmJiAoaXRlcmF0aW9uVHlwZSA9PT0ga05vSXRlcmF0b3IgfHwgaXRlcmF0aW9uVHlwZSA9PT0ga0lzQXJyYXkgJiYgdmFsMS5sZW5ndGggPT09IDAgfHwgdmFsMS5zaXplID09PSAwKSkge1xuICAgIHJldHVybiB0cnVlO1xuICB9XG5cbiAgLy8gVXNlIG1lbW9zIHRvIGhhbmRsZSBjeWNsZXMuXG4gIGlmIChtZW1vcyA9PT0gdW5kZWZpbmVkKSB7XG4gICAgbWVtb3MgPSB7XG4gICAgICB2YWwxOiBuZXcgTWFwKCksXG4gICAgICB2YWwyOiBuZXcgTWFwKCksXG4gICAgICBwb3NpdGlvbjogMFxuICAgIH07XG4gIH0gZWxzZSB7XG4gICAgLy8gV2UgcHJldmVudCB1cCB0byB0d28gbWFwLmhhcyh4KSBjYWxscyBieSBkaXJlY3RseSByZXRyaWV2aW5nIHRoZSB2YWx1ZVxuICAgIC8vIGFuZCBjaGVja2luZyBmb3IgdW5kZWZpbmVkLiBUaGUgbWFwIGNhbiBvbmx5IGNvbnRhaW4gbnVtYmVycywgc28gaXQgaXNcbiAgICAvLyBzYWZlIHRvIGNoZWNrIGZvciB1bmRlZmluZWQgb25seS5cbiAgICB2YXIgdmFsMk1lbW9BID0gbWVtb3MudmFsMS5nZXQodmFsMSk7XG4gICAgaWYgKHZhbDJNZW1vQSAhPT0gdW5kZWZpbmVkKSB7XG4gICAgICB2YXIgdmFsMk1lbW9CID0gbWVtb3MudmFsMi5nZXQodmFsMik7XG4gICAgICBpZiAodmFsMk1lbW9CICE9PSB1bmRlZmluZWQpIHtcbiAgICAgICAgcmV0dXJuIHZhbDJNZW1vQSA9PT0gdmFsMk1lbW9CO1xuICAgICAgfVxuICAgIH1cbiAgICBtZW1vcy5wb3NpdGlvbisrO1xuICB9XG4gIG1lbW9zLnZhbDEuc2V0KHZhbDEsIG1lbW9zLnBvc2l0aW9uKTtcbiAgbWVtb3MudmFsMi5zZXQodmFsMiwgbWVtb3MucG9zaXRpb24pO1xuICB2YXIgYXJlRXEgPSBvYmpFcXVpdih2YWwxLCB2YWwyLCBzdHJpY3QsIGFLZXlzLCBtZW1vcywgaXRlcmF0aW9uVHlwZSk7XG4gIG1lbW9zLnZhbDEuZGVsZXRlKHZhbDEpO1xuICBtZW1vcy52YWwyLmRlbGV0ZSh2YWwyKTtcbiAgcmV0dXJuIGFyZUVxO1xufVxuZnVuY3Rpb24gc2V0SGFzRXF1YWxFbGVtZW50KHNldCwgdmFsMSwgc3RyaWN0LCBtZW1vKSB7XG4gIC8vIEdvIGxvb2tpbmcuXG4gIHZhciBzZXRWYWx1ZXMgPSBhcnJheUZyb21TZXQoc2V0KTtcbiAgZm9yICh2YXIgaSA9IDA7IGkgPCBzZXRWYWx1ZXMubGVuZ3RoOyBpKyspIHtcbiAgICB2YXIgdmFsMiA9IHNldFZhbHVlc1tpXTtcbiAgICBpZiAoaW5uZXJEZWVwRXF1YWwodmFsMSwgdmFsMiwgc3RyaWN0LCBtZW1vKSkge1xuICAgICAgLy8gUmVtb3ZlIHRoZSBtYXRjaGluZyBlbGVtZW50IHRvIG1ha2Ugc3VyZSB3ZSBkbyBub3QgY2hlY2sgdGhhdCBhZ2Fpbi5cbiAgICAgIHNldC5kZWxldGUodmFsMik7XG4gICAgICByZXR1cm4gdHJ1ZTtcbiAgICB9XG4gIH1cbiAgcmV0dXJuIGZhbHNlO1xufVxuXG4vLyBTZWUgaHR0cHM6Ly9kZXZlbG9wZXIubW96aWxsYS5vcmcvZW4tVVMvZG9jcy9XZWIvSmF2YVNjcmlwdC9FcXVhbGl0eV9jb21wYXJpc29uc19hbmRfc2FtZW5lc3MjTG9vc2VfZXF1YWxpdHlfdXNpbmdcbi8vIFNhZGx5IGl0IGlzIG5vdCBwb3NzaWJsZSB0byBkZXRlY3QgY29ycmVzcG9uZGluZyB2YWx1ZXMgcHJvcGVybHkgaW4gY2FzZSB0aGVcbi8vIHR5cGUgaXMgYSBzdHJpbmcsIG51bWJlciwgYmlnaW50IG9yIGJvb2xlYW4uIFRoZSByZWFzb24gaXMgdGhhdCB0aG9zZSB2YWx1ZXNcbi8vIGNhbiBtYXRjaCBsb3RzIG9mIGRpZmZlcmVudCBzdHJpbmcgdmFsdWVzIChlLmcuLCAxbiA9PSAnKzAwMDAxJykuXG5mdW5jdGlvbiBmaW5kTG9vc2VNYXRjaGluZ1ByaW1pdGl2ZXMocHJpbSkge1xuICBzd2l0Y2ggKF90eXBlb2YocHJpbSkpIHtcbiAgICBjYXNlICd1bmRlZmluZWQnOlxuICAgICAgcmV0dXJuIG51bGw7XG4gICAgY2FzZSAnb2JqZWN0JzpcbiAgICAgIC8vIE9ubHkgcGFzcyBpbiBudWxsIGFzIG9iamVjdCFcbiAgICAgIHJldHVybiB1bmRlZmluZWQ7XG4gICAgY2FzZSAnc3ltYm9sJzpcbiAgICAgIHJldHVybiBmYWxzZTtcbiAgICBjYXNlICdzdHJpbmcnOlxuICAgICAgcHJpbSA9ICtwcmltO1xuICAgIC8vIExvb3NlIGVxdWFsIGVudHJpZXMgZXhpc3Qgb25seSBpZiB0aGUgc3RyaW5nIGlzIHBvc3NpYmxlIHRvIGNvbnZlcnQgdG9cbiAgICAvLyBhIHJlZ3VsYXIgbnVtYmVyIGFuZCBub3QgTmFOLlxuICAgIC8vIEZhbGwgdGhyb3VnaFxuICAgIGNhc2UgJ251bWJlcic6XG4gICAgICBpZiAobnVtYmVySXNOYU4ocHJpbSkpIHtcbiAgICAgICAgcmV0dXJuIGZhbHNlO1xuICAgICAgfVxuICB9XG4gIHJldHVybiB0cnVlO1xufVxuZnVuY3Rpb24gc2V0TWlnaHRIYXZlTG9vc2VQcmltKGEsIGIsIHByaW0pIHtcbiAgdmFyIGFsdFZhbHVlID0gZmluZExvb3NlTWF0Y2hpbmdQcmltaXRpdmVzKHByaW0pO1xuICBpZiAoYWx0VmFsdWUgIT0gbnVsbCkgcmV0dXJuIGFsdFZhbHVlO1xuICByZXR1cm4gYi5oYXMoYWx0VmFsdWUpICYmICFhLmhhcyhhbHRWYWx1ZSk7XG59XG5mdW5jdGlvbiBtYXBNaWdodEhhdmVMb29zZVByaW0oYSwgYiwgcHJpbSwgaXRlbSwgbWVtbykge1xuICB2YXIgYWx0VmFsdWUgPSBmaW5kTG9vc2VNYXRjaGluZ1ByaW1pdGl2ZXMocHJpbSk7XG4gIGlmIChhbHRWYWx1ZSAhPSBudWxsKSB7XG4gICAgcmV0dXJuIGFsdFZhbHVlO1xuICB9XG4gIHZhciBjdXJCID0gYi5nZXQoYWx0VmFsdWUpO1xuICBpZiAoY3VyQiA9PT0gdW5kZWZpbmVkICYmICFiLmhhcyhhbHRWYWx1ZSkgfHwgIWlubmVyRGVlcEVxdWFsKGl0ZW0sIGN1ckIsIGZhbHNlLCBtZW1vKSkge1xuICAgIHJldHVybiBmYWxzZTtcbiAgfVxuICByZXR1cm4gIWEuaGFzKGFsdFZhbHVlKSAmJiBpbm5lckRlZXBFcXVhbChpdGVtLCBjdXJCLCBmYWxzZSwgbWVtbyk7XG59XG5mdW5jdGlvbiBzZXRFcXVpdihhLCBiLCBzdHJpY3QsIG1lbW8pIHtcbiAgLy8gVGhpcyBpcyBhIGxhemlseSBpbml0aWF0ZWQgU2V0IG9mIGVudHJpZXMgd2hpY2ggaGF2ZSB0byBiZSBjb21wYXJlZFxuICAvLyBwYWlyd2lzZS5cbiAgdmFyIHNldCA9IG51bGw7XG4gIHZhciBhVmFsdWVzID0gYXJyYXlGcm9tU2V0KGEpO1xuICBmb3IgKHZhciBpID0gMDsgaSA8IGFWYWx1ZXMubGVuZ3RoOyBpKyspIHtcbiAgICB2YXIgdmFsID0gYVZhbHVlc1tpXTtcbiAgICAvLyBOb3RlOiBDaGVja2luZyBmb3IgdGhlIG9iamVjdHMgZmlyc3QgaW1wcm92ZXMgdGhlIHBlcmZvcm1hbmNlIGZvciBvYmplY3RcbiAgICAvLyBoZWF2eSBzZXRzIGJ1dCBpdCBpcyBhIG1pbm9yIHNsb3cgZG93biBmb3IgcHJpbWl0aXZlcy4gQXMgdGhleSBhcmUgZmFzdFxuICAgIC8vIHRvIGNoZWNrIHRoaXMgaW1wcm92ZXMgdGhlIHdvcnN0IGNhc2Ugc2NlbmFyaW8gaW5zdGVhZC5cbiAgICBpZiAoX3R5cGVvZih2YWwpID09PSAnb2JqZWN0JyAmJiB2YWwgIT09IG51bGwpIHtcbiAgICAgIGlmIChzZXQgPT09IG51bGwpIHtcbiAgICAgICAgc2V0ID0gbmV3IFNldCgpO1xuICAgICAgfVxuICAgICAgLy8gSWYgdGhlIHNwZWNpZmllZCB2YWx1ZSBkb2Vzbid0IGV4aXN0IGluIHRoZSBzZWNvbmQgc2V0IGl0cyBhbiBub3QgbnVsbFxuICAgICAgLy8gb2JqZWN0IChvciBub24gc3RyaWN0IG9ubHk6IGEgbm90IG1hdGNoaW5nIHByaW1pdGl2ZSkgd2UnbGwgbmVlZCB0byBnb1xuICAgICAgLy8gaHVudGluZyBmb3Igc29tZXRoaW5nIHRoYXRzIGRlZXAtKHN0cmljdC0pZXF1YWwgdG8gaXQuIFRvIG1ha2UgdGhpc1xuICAgICAgLy8gTyhuIGxvZyBuKSBjb21wbGV4aXR5IHdlIGhhdmUgdG8gY29weSB0aGVzZSB2YWx1ZXMgaW4gYSBuZXcgc2V0IGZpcnN0LlxuICAgICAgc2V0LmFkZCh2YWwpO1xuICAgIH0gZWxzZSBpZiAoIWIuaGFzKHZhbCkpIHtcbiAgICAgIGlmIChzdHJpY3QpIHJldHVybiBmYWxzZTtcblxuICAgICAgLy8gRmFzdCBwYXRoIHRvIGRldGVjdCBtaXNzaW5nIHN0cmluZywgc3ltYm9sLCB1bmRlZmluZWQgYW5kIG51bGwgdmFsdWVzLlxuICAgICAgaWYgKCFzZXRNaWdodEhhdmVMb29zZVByaW0oYSwgYiwgdmFsKSkge1xuICAgICAgICByZXR1cm4gZmFsc2U7XG4gICAgICB9XG4gICAgICBpZiAoc2V0ID09PSBudWxsKSB7XG4gICAgICAgIHNldCA9IG5ldyBTZXQoKTtcbiAgICAgIH1cbiAgICAgIHNldC5hZGQodmFsKTtcbiAgICB9XG4gIH1cbiAgaWYgKHNldCAhPT0gbnVsbCkge1xuICAgIHZhciBiVmFsdWVzID0gYXJyYXlGcm9tU2V0KGIpO1xuICAgIGZvciAodmFyIF9pID0gMDsgX2kgPCBiVmFsdWVzLmxlbmd0aDsgX2krKykge1xuICAgICAgdmFyIF92YWwgPSBiVmFsdWVzW19pXTtcbiAgICAgIC8vIFdlIGhhdmUgdG8gY2hlY2sgaWYgYSBwcmltaXRpdmUgdmFsdWUgaXMgYWxyZWFkeVxuICAgICAgLy8gbWF0Y2hpbmcgYW5kIG9ubHkgaWYgaXQncyBub3QsIGdvIGh1bnRpbmcgZm9yIGl0LlxuICAgICAgaWYgKF90eXBlb2YoX3ZhbCkgPT09ICdvYmplY3QnICYmIF92YWwgIT09IG51bGwpIHtcbiAgICAgICAgaWYgKCFzZXRIYXNFcXVhbEVsZW1lbnQoc2V0LCBfdmFsLCBzdHJpY3QsIG1lbW8pKSByZXR1cm4gZmFsc2U7XG4gICAgICB9IGVsc2UgaWYgKCFzdHJpY3QgJiYgIWEuaGFzKF92YWwpICYmICFzZXRIYXNFcXVhbEVsZW1lbnQoc2V0LCBfdmFsLCBzdHJpY3QsIG1lbW8pKSB7XG4gICAgICAgIHJldHVybiBmYWxzZTtcbiAgICAgIH1cbiAgICB9XG4gICAgcmV0dXJuIHNldC5zaXplID09PSAwO1xuICB9XG4gIHJldHVybiB0cnVlO1xufVxuZnVuY3Rpb24gbWFwSGFzRXF1YWxFbnRyeShzZXQsIG1hcCwga2V5MSwgaXRlbTEsIHN0cmljdCwgbWVtbykge1xuICAvLyBUbyBiZSBhYmxlIHRvIGhhbmRsZSBjYXNlcyBsaWtlOlxuICAvLyAgIE1hcChbW3t9LCAnYSddLCBbe30sICdiJ11dKSB2cyBNYXAoW1t7fSwgJ2InXSwgW3t9LCAnYSddXSlcbiAgLy8gLi4uIHdlIG5lZWQgdG8gY29uc2lkZXIgKmFsbCogbWF0Y2hpbmcga2V5cywgbm90IGp1c3QgdGhlIGZpcnN0IHdlIGZpbmQuXG4gIHZhciBzZXRWYWx1ZXMgPSBhcnJheUZyb21TZXQoc2V0KTtcbiAgZm9yICh2YXIgaSA9IDA7IGkgPCBzZXRWYWx1ZXMubGVuZ3RoOyBpKyspIHtcbiAgICB2YXIga2V5MiA9IHNldFZhbHVlc1tpXTtcbiAgICBpZiAoaW5uZXJEZWVwRXF1YWwoa2V5MSwga2V5Miwgc3RyaWN0LCBtZW1vKSAmJiBpbm5lckRlZXBFcXVhbChpdGVtMSwgbWFwLmdldChrZXkyKSwgc3RyaWN0LCBtZW1vKSkge1xuICAgICAgc2V0LmRlbGV0ZShrZXkyKTtcbiAgICAgIHJldHVybiB0cnVlO1xuICAgIH1cbiAgfVxuICByZXR1cm4gZmFsc2U7XG59XG5mdW5jdGlvbiBtYXBFcXVpdihhLCBiLCBzdHJpY3QsIG1lbW8pIHtcbiAgdmFyIHNldCA9IG51bGw7XG4gIHZhciBhRW50cmllcyA9IGFycmF5RnJvbU1hcChhKTtcbiAgZm9yICh2YXIgaSA9IDA7IGkgPCBhRW50cmllcy5sZW5ndGg7IGkrKykge1xuICAgIHZhciBfYUVudHJpZXMkaSA9IF9zbGljZWRUb0FycmF5KGFFbnRyaWVzW2ldLCAyKSxcbiAgICAgIGtleSA9IF9hRW50cmllcyRpWzBdLFxuICAgICAgaXRlbTEgPSBfYUVudHJpZXMkaVsxXTtcbiAgICBpZiAoX3R5cGVvZihrZXkpID09PSAnb2JqZWN0JyAmJiBrZXkgIT09IG51bGwpIHtcbiAgICAgIGlmIChzZXQgPT09IG51bGwpIHtcbiAgICAgICAgc2V0ID0gbmV3IFNldCgpO1xuICAgICAgfVxuICAgICAgc2V0LmFkZChrZXkpO1xuICAgIH0gZWxzZSB7XG4gICAgICAvLyBCeSBkaXJlY3RseSByZXRyaWV2aW5nIHRoZSB2YWx1ZSB3ZSBwcmV2ZW50IGFub3RoZXIgYi5oYXMoa2V5KSBjaGVjayBpblxuICAgICAgLy8gYWxtb3N0IGFsbCBwb3NzaWJsZSBjYXNlcy5cbiAgICAgIHZhciBpdGVtMiA9IGIuZ2V0KGtleSk7XG4gICAgICBpZiAoaXRlbTIgPT09IHVuZGVmaW5lZCAmJiAhYi5oYXMoa2V5KSB8fCAhaW5uZXJEZWVwRXF1YWwoaXRlbTEsIGl0ZW0yLCBzdHJpY3QsIG1lbW8pKSB7XG4gICAgICAgIGlmIChzdHJpY3QpIHJldHVybiBmYWxzZTtcbiAgICAgICAgLy8gRmFzdCBwYXRoIHRvIGRldGVjdCBtaXNzaW5nIHN0cmluZywgc3ltYm9sLCB1bmRlZmluZWQgYW5kIG51bGxcbiAgICAgICAgLy8ga2V5cy5cbiAgICAgICAgaWYgKCFtYXBNaWdodEhhdmVMb29zZVByaW0oYSwgYiwga2V5LCBpdGVtMSwgbWVtbykpIHJldHVybiBmYWxzZTtcbiAgICAgICAgaWYgKHNldCA9PT0gbnVsbCkge1xuICAgICAgICAgIHNldCA9IG5ldyBTZXQoKTtcbiAgICAgICAgfVxuICAgICAgICBzZXQuYWRkKGtleSk7XG4gICAgICB9XG4gICAgfVxuICB9XG4gIGlmIChzZXQgIT09IG51bGwpIHtcbiAgICB2YXIgYkVudHJpZXMgPSBhcnJheUZyb21NYXAoYik7XG4gICAgZm9yICh2YXIgX2kyID0gMDsgX2kyIDwgYkVudHJpZXMubGVuZ3RoOyBfaTIrKykge1xuICAgICAgdmFyIF9iRW50cmllcyRfaSA9IF9zbGljZWRUb0FycmF5KGJFbnRyaWVzW19pMl0sIDIpLFxuICAgICAgICBfa2V5ID0gX2JFbnRyaWVzJF9pWzBdLFxuICAgICAgICBpdGVtID0gX2JFbnRyaWVzJF9pWzFdO1xuICAgICAgaWYgKF90eXBlb2YoX2tleSkgPT09ICdvYmplY3QnICYmIF9rZXkgIT09IG51bGwpIHtcbiAgICAgICAgaWYgKCFtYXBIYXNFcXVhbEVudHJ5KHNldCwgYSwgX2tleSwgaXRlbSwgc3RyaWN0LCBtZW1vKSkgcmV0dXJuIGZhbHNlO1xuICAgICAgfSBlbHNlIGlmICghc3RyaWN0ICYmICghYS5oYXMoX2tleSkgfHwgIWlubmVyRGVlcEVxdWFsKGEuZ2V0KF9rZXkpLCBpdGVtLCBmYWxzZSwgbWVtbykpICYmICFtYXBIYXNFcXVhbEVudHJ5KHNldCwgYSwgX2tleSwgaXRlbSwgZmFsc2UsIG1lbW8pKSB7XG4gICAgICAgIHJldHVybiBmYWxzZTtcbiAgICAgIH1cbiAgICB9XG4gICAgcmV0dXJuIHNldC5zaXplID09PSAwO1xuICB9XG4gIHJldHVybiB0cnVlO1xufVxuZnVuY3Rpb24gb2JqRXF1aXYoYSwgYiwgc3RyaWN0LCBrZXlzLCBtZW1vcywgaXRlcmF0aW9uVHlwZSkge1xuICAvLyBTZXRzIGFuZCBtYXBzIGRvbid0IGhhdmUgdGhlaXIgZW50cmllcyBhY2Nlc3NpYmxlIHZpYSBub3JtYWwgb2JqZWN0XG4gIC8vIHByb3BlcnRpZXMuXG4gIHZhciBpID0gMDtcbiAgaWYgKGl0ZXJhdGlvblR5cGUgPT09IGtJc1NldCkge1xuICAgIGlmICghc2V0RXF1aXYoYSwgYiwgc3RyaWN0LCBtZW1vcykpIHtcbiAgICAgIHJldHVybiBmYWxzZTtcbiAgICB9XG4gIH0gZWxzZSBpZiAoaXRlcmF0aW9uVHlwZSA9PT0ga0lzTWFwKSB7XG4gICAgaWYgKCFtYXBFcXVpdihhLCBiLCBzdHJpY3QsIG1lbW9zKSkge1xuICAgICAgcmV0dXJuIGZhbHNlO1xuICAgIH1cbiAgfSBlbHNlIGlmIChpdGVyYXRpb25UeXBlID09PSBrSXNBcnJheSkge1xuICAgIGZvciAoOyBpIDwgYS5sZW5ndGg7IGkrKykge1xuICAgICAgaWYgKGhhc093blByb3BlcnR5KGEsIGkpKSB7XG4gICAgICAgIGlmICghaGFzT3duUHJvcGVydHkoYiwgaSkgfHwgIWlubmVyRGVlcEVxdWFsKGFbaV0sIGJbaV0sIHN0cmljdCwgbWVtb3MpKSB7XG4gICAgICAgICAgcmV0dXJuIGZhbHNlO1xuICAgICAgICB9XG4gICAgICB9IGVsc2UgaWYgKGhhc093blByb3BlcnR5KGIsIGkpKSB7XG4gICAgICAgIHJldHVybiBmYWxzZTtcbiAgICAgIH0gZWxzZSB7XG4gICAgICAgIC8vIEFycmF5IGlzIHNwYXJzZS5cbiAgICAgICAgdmFyIGtleXNBID0gT2JqZWN0LmtleXMoYSk7XG4gICAgICAgIGZvciAoOyBpIDwga2V5c0EubGVuZ3RoOyBpKyspIHtcbiAgICAgICAgICB2YXIga2V5ID0ga2V5c0FbaV07XG4gICAgICAgICAgaWYgKCFoYXNPd25Qcm9wZXJ0eShiLCBrZXkpIHx8ICFpbm5lckRlZXBFcXVhbChhW2tleV0sIGJba2V5XSwgc3RyaWN0LCBtZW1vcykpIHtcbiAgICAgICAgICAgIHJldHVybiBmYWxzZTtcbiAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgICAgaWYgKGtleXNBLmxlbmd0aCAhPT0gT2JqZWN0LmtleXMoYikubGVuZ3RoKSB7XG4gICAgICAgICAgcmV0dXJuIGZhbHNlO1xuICAgICAgICB9XG4gICAgICAgIHJldHVybiB0cnVlO1xuICAgICAgfVxuICAgIH1cbiAgfVxuXG4gIC8vIFRoZSBwYWlyIG11c3QgaGF2ZSBlcXVpdmFsZW50IHZhbHVlcyBmb3IgZXZlcnkgY29ycmVzcG9uZGluZyBrZXkuXG4gIC8vIFBvc3NpYmx5IGV4cGVuc2l2ZSBkZWVwIHRlc3Q6XG4gIGZvciAoaSA9IDA7IGkgPCBrZXlzLmxlbmd0aDsgaSsrKSB7XG4gICAgdmFyIF9rZXkyID0ga2V5c1tpXTtcbiAgICBpZiAoIWlubmVyRGVlcEVxdWFsKGFbX2tleTJdLCBiW19rZXkyXSwgc3RyaWN0LCBtZW1vcykpIHtcbiAgICAgIHJldHVybiBmYWxzZTtcbiAgICB9XG4gIH1cbiAgcmV0dXJuIHRydWU7XG59XG5mdW5jdGlvbiBpc0RlZXBFcXVhbCh2YWwxLCB2YWwyKSB7XG4gIHJldHVybiBpbm5lckRlZXBFcXVhbCh2YWwxLCB2YWwyLCBrTG9vc2UpO1xufVxuZnVuY3Rpb24gaXNEZWVwU3RyaWN0RXF1YWwodmFsMSwgdmFsMikge1xuICByZXR1cm4gaW5uZXJEZWVwRXF1YWwodmFsMSwgdmFsMiwga1N0cmljdCk7XG59XG5tb2R1bGUuZXhwb3J0cyA9IHtcbiAgaXNEZWVwRXF1YWw6IGlzRGVlcEVxdWFsLFxuICBpc0RlZXBTdHJpY3RFcXVhbDogaXNEZWVwU3RyaWN0RXF1YWxcbn07IiwgIi8vIEN1cnJlbnRseSBpbiBzeW5jIHdpdGggTm9kZS5qcyBsaWIvYXNzZXJ0LmpzXG4vLyBodHRwczovL2dpdGh1Yi5jb20vbm9kZWpzL25vZGUvY29tbWl0LzJhNTFhZTQyNGE1MTNlYzlhNmFhMzQ2NmJhYTBjYzFkNTVkZDRmM2JcblxuLy8gT3JpZ2luYWxseSBmcm9tIG5hcndoYWwuanMgKGh0dHA6Ly9uYXJ3aGFsanMub3JnKVxuLy8gQ29weXJpZ2h0IChjKSAyMDA5IFRob21hcyBSb2JpbnNvbiA8Mjgwbm9ydGguY29tPlxuLy9cbi8vIFBlcm1pc3Npb24gaXMgaGVyZWJ5IGdyYW50ZWQsIGZyZWUgb2YgY2hhcmdlLCB0byBhbnkgcGVyc29uIG9idGFpbmluZyBhIGNvcHlcbi8vIG9mIHRoaXMgc29mdHdhcmUgYW5kIGFzc29jaWF0ZWQgZG9jdW1lbnRhdGlvbiBmaWxlcyAodGhlICdTb2Z0d2FyZScpLCB0b1xuLy8gZGVhbCBpbiB0aGUgU29mdHdhcmUgd2l0aG91dCByZXN0cmljdGlvbiwgaW5jbHVkaW5nIHdpdGhvdXQgbGltaXRhdGlvbiB0aGVcbi8vIHJpZ2h0cyB0byB1c2UsIGNvcHksIG1vZGlmeSwgbWVyZ2UsIHB1Ymxpc2gsIGRpc3RyaWJ1dGUsIHN1YmxpY2Vuc2UsIGFuZC9vclxuLy8gc2VsbCBjb3BpZXMgb2YgdGhlIFNvZnR3YXJlLCBhbmQgdG8gcGVybWl0IHBlcnNvbnMgdG8gd2hvbSB0aGUgU29mdHdhcmUgaXNcbi8vIGZ1cm5pc2hlZCB0byBkbyBzbywgc3ViamVjdCB0byB0aGUgZm9sbG93aW5nIGNvbmRpdGlvbnM6XG4vL1xuLy8gVGhlIGFib3ZlIGNvcHlyaWdodCBub3RpY2UgYW5kIHRoaXMgcGVybWlzc2lvbiBub3RpY2Ugc2hhbGwgYmUgaW5jbHVkZWQgaW5cbi8vIGFsbCBjb3BpZXMgb3Igc3Vic3RhbnRpYWwgcG9ydGlvbnMgb2YgdGhlIFNvZnR3YXJlLlxuLy9cbi8vIFRIRSBTT0ZUV0FSRSBJUyBQUk9WSURFRCAnQVMgSVMnLCBXSVRIT1VUIFdBUlJBTlRZIE9GIEFOWSBLSU5ELCBFWFBSRVNTIE9SXG4vLyBJTVBMSUVELCBJTkNMVURJTkcgQlVUIE5PVCBMSU1JVEVEIFRPIFRIRSBXQVJSQU5USUVTIE9GIE1FUkNIQU5UQUJJTElUWSxcbi8vIEZJVE5FU1MgRk9SIEEgUEFSVElDVUxBUiBQVVJQT1NFIEFORCBOT05JTkZSSU5HRU1FTlQuIElOIE5PIEVWRU5UIFNIQUxMIFRIRVxuLy8gQVVUSE9SUyBCRSBMSUFCTEUgRk9SIEFOWSBDTEFJTSwgREFNQUdFUyBPUiBPVEhFUiBMSUFCSUxJVFksIFdIRVRIRVIgSU4gQU5cbi8vIEFDVElPTiBPRiBDT05UUkFDVCwgVE9SVCBPUiBPVEhFUldJU0UsIEFSSVNJTkcgRlJPTSwgT1VUIE9GIE9SIElOIENPTk5FQ1RJT05cbi8vIFdJVEggVEhFIFNPRlRXQVJFIE9SIFRIRSBVU0UgT1IgT1RIRVIgREVBTElOR1MgSU4gVEhFIFNPRlRXQVJFLlxuXG4ndXNlIHN0cmljdCc7XG5cbmZ1bmN0aW9uIF90eXBlb2YobykgeyBcIkBiYWJlbC9oZWxwZXJzIC0gdHlwZW9mXCI7IHJldHVybiBfdHlwZW9mID0gXCJmdW5jdGlvblwiID09IHR5cGVvZiBTeW1ib2wgJiYgXCJzeW1ib2xcIiA9PSB0eXBlb2YgU3ltYm9sLml0ZXJhdG9yID8gZnVuY3Rpb24gKG8pIHsgcmV0dXJuIHR5cGVvZiBvOyB9IDogZnVuY3Rpb24gKG8pIHsgcmV0dXJuIG8gJiYgXCJmdW5jdGlvblwiID09IHR5cGVvZiBTeW1ib2wgJiYgby5jb25zdHJ1Y3RvciA9PT0gU3ltYm9sICYmIG8gIT09IFN5bWJvbC5wcm90b3R5cGUgPyBcInN5bWJvbFwiIDogdHlwZW9mIG87IH0sIF90eXBlb2Yobyk7IH1cbmZ1bmN0aW9uIF9kZWZpbmVQcm9wZXJ0aWVzKHRhcmdldCwgcHJvcHMpIHsgZm9yICh2YXIgaSA9IDA7IGkgPCBwcm9wcy5sZW5ndGg7IGkrKykgeyB2YXIgZGVzY3JpcHRvciA9IHByb3BzW2ldOyBkZXNjcmlwdG9yLmVudW1lcmFibGUgPSBkZXNjcmlwdG9yLmVudW1lcmFibGUgfHwgZmFsc2U7IGRlc2NyaXB0b3IuY29uZmlndXJhYmxlID0gdHJ1ZTsgaWYgKFwidmFsdWVcIiBpbiBkZXNjcmlwdG9yKSBkZXNjcmlwdG9yLndyaXRhYmxlID0gdHJ1ZTsgT2JqZWN0LmRlZmluZVByb3BlcnR5KHRhcmdldCwgX3RvUHJvcGVydHlLZXkoZGVzY3JpcHRvci5rZXkpLCBkZXNjcmlwdG9yKTsgfSB9XG5mdW5jdGlvbiBfY3JlYXRlQ2xhc3MoQ29uc3RydWN0b3IsIHByb3RvUHJvcHMsIHN0YXRpY1Byb3BzKSB7IGlmIChwcm90b1Byb3BzKSBfZGVmaW5lUHJvcGVydGllcyhDb25zdHJ1Y3Rvci5wcm90b3R5cGUsIHByb3RvUHJvcHMpOyBpZiAoc3RhdGljUHJvcHMpIF9kZWZpbmVQcm9wZXJ0aWVzKENvbnN0cnVjdG9yLCBzdGF0aWNQcm9wcyk7IE9iamVjdC5kZWZpbmVQcm9wZXJ0eShDb25zdHJ1Y3RvciwgXCJwcm90b3R5cGVcIiwgeyB3cml0YWJsZTogZmFsc2UgfSk7IHJldHVybiBDb25zdHJ1Y3RvcjsgfVxuZnVuY3Rpb24gX3RvUHJvcGVydHlLZXkoYXJnKSB7IHZhciBrZXkgPSBfdG9QcmltaXRpdmUoYXJnLCBcInN0cmluZ1wiKTsgcmV0dXJuIF90eXBlb2Yoa2V5KSA9PT0gXCJzeW1ib2xcIiA/IGtleSA6IFN0cmluZyhrZXkpOyB9XG5mdW5jdGlvbiBfdG9QcmltaXRpdmUoaW5wdXQsIGhpbnQpIHsgaWYgKF90eXBlb2YoaW5wdXQpICE9PSBcIm9iamVjdFwiIHx8IGlucHV0ID09PSBudWxsKSByZXR1cm4gaW5wdXQ7IHZhciBwcmltID0gaW5wdXRbU3ltYm9sLnRvUHJpbWl0aXZlXTsgaWYgKHByaW0gIT09IHVuZGVmaW5lZCkgeyB2YXIgcmVzID0gcHJpbS5jYWxsKGlucHV0LCBoaW50IHx8IFwiZGVmYXVsdFwiKTsgaWYgKF90eXBlb2YocmVzKSAhPT0gXCJvYmplY3RcIikgcmV0dXJuIHJlczsgdGhyb3cgbmV3IFR5cGVFcnJvcihcIkBAdG9QcmltaXRpdmUgbXVzdCByZXR1cm4gYSBwcmltaXRpdmUgdmFsdWUuXCIpOyB9IHJldHVybiAoaGludCA9PT0gXCJzdHJpbmdcIiA/IFN0cmluZyA6IE51bWJlcikoaW5wdXQpOyB9XG5mdW5jdGlvbiBfY2xhc3NDYWxsQ2hlY2soaW5zdGFuY2UsIENvbnN0cnVjdG9yKSB7IGlmICghKGluc3RhbmNlIGluc3RhbmNlb2YgQ29uc3RydWN0b3IpKSB7IHRocm93IG5ldyBUeXBlRXJyb3IoXCJDYW5ub3QgY2FsbCBhIGNsYXNzIGFzIGEgZnVuY3Rpb25cIik7IH0gfVxudmFyIF9yZXF1aXJlID0gcmVxdWlyZSgnLi9pbnRlcm5hbC9lcnJvcnMnKSxcbiAgX3JlcXVpcmUkY29kZXMgPSBfcmVxdWlyZS5jb2RlcyxcbiAgRVJSX0FNQklHVU9VU19BUkdVTUVOVCA9IF9yZXF1aXJlJGNvZGVzLkVSUl9BTUJJR1VPVVNfQVJHVU1FTlQsXG4gIEVSUl9JTlZBTElEX0FSR19UWVBFID0gX3JlcXVpcmUkY29kZXMuRVJSX0lOVkFMSURfQVJHX1RZUEUsXG4gIEVSUl9JTlZBTElEX0FSR19WQUxVRSA9IF9yZXF1aXJlJGNvZGVzLkVSUl9JTlZBTElEX0FSR19WQUxVRSxcbiAgRVJSX0lOVkFMSURfUkVUVVJOX1ZBTFVFID0gX3JlcXVpcmUkY29kZXMuRVJSX0lOVkFMSURfUkVUVVJOX1ZBTFVFLFxuICBFUlJfTUlTU0lOR19BUkdTID0gX3JlcXVpcmUkY29kZXMuRVJSX01JU1NJTkdfQVJHUztcbnZhciBBc3NlcnRpb25FcnJvciA9IHJlcXVpcmUoJy4vaW50ZXJuYWwvYXNzZXJ0L2Fzc2VydGlvbl9lcnJvcicpO1xudmFyIF9yZXF1aXJlMiA9IHJlcXVpcmUoJ3V0aWwvJyksXG4gIGluc3BlY3QgPSBfcmVxdWlyZTIuaW5zcGVjdDtcbnZhciBfcmVxdWlyZSR0eXBlcyA9IHJlcXVpcmUoJ3V0aWwvJykudHlwZXMsXG4gIGlzUHJvbWlzZSA9IF9yZXF1aXJlJHR5cGVzLmlzUHJvbWlzZSxcbiAgaXNSZWdFeHAgPSBfcmVxdWlyZSR0eXBlcy5pc1JlZ0V4cDtcbnZhciBvYmplY3RBc3NpZ24gPSByZXF1aXJlKCdvYmplY3QuYXNzaWduL3BvbHlmaWxsJykoKTtcbnZhciBvYmplY3RJcyA9IHJlcXVpcmUoJ29iamVjdC1pcy9wb2x5ZmlsbCcpKCk7XG52YXIgUmVnRXhwUHJvdG90eXBlVGVzdCA9IHJlcXVpcmUoJ2NhbGwtYmluZC9jYWxsQm91bmQnKSgnUmVnRXhwLnByb3RvdHlwZS50ZXN0Jyk7XG52YXIgZXJyb3JDYWNoZSA9IG5ldyBNYXAoKTtcbnZhciBpc0RlZXBFcXVhbDtcbnZhciBpc0RlZXBTdHJpY3RFcXVhbDtcbnZhciBwYXJzZUV4cHJlc3Npb25BdDtcbnZhciBmaW5kTm9kZUFyb3VuZDtcbnZhciBkZWNvZGVyO1xuZnVuY3Rpb24gbGF6eUxvYWRDb21wYXJpc29uKCkge1xuICB2YXIgY29tcGFyaXNvbiA9IHJlcXVpcmUoJy4vaW50ZXJuYWwvdXRpbC9jb21wYXJpc29ucycpO1xuICBpc0RlZXBFcXVhbCA9IGNvbXBhcmlzb24uaXNEZWVwRXF1YWw7XG4gIGlzRGVlcFN0cmljdEVxdWFsID0gY29tcGFyaXNvbi5pc0RlZXBTdHJpY3RFcXVhbDtcbn1cblxuLy8gRXNjYXBlIGNvbnRyb2wgY2hhcmFjdGVycyBidXQgbm90IFxcbiBhbmQgXFx0IHRvIGtlZXAgdGhlIGxpbmUgYnJlYWtzIGFuZFxuLy8gaW5kZW50YXRpb24gaW50YWN0LlxuLy8gZXNsaW50LWRpc2FibGUtbmV4dC1saW5lIG5vLWNvbnRyb2wtcmVnZXhcbnZhciBlc2NhcGVTZXF1ZW5jZXNSZWdFeHAgPSAvW1xceDAwLVxceDA4XFx4MGJcXHgwY1xceDBlLVxceDFmXS9nO1xudmFyIG1ldGEgPSBbXCJcXFxcdTAwMDBcIiwgXCJcXFxcdTAwMDFcIiwgXCJcXFxcdTAwMDJcIiwgXCJcXFxcdTAwMDNcIiwgXCJcXFxcdTAwMDRcIiwgXCJcXFxcdTAwMDVcIiwgXCJcXFxcdTAwMDZcIiwgXCJcXFxcdTAwMDdcIiwgJ1xcXFxiJywgJycsICcnLCBcIlxcXFx1MDAwYlwiLCAnXFxcXGYnLCAnJywgXCJcXFxcdTAwMGVcIiwgXCJcXFxcdTAwMGZcIiwgXCJcXFxcdTAwMTBcIiwgXCJcXFxcdTAwMTFcIiwgXCJcXFxcdTAwMTJcIiwgXCJcXFxcdTAwMTNcIiwgXCJcXFxcdTAwMTRcIiwgXCJcXFxcdTAwMTVcIiwgXCJcXFxcdTAwMTZcIiwgXCJcXFxcdTAwMTdcIiwgXCJcXFxcdTAwMThcIiwgXCJcXFxcdTAwMTlcIiwgXCJcXFxcdTAwMWFcIiwgXCJcXFxcdTAwMWJcIiwgXCJcXFxcdTAwMWNcIiwgXCJcXFxcdTAwMWRcIiwgXCJcXFxcdTAwMWVcIiwgXCJcXFxcdTAwMWZcIl07XG52YXIgZXNjYXBlRm4gPSBmdW5jdGlvbiBlc2NhcGVGbihzdHIpIHtcbiAgcmV0dXJuIG1ldGFbc3RyLmNoYXJDb2RlQXQoMCldO1xufTtcbnZhciB3YXJuZWQgPSBmYWxzZTtcblxuLy8gVGhlIGFzc2VydCBtb2R1bGUgcHJvdmlkZXMgZnVuY3Rpb25zIHRoYXQgdGhyb3dcbi8vIEFzc2VydGlvbkVycm9yJ3Mgd2hlbiBwYXJ0aWN1bGFyIGNvbmRpdGlvbnMgYXJlIG5vdCBtZXQuIFRoZVxuLy8gYXNzZXJ0IG1vZHVsZSBtdXN0IGNvbmZvcm0gdG8gdGhlIGZvbGxvd2luZyBpbnRlcmZhY2UuXG5cbnZhciBhc3NlcnQgPSBtb2R1bGUuZXhwb3J0cyA9IG9rO1xudmFyIE5PX0VYQ0VQVElPTl9TRU5USU5FTCA9IHt9O1xuXG4vLyBBbGwgb2YgdGhlIGZvbGxvd2luZyBmdW5jdGlvbnMgbXVzdCB0aHJvdyBhbiBBc3NlcnRpb25FcnJvclxuLy8gd2hlbiBhIGNvcnJlc3BvbmRpbmcgY29uZGl0aW9uIGlzIG5vdCBtZXQsIHdpdGggYSBtZXNzYWdlIHRoYXRcbi8vIG1heSBiZSB1bmRlZmluZWQgaWYgbm90IHByb3ZpZGVkLiBBbGwgYXNzZXJ0aW9uIG1ldGhvZHMgcHJvdmlkZVxuLy8gYm90aCB0aGUgYWN0dWFsIGFuZCBleHBlY3RlZCB2YWx1ZXMgdG8gdGhlIGFzc2VydGlvbiBlcnJvciBmb3Jcbi8vIGRpc3BsYXkgcHVycG9zZXMuXG5cbmZ1bmN0aW9uIGlubmVyRmFpbChvYmopIHtcbiAgaWYgKG9iai5tZXNzYWdlIGluc3RhbmNlb2YgRXJyb3IpIHRocm93IG9iai5tZXNzYWdlO1xuICB0aHJvdyBuZXcgQXNzZXJ0aW9uRXJyb3Iob2JqKTtcbn1cbmZ1bmN0aW9uIGZhaWwoYWN0dWFsLCBleHBlY3RlZCwgbWVzc2FnZSwgb3BlcmF0b3IsIHN0YWNrU3RhcnRGbikge1xuICB2YXIgYXJnc0xlbiA9IGFyZ3VtZW50cy5sZW5ndGg7XG4gIHZhciBpbnRlcm5hbE1lc3NhZ2U7XG4gIGlmIChhcmdzTGVuID09PSAwKSB7XG4gICAgaW50ZXJuYWxNZXNzYWdlID0gJ0ZhaWxlZCc7XG4gIH0gZWxzZSBpZiAoYXJnc0xlbiA9PT0gMSkge1xuICAgIG1lc3NhZ2UgPSBhY3R1YWw7XG4gICAgYWN0dWFsID0gdW5kZWZpbmVkO1xuICB9IGVsc2Uge1xuICAgIGlmICh3YXJuZWQgPT09IGZhbHNlKSB7XG4gICAgICB3YXJuZWQgPSB0cnVlO1xuICAgICAgdmFyIHdhcm4gPSBwcm9jZXNzLmVtaXRXYXJuaW5nID8gcHJvY2Vzcy5lbWl0V2FybmluZyA6IGNvbnNvbGUud2Fybi5iaW5kKGNvbnNvbGUpO1xuICAgICAgd2FybignYXNzZXJ0LmZhaWwoKSB3aXRoIG1vcmUgdGhhbiBvbmUgYXJndW1lbnQgaXMgZGVwcmVjYXRlZC4gJyArICdQbGVhc2UgdXNlIGFzc2VydC5zdHJpY3RFcXVhbCgpIGluc3RlYWQgb3Igb25seSBwYXNzIGEgbWVzc2FnZS4nLCAnRGVwcmVjYXRpb25XYXJuaW5nJywgJ0RFUDAwOTQnKTtcbiAgICB9XG4gICAgaWYgKGFyZ3NMZW4gPT09IDIpIG9wZXJhdG9yID0gJyE9JztcbiAgfVxuICBpZiAobWVzc2FnZSBpbnN0YW5jZW9mIEVycm9yKSB0aHJvdyBtZXNzYWdlO1xuICB2YXIgZXJyQXJncyA9IHtcbiAgICBhY3R1YWw6IGFjdHVhbCxcbiAgICBleHBlY3RlZDogZXhwZWN0ZWQsXG4gICAgb3BlcmF0b3I6IG9wZXJhdG9yID09PSB1bmRlZmluZWQgPyAnZmFpbCcgOiBvcGVyYXRvcixcbiAgICBzdGFja1N0YXJ0Rm46IHN0YWNrU3RhcnRGbiB8fCBmYWlsXG4gIH07XG4gIGlmIChtZXNzYWdlICE9PSB1bmRlZmluZWQpIHtcbiAgICBlcnJBcmdzLm1lc3NhZ2UgPSBtZXNzYWdlO1xuICB9XG4gIHZhciBlcnIgPSBuZXcgQXNzZXJ0aW9uRXJyb3IoZXJyQXJncyk7XG4gIGlmIChpbnRlcm5hbE1lc3NhZ2UpIHtcbiAgICBlcnIubWVzc2FnZSA9IGludGVybmFsTWVzc2FnZTtcbiAgICBlcnIuZ2VuZXJhdGVkTWVzc2FnZSA9IHRydWU7XG4gIH1cbiAgdGhyb3cgZXJyO1xufVxuYXNzZXJ0LmZhaWwgPSBmYWlsO1xuXG4vLyBUaGUgQXNzZXJ0aW9uRXJyb3IgaXMgZGVmaW5lZCBpbiBpbnRlcm5hbC9lcnJvci5cbmFzc2VydC5Bc3NlcnRpb25FcnJvciA9IEFzc2VydGlvbkVycm9yO1xuZnVuY3Rpb24gaW5uZXJPayhmbiwgYXJnTGVuLCB2YWx1ZSwgbWVzc2FnZSkge1xuICBpZiAoIXZhbHVlKSB7XG4gICAgdmFyIGdlbmVyYXRlZE1lc3NhZ2UgPSBmYWxzZTtcbiAgICBpZiAoYXJnTGVuID09PSAwKSB7XG4gICAgICBnZW5lcmF0ZWRNZXNzYWdlID0gdHJ1ZTtcbiAgICAgIG1lc3NhZ2UgPSAnTm8gdmFsdWUgYXJndW1lbnQgcGFzc2VkIHRvIGBhc3NlcnQub2soKWAnO1xuICAgIH0gZWxzZSBpZiAobWVzc2FnZSBpbnN0YW5jZW9mIEVycm9yKSB7XG4gICAgICB0aHJvdyBtZXNzYWdlO1xuICAgIH1cbiAgICB2YXIgZXJyID0gbmV3IEFzc2VydGlvbkVycm9yKHtcbiAgICAgIGFjdHVhbDogdmFsdWUsXG4gICAgICBleHBlY3RlZDogdHJ1ZSxcbiAgICAgIG1lc3NhZ2U6IG1lc3NhZ2UsXG4gICAgICBvcGVyYXRvcjogJz09JyxcbiAgICAgIHN0YWNrU3RhcnRGbjogZm5cbiAgICB9KTtcbiAgICBlcnIuZ2VuZXJhdGVkTWVzc2FnZSA9IGdlbmVyYXRlZE1lc3NhZ2U7XG4gICAgdGhyb3cgZXJyO1xuICB9XG59XG5cbi8vIFB1cmUgYXNzZXJ0aW9uIHRlc3RzIHdoZXRoZXIgYSB2YWx1ZSBpcyB0cnV0aHksIGFzIGRldGVybWluZWRcbi8vIGJ5ICEhdmFsdWUuXG5mdW5jdGlvbiBvaygpIHtcbiAgZm9yICh2YXIgX2xlbiA9IGFyZ3VtZW50cy5sZW5ndGgsIGFyZ3MgPSBuZXcgQXJyYXkoX2xlbiksIF9rZXkgPSAwOyBfa2V5IDwgX2xlbjsgX2tleSsrKSB7XG4gICAgYXJnc1tfa2V5XSA9IGFyZ3VtZW50c1tfa2V5XTtcbiAgfVxuICBpbm5lck9rLmFwcGx5KHZvaWQgMCwgW29rLCBhcmdzLmxlbmd0aF0uY29uY2F0KGFyZ3MpKTtcbn1cbmFzc2VydC5vayA9IG9rO1xuXG4vLyBUaGUgZXF1YWxpdHkgYXNzZXJ0aW9uIHRlc3RzIHNoYWxsb3csIGNvZXJjaXZlIGVxdWFsaXR5IHdpdGggPT0uXG4vKiBlc2xpbnQtZGlzYWJsZSBuby1yZXN0cmljdGVkLXByb3BlcnRpZXMgKi9cbmFzc2VydC5lcXVhbCA9IGZ1bmN0aW9uIGVxdWFsKGFjdHVhbCwgZXhwZWN0ZWQsIG1lc3NhZ2UpIHtcbiAgaWYgKGFyZ3VtZW50cy5sZW5ndGggPCAyKSB7XG4gICAgdGhyb3cgbmV3IEVSUl9NSVNTSU5HX0FSR1MoJ2FjdHVhbCcsICdleHBlY3RlZCcpO1xuICB9XG4gIC8vIGVzbGludC1kaXNhYmxlLW5leHQtbGluZSBlcWVxZXFcbiAgaWYgKGFjdHVhbCAhPSBleHBlY3RlZCkge1xuICAgIGlubmVyRmFpbCh7XG4gICAgICBhY3R1YWw6IGFjdHVhbCxcbiAgICAgIGV4cGVjdGVkOiBleHBlY3RlZCxcbiAgICAgIG1lc3NhZ2U6IG1lc3NhZ2UsXG4gICAgICBvcGVyYXRvcjogJz09JyxcbiAgICAgIHN0YWNrU3RhcnRGbjogZXF1YWxcbiAgICB9KTtcbiAgfVxufTtcblxuLy8gVGhlIG5vbi1lcXVhbGl0eSBhc3NlcnRpb24gdGVzdHMgZm9yIHdoZXRoZXIgdHdvIG9iamVjdHMgYXJlIG5vdFxuLy8gZXF1YWwgd2l0aCAhPS5cbmFzc2VydC5ub3RFcXVhbCA9IGZ1bmN0aW9uIG5vdEVxdWFsKGFjdHVhbCwgZXhwZWN0ZWQsIG1lc3NhZ2UpIHtcbiAgaWYgKGFyZ3VtZW50cy5sZW5ndGggPCAyKSB7XG4gICAgdGhyb3cgbmV3IEVSUl9NSVNTSU5HX0FSR1MoJ2FjdHVhbCcsICdleHBlY3RlZCcpO1xuICB9XG4gIC8vIGVzbGludC1kaXNhYmxlLW5leHQtbGluZSBlcWVxZXFcbiAgaWYgKGFjdHVhbCA9PSBleHBlY3RlZCkge1xuICAgIGlubmVyRmFpbCh7XG4gICAgICBhY3R1YWw6IGFjdHVhbCxcbiAgICAgIGV4cGVjdGVkOiBleHBlY3RlZCxcbiAgICAgIG1lc3NhZ2U6IG1lc3NhZ2UsXG4gICAgICBvcGVyYXRvcjogJyE9JyxcbiAgICAgIHN0YWNrU3RhcnRGbjogbm90RXF1YWxcbiAgICB9KTtcbiAgfVxufTtcblxuLy8gVGhlIGVxdWl2YWxlbmNlIGFzc2VydGlvbiB0ZXN0cyBhIGRlZXAgZXF1YWxpdHkgcmVsYXRpb24uXG5hc3NlcnQuZGVlcEVxdWFsID0gZnVuY3Rpb24gZGVlcEVxdWFsKGFjdHVhbCwgZXhwZWN0ZWQsIG1lc3NhZ2UpIHtcbiAgaWYgKGFyZ3VtZW50cy5sZW5ndGggPCAyKSB7XG4gICAgdGhyb3cgbmV3IEVSUl9NSVNTSU5HX0FSR1MoJ2FjdHVhbCcsICdleHBlY3RlZCcpO1xuICB9XG4gIGlmIChpc0RlZXBFcXVhbCA9PT0gdW5kZWZpbmVkKSBsYXp5TG9hZENvbXBhcmlzb24oKTtcbiAgaWYgKCFpc0RlZXBFcXVhbChhY3R1YWwsIGV4cGVjdGVkKSkge1xuICAgIGlubmVyRmFpbCh7XG4gICAgICBhY3R1YWw6IGFjdHVhbCxcbiAgICAgIGV4cGVjdGVkOiBleHBlY3RlZCxcbiAgICAgIG1lc3NhZ2U6IG1lc3NhZ2UsXG4gICAgICBvcGVyYXRvcjogJ2RlZXBFcXVhbCcsXG4gICAgICBzdGFja1N0YXJ0Rm46IGRlZXBFcXVhbFxuICAgIH0pO1xuICB9XG59O1xuXG4vLyBUaGUgbm9uLWVxdWl2YWxlbmNlIGFzc2VydGlvbiB0ZXN0cyBmb3IgYW55IGRlZXAgaW5lcXVhbGl0eS5cbmFzc2VydC5ub3REZWVwRXF1YWwgPSBmdW5jdGlvbiBub3REZWVwRXF1YWwoYWN0dWFsLCBleHBlY3RlZCwgbWVzc2FnZSkge1xuICBpZiAoYXJndW1lbnRzLmxlbmd0aCA8IDIpIHtcbiAgICB0aHJvdyBuZXcgRVJSX01JU1NJTkdfQVJHUygnYWN0dWFsJywgJ2V4cGVjdGVkJyk7XG4gIH1cbiAgaWYgKGlzRGVlcEVxdWFsID09PSB1bmRlZmluZWQpIGxhenlMb2FkQ29tcGFyaXNvbigpO1xuICBpZiAoaXNEZWVwRXF1YWwoYWN0dWFsLCBleHBlY3RlZCkpIHtcbiAgICBpbm5lckZhaWwoe1xuICAgICAgYWN0dWFsOiBhY3R1YWwsXG4gICAgICBleHBlY3RlZDogZXhwZWN0ZWQsXG4gICAgICBtZXNzYWdlOiBtZXNzYWdlLFxuICAgICAgb3BlcmF0b3I6ICdub3REZWVwRXF1YWwnLFxuICAgICAgc3RhY2tTdGFydEZuOiBub3REZWVwRXF1YWxcbiAgICB9KTtcbiAgfVxufTtcbi8qIGVzbGludC1lbmFibGUgKi9cblxuYXNzZXJ0LmRlZXBTdHJpY3RFcXVhbCA9IGZ1bmN0aW9uIGRlZXBTdHJpY3RFcXVhbChhY3R1YWwsIGV4cGVjdGVkLCBtZXNzYWdlKSB7XG4gIGlmIChhcmd1bWVudHMubGVuZ3RoIDwgMikge1xuICAgIHRocm93IG5ldyBFUlJfTUlTU0lOR19BUkdTKCdhY3R1YWwnLCAnZXhwZWN0ZWQnKTtcbiAgfVxuICBpZiAoaXNEZWVwRXF1YWwgPT09IHVuZGVmaW5lZCkgbGF6eUxvYWRDb21wYXJpc29uKCk7XG4gIGlmICghaXNEZWVwU3RyaWN0RXF1YWwoYWN0dWFsLCBleHBlY3RlZCkpIHtcbiAgICBpbm5lckZhaWwoe1xuICAgICAgYWN0dWFsOiBhY3R1YWwsXG4gICAgICBleHBlY3RlZDogZXhwZWN0ZWQsXG4gICAgICBtZXNzYWdlOiBtZXNzYWdlLFxuICAgICAgb3BlcmF0b3I6ICdkZWVwU3RyaWN0RXF1YWwnLFxuICAgICAgc3RhY2tTdGFydEZuOiBkZWVwU3RyaWN0RXF1YWxcbiAgICB9KTtcbiAgfVxufTtcbmFzc2VydC5ub3REZWVwU3RyaWN0RXF1YWwgPSBub3REZWVwU3RyaWN0RXF1YWw7XG5mdW5jdGlvbiBub3REZWVwU3RyaWN0RXF1YWwoYWN0dWFsLCBleHBlY3RlZCwgbWVzc2FnZSkge1xuICBpZiAoYXJndW1lbnRzLmxlbmd0aCA8IDIpIHtcbiAgICB0aHJvdyBuZXcgRVJSX01JU1NJTkdfQVJHUygnYWN0dWFsJywgJ2V4cGVjdGVkJyk7XG4gIH1cbiAgaWYgKGlzRGVlcEVxdWFsID09PSB1bmRlZmluZWQpIGxhenlMb2FkQ29tcGFyaXNvbigpO1xuICBpZiAoaXNEZWVwU3RyaWN0RXF1YWwoYWN0dWFsLCBleHBlY3RlZCkpIHtcbiAgICBpbm5lckZhaWwoe1xuICAgICAgYWN0dWFsOiBhY3R1YWwsXG4gICAgICBleHBlY3RlZDogZXhwZWN0ZWQsXG4gICAgICBtZXNzYWdlOiBtZXNzYWdlLFxuICAgICAgb3BlcmF0b3I6ICdub3REZWVwU3RyaWN0RXF1YWwnLFxuICAgICAgc3RhY2tTdGFydEZuOiBub3REZWVwU3RyaWN0RXF1YWxcbiAgICB9KTtcbiAgfVxufVxuYXNzZXJ0LnN0cmljdEVxdWFsID0gZnVuY3Rpb24gc3RyaWN0RXF1YWwoYWN0dWFsLCBleHBlY3RlZCwgbWVzc2FnZSkge1xuICBpZiAoYXJndW1lbnRzLmxlbmd0aCA8IDIpIHtcbiAgICB0aHJvdyBuZXcgRVJSX01JU1NJTkdfQVJHUygnYWN0dWFsJywgJ2V4cGVjdGVkJyk7XG4gIH1cbiAgaWYgKCFvYmplY3RJcyhhY3R1YWwsIGV4cGVjdGVkKSkge1xuICAgIGlubmVyRmFpbCh7XG4gICAgICBhY3R1YWw6IGFjdHVhbCxcbiAgICAgIGV4cGVjdGVkOiBleHBlY3RlZCxcbiAgICAgIG1lc3NhZ2U6IG1lc3NhZ2UsXG4gICAgICBvcGVyYXRvcjogJ3N0cmljdEVxdWFsJyxcbiAgICAgIHN0YWNrU3RhcnRGbjogc3RyaWN0RXF1YWxcbiAgICB9KTtcbiAgfVxufTtcbmFzc2VydC5ub3RTdHJpY3RFcXVhbCA9IGZ1bmN0aW9uIG5vdFN0cmljdEVxdWFsKGFjdHVhbCwgZXhwZWN0ZWQsIG1lc3NhZ2UpIHtcbiAgaWYgKGFyZ3VtZW50cy5sZW5ndGggPCAyKSB7XG4gICAgdGhyb3cgbmV3IEVSUl9NSVNTSU5HX0FSR1MoJ2FjdHVhbCcsICdleHBlY3RlZCcpO1xuICB9XG4gIGlmIChvYmplY3RJcyhhY3R1YWwsIGV4cGVjdGVkKSkge1xuICAgIGlubmVyRmFpbCh7XG4gICAgICBhY3R1YWw6IGFjdHVhbCxcbiAgICAgIGV4cGVjdGVkOiBleHBlY3RlZCxcbiAgICAgIG1lc3NhZ2U6IG1lc3NhZ2UsXG4gICAgICBvcGVyYXRvcjogJ25vdFN0cmljdEVxdWFsJyxcbiAgICAgIHN0YWNrU3RhcnRGbjogbm90U3RyaWN0RXF1YWxcbiAgICB9KTtcbiAgfVxufTtcbnZhciBDb21wYXJpc29uID0gLyojX19QVVJFX18qL19jcmVhdGVDbGFzcyhmdW5jdGlvbiBDb21wYXJpc29uKG9iaiwga2V5cywgYWN0dWFsKSB7XG4gIHZhciBfdGhpcyA9IHRoaXM7XG4gIF9jbGFzc0NhbGxDaGVjayh0aGlzLCBDb21wYXJpc29uKTtcbiAga2V5cy5mb3JFYWNoKGZ1bmN0aW9uIChrZXkpIHtcbiAgICBpZiAoa2V5IGluIG9iaikge1xuICAgICAgaWYgKGFjdHVhbCAhPT0gdW5kZWZpbmVkICYmIHR5cGVvZiBhY3R1YWxba2V5XSA9PT0gJ3N0cmluZycgJiYgaXNSZWdFeHAob2JqW2tleV0pICYmIFJlZ0V4cFByb3RvdHlwZVRlc3Qob2JqW2tleV0sIGFjdHVhbFtrZXldKSkge1xuICAgICAgICBfdGhpc1trZXldID0gYWN0dWFsW2tleV07XG4gICAgICB9IGVsc2Uge1xuICAgICAgICBfdGhpc1trZXldID0gb2JqW2tleV07XG4gICAgICB9XG4gICAgfVxuICB9KTtcbn0pO1xuZnVuY3Rpb24gY29tcGFyZUV4Y2VwdGlvbktleShhY3R1YWwsIGV4cGVjdGVkLCBrZXksIG1lc3NhZ2UsIGtleXMsIGZuKSB7XG4gIGlmICghKGtleSBpbiBhY3R1YWwpIHx8ICFpc0RlZXBTdHJpY3RFcXVhbChhY3R1YWxba2V5XSwgZXhwZWN0ZWRba2V5XSkpIHtcbiAgICBpZiAoIW1lc3NhZ2UpIHtcbiAgICAgIC8vIENyZWF0ZSBwbGFjZWhvbGRlciBvYmplY3RzIHRvIGNyZWF0ZSBhIG5pY2Ugb3V0cHV0LlxuICAgICAgdmFyIGEgPSBuZXcgQ29tcGFyaXNvbihhY3R1YWwsIGtleXMpO1xuICAgICAgdmFyIGIgPSBuZXcgQ29tcGFyaXNvbihleHBlY3RlZCwga2V5cywgYWN0dWFsKTtcbiAgICAgIHZhciBlcnIgPSBuZXcgQXNzZXJ0aW9uRXJyb3Ioe1xuICAgICAgICBhY3R1YWw6IGEsXG4gICAgICAgIGV4cGVjdGVkOiBiLFxuICAgICAgICBvcGVyYXRvcjogJ2RlZXBTdHJpY3RFcXVhbCcsXG4gICAgICAgIHN0YWNrU3RhcnRGbjogZm5cbiAgICAgIH0pO1xuICAgICAgZXJyLmFjdHVhbCA9IGFjdHVhbDtcbiAgICAgIGVyci5leHBlY3RlZCA9IGV4cGVjdGVkO1xuICAgICAgZXJyLm9wZXJhdG9yID0gZm4ubmFtZTtcbiAgICAgIHRocm93IGVycjtcbiAgICB9XG4gICAgaW5uZXJGYWlsKHtcbiAgICAgIGFjdHVhbDogYWN0dWFsLFxuICAgICAgZXhwZWN0ZWQ6IGV4cGVjdGVkLFxuICAgICAgbWVzc2FnZTogbWVzc2FnZSxcbiAgICAgIG9wZXJhdG9yOiBmbi5uYW1lLFxuICAgICAgc3RhY2tTdGFydEZuOiBmblxuICAgIH0pO1xuICB9XG59XG5mdW5jdGlvbiBleHBlY3RlZEV4Y2VwdGlvbihhY3R1YWwsIGV4cGVjdGVkLCBtc2csIGZuKSB7XG4gIGlmICh0eXBlb2YgZXhwZWN0ZWQgIT09ICdmdW5jdGlvbicpIHtcbiAgICBpZiAoaXNSZWdFeHAoZXhwZWN0ZWQpKSByZXR1cm4gUmVnRXhwUHJvdG90eXBlVGVzdChleHBlY3RlZCwgYWN0dWFsKTtcbiAgICAvLyBhc3NlcnQuZG9lc05vdFRocm93IGRvZXMgbm90IGFjY2VwdCBvYmplY3RzLlxuICAgIGlmIChhcmd1bWVudHMubGVuZ3RoID09PSAyKSB7XG4gICAgICB0aHJvdyBuZXcgRVJSX0lOVkFMSURfQVJHX1RZUEUoJ2V4cGVjdGVkJywgWydGdW5jdGlvbicsICdSZWdFeHAnXSwgZXhwZWN0ZWQpO1xuICAgIH1cblxuICAgIC8vIEhhbmRsZSBwcmltaXRpdmVzIHByb3Blcmx5LlxuICAgIGlmIChfdHlwZW9mKGFjdHVhbCkgIT09ICdvYmplY3QnIHx8IGFjdHVhbCA9PT0gbnVsbCkge1xuICAgICAgdmFyIGVyciA9IG5ldyBBc3NlcnRpb25FcnJvcih7XG4gICAgICAgIGFjdHVhbDogYWN0dWFsLFxuICAgICAgICBleHBlY3RlZDogZXhwZWN0ZWQsXG4gICAgICAgIG1lc3NhZ2U6IG1zZyxcbiAgICAgICAgb3BlcmF0b3I6ICdkZWVwU3RyaWN0RXF1YWwnLFxuICAgICAgICBzdGFja1N0YXJ0Rm46IGZuXG4gICAgICB9KTtcbiAgICAgIGVyci5vcGVyYXRvciA9IGZuLm5hbWU7XG4gICAgICB0aHJvdyBlcnI7XG4gICAgfVxuICAgIHZhciBrZXlzID0gT2JqZWN0LmtleXMoZXhwZWN0ZWQpO1xuICAgIC8vIFNwZWNpYWwgaGFuZGxlIGVycm9ycyB0byBtYWtlIHN1cmUgdGhlIG5hbWUgYW5kIHRoZSBtZXNzYWdlIGFyZSBjb21wYXJlZFxuICAgIC8vIGFzIHdlbGwuXG4gICAgaWYgKGV4cGVjdGVkIGluc3RhbmNlb2YgRXJyb3IpIHtcbiAgICAgIGtleXMucHVzaCgnbmFtZScsICdtZXNzYWdlJyk7XG4gICAgfSBlbHNlIGlmIChrZXlzLmxlbmd0aCA9PT0gMCkge1xuICAgICAgdGhyb3cgbmV3IEVSUl9JTlZBTElEX0FSR19WQUxVRSgnZXJyb3InLCBleHBlY3RlZCwgJ21heSBub3QgYmUgYW4gZW1wdHkgb2JqZWN0Jyk7XG4gICAgfVxuICAgIGlmIChpc0RlZXBFcXVhbCA9PT0gdW5kZWZpbmVkKSBsYXp5TG9hZENvbXBhcmlzb24oKTtcbiAgICBrZXlzLmZvckVhY2goZnVuY3Rpb24gKGtleSkge1xuICAgICAgaWYgKHR5cGVvZiBhY3R1YWxba2V5XSA9PT0gJ3N0cmluZycgJiYgaXNSZWdFeHAoZXhwZWN0ZWRba2V5XSkgJiYgUmVnRXhwUHJvdG90eXBlVGVzdChleHBlY3RlZFtrZXldLCBhY3R1YWxba2V5XSkpIHtcbiAgICAgICAgcmV0dXJuO1xuICAgICAgfVxuICAgICAgY29tcGFyZUV4Y2VwdGlvbktleShhY3R1YWwsIGV4cGVjdGVkLCBrZXksIG1zZywga2V5cywgZm4pO1xuICAgIH0pO1xuICAgIHJldHVybiB0cnVlO1xuICB9XG4gIC8vIEd1YXJkIGluc3RhbmNlb2YgYWdhaW5zdCBhcnJvdyBmdW5jdGlvbnMgYXMgdGhleSBkb24ndCBoYXZlIGEgcHJvdG90eXBlLlxuICBpZiAoZXhwZWN0ZWQucHJvdG90eXBlICE9PSB1bmRlZmluZWQgJiYgYWN0dWFsIGluc3RhbmNlb2YgZXhwZWN0ZWQpIHtcbiAgICByZXR1cm4gdHJ1ZTtcbiAgfVxuICBpZiAoRXJyb3IuaXNQcm90b3R5cGVPZihleHBlY3RlZCkpIHtcbiAgICByZXR1cm4gZmFsc2U7XG4gIH1cbiAgcmV0dXJuIGV4cGVjdGVkLmNhbGwoe30sIGFjdHVhbCkgPT09IHRydWU7XG59XG5mdW5jdGlvbiBnZXRBY3R1YWwoZm4pIHtcbiAgaWYgKHR5cGVvZiBmbiAhPT0gJ2Z1bmN0aW9uJykge1xuICAgIHRocm93IG5ldyBFUlJfSU5WQUxJRF9BUkdfVFlQRSgnZm4nLCAnRnVuY3Rpb24nLCBmbik7XG4gIH1cbiAgdHJ5IHtcbiAgICBmbigpO1xuICB9IGNhdGNoIChlKSB7XG4gICAgcmV0dXJuIGU7XG4gIH1cbiAgcmV0dXJuIE5PX0VYQ0VQVElPTl9TRU5USU5FTDtcbn1cbmZ1bmN0aW9uIGNoZWNrSXNQcm9taXNlKG9iaikge1xuICAvLyBBY2NlcHQgbmF0aXZlIEVTNiBwcm9taXNlcyBhbmQgcHJvbWlzZXMgdGhhdCBhcmUgaW1wbGVtZW50ZWQgaW4gYSBzaW1pbGFyXG4gIC8vIHdheS4gRG8gbm90IGFjY2VwdCB0aGVuYWJsZXMgdGhhdCB1c2UgYSBmdW5jdGlvbiBhcyBgb2JqYCBhbmQgdGhhdCBoYXZlIG5vXG4gIC8vIGBjYXRjaGAgaGFuZGxlci5cblxuICAvLyBUT0RPOiB0aGVuYWJsZXMgYXJlIGNoZWNrZWQgdXAgdW50aWwgdGhleSBoYXZlIHRoZSBjb3JyZWN0IG1ldGhvZHMsXG4gIC8vIGJ1dCBhY2NvcmRpbmcgdG8gZG9jdW1lbnRhdGlvbiwgdGhlIGB0aGVuYCBtZXRob2Qgc2hvdWxkIHJlY2VpdmVcbiAgLy8gdGhlIGBmdWxmaWxsYCBhbmQgYHJlamVjdGAgYXJndW1lbnRzIGFzIHdlbGwgb3IgaXQgbWF5IGJlIG5ldmVyIHJlc29sdmVkLlxuXG4gIHJldHVybiBpc1Byb21pc2Uob2JqKSB8fCBvYmogIT09IG51bGwgJiYgX3R5cGVvZihvYmopID09PSAnb2JqZWN0JyAmJiB0eXBlb2Ygb2JqLnRoZW4gPT09ICdmdW5jdGlvbicgJiYgdHlwZW9mIG9iai5jYXRjaCA9PT0gJ2Z1bmN0aW9uJztcbn1cbmZ1bmN0aW9uIHdhaXRGb3JBY3R1YWwocHJvbWlzZUZuKSB7XG4gIHJldHVybiBQcm9taXNlLnJlc29sdmUoKS50aGVuKGZ1bmN0aW9uICgpIHtcbiAgICB2YXIgcmVzdWx0UHJvbWlzZTtcbiAgICBpZiAodHlwZW9mIHByb21pc2VGbiA9PT0gJ2Z1bmN0aW9uJykge1xuICAgICAgLy8gUmV0dXJuIGEgcmVqZWN0ZWQgcHJvbWlzZSBpZiBgcHJvbWlzZUZuYCB0aHJvd3Mgc3luY2hyb25vdXNseS5cbiAgICAgIHJlc3VsdFByb21pc2UgPSBwcm9taXNlRm4oKTtcbiAgICAgIC8vIEZhaWwgaW4gY2FzZSBubyBwcm9taXNlIGlzIHJldHVybmVkLlxuICAgICAgaWYgKCFjaGVja0lzUHJvbWlzZShyZXN1bHRQcm9taXNlKSkge1xuICAgICAgICB0aHJvdyBuZXcgRVJSX0lOVkFMSURfUkVUVVJOX1ZBTFVFKCdpbnN0YW5jZSBvZiBQcm9taXNlJywgJ3Byb21pc2VGbicsIHJlc3VsdFByb21pc2UpO1xuICAgICAgfVxuICAgIH0gZWxzZSBpZiAoY2hlY2tJc1Byb21pc2UocHJvbWlzZUZuKSkge1xuICAgICAgcmVzdWx0UHJvbWlzZSA9IHByb21pc2VGbjtcbiAgICB9IGVsc2Uge1xuICAgICAgdGhyb3cgbmV3IEVSUl9JTlZBTElEX0FSR19UWVBFKCdwcm9taXNlRm4nLCBbJ0Z1bmN0aW9uJywgJ1Byb21pc2UnXSwgcHJvbWlzZUZuKTtcbiAgICB9XG4gICAgcmV0dXJuIFByb21pc2UucmVzb2x2ZSgpLnRoZW4oZnVuY3Rpb24gKCkge1xuICAgICAgcmV0dXJuIHJlc3VsdFByb21pc2U7XG4gICAgfSkudGhlbihmdW5jdGlvbiAoKSB7XG4gICAgICByZXR1cm4gTk9fRVhDRVBUSU9OX1NFTlRJTkVMO1xuICAgIH0pLmNhdGNoKGZ1bmN0aW9uIChlKSB7XG4gICAgICByZXR1cm4gZTtcbiAgICB9KTtcbiAgfSk7XG59XG5mdW5jdGlvbiBleHBlY3RzRXJyb3Ioc3RhY2tTdGFydEZuLCBhY3R1YWwsIGVycm9yLCBtZXNzYWdlKSB7XG4gIGlmICh0eXBlb2YgZXJyb3IgPT09ICdzdHJpbmcnKSB7XG4gICAgaWYgKGFyZ3VtZW50cy5sZW5ndGggPT09IDQpIHtcbiAgICAgIHRocm93IG5ldyBFUlJfSU5WQUxJRF9BUkdfVFlQRSgnZXJyb3InLCBbJ09iamVjdCcsICdFcnJvcicsICdGdW5jdGlvbicsICdSZWdFeHAnXSwgZXJyb3IpO1xuICAgIH1cbiAgICBpZiAoX3R5cGVvZihhY3R1YWwpID09PSAnb2JqZWN0JyAmJiBhY3R1YWwgIT09IG51bGwpIHtcbiAgICAgIGlmIChhY3R1YWwubWVzc2FnZSA9PT0gZXJyb3IpIHtcbiAgICAgICAgdGhyb3cgbmV3IEVSUl9BTUJJR1VPVVNfQVJHVU1FTlQoJ2Vycm9yL21lc3NhZ2UnLCBcIlRoZSBlcnJvciBtZXNzYWdlIFxcXCJcIi5jb25jYXQoYWN0dWFsLm1lc3NhZ2UsIFwiXFxcIiBpcyBpZGVudGljYWwgdG8gdGhlIG1lc3NhZ2UuXCIpKTtcbiAgICAgIH1cbiAgICB9IGVsc2UgaWYgKGFjdHVhbCA9PT0gZXJyb3IpIHtcbiAgICAgIHRocm93IG5ldyBFUlJfQU1CSUdVT1VTX0FSR1VNRU5UKCdlcnJvci9tZXNzYWdlJywgXCJUaGUgZXJyb3IgXFxcIlwiLmNvbmNhdChhY3R1YWwsIFwiXFxcIiBpcyBpZGVudGljYWwgdG8gdGhlIG1lc3NhZ2UuXCIpKTtcbiAgICB9XG4gICAgbWVzc2FnZSA9IGVycm9yO1xuICAgIGVycm9yID0gdW5kZWZpbmVkO1xuICB9IGVsc2UgaWYgKGVycm9yICE9IG51bGwgJiYgX3R5cGVvZihlcnJvcikgIT09ICdvYmplY3QnICYmIHR5cGVvZiBlcnJvciAhPT0gJ2Z1bmN0aW9uJykge1xuICAgIHRocm93IG5ldyBFUlJfSU5WQUxJRF9BUkdfVFlQRSgnZXJyb3InLCBbJ09iamVjdCcsICdFcnJvcicsICdGdW5jdGlvbicsICdSZWdFeHAnXSwgZXJyb3IpO1xuICB9XG4gIGlmIChhY3R1YWwgPT09IE5PX0VYQ0VQVElPTl9TRU5USU5FTCkge1xuICAgIHZhciBkZXRhaWxzID0gJyc7XG4gICAgaWYgKGVycm9yICYmIGVycm9yLm5hbWUpIHtcbiAgICAgIGRldGFpbHMgKz0gXCIgKFwiLmNvbmNhdChlcnJvci5uYW1lLCBcIilcIik7XG4gICAgfVxuICAgIGRldGFpbHMgKz0gbWVzc2FnZSA/IFwiOiBcIi5jb25jYXQobWVzc2FnZSkgOiAnLic7XG4gICAgdmFyIGZuVHlwZSA9IHN0YWNrU3RhcnRGbi5uYW1lID09PSAncmVqZWN0cycgPyAncmVqZWN0aW9uJyA6ICdleGNlcHRpb24nO1xuICAgIGlubmVyRmFpbCh7XG4gICAgICBhY3R1YWw6IHVuZGVmaW5lZCxcbiAgICAgIGV4cGVjdGVkOiBlcnJvcixcbiAgICAgIG9wZXJhdG9yOiBzdGFja1N0YXJ0Rm4ubmFtZSxcbiAgICAgIG1lc3NhZ2U6IFwiTWlzc2luZyBleHBlY3RlZCBcIi5jb25jYXQoZm5UeXBlKS5jb25jYXQoZGV0YWlscyksXG4gICAgICBzdGFja1N0YXJ0Rm46IHN0YWNrU3RhcnRGblxuICAgIH0pO1xuICB9XG4gIGlmIChlcnJvciAmJiAhZXhwZWN0ZWRFeGNlcHRpb24oYWN0dWFsLCBlcnJvciwgbWVzc2FnZSwgc3RhY2tTdGFydEZuKSkge1xuICAgIHRocm93IGFjdHVhbDtcbiAgfVxufVxuZnVuY3Rpb24gZXhwZWN0c05vRXJyb3Ioc3RhY2tTdGFydEZuLCBhY3R1YWwsIGVycm9yLCBtZXNzYWdlKSB7XG4gIGlmIChhY3R1YWwgPT09IE5PX0VYQ0VQVElPTl9TRU5USU5FTCkgcmV0dXJuO1xuICBpZiAodHlwZW9mIGVycm9yID09PSAnc3RyaW5nJykge1xuICAgIG1lc3NhZ2UgPSBlcnJvcjtcbiAgICBlcnJvciA9IHVuZGVmaW5lZDtcbiAgfVxuICBpZiAoIWVycm9yIHx8IGV4cGVjdGVkRXhjZXB0aW9uKGFjdHVhbCwgZXJyb3IpKSB7XG4gICAgdmFyIGRldGFpbHMgPSBtZXNzYWdlID8gXCI6IFwiLmNvbmNhdChtZXNzYWdlKSA6ICcuJztcbiAgICB2YXIgZm5UeXBlID0gc3RhY2tTdGFydEZuLm5hbWUgPT09ICdkb2VzTm90UmVqZWN0JyA/ICdyZWplY3Rpb24nIDogJ2V4Y2VwdGlvbic7XG4gICAgaW5uZXJGYWlsKHtcbiAgICAgIGFjdHVhbDogYWN0dWFsLFxuICAgICAgZXhwZWN0ZWQ6IGVycm9yLFxuICAgICAgb3BlcmF0b3I6IHN0YWNrU3RhcnRGbi5uYW1lLFxuICAgICAgbWVzc2FnZTogXCJHb3QgdW53YW50ZWQgXCIuY29uY2F0KGZuVHlwZSkuY29uY2F0KGRldGFpbHMsIFwiXFxuXCIpICsgXCJBY3R1YWwgbWVzc2FnZTogXFxcIlwiLmNvbmNhdChhY3R1YWwgJiYgYWN0dWFsLm1lc3NhZ2UsIFwiXFxcIlwiKSxcbiAgICAgIHN0YWNrU3RhcnRGbjogc3RhY2tTdGFydEZuXG4gICAgfSk7XG4gIH1cbiAgdGhyb3cgYWN0dWFsO1xufVxuYXNzZXJ0LnRocm93cyA9IGZ1bmN0aW9uIHRocm93cyhwcm9taXNlRm4pIHtcbiAgZm9yICh2YXIgX2xlbjIgPSBhcmd1bWVudHMubGVuZ3RoLCBhcmdzID0gbmV3IEFycmF5KF9sZW4yID4gMSA/IF9sZW4yIC0gMSA6IDApLCBfa2V5MiA9IDE7IF9rZXkyIDwgX2xlbjI7IF9rZXkyKyspIHtcbiAgICBhcmdzW19rZXkyIC0gMV0gPSBhcmd1bWVudHNbX2tleTJdO1xuICB9XG4gIGV4cGVjdHNFcnJvci5hcHBseSh2b2lkIDAsIFt0aHJvd3MsIGdldEFjdHVhbChwcm9taXNlRm4pXS5jb25jYXQoYXJncykpO1xufTtcbmFzc2VydC5yZWplY3RzID0gZnVuY3Rpb24gcmVqZWN0cyhwcm9taXNlRm4pIHtcbiAgZm9yICh2YXIgX2xlbjMgPSBhcmd1bWVudHMubGVuZ3RoLCBhcmdzID0gbmV3IEFycmF5KF9sZW4zID4gMSA/IF9sZW4zIC0gMSA6IDApLCBfa2V5MyA9IDE7IF9rZXkzIDwgX2xlbjM7IF9rZXkzKyspIHtcbiAgICBhcmdzW19rZXkzIC0gMV0gPSBhcmd1bWVudHNbX2tleTNdO1xuICB9XG4gIHJldHVybiB3YWl0Rm9yQWN0dWFsKHByb21pc2VGbikudGhlbihmdW5jdGlvbiAocmVzdWx0KSB7XG4gICAgcmV0dXJuIGV4cGVjdHNFcnJvci5hcHBseSh2b2lkIDAsIFtyZWplY3RzLCByZXN1bHRdLmNvbmNhdChhcmdzKSk7XG4gIH0pO1xufTtcbmFzc2VydC5kb2VzTm90VGhyb3cgPSBmdW5jdGlvbiBkb2VzTm90VGhyb3coZm4pIHtcbiAgZm9yICh2YXIgX2xlbjQgPSBhcmd1bWVudHMubGVuZ3RoLCBhcmdzID0gbmV3IEFycmF5KF9sZW40ID4gMSA/IF9sZW40IC0gMSA6IDApLCBfa2V5NCA9IDE7IF9rZXk0IDwgX2xlbjQ7IF9rZXk0KyspIHtcbiAgICBhcmdzW19rZXk0IC0gMV0gPSBhcmd1bWVudHNbX2tleTRdO1xuICB9XG4gIGV4cGVjdHNOb0Vycm9yLmFwcGx5KHZvaWQgMCwgW2RvZXNOb3RUaHJvdywgZ2V0QWN0dWFsKGZuKV0uY29uY2F0KGFyZ3MpKTtcbn07XG5hc3NlcnQuZG9lc05vdFJlamVjdCA9IGZ1bmN0aW9uIGRvZXNOb3RSZWplY3QoZm4pIHtcbiAgZm9yICh2YXIgX2xlbjUgPSBhcmd1bWVudHMubGVuZ3RoLCBhcmdzID0gbmV3IEFycmF5KF9sZW41ID4gMSA/IF9sZW41IC0gMSA6IDApLCBfa2V5NSA9IDE7IF9rZXk1IDwgX2xlbjU7IF9rZXk1KyspIHtcbiAgICBhcmdzW19rZXk1IC0gMV0gPSBhcmd1bWVudHNbX2tleTVdO1xuICB9XG4gIHJldHVybiB3YWl0Rm9yQWN0dWFsKGZuKS50aGVuKGZ1bmN0aW9uIChyZXN1bHQpIHtcbiAgICByZXR1cm4gZXhwZWN0c05vRXJyb3IuYXBwbHkodm9pZCAwLCBbZG9lc05vdFJlamVjdCwgcmVzdWx0XS5jb25jYXQoYXJncykpO1xuICB9KTtcbn07XG5hc3NlcnQuaWZFcnJvciA9IGZ1bmN0aW9uIGlmRXJyb3IoZXJyKSB7XG4gIGlmIChlcnIgIT09IG51bGwgJiYgZXJyICE9PSB1bmRlZmluZWQpIHtcbiAgICB2YXIgbWVzc2FnZSA9ICdpZkVycm9yIGdvdCB1bndhbnRlZCBleGNlcHRpb246ICc7XG4gICAgaWYgKF90eXBlb2YoZXJyKSA9PT0gJ29iamVjdCcgJiYgdHlwZW9mIGVyci5tZXNzYWdlID09PSAnc3RyaW5nJykge1xuICAgICAgaWYgKGVyci5tZXNzYWdlLmxlbmd0aCA9PT0gMCAmJiBlcnIuY29uc3RydWN0b3IpIHtcbiAgICAgICAgbWVzc2FnZSArPSBlcnIuY29uc3RydWN0b3IubmFtZTtcbiAgICAgIH0gZWxzZSB7XG4gICAgICAgIG1lc3NhZ2UgKz0gZXJyLm1lc3NhZ2U7XG4gICAgICB9XG4gICAgfSBlbHNlIHtcbiAgICAgIG1lc3NhZ2UgKz0gaW5zcGVjdChlcnIpO1xuICAgIH1cbiAgICB2YXIgbmV3RXJyID0gbmV3IEFzc2VydGlvbkVycm9yKHtcbiAgICAgIGFjdHVhbDogZXJyLFxuICAgICAgZXhwZWN0ZWQ6IG51bGwsXG4gICAgICBvcGVyYXRvcjogJ2lmRXJyb3InLFxuICAgICAgbWVzc2FnZTogbWVzc2FnZSxcbiAgICAgIHN0YWNrU3RhcnRGbjogaWZFcnJvclxuICAgIH0pO1xuXG4gICAgLy8gTWFrZSBzdXJlIHdlIGFjdHVhbGx5IGhhdmUgYSBzdGFjayB0cmFjZSFcbiAgICB2YXIgb3JpZ1N0YWNrID0gZXJyLnN0YWNrO1xuICAgIGlmICh0eXBlb2Ygb3JpZ1N0YWNrID09PSAnc3RyaW5nJykge1xuICAgICAgLy8gVGhpcyB3aWxsIHJlbW92ZSBhbnkgZHVwbGljYXRlZCBmcmFtZXMgZnJvbSB0aGUgZXJyb3IgZnJhbWVzIHRha2VuXG4gICAgICAvLyBmcm9tIHdpdGhpbiBgaWZFcnJvcmAgYW5kIGFkZCB0aGUgb3JpZ2luYWwgZXJyb3IgZnJhbWVzIHRvIHRoZSBuZXdseVxuICAgICAgLy8gY3JlYXRlZCBvbmVzLlxuICAgICAgdmFyIHRtcDIgPSBvcmlnU3RhY2suc3BsaXQoJ1xcbicpO1xuICAgICAgdG1wMi5zaGlmdCgpO1xuICAgICAgLy8gRmlsdGVyIGFsbCBmcmFtZXMgZXhpc3RpbmcgaW4gZXJyLnN0YWNrLlxuICAgICAgdmFyIHRtcDEgPSBuZXdFcnIuc3RhY2suc3BsaXQoJ1xcbicpO1xuICAgICAgZm9yICh2YXIgaSA9IDA7IGkgPCB0bXAyLmxlbmd0aDsgaSsrKSB7XG4gICAgICAgIC8vIEZpbmQgdGhlIGZpcnN0IG9jY3VycmVuY2Ugb2YgdGhlIGZyYW1lLlxuICAgICAgICB2YXIgcG9zID0gdG1wMS5pbmRleE9mKHRtcDJbaV0pO1xuICAgICAgICBpZiAocG9zICE9PSAtMSkge1xuICAgICAgICAgIC8vIE9ubHkga2VlcCBuZXcgZnJhbWVzLlxuICAgICAgICAgIHRtcDEgPSB0bXAxLnNsaWNlKDAsIHBvcyk7XG4gICAgICAgICAgYnJlYWs7XG4gICAgICAgIH1cbiAgICAgIH1cbiAgICAgIG5ld0Vyci5zdGFjayA9IFwiXCIuY29uY2F0KHRtcDEuam9pbignXFxuJyksIFwiXFxuXCIpLmNvbmNhdCh0bXAyLmpvaW4oJ1xcbicpKTtcbiAgICB9XG4gICAgdGhyb3cgbmV3RXJyO1xuICB9XG59O1xuXG4vLyBDdXJyZW50bHkgaW4gc3luYyB3aXRoIE5vZGUuanMgbGliL2Fzc2VydC5qc1xuLy8gaHR0cHM6Ly9naXRodWIuY29tL25vZGVqcy9ub2RlL2NvbW1pdC8yYTg3MWRmM2RmYjhlYTY2M2VmNWUxZjhmNjI3MDFlYzUxMzg0ZWNiXG5mdW5jdGlvbiBpbnRlcm5hbE1hdGNoKHN0cmluZywgcmVnZXhwLCBtZXNzYWdlLCBmbiwgZm5OYW1lKSB7XG4gIGlmICghaXNSZWdFeHAocmVnZXhwKSkge1xuICAgIHRocm93IG5ldyBFUlJfSU5WQUxJRF9BUkdfVFlQRSgncmVnZXhwJywgJ1JlZ0V4cCcsIHJlZ2V4cCk7XG4gIH1cbiAgdmFyIG1hdGNoID0gZm5OYW1lID09PSAnbWF0Y2gnO1xuICBpZiAodHlwZW9mIHN0cmluZyAhPT0gJ3N0cmluZycgfHwgUmVnRXhwUHJvdG90eXBlVGVzdChyZWdleHAsIHN0cmluZykgIT09IG1hdGNoKSB7XG4gICAgaWYgKG1lc3NhZ2UgaW5zdGFuY2VvZiBFcnJvcikge1xuICAgICAgdGhyb3cgbWVzc2FnZTtcbiAgICB9XG4gICAgdmFyIGdlbmVyYXRlZE1lc3NhZ2UgPSAhbWVzc2FnZTtcblxuICAgIC8vICdUaGUgaW5wdXQgd2FzIGV4cGVjdGVkIHRvIG5vdCBtYXRjaCB0aGUgcmVndWxhciBleHByZXNzaW9uICcgK1xuICAgIG1lc3NhZ2UgPSBtZXNzYWdlIHx8ICh0eXBlb2Ygc3RyaW5nICE9PSAnc3RyaW5nJyA/ICdUaGUgXCJzdHJpbmdcIiBhcmd1bWVudCBtdXN0IGJlIG9mIHR5cGUgc3RyaW5nLiBSZWNlaXZlZCB0eXBlICcgKyBcIlwiLmNvbmNhdChfdHlwZW9mKHN0cmluZyksIFwiIChcIikuY29uY2F0KGluc3BlY3Qoc3RyaW5nKSwgXCIpXCIpIDogKG1hdGNoID8gJ1RoZSBpbnB1dCBkaWQgbm90IG1hdGNoIHRoZSByZWd1bGFyIGV4cHJlc3Npb24gJyA6ICdUaGUgaW5wdXQgd2FzIGV4cGVjdGVkIHRvIG5vdCBtYXRjaCB0aGUgcmVndWxhciBleHByZXNzaW9uICcpICsgXCJcIi5jb25jYXQoaW5zcGVjdChyZWdleHApLCBcIi4gSW5wdXQ6XFxuXFxuXCIpLmNvbmNhdChpbnNwZWN0KHN0cmluZyksIFwiXFxuXCIpKTtcbiAgICB2YXIgZXJyID0gbmV3IEFzc2VydGlvbkVycm9yKHtcbiAgICAgIGFjdHVhbDogc3RyaW5nLFxuICAgICAgZXhwZWN0ZWQ6IHJlZ2V4cCxcbiAgICAgIG1lc3NhZ2U6IG1lc3NhZ2UsXG4gICAgICBvcGVyYXRvcjogZm5OYW1lLFxuICAgICAgc3RhY2tTdGFydEZuOiBmblxuICAgIH0pO1xuICAgIGVyci5nZW5lcmF0ZWRNZXNzYWdlID0gZ2VuZXJhdGVkTWVzc2FnZTtcbiAgICB0aHJvdyBlcnI7XG4gIH1cbn1cbmFzc2VydC5tYXRjaCA9IGZ1bmN0aW9uIG1hdGNoKHN0cmluZywgcmVnZXhwLCBtZXNzYWdlKSB7XG4gIGludGVybmFsTWF0Y2goc3RyaW5nLCByZWdleHAsIG1lc3NhZ2UsIG1hdGNoLCAnbWF0Y2gnKTtcbn07XG5hc3NlcnQuZG9lc05vdE1hdGNoID0gZnVuY3Rpb24gZG9lc05vdE1hdGNoKHN0cmluZywgcmVnZXhwLCBtZXNzYWdlKSB7XG4gIGludGVybmFsTWF0Y2goc3RyaW5nLCByZWdleHAsIG1lc3NhZ2UsIGRvZXNOb3RNYXRjaCwgJ2RvZXNOb3RNYXRjaCcpO1xufTtcblxuLy8gRXhwb3NlIGEgc3RyaWN0IG9ubHkgdmFyaWFudCBvZiBhc3NlcnRcbmZ1bmN0aW9uIHN0cmljdCgpIHtcbiAgZm9yICh2YXIgX2xlbjYgPSBhcmd1bWVudHMubGVuZ3RoLCBhcmdzID0gbmV3IEFycmF5KF9sZW42KSwgX2tleTYgPSAwOyBfa2V5NiA8IF9sZW42OyBfa2V5NisrKSB7XG4gICAgYXJnc1tfa2V5Nl0gPSBhcmd1bWVudHNbX2tleTZdO1xuICB9XG4gIGlubmVyT2suYXBwbHkodm9pZCAwLCBbc3RyaWN0LCBhcmdzLmxlbmd0aF0uY29uY2F0KGFyZ3MpKTtcbn1cbmFzc2VydC5zdHJpY3QgPSBvYmplY3RBc3NpZ24oc3RyaWN0LCBhc3NlcnQsIHtcbiAgZXF1YWw6IGFzc2VydC5zdHJpY3RFcXVhbCxcbiAgZGVlcEVxdWFsOiBhc3NlcnQuZGVlcFN0cmljdEVxdWFsLFxuICBub3RFcXVhbDogYXNzZXJ0Lm5vdFN0cmljdEVxdWFsLFxuICBub3REZWVwRXF1YWw6IGFzc2VydC5ub3REZWVwU3RyaWN0RXF1YWxcbn0pO1xuYXNzZXJ0LnN0cmljdC5zdHJpY3QgPSBhc3NlcnQuc3RyaWN0OyIsICIvLyAncGF0aCcgbW9kdWxlIGV4dHJhY3RlZCBmcm9tIE5vZGUuanMgdjguMTEuMSAob25seSB0aGUgcG9zaXggcGFydClcbi8vIHRyYW5zcGxpdGVkIHdpdGggQmFiZWxcblxuLy8gQ29weXJpZ2h0IEpveWVudCwgSW5jLiBhbmQgb3RoZXIgTm9kZSBjb250cmlidXRvcnMuXG4vL1xuLy8gUGVybWlzc2lvbiBpcyBoZXJlYnkgZ3JhbnRlZCwgZnJlZSBvZiBjaGFyZ2UsIHRvIGFueSBwZXJzb24gb2J0YWluaW5nIGFcbi8vIGNvcHkgb2YgdGhpcyBzb2Z0d2FyZSBhbmQgYXNzb2NpYXRlZCBkb2N1bWVudGF0aW9uIGZpbGVzICh0aGVcbi8vIFwiU29mdHdhcmVcIiksIHRvIGRlYWwgaW4gdGhlIFNvZnR3YXJlIHdpdGhvdXQgcmVzdHJpY3Rpb24sIGluY2x1ZGluZ1xuLy8gd2l0aG91dCBsaW1pdGF0aW9uIHRoZSByaWdodHMgdG8gdXNlLCBjb3B5LCBtb2RpZnksIG1lcmdlLCBwdWJsaXNoLFxuLy8gZGlzdHJpYnV0ZSwgc3VibGljZW5zZSwgYW5kL29yIHNlbGwgY29waWVzIG9mIHRoZSBTb2Z0d2FyZSwgYW5kIHRvIHBlcm1pdFxuLy8gcGVyc29ucyB0byB3aG9tIHRoZSBTb2Z0d2FyZSBpcyBmdXJuaXNoZWQgdG8gZG8gc28sIHN1YmplY3QgdG8gdGhlXG4vLyBmb2xsb3dpbmcgY29uZGl0aW9uczpcbi8vXG4vLyBUaGUgYWJvdmUgY29weXJpZ2h0IG5vdGljZSBhbmQgdGhpcyBwZXJtaXNzaW9uIG5vdGljZSBzaGFsbCBiZSBpbmNsdWRlZFxuLy8gaW4gYWxsIGNvcGllcyBvciBzdWJzdGFudGlhbCBwb3J0aW9ucyBvZiB0aGUgU29mdHdhcmUuXG4vL1xuLy8gVEhFIFNPRlRXQVJFIElTIFBST1ZJREVEIFwiQVMgSVNcIiwgV0lUSE9VVCBXQVJSQU5UWSBPRiBBTlkgS0lORCwgRVhQUkVTU1xuLy8gT1IgSU1QTElFRCwgSU5DTFVESU5HIEJVVCBOT1QgTElNSVRFRCBUTyBUSEUgV0FSUkFOVElFUyBPRlxuLy8gTUVSQ0hBTlRBQklMSVRZLCBGSVRORVNTIEZPUiBBIFBBUlRJQ1VMQVIgUFVSUE9TRSBBTkQgTk9OSU5GUklOR0VNRU5ULiBJTlxuLy8gTk8gRVZFTlQgU0hBTEwgVEhFIEFVVEhPUlMgT1IgQ09QWVJJR0hUIEhPTERFUlMgQkUgTElBQkxFIEZPUiBBTlkgQ0xBSU0sXG4vLyBEQU1BR0VTIE9SIE9USEVSIExJQUJJTElUWSwgV0hFVEhFUiBJTiBBTiBBQ1RJT04gT0YgQ09OVFJBQ1QsIFRPUlQgT1Jcbi8vIE9USEVSV0lTRSwgQVJJU0lORyBGUk9NLCBPVVQgT0YgT1IgSU4gQ09OTkVDVElPTiBXSVRIIFRIRSBTT0ZUV0FSRSBPUiBUSEVcbi8vIFVTRSBPUiBPVEhFUiBERUFMSU5HUyBJTiBUSEUgU09GVFdBUkUuXG5cbid1c2Ugc3RyaWN0JztcblxuZnVuY3Rpb24gYXNzZXJ0UGF0aChwYXRoKSB7XG4gIGlmICh0eXBlb2YgcGF0aCAhPT0gJ3N0cmluZycpIHtcbiAgICB0aHJvdyBuZXcgVHlwZUVycm9yKCdQYXRoIG11c3QgYmUgYSBzdHJpbmcuIFJlY2VpdmVkICcgKyBKU09OLnN0cmluZ2lmeShwYXRoKSk7XG4gIH1cbn1cblxuLy8gUmVzb2x2ZXMgLiBhbmQgLi4gZWxlbWVudHMgaW4gYSBwYXRoIHdpdGggZGlyZWN0b3J5IG5hbWVzXG5mdW5jdGlvbiBub3JtYWxpemVTdHJpbmdQb3NpeChwYXRoLCBhbGxvd0Fib3ZlUm9vdCkge1xuICB2YXIgcmVzID0gJyc7XG4gIHZhciBsYXN0U2VnbWVudExlbmd0aCA9IDA7XG4gIHZhciBsYXN0U2xhc2ggPSAtMTtcbiAgdmFyIGRvdHMgPSAwO1xuICB2YXIgY29kZTtcbiAgZm9yICh2YXIgaSA9IDA7IGkgPD0gcGF0aC5sZW5ndGg7ICsraSkge1xuICAgIGlmIChpIDwgcGF0aC5sZW5ndGgpXG4gICAgICBjb2RlID0gcGF0aC5jaGFyQ29kZUF0KGkpO1xuICAgIGVsc2UgaWYgKGNvZGUgPT09IDQ3IC8qLyovKVxuICAgICAgYnJlYWs7XG4gICAgZWxzZVxuICAgICAgY29kZSA9IDQ3IC8qLyovO1xuICAgIGlmIChjb2RlID09PSA0NyAvKi8qLykge1xuICAgICAgaWYgKGxhc3RTbGFzaCA9PT0gaSAtIDEgfHwgZG90cyA9PT0gMSkge1xuICAgICAgICAvLyBOT09QXG4gICAgICB9IGVsc2UgaWYgKGxhc3RTbGFzaCAhPT0gaSAtIDEgJiYgZG90cyA9PT0gMikge1xuICAgICAgICBpZiAocmVzLmxlbmd0aCA8IDIgfHwgbGFzdFNlZ21lbnRMZW5ndGggIT09IDIgfHwgcmVzLmNoYXJDb2RlQXQocmVzLmxlbmd0aCAtIDEpICE9PSA0NiAvKi4qLyB8fCByZXMuY2hhckNvZGVBdChyZXMubGVuZ3RoIC0gMikgIT09IDQ2IC8qLiovKSB7XG4gICAgICAgICAgaWYgKHJlcy5sZW5ndGggPiAyKSB7XG4gICAgICAgICAgICB2YXIgbGFzdFNsYXNoSW5kZXggPSByZXMubGFzdEluZGV4T2YoJy8nKTtcbiAgICAgICAgICAgIGlmIChsYXN0U2xhc2hJbmRleCAhPT0gcmVzLmxlbmd0aCAtIDEpIHtcbiAgICAgICAgICAgICAgaWYgKGxhc3RTbGFzaEluZGV4ID09PSAtMSkge1xuICAgICAgICAgICAgICAgIHJlcyA9ICcnO1xuICAgICAgICAgICAgICAgIGxhc3RTZWdtZW50TGVuZ3RoID0gMDtcbiAgICAgICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgICAgICByZXMgPSByZXMuc2xpY2UoMCwgbGFzdFNsYXNoSW5kZXgpO1xuICAgICAgICAgICAgICAgIGxhc3RTZWdtZW50TGVuZ3RoID0gcmVzLmxlbmd0aCAtIDEgLSByZXMubGFzdEluZGV4T2YoJy8nKTtcbiAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICBsYXN0U2xhc2ggPSBpO1xuICAgICAgICAgICAgICBkb3RzID0gMDtcbiAgICAgICAgICAgICAgY29udGludWU7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgfSBlbHNlIGlmIChyZXMubGVuZ3RoID09PSAyIHx8IHJlcy5sZW5ndGggPT09IDEpIHtcbiAgICAgICAgICAgIHJlcyA9ICcnO1xuICAgICAgICAgICAgbGFzdFNlZ21lbnRMZW5ndGggPSAwO1xuICAgICAgICAgICAgbGFzdFNsYXNoID0gaTtcbiAgICAgICAgICAgIGRvdHMgPSAwO1xuICAgICAgICAgICAgY29udGludWU7XG4gICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICAgIGlmIChhbGxvd0Fib3ZlUm9vdCkge1xuICAgICAgICAgIGlmIChyZXMubGVuZ3RoID4gMClcbiAgICAgICAgICAgIHJlcyArPSAnLy4uJztcbiAgICAgICAgICBlbHNlXG4gICAgICAgICAgICByZXMgPSAnLi4nO1xuICAgICAgICAgIGxhc3RTZWdtZW50TGVuZ3RoID0gMjtcbiAgICAgICAgfVxuICAgICAgfSBlbHNlIHtcbiAgICAgICAgaWYgKHJlcy5sZW5ndGggPiAwKVxuICAgICAgICAgIHJlcyArPSAnLycgKyBwYXRoLnNsaWNlKGxhc3RTbGFzaCArIDEsIGkpO1xuICAgICAgICBlbHNlXG4gICAgICAgICAgcmVzID0gcGF0aC5zbGljZShsYXN0U2xhc2ggKyAxLCBpKTtcbiAgICAgICAgbGFzdFNlZ21lbnRMZW5ndGggPSBpIC0gbGFzdFNsYXNoIC0gMTtcbiAgICAgIH1cbiAgICAgIGxhc3RTbGFzaCA9IGk7XG4gICAgICBkb3RzID0gMDtcbiAgICB9IGVsc2UgaWYgKGNvZGUgPT09IDQ2IC8qLiovICYmIGRvdHMgIT09IC0xKSB7XG4gICAgICArK2RvdHM7XG4gICAgfSBlbHNlIHtcbiAgICAgIGRvdHMgPSAtMTtcbiAgICB9XG4gIH1cbiAgcmV0dXJuIHJlcztcbn1cblxuZnVuY3Rpb24gX2Zvcm1hdChzZXAsIHBhdGhPYmplY3QpIHtcbiAgdmFyIGRpciA9IHBhdGhPYmplY3QuZGlyIHx8IHBhdGhPYmplY3Qucm9vdDtcbiAgdmFyIGJhc2UgPSBwYXRoT2JqZWN0LmJhc2UgfHwgKHBhdGhPYmplY3QubmFtZSB8fCAnJykgKyAocGF0aE9iamVjdC5leHQgfHwgJycpO1xuICBpZiAoIWRpcikge1xuICAgIHJldHVybiBiYXNlO1xuICB9XG4gIGlmIChkaXIgPT09IHBhdGhPYmplY3Qucm9vdCkge1xuICAgIHJldHVybiBkaXIgKyBiYXNlO1xuICB9XG4gIHJldHVybiBkaXIgKyBzZXAgKyBiYXNlO1xufVxuXG52YXIgcG9zaXggPSB7XG4gIC8vIHBhdGgucmVzb2x2ZShbZnJvbSAuLi5dLCB0bylcbiAgcmVzb2x2ZTogZnVuY3Rpb24gcmVzb2x2ZSgpIHtcbiAgICB2YXIgcmVzb2x2ZWRQYXRoID0gJyc7XG4gICAgdmFyIHJlc29sdmVkQWJzb2x1dGUgPSBmYWxzZTtcbiAgICB2YXIgY3dkO1xuXG4gICAgZm9yICh2YXIgaSA9IGFyZ3VtZW50cy5sZW5ndGggLSAxOyBpID49IC0xICYmICFyZXNvbHZlZEFic29sdXRlOyBpLS0pIHtcbiAgICAgIHZhciBwYXRoO1xuICAgICAgaWYgKGkgPj0gMClcbiAgICAgICAgcGF0aCA9IGFyZ3VtZW50c1tpXTtcbiAgICAgIGVsc2Uge1xuICAgICAgICBpZiAoY3dkID09PSB1bmRlZmluZWQpXG4gICAgICAgICAgY3dkID0gcHJvY2Vzcy5jd2QoKTtcbiAgICAgICAgcGF0aCA9IGN3ZDtcbiAgICAgIH1cblxuICAgICAgYXNzZXJ0UGF0aChwYXRoKTtcblxuICAgICAgLy8gU2tpcCBlbXB0eSBlbnRyaWVzXG4gICAgICBpZiAocGF0aC5sZW5ndGggPT09IDApIHtcbiAgICAgICAgY29udGludWU7XG4gICAgICB9XG5cbiAgICAgIHJlc29sdmVkUGF0aCA9IHBhdGggKyAnLycgKyByZXNvbHZlZFBhdGg7XG4gICAgICByZXNvbHZlZEFic29sdXRlID0gcGF0aC5jaGFyQ29kZUF0KDApID09PSA0NyAvKi8qLztcbiAgICB9XG5cbiAgICAvLyBBdCB0aGlzIHBvaW50IHRoZSBwYXRoIHNob3VsZCBiZSByZXNvbHZlZCB0byBhIGZ1bGwgYWJzb2x1dGUgcGF0aCwgYnV0XG4gICAgLy8gaGFuZGxlIHJlbGF0aXZlIHBhdGhzIHRvIGJlIHNhZmUgKG1pZ2h0IGhhcHBlbiB3aGVuIHByb2Nlc3MuY3dkKCkgZmFpbHMpXG5cbiAgICAvLyBOb3JtYWxpemUgdGhlIHBhdGhcbiAgICByZXNvbHZlZFBhdGggPSBub3JtYWxpemVTdHJpbmdQb3NpeChyZXNvbHZlZFBhdGgsICFyZXNvbHZlZEFic29sdXRlKTtcblxuICAgIGlmIChyZXNvbHZlZEFic29sdXRlKSB7XG4gICAgICBpZiAocmVzb2x2ZWRQYXRoLmxlbmd0aCA+IDApXG4gICAgICAgIHJldHVybiAnLycgKyByZXNvbHZlZFBhdGg7XG4gICAgICBlbHNlXG4gICAgICAgIHJldHVybiAnLyc7XG4gICAgfSBlbHNlIGlmIChyZXNvbHZlZFBhdGgubGVuZ3RoID4gMCkge1xuICAgICAgcmV0dXJuIHJlc29sdmVkUGF0aDtcbiAgICB9IGVsc2Uge1xuICAgICAgcmV0dXJuICcuJztcbiAgICB9XG4gIH0sXG5cbiAgbm9ybWFsaXplOiBmdW5jdGlvbiBub3JtYWxpemUocGF0aCkge1xuICAgIGFzc2VydFBhdGgocGF0aCk7XG5cbiAgICBpZiAocGF0aC5sZW5ndGggPT09IDApIHJldHVybiAnLic7XG5cbiAgICB2YXIgaXNBYnNvbHV0ZSA9IHBhdGguY2hhckNvZGVBdCgwKSA9PT0gNDcgLyovKi87XG4gICAgdmFyIHRyYWlsaW5nU2VwYXJhdG9yID0gcGF0aC5jaGFyQ29kZUF0KHBhdGgubGVuZ3RoIC0gMSkgPT09IDQ3IC8qLyovO1xuXG4gICAgLy8gTm9ybWFsaXplIHRoZSBwYXRoXG4gICAgcGF0aCA9IG5vcm1hbGl6ZVN0cmluZ1Bvc2l4KHBhdGgsICFpc0Fic29sdXRlKTtcblxuICAgIGlmIChwYXRoLmxlbmd0aCA9PT0gMCAmJiAhaXNBYnNvbHV0ZSkgcGF0aCA9ICcuJztcbiAgICBpZiAocGF0aC5sZW5ndGggPiAwICYmIHRyYWlsaW5nU2VwYXJhdG9yKSBwYXRoICs9ICcvJztcblxuICAgIGlmIChpc0Fic29sdXRlKSByZXR1cm4gJy8nICsgcGF0aDtcbiAgICByZXR1cm4gcGF0aDtcbiAgfSxcblxuICBpc0Fic29sdXRlOiBmdW5jdGlvbiBpc0Fic29sdXRlKHBhdGgpIHtcbiAgICBhc3NlcnRQYXRoKHBhdGgpO1xuICAgIHJldHVybiBwYXRoLmxlbmd0aCA+IDAgJiYgcGF0aC5jaGFyQ29kZUF0KDApID09PSA0NyAvKi8qLztcbiAgfSxcblxuICBqb2luOiBmdW5jdGlvbiBqb2luKCkge1xuICAgIGlmIChhcmd1bWVudHMubGVuZ3RoID09PSAwKVxuICAgICAgcmV0dXJuICcuJztcbiAgICB2YXIgam9pbmVkO1xuICAgIGZvciAodmFyIGkgPSAwOyBpIDwgYXJndW1lbnRzLmxlbmd0aDsgKytpKSB7XG4gICAgICB2YXIgYXJnID0gYXJndW1lbnRzW2ldO1xuICAgICAgYXNzZXJ0UGF0aChhcmcpO1xuICAgICAgaWYgKGFyZy5sZW5ndGggPiAwKSB7XG4gICAgICAgIGlmIChqb2luZWQgPT09IHVuZGVmaW5lZClcbiAgICAgICAgICBqb2luZWQgPSBhcmc7XG4gICAgICAgIGVsc2VcbiAgICAgICAgICBqb2luZWQgKz0gJy8nICsgYXJnO1xuICAgICAgfVxuICAgIH1cbiAgICBpZiAoam9pbmVkID09PSB1bmRlZmluZWQpXG4gICAgICByZXR1cm4gJy4nO1xuICAgIHJldHVybiBwb3NpeC5ub3JtYWxpemUoam9pbmVkKTtcbiAgfSxcblxuICByZWxhdGl2ZTogZnVuY3Rpb24gcmVsYXRpdmUoZnJvbSwgdG8pIHtcbiAgICBhc3NlcnRQYXRoKGZyb20pO1xuICAgIGFzc2VydFBhdGgodG8pO1xuXG4gICAgaWYgKGZyb20gPT09IHRvKSByZXR1cm4gJyc7XG5cbiAgICBmcm9tID0gcG9zaXgucmVzb2x2ZShmcm9tKTtcbiAgICB0byA9IHBvc2l4LnJlc29sdmUodG8pO1xuXG4gICAgaWYgKGZyb20gPT09IHRvKSByZXR1cm4gJyc7XG5cbiAgICAvLyBUcmltIGFueSBsZWFkaW5nIGJhY2tzbGFzaGVzXG4gICAgdmFyIGZyb21TdGFydCA9IDE7XG4gICAgZm9yICg7IGZyb21TdGFydCA8IGZyb20ubGVuZ3RoOyArK2Zyb21TdGFydCkge1xuICAgICAgaWYgKGZyb20uY2hhckNvZGVBdChmcm9tU3RhcnQpICE9PSA0NyAvKi8qLylcbiAgICAgICAgYnJlYWs7XG4gICAgfVxuICAgIHZhciBmcm9tRW5kID0gZnJvbS5sZW5ndGg7XG4gICAgdmFyIGZyb21MZW4gPSBmcm9tRW5kIC0gZnJvbVN0YXJ0O1xuXG4gICAgLy8gVHJpbSBhbnkgbGVhZGluZyBiYWNrc2xhc2hlc1xuICAgIHZhciB0b1N0YXJ0ID0gMTtcbiAgICBmb3IgKDsgdG9TdGFydCA8IHRvLmxlbmd0aDsgKyt0b1N0YXJ0KSB7XG4gICAgICBpZiAodG8uY2hhckNvZGVBdCh0b1N0YXJ0KSAhPT0gNDcgLyovKi8pXG4gICAgICAgIGJyZWFrO1xuICAgIH1cbiAgICB2YXIgdG9FbmQgPSB0by5sZW5ndGg7XG4gICAgdmFyIHRvTGVuID0gdG9FbmQgLSB0b1N0YXJ0O1xuXG4gICAgLy8gQ29tcGFyZSBwYXRocyB0byBmaW5kIHRoZSBsb25nZXN0IGNvbW1vbiBwYXRoIGZyb20gcm9vdFxuICAgIHZhciBsZW5ndGggPSBmcm9tTGVuIDwgdG9MZW4gPyBmcm9tTGVuIDogdG9MZW47XG4gICAgdmFyIGxhc3RDb21tb25TZXAgPSAtMTtcbiAgICB2YXIgaSA9IDA7XG4gICAgZm9yICg7IGkgPD0gbGVuZ3RoOyArK2kpIHtcbiAgICAgIGlmIChpID09PSBsZW5ndGgpIHtcbiAgICAgICAgaWYgKHRvTGVuID4gbGVuZ3RoKSB7XG4gICAgICAgICAgaWYgKHRvLmNoYXJDb2RlQXQodG9TdGFydCArIGkpID09PSA0NyAvKi8qLykge1xuICAgICAgICAgICAgLy8gV2UgZ2V0IGhlcmUgaWYgYGZyb21gIGlzIHRoZSBleGFjdCBiYXNlIHBhdGggZm9yIGB0b2AuXG4gICAgICAgICAgICAvLyBGb3IgZXhhbXBsZTogZnJvbT0nL2Zvby9iYXInOyB0bz0nL2Zvby9iYXIvYmF6J1xuICAgICAgICAgICAgcmV0dXJuIHRvLnNsaWNlKHRvU3RhcnQgKyBpICsgMSk7XG4gICAgICAgICAgfSBlbHNlIGlmIChpID09PSAwKSB7XG4gICAgICAgICAgICAvLyBXZSBnZXQgaGVyZSBpZiBgZnJvbWAgaXMgdGhlIHJvb3RcbiAgICAgICAgICAgIC8vIEZvciBleGFtcGxlOiBmcm9tPScvJzsgdG89Jy9mb28nXG4gICAgICAgICAgICByZXR1cm4gdG8uc2xpY2UodG9TdGFydCArIGkpO1xuICAgICAgICAgIH1cbiAgICAgICAgfSBlbHNlIGlmIChmcm9tTGVuID4gbGVuZ3RoKSB7XG4gICAgICAgICAgaWYgKGZyb20uY2hhckNvZGVBdChmcm9tU3RhcnQgKyBpKSA9PT0gNDcgLyovKi8pIHtcbiAgICAgICAgICAgIC8vIFdlIGdldCBoZXJlIGlmIGB0b2AgaXMgdGhlIGV4YWN0IGJhc2UgcGF0aCBmb3IgYGZyb21gLlxuICAgICAgICAgICAgLy8gRm9yIGV4YW1wbGU6IGZyb209Jy9mb28vYmFyL2Jheic7IHRvPScvZm9vL2JhcidcbiAgICAgICAgICAgIGxhc3RDb21tb25TZXAgPSBpO1xuICAgICAgICAgIH0gZWxzZSBpZiAoaSA9PT0gMCkge1xuICAgICAgICAgICAgLy8gV2UgZ2V0IGhlcmUgaWYgYHRvYCBpcyB0aGUgcm9vdC5cbiAgICAgICAgICAgIC8vIEZvciBleGFtcGxlOiBmcm9tPScvZm9vJzsgdG89Jy8nXG4gICAgICAgICAgICBsYXN0Q29tbW9uU2VwID0gMDtcbiAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgICAgYnJlYWs7XG4gICAgICB9XG4gICAgICB2YXIgZnJvbUNvZGUgPSBmcm9tLmNoYXJDb2RlQXQoZnJvbVN0YXJ0ICsgaSk7XG4gICAgICB2YXIgdG9Db2RlID0gdG8uY2hhckNvZGVBdCh0b1N0YXJ0ICsgaSk7XG4gICAgICBpZiAoZnJvbUNvZGUgIT09IHRvQ29kZSlcbiAgICAgICAgYnJlYWs7XG4gICAgICBlbHNlIGlmIChmcm9tQ29kZSA9PT0gNDcgLyovKi8pXG4gICAgICAgIGxhc3RDb21tb25TZXAgPSBpO1xuICAgIH1cblxuICAgIHZhciBvdXQgPSAnJztcbiAgICAvLyBHZW5lcmF0ZSB0aGUgcmVsYXRpdmUgcGF0aCBiYXNlZCBvbiB0aGUgcGF0aCBkaWZmZXJlbmNlIGJldHdlZW4gYHRvYFxuICAgIC8vIGFuZCBgZnJvbWBcbiAgICBmb3IgKGkgPSBmcm9tU3RhcnQgKyBsYXN0Q29tbW9uU2VwICsgMTsgaSA8PSBmcm9tRW5kOyArK2kpIHtcbiAgICAgIGlmIChpID09PSBmcm9tRW5kIHx8IGZyb20uY2hhckNvZGVBdChpKSA9PT0gNDcgLyovKi8pIHtcbiAgICAgICAgaWYgKG91dC5sZW5ndGggPT09IDApXG4gICAgICAgICAgb3V0ICs9ICcuLic7XG4gICAgICAgIGVsc2VcbiAgICAgICAgICBvdXQgKz0gJy8uLic7XG4gICAgICB9XG4gICAgfVxuXG4gICAgLy8gTGFzdGx5LCBhcHBlbmQgdGhlIHJlc3Qgb2YgdGhlIGRlc3RpbmF0aW9uIChgdG9gKSBwYXRoIHRoYXQgY29tZXMgYWZ0ZXJcbiAgICAvLyB0aGUgY29tbW9uIHBhdGggcGFydHNcbiAgICBpZiAob3V0Lmxlbmd0aCA+IDApXG4gICAgICByZXR1cm4gb3V0ICsgdG8uc2xpY2UodG9TdGFydCArIGxhc3RDb21tb25TZXApO1xuICAgIGVsc2Uge1xuICAgICAgdG9TdGFydCArPSBsYXN0Q29tbW9uU2VwO1xuICAgICAgaWYgKHRvLmNoYXJDb2RlQXQodG9TdGFydCkgPT09IDQ3IC8qLyovKVxuICAgICAgICArK3RvU3RhcnQ7XG4gICAgICByZXR1cm4gdG8uc2xpY2UodG9TdGFydCk7XG4gICAgfVxuICB9LFxuXG4gIF9tYWtlTG9uZzogZnVuY3Rpb24gX21ha2VMb25nKHBhdGgpIHtcbiAgICByZXR1cm4gcGF0aDtcbiAgfSxcblxuICBkaXJuYW1lOiBmdW5jdGlvbiBkaXJuYW1lKHBhdGgpIHtcbiAgICBhc3NlcnRQYXRoKHBhdGgpO1xuICAgIGlmIChwYXRoLmxlbmd0aCA9PT0gMCkgcmV0dXJuICcuJztcbiAgICB2YXIgY29kZSA9IHBhdGguY2hhckNvZGVBdCgwKTtcbiAgICB2YXIgaGFzUm9vdCA9IGNvZGUgPT09IDQ3IC8qLyovO1xuICAgIHZhciBlbmQgPSAtMTtcbiAgICB2YXIgbWF0Y2hlZFNsYXNoID0gdHJ1ZTtcbiAgICBmb3IgKHZhciBpID0gcGF0aC5sZW5ndGggLSAxOyBpID49IDE7IC0taSkge1xuICAgICAgY29kZSA9IHBhdGguY2hhckNvZGVBdChpKTtcbiAgICAgIGlmIChjb2RlID09PSA0NyAvKi8qLykge1xuICAgICAgICAgIGlmICghbWF0Y2hlZFNsYXNoKSB7XG4gICAgICAgICAgICBlbmQgPSBpO1xuICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgfVxuICAgICAgICB9IGVsc2Uge1xuICAgICAgICAvLyBXZSBzYXcgdGhlIGZpcnN0IG5vbi1wYXRoIHNlcGFyYXRvclxuICAgICAgICBtYXRjaGVkU2xhc2ggPSBmYWxzZTtcbiAgICAgIH1cbiAgICB9XG5cbiAgICBpZiAoZW5kID09PSAtMSkgcmV0dXJuIGhhc1Jvb3QgPyAnLycgOiAnLic7XG4gICAgaWYgKGhhc1Jvb3QgJiYgZW5kID09PSAxKSByZXR1cm4gJy8vJztcbiAgICByZXR1cm4gcGF0aC5zbGljZSgwLCBlbmQpO1xuICB9LFxuXG4gIGJhc2VuYW1lOiBmdW5jdGlvbiBiYXNlbmFtZShwYXRoLCBleHQpIHtcbiAgICBpZiAoZXh0ICE9PSB1bmRlZmluZWQgJiYgdHlwZW9mIGV4dCAhPT0gJ3N0cmluZycpIHRocm93IG5ldyBUeXBlRXJyb3IoJ1wiZXh0XCIgYXJndW1lbnQgbXVzdCBiZSBhIHN0cmluZycpO1xuICAgIGFzc2VydFBhdGgocGF0aCk7XG5cbiAgICB2YXIgc3RhcnQgPSAwO1xuICAgIHZhciBlbmQgPSAtMTtcbiAgICB2YXIgbWF0Y2hlZFNsYXNoID0gdHJ1ZTtcbiAgICB2YXIgaTtcblxuICAgIGlmIChleHQgIT09IHVuZGVmaW5lZCAmJiBleHQubGVuZ3RoID4gMCAmJiBleHQubGVuZ3RoIDw9IHBhdGgubGVuZ3RoKSB7XG4gICAgICBpZiAoZXh0Lmxlbmd0aCA9PT0gcGF0aC5sZW5ndGggJiYgZXh0ID09PSBwYXRoKSByZXR1cm4gJyc7XG4gICAgICB2YXIgZXh0SWR4ID0gZXh0Lmxlbmd0aCAtIDE7XG4gICAgICB2YXIgZmlyc3ROb25TbGFzaEVuZCA9IC0xO1xuICAgICAgZm9yIChpID0gcGF0aC5sZW5ndGggLSAxOyBpID49IDA7IC0taSkge1xuICAgICAgICB2YXIgY29kZSA9IHBhdGguY2hhckNvZGVBdChpKTtcbiAgICAgICAgaWYgKGNvZGUgPT09IDQ3IC8qLyovKSB7XG4gICAgICAgICAgICAvLyBJZiB3ZSByZWFjaGVkIGEgcGF0aCBzZXBhcmF0b3IgdGhhdCB3YXMgbm90IHBhcnQgb2YgYSBzZXQgb2YgcGF0aFxuICAgICAgICAgICAgLy8gc2VwYXJhdG9ycyBhdCB0aGUgZW5kIG9mIHRoZSBzdHJpbmcsIHN0b3Agbm93XG4gICAgICAgICAgICBpZiAoIW1hdGNoZWRTbGFzaCkge1xuICAgICAgICAgICAgICBzdGFydCA9IGkgKyAxO1xuICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICAgIH1cbiAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgIGlmIChmaXJzdE5vblNsYXNoRW5kID09PSAtMSkge1xuICAgICAgICAgICAgLy8gV2Ugc2F3IHRoZSBmaXJzdCBub24tcGF0aCBzZXBhcmF0b3IsIHJlbWVtYmVyIHRoaXMgaW5kZXggaW4gY2FzZVxuICAgICAgICAgICAgLy8gd2UgbmVlZCBpdCBpZiB0aGUgZXh0ZW5zaW9uIGVuZHMgdXAgbm90IG1hdGNoaW5nXG4gICAgICAgICAgICBtYXRjaGVkU2xhc2ggPSBmYWxzZTtcbiAgICAgICAgICAgIGZpcnN0Tm9uU2xhc2hFbmQgPSBpICsgMTtcbiAgICAgICAgICB9XG4gICAgICAgICAgaWYgKGV4dElkeCA+PSAwKSB7XG4gICAgICAgICAgICAvLyBUcnkgdG8gbWF0Y2ggdGhlIGV4cGxpY2l0IGV4dGVuc2lvblxuICAgICAgICAgICAgaWYgKGNvZGUgPT09IGV4dC5jaGFyQ29kZUF0KGV4dElkeCkpIHtcbiAgICAgICAgICAgICAgaWYgKC0tZXh0SWR4ID09PSAtMSkge1xuICAgICAgICAgICAgICAgIC8vIFdlIG1hdGNoZWQgdGhlIGV4dGVuc2lvbiwgc28gbWFyayB0aGlzIGFzIHRoZSBlbmQgb2Ygb3VyIHBhdGhcbiAgICAgICAgICAgICAgICAvLyBjb21wb25lbnRcbiAgICAgICAgICAgICAgICBlbmQgPSBpO1xuICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgICAvLyBFeHRlbnNpb24gZG9lcyBub3QgbWF0Y2gsIHNvIG91ciByZXN1bHQgaXMgdGhlIGVudGlyZSBwYXRoXG4gICAgICAgICAgICAgIC8vIGNvbXBvbmVudFxuICAgICAgICAgICAgICBleHRJZHggPSAtMTtcbiAgICAgICAgICAgICAgZW5kID0gZmlyc3ROb25TbGFzaEVuZDtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgIH1cblxuICAgICAgaWYgKHN0YXJ0ID09PSBlbmQpIGVuZCA9IGZpcnN0Tm9uU2xhc2hFbmQ7ZWxzZSBpZiAoZW5kID09PSAtMSkgZW5kID0gcGF0aC5sZW5ndGg7XG4gICAgICByZXR1cm4gcGF0aC5zbGljZShzdGFydCwgZW5kKTtcbiAgICB9IGVsc2Uge1xuICAgICAgZm9yIChpID0gcGF0aC5sZW5ndGggLSAxOyBpID49IDA7IC0taSkge1xuICAgICAgICBpZiAocGF0aC5jaGFyQ29kZUF0KGkpID09PSA0NyAvKi8qLykge1xuICAgICAgICAgICAgLy8gSWYgd2UgcmVhY2hlZCBhIHBhdGggc2VwYXJhdG9yIHRoYXQgd2FzIG5vdCBwYXJ0IG9mIGEgc2V0IG9mIHBhdGhcbiAgICAgICAgICAgIC8vIHNlcGFyYXRvcnMgYXQgdGhlIGVuZCBvZiB0aGUgc3RyaW5nLCBzdG9wIG5vd1xuICAgICAgICAgICAgaWYgKCFtYXRjaGVkU2xhc2gpIHtcbiAgICAgICAgICAgICAgc3RhcnQgPSBpICsgMTtcbiAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgfSBlbHNlIGlmIChlbmQgPT09IC0xKSB7XG4gICAgICAgICAgLy8gV2Ugc2F3IHRoZSBmaXJzdCBub24tcGF0aCBzZXBhcmF0b3IsIG1hcmsgdGhpcyBhcyB0aGUgZW5kIG9mIG91clxuICAgICAgICAgIC8vIHBhdGggY29tcG9uZW50XG4gICAgICAgICAgbWF0Y2hlZFNsYXNoID0gZmFsc2U7XG4gICAgICAgICAgZW5kID0gaSArIDE7XG4gICAgICAgIH1cbiAgICAgIH1cblxuICAgICAgaWYgKGVuZCA9PT0gLTEpIHJldHVybiAnJztcbiAgICAgIHJldHVybiBwYXRoLnNsaWNlKHN0YXJ0LCBlbmQpO1xuICAgIH1cbiAgfSxcblxuICBleHRuYW1lOiBmdW5jdGlvbiBleHRuYW1lKHBhdGgpIHtcbiAgICBhc3NlcnRQYXRoKHBhdGgpO1xuICAgIHZhciBzdGFydERvdCA9IC0xO1xuICAgIHZhciBzdGFydFBhcnQgPSAwO1xuICAgIHZhciBlbmQgPSAtMTtcbiAgICB2YXIgbWF0Y2hlZFNsYXNoID0gdHJ1ZTtcbiAgICAvLyBUcmFjayB0aGUgc3RhdGUgb2YgY2hhcmFjdGVycyAoaWYgYW55KSB3ZSBzZWUgYmVmb3JlIG91ciBmaXJzdCBkb3QgYW5kXG4gICAgLy8gYWZ0ZXIgYW55IHBhdGggc2VwYXJhdG9yIHdlIGZpbmRcbiAgICB2YXIgcHJlRG90U3RhdGUgPSAwO1xuICAgIGZvciAodmFyIGkgPSBwYXRoLmxlbmd0aCAtIDE7IGkgPj0gMDsgLS1pKSB7XG4gICAgICB2YXIgY29kZSA9IHBhdGguY2hhckNvZGVBdChpKTtcbiAgICAgIGlmIChjb2RlID09PSA0NyAvKi8qLykge1xuICAgICAgICAgIC8vIElmIHdlIHJlYWNoZWQgYSBwYXRoIHNlcGFyYXRvciB0aGF0IHdhcyBub3QgcGFydCBvZiBhIHNldCBvZiBwYXRoXG4gICAgICAgICAgLy8gc2VwYXJhdG9ycyBhdCB0aGUgZW5kIG9mIHRoZSBzdHJpbmcsIHN0b3Agbm93XG4gICAgICAgICAgaWYgKCFtYXRjaGVkU2xhc2gpIHtcbiAgICAgICAgICAgIHN0YXJ0UGFydCA9IGkgKyAxO1xuICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgfVxuICAgICAgICAgIGNvbnRpbnVlO1xuICAgICAgICB9XG4gICAgICBpZiAoZW5kID09PSAtMSkge1xuICAgICAgICAvLyBXZSBzYXcgdGhlIGZpcnN0IG5vbi1wYXRoIHNlcGFyYXRvciwgbWFyayB0aGlzIGFzIHRoZSBlbmQgb2Ygb3VyXG4gICAgICAgIC8vIGV4dGVuc2lvblxuICAgICAgICBtYXRjaGVkU2xhc2ggPSBmYWxzZTtcbiAgICAgICAgZW5kID0gaSArIDE7XG4gICAgICB9XG4gICAgICBpZiAoY29kZSA9PT0gNDYgLyouKi8pIHtcbiAgICAgICAgICAvLyBJZiB0aGlzIGlzIG91ciBmaXJzdCBkb3QsIG1hcmsgaXQgYXMgdGhlIHN0YXJ0IG9mIG91ciBleHRlbnNpb25cbiAgICAgICAgICBpZiAoc3RhcnREb3QgPT09IC0xKVxuICAgICAgICAgICAgc3RhcnREb3QgPSBpO1xuICAgICAgICAgIGVsc2UgaWYgKHByZURvdFN0YXRlICE9PSAxKVxuICAgICAgICAgICAgcHJlRG90U3RhdGUgPSAxO1xuICAgICAgfSBlbHNlIGlmIChzdGFydERvdCAhPT0gLTEpIHtcbiAgICAgICAgLy8gV2Ugc2F3IGEgbm9uLWRvdCBhbmQgbm9uLXBhdGggc2VwYXJhdG9yIGJlZm9yZSBvdXIgZG90LCBzbyB3ZSBzaG91bGRcbiAgICAgICAgLy8gaGF2ZSBhIGdvb2QgY2hhbmNlIGF0IGhhdmluZyBhIG5vbi1lbXB0eSBleHRlbnNpb25cbiAgICAgICAgcHJlRG90U3RhdGUgPSAtMTtcbiAgICAgIH1cbiAgICB9XG5cbiAgICBpZiAoc3RhcnREb3QgPT09IC0xIHx8IGVuZCA9PT0gLTEgfHxcbiAgICAgICAgLy8gV2Ugc2F3IGEgbm9uLWRvdCBjaGFyYWN0ZXIgaW1tZWRpYXRlbHkgYmVmb3JlIHRoZSBkb3RcbiAgICAgICAgcHJlRG90U3RhdGUgPT09IDAgfHxcbiAgICAgICAgLy8gVGhlIChyaWdodC1tb3N0KSB0cmltbWVkIHBhdGggY29tcG9uZW50IGlzIGV4YWN0bHkgJy4uJ1xuICAgICAgICBwcmVEb3RTdGF0ZSA9PT0gMSAmJiBzdGFydERvdCA9PT0gZW5kIC0gMSAmJiBzdGFydERvdCA9PT0gc3RhcnRQYXJ0ICsgMSkge1xuICAgICAgcmV0dXJuICcnO1xuICAgIH1cbiAgICByZXR1cm4gcGF0aC5zbGljZShzdGFydERvdCwgZW5kKTtcbiAgfSxcblxuICBmb3JtYXQ6IGZ1bmN0aW9uIGZvcm1hdChwYXRoT2JqZWN0KSB7XG4gICAgaWYgKHBhdGhPYmplY3QgPT09IG51bGwgfHwgdHlwZW9mIHBhdGhPYmplY3QgIT09ICdvYmplY3QnKSB7XG4gICAgICB0aHJvdyBuZXcgVHlwZUVycm9yKCdUaGUgXCJwYXRoT2JqZWN0XCIgYXJndW1lbnQgbXVzdCBiZSBvZiB0eXBlIE9iamVjdC4gUmVjZWl2ZWQgdHlwZSAnICsgdHlwZW9mIHBhdGhPYmplY3QpO1xuICAgIH1cbiAgICByZXR1cm4gX2Zvcm1hdCgnLycsIHBhdGhPYmplY3QpO1xuICB9LFxuXG4gIHBhcnNlOiBmdW5jdGlvbiBwYXJzZShwYXRoKSB7XG4gICAgYXNzZXJ0UGF0aChwYXRoKTtcblxuICAgIHZhciByZXQgPSB7IHJvb3Q6ICcnLCBkaXI6ICcnLCBiYXNlOiAnJywgZXh0OiAnJywgbmFtZTogJycgfTtcbiAgICBpZiAocGF0aC5sZW5ndGggPT09IDApIHJldHVybiByZXQ7XG4gICAgdmFyIGNvZGUgPSBwYXRoLmNoYXJDb2RlQXQoMCk7XG4gICAgdmFyIGlzQWJzb2x1dGUgPSBjb2RlID09PSA0NyAvKi8qLztcbiAgICB2YXIgc3RhcnQ7XG4gICAgaWYgKGlzQWJzb2x1dGUpIHtcbiAgICAgIHJldC5yb290ID0gJy8nO1xuICAgICAgc3RhcnQgPSAxO1xuICAgIH0gZWxzZSB7XG4gICAgICBzdGFydCA9IDA7XG4gICAgfVxuICAgIHZhciBzdGFydERvdCA9IC0xO1xuICAgIHZhciBzdGFydFBhcnQgPSAwO1xuICAgIHZhciBlbmQgPSAtMTtcbiAgICB2YXIgbWF0Y2hlZFNsYXNoID0gdHJ1ZTtcbiAgICB2YXIgaSA9IHBhdGgubGVuZ3RoIC0gMTtcblxuICAgIC8vIFRyYWNrIHRoZSBzdGF0ZSBvZiBjaGFyYWN0ZXJzIChpZiBhbnkpIHdlIHNlZSBiZWZvcmUgb3VyIGZpcnN0IGRvdCBhbmRcbiAgICAvLyBhZnRlciBhbnkgcGF0aCBzZXBhcmF0b3Igd2UgZmluZFxuICAgIHZhciBwcmVEb3RTdGF0ZSA9IDA7XG5cbiAgICAvLyBHZXQgbm9uLWRpciBpbmZvXG4gICAgZm9yICg7IGkgPj0gc3RhcnQ7IC0taSkge1xuICAgICAgY29kZSA9IHBhdGguY2hhckNvZGVBdChpKTtcbiAgICAgIGlmIChjb2RlID09PSA0NyAvKi8qLykge1xuICAgICAgICAgIC8vIElmIHdlIHJlYWNoZWQgYSBwYXRoIHNlcGFyYXRvciB0aGF0IHdhcyBub3QgcGFydCBvZiBhIHNldCBvZiBwYXRoXG4gICAgICAgICAgLy8gc2VwYXJhdG9ycyBhdCB0aGUgZW5kIG9mIHRoZSBzdHJpbmcsIHN0b3Agbm93XG4gICAgICAgICAgaWYgKCFtYXRjaGVkU2xhc2gpIHtcbiAgICAgICAgICAgIHN0YXJ0UGFydCA9IGkgKyAxO1xuICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgfVxuICAgICAgICAgIGNvbnRpbnVlO1xuICAgICAgICB9XG4gICAgICBpZiAoZW5kID09PSAtMSkge1xuICAgICAgICAvLyBXZSBzYXcgdGhlIGZpcnN0IG5vbi1wYXRoIHNlcGFyYXRvciwgbWFyayB0aGlzIGFzIHRoZSBlbmQgb2Ygb3VyXG4gICAgICAgIC8vIGV4dGVuc2lvblxuICAgICAgICBtYXRjaGVkU2xhc2ggPSBmYWxzZTtcbiAgICAgICAgZW5kID0gaSArIDE7XG4gICAgICB9XG4gICAgICBpZiAoY29kZSA9PT0gNDYgLyouKi8pIHtcbiAgICAgICAgICAvLyBJZiB0aGlzIGlzIG91ciBmaXJzdCBkb3QsIG1hcmsgaXQgYXMgdGhlIHN0YXJ0IG9mIG91ciBleHRlbnNpb25cbiAgICAgICAgICBpZiAoc3RhcnREb3QgPT09IC0xKSBzdGFydERvdCA9IGk7ZWxzZSBpZiAocHJlRG90U3RhdGUgIT09IDEpIHByZURvdFN0YXRlID0gMTtcbiAgICAgICAgfSBlbHNlIGlmIChzdGFydERvdCAhPT0gLTEpIHtcbiAgICAgICAgLy8gV2Ugc2F3IGEgbm9uLWRvdCBhbmQgbm9uLXBhdGggc2VwYXJhdG9yIGJlZm9yZSBvdXIgZG90LCBzbyB3ZSBzaG91bGRcbiAgICAgICAgLy8gaGF2ZSBhIGdvb2QgY2hhbmNlIGF0IGhhdmluZyBhIG5vbi1lbXB0eSBleHRlbnNpb25cbiAgICAgICAgcHJlRG90U3RhdGUgPSAtMTtcbiAgICAgIH1cbiAgICB9XG5cbiAgICBpZiAoc3RhcnREb3QgPT09IC0xIHx8IGVuZCA9PT0gLTEgfHxcbiAgICAvLyBXZSBzYXcgYSBub24tZG90IGNoYXJhY3RlciBpbW1lZGlhdGVseSBiZWZvcmUgdGhlIGRvdFxuICAgIHByZURvdFN0YXRlID09PSAwIHx8XG4gICAgLy8gVGhlIChyaWdodC1tb3N0KSB0cmltbWVkIHBhdGggY29tcG9uZW50IGlzIGV4YWN0bHkgJy4uJ1xuICAgIHByZURvdFN0YXRlID09PSAxICYmIHN0YXJ0RG90ID09PSBlbmQgLSAxICYmIHN0YXJ0RG90ID09PSBzdGFydFBhcnQgKyAxKSB7XG4gICAgICBpZiAoZW5kICE9PSAtMSkge1xuICAgICAgICBpZiAoc3RhcnRQYXJ0ID09PSAwICYmIGlzQWJzb2x1dGUpIHJldC5iYXNlID0gcmV0Lm5hbWUgPSBwYXRoLnNsaWNlKDEsIGVuZCk7ZWxzZSByZXQuYmFzZSA9IHJldC5uYW1lID0gcGF0aC5zbGljZShzdGFydFBhcnQsIGVuZCk7XG4gICAgICB9XG4gICAgfSBlbHNlIHtcbiAgICAgIGlmIChzdGFydFBhcnQgPT09IDAgJiYgaXNBYnNvbHV0ZSkge1xuICAgICAgICByZXQubmFtZSA9IHBhdGguc2xpY2UoMSwgc3RhcnREb3QpO1xuICAgICAgICByZXQuYmFzZSA9IHBhdGguc2xpY2UoMSwgZW5kKTtcbiAgICAgIH0gZWxzZSB7XG4gICAgICAgIHJldC5uYW1lID0gcGF0aC5zbGljZShzdGFydFBhcnQsIHN0YXJ0RG90KTtcbiAgICAgICAgcmV0LmJhc2UgPSBwYXRoLnNsaWNlKHN0YXJ0UGFydCwgZW5kKTtcbiAgICAgIH1cbiAgICAgIHJldC5leHQgPSBwYXRoLnNsaWNlKHN0YXJ0RG90LCBlbmQpO1xuICAgIH1cblxuICAgIGlmIChzdGFydFBhcnQgPiAwKSByZXQuZGlyID0gcGF0aC5zbGljZSgwLCBzdGFydFBhcnQgLSAxKTtlbHNlIGlmIChpc0Fic29sdXRlKSByZXQuZGlyID0gJy8nO1xuXG4gICAgcmV0dXJuIHJldDtcbiAgfSxcblxuICBzZXA6ICcvJyxcbiAgZGVsaW1pdGVyOiAnOicsXG4gIHdpbjMyOiBudWxsLFxuICBwb3NpeDogbnVsbFxufTtcblxucG9zaXgucG9zaXggPSBwb3NpeDtcblxubW9kdWxlLmV4cG9ydHMgPSBwb3NpeDtcbiIsICJcInVzZSBzdHJpY3RcIjtcbi8vIEEgdmVyeSBzaW1wbGUgd29ya2Fyb3VuZCBmb3IgQmlnIGludC4gV29ya3MgaW4gY29uanVuY3Rpb24gd2l0aCBvdXIgY3VzdG9tXG4vLyBEYXRhdmlldyB3b3JrYXJvdW5kIGF0IC4vZGF0YXZpZXcudHNcbk9iamVjdC5kZWZpbmVQcm9wZXJ0eShleHBvcnRzLCBcIl9fZXNNb2R1bGVcIiwgeyB2YWx1ZTogdHJ1ZSB9KTtcbmNvbnN0IGdsb2JhbE9iaiA9IHR5cGVvZiBnbG9iYWxUaGlzICE9PSBcInVuZGVmaW5lZFwiXG4gICAgPyBnbG9iYWxUaGlzXG4gICAgOiB0eXBlb2YgZ2xvYmFsICE9PSBcInVuZGVmaW5lZFwiXG4gICAgICAgID8gZ2xvYmFsXG4gICAgICAgIDoge307XG5leHBvcnRzLkJpZ0ludFBvbHlmaWxsID0gdHlwZW9mIEJpZ0ludCAhPT0gXCJ1bmRlZmluZWRcIiA/IEJpZ0ludCA6IGdsb2JhbE9iai5CaWdJbnQgfHwgTnVtYmVyO1xuIiwgIlwidXNlIHN0cmljdFwiO1xuLypcblxuVGhpcyBwcm9qZWN0IGlzIGJhc2VkIGZyb20gdGhlIE5vZGUgaW1wbGVtZW50YXRpb24gbWFkZSBieSBHdXMgQ2FwbGFuXG5odHRwczovL2dpdGh1Yi5jb20vZGV2c25lay9ub2RlLXdhc2lcbkhvd2V2ZXIsIEphdmFTY3JpcHQgV0FTSSBpcyBmb2N1c2VkIG9uOlxuICogQnJpbmdpbmcgV0FTSSB0byB0aGUgQnJvd3NlcnNcbiAqIE1ha2UgZWFzeSB0byBwbHVnIGRpZmZlcmVudCBmaWxlc3lzdGVtc1xuICogUHJvdmlkZSBhIHR5cGUtc2FmZSBhcGkgdXNpbmcgVHlwZXNjcmlwdFxuXG5cbkNvcHlyaWdodCAyMDE5IEd1cyBDYXBsYW5cblxuUGVybWlzc2lvbiBpcyBoZXJlYnkgZ3JhbnRlZCwgZnJlZSBvZiBjaGFyZ2UsIHRvIGFueSBwZXJzb24gb2J0YWluaW5nIGEgY29weVxub2YgdGhpcyBzb2Z0d2FyZSBhbmQgYXNzb2NpYXRlZCBkb2N1bWVudGF0aW9uIGZpbGVzICh0aGUgXCJTb2Z0d2FyZVwiKSwgdG9cbmRlYWwgaW4gdGhlIFNvZnR3YXJlIHdpdGhvdXQgcmVzdHJpY3Rpb24sIGluY2x1ZGluZyB3aXRob3V0IGxpbWl0YXRpb24gdGhlXG5yaWdodHMgdG8gdXNlLCBjb3B5LCBtb2RpZnksIG1lcmdlLCBwdWJsaXNoLCBkaXN0cmlidXRlLCBzdWJsaWNlbnNlLCBhbmQvb3JcbnNlbGwgY29waWVzIG9mIHRoZSBTb2Z0d2FyZSwgYW5kIHRvIHBlcm1pdCBwZXJzb25zIHRvIHdob20gdGhlIFNvZnR3YXJlIGlzXG5mdXJuaXNoZWQgdG8gZG8gc28sIHN1YmplY3QgdG8gdGhlIGZvbGxvd2luZyBjb25kaXRpb25zOlxuXG5UaGUgYWJvdmUgY29weXJpZ2h0IG5vdGljZSBhbmQgdGhpcyBwZXJtaXNzaW9uIG5vdGljZSBzaGFsbCBiZSBpbmNsdWRlZCBpblxuYWxsIGNvcGllcyBvciBzdWJzdGFudGlhbCBwb3J0aW9ucyBvZiB0aGUgU29mdHdhcmUuXG5cblRIRSBTT0ZUV0FSRSBJUyBQUk9WSURFRCBcIkFTIElTXCIsIFdJVEhPVVQgV0FSUkFOVFkgT0YgQU5ZIEtJTkQsIEVYUFJFU1MgT1JcbklNUExJRUQsIElOQ0xVRElORyBCVVQgTk9UIExJTUlURUQgVE8gVEhFIFdBUlJBTlRJRVMgT0YgTUVSQ0hBTlRBQklMSVRZLFxuRklUTkVTUyBGT1IgQSBQQVJUSUNVTEFSIFBVUlBPU0UgQU5EIE5PTklORlJJTkdFTUVOVC4gSU4gTk8gRVZFTlQgU0hBTEwgVEhFXG5BVVRIT1JTIE9SIENPUFlSSUdIVCBIT0xERVJTIEJFIExJQUJMRSBGT1IgQU5ZIENMQUlNLCBEQU1BR0VTIE9SIE9USEVSXG5MSUFCSUxJVFksIFdIRVRIRVIgSU4gQU4gQUNUSU9OIE9GIENPTlRSQUNULCBUT1JUIE9SIE9USEVSV0lTRSwgQVJJU0lOR1xuRlJPTSwgT1VUIE9GIE9SIElOIENPTk5FQ1RJT04gV0lUSCBUSEUgU09GVFdBUkUgT1IgVEhFIFVTRSBPUiBPVEhFUiBERUFMSU5HU1xuSU4gVEhFIFNPRlRXQVJFLlxuXG4gKi9cbk9iamVjdC5kZWZpbmVQcm9wZXJ0eShleHBvcnRzLCBcIl9fZXNNb2R1bGVcIiwgeyB2YWx1ZTogdHJ1ZSB9KTtcbmNvbnN0IGJpZ2ludF8xID0gcmVxdWlyZShcIi4vcG9seWZpbGxzL2JpZ2ludFwiKTtcbmV4cG9ydHMuV0FTSV9FU1VDQ0VTUyA9IDA7XG5leHBvcnRzLldBU0lfRTJCSUcgPSAxO1xuZXhwb3J0cy5XQVNJX0VBQ0NFUyA9IDI7XG5leHBvcnRzLldBU0lfRUFERFJJTlVTRSA9IDM7XG5leHBvcnRzLldBU0lfRUFERFJOT1RBVkFJTCA9IDQ7XG5leHBvcnRzLldBU0lfRUFGTk9TVVBQT1JUID0gNTtcbmV4cG9ydHMuV0FTSV9FQUdBSU4gPSA2O1xuZXhwb3J0cy5XQVNJX0VBTFJFQURZID0gNztcbmV4cG9ydHMuV0FTSV9FQkFERiA9IDg7XG5leHBvcnRzLldBU0lfRUJBRE1TRyA9IDk7XG5leHBvcnRzLldBU0lfRUJVU1kgPSAxMDtcbmV4cG9ydHMuV0FTSV9FQ0FOQ0VMRUQgPSAxMTtcbmV4cG9ydHMuV0FTSV9FQ0hJTEQgPSAxMjtcbmV4cG9ydHMuV0FTSV9FQ09OTkFCT1JURUQgPSAxMztcbmV4cG9ydHMuV0FTSV9FQ09OTlJFRlVTRUQgPSAxNDtcbmV4cG9ydHMuV0FTSV9FQ09OTlJFU0VUID0gMTU7XG5leHBvcnRzLldBU0lfRURFQURMSyA9IDE2O1xuZXhwb3J0cy5XQVNJX0VERVNUQUREUlJFUSA9IDE3O1xuZXhwb3J0cy5XQVNJX0VET00gPSAxODtcbmV4cG9ydHMuV0FTSV9FRFFVT1QgPSAxOTtcbmV4cG9ydHMuV0FTSV9FRVhJU1QgPSAyMDtcbmV4cG9ydHMuV0FTSV9FRkFVTFQgPSAyMTtcbmV4cG9ydHMuV0FTSV9FRkJJRyA9IDIyO1xuZXhwb3J0cy5XQVNJX0VIT1NUVU5SRUFDSCA9IDIzO1xuZXhwb3J0cy5XQVNJX0VJRFJNID0gMjQ7XG5leHBvcnRzLldBU0lfRUlMU0VRID0gMjU7XG5leHBvcnRzLldBU0lfRUlOUFJPR1JFU1MgPSAyNjtcbmV4cG9ydHMuV0FTSV9FSU5UUiA9IDI3O1xuZXhwb3J0cy5XQVNJX0VJTlZBTCA9IDI4O1xuZXhwb3J0cy5XQVNJX0VJTyA9IDI5O1xuZXhwb3J0cy5XQVNJX0VJU0NPTk4gPSAzMDtcbmV4cG9ydHMuV0FTSV9FSVNESVIgPSAzMTtcbmV4cG9ydHMuV0FTSV9FTE9PUCA9IDMyO1xuZXhwb3J0cy5XQVNJX0VNRklMRSA9IDMzO1xuZXhwb3J0cy5XQVNJX0VNTElOSyA9IDM0O1xuZXhwb3J0cy5XQVNJX0VNU0dTSVpFID0gMzU7XG5leHBvcnRzLldBU0lfRU1VTFRJSE9QID0gMzY7XG5leHBvcnRzLldBU0lfRU5BTUVUT09MT05HID0gMzc7XG5leHBvcnRzLldBU0lfRU5FVERPV04gPSAzODtcbmV4cG9ydHMuV0FTSV9FTkVUUkVTRVQgPSAzOTtcbmV4cG9ydHMuV0FTSV9FTkVUVU5SRUFDSCA9IDQwO1xuZXhwb3J0cy5XQVNJX0VORklMRSA9IDQxO1xuZXhwb3J0cy5XQVNJX0VOT0JVRlMgPSA0MjtcbmV4cG9ydHMuV0FTSV9FTk9ERVYgPSA0MztcbmV4cG9ydHMuV0FTSV9FTk9FTlQgPSA0NDtcbmV4cG9ydHMuV0FTSV9FTk9FWEVDID0gNDU7XG5leHBvcnRzLldBU0lfRU5PTENLID0gNDY7XG5leHBvcnRzLldBU0lfRU5PTElOSyA9IDQ3O1xuZXhwb3J0cy5XQVNJX0VOT01FTSA9IDQ4O1xuZXhwb3J0cy5XQVNJX0VOT01TRyA9IDQ5O1xuZXhwb3J0cy5XQVNJX0VOT1BST1RPT1BUID0gNTA7XG5leHBvcnRzLldBU0lfRU5PU1BDID0gNTE7XG5leHBvcnRzLldBU0lfRU5PU1lTID0gNTI7XG5leHBvcnRzLldBU0lfRU5PVENPTk4gPSA1MztcbmV4cG9ydHMuV0FTSV9FTk9URElSID0gNTQ7XG5leHBvcnRzLldBU0lfRU5PVEVNUFRZID0gNTU7XG5leHBvcnRzLldBU0lfRU5PVFJFQ09WRVJBQkxFID0gNTY7XG5leHBvcnRzLldBU0lfRU5PVFNPQ0sgPSA1NztcbmV4cG9ydHMuV0FTSV9FTk9UU1VQID0gNTg7XG5leHBvcnRzLldBU0lfRU5PVFRZID0gNTk7XG5leHBvcnRzLldBU0lfRU5YSU8gPSA2MDtcbmV4cG9ydHMuV0FTSV9FT1ZFUkZMT1cgPSA2MTtcbmV4cG9ydHMuV0FTSV9FT1dORVJERUFEID0gNjI7XG5leHBvcnRzLldBU0lfRVBFUk0gPSA2MztcbmV4cG9ydHMuV0FTSV9FUElQRSA9IDY0O1xuZXhwb3J0cy5XQVNJX0VQUk9UTyA9IDY1O1xuZXhwb3J0cy5XQVNJX0VQUk9UT05PU1VQUE9SVCA9IDY2O1xuZXhwb3J0cy5XQVNJX0VQUk9UT1RZUEUgPSA2NztcbmV4cG9ydHMuV0FTSV9FUkFOR0UgPSA2ODtcbmV4cG9ydHMuV0FTSV9FUk9GUyA9IDY5O1xuZXhwb3J0cy5XQVNJX0VTUElQRSA9IDcwO1xuZXhwb3J0cy5XQVNJX0VTUkNIID0gNzE7XG5leHBvcnRzLldBU0lfRVNUQUxFID0gNzI7XG5leHBvcnRzLldBU0lfRVRJTUVET1VUID0gNzM7XG5leHBvcnRzLldBU0lfRVRYVEJTWSA9IDc0O1xuZXhwb3J0cy5XQVNJX0VYREVWID0gNzU7XG5leHBvcnRzLldBU0lfRU5PVENBUEFCTEUgPSA3NjtcbmV4cG9ydHMuV0FTSV9TSUdBQlJUID0gMDtcbmV4cG9ydHMuV0FTSV9TSUdBTFJNID0gMTtcbmV4cG9ydHMuV0FTSV9TSUdCVVMgPSAyO1xuZXhwb3J0cy5XQVNJX1NJR0NITEQgPSAzO1xuZXhwb3J0cy5XQVNJX1NJR0NPTlQgPSA0O1xuZXhwb3J0cy5XQVNJX1NJR0ZQRSA9IDU7XG5leHBvcnRzLldBU0lfU0lHSFVQID0gNjtcbmV4cG9ydHMuV0FTSV9TSUdJTEwgPSA3O1xuZXhwb3J0cy5XQVNJX1NJR0lOVCA9IDg7XG5leHBvcnRzLldBU0lfU0lHS0lMTCA9IDk7XG5leHBvcnRzLldBU0lfU0lHUElQRSA9IDEwO1xuZXhwb3J0cy5XQVNJX1NJR1FVSVQgPSAxMTtcbmV4cG9ydHMuV0FTSV9TSUdTRUdWID0gMTI7XG5leHBvcnRzLldBU0lfU0lHU1RPUCA9IDEzO1xuZXhwb3J0cy5XQVNJX1NJR1RFUk0gPSAxNDtcbmV4cG9ydHMuV0FTSV9TSUdUUkFQID0gMTU7XG5leHBvcnRzLldBU0lfU0lHVFNUUCA9IDE2O1xuZXhwb3J0cy5XQVNJX1NJR1RUSU4gPSAxNztcbmV4cG9ydHMuV0FTSV9TSUdUVE9VID0gMTg7XG5leHBvcnRzLldBU0lfU0lHVVJHID0gMTk7XG5leHBvcnRzLldBU0lfU0lHVVNSMSA9IDIwO1xuZXhwb3J0cy5XQVNJX1NJR1VTUjIgPSAyMTtcbmV4cG9ydHMuV0FTSV9TSUdWVEFMUk0gPSAyMjtcbmV4cG9ydHMuV0FTSV9TSUdYQ1BVID0gMjM7XG5leHBvcnRzLldBU0lfU0lHWEZTWiA9IDI0O1xuZXhwb3J0cy5XQVNJX0ZJTEVUWVBFX1VOS05PV04gPSAwO1xuZXhwb3J0cy5XQVNJX0ZJTEVUWVBFX0JMT0NLX0RFVklDRSA9IDE7XG5leHBvcnRzLldBU0lfRklMRVRZUEVfQ0hBUkFDVEVSX0RFVklDRSA9IDI7XG5leHBvcnRzLldBU0lfRklMRVRZUEVfRElSRUNUT1JZID0gMztcbmV4cG9ydHMuV0FTSV9GSUxFVFlQRV9SRUdVTEFSX0ZJTEUgPSA0O1xuZXhwb3J0cy5XQVNJX0ZJTEVUWVBFX1NPQ0tFVF9ER1JBTSA9IDU7XG5leHBvcnRzLldBU0lfRklMRVRZUEVfU09DS0VUX1NUUkVBTSA9IDY7XG5leHBvcnRzLldBU0lfRklMRVRZUEVfU1lNQk9MSUNfTElOSyA9IDc7XG5leHBvcnRzLldBU0lfRkRGTEFHX0FQUEVORCA9IDB4MDAwMTtcbmV4cG9ydHMuV0FTSV9GREZMQUdfRFNZTkMgPSAweDAwMDI7XG5leHBvcnRzLldBU0lfRkRGTEFHX05PTkJMT0NLID0gMHgwMDA0O1xuZXhwb3J0cy5XQVNJX0ZERkxBR19SU1lOQyA9IDB4MDAwODtcbmV4cG9ydHMuV0FTSV9GREZMQUdfU1lOQyA9IDB4MDAxMDtcbmV4cG9ydHMuV0FTSV9SSUdIVF9GRF9EQVRBU1lOQyA9IGJpZ2ludF8xLkJpZ0ludFBvbHlmaWxsKDB4MDAwMDAwMDAwMDAwMDAwMSk7XG5leHBvcnRzLldBU0lfUklHSFRfRkRfUkVBRCA9IGJpZ2ludF8xLkJpZ0ludFBvbHlmaWxsKDB4MDAwMDAwMDAwMDAwMDAwMik7XG5leHBvcnRzLldBU0lfUklHSFRfRkRfU0VFSyA9IGJpZ2ludF8xLkJpZ0ludFBvbHlmaWxsKDB4MDAwMDAwMDAwMDAwMDAwNCk7XG5leHBvcnRzLldBU0lfUklHSFRfRkRfRkRTVEFUX1NFVF9GTEFHUyA9IGJpZ2ludF8xLkJpZ0ludFBvbHlmaWxsKDB4MDAwMDAwMDAwMDAwMDAwOCk7XG5leHBvcnRzLldBU0lfUklHSFRfRkRfU1lOQyA9IGJpZ2ludF8xLkJpZ0ludFBvbHlmaWxsKDB4MDAwMDAwMDAwMDAwMDAxMCk7XG5leHBvcnRzLldBU0lfUklHSFRfRkRfVEVMTCA9IGJpZ2ludF8xLkJpZ0ludFBvbHlmaWxsKDB4MDAwMDAwMDAwMDAwMDAyMCk7XG5leHBvcnRzLldBU0lfUklHSFRfRkRfV1JJVEUgPSBiaWdpbnRfMS5CaWdJbnRQb2x5ZmlsbCgweDAwMDAwMDAwMDAwMDAwNDApO1xuZXhwb3J0cy5XQVNJX1JJR0hUX0ZEX0FEVklTRSA9IGJpZ2ludF8xLkJpZ0ludFBvbHlmaWxsKDB4MDAwMDAwMDAwMDAwMDA4MCk7XG5leHBvcnRzLldBU0lfUklHSFRfRkRfQUxMT0NBVEUgPSBiaWdpbnRfMS5CaWdJbnRQb2x5ZmlsbCgweDAwMDAwMDAwMDAwMDAxMDApO1xuZXhwb3J0cy5XQVNJX1JJR0hUX1BBVEhfQ1JFQVRFX0RJUkVDVE9SWSA9IGJpZ2ludF8xLkJpZ0ludFBvbHlmaWxsKDB4MDAwMDAwMDAwMDAwMDIwMCk7XG5leHBvcnRzLldBU0lfUklHSFRfUEFUSF9DUkVBVEVfRklMRSA9IGJpZ2ludF8xLkJpZ0ludFBvbHlmaWxsKDB4MDAwMDAwMDAwMDAwMDQwMCk7XG5leHBvcnRzLldBU0lfUklHSFRfUEFUSF9MSU5LX1NPVVJDRSA9IGJpZ2ludF8xLkJpZ0ludFBvbHlmaWxsKDB4MDAwMDAwMDAwMDAwMDgwMCk7XG5leHBvcnRzLldBU0lfUklHSFRfUEFUSF9MSU5LX1RBUkdFVCA9IGJpZ2ludF8xLkJpZ0ludFBvbHlmaWxsKDB4MDAwMDAwMDAwMDAwMTAwMCk7XG5leHBvcnRzLldBU0lfUklHSFRfUEFUSF9PUEVOID0gYmlnaW50XzEuQmlnSW50UG9seWZpbGwoMHgwMDAwMDAwMDAwMDAyMDAwKTtcbmV4cG9ydHMuV0FTSV9SSUdIVF9GRF9SRUFERElSID0gYmlnaW50XzEuQmlnSW50UG9seWZpbGwoMHgwMDAwMDAwMDAwMDA0MDAwKTtcbmV4cG9ydHMuV0FTSV9SSUdIVF9QQVRIX1JFQURMSU5LID0gYmlnaW50XzEuQmlnSW50UG9seWZpbGwoMHgwMDAwMDAwMDAwMDA4MDAwKTtcbmV4cG9ydHMuV0FTSV9SSUdIVF9QQVRIX1JFTkFNRV9TT1VSQ0UgPSBiaWdpbnRfMS5CaWdJbnRQb2x5ZmlsbCgweDAwMDAwMDAwMDAwMTAwMDApO1xuZXhwb3J0cy5XQVNJX1JJR0hUX1BBVEhfUkVOQU1FX1RBUkdFVCA9IGJpZ2ludF8xLkJpZ0ludFBvbHlmaWxsKDB4MDAwMDAwMDAwMDAyMDAwMCk7XG5leHBvcnRzLldBU0lfUklHSFRfUEFUSF9GSUxFU1RBVF9HRVQgPSBiaWdpbnRfMS5CaWdJbnRQb2x5ZmlsbCgweDAwMDAwMDAwMDAwNDAwMDApO1xuZXhwb3J0cy5XQVNJX1JJR0hUX1BBVEhfRklMRVNUQVRfU0VUX1NJWkUgPSBiaWdpbnRfMS5CaWdJbnRQb2x5ZmlsbCgweDAwMDAwMDAwMDAwODAwMDApO1xuZXhwb3J0cy5XQVNJX1JJR0hUX1BBVEhfRklMRVNUQVRfU0VUX1RJTUVTID0gYmlnaW50XzEuQmlnSW50UG9seWZpbGwoMHgwMDAwMDAwMDAwMTAwMDAwKTtcbmV4cG9ydHMuV0FTSV9SSUdIVF9GRF9GSUxFU1RBVF9HRVQgPSBiaWdpbnRfMS5CaWdJbnRQb2x5ZmlsbCgweDAwMDAwMDAwMDAyMDAwMDApO1xuZXhwb3J0cy5XQVNJX1JJR0hUX0ZEX0ZJTEVTVEFUX1NFVF9TSVpFID0gYmlnaW50XzEuQmlnSW50UG9seWZpbGwoMHgwMDAwMDAwMDAwNDAwMDAwKTtcbmV4cG9ydHMuV0FTSV9SSUdIVF9GRF9GSUxFU1RBVF9TRVRfVElNRVMgPSBiaWdpbnRfMS5CaWdJbnRQb2x5ZmlsbCgweDAwMDAwMDAwMDA4MDAwMDApO1xuZXhwb3J0cy5XQVNJX1JJR0hUX1BBVEhfU1lNTElOSyA9IGJpZ2ludF8xLkJpZ0ludFBvbHlmaWxsKDB4MDAwMDAwMDAwMTAwMDAwMCk7XG5leHBvcnRzLldBU0lfUklHSFRfUEFUSF9SRU1PVkVfRElSRUNUT1JZID0gYmlnaW50XzEuQmlnSW50UG9seWZpbGwoMHgwMDAwMDAwMDAyMDAwMDAwKTtcbmV4cG9ydHMuV0FTSV9SSUdIVF9QQVRIX1VOTElOS19GSUxFID0gYmlnaW50XzEuQmlnSW50UG9seWZpbGwoMHgwMDAwMDAwMDA0MDAwMDAwKTtcbmV4cG9ydHMuV0FTSV9SSUdIVF9QT0xMX0ZEX1JFQURXUklURSA9IGJpZ2ludF8xLkJpZ0ludFBvbHlmaWxsKDB4MDAwMDAwMDAwODAwMDAwMCk7XG5leHBvcnRzLldBU0lfUklHSFRfU09DS19TSFVURE9XTiA9IGJpZ2ludF8xLkJpZ0ludFBvbHlmaWxsKDB4MDAwMDAwMDAxMDAwMDAwMCk7XG5leHBvcnRzLlJJR0hUU19BTEwgPSBleHBvcnRzLldBU0lfUklHSFRfRkRfREFUQVNZTkMgfFxuICAgIGV4cG9ydHMuV0FTSV9SSUdIVF9GRF9SRUFEIHxcbiAgICBleHBvcnRzLldBU0lfUklHSFRfRkRfU0VFSyB8XG4gICAgZXhwb3J0cy5XQVNJX1JJR0hUX0ZEX0ZEU1RBVF9TRVRfRkxBR1MgfFxuICAgIGV4cG9ydHMuV0FTSV9SSUdIVF9GRF9TWU5DIHxcbiAgICBleHBvcnRzLldBU0lfUklHSFRfRkRfVEVMTCB8XG4gICAgZXhwb3J0cy5XQVNJX1JJR0hUX0ZEX1dSSVRFIHxcbiAgICBleHBvcnRzLldBU0lfUklHSFRfRkRfQURWSVNFIHxcbiAgICBleHBvcnRzLldBU0lfUklHSFRfRkRfQUxMT0NBVEUgfFxuICAgIGV4cG9ydHMuV0FTSV9SSUdIVF9QQVRIX0NSRUFURV9ESVJFQ1RPUlkgfFxuICAgIGV4cG9ydHMuV0FTSV9SSUdIVF9QQVRIX0NSRUFURV9GSUxFIHxcbiAgICBleHBvcnRzLldBU0lfUklHSFRfUEFUSF9MSU5LX1NPVVJDRSB8XG4gICAgZXhwb3J0cy5XQVNJX1JJR0hUX1BBVEhfTElOS19UQVJHRVQgfFxuICAgIGV4cG9ydHMuV0FTSV9SSUdIVF9QQVRIX09QRU4gfFxuICAgIGV4cG9ydHMuV0FTSV9SSUdIVF9GRF9SRUFERElSIHxcbiAgICBleHBvcnRzLldBU0lfUklHSFRfUEFUSF9SRUFETElOSyB8XG4gICAgZXhwb3J0cy5XQVNJX1JJR0hUX1BBVEhfUkVOQU1FX1NPVVJDRSB8XG4gICAgZXhwb3J0cy5XQVNJX1JJR0hUX1BBVEhfUkVOQU1FX1RBUkdFVCB8XG4gICAgZXhwb3J0cy5XQVNJX1JJR0hUX1BBVEhfRklMRVNUQVRfR0VUIHxcbiAgICBleHBvcnRzLldBU0lfUklHSFRfUEFUSF9GSUxFU1RBVF9TRVRfU0laRSB8XG4gICAgZXhwb3J0cy5XQVNJX1JJR0hUX1BBVEhfRklMRVNUQVRfU0VUX1RJTUVTIHxcbiAgICBleHBvcnRzLldBU0lfUklHSFRfRkRfRklMRVNUQVRfR0VUIHxcbiAgICBleHBvcnRzLldBU0lfUklHSFRfRkRfRklMRVNUQVRfU0VUX1RJTUVTIHxcbiAgICBleHBvcnRzLldBU0lfUklHSFRfRkRfRklMRVNUQVRfU0VUX1NJWkUgfFxuICAgIGV4cG9ydHMuV0FTSV9SSUdIVF9QQVRIX1NZTUxJTksgfFxuICAgIGV4cG9ydHMuV0FTSV9SSUdIVF9QQVRIX1VOTElOS19GSUxFIHxcbiAgICBleHBvcnRzLldBU0lfUklHSFRfUEFUSF9SRU1PVkVfRElSRUNUT1JZIHxcbiAgICBleHBvcnRzLldBU0lfUklHSFRfUE9MTF9GRF9SRUFEV1JJVEUgfFxuICAgIGV4cG9ydHMuV0FTSV9SSUdIVF9TT0NLX1NIVVRET1dOO1xuZXhwb3J0cy5SSUdIVFNfQkxPQ0tfREVWSUNFX0JBU0UgPSBleHBvcnRzLlJJR0hUU19BTEw7XG5leHBvcnRzLlJJR0hUU19CTE9DS19ERVZJQ0VfSU5IRVJJVElORyA9IGV4cG9ydHMuUklHSFRTX0FMTDtcbmV4cG9ydHMuUklHSFRTX0NIQVJBQ1RFUl9ERVZJQ0VfQkFTRSA9IGV4cG9ydHMuUklHSFRTX0FMTDtcbmV4cG9ydHMuUklHSFRTX0NIQVJBQ1RFUl9ERVZJQ0VfSU5IRVJJVElORyA9IGV4cG9ydHMuUklHSFRTX0FMTDtcbmV4cG9ydHMuUklHSFRTX1JFR1VMQVJfRklMRV9CQVNFID0gZXhwb3J0cy5XQVNJX1JJR0hUX0ZEX0RBVEFTWU5DIHxcbiAgICBleHBvcnRzLldBU0lfUklHSFRfRkRfUkVBRCB8XG4gICAgZXhwb3J0cy5XQVNJX1JJR0hUX0ZEX1NFRUsgfFxuICAgIGV4cG9ydHMuV0FTSV9SSUdIVF9GRF9GRFNUQVRfU0VUX0ZMQUdTIHxcbiAgICBleHBvcnRzLldBU0lfUklHSFRfRkRfU1lOQyB8XG4gICAgZXhwb3J0cy5XQVNJX1JJR0hUX0ZEX1RFTEwgfFxuICAgIGV4cG9ydHMuV0FTSV9SSUdIVF9GRF9XUklURSB8XG4gICAgZXhwb3J0cy5XQVNJX1JJR0hUX0ZEX0FEVklTRSB8XG4gICAgZXhwb3J0cy5XQVNJX1JJR0hUX0ZEX0FMTE9DQVRFIHxcbiAgICBleHBvcnRzLldBU0lfUklHSFRfRkRfRklMRVNUQVRfR0VUIHxcbiAgICBleHBvcnRzLldBU0lfUklHSFRfRkRfRklMRVNUQVRfU0VUX1NJWkUgfFxuICAgIGV4cG9ydHMuV0FTSV9SSUdIVF9GRF9GSUxFU1RBVF9TRVRfVElNRVMgfFxuICAgIGV4cG9ydHMuV0FTSV9SSUdIVF9QT0xMX0ZEX1JFQURXUklURTtcbmV4cG9ydHMuUklHSFRTX1JFR1VMQVJfRklMRV9JTkhFUklUSU5HID0gYmlnaW50XzEuQmlnSW50UG9seWZpbGwoMCk7XG5leHBvcnRzLlJJR0hUU19ESVJFQ1RPUllfQkFTRSA9IGV4cG9ydHMuV0FTSV9SSUdIVF9GRF9GRFNUQVRfU0VUX0ZMQUdTIHxcbiAgICBleHBvcnRzLldBU0lfUklHSFRfRkRfU1lOQyB8XG4gICAgZXhwb3J0cy5XQVNJX1JJR0hUX0ZEX0FEVklTRSB8XG4gICAgZXhwb3J0cy5XQVNJX1JJR0hUX1BBVEhfQ1JFQVRFX0RJUkVDVE9SWSB8XG4gICAgZXhwb3J0cy5XQVNJX1JJR0hUX1BBVEhfQ1JFQVRFX0ZJTEUgfFxuICAgIGV4cG9ydHMuV0FTSV9SSUdIVF9QQVRIX0xJTktfU09VUkNFIHxcbiAgICBleHBvcnRzLldBU0lfUklHSFRfUEFUSF9MSU5LX1RBUkdFVCB8XG4gICAgZXhwb3J0cy5XQVNJX1JJR0hUX1BBVEhfT1BFTiB8XG4gICAgZXhwb3J0cy5XQVNJX1JJR0hUX0ZEX1JFQURESVIgfFxuICAgIGV4cG9ydHMuV0FTSV9SSUdIVF9QQVRIX1JFQURMSU5LIHxcbiAgICBleHBvcnRzLldBU0lfUklHSFRfUEFUSF9SRU5BTUVfU09VUkNFIHxcbiAgICBleHBvcnRzLldBU0lfUklHSFRfUEFUSF9SRU5BTUVfVEFSR0VUIHxcbiAgICBleHBvcnRzLldBU0lfUklHSFRfUEFUSF9GSUxFU1RBVF9HRVQgfFxuICAgIGV4cG9ydHMuV0FTSV9SSUdIVF9QQVRIX0ZJTEVTVEFUX1NFVF9TSVpFIHxcbiAgICBleHBvcnRzLldBU0lfUklHSFRfUEFUSF9GSUxFU1RBVF9TRVRfVElNRVMgfFxuICAgIGV4cG9ydHMuV0FTSV9SSUdIVF9GRF9GSUxFU1RBVF9HRVQgfFxuICAgIGV4cG9ydHMuV0FTSV9SSUdIVF9GRF9GSUxFU1RBVF9TRVRfVElNRVMgfFxuICAgIGV4cG9ydHMuV0FTSV9SSUdIVF9QQVRIX1NZTUxJTksgfFxuICAgIGV4cG9ydHMuV0FTSV9SSUdIVF9QQVRIX1VOTElOS19GSUxFIHxcbiAgICBleHBvcnRzLldBU0lfUklHSFRfUEFUSF9SRU1PVkVfRElSRUNUT1JZIHxcbiAgICBleHBvcnRzLldBU0lfUklHSFRfUE9MTF9GRF9SRUFEV1JJVEU7XG5leHBvcnRzLlJJR0hUU19ESVJFQ1RPUllfSU5IRVJJVElORyA9IGV4cG9ydHMuUklHSFRTX0RJUkVDVE9SWV9CQVNFIHwgZXhwb3J0cy5SSUdIVFNfUkVHVUxBUl9GSUxFX0JBU0U7XG5leHBvcnRzLlJJR0hUU19TT0NLRVRfQkFTRSA9IGV4cG9ydHMuV0FTSV9SSUdIVF9GRF9SRUFEIHxcbiAgICBleHBvcnRzLldBU0lfUklHSFRfRkRfRkRTVEFUX1NFVF9GTEFHUyB8XG4gICAgZXhwb3J0cy5XQVNJX1JJR0hUX0ZEX1dSSVRFIHxcbiAgICBleHBvcnRzLldBU0lfUklHSFRfRkRfRklMRVNUQVRfR0VUIHxcbiAgICBleHBvcnRzLldBU0lfUklHSFRfUE9MTF9GRF9SRUFEV1JJVEUgfFxuICAgIGV4cG9ydHMuV0FTSV9SSUdIVF9TT0NLX1NIVVRET1dOO1xuZXhwb3J0cy5SSUdIVFNfU09DS0VUX0lOSEVSSVRJTkcgPSBleHBvcnRzLlJJR0hUU19BTEw7XG5leHBvcnRzLlJJR0hUU19UVFlfQkFTRSA9IGV4cG9ydHMuV0FTSV9SSUdIVF9GRF9SRUFEIHxcbiAgICBleHBvcnRzLldBU0lfUklHSFRfRkRfRkRTVEFUX1NFVF9GTEFHUyB8XG4gICAgZXhwb3J0cy5XQVNJX1JJR0hUX0ZEX1dSSVRFIHxcbiAgICBleHBvcnRzLldBU0lfUklHSFRfRkRfRklMRVNUQVRfR0VUIHxcbiAgICBleHBvcnRzLldBU0lfUklHSFRfUE9MTF9GRF9SRUFEV1JJVEU7XG5leHBvcnRzLlJJR0hUU19UVFlfSU5IRVJJVElORyA9IGJpZ2ludF8xLkJpZ0ludFBvbHlmaWxsKDApO1xuZXhwb3J0cy5XQVNJX0NMT0NLX1JFQUxUSU1FID0gMDtcbmV4cG9ydHMuV0FTSV9DTE9DS19NT05PVE9OSUMgPSAxO1xuZXhwb3J0cy5XQVNJX0NMT0NLX1BST0NFU1NfQ1BVVElNRV9JRCA9IDI7XG5leHBvcnRzLldBU0lfQ0xPQ0tfVEhSRUFEX0NQVVRJTUVfSUQgPSAzO1xuZXhwb3J0cy5XQVNJX0VWRU5UVFlQRV9DTE9DSyA9IDA7XG5leHBvcnRzLldBU0lfRVZFTlRUWVBFX0ZEX1JFQUQgPSAxO1xuZXhwb3J0cy5XQVNJX0VWRU5UVFlQRV9GRF9XUklURSA9IDI7XG5leHBvcnRzLldBU0lfRklMRVNUQVRfU0VUX0FUSU0gPSAxIDw8IDA7XG5leHBvcnRzLldBU0lfRklMRVNUQVRfU0VUX0FUSU1fTk9XID0gMSA8PCAxO1xuZXhwb3J0cy5XQVNJX0ZJTEVTVEFUX1NFVF9NVElNID0gMSA8PCAyO1xuZXhwb3J0cy5XQVNJX0ZJTEVTVEFUX1NFVF9NVElNX05PVyA9IDEgPDwgMztcbmV4cG9ydHMuV0FTSV9PX0NSRUFUID0gMSA8PCAwO1xuZXhwb3J0cy5XQVNJX09fRElSRUNUT1JZID0gMSA8PCAxO1xuZXhwb3J0cy5XQVNJX09fRVhDTCA9IDEgPDwgMjtcbmV4cG9ydHMuV0FTSV9PX1RSVU5DID0gMSA8PCAzO1xuZXhwb3J0cy5XQVNJX1BSRU9QRU5UWVBFX0RJUiA9IDA7XG5leHBvcnRzLldBU0lfRElSQ09PS0lFX1NUQVJUID0gMDtcbmV4cG9ydHMuV0FTSV9TVERJTl9GSUxFTk8gPSAwO1xuZXhwb3J0cy5XQVNJX1NURE9VVF9GSUxFTk8gPSAxO1xuZXhwb3J0cy5XQVNJX1NUREVSUl9GSUxFTk8gPSAyO1xuZXhwb3J0cy5XQVNJX1dIRU5DRV9TRVQgPSAwO1xuZXhwb3J0cy5XQVNJX1dIRU5DRV9DVVIgPSAxO1xuZXhwb3J0cy5XQVNJX1dIRU5DRV9FTkQgPSAyO1xuLy8gaHR0cDovL21hbjcub3JnL2xpbnV4L21hbi1wYWdlcy9tYW4zL2Vycm5vLjMuaHRtbFxuZXhwb3J0cy5FUlJPUl9NQVAgPSB7XG4gICAgRTJCSUc6IGV4cG9ydHMuV0FTSV9FMkJJRyxcbiAgICBFQUNDRVM6IGV4cG9ydHMuV0FTSV9FQUNDRVMsXG4gICAgRUFERFJJTlVTRTogZXhwb3J0cy5XQVNJX0VBRERSSU5VU0UsXG4gICAgRUFERFJOT1RBVkFJTDogZXhwb3J0cy5XQVNJX0VBRERSTk9UQVZBSUwsXG4gICAgRUFGTk9TVVBQT1JUOiBleHBvcnRzLldBU0lfRUFGTk9TVVBQT1JULFxuICAgIEVBTFJFQURZOiBleHBvcnRzLldBU0lfRUFMUkVBRFksXG4gICAgRUFHQUlOOiBleHBvcnRzLldBU0lfRUFHQUlOLFxuICAgIC8vIEVCQURFOiBXQVNJX0VCQURFLFxuICAgIEVCQURGOiBleHBvcnRzLldBU0lfRUJBREYsXG4gICAgLy8gRUJBREZEOiBXQVNJX0VCQURGRCxcbiAgICBFQkFETVNHOiBleHBvcnRzLldBU0lfRUJBRE1TRyxcbiAgICAvLyBFQkFEUjogV0FTSV9FQkFEUixcbiAgICAvLyBFQkFEUlFDOiBXQVNJX0VCQURSUUMsXG4gICAgLy8gRUJBRFNMVDogV0FTSV9FQkFEU0xULFxuICAgIEVCVVNZOiBleHBvcnRzLldBU0lfRUJVU1ksXG4gICAgRUNBTkNFTEVEOiBleHBvcnRzLldBU0lfRUNBTkNFTEVELFxuICAgIEVDSElMRDogZXhwb3J0cy5XQVNJX0VDSElMRCxcbiAgICAvLyBFQ0hSTkc6IFdBU0lfRUNIUk5HLFxuICAgIC8vIEVDT01NOiBXQVNJX0VDT01NLFxuICAgIEVDT05OQUJPUlRFRDogZXhwb3J0cy5XQVNJX0VDT05OQUJPUlRFRCxcbiAgICBFQ09OTlJFRlVTRUQ6IGV4cG9ydHMuV0FTSV9FQ09OTlJFRlVTRUQsXG4gICAgRUNPTk5SRVNFVDogZXhwb3J0cy5XQVNJX0VDT05OUkVTRVQsXG4gICAgRURFQURMT0NLOiBleHBvcnRzLldBU0lfRURFQURMSyxcbiAgICBFREVTVEFERFJSRVE6IGV4cG9ydHMuV0FTSV9FREVTVEFERFJSRVEsXG4gICAgRURPTTogZXhwb3J0cy5XQVNJX0VET00sXG4gICAgRURRVU9UOiBleHBvcnRzLldBU0lfRURRVU9ULFxuICAgIEVFWElTVDogZXhwb3J0cy5XQVNJX0VFWElTVCxcbiAgICBFRkFVTFQ6IGV4cG9ydHMuV0FTSV9FRkFVTFQsXG4gICAgRUZCSUc6IGV4cG9ydHMuV0FTSV9FRkJJRyxcbiAgICBFSE9TVERPV046IGV4cG9ydHMuV0FTSV9FSE9TVFVOUkVBQ0gsXG4gICAgRUhPU1RVTlJFQUNIOiBleHBvcnRzLldBU0lfRUhPU1RVTlJFQUNILFxuICAgIC8vIEVIV1BPSVNPTjogV0FTSV9FSFdQT0lTT04sXG4gICAgRUlEUk06IGV4cG9ydHMuV0FTSV9FSURSTSxcbiAgICBFSUxTRVE6IGV4cG9ydHMuV0FTSV9FSUxTRVEsXG4gICAgRUlOUFJPR1JFU1M6IGV4cG9ydHMuV0FTSV9FSU5QUk9HUkVTUyxcbiAgICBFSU5UUjogZXhwb3J0cy5XQVNJX0VJTlRSLFxuICAgIEVJTlZBTDogZXhwb3J0cy5XQVNJX0VJTlZBTCxcbiAgICBFSU86IGV4cG9ydHMuV0FTSV9FSU8sXG4gICAgRUlTQ09OTjogZXhwb3J0cy5XQVNJX0VJU0NPTk4sXG4gICAgRUlTRElSOiBleHBvcnRzLldBU0lfRUlTRElSLFxuICAgIEVMT09QOiBleHBvcnRzLldBU0lfRUxPT1AsXG4gICAgRU1GSUxFOiBleHBvcnRzLldBU0lfRU1GSUxFLFxuICAgIEVNTElOSzogZXhwb3J0cy5XQVNJX0VNTElOSyxcbiAgICBFTVNHU0laRTogZXhwb3J0cy5XQVNJX0VNU0dTSVpFLFxuICAgIEVNVUxUSUhPUDogZXhwb3J0cy5XQVNJX0VNVUxUSUhPUCxcbiAgICBFTkFNRVRPT0xPTkc6IGV4cG9ydHMuV0FTSV9FTkFNRVRPT0xPTkcsXG4gICAgRU5FVERPV046IGV4cG9ydHMuV0FTSV9FTkVURE9XTixcbiAgICBFTkVUUkVTRVQ6IGV4cG9ydHMuV0FTSV9FTkVUUkVTRVQsXG4gICAgRU5FVFVOUkVBQ0g6IGV4cG9ydHMuV0FTSV9FTkVUVU5SRUFDSCxcbiAgICBFTkZJTEU6IGV4cG9ydHMuV0FTSV9FTkZJTEUsXG4gICAgRU5PQlVGUzogZXhwb3J0cy5XQVNJX0VOT0JVRlMsXG4gICAgRU5PREVWOiBleHBvcnRzLldBU0lfRU5PREVWLFxuICAgIEVOT0VOVDogZXhwb3J0cy5XQVNJX0VOT0VOVCxcbiAgICBFTk9FWEVDOiBleHBvcnRzLldBU0lfRU5PRVhFQyxcbiAgICBFTk9MQ0s6IGV4cG9ydHMuV0FTSV9FTk9MQ0ssXG4gICAgRU5PTElOSzogZXhwb3J0cy5XQVNJX0VOT0xJTkssXG4gICAgRU5PTUVNOiBleHBvcnRzLldBU0lfRU5PTUVNLFxuICAgIEVOT01TRzogZXhwb3J0cy5XQVNJX0VOT01TRyxcbiAgICBFTk9QUk9UT09QVDogZXhwb3J0cy5XQVNJX0VOT1BST1RPT1BULFxuICAgIEVOT1NQQzogZXhwb3J0cy5XQVNJX0VOT1NQQyxcbiAgICBFTk9TWVM6IGV4cG9ydHMuV0FTSV9FTk9TWVMsXG4gICAgRU5PVENPTk46IGV4cG9ydHMuV0FTSV9FTk9UQ09OTixcbiAgICBFTk9URElSOiBleHBvcnRzLldBU0lfRU5PVERJUixcbiAgICBFTk9URU1QVFk6IGV4cG9ydHMuV0FTSV9FTk9URU1QVFksXG4gICAgRU5PVFJFQ09WRVJBQkxFOiBleHBvcnRzLldBU0lfRU5PVFJFQ09WRVJBQkxFLFxuICAgIEVOT1RTT0NLOiBleHBvcnRzLldBU0lfRU5PVFNPQ0ssXG4gICAgRU5PVFRZOiBleHBvcnRzLldBU0lfRU5PVFRZLFxuICAgIEVOWElPOiBleHBvcnRzLldBU0lfRU5YSU8sXG4gICAgRU9WRVJGTE9XOiBleHBvcnRzLldBU0lfRU9WRVJGTE9XLFxuICAgIEVPV05FUkRFQUQ6IGV4cG9ydHMuV0FTSV9FT1dORVJERUFELFxuICAgIEVQRVJNOiBleHBvcnRzLldBU0lfRVBFUk0sXG4gICAgRVBJUEU6IGV4cG9ydHMuV0FTSV9FUElQRSxcbiAgICBFUFJPVE86IGV4cG9ydHMuV0FTSV9FUFJPVE8sXG4gICAgRVBST1RPTk9TVVBQT1JUOiBleHBvcnRzLldBU0lfRVBST1RPTk9TVVBQT1JULFxuICAgIEVQUk9UT1RZUEU6IGV4cG9ydHMuV0FTSV9FUFJPVE9UWVBFLFxuICAgIEVSQU5HRTogZXhwb3J0cy5XQVNJX0VSQU5HRSxcbiAgICBFUk9GUzogZXhwb3J0cy5XQVNJX0VST0ZTLFxuICAgIEVTUElQRTogZXhwb3J0cy5XQVNJX0VTUElQRSxcbiAgICBFU1JDSDogZXhwb3J0cy5XQVNJX0VTUkNILFxuICAgIEVTVEFMRTogZXhwb3J0cy5XQVNJX0VTVEFMRSxcbiAgICBFVElNRURPVVQ6IGV4cG9ydHMuV0FTSV9FVElNRURPVVQsXG4gICAgRVRYVEJTWTogZXhwb3J0cy5XQVNJX0VUWFRCU1ksXG4gICAgRVhERVY6IGV4cG9ydHMuV0FTSV9FWERFVlxufTtcbmV4cG9ydHMuU0lHTkFMX01BUCA9IHtcbiAgICBbZXhwb3J0cy5XQVNJX1NJR0hVUF06IFwiU0lHSFVQXCIsXG4gICAgW2V4cG9ydHMuV0FTSV9TSUdJTlRdOiBcIlNJR0lOVFwiLFxuICAgIFtleHBvcnRzLldBU0lfU0lHUVVJVF06IFwiU0lHUVVJVFwiLFxuICAgIFtleHBvcnRzLldBU0lfU0lHSUxMXTogXCJTSUdJTExcIixcbiAgICBbZXhwb3J0cy5XQVNJX1NJR1RSQVBdOiBcIlNJR1RSQVBcIixcbiAgICBbZXhwb3J0cy5XQVNJX1NJR0FCUlRdOiBcIlNJR0FCUlRcIixcbiAgICBbZXhwb3J0cy5XQVNJX1NJR0JVU106IFwiU0lHQlVTXCIsXG4gICAgW2V4cG9ydHMuV0FTSV9TSUdGUEVdOiBcIlNJR0ZQRVwiLFxuICAgIFtleHBvcnRzLldBU0lfU0lHS0lMTF06IFwiU0lHS0lMTFwiLFxuICAgIFtleHBvcnRzLldBU0lfU0lHVVNSMV06IFwiU0lHVVNSMVwiLFxuICAgIFtleHBvcnRzLldBU0lfU0lHU0VHVl06IFwiU0lHU0VHVlwiLFxuICAgIFtleHBvcnRzLldBU0lfU0lHVVNSMl06IFwiU0lHVVNSMlwiLFxuICAgIFtleHBvcnRzLldBU0lfU0lHUElQRV06IFwiU0lHUElQRVwiLFxuICAgIFtleHBvcnRzLldBU0lfU0lHQUxSTV06IFwiU0lHQUxSTVwiLFxuICAgIFtleHBvcnRzLldBU0lfU0lHVEVSTV06IFwiU0lHVEVSTVwiLFxuICAgIFtleHBvcnRzLldBU0lfU0lHQ0hMRF06IFwiU0lHQ0hMRFwiLFxuICAgIFtleHBvcnRzLldBU0lfU0lHQ09OVF06IFwiU0lHQ09OVFwiLFxuICAgIFtleHBvcnRzLldBU0lfU0lHU1RPUF06IFwiU0lHU1RPUFwiLFxuICAgIFtleHBvcnRzLldBU0lfU0lHVFNUUF06IFwiU0lHVFNUUFwiLFxuICAgIFtleHBvcnRzLldBU0lfU0lHVFRJTl06IFwiU0lHVFRJTlwiLFxuICAgIFtleHBvcnRzLldBU0lfU0lHVFRPVV06IFwiU0lHVFRPVVwiLFxuICAgIFtleHBvcnRzLldBU0lfU0lHVVJHXTogXCJTSUdVUkdcIixcbiAgICBbZXhwb3J0cy5XQVNJX1NJR1hDUFVdOiBcIlNJR1hDUFVcIixcbiAgICBbZXhwb3J0cy5XQVNJX1NJR1hGU1pdOiBcIlNJR1hGU1pcIixcbiAgICBbZXhwb3J0cy5XQVNJX1NJR1ZUQUxSTV06IFwiU0lHVlRBTFJNXCJcbn07XG4iLCAidmFyIG5hbWVzID0gW1xuICAgIFwic2lnbmFsXCIsXG4gICAgXCJyYWlzZVwiLFxuICAgIFwicGlwZVwiLFxuICAgIFwiZHVwXCIsXG4gICAgXCJkdXAyXCIsXG4gICAgXCJkdXAzXCIsXG4gICAgXCJleGVjdlwiLFxuICAgIFwiZXhlY2xcIixcbiAgICBcImV4ZWN2cFwiLFxuICAgIFwiZXhlY2xwXCIsXG4gICAgXCJnZXRwd25hbVwiLFxuICAgIFwiZ2V0cHduYW1fclwiLFxuICAgIFwiZ2V0cHdlbnRcIixcbiAgICBcInRjc2V0cGdycFwiLFxuICAgIFwia2lsbFwiLFxuICAgIFwia2lsbHBnXCIsXG4gICAgXCJmb3JrXCIsXG4gICAgXCJyZWFscGF0aFwiLFxuICAgIFwiZ2V0cGlkXCIsXG4gICAgXCJnZXRwZ2lkXCIsXG4gICAgXCJzZXRwZ2lkXCIsXG4gICAgXCJnZXRwZ3JwXCIsXG4gICAgXCJzZXRwZ3JwXCIsXG4gICAgXCJpc3NldHVnaWRcIixcbiAgICBcInN0cnNpZ25hbFwiLFxuICAgIFwid2FpdDRcIixcbiAgICBcIndhaXRwaWRcIixcbiAgICBcImdldHVpZFwiLFxuICAgIFwiZ2V0ZXVpZFwiLFxuICAgIFwiZ2V0Z2lkXCIsXG4gICAgXCJnZXRlZ2lkXCIsXG4gICAgXCJnZXRzaWRcIixcbiAgICBcInNldGVnaWRcIixcbiAgICBcInNldGV1aWRcIixcbiAgICBcInNldGdpZFwiLFxuICAgIFwic2V0dWlkXCIsXG4gICAgXCJzZXRzaWRcIixcbiAgICBcInVtYXNrXCIsXG4gICAgXCJnZXRybGltaXRcIixcbiAgICBcInNldHJsaW1pdFwiLFxuICAgIFwiZ2V0cHJpb3JpdHlcIixcbiAgICBcInNldHByaW9yaXR5XCIsXG4gICAgXCJzaWdmaWxsc2V0XCIsXG4gICAgXCJzaWdwcm9jbWFza1wiLFxuICAgIFwic2lnc2V0bWFza1wiLFxuICAgIFwic2lnaW50ZXJydXB0XCIsXG4gICAgXCJzaWdhbHRzdGFja1wiLFxuICAgIFwic2lnd2FpdFwiLFxuICAgIFwic2lncGVuZGluZ1wiLFxuICAgIFwiZ2V0cHBpZFwiLFxuICAgIFwidGNnZXRwZ3JwXCIsXG4gICAgXCJnZXRob3N0bmFtZVwiLFxuICAgIFwidHpzZXRcIixcbiAgICBcImZsb2NrZmlsZVwiLFxuICAgIFwiZnRyeWxvY2tmaWxlXCIsXG4gICAgXCJmdW5sb2NrZmlsZVwiLFxuICAgIFwiZ2V0cHd1aWRcIixcbiAgICBcImdldHB3dWlkX3JcIixcbiAgICBcInNldHB3ZW50XCIsXG4gICAgXCJlbmRwd2VudFwiLFxuICAgIFwiZ2V0Z3JnaWRcIixcbiAgICBcInNldHJldWlkXCIsXG4gICAgXCJzZXRyZWdpZFwiLFxuICAgIFwic3RybW9kZVwiLFxuICAgIFwiYWNsX2dldF9maWxlXCIsXG4gICAgXCJhY2xfZnJlZVwiLFxuICAgIFwiYWNsX2dldF9lbnRyeVwiLFxuICAgIFwiZmNoZGlyXCIsXG4gICAgXCJjaG93blwiLFxuICAgIFwiZmNob3duXCIsXG4gICAgXCJsY2hvd25cIixcbiAgICBcImZjaG93bmF0XCIsXG4gICAgXCJjaG1vZFwiLFxuICAgIFwiZmNobW9kXCIsXG4gICAgXCJmY2htb2RhdFwiLFxuICAgIFwibGNobW9kXCIsXG4gICAgXCJjaGZsYWdzXCIsXG4gICAgXCJmY2hmbGFnc1wiLFxuICAgIFwibGNoZmxhZ3NcIixcbiAgICBcImNocm9vdFwiLFxuICAgIFwiZ2V0Z3JvdXBzXCIsXG4gICAgXCJ1dGltZXNcIixcbiAgICBcImZ1dGltZXNcIixcbiAgICBcImx1dGltZXNcIixcbiAgICBcImNsb2NrX2dldHRpbWVcIixcbiAgICBcImNsb2NrX3NldHRpbWVcIixcbiAgICBcImFsYXJtXCIsXG4gICAgXCJzeXN0ZW1cIixcbiAgICBcIm1rZmlmb1wiLFxuICAgIFwibWtzdGVtcFwiLFxuICAgIFwibWtzdGVtcHNcIixcbiAgICBcIm1rb3N0ZW1wXCIsXG4gICAgXCJta29zdGVtcHNcIixcbiAgICBcInRtcGZpbGVcIixcbiAgICBcInNldHRpbWVvZmRheVwiLFxuICAgIFwiYnNkX3NpZ25hbFwiLFxuICAgIFwidHR5bmFtZVwiLFxuICAgIFwidHR5bmFtZV9yXCIsXG4gICAgXCJjdGVybWlkX3JcIixcbiAgICBcInNvY2tldFwiLFxuICAgIFwiY29ubmVjdFwiLFxuICAgIFwicG9wZW5cIixcbiAgICBcInBjbG9zZVwiLFxuICAgIFwic3luY1wiLFxuICAgIFwibmljZVwiLFxuICAgIFwiZXJyeFwiLCAgICAgICAgLy8/Pz9cbiAgICBcInZ3YXJueFwiLCAgICAgIC8vPz8/XG4gICAgLy8gcG9zaXhcbiAgICBcInBvc2l4X3NwYXduXCIsXG4gICAgXCJwb3NpeF9zcGF3bnBcIixcbiAgICBcInBvc2l4X3NwYXduYXR0cl9pbml0XCIsXG4gICAgXCJwb3NpeF9zcGF3bmF0dHJfZGVzdHJveVwiLFxuICAgIFwicG9zaXhfc3Bhd25hdHRyX3NldGZsYWdzXCIsXG4gICAgXCJwb3NpeF9zcGF3bmF0dHJfc2V0c2lnbWFza1wiLFxuICAgIFwicG9zaXhfc3Bhd25fZmlsZV9hY3Rpb25zX2luaXRcIixcbiAgICBcInBvc2l4X3NwYXduX2ZpbGVfYWN0aW9uc19kZXN0cm95XCIsXG4gICAgXCJwb3NpeF9zcGF3bl9maWxlX2FjdGlvbnNfYWRkb3BlblwiLFxuICAgIFwicG9zaXhfc3Bhd25fZmlsZV9hY3Rpb25zX2FkZGNsb3NlXCIsXG4gICAgXCJwb3NpeF9zcGF3bl9maWxlX2FjdGlvbnNfYWRkZHVwMlwiLFxuICAgIC8vIHB0aHJlYWRzXG4gICAgXCJwdGhyZWFkX211dGV4X2luaXRcIixcbiAgICBcInB0aHJlYWRfbXV0ZXhfbG9ja1wiLFxuICAgIFwicHRocmVhZF9jb25kX3RpbWVkd2FpdFwiLFxuICAgIFwicHRocmVhZF9jb25kX3NpZ25hbFwiLFxuICAgIFwicHRocmVhZF9tdXRleF91bmxvY2tcIixcbiAgICBcInB0aHJlYWRfY29uZF9kZXN0cm95XCIsXG4gICAgXCJwdGhyZWFkX211dGV4X2Rlc3Ryb3lcIiwgXG4gICAgXCJwdGhyZWFkX2NvbmRfd2FpdFwiLFxuICAgIFwicHRocmVhZF9jb25kX2luaXRcIixcbiAgICBcInB0aHJlYWRfYXR0cl9pbml0XCIsXG4gICAgXCJwdGhyZWFkX2F0dHJfc2V0c3RhY2tzaXplXCIsXG4gICAgXCJwdGhyZWFkX2F0dHJfZGVzdHJveVwiLFxuICAgIFwicHRocmVhZF9jcmVhdGVcIixcbiAgICBcInB0aHJlYWRfZGV0YWNoXCIsXG4gICAgXCJwdGhyZWFkX3NlbGZcIixcbiAgICBcInB0aHJlYWRfa2lsbFwiLFxuICAgIFwicHRocmVhZF9leGl0XCIsXG4gICAgXCJwdGhyZWFkX211dGV4X3RyeWxvY2tcIixcbiAgICBcInB0aHJlYWRfa2V5X2NyZWF0ZVwiLFxuICAgIFwicHRocmVhZF9rZXlfZGVsZXRlXCIsXG4gICAgXCJwdGhyZWFkX3NldHNwZWNpZmljXCIsXG4gICAgXCJwdGhyZWFkX2dldHNwZWNpZmljXCIsXG4gICAgXCJwdGhyZWFkX3NpZ21hc2tcIixcbiAgICBcInB0aHJlYWRfYXR0cl9nZXRzY29wZVwiLFxuICAgIFwicHRocmVhZF9hdHRyX3NldHNjb3BlXCIsXG4gICAgXCJwb3NpeF9zcGF3bmF0dHJfc2V0cGdyb3VwXCIsXG4gICAgXCJwb3NpeF9zcGF3bmF0dHJfc2V0c2lnZGVmYXVsdFwiLFxuICAgIC8vIGN1cnNlcyAodGVybWluZm8pXG4gICAgXCJ0Z2V0ZW50XCIsXG4gICAgXCJ0Z2V0ZmxhZ1wiLFxuICAgIFwidGdldG51bVwiLFxuICAgIFwidGdldHN0clwiLFxuICAgIFwidGdvdG9cIixcbiAgICBcInRwdXRzXCIsXG4gICAgLy8gdGVybWlvc1xuICAgIFwiY2ZnZXRvc3BlZWRcIixcbiAgICBcImNmZ2V0aXNwZWVkXCIsXG4gICAgXCJjZnNldG9zcGVlZFwiLFxuICAgIFwiY2ZzZXRpc3BlZWRcIixcbiAgICBcInRjc2VuZGJyZWFrXCIsXG4gICAgXCJ0Y2RyYWluXCIsXG4gICAgXCJ0Y2ZsdXNoXCIsXG4gICAgXCJ0Y2Zsb3dcIixcbiAgICBcInRjZ2V0c2lkXCIsXG4gICAgLy8gdXRpbCAodHR5KVxuICAgIFwibG9naW5cIixcbiAgICBcImxvZ2luX3R0eVwiLFxuICAgIFwibG9nb3V0XCIsXG4gICAgXCJsb2d3dG1wXCIsXG4gICAgXCJvcGVuZGV2XCIsXG4gICAgXCJvcGVucHR5XCIsXG4gICAgXCJmcGFyc2VsblwiLFxuICAgIFwiZm9ya3B0eVwiLFxuICAgIFwicGlkbG9ja1wiLFxuICAgIFwidHR5bG9ja1wiLFxuICAgIFwidHR5dW5sb2NrXCIsXG4gICAgXCJ0dHlhY3Rpb25cIixcbiAgICBcInR0eW1zZ1wiLFxuXVxuXG5jb25zdCBzdHViczoge1xuICAgIGRlYnVnOiAobWVzc2FnZTogc3RyaW5nKSA9PiB2b2lkLFxuICAgIFtrZXk6IHN0cmluZ106ICguLi5hcmdzOiBhbnlbXSkgPT4gdm9pZFxufSA9IHtcbiAgICBkZWJ1ZzogKG1lc3NhZ2UpID0+IHt9XG59O1xuZm9yIChsZXQgbm0gb2YgbmFtZXMpIHtcbiAgICBzdHVic1tubV0gPSBmdW5jdGlvbigpIHtcbiAgICAgICAgc3R1YnMuZGVidWcoYHN0dWIgZm9yICR7bm19IFske1suLi5hcmd1bWVudHNdfV1gKTtcbiAgICB9XG59XG5cbmV4cG9ydCBkZWZhdWx0IHN0dWJzXG4iLCAiLyogZ2VuZXJhdGVkIGJ5IGF1dG9nZW4tZGVsZWdhdGlvbi5qcyAqL1xuZXhwb3J0IGRlZmF1bHQge1wiMFwiOlswLDk3LDExNSwxMDksMSwwLDAsMCwxLDUsMSw5NiwwLDEsMTI3LDIsMTYsMSwzLDEwMSwxMTAsMTE4LDgsMTAwLDEwMSwxMDgsMTAxLDEwMyw5NywxMTYsMTAxLDAsMCwzLDIsMSwwLDcsOCwxLDQsMTAzLDEwOCwxMTcsMTAxLDAsMSwxMCw2LDEsNCwwLDE2LDAsMTFdLFwiMVwiOlswLDk3LDExNSwxMDksMSwwLDAsMCwxLDYsMSw5NiwxLDEyNywxLDEyNywyLDE2LDEsMywxMDEsMTEwLDExOCw4LDEwMCwxMDEsMTA4LDEwMSwxMDMsOTcsMTE2LDEwMSwwLDAsMywyLDEsMCw3LDgsMSw0LDEwMywxMDgsMTE3LDEwMSwwLDEsMTAsOCwxLDYsMCwzMiwwLDE2LDAsMTFdLFwiMlwiOlswLDk3LDExNSwxMDksMSwwLDAsMCwxLDcsMSw5NiwyLDEyNywxMjcsMSwxMjcsMiwxNiwxLDMsMTAxLDExMCwxMTgsOCwxMDAsMTAxLDEwOCwxMDEsMTAzLDk3LDExNiwxMDEsMCwwLDMsMiwxLDAsNyw4LDEsNCwxMDMsMTA4LDExNywxMDEsMCwxLDEwLDEwLDEsOCwwLDMyLDAsMzIsMSwxNiwwLDExXSxcIjNcIjpbMCw5NywxMTUsMTA5LDEsMCwwLDAsMSw4LDEsOTYsMywxMjcsMTI3LDEyNywxLDEyNywyLDE2LDEsMywxMDEsMTEwLDExOCw4LDEwMCwxMDEsMTA4LDEwMSwxMDMsOTcsMTE2LDEwMSwwLDAsMywyLDEsMCw3LDgsMSw0LDEwMywxMDgsMTE3LDEwMSwwLDEsMTAsMTIsMSwxMCwwLDMyLDAsMzIsMSwzMiwyLDE2LDAsMTFdLFwiNFwiOlswLDk3LDExNSwxMDksMSwwLDAsMCwxLDksMSw5Niw0LDEyNywxMjcsMTI3LDEyNywxLDEyNywyLDE2LDEsMywxMDEsMTEwLDExOCw4LDEwMCwxMDEsMTA4LDEwMSwxMDMsOTcsMTE2LDEwMSwwLDAsMywyLDEsMCw3LDgsMSw0LDEwMywxMDgsMTE3LDEwMSwwLDEsMTAsMTQsMSwxMiwwLDMyLDAsMzIsMSwzMiwyLDMyLDMsMTYsMCwxMV0sXCI1XCI6WzAsOTcsMTE1LDEwOSwxLDAsMCwwLDEsMTAsMSw5Niw1LDEyNywxMjcsMTI3LDEyNywxMjcsMSwxMjcsMiwxNiwxLDMsMTAxLDExMCwxMTgsOCwxMDAsMTAxLDEwOCwxMDEsMTAzLDk3LDExNiwxMDEsMCwwLDMsMiwxLDAsNyw4LDEsNCwxMDMsMTA4LDExNywxMDEsMCwxLDEwLDE2LDEsMTQsMCwzMiwwLDMyLDEsMzIsMiwzMiwzLDMyLDQsMTYsMCwxMV0sXCI2XCI6WzAsOTcsMTE1LDEwOSwxLDAsMCwwLDEsMTEsMSw5Niw2LDEyNywxMjcsMTI3LDEyNywxMjcsMTI3LDEsMTI3LDIsMTYsMSwzLDEwMSwxMTAsMTE4LDgsMTAwLDEwMSwxMDgsMTAxLDEwMyw5NywxMTYsMTAxLDAsMCwzLDIsMSwwLDcsOCwxLDQsMTAzLDEwOCwxMTcsMTAxLDAsMSwxMCwxOCwxLDE2LDAsMzIsMCwzMiwxLDMyLDIsMzIsMywzMiw0LDMyLDUsMTYsMCwxMV0sXCI3XCI6WzAsOTcsMTE1LDEwOSwxLDAsMCwwLDEsMTIsMSw5Niw3LDEyNywxMjcsMTI3LDEyNywxMjcsMTI3LDEyNywxLDEyNywyLDE2LDEsMywxMDEsMTEwLDExOCw4LDEwMCwxMDEsMTA4LDEwMSwxMDMsOTcsMTE2LDEwMSwwLDAsMywyLDEsMCw3LDgsMSw0LDEwMywxMDgsMTE3LDEwMSwwLDEsMTAsMjAsMSwxOCwwLDMyLDAsMzIsMSwzMiwyLDMyLDMsMzIsNCwzMiw1LDMyLDYsMTYsMCwxMV0sXCI4XCI6WzAsOTcsMTE1LDEwOSwxLDAsMCwwLDEsMTMsMSw5Niw4LDEyNywxMjcsMTI3LDEyNywxMjcsMTI3LDEyNywxMjcsMSwxMjcsMiwxNiwxLDMsMTAxLDExMCwxMTgsOCwxMDAsMTAxLDEwOCwxMDEsMTAzLDk3LDExNiwxMDEsMCwwLDMsMiwxLDAsNyw4LDEsNCwxMDMsMTA4LDExNywxMDEsMCwxLDEwLDIyLDEsMjAsMCwzMiwwLDMyLDEsMzIsMiwzMiwzLDMyLDQsMzIsNSwzMiw2LDMyLDcsMTYsMCwxMV0sXCI5XCI6WzAsOTcsMTE1LDEwOSwxLDAsMCwwLDEsMTQsMSw5Niw5LDEyNywxMjcsMTI3LDEyNywxMjcsMTI3LDEyNywxMjcsMTI3LDEsMTI3LDIsMTYsMSwzLDEwMSwxMTAsMTE4LDgsMTAwLDEwMSwxMDgsMTAxLDEwMyw5NywxMTYsMTAxLDAsMCwzLDIsMSwwLDcsOCwxLDQsMTAzLDEwOCwxMTcsMTAxLDAsMSwxMCwyNCwxLDIyLDAsMzIsMCwzMiwxLDMyLDIsMzIsMywzMiw0LDMyLDUsMzIsNiwzMiw3LDMyLDgsMTYsMCwxMV19IiwgImltcG9ydCB7IEV4ZWNDb3JlIH0gZnJvbSAnLi4vZXhlYyc7XG5pbXBvcnQgZGVsZWdhdGlvbiBmcm9tICcuL2F1dG9nZW4vZGVsZWdhdGlvbic7XG5cblxuXG5jbGFzcyBEeW5hbWljTG9hZGVyIHtcblxuICAgIGNvcmU6IEV4ZWNDb3JlXG5cbiAgICBkeWxpYlRhYmxlPzogRHluYW1pY0xpYnJhcnkuVGFibGVcblxuICAgIGNvbnN0cnVjdG9yKGNvcmU6IEV4ZWNDb3JlKSB7XG4gICAgICAgIHRoaXMuY29yZSA9IGNvcmU7XG4gICAgfVxuXG4gICAgcHJlbG9hZChwYXRoOiBzdHJpbmcsIHVyaTogc3RyaW5nLCByZWxvYz86IER5bmFtaWNMaWJyYXJ5LlJlbG9jYXRpb25zKSB7XG4gICAgICAgIGlmICghdGhpcy5keWxpYlRhYmxlKVxuICAgICAgICAgICAgdGhpcy5keWxpYlRhYmxlID0gbmV3IER5bmFtaWNMaWJyYXJ5LlRhYmxlKCk7XG5cbiAgICAgICAgaWYgKHRoaXMuZHlsaWJUYWJsZS5kZWYuaGFzKHBhdGgpKSByZXR1cm47XG5cbiAgICAgICAgcmV0dXJuIHRoaXMuY29yZS5mZXRjaENvbXBpbGUodXJpKS50aGVuKHcgPT4ge1xuICAgICAgICAgICAgdGhpcy5keWxpYlRhYmxlLmRlZi5zZXQocGF0aCwgbmV3IER5bmFtaWNMaWJyYXJ5LkRlZih3LCByZWxvYywge3BhdGgsIHVyaX0pKTtcbiAgICAgICAgfSk7XG4gICAgfVxuXG4gICAgZ2V0IGltcG9ydCgpIHtcbiAgICAgICAgcmV0dXJuIGJpbmRBbGwodGhpcywgWydkbG9wZW4nLCAnZGxzeW0nLCAnZGxjbG9zZSddKTtcbiAgICB9XG5cbiAgICBnZXQgZXh0bGliKCkge1xuICAgICAgICByZXR1cm4gYmluZEFsbCh0aGlzLCBbJ2RsZXJyb3JfZ2V0J10pO1xuICAgIH1cblxuICAgIC8vIC0tLS0tLS0tLS0tXG4gICAgLy8gTG9hZGVyIFBhcnRcbiAgICAvLyAtLS0tLS0tLS0tLVxuXG4gICAgZGxvcGVuKHBhdGg6IGkzMiwgZmxhZ3M6IGkzMikge1xuICAgICAgICB2YXIgcGF0aF9zdHIgPSB0aGlzLnVzZXJHZXRDU3RyaW5nKHBhdGgpLnRvU3RyaW5nKCd1dGYtOCcpO1xuICAgICAgICB0aGlzLmNvcmUudHJhY2Uuc3lzY2FsbHMoYGRsb3BlbihcIiR7cGF0aF9zdHJ9XCIsICR7ZmxhZ3N9KWApO1xuICAgICAgICBpZiAoIXRoaXMuZHlsaWJUYWJsZSkgcmV0dXJuIDA7XG4gICAgICAgIHZhciBkZWYgPSB0aGlzLmR5bGliVGFibGUuZGVmLmdldChwYXRoX3N0cik7XG4gICAgICAgIGlmIChkZWYpIHtcbiAgICAgICAgICAgIHZhciBpbnN0YW5jZSA9IGRlZi5pbnN0YW50aWF0ZSh0aGlzLmNvcmUpLFxuICAgICAgICAgICAgICAgIGhhbmRsZSA9IHRoaXMuZHlsaWJUYWJsZS5yZWYuc2l6ZSArIDE7XG4gICAgICAgICAgICB0aGlzLmR5bGliVGFibGUucmVmLnNldChoYW5kbGUsIHtkZWYsIGluc3RhbmNlfSk7XG4gICAgICAgICAgICByZXR1cm4gaGFuZGxlO1xuICAgICAgICB9XG4gICAgICAgIGVsc2Uge1xuICAgICAgICAgICAgcmV0dXJuIDA7ICAvLyBAdG9kbyBzZXQgZXJyb3IgbWVzc2FnZSBpbiBkbGVycm9yXG4gICAgICAgIH1cbiAgICB9XG5cbiAgICBkbHN5bShoYW5kbGU6IGkzMiwgc3ltYm9sOiBpMzIpIHtcbiAgICAgICAgdmFyIHN5bWJvbF9zdHIgPSB0aGlzLnVzZXJHZXRDU3RyaW5nKHN5bWJvbCkudG9TdHJpbmcoJ3V0Zi04Jyk7XG4gICAgICAgIHRoaXMuY29yZS50cmFjZS5zeXNjYWxscyhgZGxzeW0oJHtoYW5kbGV9LCBcIiR7c3ltYm9sX3N0cn1cIilgKTtcbiAgICAgICAgdmFyIHJlZiA9IHRoaXMuZHlsaWJUYWJsZS5yZWYuZ2V0KGhhbmRsZSk7XG4gICAgICAgIGlmIChyZWYpIHtcbiAgICAgICAgICAgIC8qIHNlYXJjaCBpbiBXQVNNIGluc3RhbmNlICovXG4gICAgICAgICAgICB2YXIgc3ltID0gcmVmLmluc3RhbmNlLmV4cG9ydHNbc3ltYm9sX3N0cl07XG4gICAgICAgICAgICBpZiAoc3ltICYmIHN5bSBpbnN0YW5jZW9mIEZ1bmN0aW9uKSB7XG4gICAgICAgICAgICAgICAgcmV0dXJuIHRoaXMuYWxsb2NhdGVGdW5jKHN5bSk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICAvKiBzZWFyY2ggaW4gSlMgaW1wb3J0cyAqL1xuICAgICAgICAgICAgdmFyIGpzID0gcmVmLmRlZi5yZWxvYz8uanM/LltzeW1ib2xfc3RyXSxcbiAgICAgICAgICAgICAgICBkID0ganMgJiYgdGhpcy5hbGxvY2F0ZURlbGVnYXRlKGpzKTtcbiAgICAgICAgICAgIGlmIChkICE9PSB1bmRlZmluZWQpIHJldHVybiBkO1xuICAgICAgICB9XG4gICAgICAgIHJldHVybiAwOyAgLy8gQHRvZG8gc2V0IGVycm9yIG1lc3NhZ2UgaW4gZGxlcnJvclxuICAgIH1cblxuICAgIGRsY2xvc2UoaGFuZGxlOiBpMzIpIHtcbiAgICAgICAgLy8gZG8gbm90aGluZz9cbiAgICB9XG5cbiAgICBkbGVycm9yX2dldChwYnVmOiBpMzIpIHtcbiAgICAgICAgdmFyIHJldCA9ICdub3QgZm91bmRcXDAnOyAgLy8gQHRvZG9cbiAgICAgICAgcmV0dXJuIHRoaXMudXNlckNTdHJpbmdNYWxsb2MocmV0LCBwYnVmKTsgICAgICAgIFxuICAgIH1cblxuICAgIGFsbG9jYXRlRnVuYyhmdW5jOiBGdW5jdGlvbikge1xuICAgICAgICB2YXIgaCA9IHRoaXMuY29yZS5wcm9jLmZ1bmNUYWJsZS5ncm93KDEpO1xuICAgICAgICB0aGlzLmNvcmUucHJvYy5mdW5jVGFibGUuc2V0KGgsIGZ1bmMpO1xuICAgICAgICByZXR1cm4gaDsgICAgICAgIFxuICAgIH1cblxuICAgIGFsbG9jYXRlRGVsZWdhdGUoZnVuYzogRnVuY3Rpb24pIHtcbiAgICAgICAgdmFyIGJpbiA9IGRlbGVnYXRpb25bZnVuYy5sZW5ndGhdO1xuICAgICAgICBpZiAoYmluKSB7XG4gICAgICAgICAgICB2YXIgbW9kID0gbmV3IFdlYkFzc2VtYmx5Lk1vZHVsZShuZXcgVWludDhBcnJheShiaW4pKSxcbiAgICAgICAgICAgICAgICBpbnN0ID0gbmV3IFdlYkFzc2VtYmx5Lkluc3RhbmNlKG1vZCwge2Vudjoge2RlbGVnYXRlOiBmdW5jfX0pO1xuICAgICAgICAgICAgcmV0dXJuIHRoaXMuYWxsb2NhdGVGdW5jKDxGdW5jdGlvbj5pbnN0LmV4cG9ydHNbJ2dsdWUnXSk7XG4gICAgICAgIH1cbiAgICAgICAgZWxzZSB7XG4gICAgICAgICAgICBjb25zb2xlLndhcm4oYGNhbm5vdCBkZWxlZ2F0ZSBmdW5jdGlvbiB3aXRoICR7ZnVuYy5sZW5ndGh9IGFyZ3VtZW50czpgLCBmdW5jKTtcbiAgICAgICAgfVxuICAgIH1cblxuICAgIC8vIC0gc29tZSBoZWxwZXJzIGZyb20gUHJvY1xuXG4gICAgdXNlckdldENTdHJpbmcoYWRkcjogaTMyKSB7XG4gICAgICAgIHJldHVybiB0aGlzLmNvcmUucHJvYy51c2VyR2V0Q1N0cmluZyhhZGRyKTtcbiAgICB9XG5cbiAgICB1c2VyQ1N0cmluZ01hbGxvYyhzOiBzdHJpbmcsIHBidWY6IGkzMikge1xuICAgICAgICByZXR1cm4gdGhpcy5jb3JlLnByb2MudXNlckNTdHJpbmdNYWxsb2MocywgcGJ1Zik7XG4gICAgfVxuXG59XG5cblxubmFtZXNwYWNlIER5bmFtaWNMaWJyYXJ5IHtcblxuICAgIGV4cG9ydCBjbGFzcyBUYWJsZSB7XG4gICAgICAgIGRlZjogTWFwPHN0cmluZywgRGVmPiA9IG5ldyBNYXAoKVxuICAgICAgICByZWY6IE1hcDxpMzIsIFJlZj4gPSBuZXcgTWFwKClcbiAgICB9XG5cbiAgICBleHBvcnQgY2xhc3MgRGVmIHtcbiAgICAgICAgbW9kdWxlOiBXZWJBc3NlbWJseS5Nb2R1bGVcbiAgICAgICAgcmVsb2M6IFJlbG9jYXRpb25zXG4gICAgICAgIG1ldGFkYXRhOiB7cGF0aD86IHN0cmluZywgdXJpPzogc3RyaW5nfVxuXG4gICAgICAgIHN0YWNrU2l6ZTogbnVtYmVyID0gMSA8PCAxNiAgICAvKiogQHRvZG8gKi9cbiAgICAgICAgbWVtQmxvY2tzOiBudW1iZXIgPSAxMCAgICAgICAgIC8qKiBAdG9kbyAqL1xuICAgICAgICB0YmxTaXplOiBudW1iZXIgPSAxMDI0ICAgICAgICAgLyoqIEB0b2RvICovXG5cbiAgICAgICAgY29uc3RydWN0b3IobW9kdWxlOiBXZWJBc3NlbWJseS5Nb2R1bGUsIHJlbG9jOiBSZWxvY2F0aW9ucyA9IHt9LCBcbiAgICAgICAgICAgICAgICAgICAgbWV0YWRhdGE6IHtwYXRoPzogc3RyaW5nLCB1cmk/OiBzdHJpbmd9ID0ge30pIHtcbiAgICAgICAgICAgIHRoaXMubW9kdWxlID0gbW9kdWxlO1xuICAgICAgICAgICAgdGhpcy5yZWxvYyA9IHJlbG9jO1xuICAgICAgICAgICAgdGhpcy5tZXRhZGF0YSA9IG1ldGFkYXRhO1xuICAgICAgICB9XG5cbiAgICAgICAgaW5zdGFudGlhdGUoY29yZTogRXhlY0NvcmUpIHtcbiAgICAgICAgICAgIHZhciBzdGFja19iYXNlID0gY29yZS53YXNpLm1lbW9yeS5idWZmZXIuYnl0ZUxlbmd0aCxcbiAgICAgICAgICAgICAgICBtZW1fYmFzZSA9IHN0YWNrX2Jhc2UgKyB0aGlzLnN0YWNrU2l6ZSxcbiAgICAgICAgICAgICAgICB0YmxfYmFzZSA9IGNvcmUucHJvYy5mdW5jVGFibGUubGVuZ3RoO1xuXG4gICAgICAgICAgICBjb3JlLndhc2kubWVtb3J5Lmdyb3codGhpcy5tZW1CbG9ja3MpO1xuICAgICAgICAgICAgY29yZS5wcm9jLmZ1bmNUYWJsZS5ncm93KHRoaXMudGJsU2l6ZSk7XG5cbiAgICAgICAgICAgIHZhciBnbG9iYWxzID0gdGhpcy5nbG9iYWxzKHRoaXMubW9kdWxlLCBjb3JlLndhc20uaW5zdGFuY2UpO1xuICAgICAgICAgICAgdmFyIGluc3RhbmNlID0gbmV3IFdlYkFzc2VtYmx5Lkluc3RhbmNlKHRoaXMubW9kdWxlLCB7XG4gICAgICAgICAgICAgICAgZW52OiB7IFxuICAgICAgICAgICAgICAgICAgICBtZW1vcnk6IGNvcmUud2FzaS5tZW1vcnksXG4gICAgICAgICAgICAgICAgICAgIHRhYmxlOiBjb3JlLnByb2MuZnVuY1RhYmxlLCAgICAgICAgIC8vIDwtLS0gRW1zY3JpcHRlblxuICAgICAgICAgICAgICAgICAgICBfX2luZGlyZWN0X2Z1bmN0aW9uX3RhYmxlOiBjb3JlLnByb2MuZnVuY1RhYmxlLFxuICAgICAgICAgICAgICAgICAgICBfX21lbW9yeV9iYXNlOiBtZW1fYmFzZSxcbiAgICAgICAgICAgICAgICAgICAgX190YWJsZV9iYXNlOiB0YmxfYmFzZSxcbiAgICAgICAgICAgICAgICAgICAgX19zdGFja19wb2ludGVyOiB0aGlzLl9ta2dsb2JhbChtZW1fYmFzZSksIC8vIHN0YWNrIGdyb3dzIGRvd24/XG4gICAgICAgICAgICAgICAgICAgIHN0YWNrU2F2ZTogKCkgPT4gbWVtX2Jhc2UsICAgICAgICAgIC8vIDwtLS0gRW1zY3JpcHRlblxuICAgICAgICAgICAgICAgICAgICBzdGFja1Jlc3RvcmU6ICgpID0+IHt9LFxuICAgICAgICAgICAgICAgICAgICAuLi50aGlzLnJlbG9jVGFibGUodGhpcy5tb2R1bGUsIGNvcmUud2FzbS5pbnN0YW5jZSwgY29yZS5wcm9jLmltcG9ydCksXG4gICAgICAgICAgICAgICAgICAgIC4uLnRoaXMuZW1nbG9iYWxzKHRoaXMubW9kdWxlLCBtZW1fYmFzZSwgY29yZS53YXNtLmluc3RhbmNlLCAoKSA9PiBpbnN0YW5jZSksXG4gICAgICAgICAgICAgICAgfSxcbiAgICAgICAgICAgICAgICAuLi5nbG9iYWxzLFxuICAgICAgICAgICAgICAgIHdhc2lrX2V4dDogY29yZS5wcm9jLmV4dGxpYlxuICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICB0aGlzLmdsb2JhbHNJbml0KGluc3RhbmNlLCBtZW1fYmFzZSwgZ2xvYmFsc1snR09ULm1lbSddIHx8IHt9KTtcblxuICAgICAgICAgICAgdmFyIGluaXQgPSBpbnN0YW5jZS5leHBvcnRzLl9fcG9zdF9pbnN0YW50aWF0ZTsgICAgIC8vIDwtLS0gRW1zY3JpcHRlblxuICAgICAgICAgICAgaWYgKGluaXQgaW5zdGFuY2VvZiBGdW5jdGlvbikgaW5pdCgpO1xuICAgICAgICAgICAgdmFyIGN0b3JzID0gaW5zdGFuY2UuZXhwb3J0cy5fX3dhc21fY2FsbF9jdG9yczsgICAgIC8vIDwtLS0gQ2xhbmdcbiAgICAgICAgICAgIGlmIChjdG9ycyBpbnN0YW5jZW9mIEZ1bmN0aW9uKSBjdG9ycygpO1xuXG4gICAgICAgICAgICByZXR1cm4gaW5zdGFuY2U7XG4gICAgICAgIH1cblxuICAgICAgICByZWxvY1RhYmxlKG1vZHVsZTogV2ViQXNzZW1ibHkuTW9kdWxlLCBtYWluOiBXZWJBc3NlbWJseS5JbnN0YW5jZSwgc3RkOiB7W25hbWU6IHN0cmluZ106IGFueX0pIHtcbiAgICAgICAgICAgIHZhciBpbXBvcnRzID0gV2ViQXNzZW1ibHkuTW9kdWxlLmltcG9ydHMobW9kdWxlKSxcbiAgICAgICAgICAgICAgICBlbnYgPSB7fTtcbiAgICAgICAgICAgIGZvciAobGV0IGltcCBvZiBpbXBvcnRzKSB7XG4gICAgICAgICAgICAgICAgaWYgKGltcC5tb2R1bGUgPT0gJ2VudicgJiYgaW1wLmtpbmQgPT09ICdmdW5jdGlvbicpIHtcbiAgICAgICAgICAgICAgICAgICAgdmFyIGV4cCA9IHRoaXMucmVsb2MuanM/LltpbXAubmFtZV1cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHx8IG1haW4uZXhwb3J0c1tFTV9BTElBU0VTW2ltcC5uYW1lXSB8fCBpbXAubmFtZV1cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHx8IHN0ZFtpbXAubmFtZV07XG4gICAgICAgICAgICAgICAgICAgIGlmIChleHAgaW5zdGFuY2VvZiBGdW5jdGlvbilcbiAgICAgICAgICAgICAgICAgICAgICAgIGVudltpbXAubmFtZV0gPSBleHA7XG4gICAgICAgICAgICAgICAgICAgIGVsc2Uge1xuICAgICAgICAgICAgICAgICAgICAgICAgY29uc29sZS53YXJuKCd1bnJlc29sdmVkIHN5bWJvbDonLCBpbXAsICdcXG5pbicsIHRoaXMubWV0YWRhdGEpO1xuICAgICAgICAgICAgICAgICAgICAgICAgZW52W2ltcC5uYW1lXSA9ICgpID0+IDA7XG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICByZXR1cm4gZW52O1xuICAgICAgICB9XG5cbiAgICAgICAgZ2xvYmFscyhtb2R1bGU6IFdlYkFzc2VtYmx5Lk1vZHVsZSwgbWFpbjogV2ViQXNzZW1ibHkuSW5zdGFuY2UpIHtcbiAgICAgICAgICAgIHZhciBpbXBvcnRzID0gV2ViQXNzZW1ibHkuTW9kdWxlLmltcG9ydHMobW9kdWxlKSxcbiAgICAgICAgICAgICAgICBnOiBHbG9iYWxzID0ge307XG4gICAgICAgICAgICBmb3IgKGxldCBpbXAgb2YgaW1wb3J0cykge1xuICAgICAgICAgICAgICAgIGlmIChpbXAua2luZCA9PT0gJ2dsb2JhbCcgJiYgaW1wLm1vZHVsZS5tYXRjaChFTV9HTE9CQUxfTlMpKSB7XG4gICAgICAgICAgICAgICAgICAgIHZhciBleHAgPSBtYWluLmV4cG9ydHNbaW1wLm5hbWVdO1xuICAgICAgICAgICAgICAgICAgICBnW2ltcC5tb2R1bGVdID8/PSB7fTtcbiAgICAgICAgICAgICAgICAgICAgZ1tpbXAubW9kdWxlXVtpbXAubmFtZV0gPSB0aGlzLl9ta2dsb2JhbChcbiAgICAgICAgICAgICAgICAgICAgICAgIGV4cCBpbnN0YW5jZW9mIFdlYkFzc2VtYmx5Lkdsb2JhbCA/IGV4cC52YWx1ZSA6IHVuZGVmaW5lZCk7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfVxuICAgICAgICAgICAgcmV0dXJuIGc7XG4gICAgICAgIH1cblxuICAgICAgICBnbG9iYWxzSW5pdChpbnN0YW5jZTogV2ViQXNzZW1ibHkuSW5zdGFuY2UsIG1lbV9iYXNlOiBudW1iZXIsIGdsb2JhbHM6IEdsb2JhbHNNb2R1bGUpIHtcbiAgICAgICAgICAgIGZvciAobGV0IGcgaW4gZ2xvYmFscykge1xuICAgICAgICAgICAgICAgIHZhciBleHAgPSBpbnN0YW5jZS5leHBvcnRzW2ddO1xuICAgICAgICAgICAgICAgIGlmIChleHAgaW5zdGFuY2VvZiBXZWJBc3NlbWJseS5HbG9iYWwpXG4gICAgICAgICAgICAgICAgICAgIGdsb2JhbHNbZ10udmFsdWUgPSBtZW1fYmFzZSArIGV4cC52YWx1ZTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuXG4gICAgICAgIC8qKlxuICAgICAgICAgKiBbaW50ZXJuYWxdIGNyZWF0ZXMgYSB0YWJsZSBvZiBzZWxmLXJlZmVyZW5jZWQgZ2xvYmFscy5cbiAgICAgICAgICogU3BlY2lmaWMgdG8gRW1zY3JpcHRlbi5cbiAgICAgICAgICovXG4gICAgICAgIGVtZ2xvYmFscyhtb2R1bGU6IFdlYkFzc2VtYmx5Lk1vZHVsZSwgbWVtX2Jhc2U6IG51bWJlciwgbWFpbjogV2ViQXNzZW1ibHkuSW5zdGFuY2UsIGluc3RhbmNlOiAoKSA9PiBXZWJBc3NlbWJseS5JbnN0YW5jZSkge1xuICAgICAgICAgICAgdmFyIGltcG9ydHMgPSBXZWJBc3NlbWJseS5Nb2R1bGUuaW1wb3J0cyhtb2R1bGUpLFxuICAgICAgICAgICAgICAgIGV4cG9ydHMgPSBXZWJBc3NlbWJseS5Nb2R1bGUuZXhwb3J0cyhtb2R1bGUpLFxuICAgICAgICAgICAgICAgIHJlc29sdmUgPSAoc3ltYm9sOiBzdHJpbmcpID0+IChtZW1fYmFzZSArICtpbnN0YW5jZSgpLmV4cG9ydHNbc3ltYm9sXSksXG4gICAgICAgICAgICAgICAgZyA9IHt9O1xuICAgICAgICAgICAgZm9yIChsZXQgaW1wIG9mIGltcG9ydHMpIHtcbiAgICAgICAgICAgICAgICBpZiAoaW1wLmtpbmQgPT09ICdmdW5jdGlvbicgJiYgaW1wLm5hbWUuc3RhcnRzV2l0aCgnZyQnKSkge1xuICAgICAgICAgICAgICAgICAgICBsZXQgbmFtZSA9IGltcC5uYW1lLnNsaWNlKDIpLFxuICAgICAgICAgICAgICAgICAgICAgICAgYnVkOiBXZWJBc3NlbWJseS5FeHBvcnRWYWx1ZSB8IFdlYkFzc2VtYmx5Lk1vZHVsZUV4cG9ydERlc2NyaXB0b3I7XG4gICAgICAgICAgICAgICAgICAgIGlmIChidWQgPSBtYWluLmV4cG9ydHNbbmFtZV0pXG4gICAgICAgICAgICAgICAgICAgICAgICBnW2ltcC5uYW1lXSA9ICgpID0+IGJ1ZDtcbiAgICAgICAgICAgICAgICAgICAgZWxzZSBpZiAoYnVkID0gZXhwb3J0cy5maW5kKCh3ZWQpID0+IHdlZC5uYW1lID09IG5hbWUpKVxuICAgICAgICAgICAgICAgICAgICAgICAgZ1tpbXAubmFtZV0gPSAoKSA9PiByZXNvbHZlKG5hbWUpXG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfVxuICAgICAgICAgICAgcmV0dXJuIGc7XG4gICAgICAgIH1cblxuICAgICAgICBfbWtnbG9iYWwoaW5pdGlhbDogaTMyID0gMHhERUFEQkVFRikge1xuICAgICAgICAgICAgcmV0dXJuIG5ldyBXZWJBc3NlbWJseS5HbG9iYWwoe3ZhbHVlOidpMzInLCBtdXRhYmxlOnRydWV9LCBpbml0aWFsKTtcbiAgICAgICAgfVxuICAgIH1cblxuICAgIGV4cG9ydCB0eXBlIFJlZiA9IHtcbiAgICAgICAgZGVmOiBEZWZcbiAgICAgICAgaW5zdGFuY2U/OiBXZWJBc3NlbWJseS5JbnN0YW5jZVxuICAgIH07XG5cbiAgICBleHBvcnQgdHlwZSBSZWxvY2F0aW9ucyA9IHtcbiAgICAgICAganM/OiB7W3N5bTogc3RyaW5nXTogRnVuY3Rpb259XG4gICAgfTtcblxufVxuXG5cbnR5cGUgaTMyID0gbnVtYmVyO1xuXG50eXBlIEdsb2JhbHNNb2R1bGUgPSB7W25hbWU6IHN0cmluZ106IFdlYkFzc2VtYmx5Lkdsb2JhbH07XG50eXBlIEdsb2JhbHMgPSB7W21vZHVsZTogc3RyaW5nXTogR2xvYmFsc01vZHVsZX07XG5cbmNvbnN0IEVNX0dMT0JBTF9OUyA9IC9eR09UWy5dLywgIC8qIEdPVC5tZW0gJiBHT1QuZnVuYyAqL1xuICAgICAgRU1fQUxJQVNFUyA9IHtmaXByaW50ZjogJ2ZwcmludGYnfTtcblxuZnVuY3Rpb24gYmluZEFsbChpbnN0YW5jZTogYW55LCBtZXRob2RzOiBzdHJpbmdbXSkge1xuICAgIHJldHVybiBtZXRob2RzLnJlZHVjZSgoZCwgbSkgPT5cbiAgICAgICAgT2JqZWN0LmFzc2lnbihkLCB7W21dOiBpbnN0YW5jZVttXS5iaW5kKGluc3RhbmNlKX0pLCB7fSk7XG59XG5cblxuXG5leHBvcnQgeyBEeW5hbWljTG9hZGVyLCBEeW5hbWljTGlicmFyeSB9XG4iLCAiXG5jb25zdCBjb25zdGFudHMgPSB7XG4gICAgT19SRE9OTFk6IDAsXG4gICAgT19XUk9OTFk6IDEsXG4gICAgT19SRFdSOiAyLFxuICAgIFNfSUZNVDogNjE0NDAsXG4gICAgU19JRlJFRzogMzI3NjgsXG4gICAgU19JRkRJUjogMTYzODQsXG4gICAgU19JRkNIUjogODE5MixcbiAgICBTX0lGQkxLOiAyNDU3NixcbiAgICBTX0lGSUZPOiA0MDk2LFxuICAgIFNfSUZMTks6IDQwOTYwLFxuICAgIFNfSUZTT0NLOiA0OTE1MixcbiAgICBPX0NSRUFUOiA1MTIsXG4gICAgT19FWENMOiAyMDQ4LFxuICAgIE9fTk9DVFRZOiAxMzEwNzIsXG4gICAgT19UUlVOQzogMTAyNCxcbiAgICBPX0FQUEVORDogOCxcbiAgICBPX0RJUkVDVE9SWTogMTA0ODU3NixcbiAgICBPX05PRk9MTE9XOiAyNTYsXG4gICAgT19TWU5DOiAxMjgsXG4gICAgT19EU1lOQzogNDE5NDMwNCxcbiAgICBPX1NZTUxJTks6IDIwOTcxNTIsXG4gICAgT19OT05CTE9DSzogNCxcbiAgICBTX0lSV1hVOiA0NDgsXG4gICAgU19JUlVTUjogMjU2LFxuICAgIFNfSVdVU1I6IDEyOCxcbiAgICBTX0lYVVNSOiA2NCxcbiAgICBTX0lSV1hHOiA1NixcbiAgICBTX0lSR1JQOiAzMixcbiAgICBTX0lXR1JQOiAxNixcbiAgICBTX0lYR1JQOiA4LFxuICAgIFNfSVJXWE86IDcsXG4gICAgU19JUk9USDogNCxcbiAgICBTX0lXT1RIOiAyLFxuICAgIFNfSVhPVEg6IDEsXG4gICAgRl9PSzogMCxcbiAgICBSX09LOiA0LFxuICAgIFdfT0s6IDIsXG4gICAgWF9PSzogMSxcbiAgICBVVl9GU19DT1BZRklMRV9FWENMOiAxLFxuICAgIENPUFlGSUxFX0VYQ0w6IDEgfTtcblxuXG5jbGFzcyBGc1NlcnZpY2VzIHtcblxuICAgIGNvbnN0YW50cyA9IGNvbnN0YW50cztcblxuICAgIHN0cm1vZGUobW9kZTogbnVtYmVyKSB7XG4gICAgICAgIGNvbnN0IGMgPSBjb25zdGFudHM7XG4gICAgICAgIGxldCByZXQgPSAnJztcblxuICAgICAgICAvL3N3aXRjaCAobW9kZSAmIGMuU19JRk1UKSB7XG4gICAgICAgIGxldCBkID0geyBbYy5TX0lGRElSXTogJ2QnLCBbYy5TX0lGQ0hSXTogJ2MnLCBbYy5TX0lGQkxLXTogJ2InLCBcbiAgICAgICAgICAgICAgICAgIFtjLlNfSUZSRUddOiAnLScsIFtjLlNfSUZMTktdOiAnbCcsIFtjLlNfSUZTT0NLXTogJ3MnLFxuICAgICAgICAgICAgICAgICAgW2MuU19JRklGT106ICdwJyB9O1xuICAgICAgICByZXQgKz0gZFttb2RlICYgYy5TX0lGTVRdIHx8ICc/JztcbiAgICAgICAgLyogdXNlciAqL1xuICAgICAgICByZXQgKz0gKG1vZGUgJiBjLlNfSVJVU1IpID8gJ3InIDogJy0nO1xuICAgICAgICByZXQgKz0gKG1vZGUgJiBjLlNfSVdVU1IpID8gJ3cnIDogJy0nO1xuICAgICAgICByZXQgKz0gKG1vZGUgJiBjLlNfSVhVU1IpID8gJ3gnIDogJy0nOyAgLyogQHRvZG86IElTVUlEPyAqL1xuICAgICAgICAvKiBncm91cCAqL1xuICAgICAgICByZXQgKz0gKG1vZGUgJiBjLlNfSVJHUlApID8gJ3InIDogJy0nO1xuICAgICAgICByZXQgKz0gKG1vZGUgJiBjLlNfSVdHUlApID8gJ3cnIDogJy0nO1xuICAgICAgICByZXQgKz0gKG1vZGUgJiBjLlNfSVhHUlApID8gJ3gnIDogJy0nOyAgLyogQHRvZG86IElTR0lEPyAqL1xuICAgICAgICAvKiBvdGhlciAqL1xuICAgICAgICByZXQgKz0gKG1vZGUgJiBjLlNfSVJPVEgpID8gJ3InIDogJy0nO1xuICAgICAgICByZXQgKz0gKG1vZGUgJiBjLlNfSVdPVEgpID8gJ3cnIDogJy0nO1xuICAgICAgICByZXQgKz0gKG1vZGUgJiBjLlNfSVhPVEgpID8gJ3gnIDogJy0nOyAgLyogQHRvZG86IElTVlRYPyAqL1xuXG4gICAgICAgIHJldHVybiByZXQ7XG4gICAgfSAgIFxuIFxufVxuXG5jb25zdCBmcyA9IG5ldyBGc1NlcnZpY2VzO1xuXG5leHBvcnQge2ZzfVxuIiwgIlxuLy9kZWNsYXJlIGZ1bmN0aW9uIHV0ZjhlbmNvZGUodGV4dDogc3RyaW5nKTogVWludDhBcnJheTtcblxudmFyIHV0ZjhlbmNvZGU6ICh0ZXh0OiBzdHJpbmcpID0+IFVpbnQ4QXJyYXk7XG5cbmlmICh0eXBlb2YgVGV4dEVuY29kZXIgIT09ICd1bmRlZmluZWQnKSB7XG4gICAgdXRmOGVuY29kZSA9ICh0ZXh0OiBzdHJpbmcpID0+XG4gICAgICAgIG5ldyBUZXh0RW5jb2RlcigpLmVuY29kZSh0ZXh0KTtcbn1cbmVsc2Uge1xuICAgIHV0ZjhlbmNvZGUgPSAodGV4dDogc3RyaW5nKSA9PiBCdWZmZXIuZnJvbSh0ZXh0KTtcbn1cblxudmFyIHV0ZjhkZWNvZGU6ICh1aThhOiBVaW50OEFycmF5KSA9PiBzdHJpbmc7XG5cbmlmICh0eXBlb2YgVGV4dERlY29kZXIgIT09ICd1bmRlZmluZWQnKSB7XG4gICAgdXRmOGRlY29kZSA9ICh1aThhOiBVaW50OEFycmF5KSA9PlxuICAgICAgICBuZXcgVGV4dERlY29kZXIoKS5kZWNvZGUodWk4YSk7XG59XG5lbHNlIHtcbiAgICB1dGY4ZGVjb2RlID0gKHVpOGE6IFVpbnQ4QXJyYXkpID0+IEJ1ZmZlci5mcm9tKHVpOGEpLnRvU3RyaW5nKCd1dGYtOCcpO1xufVxuXG5leHBvcnQgeyB1dGY4ZW5jb2RlLCB1dGY4ZGVjb2RlIH1cbiIsICJpbXBvcnQgYXNzZXJ0IGZyb20gJ2Fzc2VydCc7XG5pbXBvcnQgcGF0aCBmcm9tICdwYXRoJztcbmltcG9ydCB7IEV2ZW50RW1pdHRlciB9IGZyb20gJ2V2ZW50cyc7XG5cbmltcG9ydCAqIGFzIGNvbnN0YW50cyBmcm9tICdAd2FzbWVyL3dhc2kvbGliL2NvbnN0YW50cyc7XG5cbmltcG9ydCBzdHVicyBmcm9tICcuL3N0dWJzJztcbmltcG9ydCB7IEV4ZWNDb3JlIH0gZnJvbSAnLi4vZXhlYyc7XG5pbXBvcnQgeyBCdWZmZXIgfSBmcm9tICdidWZmZXInO1xuaW1wb3J0IHsgU2hhcmVkUXVldWUgfSBmcm9tICcuL3F1ZXVlJztcbmltcG9ydCB7IER5bmFtaWNMb2FkZXIgfSBmcm9tICcuL2R5bGQnO1xuaW1wb3J0IHsgZnMgfSBmcm9tICcuL2ZzJztcbmltcG9ydCB7IHV0ZjhkZWNvZGUgfSBmcm9tICcuLi9iaW5kaW5ncy91dGY4JztcblxuXG5cbmNsYXNzIFByb2MgZXh0ZW5kcyBFdmVudEVtaXR0ZXIge1xuXG4gICAgY29yZTogRXhlY0NvcmVcbiAgICBvcHRzOiBQcm9jT3B0aW9uc1xuXG4gICAgc2lndmVjOiBTaWduYWxWZWN0b3JcbiAgICBjaGlsZHE6IENoaWxkUHJvY2Vzc1F1ZXVlXG4gICAgZHlsZDogRHluYW1pY0xvYWRlclxuXG4gICAgY2hpbGRzZXQ6IFNldDxudW1iZXI+XG4gICAgb25Kb2luOiAob25zZXQ6IEV4ZWN2Q2FsbCB8IEVycm9yKSA9PiB2b2lkXG5cbiAgICBwZW5kaW5nOiAoKCkgPT4gdm9pZClbXVxuXG4gICAgZnVuY1RhYmxlPzogV2ViQXNzZW1ibHkuVGFibGVcblxuICAgIGRlYnVnOiAoLi4uYXJnczogYW55KSA9PiB2b2lkXG5cbiAgICBjb25zdHJ1Y3Rvcihjb3JlOiBFeGVjQ29yZSwgb3B0czogUHJvY09wdGlvbnM9e30pIHtcbiAgICAgICAgc3VwZXIoKTtcbiAgICAgICAgdGhpcy5jb3JlID0gY29yZTtcbiAgICAgICAgdGhpcy5vcHRzID0gb3B0cztcblxuICAgICAgICB0aGlzLnNpZ3ZlYyA9IG5ldyBTaWduYWxWZWN0b3I7XG4gICAgICAgIHRoaXMuc2lndmVjLm9uKCdzaWduYWwnLCBldiA9PiB0aGlzLmVtaXQoJ3N5c2NhbGwnLCB7XG4gICAgICAgICAgICBmdW5jOiAnc2lnbmFsJyxcbiAgICAgICAgICAgIGRhdGE6IGV2XG4gICAgICAgIH0pKTtcblxuICAgICAgICB0aGlzLmNoaWxkcSA9IG5ldyBTaGFyZWRRdWV1ZSh7ZGF0YTogbmV3IFVpbnQzMkFycmF5KG5ldyBNYXliZVNoYXJlZEFycmF5QnVmZmVyKDQgKiAxMjgpKX0pO1xuICAgICAgICB0aGlzLmNoaWxkc2V0ID0gbmV3IFNldDtcblxuICAgICAgICB0aGlzLmR5bGQgPSBuZXcgRHluYW1pY0xvYWRlcihjb3JlKTtcblxuICAgICAgICB0aGlzLnBlbmRpbmcgPSBbXTtcbiAgICB9XG5cbiAgICBpbml0KCkge1xuICAgICAgICBjb25zdCBuZXdmZCA9IHRoaXMubmV3ZmQoKSArIDEsICAvKiB0aGUgKzEgaXMgYSBoYWNrIHRoYXQgSSBkbyBub3QgZnVsbHkgdW5kZXJzdGFuZCAqL1xuICAgICAgICAgICAgICBmZGN3ZDogYW55ID0geyAgLyogdHlwZSBGaWxlIGlzIG5vdCBleHBvcnRlZCBieSB3YXNtZXIgOiggKi9cbiAgICAgICAgICAgICAgICAgIHJlYWw6IG5ld2ZkLFxuICAgICAgICAgICAgICAgICAgcmlnaHRzOiBSSUdIVFNfQUxMLCAgLy8gdWhtXG4gICAgICAgICAgICAgICAgICBmaWxldHlwZTogY29uc3RhbnRzLldBU0lfRklMRVRZUEVfRElSRUNUT1JZLFxuICAgICAgICAgICAgICAgICAgcGF0aDogJy4nLFxuICAgICAgICAgICAgICAgICAgZmFrZVBhdGg6ICcuJ1xuICAgICAgICAgICAgICB9O1xuICAgICAgICB0aGlzLmNvcmUud2FzaS5GRF9NQVAuc2V0KEFUX0ZEQ1dELCBmZGN3ZCk7XG4gICAgICAgIHRoaXMuY29yZS53YXNpLkZEX01BUC5zZXQobmV3ZmQsIGZkY3dkKTsgIC8vIGxhc3Qga2V5IGluc2VydGVkIG11c3QgYmUgdGhlIGxhcmdlc3RcblxuICAgICAgICB0aGlzLmNvcmUud2FzbUZzLmZzLndyaXRlRmlsZVN5bmMoJy9kZXYvbnVsbCcsICcnKTtcbiAgICB9XG5cbiAgICBnZXQgaW1wb3J0KCkge1xuICAgICAgICB0aGlzLnNpZ3ZlYy5kZWJ1ZyA9IHRoaXMuZGVidWc7XG5cbiAgICAgICAgaWYgKCF0aGlzLmZ1bmNUYWJsZSkge1xuICAgICAgICAgICAgdGhpcy5mdW5jVGFibGUgPSBuZXcgV2ViQXNzZW1ibHkuVGFibGUoe1xuICAgICAgICAgICAgICAgIGluaXRpYWw6IHRoaXMub3B0cy5mdW5jVGFibGVTeiB8fCAxMDI0LCBcbiAgICAgICAgICAgICAgICBlbGVtZW50OiAnYW55ZnVuYydcbiAgICAgICAgICAgIH0pO1xuICAgICAgICB9XG5cbiAgICAgICAgcmV0dXJuIHtcbiAgICAgICAgICAgIC4uLnN0dWJzLFxuICAgICAgICAgICAgX19pbmRpcmVjdF9mdW5jdGlvbl90YWJsZTogdGhpcy5mdW5jVGFibGUsIFxuICAgICAgICAgICAgLi4uYmluZEFsbCh0aGlzLCBbXG4gICAgICAgICAgICAgICAgJ2dldGV1aWQnLCAnc3RybW9kZScsXG4gICAgICAgICAgICAgICAgJ19fY29udHJvbF9zZXRqbXAnLCAnX19jb250cm9sX3NldGptcF93aXRoX3JldHVybicsXG4gICAgICAgICAgICAgICAgJ3NldGptcCcsICdsb25nam1wJywgJ3NpZ3NldGptcCcsICdzaWdsb25nam1wJyxcbiAgICAgICAgICAgICAgICAndmZvcmsnLCAnX19jb250cm9sX2ZvcmsnLCAnd2FpdCcsICd3YWl0MycsICdleGVjdmUnLFxuICAgICAgICAgICAgICAgICdzaWdraWxsJywgJ3NpZ3N1c3BlbmQnLCAnc2lnYWN0aW9uJyxcbiAgICAgICAgICAgICAgICAnZ2V0cGFnZXNpemUnLCAncG9zaXhfc3Bhd24nXSksXG4gICAgICAgICAgICAuLi50aGlzLmR5bGQuaW1wb3J0XG4gICAgICAgIH07XG4gICAgfVxuXG4gICAgZ2V0IGV4dGxpYigpIHtcbiAgICAgICAgcmV0dXJuIHtcbiAgICAgICAgICAgIC4uLmJpbmRBbGwodGhpcywgWyd0cmFjZScsICdzb3JyeScsICdkdXBmZCcsXG4gICAgICAgICAgICAgICAgJ3Byb2duYW1lX2dldCcsICdsb2dpbl9nZXQnXSksXG4gICAgICAgICAgICAuLi50aGlzLmR5bGQuZXh0bGliXG4gICAgICAgIH07XG4gICAgfVxuXG4gICAgZ2V0IHBhdGgoKSB7XG4gICAgICAgIHJldHVybiB7Li4ucGF0aCxcbiAgICAgICAgICAgIHJlc29sdmU6IChkaXI6IHN0cmluZywgLi4ucGF0aHM6IHN0cmluZ1tdKSA9PiB7XG4gICAgICAgICAgICAgICAgaWYgKGRpciA9PSAnLicpIGRpciA9IHRoaXMuY29yZS5lbnYuUFdEOyAvKiBmb3IgQVRfRkRDV0QgKi9cbiAgICAgICAgICAgICAgICByZXR1cm4gcGF0aC5yZXNvbHZlKGRpciB8fCAnLycsIC4uLnBhdGhzKVxuICAgICAgICAgICAgfVxuICAgICAgICB9O1xuICAgIH1cblxuICAgIGdldCBtZW0oKTogRGF0YVZpZXcge1xuICAgICAgICB0aGlzLmNvcmUud2FzaS5yZWZyZXNoTWVtb3J5KCk7XG4gICAgICAgIHJldHVybiB0aGlzLmNvcmUud2FzaS52aWV3O1xuICAgIH1cblxuICAgIGdldCBtZW1idWYoKTogQnVmZmVyIHtcbiAgICAgICAgcmV0dXJuIEJ1ZmZlci5mcm9tKHRoaXMuY29yZS53YXNpLm1lbW9yeS5idWZmZXIpOyAgICAgICAgXG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogVGhpcyBpcyBhIG5hc3R5IGhhY2sgYW5kIHNvIGRlc2VydmVzIGFuIGFwb2xvZ3kuXG4gICAgICovXG4gICAgc29ycnkoKSB7XG4gICAgICAgIGZvciAodmFyIGY6ICgpID0+IHZvaWQ7IGYgPSB0aGlzLnBlbmRpbmcucG9wKCk7IGYoKSk7XG4gICAgfVxuXG4gICAgLy8gLS0tLS0tLS0tLS0tLS0tLVxuICAgIC8vIEVudmlyb25tZW50IFBhcnRcbiAgICAvLyAtLS0tLS0tLS0tLS0tLS0tXG5cbiAgICBnZXRlbnZfYWxsKCkge1xuICAgICAgICB2YXIgd2FzaWtfZW52aXJvbiA9IHRoaXMuY29yZS53YXNtLmluc3RhbmNlLmV4cG9ydHMud2FzaWtfZW52aXJvbjtcbiAgICAgICAgcmV0dXJuICh0eXBlb2Ygd2FzaWtfZW52aXJvbiA9PT0gJ2Z1bmN0aW9uJylcbiAgICAgICAgICAgID8gdGhpcy5wYXJzZV9lbnYod2FzaWtfZW52aXJvbigpKSA6IHt9O1xuICAgIH1cblxuICAgIHBhcnNlX2VudihlbnZpcm9uOiBpMzIpOiB7W25hbWU6IHN0cmluZ106IHN0cmluZ30ge1xuICAgICAgICB2YXIgZCA9IHt9O1xuICAgICAgICBmb3IgKGxldCBlbnZ2YXIgb2YgdGhpcy51c2VyR2V0Q1N0cmluZ3MoZW52aXJvbikpIHtcbiAgICAgICAgICAgIHRoaXMuX3BhcnNlX2VudnZhcihlbnZ2YXIsIGQpO1xuICAgICAgICB9XG4gICAgICAgIHJldHVybiBkO1xuICAgIH1cblxuICAgIF9wYXJzZV9lbnZ2YXIoYnVmOiBVaW50OEFycmF5LCBkOiBvYmplY3QpIHtcbiAgICAgICAgdHJ5IHtcbiAgICAgICAgICAgIHZhciB0ZXh0ID0gbmV3IFRleHREZWNvZGVyKCkuZGVjb2RlKGJ1ZiksXG4gICAgICAgICAgICAgICAgbW8gPSB0ZXh0Lm1hdGNoKC9eKC4qPyk9KC4qKSQvKTtcbiAgICAgICAgICAgIGlmIChtbykgZFttb1sxXV0gPSBtb1syXTtcbiAgICAgICAgICAgIGVsc2UgY29uc29sZS53YXJuKGBpbnZhbGlkIGVudnZhcj8gJyR7dGV4dH0nYCk7XG4gICAgICAgIH1cbiAgICAgICAgY2F0Y2ggKGUpIHsgY29uc29sZS53YXJuKCdwYXJzZV9lbnYnLCBlKTsgfVxuICAgIH1cblxuICAgIHByb2duYW1lX2dldChwYnVmOiBpMzIpIHtcbiAgICAgICAgdmFyIHJldCA9IHRoaXMuY29yZS5hcmd2WzBdICsgJ1xcMCc7XG4gICAgICAgIHJldHVybiB0aGlzLnVzZXJDU3RyaW5nTWFsbG9jKHJldCwgcGJ1Zik7XG4gICAgfVxuXG4gICAgbG9naW5fZ2V0KHBidWY6IGkzMikge1xuICAgICAgICB2YXIgcmV0ID0gJ3VzZXInICsgJ1xcMCc7XG4gICAgICAgIHJldHVybiB0aGlzLnVzZXJDU3RyaW5nTWFsbG9jKHJldCwgcGJ1Zik7XG4gICAgfVxuXG4gICAgZ2V0ZXVpZCgpIHtcbiAgICAgICAgcmV0dXJuIDA7XG4gICAgfVxuXG4gICAgdHJhY2UobWVzc2FnZTogaTMyKSB7XG4gICAgICAgIHZhciBidWYgPSB0aGlzLnVzZXJHZXRDU3RyaW5nKG1lc3NhZ2UpO1xuICAgICAgICB0aGlzLmNvcmUudHJhY2UudXNlcihidWYpO1xuICAgIH1cblxuICAgIC8vIC0tLS0tLS0tLS1cbiAgICAvLyBGaWxlcyBQYXJ0XG4gICAgLy8gLS0tLS0tLS0tLVxuXG4gICAgcmVhbHBhdGgoZmlsZV9uYW1lOiBpMzIsIHJlc29sdmVkX25hbWU6IGkzMikge1xuICAgICAgICB2YXIgYXJnID0gdGhpcy51c2VyR2V0Q1N0cmluZyhmaWxlX25hbWUpO1xuICAgICAgICAvKiBAdG9kbyBhbGxvY2F0ZSByZXNvbHZlZF9uYW1lIGlmIG51bGwgKi9cbiAgICAgICAgaWYgKHJlc29sdmVkX25hbWUgPT09IDApIHRocm93ICdyZWFscGF0aCgwKTogbm90IGltcGxlbWVudGVkJztcbiAgICAgICAgbGV0IHJldCA9IHBhdGgucmVzb2x2ZSh0aGlzLmNvcmUuZW52LlBXRCwgdXRmOGRlY29kZShhcmcpKSArICdcXDAnO1xuICAgICAgICBpZiAocmV0Lmxlbmd0aCA+IFBBVEhfTUFYKSB0aHJvdyB7ZXJybm86IDEsIGNvZGU6ICdFUkFOR0UnfTtcbiAgICAgICAgdGhpcy5tZW1idWYud3JpdGUocmV0LCByZXNvbHZlZF9uYW1lKTtcbiAgICAgICAgcmV0dXJuIHJlc29sdmVkX25hbWU7XG4gICAgfVxuXG4gICAgbmV3ZmQobWluZmQ6IG51bWJlciA9IDApIHtcbiAgICAgICAgdmFyIGhpZ2hlc3QgPSBNYXRoLm1heCguLi50aGlzLmNvcmUud2FzaS5GRF9NQVAua2V5cygpKTtcbiAgICAgICAgcmV0dXJuIE1hdGgubWF4KG1pbmZkLCBoaWdoZXN0ICsgMSk7XG4gICAgfVxuXG4gICAgZHVwZmQoZmQ6IGkzMiwgbWluZmQ6IGkzMiwgY2xvZXhlYzogYm9vbGVhbikge1xuICAgICAgICB0aGlzLmNvcmUudHJhY2Uuc3lzY2FsbHMoYGR1cGZkKCR7ZmR9LCAke21pbmZkfSwgJHtjbG9leGVjfWApO1xuICAgICAgICB2YXIgZGVzYyA9IHRoaXMuY29yZS53YXNpLkZEX01BUC5nZXQoZmQpO1xuICAgICAgICBpZiAoIWRlc2MpIHJldHVybiAtMTtcblxuICAgICAgICB2YXIgbmV3ZmQgPSB0aGlzLm5ld2ZkKG1pbmZkKTtcbiAgICAgICAgdGhpcy5jb3JlLndhc2kuRkRfTUFQLnNldChuZXdmZCwgdGhpcy5kdXBkZXNjKGRlc2MpKTtcbiAgICAgICAgcmV0dXJuIG5ld2ZkO1xuICAgIH1cblxuICAgIGR1cGRlc2MoZGVzYzoge3JlYWw6IG51bWJlcn0pOiBhbnkgLyogRmlsZSBpcyBub3QgZXhwb3J0ZWQgZnJvbSBAd2FzbWVyL3dhc2kgKi8ge1xuICAgICAgICAvLyBBIGhhY2sgdG8gZ2V0IGEgbmV3IFwicmVhbFwiIGZkXG4gICAgICAgIHZhciBuZXdyZWFsID0gdGhpcy5jb3JlLndhc21Gcy52b2x1bWUub3BlblN5bmMoJy8nLCAncicpO1xuICAgICAgICAvLyAtIHRoaXMgaGVhdmlseSByZWxpZXMgb24gdGhlIG1lbWZzIGltcGxlbWVudGF0aW9uIG9mIFZvbHVtZVxuICAgICAgICB2YXIgcmVhbEZEX01BUCA9IHRoaXMuY29yZS53YXNtRnMudm9sdW1lLmZkcztcbiAgICAgICAgcmVhbEZEX01BUFtuZXdyZWFsXSA9IHJlYWxGRF9NQVBbZGVzYy5yZWFsXTtcbiAgICAgICAgcmV0dXJuIE9iamVjdC5hc3NpZ24oe30sIGRlc2MsIHtyZWFsOiBuZXdyZWFsfSk7XG4gICAgfVxuXG4gICAgc3RybW9kZShtb2RlOiBpMzIsIGJ1ZjogaTMyKSB7XG4gICAgICAgIGxldCByZXQgPSBmcy5zdHJtb2RlKG1vZGUpICsgJ1xcMCc7XG4gICAgICAgIHRoaXMubWVtYnVmLndyaXRlKHJldCwgYnVmKTtcbiAgICB9XG5cbiAgICAvLyAtLS0tLS0tLS0tLS1cbiAgICAvLyBDb250cm9sIFBhcnRcbiAgICAvLyAtLS0tLS0tLS0tLS1cblxuICAgIF9fY29udHJvbF9zZXRqbXAoZW52OiBpMzIsIGJsb2NrOiBpMzIpIHtcbiAgICAgICAgdGhpcy5kZWJ1ZyhgX19jb250cm9sX3NldGptcCBbJHtlbnZ9LCAke2Jsb2NrfV1gKTtcbiAgICAgICAgdGhpcy5tZW0uc2V0VWludDMyKGVudiwgMCk7ICAvLyBzZXQgam1wYnVmWzBdLnJldCA9IDBcbiAgICAgICAgbGV0IGltcGwgPSB0aGlzLmJsb2NrSW1wbChibG9jayksIHZhbCA9IDA7XG4gICAgICAgIHRyeSB7XG4gICAgICAgICAgICB3aGlsZSAodHJ1ZSkge1xuICAgICAgICAgICAgICAgIHRyeSB7XG4gICAgICAgICAgICAgICAgICAgIHJldHVybiBpbXBsKHZhbCk7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIGNhdGNoIChlKSB7XG4gICAgICAgICAgICAgICAgICAgIHRoaXMuZGVidWcoYHNldGptcCBjYXVnaHQgJHtKU09OLnN0cmluZ2lmeShlKX1gKTtcbiAgICAgICAgICAgICAgICAgICAgaWYgKGUgaW5zdGFuY2VvZiBMb25nam1wICYmIGUuZW52ID09IGVudilcbiAgICAgICAgICAgICAgICAgICAgICAgIHZhbCA9IGUudmFsO1xuICAgICAgICAgICAgICAgICAgICBlbHNlXG4gICAgICAgICAgICAgICAgICAgICAgICB0aHJvdyBlO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgICBmaW5hbGx5IHtcbiAgICAgICAgICAgIHRoaXMuZGVidWcoYF9fY29udHJvbF9zZXRqbXAgZXhpdGluZ2ApO1xuICAgICAgICB9XG4gICAgfVxuXG4gICAgX19jb250cm9sX3NldGptcF93aXRoX3JldHVybihlbnY6IGkzMiwgYmxvY2s6IGkzMikge1xuICAgICAgICByZXR1cm4gdGhpcy5fX2NvbnRyb2xfc2V0am1wKGVudiwgYmxvY2spO1xuICAgIH1cblxuICAgIHNldGptcChlbnY6IGkzMikge1xuICAgICAgICBjb25zb2xlLndhcm4oJ3NldGptcCcsIGVudik7XG4gICAgICAgIHJldHVybiAwO1xuICAgIH1cblxuICAgIGxvbmdqbXAoZW52OiBpMzIsIHZhbDogaTMyKSB7XG4gICAgICAgIHRoaXMuZGVidWcoYGxvbmdqbXAgWyR7ZW52fV0gJHt2YWx9YCk7XG4gICAgICAgIHRocm93IG5ldyBMb25nam1wKGVudiwgdmFsKTtcbiAgICB9XG5cbiAgICBzaWdzZXRqbXAoZW52OiBpMzIsIHNhdmVfbWFzazogaTMyKSB7XG4gICAgICAgIHRoaXMuY29yZS50cmFjZS5zeXNjYWxscyhgc2lnc2V0am1wKCR7ZW52fSwgJHtzYXZlX21hc2t9KWApO1xuICAgICAgICByZXR1cm4gMDtcbiAgICB9XG5cbiAgICBzaWdsb25nam1wKGVudjogaTMyLCB2YWw6IGkzMikge1xuICAgICAgICB0aGlzLmxvbmdqbXAoZW52LCB2YWwpO1xuICAgIH1cblxuICAgIHZmb3JrKCkge1xuICAgICAgICB0aGlzLmNvcmUudHJhY2Uuc3lzY2FsbHMoJ3Zmb3JrKCknKTtcbiAgICAgICAgdmFyIHBpZCA9IE1hdGgubWF4KDAsIC4uLnRoaXMuY2hpbGRzZXQpICsgMTtcbiAgICAgICAgdGhpcy5jaGlsZHNldC5hZGQocGlkKTtcbiAgICAgICAgdGhpcy5vbkpvaW4gPSAob25zZXQ6IEV4ZWN2Q2FsbCB8IEVycm9yKSA9PiB7XG4gICAgICAgICAgICBpZiAob25zZXQgaW5zdGFuY2VvZiBFeGVjdkNhbGwpIHtcbiAgICAgICAgICAgICAgICBsZXQgZSA9IG9uc2V0O1xuICAgICAgICAgICAgICAgIHRoaXMuZW1pdCgnc3lzY2FsbCcsIHtcbiAgICAgICAgICAgICAgICAgICAgZnVuYzogJ3NwYXduJywgXG4gICAgICAgICAgICAgICAgICAgIGRhdGE6IHtwaWQsIGV4ZWN2OiBlLmNvcHkoKSwgZW52OiB0aGlzLmdldGVudl9hbGwoKX1cbiAgICAgICAgICAgICAgICB9KTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGVsc2UgdGhyb3cgb25zZXQ7XG4gICAgICAgIH07XG4gICAgICAgIHJldHVybiBwaWQ7XG4gICAgfVxuXG4gICAgX19jb250cm9sX2ZvcmsodjE6IGkzMiwgdjI6IGkzMiwgYmxvY2s6IGkzMikge1xuICAgICAgICBsZXQgaW1wbCA9IHRoaXMuYmxvY2tJbXBsKGJsb2NrKTtcbiAgICAgICAgdHJ5IHtcbiAgICAgICAgICAgIGltcGwodjEpO1xuICAgICAgICAgICAgaWYgKHRoaXMub25Kb2luKSB0aGlzLm9uSm9pbihudWxsKTtcbiAgICAgICAgfVxuICAgICAgICBjYXRjaCAoZSkge1xuICAgICAgICAgICAgaWYgKHRoaXMub25Kb2luKSB0aGlzLm9uSm9pbihlKTtcbiAgICAgICAgfVxuICAgICAgICB0aGlzLm9uSm9pbiA9IG51bGw7XG4gICAgICAgIGltcGwodjIpO1xuICAgIH1cblxuICAgIGV4ZWN2ZShwYXRoOiBpMzIsIGFyZ3Y6IGkzMiwgZW52cDogaTMyKSB7XG4gICAgICAgIHRoaXMuY29yZS50cmFjZS5zeXNjYWxscyhgZXhlY3YoJHtwYXRofSwgJHthcmd2fSwgJHtlbnZwfSlgKTtcbiAgICAgICAgdGhyb3cgbmV3IEV4ZWN2Q2FsbChcbiAgICAgICAgICAgIHV0ZjhkZWNvZGUodGhpcy51c2VyR2V0Q1N0cmluZyhwYXRoKSksXG4gICAgICAgICAgICB0aGlzLnVzZXJHZXRDU3RyaW5ncyhhcmd2KSxcbiAgICAgICAgICAgIHRoaXMudXNlckdldENTdHJpbmdzKGVudnApKTtcbiAgICB9XG5cbiAgICBwb3NpeF9zcGF3bihwaWQ6IGkzMiwgcGF0aDogaTMyLCBmaWxlX2FjdGlvbnM6IGkzMiwgYXR0cnA6IGkzMixcbiAgICAgICAgICAgICAgICBhcmd2OiBpMzIsIGVudnA6IGkzMikge1xuICAgICAgICB2YXIgcGF0aFN0ciA9IHV0ZjhkZWNvZGUodGhpcy51c2VyR2V0Q1N0cmluZyhwYXRoKSk7XG4gICAgICAgIHRoaXMuY29yZS50cmFjZS5zeXNjYWxscyhgcG9zaXhfc3Bhd24oJHtwaWR9LCBcIiR7cGF0aFN0cn1cIiwgJHtmaWxlX2FjdGlvbnN9LCAke2F0dHJwfSwgLi4ufSlgKTtcbiAgICAgICAgdmFyIGV4ZWN2ID0gbmV3IEV4ZWN2Q2FsbChcbiAgICAgICAgICAgICAgICAgICAgICAgIHBhdGhTdHIsXG4gICAgICAgICAgICAgICAgICAgICAgICB0aGlzLnVzZXJHZXRDU3RyaW5ncyhhcmd2KSxcbiAgICAgICAgICAgICAgICAgICAgICAgIHRoaXMudXNlckdldENTdHJpbmdzKGVudnApKSxcbiAgICAgICAgICAgIG5ld1BpZCA9IE1hdGgubWF4KDAsIC4uLnRoaXMuY2hpbGRzZXQpICsgMTtcblxuICAgICAgICB0aGlzLmVtaXQoJ3N5c2NhbGwnLCB7XG4gICAgICAgICAgICBmdW5jOiAnc3Bhd24nLCBcbiAgICAgICAgICAgIGRhdGE6IHtwaWQ6IG5ld1BpZCwgZXhlY3YsIGVudjogdGhpcy5jb3JlLmVudn1cbiAgICAgICAgfSk7XG4gICAgICAgIHRoaXMubWVtLnNldFVpbnQzMihwaWQsIG5ld1BpZCwgdHJ1ZSk7XG4gICAgICAgIHJldHVybiAwO1xuICAgIH1cblxuICAgIHdhaXQoc3RhdF9sb2M6IGkzMikge1xuICAgICAgICB0aGlzLmNvcmUudHJhY2Uuc3lzY2FsbHMoYHdhaXQoJHtzdGF0X2xvY30pYCk7XG4gICAgICAgIHJldHVybiB0aGlzLndhaXRCYXNlKHN0YXRfbG9jKTtcbiAgICB9XG5cbiAgICB3YWl0MyhzdGF0X2xvYzogaTMyLCBvcHRpb25zOiBpMzIsIHJ1c2FnZTogaTMyKSB7XG4gICAgICAgIHRoaXMuY29yZS50cmFjZS5zeXNjYWxscyhgd2FpdDMoJHtzdGF0X2xvY30sICR7b3B0aW9uc30sICR7cnVzYWdlfSlgKTtcbiAgICAgICAgcmV0dXJuIHRoaXMud2FpdEJhc2Uoc3RhdF9sb2MpO1xuICAgIH1cbiAgICBcbiAgICB3YWl0QmFzZShzdGF0X2xvYzogaTMyKSB7XG4gICAgICAgIHZhciBwaWQgPSB0aGlzLmNoaWxkcS5kZXF1ZXVlKCksXG4gICAgICAgICAgICBleGl0Y29kZSA9IHRoaXMuY2hpbGRxLmRlcXVldWUoKTtcbiAgICAgICAgdGhpcy5kZWJ1ZyhgICAtPiAke3BpZH1gKTtcbiAgICAgICAgaWYgKHN0YXRfbG9jICE9PSAwKVxuICAgICAgICAgICAgdGhpcy5tZW0uc2V0VWludDMyKHN0YXRfbG9jLCBleGl0Y29kZSA8PCA4LCB0cnVlKTtcbiAgICAgICAgcmV0dXJuIHBpZDtcbiAgICB9XG5cbiAgICAvLyAtIHNvbWUgaGVscGVyc1xuXG4gICAgdXNlckdldENTdHJpbmcoYWRkcjogaTMyKTogQnVmZmVyIHtcbiAgICAgICAgaWYgKGFkZHIgPT0gMCkgcmV0dXJuIG51bGw7XG4gICAgICAgIGxldCBtZW0gPSBCdWZmZXIuZnJvbSh0aGlzLmNvcmUud2FzaS5tZW1vcnkuYnVmZmVyKTtcbiAgICAgICAgcmV0dXJuIG1lbS5zbGljZShhZGRyLCBtZW0uaW5kZXhPZigwLCBhZGRyKSk7XG4gICAgfVxuXG4gICAgdXNlckdldENTdHJpbmdzKGFkZHI6IGkzMikge1xuICAgICAgICBpZiAoYWRkciA9PSAwKSByZXR1cm4gbnVsbDtcbiAgICAgICAgbGV0IGwgPSBbXTtcbiAgICAgICAgd2hpbGUoMSkge1xuICAgICAgICAgICAgbGV0IHMgPSB0aGlzLm1lbS5nZXRVaW50MzIoYWRkciwgdHJ1ZSk7XG4gICAgICAgICAgICBpZiAocyA9PT0gMCkgYnJlYWs7XG4gICAgICAgICAgICBsLnB1c2godGhpcy51c2VyR2V0Q1N0cmluZyhzKSk7XG4gICAgICAgICAgICBhZGRyICs9IDQ7XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuIGw7XG4gICAgfVxuXG4gICAgdXNlckNTdHJpbmdNYWxsb2Moczogc3RyaW5nLCBwYnVmOiBpMzIpIHtcbiAgICAgICAgdGhpcy5wZW5kaW5nLnB1c2goKCkgPT4ge1xuICAgICAgICAgICAgbGV0IGJ1ZiA9IHRoaXMubWVtLmdldFVpbnQzMihwYnVmLCB0cnVlKTtcbiAgICAgICAgICAgIHRoaXMubWVtYnVmLndyaXRlKHMsIGJ1Zik7XG4gICAgICAgIH0pO1xuICAgICAgICByZXR1cm4gcy5sZW5ndGg7XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogVXNlZCB0byBpbnZva2UgYmxvY2tzOiByZXR1cm5zIGEgZnVuY3Rpb25cbiAgICAgKiBAcGFyYW0gYmxvY2sgYSBDIGJsb2NrIHBvaW50ZXJcbiAgICAgKi9cbiAgICBibG9ja0ltcGwoYmxvY2s6IGkzMikge1xuICAgICAgICBsZXQgaW1wbCA9IHRoaXMuZnVuY1RhYmxlLmdldChcbiAgICAgICAgICAgIHRoaXMubWVtLmdldFVpbnQzMihibG9jayArIDEyLCB0cnVlKSk7XG4gICAgICAgIHJldHVybiAoLi4uYXJnczogYW55KSA9PiBpbXBsKGJsb2NrLCAuLi5hcmdzKTtcbiAgICB9XG5cbiAgICAvLyAtLS0tLS0tLS0tLS1cbiAgICAvLyBTaWduYWxzIFBhcnRcbiAgICAvLyAtLS0tLS0tLS0tLS1cblxuICAgIHNpZ2tpbGwoc2lnbnVtOiBudW1iZXIpIHtcbiAgICAgICAgdGhpcy5zaWd2ZWMuc2VuZChzaWdudW0pO1xuICAgIH1cblxuICAgIHNpZ3N1c3BlbmQoLyogLi4uICovKSB7XG4gICAgICAgIHRoaXMuc2lndmVjLnJlY2VpdmUoKTtcbiAgICB9XG5cbiAgICBzaWdhY3Rpb24oc2lnbnVtOiBpMzIsIGFjdDogaTMyLCBvYWN0OiBpMzIpIHtcbiAgICAgICAgdGhpcy5jb3JlLnRyYWNlLnN5c2NhbGxzKGBzaWdhY3Rpb24oJHtzaWdudW19LCAke2FjdH0sICR7b2FjdH0pYCk7XG4gICAgICAgIGlmIChhY3QgIT0gMCkge1xuICAgICAgICAgICAgdmFyIHNhX2hhbmRsZXIgPSB0aGlzLm1lbS5nZXRVaW50MzIoYWN0LCB0cnVlKTtcbiAgICAgICAgICAgIHZhciBoID0gPHNpZ2hhbmRsZXI+dGhpcy5mdW5jVGFibGUuZ2V0KHNhX2hhbmRsZXIpO1xuICAgICAgICAgICAgdGhpcy5jb3JlLnRyYWNlLnN5c2NhbGxzKCcgLS0+Jywgc2FfaGFuZGxlciwgaCk7XG4gICAgICAgICAgICB0aGlzLnNpZ3ZlYy5oYW5kbGVyc1tzaWdudW1dID0gaDtcbiAgICAgICAgfVxuICAgICAgICBpZiAob2FjdCAhPSAwKSB7XG4gICAgICAgICAgICB0aGlzLm1lbS5zZXRVaW50MzIob2FjdCwgMCk7IC8qKiBAdG9kbyBnZXQgcHJldmlvdXMgc2FfaGFuZGxlciAqL1xuICAgICAgICB9XG4gICAgfVxuXG4gICAgLy8gLS0tLS0tLS0tLS1cbiAgICAvLyBNZW1vcnkgUGFydFxuICAgIC8vIC0tLS0tLS0tLS0tXG5cbiAgICBnZXRwYWdlc2l6ZSgpIHtcbiAgICAgICAgcmV0dXJuIDQwOTY7XG4gICAgfVxuXG59XG5cbmNvbnN0IEFUX0ZEQ1dEID0gLTEwMDtcblxuY29uc3QgUklHSFRTX0FMTCA9IHtcbiAgICBiYXNlOiBjb25zdGFudHMuUklHSFRTX0FMTCxcbiAgICBpbmhlcml0aW5nOiBjb25zdGFudHMuUklHSFRTX0FMTFxufTtcblxudHlwZSBQcm9jT3B0aW9ucyA9IHtcbiAgICBmdW5jVGFibGVTej8gOiBudW1iZXJcbn07XG5cblxuY2xhc3MgU2lnbmFsVmVjdG9yIGV4dGVuZHMgRXZlbnRFbWl0dGVyIHtcblxuICAgIHdhaXQ6IEludDMyQXJyYXk7XG4gICAgX3NuYXBzaG90PzogSW50MzJBcnJheTtcbiAgICBoYW5kbGVyczogc2lnaGFuZGxlcltdO1xuXG4gICAgZGVidWc6ICguLi5hcmdzOiBhbnkpID0+IHZvaWRcblxuICAgIGNvbnN0cnVjdG9yKF9mcm9tOiBTaWduYWxWZWN0b3JQcm9wcz17fSkge1xuICAgICAgICBzdXBlcigpO1xuICAgICAgICB0aGlzLndhaXQgPSBfZnJvbS53YWl0IHx8IG5ldyBJbnQzMkFycmF5KG5ldyBNYXliZVNoYXJlZEFycmF5QnVmZmVyKDQgKiBOU0lHKSk7XG4gICAgICAgIHRoaXMuaGFuZGxlcnMgPSBBcnJheShOU0lHKTtcbiAgICB9XG5cbiAgICBzdGF0aWMgZnJvbShwcm9wczogU2lnbmFsVmVjdG9yUHJvcHMpIHsgcmV0dXJuIG5ldyBTaWduYWxWZWN0b3IocHJvcHMpOyB9XG5cbiAgICB0bygpOiBTaWduYWxWZWN0b3JQcm9wcyB7XG4gICAgICAgIHJldHVybiB7d2FpdDogdGhpcy53YWl0fTtcbiAgICB9XG5cbiAgICBzZW5kKHNpZ251bTogbnVtYmVyKSB7XG4gICAgICAgIGFzc2VydCgwIDwgc2lnbnVtICYmIHNpZ251bSA8IE5TSUcpO1xuICAgICAgICBBdG9taWNzLmFkZCh0aGlzLndhaXQsIDAsIDEpO1xuICAgICAgICBBdG9taWNzLmFkZCh0aGlzLndhaXQsIHNpZ251bSwgMSk7XG4gICAgICAgIEF0b21pY3Mubm90aWZ5KHRoaXMud2FpdCwgMCwgMSk7XG4gICAgfVxuXG4gICAgcmVjZWl2ZShzaWdudW1zPzogbnVtYmVyW10pIHtcbiAgICAgICAgaWYgKCF0aGlzLl9zbmFwc2hvdCkgdGhpcy5fc25hcHNob3QgPSBuZXcgSW50MzJBcnJheShOU0lHKTtcblxuICAgICAgICBBdG9taWNzLndhaXQodGhpcy53YWl0LCAwLCBBdG9taWNzLmxvYWQodGhpcy53YWl0LCAwKSk7XG5cbiAgICAgICAgdGhpcy5zd2VlcChzaWdudW1zKTtcbiAgICAgICAgcmV0dXJuIC0xO1xuICAgIH1cblxuICAgIHN3ZWVwKHNpZ251bXM/OiBudW1iZXJbXSkge1xuICAgICAgICBmb3IgKGxldCBpID0gMTsgaSA8IE5TSUc7IGkrKykge1xuICAgICAgICAgICAgaWYgKCFzaWdudW1zIHx8IHNpZ251bXMuaW5jbHVkZXMoaSkpIHtcbiAgICAgICAgICAgICAgICBsZXQgaCA9IHRoaXMuaGFuZGxlcnNbaV07XG4gICAgICAgICAgICAgICAgaWYgKGggJiYgdGhpcy5fc25hcHNob3RbaV0gPCB0aGlzLndhaXRbaV0pIHtcbiAgICAgICAgICAgICAgICAgICAgdGhpcy5kZWJ1ZygnY2FsbGluZycsIGgpO1xuICAgICAgICAgICAgICAgICAgICBoKGkpO1xuICAgICAgICAgICAgICAgIH0gXG4gICAgICAgICAgICAgICAgdGhpcy5fc25hcHNob3RbaV0gPSB0aGlzLndhaXRbaV07XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICB9XG5cbn1cblxuY29uc3QgUEFUSF9NQVggPSAyNTY7XG5cbnR5cGUgU2lnbmFsVmVjdG9yUHJvcHMgPSB7XG4gICAgd2FpdD86IEludDMyQXJyYXlcbn07XG5cbnR5cGUgaTMyID0gbnVtYmVyO1xudHlwZSBzaWdoYW5kbGVyID0gKHNpZ251bTogbnVtYmVyKSA9PiB2b2lkO1xuXG5jb25zdCBOU0lHID0gMjA7XG5cblxudHlwZSBDaGlsZFByb2Nlc3NRdWV1ZSA9IFNoYXJlZFF1ZXVlPFVpbnQzMkFycmF5PjtcblxuXG5jbGFzcyBFeGVjdkNhbGwge1xuICAgIHByb2c6IHN0cmluZ1xuICAgIGFyZ3Y6IEJ1ZmZlcltdXG4gICAgZW52cDogQnVmZmVyW11cbiAgICBjb25zdHJ1Y3Rvcihwcm9nOiBzdHJpbmcsIGFyZ3Y6IEJ1ZmZlcltdLCBlbnZwOiBCdWZmZXJbXSkge1xuICAgICAgICB0aGlzLnByb2cgPSBwcm9nO1xuICAgICAgICB0aGlzLmFyZ3YgPSBhcmd2O1xuICAgICAgICB0aGlzLmVudnAgPSBlbnZwO1xuICAgIH1cblxuICAgIC8qKlxuICAgICAqIChpbnRlcm5hbCkgVGhpcyBpcyBuZWVkZWQgaW4gb3JkZXIgdG8gdHJhbnNmZXIgdGhlIGBFeGVjdkNhbGxgXG4gICAgICogdmlhIGBwb3N0TWVzc2FnZWAuXG4gICAgICovXG4gICAgY29weSgpIHtcbiAgICAgICAgdmFyIGNwYSA9IChiczogQnVmZmVyW10pID0+IGJzLm1hcChiID0+IEJ1ZmZlci5mcm9tKGIpKTtcbiAgICAgICAgcmV0dXJuIG5ldyBFeGVjdkNhbGwodGhpcy5wcm9nLFxuICAgICAgICAgICAgY3BhKHRoaXMuYXJndiksIGNwYSh0aGlzLmVudnApKTtcbiAgICB9XG59XG5cbmNsYXNzIExvbmdqbXAge1xuICAgIGVudjogaTMyXG4gICAgdmFsOiBpMzJcbiAgICBjb25zdHJ1Y3RvcihlbnY6IGkzMiwgdmFsOiBpMzIpIHtcbiAgICAgICAgdGhpcy5lbnYgPSBlbnY7XG4gICAgICAgIHRoaXMudmFsID0gdmFsO1xuICAgIH1cbn1cblxuY29uc3QgTWF5YmVTaGFyZWRBcnJheUJ1ZmZlciA9IHR5cGVvZiBTaGFyZWRBcnJheUJ1ZmZlciAhPSAndW5kZWZpbmVkJ1xuICAgID8gU2hhcmVkQXJyYXlCdWZmZXIgOiBBcnJheUJ1ZmZlcjtcblxuZnVuY3Rpb24gYmluZEFsbChpbnN0YW5jZTogYW55LCBtZXRob2RzOiBzdHJpbmdbXSkge1xuICAgIHJldHVybiBtZXRob2RzLnJlZHVjZSgoZCwgbSkgPT5cbiAgICAgICAgT2JqZWN0LmFzc2lnbihkLCB7W21dOiBpbnN0YW5jZVttXS5iaW5kKGluc3RhbmNlKX0pLCB7fSk7XG59XG5cblxuXG5leHBvcnQgeyBQcm9jLCBQcm9jT3B0aW9ucywgU2lnbmFsVmVjdG9yLCBDaGlsZFByb2Nlc3NRdWV1ZSB9XG4iLCAiZGVjbGFyZSB2YXIgd2luZG93OiBhbnk7XG5cbmNvbnN0IGlzTm9kZSA9IGdsb2JhbC5wcm9jZXNzICYmIGdsb2JhbC5wcm9jZXNzLnZlcnNpb25zICYmIGdsb2JhbC5wcm9jZXNzLnZlcnNpb25zLm5vZGU7XG5cbmNvbnN0IGlzQnJvd3NlciA9IHR5cGVvZiB3aW5kb3cgPT09ICdvYmplY3QnIHx8IHR5cGVvZiBEZWRpY2F0ZWRXb3JrZXJHbG9iYWxTY29wZSA9PT0gJ2Z1bmN0aW9uJztcblxuXG5leHBvcnQgeyBpc05vZGUsIGlzQnJvd3NlciB9IiwgIlwidXNlIHN0cmljdFwiO1xuT2JqZWN0LmRlZmluZVByb3BlcnR5KGV4cG9ydHMsIFwiX19lc01vZHVsZVwiLCB7IHZhbHVlOiB0cnVlIH0pO1xuZXhwb3J0cy5jb25zdGFudHMgPSB7XG4gICAgT19SRE9OTFk6IDAsXG4gICAgT19XUk9OTFk6IDEsXG4gICAgT19SRFdSOiAyLFxuICAgIFNfSUZNVDogNjE0NDAsXG4gICAgU19JRlJFRzogMzI3NjgsXG4gICAgU19JRkRJUjogMTYzODQsXG4gICAgU19JRkNIUjogODE5MixcbiAgICBTX0lGQkxLOiAyNDU3NixcbiAgICBTX0lGSUZPOiA0MDk2LFxuICAgIFNfSUZMTks6IDQwOTYwLFxuICAgIFNfSUZTT0NLOiA0OTE1MixcbiAgICBPX0NSRUFUOiA2NCxcbiAgICBPX0VYQ0w6IDEyOCxcbiAgICBPX05PQ1RUWTogMjU2LFxuICAgIE9fVFJVTkM6IDUxMixcbiAgICBPX0FQUEVORDogMTAyNCxcbiAgICBPX0RJUkVDVE9SWTogNjU1MzYsXG4gICAgT19OT0FUSU1FOiAyNjIxNDQsXG4gICAgT19OT0ZPTExPVzogMTMxMDcyLFxuICAgIE9fU1lOQzogMTA1MjY3MixcbiAgICBPX0RJUkVDVDogMTYzODQsXG4gICAgT19OT05CTE9DSzogMjA0OCxcbiAgICBTX0lSV1hVOiA0NDgsXG4gICAgU19JUlVTUjogMjU2LFxuICAgIFNfSVdVU1I6IDEyOCxcbiAgICBTX0lYVVNSOiA2NCxcbiAgICBTX0lSV1hHOiA1NixcbiAgICBTX0lSR1JQOiAzMixcbiAgICBTX0lXR1JQOiAxNixcbiAgICBTX0lYR1JQOiA4LFxuICAgIFNfSVJXWE86IDcsXG4gICAgU19JUk9USDogNCxcbiAgICBTX0lXT1RIOiAyLFxuICAgIFNfSVhPVEg6IDEsXG4gICAgRl9PSzogMCxcbiAgICBSX09LOiA0LFxuICAgIFdfT0s6IDIsXG4gICAgWF9PSzogMSxcbiAgICBVVl9GU19TWU1MSU5LX0RJUjogMSxcbiAgICBVVl9GU19TWU1MSU5LX0pVTkNUSU9OOiAyLFxuICAgIFVWX0ZTX0NPUFlGSUxFX0VYQ0w6IDEsXG4gICAgVVZfRlNfQ09QWUZJTEVfRklDTE9ORTogMixcbiAgICBVVl9GU19DT1BZRklMRV9GSUNMT05FX0ZPUkNFOiA0LFxuICAgIENPUFlGSUxFX0VYQ0w6IDEsXG4gICAgQ09QWUZJTEVfRklDTE9ORTogMixcbiAgICBDT1BZRklMRV9GSUNMT05FX0ZPUkNFOiA0LFxufTtcbiIsICJpZiAodHlwZW9mIEJpZ0ludCA9PT0gJ2Z1bmN0aW9uJykgZXhwb3J0cy5kZWZhdWx0ID0gQmlnSW50O1xuZWxzZVxuICBleHBvcnRzLmRlZmF1bHQgPSBmdW5jdGlvbiBCaWdJbnROb3RTdXBwb3J0ZWQoKSB7XG4gICAgdGhyb3cgbmV3IEVycm9yKCdCaWdJbnQgaXMgbm90IHN1cHBvcnRlZCBpbiB0aGlzIGVudmlyb25tZW50LicpO1xuICB9O1xuIiwgIlwidXNlIHN0cmljdFwiO1xuT2JqZWN0LmRlZmluZVByb3BlcnR5KGV4cG9ydHMsIFwiX19lc01vZHVsZVwiLCB7IHZhbHVlOiB0cnVlIH0pO1xudmFyIGNvbnN0YW50c18xID0gcmVxdWlyZShcIi4vY29uc3RhbnRzXCIpO1xudmFyIGdldEJpZ0ludF8xID0gcmVxdWlyZShcIi4vZ2V0QmlnSW50XCIpO1xudmFyIFNfSUZNVCA9IGNvbnN0YW50c18xLmNvbnN0YW50cy5TX0lGTVQsIFNfSUZESVIgPSBjb25zdGFudHNfMS5jb25zdGFudHMuU19JRkRJUiwgU19JRlJFRyA9IGNvbnN0YW50c18xLmNvbnN0YW50cy5TX0lGUkVHLCBTX0lGQkxLID0gY29uc3RhbnRzXzEuY29uc3RhbnRzLlNfSUZCTEssIFNfSUZDSFIgPSBjb25zdGFudHNfMS5jb25zdGFudHMuU19JRkNIUiwgU19JRkxOSyA9IGNvbnN0YW50c18xLmNvbnN0YW50cy5TX0lGTE5LLCBTX0lGSUZPID0gY29uc3RhbnRzXzEuY29uc3RhbnRzLlNfSUZJRk8sIFNfSUZTT0NLID0gY29uc3RhbnRzXzEuY29uc3RhbnRzLlNfSUZTT0NLO1xuLyoqXG4gKiBTdGF0aXN0aWNzIGFib3V0IGEgZmlsZS9kaXJlY3RvcnksIGxpa2UgYGZzLlN0YXRzYC5cbiAqL1xudmFyIFN0YXRzID0gLyoqIEBjbGFzcyAqLyAoZnVuY3Rpb24gKCkge1xuICAgIGZ1bmN0aW9uIFN0YXRzKCkge1xuICAgIH1cbiAgICBTdGF0cy5idWlsZCA9IGZ1bmN0aW9uIChub2RlLCBiaWdpbnQpIHtcbiAgICAgICAgaWYgKGJpZ2ludCA9PT0gdm9pZCAwKSB7IGJpZ2ludCA9IGZhbHNlOyB9XG4gICAgICAgIHZhciBzdGF0cyA9IG5ldyBTdGF0cygpO1xuICAgICAgICB2YXIgdWlkID0gbm9kZS51aWQsIGdpZCA9IG5vZGUuZ2lkLCBhdGltZSA9IG5vZGUuYXRpbWUsIG10aW1lID0gbm9kZS5tdGltZSwgY3RpbWUgPSBub2RlLmN0aW1lO1xuICAgICAgICB2YXIgZ2V0U3RhdE51bWJlciA9ICFiaWdpbnQgPyBmdW5jdGlvbiAobnVtYmVyKSB7IHJldHVybiBudW1iZXI7IH0gOiBnZXRCaWdJbnRfMS5kZWZhdWx0O1xuICAgICAgICAvLyBDb3B5IGFsbCB2YWx1ZXMgb24gU3RhdHMgZnJvbSBOb2RlLCBzbyB0aGF0IGlmIE5vZGUgdmFsdWVzXG4gICAgICAgIC8vIGNoYW5nZSwgdmFsdWVzIG9uIFN0YXRzIHdvdWxkIHN0aWxsIGJlIHRoZSBvbGQgb25lcyxcbiAgICAgICAgLy8ganVzdCBsaWtlIGluIE5vZGUgZnMuXG4gICAgICAgIHN0YXRzLnVpZCA9IGdldFN0YXROdW1iZXIodWlkKTtcbiAgICAgICAgc3RhdHMuZ2lkID0gZ2V0U3RhdE51bWJlcihnaWQpO1xuICAgICAgICBzdGF0cy5yZGV2ID0gZ2V0U3RhdE51bWJlcigwKTtcbiAgICAgICAgc3RhdHMuYmxrc2l6ZSA9IGdldFN0YXROdW1iZXIoNDA5Nik7XG4gICAgICAgIHN0YXRzLmlubyA9IGdldFN0YXROdW1iZXIobm9kZS5pbm8pO1xuICAgICAgICBzdGF0cy5zaXplID0gZ2V0U3RhdE51bWJlcihub2RlLmdldFNpemUoKSk7XG4gICAgICAgIHN0YXRzLmJsb2NrcyA9IGdldFN0YXROdW1iZXIoMSk7XG4gICAgICAgIHN0YXRzLmF0aW1lID0gYXRpbWU7XG4gICAgICAgIHN0YXRzLm10aW1lID0gbXRpbWU7XG4gICAgICAgIHN0YXRzLmN0aW1lID0gY3RpbWU7XG4gICAgICAgIHN0YXRzLmJpcnRodGltZSA9IGN0aW1lO1xuICAgICAgICBzdGF0cy5hdGltZU1zID0gZ2V0U3RhdE51bWJlcihhdGltZS5nZXRUaW1lKCkpO1xuICAgICAgICBzdGF0cy5tdGltZU1zID0gZ2V0U3RhdE51bWJlcihtdGltZS5nZXRUaW1lKCkpO1xuICAgICAgICB2YXIgY3RpbWVNcyA9IGdldFN0YXROdW1iZXIoY3RpbWUuZ2V0VGltZSgpKTtcbiAgICAgICAgc3RhdHMuY3RpbWVNcyA9IGN0aW1lTXM7XG4gICAgICAgIHN0YXRzLmJpcnRodGltZU1zID0gY3RpbWVNcztcbiAgICAgICAgc3RhdHMuZGV2ID0gZ2V0U3RhdE51bWJlcigwKTtcbiAgICAgICAgc3RhdHMubW9kZSA9IGdldFN0YXROdW1iZXIobm9kZS5tb2RlKTtcbiAgICAgICAgc3RhdHMubmxpbmsgPSBnZXRTdGF0TnVtYmVyKG5vZGUubmxpbmspO1xuICAgICAgICByZXR1cm4gc3RhdHM7XG4gICAgfTtcbiAgICBTdGF0cy5wcm90b3R5cGUuX2NoZWNrTW9kZVByb3BlcnR5ID0gZnVuY3Rpb24gKHByb3BlcnR5KSB7XG4gICAgICAgIHJldHVybiAoTnVtYmVyKHRoaXMubW9kZSkgJiBTX0lGTVQpID09PSBwcm9wZXJ0eTtcbiAgICB9O1xuICAgIFN0YXRzLnByb3RvdHlwZS5pc0RpcmVjdG9yeSA9IGZ1bmN0aW9uICgpIHtcbiAgICAgICAgcmV0dXJuIHRoaXMuX2NoZWNrTW9kZVByb3BlcnR5KFNfSUZESVIpO1xuICAgIH07XG4gICAgU3RhdHMucHJvdG90eXBlLmlzRmlsZSA9IGZ1bmN0aW9uICgpIHtcbiAgICAgICAgcmV0dXJuIHRoaXMuX2NoZWNrTW9kZVByb3BlcnR5KFNfSUZSRUcpO1xuICAgIH07XG4gICAgU3RhdHMucHJvdG90eXBlLmlzQmxvY2tEZXZpY2UgPSBmdW5jdGlvbiAoKSB7XG4gICAgICAgIHJldHVybiB0aGlzLl9jaGVja01vZGVQcm9wZXJ0eShTX0lGQkxLKTtcbiAgICB9O1xuICAgIFN0YXRzLnByb3RvdHlwZS5pc0NoYXJhY3RlckRldmljZSA9IGZ1bmN0aW9uICgpIHtcbiAgICAgICAgcmV0dXJuIHRoaXMuX2NoZWNrTW9kZVByb3BlcnR5KFNfSUZDSFIpO1xuICAgIH07XG4gICAgU3RhdHMucHJvdG90eXBlLmlzU3ltYm9saWNMaW5rID0gZnVuY3Rpb24gKCkge1xuICAgICAgICByZXR1cm4gdGhpcy5fY2hlY2tNb2RlUHJvcGVydHkoU19JRkxOSyk7XG4gICAgfTtcbiAgICBTdGF0cy5wcm90b3R5cGUuaXNGSUZPID0gZnVuY3Rpb24gKCkge1xuICAgICAgICByZXR1cm4gdGhpcy5fY2hlY2tNb2RlUHJvcGVydHkoU19JRklGTyk7XG4gICAgfTtcbiAgICBTdGF0cy5wcm90b3R5cGUuaXNTb2NrZXQgPSBmdW5jdGlvbiAoKSB7XG4gICAgICAgIHJldHVybiB0aGlzLl9jaGVja01vZGVQcm9wZXJ0eShTX0lGU09DSyk7XG4gICAgfTtcbiAgICByZXR1cm4gU3RhdHM7XG59KCkpO1xuZXhwb3J0cy5TdGF0cyA9IFN0YXRzO1xuZXhwb3J0cy5kZWZhdWx0ID0gU3RhdHM7XG4iLCAiXCJ1c2Ugc3RyaWN0XCI7XG52YXIgX19zcHJlYWRBcnJheXMgPSAodGhpcyAmJiB0aGlzLl9fc3ByZWFkQXJyYXlzKSB8fCBmdW5jdGlvbiAoKSB7XG4gICAgZm9yICh2YXIgcyA9IDAsIGkgPSAwLCBpbCA9IGFyZ3VtZW50cy5sZW5ndGg7IGkgPCBpbDsgaSsrKSBzICs9IGFyZ3VtZW50c1tpXS5sZW5ndGg7XG4gICAgZm9yICh2YXIgciA9IEFycmF5KHMpLCBrID0gMCwgaSA9IDA7IGkgPCBpbDsgaSsrKVxuICAgICAgICBmb3IgKHZhciBhID0gYXJndW1lbnRzW2ldLCBqID0gMCwgamwgPSBhLmxlbmd0aDsgaiA8IGpsOyBqKyssIGsrKylcbiAgICAgICAgICAgIHJba10gPSBhW2pdO1xuICAgIHJldHVybiByO1xufTtcbk9iamVjdC5kZWZpbmVQcm9wZXJ0eShleHBvcnRzLCBcIl9fZXNNb2R1bGVcIiwgeyB2YWx1ZTogdHJ1ZSB9KTtcbnZhciBidWZmZXJfMSA9IHJlcXVpcmUoXCJidWZmZXJcIik7XG5leHBvcnRzLkJ1ZmZlciA9IGJ1ZmZlcl8xLkJ1ZmZlcjtcbmZ1bmN0aW9uIGJ1ZmZlclYwUDEyUG9ueWZpbGwoYXJnMCkge1xuICAgIHZhciBhcmdzID0gW107XG4gICAgZm9yICh2YXIgX2kgPSAxOyBfaSA8IGFyZ3VtZW50cy5sZW5ndGg7IF9pKyspIHtcbiAgICAgICAgYXJnc1tfaSAtIDFdID0gYXJndW1lbnRzW19pXTtcbiAgICB9XG4gICAgcmV0dXJuIG5ldyAoYnVmZmVyXzEuQnVmZmVyLmJpbmQuYXBwbHkoYnVmZmVyXzEuQnVmZmVyLCBfX3NwcmVhZEFycmF5cyhbdm9pZCAwLCBhcmcwXSwgYXJncykpKSgpO1xufVxudmFyIGJ1ZmZlckFsbG9jVW5zYWZlID0gYnVmZmVyXzEuQnVmZmVyLmFsbG9jVW5zYWZlIHx8IGJ1ZmZlclYwUDEyUG9ueWZpbGw7XG5leHBvcnRzLmJ1ZmZlckFsbG9jVW5zYWZlID0gYnVmZmVyQWxsb2NVbnNhZmU7XG52YXIgYnVmZmVyRnJvbSA9IGJ1ZmZlcl8xLkJ1ZmZlci5mcm9tIHx8IGJ1ZmZlclYwUDEyUG9ueWZpbGw7XG5leHBvcnRzLmJ1ZmZlckZyb20gPSBidWZmZXJGcm9tO1xuIiwgIlwidXNlIHN0cmljdFwiO1xuLy8gVGhlIHdob2xlIHBvaW50IGJlaGluZCB0aGlzIGludGVybmFsIG1vZHVsZSBpcyB0byBhbGxvdyBOb2RlLmpzIHRvIG5vXG4vLyBsb25nZXIgYmUgZm9yY2VkIHRvIHRyZWF0IGV2ZXJ5IGVycm9yIG1lc3NhZ2UgY2hhbmdlIGFzIGEgc2VtdmVyLW1ham9yXG4vLyBjaGFuZ2UuIFRoZSBOb2RlRXJyb3IgY2xhc3NlcyBoZXJlIGFsbCBleHBvc2UgYSBgY29kZWAgcHJvcGVydHkgd2hvc2Vcbi8vIHZhbHVlIHN0YXRpY2FsbHkgYW5kIHBlcm1hbmVudGx5IGlkZW50aWZpZXMgdGhlIGVycm9yLiBXaGlsZSB0aGUgZXJyb3Jcbi8vIG1lc3NhZ2UgbWF5IGNoYW5nZSwgdGhlIGNvZGUgc2hvdWxkIG5vdC5cbnZhciBfX2V4dGVuZHMgPSAodGhpcyAmJiB0aGlzLl9fZXh0ZW5kcykgfHwgKGZ1bmN0aW9uICgpIHtcbiAgICB2YXIgZXh0ZW5kU3RhdGljcyA9IGZ1bmN0aW9uIChkLCBiKSB7XG4gICAgICAgIGV4dGVuZFN0YXRpY3MgPSBPYmplY3Quc2V0UHJvdG90eXBlT2YgfHxcbiAgICAgICAgICAgICh7IF9fcHJvdG9fXzogW10gfSBpbnN0YW5jZW9mIEFycmF5ICYmIGZ1bmN0aW9uIChkLCBiKSB7IGQuX19wcm90b19fID0gYjsgfSkgfHxcbiAgICAgICAgICAgIGZ1bmN0aW9uIChkLCBiKSB7IGZvciAodmFyIHAgaW4gYikgaWYgKGIuaGFzT3duUHJvcGVydHkocCkpIGRbcF0gPSBiW3BdOyB9O1xuICAgICAgICByZXR1cm4gZXh0ZW5kU3RhdGljcyhkLCBiKTtcbiAgICB9O1xuICAgIHJldHVybiBmdW5jdGlvbiAoZCwgYikge1xuICAgICAgICBleHRlbmRTdGF0aWNzKGQsIGIpO1xuICAgICAgICBmdW5jdGlvbiBfXygpIHsgdGhpcy5jb25zdHJ1Y3RvciA9IGQ7IH1cbiAgICAgICAgZC5wcm90b3R5cGUgPSBiID09PSBudWxsID8gT2JqZWN0LmNyZWF0ZShiKSA6IChfXy5wcm90b3R5cGUgPSBiLnByb3RvdHlwZSwgbmV3IF9fKCkpO1xuICAgIH07XG59KSgpO1xuT2JqZWN0LmRlZmluZVByb3BlcnR5KGV4cG9ydHMsIFwiX19lc01vZHVsZVwiLCB7IHZhbHVlOiB0cnVlIH0pO1xudmFyIGFzc2VydCA9IHJlcXVpcmUoXCJhc3NlcnRcIik7XG52YXIgdXRpbCA9IHJlcXVpcmUoXCJ1dGlsXCIpO1xudmFyIGtDb2RlID0gdHlwZW9mIFN5bWJvbCA9PT0gJ3VuZGVmaW5lZCcgPyAnX2tDb2RlJyA6IFN5bWJvbCgnY29kZScpO1xudmFyIG1lc3NhZ2VzID0ge307IC8vIG5ldyBNYXAoKTtcbmZ1bmN0aW9uIG1ha2VOb2RlRXJyb3IoQmFzZSkge1xuICAgIHJldHVybiAvKiogQGNsYXNzICovIChmdW5jdGlvbiAoX3N1cGVyKSB7XG4gICAgICAgIF9fZXh0ZW5kcyhOb2RlRXJyb3IsIF9zdXBlcik7XG4gICAgICAgIGZ1bmN0aW9uIE5vZGVFcnJvcihrZXkpIHtcbiAgICAgICAgICAgIHZhciBhcmdzID0gW107XG4gICAgICAgICAgICBmb3IgKHZhciBfaSA9IDE7IF9pIDwgYXJndW1lbnRzLmxlbmd0aDsgX2krKykge1xuICAgICAgICAgICAgICAgIGFyZ3NbX2kgLSAxXSA9IGFyZ3VtZW50c1tfaV07XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICB2YXIgX3RoaXMgPSBfc3VwZXIuY2FsbCh0aGlzLCBtZXNzYWdlKGtleSwgYXJncykpIHx8IHRoaXM7XG4gICAgICAgICAgICBfdGhpcy5jb2RlID0ga2V5O1xuICAgICAgICAgICAgX3RoaXNba0NvZGVdID0ga2V5O1xuICAgICAgICAgICAgX3RoaXMubmFtZSA9IF9zdXBlci5wcm90b3R5cGUubmFtZSArIFwiIFtcIiArIF90aGlzW2tDb2RlXSArIFwiXVwiO1xuICAgICAgICAgICAgcmV0dXJuIF90aGlzO1xuICAgICAgICB9XG4gICAgICAgIHJldHVybiBOb2RlRXJyb3I7XG4gICAgfShCYXNlKSk7XG59XG52YXIgQXNzZXJ0aW9uRXJyb3IgPSAvKiogQGNsYXNzICovIChmdW5jdGlvbiAoX3N1cGVyKSB7XG4gICAgX19leHRlbmRzKEFzc2VydGlvbkVycm9yLCBfc3VwZXIpO1xuICAgIGZ1bmN0aW9uIEFzc2VydGlvbkVycm9yKG9wdGlvbnMpIHtcbiAgICAgICAgdmFyIF90aGlzID0gdGhpcztcbiAgICAgICAgaWYgKHR5cGVvZiBvcHRpb25zICE9PSAnb2JqZWN0JyB8fCBvcHRpb25zID09PSBudWxsKSB7XG4gICAgICAgICAgICB0aHJvdyBuZXcgZXhwb3J0cy5UeXBlRXJyb3IoJ0VSUl9JTlZBTElEX0FSR19UWVBFJywgJ29wdGlvbnMnLCAnb2JqZWN0Jyk7XG4gICAgICAgIH1cbiAgICAgICAgaWYgKG9wdGlvbnMubWVzc2FnZSkge1xuICAgICAgICAgICAgX3RoaXMgPSBfc3VwZXIuY2FsbCh0aGlzLCBvcHRpb25zLm1lc3NhZ2UpIHx8IHRoaXM7XG4gICAgICAgIH1cbiAgICAgICAgZWxzZSB7XG4gICAgICAgICAgICBfdGhpcyA9IF9zdXBlci5jYWxsKHRoaXMsIHV0aWwuaW5zcGVjdChvcHRpb25zLmFjdHVhbCkuc2xpY2UoMCwgMTI4KSArIFwiIFwiICtcbiAgICAgICAgICAgICAgICAob3B0aW9ucy5vcGVyYXRvciArIFwiIFwiICsgdXRpbC5pbnNwZWN0KG9wdGlvbnMuZXhwZWN0ZWQpLnNsaWNlKDAsIDEyOCkpKSB8fCB0aGlzO1xuICAgICAgICB9XG4gICAgICAgIF90aGlzLmdlbmVyYXRlZE1lc3NhZ2UgPSAhb3B0aW9ucy5tZXNzYWdlO1xuICAgICAgICBfdGhpcy5uYW1lID0gJ0Fzc2VydGlvbkVycm9yIFtFUlJfQVNTRVJUSU9OXSc7XG4gICAgICAgIF90aGlzLmNvZGUgPSAnRVJSX0FTU0VSVElPTic7XG4gICAgICAgIF90aGlzLmFjdHVhbCA9IG9wdGlvbnMuYWN0dWFsO1xuICAgICAgICBfdGhpcy5leHBlY3RlZCA9IG9wdGlvbnMuZXhwZWN0ZWQ7XG4gICAgICAgIF90aGlzLm9wZXJhdG9yID0gb3B0aW9ucy5vcGVyYXRvcjtcbiAgICAgICAgZXhwb3J0cy5FcnJvci5jYXB0dXJlU3RhY2tUcmFjZShfdGhpcywgb3B0aW9ucy5zdGFja1N0YXJ0RnVuY3Rpb24pO1xuICAgICAgICByZXR1cm4gX3RoaXM7XG4gICAgfVxuICAgIHJldHVybiBBc3NlcnRpb25FcnJvcjtcbn0oZ2xvYmFsLkVycm9yKSk7XG5leHBvcnRzLkFzc2VydGlvbkVycm9yID0gQXNzZXJ0aW9uRXJyb3I7XG5mdW5jdGlvbiBtZXNzYWdlKGtleSwgYXJncykge1xuICAgIGFzc2VydC5zdHJpY3RFcXVhbCh0eXBlb2Yga2V5LCAnc3RyaW5nJyk7XG4gICAgLy8gY29uc3QgbXNnID0gbWVzc2FnZXMuZ2V0KGtleSk7XG4gICAgdmFyIG1zZyA9IG1lc3NhZ2VzW2tleV07XG4gICAgYXNzZXJ0KG1zZywgXCJBbiBpbnZhbGlkIGVycm9yIG1lc3NhZ2Uga2V5IHdhcyB1c2VkOiBcIiArIGtleSArIFwiLlwiKTtcbiAgICB2YXIgZm10O1xuICAgIGlmICh0eXBlb2YgbXNnID09PSAnZnVuY3Rpb24nKSB7XG4gICAgICAgIGZtdCA9IG1zZztcbiAgICB9XG4gICAgZWxzZSB7XG4gICAgICAgIGZtdCA9IHV0aWwuZm9ybWF0O1xuICAgICAgICBpZiAoYXJncyA9PT0gdW5kZWZpbmVkIHx8IGFyZ3MubGVuZ3RoID09PSAwKVxuICAgICAgICAgICAgcmV0dXJuIG1zZztcbiAgICAgICAgYXJncy51bnNoaWZ0KG1zZyk7XG4gICAgfVxuICAgIHJldHVybiBTdHJpbmcoZm10LmFwcGx5KG51bGwsIGFyZ3MpKTtcbn1cbmV4cG9ydHMubWVzc2FnZSA9IG1lc3NhZ2U7XG4vLyBVdGlsaXR5IGZ1bmN0aW9uIGZvciByZWdpc3RlcmluZyB0aGUgZXJyb3IgY29kZXMuIE9ubHkgdXNlZCBoZXJlLiBFeHBvcnRlZFxuLy8gKm9ubHkqIHRvIGFsbG93IGZvciB0ZXN0aW5nLlxuZnVuY3Rpb24gRShzeW0sIHZhbCkge1xuICAgIG1lc3NhZ2VzW3N5bV0gPSB0eXBlb2YgdmFsID09PSAnZnVuY3Rpb24nID8gdmFsIDogU3RyaW5nKHZhbCk7XG59XG5leHBvcnRzLkUgPSBFO1xuZXhwb3J0cy5FcnJvciA9IG1ha2VOb2RlRXJyb3IoZ2xvYmFsLkVycm9yKTtcbmV4cG9ydHMuVHlwZUVycm9yID0gbWFrZU5vZGVFcnJvcihnbG9iYWwuVHlwZUVycm9yKTtcbmV4cG9ydHMuUmFuZ2VFcnJvciA9IG1ha2VOb2RlRXJyb3IoZ2xvYmFsLlJhbmdlRXJyb3IpO1xuLy8gVG8gZGVjbGFyZSBhbiBlcnJvciBtZXNzYWdlLCB1c2UgdGhlIEUoc3ltLCB2YWwpIGZ1bmN0aW9uIGFib3ZlLiBUaGUgc3ltXG4vLyBtdXN0IGJlIGFuIHVwcGVyIGNhc2Ugc3RyaW5nLiBUaGUgdmFsIGNhbiBiZSBlaXRoZXIgYSBmdW5jdGlvbiBvciBhIHN0cmluZy5cbi8vIFRoZSByZXR1cm4gdmFsdWUgb2YgdGhlIGZ1bmN0aW9uIG11c3QgYmUgYSBzdHJpbmcuXG4vLyBFeGFtcGxlczpcbi8vIEUoJ0VYQU1QTEVfS0VZMScsICdUaGlzIGlzIHRoZSBlcnJvciB2YWx1ZScpO1xuLy8gRSgnRVhBTVBMRV9LRVkyJywgKGEsIGIpID0+IHJldHVybiBgJHthfSAke2J9YCk7XG4vL1xuLy8gT25jZSBhbiBlcnJvciBjb2RlIGhhcyBiZWVuIGFzc2lnbmVkLCB0aGUgY29kZSBpdHNlbGYgTVVTVCBOT1QgY2hhbmdlIGFuZFxuLy8gYW55IGdpdmVuIGVycm9yIGNvZGUgbXVzdCBuZXZlciBiZSByZXVzZWQgdG8gaWRlbnRpZnkgYSBkaWZmZXJlbnQgZXJyb3IuXG4vL1xuLy8gQW55IGVycm9yIGNvZGUgYWRkZWQgaGVyZSBzaG91bGQgYWxzbyBiZSBhZGRlZCB0byB0aGUgZG9jdW1lbnRhdGlvblxuLy9cbi8vIE5vdGU6IFBsZWFzZSB0cnkgdG8ga2VlcCB0aGVzZSBpbiBhbHBoYWJldGljYWwgb3JkZXJcbkUoJ0VSUl9BUkdfTk9UX0lURVJBQkxFJywgJyVzIG11c3QgYmUgaXRlcmFibGUnKTtcbkUoJ0VSUl9BU1NFUlRJT04nLCAnJXMnKTtcbkUoJ0VSUl9CVUZGRVJfT1VUX09GX0JPVU5EUycsIGJ1ZmZlck91dE9mQm91bmRzKTtcbkUoJ0VSUl9DSElMRF9DTE9TRURfQkVGT1JFX1JFUExZJywgJ0NoaWxkIGNsb3NlZCBiZWZvcmUgcmVwbHkgcmVjZWl2ZWQnKTtcbkUoJ0VSUl9DT05TT0xFX1dSSVRBQkxFX1NUUkVBTScsICdDb25zb2xlIGV4cGVjdHMgYSB3cml0YWJsZSBzdHJlYW0gaW5zdGFuY2UgZm9yICVzJyk7XG5FKCdFUlJfQ1BVX1VTQUdFJywgJ1VuYWJsZSB0byBvYnRhaW4gY3B1IHVzYWdlICVzJyk7XG5FKCdFUlJfRE5TX1NFVF9TRVJWRVJTX0ZBSUxFRCcsIGZ1bmN0aW9uIChlcnIsIHNlcnZlcnMpIHsgcmV0dXJuIFwiYy1hcmVzIGZhaWxlZCB0byBzZXQgc2VydmVyczogXFxcIlwiICsgZXJyICsgXCJcXFwiIFtcIiArIHNlcnZlcnMgKyBcIl1cIjsgfSk7XG5FKCdFUlJfRkFMU1lfVkFMVUVfUkVKRUNUSU9OJywgJ1Byb21pc2Ugd2FzIHJlamVjdGVkIHdpdGggZmFsc3kgdmFsdWUnKTtcbkUoJ0VSUl9FTkNPRElOR19OT1RfU1VQUE9SVEVEJywgZnVuY3Rpb24gKGVuYykgeyByZXR1cm4gXCJUaGUgXFxcIlwiICsgZW5jICsgXCJcXFwiIGVuY29kaW5nIGlzIG5vdCBzdXBwb3J0ZWRcIjsgfSk7XG5FKCdFUlJfRU5DT0RJTkdfSU5WQUxJRF9FTkNPREVEX0RBVEEnLCBmdW5jdGlvbiAoZW5jKSB7IHJldHVybiBcIlRoZSBlbmNvZGVkIGRhdGEgd2FzIG5vdCB2YWxpZCBmb3IgZW5jb2RpbmcgXCIgKyBlbmM7IH0pO1xuRSgnRVJSX0hUVFBfSEVBREVSU19TRU5UJywgJ0Nhbm5vdCByZW5kZXIgaGVhZGVycyBhZnRlciB0aGV5IGFyZSBzZW50IHRvIHRoZSBjbGllbnQnKTtcbkUoJ0VSUl9IVFRQX0lOVkFMSURfU1RBVFVTX0NPREUnLCAnSW52YWxpZCBzdGF0dXMgY29kZTogJXMnKTtcbkUoJ0VSUl9IVFRQX1RSQUlMRVJfSU5WQUxJRCcsICdUcmFpbGVycyBhcmUgaW52YWxpZCB3aXRoIHRoaXMgdHJhbnNmZXIgZW5jb2RpbmcnKTtcbkUoJ0VSUl9JTkRFWF9PVVRfT0ZfUkFOR0UnLCAnSW5kZXggb3V0IG9mIHJhbmdlJyk7XG5FKCdFUlJfSU5WQUxJRF9BUkdfVFlQRScsIGludmFsaWRBcmdUeXBlKTtcbkUoJ0VSUl9JTlZBTElEX0FSUkFZX0xFTkdUSCcsIGZ1bmN0aW9uIChuYW1lLCBsZW4sIGFjdHVhbCkge1xuICAgIGFzc2VydC5zdHJpY3RFcXVhbCh0eXBlb2YgYWN0dWFsLCAnbnVtYmVyJyk7XG4gICAgcmV0dXJuIFwiVGhlIGFycmF5IFxcXCJcIiArIG5hbWUgKyBcIlxcXCIgKGxlbmd0aCBcIiArIGFjdHVhbCArIFwiKSBtdXN0IGJlIG9mIGxlbmd0aCBcIiArIGxlbiArIFwiLlwiO1xufSk7XG5FKCdFUlJfSU5WQUxJRF9CVUZGRVJfU0laRScsICdCdWZmZXIgc2l6ZSBtdXN0IGJlIGEgbXVsdGlwbGUgb2YgJXMnKTtcbkUoJ0VSUl9JTlZBTElEX0NBTExCQUNLJywgJ0NhbGxiYWNrIG11c3QgYmUgYSBmdW5jdGlvbicpO1xuRSgnRVJSX0lOVkFMSURfQ0hBUicsICdJbnZhbGlkIGNoYXJhY3RlciBpbiAlcycpO1xuRSgnRVJSX0lOVkFMSURfQ1VSU09SX1BPUycsICdDYW5ub3Qgc2V0IGN1cnNvciByb3cgd2l0aG91dCBzZXR0aW5nIGl0cyBjb2x1bW4nKTtcbkUoJ0VSUl9JTlZBTElEX0ZEJywgJ1wiZmRcIiBtdXN0IGJlIGEgcG9zaXRpdmUgaW50ZWdlcjogJXMnKTtcbkUoJ0VSUl9JTlZBTElEX0ZJTEVfVVJMX0hPU1QnLCAnRmlsZSBVUkwgaG9zdCBtdXN0IGJlIFwibG9jYWxob3N0XCIgb3IgZW1wdHkgb24gJXMnKTtcbkUoJ0VSUl9JTlZBTElEX0ZJTEVfVVJMX1BBVEgnLCAnRmlsZSBVUkwgcGF0aCAlcycpO1xuRSgnRVJSX0lOVkFMSURfSEFORExFX1RZUEUnLCAnVGhpcyBoYW5kbGUgdHlwZSBjYW5ub3QgYmUgc2VudCcpO1xuRSgnRVJSX0lOVkFMSURfSVBfQUREUkVTUycsICdJbnZhbGlkIElQIGFkZHJlc3M6ICVzJyk7XG5FKCdFUlJfSU5WQUxJRF9PUFRfVkFMVUUnLCBmdW5jdGlvbiAobmFtZSwgdmFsdWUpIHtcbiAgICByZXR1cm4gXCJUaGUgdmFsdWUgXFxcIlwiICsgU3RyaW5nKHZhbHVlKSArIFwiXFxcIiBpcyBpbnZhbGlkIGZvciBvcHRpb24gXFxcIlwiICsgbmFtZSArIFwiXFxcIlwiO1xufSk7XG5FKCdFUlJfSU5WQUxJRF9PUFRfVkFMVUVfRU5DT0RJTkcnLCBmdW5jdGlvbiAodmFsdWUpIHsgcmV0dXJuIFwiVGhlIHZhbHVlIFxcXCJcIiArIFN0cmluZyh2YWx1ZSkgKyBcIlxcXCIgaXMgaW52YWxpZCBmb3Igb3B0aW9uIFxcXCJlbmNvZGluZ1xcXCJcIjsgfSk7XG5FKCdFUlJfSU5WQUxJRF9SRVBMX0VWQUxfQ09ORklHJywgJ0Nhbm5vdCBzcGVjaWZ5IGJvdGggXCJicmVha0V2YWxPblNpZ2ludFwiIGFuZCBcImV2YWxcIiBmb3IgUkVQTCcpO1xuRSgnRVJSX0lOVkFMSURfU1lOQ19GT1JLX0lOUFVUJywgJ0FzeW5jaHJvbm91cyBmb3JrcyBkbyBub3Qgc3VwcG9ydCBCdWZmZXIsIFVpbnQ4QXJyYXkgb3Igc3RyaW5nIGlucHV0OiAlcycpO1xuRSgnRVJSX0lOVkFMSURfVEhJUycsICdWYWx1ZSBvZiBcInRoaXNcIiBtdXN0IGJlIG9mIHR5cGUgJXMnKTtcbkUoJ0VSUl9JTlZBTElEX1RVUExFJywgJyVzIG11c3QgYmUgYW4gaXRlcmFibGUgJXMgdHVwbGUnKTtcbkUoJ0VSUl9JTlZBTElEX1VSTCcsICdJbnZhbGlkIFVSTDogJXMnKTtcbkUoJ0VSUl9JTlZBTElEX1VSTF9TQ0hFTUUnLCBmdW5jdGlvbiAoZXhwZWN0ZWQpIHsgcmV0dXJuIFwiVGhlIFVSTCBtdXN0IGJlIFwiICsgb25lT2YoZXhwZWN0ZWQsICdzY2hlbWUnKTsgfSk7XG5FKCdFUlJfSVBDX0NIQU5ORUxfQ0xPU0VEJywgJ0NoYW5uZWwgY2xvc2VkJyk7XG5FKCdFUlJfSVBDX0RJU0NPTk5FQ1RFRCcsICdJUEMgY2hhbm5lbCBpcyBhbHJlYWR5IGRpc2Nvbm5lY3RlZCcpO1xuRSgnRVJSX0lQQ19PTkVfUElQRScsICdDaGlsZCBwcm9jZXNzIGNhbiBoYXZlIG9ubHkgb25lIElQQyBwaXBlJyk7XG5FKCdFUlJfSVBDX1NZTkNfRk9SSycsICdJUEMgY2Fubm90IGJlIHVzZWQgd2l0aCBzeW5jaHJvbm91cyBmb3JrcycpO1xuRSgnRVJSX01JU1NJTkdfQVJHUycsIG1pc3NpbmdBcmdzKTtcbkUoJ0VSUl9NVUxUSVBMRV9DQUxMQkFDSycsICdDYWxsYmFjayBjYWxsZWQgbXVsdGlwbGUgdGltZXMnKTtcbkUoJ0VSUl9OQVBJX0NPTlNfRlVOQ1RJT04nLCAnQ29uc3RydWN0b3IgbXVzdCBiZSBhIGZ1bmN0aW9uJyk7XG5FKCdFUlJfTkFQSV9DT05TX1BST1RPVFlQRV9PQkpFQ1QnLCAnQ29uc3RydWN0b3IucHJvdG90eXBlIG11c3QgYmUgYW4gb2JqZWN0Jyk7XG5FKCdFUlJfTk9fQ1JZUFRPJywgJ05vZGUuanMgaXMgbm90IGNvbXBpbGVkIHdpdGggT3BlblNTTCBjcnlwdG8gc3VwcG9ydCcpO1xuRSgnRVJSX05PX0xPTkdFUl9TVVBQT1JURUQnLCAnJXMgaXMgbm8gbG9uZ2VyIHN1cHBvcnRlZCcpO1xuRSgnRVJSX1BBUlNFX0hJU1RPUllfREFUQScsICdDb3VsZCBub3QgcGFyc2UgaGlzdG9yeSBkYXRhIGluICVzJyk7XG5FKCdFUlJfU09DS0VUX0FMUkVBRFlfQk9VTkQnLCAnU29ja2V0IGlzIGFscmVhZHkgYm91bmQnKTtcbkUoJ0VSUl9TT0NLRVRfQkFEX1BPUlQnLCAnUG9ydCBzaG91bGQgYmUgPiAwIGFuZCA8IDY1NTM2Jyk7XG5FKCdFUlJfU09DS0VUX0JBRF9UWVBFJywgJ0JhZCBzb2NrZXQgdHlwZSBzcGVjaWZpZWQuIFZhbGlkIHR5cGVzIGFyZTogdWRwNCwgdWRwNicpO1xuRSgnRVJSX1NPQ0tFVF9DQU5OT1RfU0VORCcsICdVbmFibGUgdG8gc2VuZCBkYXRhJyk7XG5FKCdFUlJfU09DS0VUX0NMT1NFRCcsICdTb2NrZXQgaXMgY2xvc2VkJyk7XG5FKCdFUlJfU09DS0VUX0RHUkFNX05PVF9SVU5OSU5HJywgJ05vdCBydW5uaW5nJyk7XG5FKCdFUlJfU1RERVJSX0NMT1NFJywgJ3Byb2Nlc3Muc3RkZXJyIGNhbm5vdCBiZSBjbG9zZWQnKTtcbkUoJ0VSUl9TVERPVVRfQ0xPU0UnLCAncHJvY2Vzcy5zdGRvdXQgY2Fubm90IGJlIGNsb3NlZCcpO1xuRSgnRVJSX1NUUkVBTV9XUkFQJywgJ1N0cmVhbSBoYXMgU3RyaW5nRGVjb2RlciBzZXQgb3IgaXMgaW4gb2JqZWN0TW9kZScpO1xuRSgnRVJSX1RMU19DRVJUX0FMVE5BTUVfSU5WQUxJRCcsIFwiSG9zdG5hbWUvSVAgZG9lcyBub3QgbWF0Y2ggY2VydGlmaWNhdGUncyBhbHRuYW1lczogJXNcIik7XG5FKCdFUlJfVExTX0RIX1BBUkFNX1NJWkUnLCBmdW5jdGlvbiAoc2l6ZSkgeyByZXR1cm4gXCJESCBwYXJhbWV0ZXIgc2l6ZSBcIiArIHNpemUgKyBcIiBpcyBsZXNzIHRoYW4gMjA0OFwiOyB9KTtcbkUoJ0VSUl9UTFNfSEFORFNIQUtFX1RJTUVPVVQnLCAnVExTIGhhbmRzaGFrZSB0aW1lb3V0Jyk7XG5FKCdFUlJfVExTX1JFTkVHT1RJQVRJT05fRkFJTEVEJywgJ0ZhaWxlZCB0byByZW5lZ290aWF0ZScpO1xuRSgnRVJSX1RMU19SRVFVSVJFRF9TRVJWRVJfTkFNRScsICdcInNlcnZlcm5hbWVcIiBpcyByZXF1aXJlZCBwYXJhbWV0ZXIgZm9yIFNlcnZlci5hZGRDb250ZXh0Jyk7XG5FKCdFUlJfVExTX1NFU1NJT05fQVRUQUNLJywgJ1RTTCBzZXNzaW9uIHJlbmVnb3RpYXRpb24gYXR0YWNrIGRldGVjdGVkJyk7XG5FKCdFUlJfVFJBTlNGT1JNX0FMUkVBRFlfVFJBTlNGT1JNSU5HJywgJ0NhbGxpbmcgdHJhbnNmb3JtIGRvbmUgd2hlbiBzdGlsbCB0cmFuc2Zvcm1pbmcnKTtcbkUoJ0VSUl9UUkFOU0ZPUk1fV0lUSF9MRU5HVEhfMCcsICdDYWxsaW5nIHRyYW5zZm9ybSBkb25lIHdoZW4gd3JpdGFibGVTdGF0ZS5sZW5ndGggIT0gMCcpO1xuRSgnRVJSX1VOS05PV05fRU5DT0RJTkcnLCAnVW5rbm93biBlbmNvZGluZzogJXMnKTtcbkUoJ0VSUl9VTktOT1dOX1NJR05BTCcsICdVbmtub3duIHNpZ25hbDogJXMnKTtcbkUoJ0VSUl9VTktOT1dOX1NURElOX1RZUEUnLCAnVW5rbm93biBzdGRpbiBmaWxlIHR5cGUnKTtcbkUoJ0VSUl9VTktOT1dOX1NUUkVBTV9UWVBFJywgJ1Vua25vd24gc3RyZWFtIGZpbGUgdHlwZScpO1xuRSgnRVJSX1Y4QlJFQUtJVEVSQVRPUicsICdGdWxsIElDVSBkYXRhIG5vdCBpbnN0YWxsZWQuICcgKyAnU2VlIGh0dHBzOi8vZ2l0aHViLmNvbS9ub2RlanMvbm9kZS93aWtpL0ludGwnKTtcbmZ1bmN0aW9uIGludmFsaWRBcmdUeXBlKG5hbWUsIGV4cGVjdGVkLCBhY3R1YWwpIHtcbiAgICBhc3NlcnQobmFtZSwgJ25hbWUgaXMgcmVxdWlyZWQnKTtcbiAgICAvLyBkZXRlcm1pbmVyOiAnbXVzdCBiZScgb3IgJ211c3Qgbm90IGJlJ1xuICAgIHZhciBkZXRlcm1pbmVyO1xuICAgIGlmIChleHBlY3RlZC5pbmNsdWRlcygnbm90ICcpKSB7XG4gICAgICAgIGRldGVybWluZXIgPSAnbXVzdCBub3QgYmUnO1xuICAgICAgICBleHBlY3RlZCA9IGV4cGVjdGVkLnNwbGl0KCdub3QgJylbMV07XG4gICAgfVxuICAgIGVsc2Uge1xuICAgICAgICBkZXRlcm1pbmVyID0gJ211c3QgYmUnO1xuICAgIH1cbiAgICB2YXIgbXNnO1xuICAgIGlmIChBcnJheS5pc0FycmF5KG5hbWUpKSB7XG4gICAgICAgIHZhciBuYW1lcyA9IG5hbWUubWFwKGZ1bmN0aW9uICh2YWwpIHsgcmV0dXJuIFwiXFxcIlwiICsgdmFsICsgXCJcXFwiXCI7IH0pLmpvaW4oJywgJyk7XG4gICAgICAgIG1zZyA9IFwiVGhlIFwiICsgbmFtZXMgKyBcIiBhcmd1bWVudHMgXCIgKyBkZXRlcm1pbmVyICsgXCIgXCIgKyBvbmVPZihleHBlY3RlZCwgJ3R5cGUnKTtcbiAgICB9XG4gICAgZWxzZSBpZiAobmFtZS5pbmNsdWRlcygnIGFyZ3VtZW50JykpIHtcbiAgICAgICAgLy8gZm9yIHRoZSBjYXNlIGxpa2UgJ2ZpcnN0IGFyZ3VtZW50J1xuICAgICAgICBtc2cgPSBcIlRoZSBcIiArIG5hbWUgKyBcIiBcIiArIGRldGVybWluZXIgKyBcIiBcIiArIG9uZU9mKGV4cGVjdGVkLCAndHlwZScpO1xuICAgIH1cbiAgICBlbHNlIHtcbiAgICAgICAgdmFyIHR5cGUgPSBuYW1lLmluY2x1ZGVzKCcuJykgPyAncHJvcGVydHknIDogJ2FyZ3VtZW50JztcbiAgICAgICAgbXNnID0gXCJUaGUgXFxcIlwiICsgbmFtZSArIFwiXFxcIiBcIiArIHR5cGUgKyBcIiBcIiArIGRldGVybWluZXIgKyBcIiBcIiArIG9uZU9mKGV4cGVjdGVkLCAndHlwZScpO1xuICAgIH1cbiAgICAvLyBpZiBhY3R1YWwgdmFsdWUgcmVjZWl2ZWQsIG91dHB1dCBpdFxuICAgIGlmIChhcmd1bWVudHMubGVuZ3RoID49IDMpIHtcbiAgICAgICAgbXNnICs9IFwiLiBSZWNlaXZlZCB0eXBlIFwiICsgKGFjdHVhbCAhPT0gbnVsbCA/IHR5cGVvZiBhY3R1YWwgOiAnbnVsbCcpO1xuICAgIH1cbiAgICByZXR1cm4gbXNnO1xufVxuZnVuY3Rpb24gbWlzc2luZ0FyZ3MoKSB7XG4gICAgdmFyIGFyZ3MgPSBbXTtcbiAgICBmb3IgKHZhciBfaSA9IDA7IF9pIDwgYXJndW1lbnRzLmxlbmd0aDsgX2krKykge1xuICAgICAgICBhcmdzW19pXSA9IGFyZ3VtZW50c1tfaV07XG4gICAgfVxuICAgIGFzc2VydChhcmdzLmxlbmd0aCA+IDAsICdBdCBsZWFzdCBvbmUgYXJnIG5lZWRzIHRvIGJlIHNwZWNpZmllZCcpO1xuICAgIHZhciBtc2cgPSAnVGhlICc7XG4gICAgdmFyIGxlbiA9IGFyZ3MubGVuZ3RoO1xuICAgIGFyZ3MgPSBhcmdzLm1hcChmdW5jdGlvbiAoYSkgeyByZXR1cm4gXCJcXFwiXCIgKyBhICsgXCJcXFwiXCI7IH0pO1xuICAgIHN3aXRjaCAobGVuKSB7XG4gICAgICAgIGNhc2UgMTpcbiAgICAgICAgICAgIG1zZyArPSBhcmdzWzBdICsgXCIgYXJndW1lbnRcIjtcbiAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICBjYXNlIDI6XG4gICAgICAgICAgICBtc2cgKz0gYXJnc1swXSArIFwiIGFuZCBcIiArIGFyZ3NbMV0gKyBcIiBhcmd1bWVudHNcIjtcbiAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICBkZWZhdWx0OlxuICAgICAgICAgICAgbXNnICs9IGFyZ3Muc2xpY2UoMCwgbGVuIC0gMSkuam9pbignLCAnKTtcbiAgICAgICAgICAgIG1zZyArPSBcIiwgYW5kIFwiICsgYXJnc1tsZW4gLSAxXSArIFwiIGFyZ3VtZW50c1wiO1xuICAgICAgICAgICAgYnJlYWs7XG4gICAgfVxuICAgIHJldHVybiBtc2cgKyBcIiBtdXN0IGJlIHNwZWNpZmllZFwiO1xufVxuZnVuY3Rpb24gb25lT2YoZXhwZWN0ZWQsIHRoaW5nKSB7XG4gICAgYXNzZXJ0KGV4cGVjdGVkLCAnZXhwZWN0ZWQgaXMgcmVxdWlyZWQnKTtcbiAgICBhc3NlcnQodHlwZW9mIHRoaW5nID09PSAnc3RyaW5nJywgJ3RoaW5nIGlzIHJlcXVpcmVkJyk7XG4gICAgaWYgKEFycmF5LmlzQXJyYXkoZXhwZWN0ZWQpKSB7XG4gICAgICAgIHZhciBsZW4gPSBleHBlY3RlZC5sZW5ndGg7XG4gICAgICAgIGFzc2VydChsZW4gPiAwLCAnQXQgbGVhc3Qgb25lIGV4cGVjdGVkIHZhbHVlIG5lZWRzIHRvIGJlIHNwZWNpZmllZCcpO1xuICAgICAgICAvLyB0c2xpbnQ6ZGlzYWJsZS1uZXh0LWxpbmVcbiAgICAgICAgZXhwZWN0ZWQgPSBleHBlY3RlZC5tYXAoZnVuY3Rpb24gKGkpIHsgcmV0dXJuIFN0cmluZyhpKTsgfSk7XG4gICAgICAgIGlmIChsZW4gPiAyKSB7XG4gICAgICAgICAgICByZXR1cm4gXCJvbmUgb2YgXCIgKyB0aGluZyArIFwiIFwiICsgZXhwZWN0ZWQuc2xpY2UoMCwgbGVuIC0gMSkuam9pbignLCAnKSArIFwiLCBvciBcIiArIGV4cGVjdGVkW2xlbiAtIDFdO1xuICAgICAgICB9XG4gICAgICAgIGVsc2UgaWYgKGxlbiA9PT0gMikge1xuICAgICAgICAgICAgcmV0dXJuIFwib25lIG9mIFwiICsgdGhpbmcgKyBcIiBcIiArIGV4cGVjdGVkWzBdICsgXCIgb3IgXCIgKyBleHBlY3RlZFsxXTtcbiAgICAgICAgfVxuICAgICAgICBlbHNlIHtcbiAgICAgICAgICAgIHJldHVybiBcIm9mIFwiICsgdGhpbmcgKyBcIiBcIiArIGV4cGVjdGVkWzBdO1xuICAgICAgICB9XG4gICAgfVxuICAgIGVsc2Uge1xuICAgICAgICByZXR1cm4gXCJvZiBcIiArIHRoaW5nICsgXCIgXCIgKyBTdHJpbmcoZXhwZWN0ZWQpO1xuICAgIH1cbn1cbmZ1bmN0aW9uIGJ1ZmZlck91dE9mQm91bmRzKG5hbWUsIGlzV3JpdGluZykge1xuICAgIGlmIChpc1dyaXRpbmcpIHtcbiAgICAgICAgcmV0dXJuICdBdHRlbXB0IHRvIHdyaXRlIG91dHNpZGUgYnVmZmVyIGJvdW5kcyc7XG4gICAgfVxuICAgIGVsc2Uge1xuICAgICAgICByZXR1cm4gXCJcXFwiXCIgKyBuYW1lICsgXCJcXFwiIGlzIG91dHNpZGUgb2YgYnVmZmVyIGJvdW5kc1wiO1xuICAgIH1cbn1cbiIsICJcInVzZSBzdHJpY3RcIjtcbk9iamVjdC5kZWZpbmVQcm9wZXJ0eShleHBvcnRzLCBcIl9fZXNNb2R1bGVcIiwgeyB2YWx1ZTogdHJ1ZSB9KTtcbnZhciBidWZmZXJfMSA9IHJlcXVpcmUoXCIuL2ludGVybmFsL2J1ZmZlclwiKTtcbnZhciBlcnJvcnMgPSByZXF1aXJlKFwiLi9pbnRlcm5hbC9lcnJvcnNcIik7XG5leHBvcnRzLkVOQ09ESU5HX1VURjggPSAndXRmOCc7XG5mdW5jdGlvbiBhc3NlcnRFbmNvZGluZyhlbmNvZGluZykge1xuICAgIGlmIChlbmNvZGluZyAmJiAhYnVmZmVyXzEuQnVmZmVyLmlzRW5jb2RpbmcoZW5jb2RpbmcpKVxuICAgICAgICB0aHJvdyBuZXcgZXJyb3JzLlR5cGVFcnJvcignRVJSX0lOVkFMSURfT1BUX1ZBTFVFX0VOQ09ESU5HJywgZW5jb2RpbmcpO1xufVxuZXhwb3J0cy5hc3NlcnRFbmNvZGluZyA9IGFzc2VydEVuY29kaW5nO1xuZnVuY3Rpb24gc3RyVG9FbmNvZGluZyhzdHIsIGVuY29kaW5nKSB7XG4gICAgaWYgKCFlbmNvZGluZyB8fCBlbmNvZGluZyA9PT0gZXhwb3J0cy5FTkNPRElOR19VVEY4KVxuICAgICAgICByZXR1cm4gc3RyOyAvLyBVVEYtOFxuICAgIGlmIChlbmNvZGluZyA9PT0gJ2J1ZmZlcicpXG4gICAgICAgIHJldHVybiBuZXcgYnVmZmVyXzEuQnVmZmVyKHN0cik7IC8vIGBidWZmZXJgIGVuY29kaW5nXG4gICAgcmV0dXJuIG5ldyBidWZmZXJfMS5CdWZmZXIoc3RyKS50b1N0cmluZyhlbmNvZGluZyk7IC8vIEN1c3RvbSBlbmNvZGluZ1xufVxuZXhwb3J0cy5zdHJUb0VuY29kaW5nID0gc3RyVG9FbmNvZGluZztcbiIsICJcInVzZSBzdHJpY3RcIjtcbk9iamVjdC5kZWZpbmVQcm9wZXJ0eShleHBvcnRzLCBcIl9fZXNNb2R1bGVcIiwgeyB2YWx1ZTogdHJ1ZSB9KTtcbnZhciBjb25zdGFudHNfMSA9IHJlcXVpcmUoXCIuL2NvbnN0YW50c1wiKTtcbnZhciBlbmNvZGluZ18xID0gcmVxdWlyZShcIi4vZW5jb2RpbmdcIik7XG52YXIgU19JRk1UID0gY29uc3RhbnRzXzEuY29uc3RhbnRzLlNfSUZNVCwgU19JRkRJUiA9IGNvbnN0YW50c18xLmNvbnN0YW50cy5TX0lGRElSLCBTX0lGUkVHID0gY29uc3RhbnRzXzEuY29uc3RhbnRzLlNfSUZSRUcsIFNfSUZCTEsgPSBjb25zdGFudHNfMS5jb25zdGFudHMuU19JRkJMSywgU19JRkNIUiA9IGNvbnN0YW50c18xLmNvbnN0YW50cy5TX0lGQ0hSLCBTX0lGTE5LID0gY29uc3RhbnRzXzEuY29uc3RhbnRzLlNfSUZMTkssIFNfSUZJRk8gPSBjb25zdGFudHNfMS5jb25zdGFudHMuU19JRklGTywgU19JRlNPQ0sgPSBjb25zdGFudHNfMS5jb25zdGFudHMuU19JRlNPQ0s7XG4vKipcbiAqIEEgZGlyZWN0b3J5IGVudHJ5LCBsaWtlIGBmcy5EaXJlbnRgLlxuICovXG52YXIgRGlyZW50ID0gLyoqIEBjbGFzcyAqLyAoZnVuY3Rpb24gKCkge1xuICAgIGZ1bmN0aW9uIERpcmVudCgpIHtcbiAgICAgICAgdGhpcy5uYW1lID0gJyc7XG4gICAgICAgIHRoaXMubW9kZSA9IDA7XG4gICAgfVxuICAgIERpcmVudC5idWlsZCA9IGZ1bmN0aW9uIChsaW5rLCBlbmNvZGluZykge1xuICAgICAgICB2YXIgZGlyZW50ID0gbmV3IERpcmVudCgpO1xuICAgICAgICB2YXIgbW9kZSA9IGxpbmsuZ2V0Tm9kZSgpLm1vZGU7XG4gICAgICAgIGRpcmVudC5uYW1lID0gZW5jb2RpbmdfMS5zdHJUb0VuY29kaW5nKGxpbmsuZ2V0TmFtZSgpLCBlbmNvZGluZyk7XG4gICAgICAgIGRpcmVudC5tb2RlID0gbW9kZTtcbiAgICAgICAgcmV0dXJuIGRpcmVudDtcbiAgICB9O1xuICAgIERpcmVudC5wcm90b3R5cGUuX2NoZWNrTW9kZVByb3BlcnR5ID0gZnVuY3Rpb24gKHByb3BlcnR5KSB7XG4gICAgICAgIHJldHVybiAodGhpcy5tb2RlICYgU19JRk1UKSA9PT0gcHJvcGVydHk7XG4gICAgfTtcbiAgICBEaXJlbnQucHJvdG90eXBlLmlzRGlyZWN0b3J5ID0gZnVuY3Rpb24gKCkge1xuICAgICAgICByZXR1cm4gdGhpcy5fY2hlY2tNb2RlUHJvcGVydHkoU19JRkRJUik7XG4gICAgfTtcbiAgICBEaXJlbnQucHJvdG90eXBlLmlzRmlsZSA9IGZ1bmN0aW9uICgpIHtcbiAgICAgICAgcmV0dXJuIHRoaXMuX2NoZWNrTW9kZVByb3BlcnR5KFNfSUZSRUcpO1xuICAgIH07XG4gICAgRGlyZW50LnByb3RvdHlwZS5pc0Jsb2NrRGV2aWNlID0gZnVuY3Rpb24gKCkge1xuICAgICAgICByZXR1cm4gdGhpcy5fY2hlY2tNb2RlUHJvcGVydHkoU19JRkJMSyk7XG4gICAgfTtcbiAgICBEaXJlbnQucHJvdG90eXBlLmlzQ2hhcmFjdGVyRGV2aWNlID0gZnVuY3Rpb24gKCkge1xuICAgICAgICByZXR1cm4gdGhpcy5fY2hlY2tNb2RlUHJvcGVydHkoU19JRkNIUik7XG4gICAgfTtcbiAgICBEaXJlbnQucHJvdG90eXBlLmlzU3ltYm9saWNMaW5rID0gZnVuY3Rpb24gKCkge1xuICAgICAgICByZXR1cm4gdGhpcy5fY2hlY2tNb2RlUHJvcGVydHkoU19JRkxOSyk7XG4gICAgfTtcbiAgICBEaXJlbnQucHJvdG90eXBlLmlzRklGTyA9IGZ1bmN0aW9uICgpIHtcbiAgICAgICAgcmV0dXJuIHRoaXMuX2NoZWNrTW9kZVByb3BlcnR5KFNfSUZJRk8pO1xuICAgIH07XG4gICAgRGlyZW50LnByb3RvdHlwZS5pc1NvY2tldCA9IGZ1bmN0aW9uICgpIHtcbiAgICAgICAgcmV0dXJuIHRoaXMuX2NoZWNrTW9kZVByb3BlcnR5KFNfSUZTT0NLKTtcbiAgICB9O1xuICAgIHJldHVybiBEaXJlbnQ7XG59KCkpO1xuZXhwb3J0cy5EaXJlbnQgPSBEaXJlbnQ7XG5leHBvcnRzLmRlZmF1bHQgPSBEaXJlbnQ7XG4iLCAiLy8gc2hpbSBmb3IgdXNpbmcgcHJvY2VzcyBpbiBicm93c2VyXG52YXIgcHJvY2VzcyA9IG1vZHVsZS5leHBvcnRzID0ge307XG5cbi8vIGNhY2hlZCBmcm9tIHdoYXRldmVyIGdsb2JhbCBpcyBwcmVzZW50IHNvIHRoYXQgdGVzdCBydW5uZXJzIHRoYXQgc3R1YiBpdFxuLy8gZG9uJ3QgYnJlYWsgdGhpbmdzLiAgQnV0IHdlIG5lZWQgdG8gd3JhcCBpdCBpbiBhIHRyeSBjYXRjaCBpbiBjYXNlIGl0IGlzXG4vLyB3cmFwcGVkIGluIHN0cmljdCBtb2RlIGNvZGUgd2hpY2ggZG9lc24ndCBkZWZpbmUgYW55IGdsb2JhbHMuICBJdCdzIGluc2lkZSBhXG4vLyBmdW5jdGlvbiBiZWNhdXNlIHRyeS9jYXRjaGVzIGRlb3B0aW1pemUgaW4gY2VydGFpbiBlbmdpbmVzLlxuXG52YXIgY2FjaGVkU2V0VGltZW91dDtcbnZhciBjYWNoZWRDbGVhclRpbWVvdXQ7XG5cbmZ1bmN0aW9uIGRlZmF1bHRTZXRUaW1vdXQoKSB7XG4gICAgdGhyb3cgbmV3IEVycm9yKCdzZXRUaW1lb3V0IGhhcyBub3QgYmVlbiBkZWZpbmVkJyk7XG59XG5mdW5jdGlvbiBkZWZhdWx0Q2xlYXJUaW1lb3V0ICgpIHtcbiAgICB0aHJvdyBuZXcgRXJyb3IoJ2NsZWFyVGltZW91dCBoYXMgbm90IGJlZW4gZGVmaW5lZCcpO1xufVxuKGZ1bmN0aW9uICgpIHtcbiAgICB0cnkge1xuICAgICAgICBpZiAodHlwZW9mIHNldFRpbWVvdXQgPT09ICdmdW5jdGlvbicpIHtcbiAgICAgICAgICAgIGNhY2hlZFNldFRpbWVvdXQgPSBzZXRUaW1lb3V0O1xuICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgY2FjaGVkU2V0VGltZW91dCA9IGRlZmF1bHRTZXRUaW1vdXQ7XG4gICAgICAgIH1cbiAgICB9IGNhdGNoIChlKSB7XG4gICAgICAgIGNhY2hlZFNldFRpbWVvdXQgPSBkZWZhdWx0U2V0VGltb3V0O1xuICAgIH1cbiAgICB0cnkge1xuICAgICAgICBpZiAodHlwZW9mIGNsZWFyVGltZW91dCA9PT0gJ2Z1bmN0aW9uJykge1xuICAgICAgICAgICAgY2FjaGVkQ2xlYXJUaW1lb3V0ID0gY2xlYXJUaW1lb3V0O1xuICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgY2FjaGVkQ2xlYXJUaW1lb3V0ID0gZGVmYXVsdENsZWFyVGltZW91dDtcbiAgICAgICAgfVxuICAgIH0gY2F0Y2ggKGUpIHtcbiAgICAgICAgY2FjaGVkQ2xlYXJUaW1lb3V0ID0gZGVmYXVsdENsZWFyVGltZW91dDtcbiAgICB9XG59ICgpKVxuZnVuY3Rpb24gcnVuVGltZW91dChmdW4pIHtcbiAgICBpZiAoY2FjaGVkU2V0VGltZW91dCA9PT0gc2V0VGltZW91dCkge1xuICAgICAgICAvL25vcm1hbCBlbnZpcm9tZW50cyBpbiBzYW5lIHNpdHVhdGlvbnNcbiAgICAgICAgcmV0dXJuIHNldFRpbWVvdXQoZnVuLCAwKTtcbiAgICB9XG4gICAgLy8gaWYgc2V0VGltZW91dCB3YXNuJ3QgYXZhaWxhYmxlIGJ1dCB3YXMgbGF0dGVyIGRlZmluZWRcbiAgICBpZiAoKGNhY2hlZFNldFRpbWVvdXQgPT09IGRlZmF1bHRTZXRUaW1vdXQgfHwgIWNhY2hlZFNldFRpbWVvdXQpICYmIHNldFRpbWVvdXQpIHtcbiAgICAgICAgY2FjaGVkU2V0VGltZW91dCA9IHNldFRpbWVvdXQ7XG4gICAgICAgIHJldHVybiBzZXRUaW1lb3V0KGZ1biwgMCk7XG4gICAgfVxuICAgIHRyeSB7XG4gICAgICAgIC8vIHdoZW4gd2hlbiBzb21lYm9keSBoYXMgc2NyZXdlZCB3aXRoIHNldFRpbWVvdXQgYnV0IG5vIEkuRS4gbWFkZG5lc3NcbiAgICAgICAgcmV0dXJuIGNhY2hlZFNldFRpbWVvdXQoZnVuLCAwKTtcbiAgICB9IGNhdGNoKGUpe1xuICAgICAgICB0cnkge1xuICAgICAgICAgICAgLy8gV2hlbiB3ZSBhcmUgaW4gSS5FLiBidXQgdGhlIHNjcmlwdCBoYXMgYmVlbiBldmFsZWQgc28gSS5FLiBkb2Vzbid0IHRydXN0IHRoZSBnbG9iYWwgb2JqZWN0IHdoZW4gY2FsbGVkIG5vcm1hbGx5XG4gICAgICAgICAgICByZXR1cm4gY2FjaGVkU2V0VGltZW91dC5jYWxsKG51bGwsIGZ1biwgMCk7XG4gICAgICAgIH0gY2F0Y2goZSl7XG4gICAgICAgICAgICAvLyBzYW1lIGFzIGFib3ZlIGJ1dCB3aGVuIGl0J3MgYSB2ZXJzaW9uIG9mIEkuRS4gdGhhdCBtdXN0IGhhdmUgdGhlIGdsb2JhbCBvYmplY3QgZm9yICd0aGlzJywgaG9wZnVsbHkgb3VyIGNvbnRleHQgY29ycmVjdCBvdGhlcndpc2UgaXQgd2lsbCB0aHJvdyBhIGdsb2JhbCBlcnJvclxuICAgICAgICAgICAgcmV0dXJuIGNhY2hlZFNldFRpbWVvdXQuY2FsbCh0aGlzLCBmdW4sIDApO1xuICAgICAgICB9XG4gICAgfVxuXG5cbn1cbmZ1bmN0aW9uIHJ1bkNsZWFyVGltZW91dChtYXJrZXIpIHtcbiAgICBpZiAoY2FjaGVkQ2xlYXJUaW1lb3V0ID09PSBjbGVhclRpbWVvdXQpIHtcbiAgICAgICAgLy9ub3JtYWwgZW52aXJvbWVudHMgaW4gc2FuZSBzaXR1YXRpb25zXG4gICAgICAgIHJldHVybiBjbGVhclRpbWVvdXQobWFya2VyKTtcbiAgICB9XG4gICAgLy8gaWYgY2xlYXJUaW1lb3V0IHdhc24ndCBhdmFpbGFibGUgYnV0IHdhcyBsYXR0ZXIgZGVmaW5lZFxuICAgIGlmICgoY2FjaGVkQ2xlYXJUaW1lb3V0ID09PSBkZWZhdWx0Q2xlYXJUaW1lb3V0IHx8ICFjYWNoZWRDbGVhclRpbWVvdXQpICYmIGNsZWFyVGltZW91dCkge1xuICAgICAgICBjYWNoZWRDbGVhclRpbWVvdXQgPSBjbGVhclRpbWVvdXQ7XG4gICAgICAgIHJldHVybiBjbGVhclRpbWVvdXQobWFya2VyKTtcbiAgICB9XG4gICAgdHJ5IHtcbiAgICAgICAgLy8gd2hlbiB3aGVuIHNvbWVib2R5IGhhcyBzY3Jld2VkIHdpdGggc2V0VGltZW91dCBidXQgbm8gSS5FLiBtYWRkbmVzc1xuICAgICAgICByZXR1cm4gY2FjaGVkQ2xlYXJUaW1lb3V0KG1hcmtlcik7XG4gICAgfSBjYXRjaCAoZSl7XG4gICAgICAgIHRyeSB7XG4gICAgICAgICAgICAvLyBXaGVuIHdlIGFyZSBpbiBJLkUuIGJ1dCB0aGUgc2NyaXB0IGhhcyBiZWVuIGV2YWxlZCBzbyBJLkUuIGRvZXNuJ3QgIHRydXN0IHRoZSBnbG9iYWwgb2JqZWN0IHdoZW4gY2FsbGVkIG5vcm1hbGx5XG4gICAgICAgICAgICByZXR1cm4gY2FjaGVkQ2xlYXJUaW1lb3V0LmNhbGwobnVsbCwgbWFya2VyKTtcbiAgICAgICAgfSBjYXRjaCAoZSl7XG4gICAgICAgICAgICAvLyBzYW1lIGFzIGFib3ZlIGJ1dCB3aGVuIGl0J3MgYSB2ZXJzaW9uIG9mIEkuRS4gdGhhdCBtdXN0IGhhdmUgdGhlIGdsb2JhbCBvYmplY3QgZm9yICd0aGlzJywgaG9wZnVsbHkgb3VyIGNvbnRleHQgY29ycmVjdCBvdGhlcndpc2UgaXQgd2lsbCB0aHJvdyBhIGdsb2JhbCBlcnJvci5cbiAgICAgICAgICAgIC8vIFNvbWUgdmVyc2lvbnMgb2YgSS5FLiBoYXZlIGRpZmZlcmVudCBydWxlcyBmb3IgY2xlYXJUaW1lb3V0IHZzIHNldFRpbWVvdXRcbiAgICAgICAgICAgIHJldHVybiBjYWNoZWRDbGVhclRpbWVvdXQuY2FsbCh0aGlzLCBtYXJrZXIpO1xuICAgICAgICB9XG4gICAgfVxuXG5cblxufVxudmFyIHF1ZXVlID0gW107XG52YXIgZHJhaW5pbmcgPSBmYWxzZTtcbnZhciBjdXJyZW50UXVldWU7XG52YXIgcXVldWVJbmRleCA9IC0xO1xuXG5mdW5jdGlvbiBjbGVhblVwTmV4dFRpY2soKSB7XG4gICAgaWYgKCFkcmFpbmluZyB8fCAhY3VycmVudFF1ZXVlKSB7XG4gICAgICAgIHJldHVybjtcbiAgICB9XG4gICAgZHJhaW5pbmcgPSBmYWxzZTtcbiAgICBpZiAoY3VycmVudFF1ZXVlLmxlbmd0aCkge1xuICAgICAgICBxdWV1ZSA9IGN1cnJlbnRRdWV1ZS5jb25jYXQocXVldWUpO1xuICAgIH0gZWxzZSB7XG4gICAgICAgIHF1ZXVlSW5kZXggPSAtMTtcbiAgICB9XG4gICAgaWYgKHF1ZXVlLmxlbmd0aCkge1xuICAgICAgICBkcmFpblF1ZXVlKCk7XG4gICAgfVxufVxuXG5mdW5jdGlvbiBkcmFpblF1ZXVlKCkge1xuICAgIGlmIChkcmFpbmluZykge1xuICAgICAgICByZXR1cm47XG4gICAgfVxuICAgIHZhciB0aW1lb3V0ID0gcnVuVGltZW91dChjbGVhblVwTmV4dFRpY2spO1xuICAgIGRyYWluaW5nID0gdHJ1ZTtcblxuICAgIHZhciBsZW4gPSBxdWV1ZS5sZW5ndGg7XG4gICAgd2hpbGUobGVuKSB7XG4gICAgICAgIGN1cnJlbnRRdWV1ZSA9IHF1ZXVlO1xuICAgICAgICBxdWV1ZSA9IFtdO1xuICAgICAgICB3aGlsZSAoKytxdWV1ZUluZGV4IDwgbGVuKSB7XG4gICAgICAgICAgICBpZiAoY3VycmVudFF1ZXVlKSB7XG4gICAgICAgICAgICAgICAgY3VycmVudFF1ZXVlW3F1ZXVlSW5kZXhdLnJ1bigpO1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICAgIHF1ZXVlSW5kZXggPSAtMTtcbiAgICAgICAgbGVuID0gcXVldWUubGVuZ3RoO1xuICAgIH1cbiAgICBjdXJyZW50UXVldWUgPSBudWxsO1xuICAgIGRyYWluaW5nID0gZmFsc2U7XG4gICAgcnVuQ2xlYXJUaW1lb3V0KHRpbWVvdXQpO1xufVxuXG5wcm9jZXNzLm5leHRUaWNrID0gZnVuY3Rpb24gKGZ1bikge1xuICAgIHZhciBhcmdzID0gbmV3IEFycmF5KGFyZ3VtZW50cy5sZW5ndGggLSAxKTtcbiAgICBpZiAoYXJndW1lbnRzLmxlbmd0aCA+IDEpIHtcbiAgICAgICAgZm9yICh2YXIgaSA9IDE7IGkgPCBhcmd1bWVudHMubGVuZ3RoOyBpKyspIHtcbiAgICAgICAgICAgIGFyZ3NbaSAtIDFdID0gYXJndW1lbnRzW2ldO1xuICAgICAgICB9XG4gICAgfVxuICAgIHF1ZXVlLnB1c2gobmV3IEl0ZW0oZnVuLCBhcmdzKSk7XG4gICAgaWYgKHF1ZXVlLmxlbmd0aCA9PT0gMSAmJiAhZHJhaW5pbmcpIHtcbiAgICAgICAgcnVuVGltZW91dChkcmFpblF1ZXVlKTtcbiAgICB9XG59O1xuXG4vLyB2OCBsaWtlcyBwcmVkaWN0aWJsZSBvYmplY3RzXG5mdW5jdGlvbiBJdGVtKGZ1biwgYXJyYXkpIHtcbiAgICB0aGlzLmZ1biA9IGZ1bjtcbiAgICB0aGlzLmFycmF5ID0gYXJyYXk7XG59XG5JdGVtLnByb3RvdHlwZS5ydW4gPSBmdW5jdGlvbiAoKSB7XG4gICAgdGhpcy5mdW4uYXBwbHkobnVsbCwgdGhpcy5hcnJheSk7XG59O1xucHJvY2Vzcy50aXRsZSA9ICdicm93c2VyJztcbnByb2Nlc3MuYnJvd3NlciA9IHRydWU7XG5wcm9jZXNzLmVudiA9IHt9O1xucHJvY2Vzcy5hcmd2ID0gW107XG5wcm9jZXNzLnZlcnNpb24gPSAnJzsgLy8gZW1wdHkgc3RyaW5nIHRvIGF2b2lkIHJlZ2V4cCBpc3N1ZXNcbnByb2Nlc3MudmVyc2lvbnMgPSB7fTtcblxuZnVuY3Rpb24gbm9vcCgpIHt9XG5cbnByb2Nlc3Mub24gPSBub29wO1xucHJvY2Vzcy5hZGRMaXN0ZW5lciA9IG5vb3A7XG5wcm9jZXNzLm9uY2UgPSBub29wO1xucHJvY2Vzcy5vZmYgPSBub29wO1xucHJvY2Vzcy5yZW1vdmVMaXN0ZW5lciA9IG5vb3A7XG5wcm9jZXNzLnJlbW92ZUFsbExpc3RlbmVycyA9IG5vb3A7XG5wcm9jZXNzLmVtaXQgPSBub29wO1xucHJvY2Vzcy5wcmVwZW5kTGlzdGVuZXIgPSBub29wO1xucHJvY2Vzcy5wcmVwZW5kT25jZUxpc3RlbmVyID0gbm9vcDtcblxucHJvY2Vzcy5saXN0ZW5lcnMgPSBmdW5jdGlvbiAobmFtZSkgeyByZXR1cm4gW10gfVxuXG5wcm9jZXNzLmJpbmRpbmcgPSBmdW5jdGlvbiAobmFtZSkge1xuICAgIHRocm93IG5ldyBFcnJvcigncHJvY2Vzcy5iaW5kaW5nIGlzIG5vdCBzdXBwb3J0ZWQnKTtcbn07XG5cbnByb2Nlc3MuY3dkID0gZnVuY3Rpb24gKCkgeyByZXR1cm4gJy8nIH07XG5wcm9jZXNzLmNoZGlyID0gZnVuY3Rpb24gKGRpcikge1xuICAgIHRocm93IG5ldyBFcnJvcigncHJvY2Vzcy5jaGRpciBpcyBub3Qgc3VwcG9ydGVkJyk7XG59O1xucHJvY2Vzcy51bWFzayA9IGZ1bmN0aW9uKCkgeyByZXR1cm4gMDsgfTtcbiIsICJcInVzZSBzdHJpY3RcIjtcbk9iamVjdC5kZWZpbmVQcm9wZXJ0eShleHBvcnRzLCBcIl9fZXNNb2R1bGVcIiwgeyB2YWx1ZTogdHJ1ZSB9KTtcbnZhciBfc2V0SW1tZWRpYXRlO1xuaWYgKHR5cGVvZiBzZXRJbW1lZGlhdGUgPT09ICdmdW5jdGlvbicpXG4gICAgX3NldEltbWVkaWF0ZSA9IHNldEltbWVkaWF0ZS5iaW5kKGdsb2JhbCk7XG5lbHNlXG4gICAgX3NldEltbWVkaWF0ZSA9IHNldFRpbWVvdXQuYmluZChnbG9iYWwpO1xuZXhwb3J0cy5kZWZhdWx0ID0gX3NldEltbWVkaWF0ZTtcbiIsICJcInVzZSBzdHJpY3RcIjtcbi8vIEhlcmUgd2UgbW9jayB0aGUgZ2xvYmFsIGBwcm9jZXNzYCB2YXJpYWJsZSBpbiBjYXNlIHdlIGFyZSBub3QgaW4gTm9kZSdzIGVudmlyb25tZW50LlxuT2JqZWN0LmRlZmluZVByb3BlcnR5KGV4cG9ydHMsIFwiX19lc01vZHVsZVwiLCB7IHZhbHVlOiB0cnVlIH0pO1xuLyoqXG4gKiBMb29rcyB0byByZXR1cm4gYSBgcHJvY2Vzc2Agb2JqZWN0LCBpZiBvbmUgaXMgYXZhaWxhYmxlLlxuICpcbiAqIFRoZSBnbG9iYWwgYHByb2Nlc3NgIGlzIHJldHVybmVkIGlmIGRlZmluZWQ7XG4gKiBvdGhlcndpc2UgYHJlcXVpcmUoJ3Byb2Nlc3MnKWAgaXMgYXR0ZW1wdGVkLlxuICpcbiAqIElmIHRoYXQgZmFpbHMsIGB1bmRlZmluZWRgIGlzIHJldHVybmVkLlxuICpcbiAqIEByZXR1cm4ge0lQcm9jZXNzIHwgdW5kZWZpbmVkfVxuICovXG52YXIgbWF5YmVSZXR1cm5Qcm9jZXNzID0gZnVuY3Rpb24gKCkge1xuICAgIGlmICh0eXBlb2YgcHJvY2VzcyAhPT0gJ3VuZGVmaW5lZCcpIHtcbiAgICAgICAgcmV0dXJuIHByb2Nlc3M7XG4gICAgfVxuICAgIHRyeSB7XG4gICAgICAgIHJldHVybiByZXF1aXJlKCdwcm9jZXNzJyk7XG4gICAgfVxuICAgIGNhdGNoIChfYSkge1xuICAgICAgICByZXR1cm4gdW5kZWZpbmVkO1xuICAgIH1cbn07XG5mdW5jdGlvbiBjcmVhdGVQcm9jZXNzKCkge1xuICAgIHZhciBwID0gbWF5YmVSZXR1cm5Qcm9jZXNzKCkgfHwge307XG4gICAgaWYgKCFwLmdldHVpZClcbiAgICAgICAgcC5nZXR1aWQgPSBmdW5jdGlvbiAoKSB7IHJldHVybiAwOyB9O1xuICAgIGlmICghcC5nZXRnaWQpXG4gICAgICAgIHAuZ2V0Z2lkID0gZnVuY3Rpb24gKCkgeyByZXR1cm4gMDsgfTtcbiAgICBpZiAoIXAuY3dkKVxuICAgICAgICBwLmN3ZCA9IGZ1bmN0aW9uICgpIHsgcmV0dXJuICcvJzsgfTtcbiAgICBpZiAoIXAubmV4dFRpY2spXG4gICAgICAgIHAubmV4dFRpY2sgPSByZXF1aXJlKCcuL3NldEltbWVkaWF0ZScpLmRlZmF1bHQ7XG4gICAgaWYgKCFwLmVtaXRXYXJuaW5nKVxuICAgICAgICBwLmVtaXRXYXJuaW5nID0gZnVuY3Rpb24gKG1lc3NhZ2UsIHR5cGUpIHtcbiAgICAgICAgICAgIC8vIHRzbGludDpkaXNhYmxlLW5leHQtbGluZTpuby1jb25zb2xlXG4gICAgICAgICAgICBjb25zb2xlLndhcm4oXCJcIiArIHR5cGUgKyAodHlwZSA/ICc6ICcgOiAnJykgKyBtZXNzYWdlKTtcbiAgICAgICAgfTtcbiAgICBpZiAoIXAuZW52KVxuICAgICAgICBwLmVudiA9IHt9O1xuICAgIHJldHVybiBwO1xufVxuZXhwb3J0cy5jcmVhdGVQcm9jZXNzID0gY3JlYXRlUHJvY2VzcztcbmV4cG9ydHMuZGVmYXVsdCA9IGNyZWF0ZVByb2Nlc3MoKTtcbiIsICJcInVzZSBzdHJpY3RcIjtcbnZhciBfX2V4dGVuZHMgPSAodGhpcyAmJiB0aGlzLl9fZXh0ZW5kcykgfHwgKGZ1bmN0aW9uICgpIHtcbiAgICB2YXIgZXh0ZW5kU3RhdGljcyA9IGZ1bmN0aW9uIChkLCBiKSB7XG4gICAgICAgIGV4dGVuZFN0YXRpY3MgPSBPYmplY3Quc2V0UHJvdG90eXBlT2YgfHxcbiAgICAgICAgICAgICh7IF9fcHJvdG9fXzogW10gfSBpbnN0YW5jZW9mIEFycmF5ICYmIGZ1bmN0aW9uIChkLCBiKSB7IGQuX19wcm90b19fID0gYjsgfSkgfHxcbiAgICAgICAgICAgIGZ1bmN0aW9uIChkLCBiKSB7IGZvciAodmFyIHAgaW4gYikgaWYgKGIuaGFzT3duUHJvcGVydHkocCkpIGRbcF0gPSBiW3BdOyB9O1xuICAgICAgICByZXR1cm4gZXh0ZW5kU3RhdGljcyhkLCBiKTtcbiAgICB9O1xuICAgIHJldHVybiBmdW5jdGlvbiAoZCwgYikge1xuICAgICAgICBleHRlbmRTdGF0aWNzKGQsIGIpO1xuICAgICAgICBmdW5jdGlvbiBfXygpIHsgdGhpcy5jb25zdHJ1Y3RvciA9IGQ7IH1cbiAgICAgICAgZC5wcm90b3R5cGUgPSBiID09PSBudWxsID8gT2JqZWN0LmNyZWF0ZShiKSA6IChfXy5wcm90b3R5cGUgPSBiLnByb3RvdHlwZSwgbmV3IF9fKCkpO1xuICAgIH07XG59KSgpO1xuT2JqZWN0LmRlZmluZVByb3BlcnR5KGV4cG9ydHMsIFwiX19lc01vZHVsZVwiLCB7IHZhbHVlOiB0cnVlIH0pO1xudmFyIHByb2Nlc3NfMSA9IHJlcXVpcmUoXCIuL3Byb2Nlc3NcIik7XG52YXIgYnVmZmVyXzEgPSByZXF1aXJlKFwiLi9pbnRlcm5hbC9idWZmZXJcIik7XG52YXIgY29uc3RhbnRzXzEgPSByZXF1aXJlKFwiLi9jb25zdGFudHNcIik7XG52YXIgZXZlbnRzXzEgPSByZXF1aXJlKFwiZXZlbnRzXCIpO1xudmFyIFN0YXRzXzEgPSByZXF1aXJlKFwiLi9TdGF0c1wiKTtcbnZhciBTX0lGTVQgPSBjb25zdGFudHNfMS5jb25zdGFudHMuU19JRk1ULCBTX0lGRElSID0gY29uc3RhbnRzXzEuY29uc3RhbnRzLlNfSUZESVIsIFNfSUZSRUcgPSBjb25zdGFudHNfMS5jb25zdGFudHMuU19JRlJFRywgU19JRkJMSyA9IGNvbnN0YW50c18xLmNvbnN0YW50cy5TX0lGQkxLLCBTX0lGQ0hSID0gY29uc3RhbnRzXzEuY29uc3RhbnRzLlNfSUZDSFIsIFNfSUZMTksgPSBjb25zdGFudHNfMS5jb25zdGFudHMuU19JRkxOSywgU19JRklGTyA9IGNvbnN0YW50c18xLmNvbnN0YW50cy5TX0lGSUZPLCBTX0lGU09DSyA9IGNvbnN0YW50c18xLmNvbnN0YW50cy5TX0lGU09DSywgT19BUFBFTkQgPSBjb25zdGFudHNfMS5jb25zdGFudHMuT19BUFBFTkQ7XG5leHBvcnRzLlNFUCA9ICcvJztcbi8qKlxuICogTm9kZSBpbiBhIGZpbGUgc3lzdGVtIChsaWtlIGktbm9kZSwgdi1ub2RlKS5cbiAqL1xudmFyIE5vZGUgPSAvKiogQGNsYXNzICovIChmdW5jdGlvbiAoX3N1cGVyKSB7XG4gICAgX19leHRlbmRzKE5vZGUsIF9zdXBlcik7XG4gICAgZnVuY3Rpb24gTm9kZShpbm8sIHBlcm0pIHtcbiAgICAgICAgaWYgKHBlcm0gPT09IHZvaWQgMCkgeyBwZXJtID0gNDM4OyB9XG4gICAgICAgIHZhciBfdGhpcyA9IF9zdXBlci5jYWxsKHRoaXMpIHx8IHRoaXM7XG4gICAgICAgIC8vIFVzZXIgSUQgYW5kIGdyb3VwIElELlxuICAgICAgICBfdGhpcy51aWQgPSBwcm9jZXNzXzEuZGVmYXVsdC5nZXR1aWQoKTtcbiAgICAgICAgX3RoaXMuZ2lkID0gcHJvY2Vzc18xLmRlZmF1bHQuZ2V0Z2lkKCk7XG4gICAgICAgIF90aGlzLmF0aW1lID0gbmV3IERhdGUoKTtcbiAgICAgICAgX3RoaXMubXRpbWUgPSBuZXcgRGF0ZSgpO1xuICAgICAgICBfdGhpcy5jdGltZSA9IG5ldyBEYXRlKCk7XG4gICAgICAgIF90aGlzLnBlcm0gPSA0Mzg7IC8vIFBlcm1pc3Npb25zIGBjaG1vZGAsIGBmY2htb2RgXG4gICAgICAgIF90aGlzLm1vZGUgPSBTX0lGUkVHOyAvLyBTX0lGRElSLCBTX0lGUkVHLCBldGMuLiAoZmlsZSBieSBkZWZhdWx0PylcbiAgICAgICAgLy8gTnVtYmVyIG9mIGhhcmQgbGlua3MgcG9pbnRpbmcgYXQgdGhpcyBOb2RlLlxuICAgICAgICBfdGhpcy5ubGluayA9IDE7XG4gICAgICAgIF90aGlzLnBlcm0gPSBwZXJtO1xuICAgICAgICBfdGhpcy5tb2RlIHw9IHBlcm07XG4gICAgICAgIF90aGlzLmlubyA9IGlubztcbiAgICAgICAgcmV0dXJuIF90aGlzO1xuICAgIH1cbiAgICBOb2RlLnByb3RvdHlwZS5nZXRTdHJpbmcgPSBmdW5jdGlvbiAoZW5jb2RpbmcpIHtcbiAgICAgICAgaWYgKGVuY29kaW5nID09PSB2b2lkIDApIHsgZW5jb2RpbmcgPSAndXRmOCc7IH1cbiAgICAgICAgcmV0dXJuIHRoaXMuZ2V0QnVmZmVyKCkudG9TdHJpbmcoZW5jb2RpbmcpO1xuICAgIH07XG4gICAgTm9kZS5wcm90b3R5cGUuc2V0U3RyaW5nID0gZnVuY3Rpb24gKHN0cikge1xuICAgICAgICAvLyB0aGlzLnNldEJ1ZmZlcihidWZmZXJGcm9tKHN0ciwgJ3V0ZjgnKSk7XG4gICAgICAgIHRoaXMuYnVmID0gYnVmZmVyXzEuYnVmZmVyRnJvbShzdHIsICd1dGY4Jyk7XG4gICAgICAgIHRoaXMudG91Y2goKTtcbiAgICB9O1xuICAgIE5vZGUucHJvdG90eXBlLmdldEJ1ZmZlciA9IGZ1bmN0aW9uICgpIHtcbiAgICAgICAgaWYgKCF0aGlzLmJ1ZilcbiAgICAgICAgICAgIHRoaXMuc2V0QnVmZmVyKGJ1ZmZlcl8xLmJ1ZmZlckFsbG9jVW5zYWZlKDApKTtcbiAgICAgICAgcmV0dXJuIGJ1ZmZlcl8xLmJ1ZmZlckZyb20odGhpcy5idWYpOyAvLyBSZXR1cm4gYSBjb3B5LlxuICAgIH07XG4gICAgTm9kZS5wcm90b3R5cGUuc2V0QnVmZmVyID0gZnVuY3Rpb24gKGJ1Zikge1xuICAgICAgICB0aGlzLmJ1ZiA9IGJ1ZmZlcl8xLmJ1ZmZlckZyb20oYnVmKTsgLy8gQ3JlYXRlcyBhIGNvcHkgb2YgZGF0YS5cbiAgICAgICAgdGhpcy50b3VjaCgpO1xuICAgIH07XG4gICAgTm9kZS5wcm90b3R5cGUuZ2V0U2l6ZSA9IGZ1bmN0aW9uICgpIHtcbiAgICAgICAgcmV0dXJuIHRoaXMuYnVmID8gdGhpcy5idWYubGVuZ3RoIDogMDtcbiAgICB9O1xuICAgIE5vZGUucHJvdG90eXBlLnNldE1vZGVQcm9wZXJ0eSA9IGZ1bmN0aW9uIChwcm9wZXJ0eSkge1xuICAgICAgICB0aGlzLm1vZGUgPSAodGhpcy5tb2RlICYgflNfSUZNVCkgfCBwcm9wZXJ0eTtcbiAgICB9O1xuICAgIE5vZGUucHJvdG90eXBlLnNldElzRmlsZSA9IGZ1bmN0aW9uICgpIHtcbiAgICAgICAgdGhpcy5zZXRNb2RlUHJvcGVydHkoU19JRlJFRyk7XG4gICAgfTtcbiAgICBOb2RlLnByb3RvdHlwZS5zZXRJc0RpcmVjdG9yeSA9IGZ1bmN0aW9uICgpIHtcbiAgICAgICAgdGhpcy5zZXRNb2RlUHJvcGVydHkoU19JRkRJUik7XG4gICAgfTtcbiAgICBOb2RlLnByb3RvdHlwZS5zZXRJc1N5bWxpbmsgPSBmdW5jdGlvbiAoKSB7XG4gICAgICAgIHRoaXMuc2V0TW9kZVByb3BlcnR5KFNfSUZMTkspO1xuICAgIH07XG4gICAgTm9kZS5wcm90b3R5cGUuaXNGaWxlID0gZnVuY3Rpb24gKCkge1xuICAgICAgICByZXR1cm4gKHRoaXMubW9kZSAmIFNfSUZNVCkgPT09IFNfSUZSRUc7XG4gICAgfTtcbiAgICBOb2RlLnByb3RvdHlwZS5pc0RpcmVjdG9yeSA9IGZ1bmN0aW9uICgpIHtcbiAgICAgICAgcmV0dXJuICh0aGlzLm1vZGUgJiBTX0lGTVQpID09PSBTX0lGRElSO1xuICAgIH07XG4gICAgTm9kZS5wcm90b3R5cGUuaXNTeW1saW5rID0gZnVuY3Rpb24gKCkge1xuICAgICAgICAvLyByZXR1cm4gISF0aGlzLnN5bWxpbms7XG4gICAgICAgIHJldHVybiAodGhpcy5tb2RlICYgU19JRk1UKSA9PT0gU19JRkxOSztcbiAgICB9O1xuICAgIE5vZGUucHJvdG90eXBlLm1ha2VTeW1saW5rID0gZnVuY3Rpb24gKHN0ZXBzKSB7XG4gICAgICAgIHRoaXMuc3ltbGluayA9IHN0ZXBzO1xuICAgICAgICB0aGlzLnNldElzU3ltbGluaygpO1xuICAgIH07XG4gICAgTm9kZS5wcm90b3R5cGUud3JpdGUgPSBmdW5jdGlvbiAoYnVmLCBvZmYsIGxlbiwgcG9zKSB7XG4gICAgICAgIGlmIChvZmYgPT09IHZvaWQgMCkgeyBvZmYgPSAwOyB9XG4gICAgICAgIGlmIChsZW4gPT09IHZvaWQgMCkgeyBsZW4gPSBidWYubGVuZ3RoOyB9XG4gICAgICAgIGlmIChwb3MgPT09IHZvaWQgMCkgeyBwb3MgPSAwOyB9XG4gICAgICAgIGlmICghdGhpcy5idWYpXG4gICAgICAgICAgICB0aGlzLmJ1ZiA9IGJ1ZmZlcl8xLmJ1ZmZlckFsbG9jVW5zYWZlKDApO1xuICAgICAgICBpZiAocG9zICsgbGVuID4gdGhpcy5idWYubGVuZ3RoKSB7XG4gICAgICAgICAgICB2YXIgbmV3QnVmID0gYnVmZmVyXzEuYnVmZmVyQWxsb2NVbnNhZmUocG9zICsgbGVuKTtcbiAgICAgICAgICAgIHRoaXMuYnVmLmNvcHkobmV3QnVmLCAwLCAwLCB0aGlzLmJ1Zi5sZW5ndGgpO1xuICAgICAgICAgICAgdGhpcy5idWYgPSBuZXdCdWY7XG4gICAgICAgIH1cbiAgICAgICAgYnVmLmNvcHkodGhpcy5idWYsIHBvcywgb2ZmLCBvZmYgKyBsZW4pO1xuICAgICAgICB0aGlzLnRvdWNoKCk7XG4gICAgICAgIHJldHVybiBsZW47XG4gICAgfTtcbiAgICAvLyBSZXR1cm5zIHRoZSBudW1iZXIgb2YgYnl0ZXMgcmVhZC5cbiAgICBOb2RlLnByb3RvdHlwZS5yZWFkID0gZnVuY3Rpb24gKGJ1Ziwgb2ZmLCBsZW4sIHBvcykge1xuICAgICAgICBpZiAob2ZmID09PSB2b2lkIDApIHsgb2ZmID0gMDsgfVxuICAgICAgICBpZiAobGVuID09PSB2b2lkIDApIHsgbGVuID0gYnVmLmJ5dGVMZW5ndGg7IH1cbiAgICAgICAgaWYgKHBvcyA9PT0gdm9pZCAwKSB7IHBvcyA9IDA7IH1cbiAgICAgICAgaWYgKCF0aGlzLmJ1ZilcbiAgICAgICAgICAgIHRoaXMuYnVmID0gYnVmZmVyXzEuYnVmZmVyQWxsb2NVbnNhZmUoMCk7XG4gICAgICAgIHZhciBhY3R1YWxMZW4gPSBsZW47XG4gICAgICAgIGlmIChhY3R1YWxMZW4gPiBidWYuYnl0ZUxlbmd0aCkge1xuICAgICAgICAgICAgYWN0dWFsTGVuID0gYnVmLmJ5dGVMZW5ndGg7XG4gICAgICAgIH1cbiAgICAgICAgaWYgKGFjdHVhbExlbiArIHBvcyA+IHRoaXMuYnVmLmxlbmd0aCkge1xuICAgICAgICAgICAgYWN0dWFsTGVuID0gdGhpcy5idWYubGVuZ3RoIC0gcG9zO1xuICAgICAgICB9XG4gICAgICAgIHRoaXMuYnVmLmNvcHkoYnVmLCBvZmYsIHBvcywgcG9zICsgYWN0dWFsTGVuKTtcbiAgICAgICAgcmV0dXJuIGFjdHVhbExlbjtcbiAgICB9O1xuICAgIE5vZGUucHJvdG90eXBlLnRydW5jYXRlID0gZnVuY3Rpb24gKGxlbikge1xuICAgICAgICBpZiAobGVuID09PSB2b2lkIDApIHsgbGVuID0gMDsgfVxuICAgICAgICBpZiAoIWxlbilcbiAgICAgICAgICAgIHRoaXMuYnVmID0gYnVmZmVyXzEuYnVmZmVyQWxsb2NVbnNhZmUoMCk7XG4gICAgICAgIGVsc2Uge1xuICAgICAgICAgICAgaWYgKCF0aGlzLmJ1ZilcbiAgICAgICAgICAgICAgICB0aGlzLmJ1ZiA9IGJ1ZmZlcl8xLmJ1ZmZlckFsbG9jVW5zYWZlKDApO1xuICAgICAgICAgICAgaWYgKGxlbiA8PSB0aGlzLmJ1Zi5sZW5ndGgpIHtcbiAgICAgICAgICAgICAgICB0aGlzLmJ1ZiA9IHRoaXMuYnVmLnNsaWNlKDAsIGxlbik7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBlbHNlIHtcbiAgICAgICAgICAgICAgICB2YXIgYnVmID0gYnVmZmVyXzEuYnVmZmVyQWxsb2NVbnNhZmUoMCk7XG4gICAgICAgICAgICAgICAgdGhpcy5idWYuY29weShidWYpO1xuICAgICAgICAgICAgICAgIGJ1Zi5maWxsKDAsIGxlbik7XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgICAgdGhpcy50b3VjaCgpO1xuICAgIH07XG4gICAgTm9kZS5wcm90b3R5cGUuY2htb2QgPSBmdW5jdGlvbiAocGVybSkge1xuICAgICAgICB0aGlzLnBlcm0gPSBwZXJtO1xuICAgICAgICB0aGlzLm1vZGUgPSAodGhpcy5tb2RlICYgfjUxMSkgfCBwZXJtO1xuICAgICAgICB0aGlzLnRvdWNoKCk7XG4gICAgfTtcbiAgICBOb2RlLnByb3RvdHlwZS5jaG93biA9IGZ1bmN0aW9uICh1aWQsIGdpZCkge1xuICAgICAgICB0aGlzLnVpZCA9IHVpZDtcbiAgICAgICAgdGhpcy5naWQgPSBnaWQ7XG4gICAgICAgIHRoaXMudG91Y2goKTtcbiAgICB9O1xuICAgIE5vZGUucHJvdG90eXBlLnRvdWNoID0gZnVuY3Rpb24gKCkge1xuICAgICAgICB0aGlzLm10aW1lID0gbmV3IERhdGUoKTtcbiAgICAgICAgdGhpcy5lbWl0KCdjaGFuZ2UnLCB0aGlzKTtcbiAgICB9O1xuICAgIE5vZGUucHJvdG90eXBlLmNhblJlYWQgPSBmdW5jdGlvbiAodWlkLCBnaWQpIHtcbiAgICAgICAgaWYgKHVpZCA9PT0gdm9pZCAwKSB7IHVpZCA9IHByb2Nlc3NfMS5kZWZhdWx0LmdldHVpZCgpOyB9XG4gICAgICAgIGlmIChnaWQgPT09IHZvaWQgMCkgeyBnaWQgPSBwcm9jZXNzXzEuZGVmYXVsdC5nZXRnaWQoKTsgfVxuICAgICAgICBpZiAodGhpcy5wZXJtICYgNCAvKiBJUk9USCAqLykge1xuICAgICAgICAgICAgcmV0dXJuIHRydWU7XG4gICAgICAgIH1cbiAgICAgICAgaWYgKGdpZCA9PT0gdGhpcy5naWQpIHtcbiAgICAgICAgICAgIGlmICh0aGlzLnBlcm0gJiAzMiAvKiBJUkdSUCAqLykge1xuICAgICAgICAgICAgICAgIHJldHVybiB0cnVlO1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICAgIGlmICh1aWQgPT09IHRoaXMudWlkKSB7XG4gICAgICAgICAgICBpZiAodGhpcy5wZXJtICYgMjU2IC8qIElSVVNSICovKSB7XG4gICAgICAgICAgICAgICAgcmV0dXJuIHRydWU7XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuIGZhbHNlO1xuICAgIH07XG4gICAgTm9kZS5wcm90b3R5cGUuY2FuV3JpdGUgPSBmdW5jdGlvbiAodWlkLCBnaWQpIHtcbiAgICAgICAgaWYgKHVpZCA9PT0gdm9pZCAwKSB7IHVpZCA9IHByb2Nlc3NfMS5kZWZhdWx0LmdldHVpZCgpOyB9XG4gICAgICAgIGlmIChnaWQgPT09IHZvaWQgMCkgeyBnaWQgPSBwcm9jZXNzXzEuZGVmYXVsdC5nZXRnaWQoKTsgfVxuICAgICAgICBpZiAodGhpcy5wZXJtICYgMiAvKiBJV09USCAqLykge1xuICAgICAgICAgICAgcmV0dXJuIHRydWU7XG4gICAgICAgIH1cbiAgICAgICAgaWYgKGdpZCA9PT0gdGhpcy5naWQpIHtcbiAgICAgICAgICAgIGlmICh0aGlzLnBlcm0gJiAxNiAvKiBJV0dSUCAqLykge1xuICAgICAgICAgICAgICAgIHJldHVybiB0cnVlO1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICAgIGlmICh1aWQgPT09IHRoaXMudWlkKSB7XG4gICAgICAgICAgICBpZiAodGhpcy5wZXJtICYgMTI4IC8qIElXVVNSICovKSB7XG4gICAgICAgICAgICAgICAgcmV0dXJuIHRydWU7XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuIGZhbHNlO1xuICAgIH07XG4gICAgTm9kZS5wcm90b3R5cGUuZGVsID0gZnVuY3Rpb24gKCkge1xuICAgICAgICB0aGlzLmVtaXQoJ2RlbGV0ZScsIHRoaXMpO1xuICAgIH07XG4gICAgTm9kZS5wcm90b3R5cGUudG9KU09OID0gZnVuY3Rpb24gKCkge1xuICAgICAgICByZXR1cm4ge1xuICAgICAgICAgICAgaW5vOiB0aGlzLmlubyxcbiAgICAgICAgICAgIHVpZDogdGhpcy51aWQsXG4gICAgICAgICAgICBnaWQ6IHRoaXMuZ2lkLFxuICAgICAgICAgICAgYXRpbWU6IHRoaXMuYXRpbWUuZ2V0VGltZSgpLFxuICAgICAgICAgICAgbXRpbWU6IHRoaXMubXRpbWUuZ2V0VGltZSgpLFxuICAgICAgICAgICAgY3RpbWU6IHRoaXMuY3RpbWUuZ2V0VGltZSgpLFxuICAgICAgICAgICAgcGVybTogdGhpcy5wZXJtLFxuICAgICAgICAgICAgbW9kZTogdGhpcy5tb2RlLFxuICAgICAgICAgICAgbmxpbms6IHRoaXMubmxpbmssXG4gICAgICAgICAgICBzeW1saW5rOiB0aGlzLnN5bWxpbmssXG4gICAgICAgICAgICBkYXRhOiB0aGlzLmdldFN0cmluZygpLFxuICAgICAgICB9O1xuICAgIH07XG4gICAgcmV0dXJuIE5vZGU7XG59KGV2ZW50c18xLkV2ZW50RW1pdHRlcikpO1xuZXhwb3J0cy5Ob2RlID0gTm9kZTtcbi8qKlxuICogUmVwcmVzZW50cyBhIGhhcmQgbGluayB0aGF0IHBvaW50cyB0byBhbiBpLW5vZGUgYG5vZGVgLlxuICovXG52YXIgTGluayA9IC8qKiBAY2xhc3MgKi8gKGZ1bmN0aW9uIChfc3VwZXIpIHtcbiAgICBfX2V4dGVuZHMoTGluaywgX3N1cGVyKTtcbiAgICBmdW5jdGlvbiBMaW5rKHZvbCwgcGFyZW50LCBuYW1lKSB7XG4gICAgICAgIHZhciBfdGhpcyA9IF9zdXBlci5jYWxsKHRoaXMpIHx8IHRoaXM7XG4gICAgICAgIF90aGlzLmNoaWxkcmVuID0ge307XG4gICAgICAgIC8vIFBhdGggdG8gdGhpcyBub2RlIGFzIEFycmF5OiBbJ3VzcicsICdiaW4nLCAnbm9kZSddLlxuICAgICAgICBfdGhpcy5zdGVwcyA9IFtdO1xuICAgICAgICAvLyBcImktbm9kZVwiIG51bWJlciBvZiB0aGUgbm9kZS5cbiAgICAgICAgX3RoaXMuaW5vID0gMDtcbiAgICAgICAgLy8gTnVtYmVyIG9mIGNoaWxkcmVuLlxuICAgICAgICBfdGhpcy5sZW5ndGggPSAwO1xuICAgICAgICBfdGhpcy52b2wgPSB2b2w7XG4gICAgICAgIF90aGlzLnBhcmVudCA9IHBhcmVudDtcbiAgICAgICAgX3RoaXMuc3RlcHMgPSBwYXJlbnQgPyBwYXJlbnQuc3RlcHMuY29uY2F0KFtuYW1lXSkgOiBbbmFtZV07XG4gICAgICAgIHJldHVybiBfdGhpcztcbiAgICB9XG4gICAgTGluay5wcm90b3R5cGUuc2V0Tm9kZSA9IGZ1bmN0aW9uIChub2RlKSB7XG4gICAgICAgIHRoaXMubm9kZSA9IG5vZGU7XG4gICAgICAgIHRoaXMuaW5vID0gbm9kZS5pbm87XG4gICAgfTtcbiAgICBMaW5rLnByb3RvdHlwZS5nZXROb2RlID0gZnVuY3Rpb24gKCkge1xuICAgICAgICByZXR1cm4gdGhpcy5ub2RlO1xuICAgIH07XG4gICAgTGluay5wcm90b3R5cGUuY3JlYXRlQ2hpbGQgPSBmdW5jdGlvbiAobmFtZSwgbm9kZSkge1xuICAgICAgICBpZiAobm9kZSA9PT0gdm9pZCAwKSB7IG5vZGUgPSB0aGlzLnZvbC5jcmVhdGVOb2RlKCk7IH1cbiAgICAgICAgdmFyIGxpbmsgPSBuZXcgTGluayh0aGlzLnZvbCwgdGhpcywgbmFtZSk7XG4gICAgICAgIGxpbmsuc2V0Tm9kZShub2RlKTtcbiAgICAgICAgaWYgKG5vZGUuaXNEaXJlY3RvcnkoKSkge1xuICAgICAgICAgICAgLy8gbGluay5zZXRDaGlsZCgnLicsIGxpbmspO1xuICAgICAgICAgICAgLy8gbGluay5nZXROb2RlKCkubmxpbmsrKztcbiAgICAgICAgICAgIC8vIGxpbmsuc2V0Q2hpbGQoJy4uJywgdGhpcyk7XG4gICAgICAgICAgICAvLyB0aGlzLmdldE5vZGUoKS5ubGluaysrO1xuICAgICAgICB9XG4gICAgICAgIHRoaXMuc2V0Q2hpbGQobmFtZSwgbGluayk7XG4gICAgICAgIHJldHVybiBsaW5rO1xuICAgIH07XG4gICAgTGluay5wcm90b3R5cGUuc2V0Q2hpbGQgPSBmdW5jdGlvbiAobmFtZSwgbGluaykge1xuICAgICAgICBpZiAobGluayA9PT0gdm9pZCAwKSB7IGxpbmsgPSBuZXcgTGluayh0aGlzLnZvbCwgdGhpcywgbmFtZSk7IH1cbiAgICAgICAgdGhpcy5jaGlsZHJlbltuYW1lXSA9IGxpbms7XG4gICAgICAgIGxpbmsucGFyZW50ID0gdGhpcztcbiAgICAgICAgdGhpcy5sZW5ndGgrKztcbiAgICAgICAgdGhpcy5lbWl0KCdjaGlsZDphZGQnLCBsaW5rLCB0aGlzKTtcbiAgICAgICAgcmV0dXJuIGxpbms7XG4gICAgfTtcbiAgICBMaW5rLnByb3RvdHlwZS5kZWxldGVDaGlsZCA9IGZ1bmN0aW9uIChsaW5rKSB7XG4gICAgICAgIGRlbGV0ZSB0aGlzLmNoaWxkcmVuW2xpbmsuZ2V0TmFtZSgpXTtcbiAgICAgICAgdGhpcy5sZW5ndGgtLTtcbiAgICAgICAgdGhpcy5lbWl0KCdjaGlsZDpkZWxldGUnLCBsaW5rLCB0aGlzKTtcbiAgICB9O1xuICAgIExpbmsucHJvdG90eXBlLmdldENoaWxkID0gZnVuY3Rpb24gKG5hbWUpIHtcbiAgICAgICAgaWYgKE9iamVjdC5oYXNPd25Qcm9wZXJ0eS5jYWxsKHRoaXMuY2hpbGRyZW4sIG5hbWUpKSB7XG4gICAgICAgICAgICByZXR1cm4gdGhpcy5jaGlsZHJlbltuYW1lXTtcbiAgICAgICAgfVxuICAgIH07XG4gICAgTGluay5wcm90b3R5cGUuZ2V0UGF0aCA9IGZ1bmN0aW9uICgpIHtcbiAgICAgICAgcmV0dXJuIHRoaXMuc3RlcHMuam9pbihleHBvcnRzLlNFUCk7XG4gICAgfTtcbiAgICBMaW5rLnByb3RvdHlwZS5nZXROYW1lID0gZnVuY3Rpb24gKCkge1xuICAgICAgICByZXR1cm4gdGhpcy5zdGVwc1t0aGlzLnN0ZXBzLmxlbmd0aCAtIDFdO1xuICAgIH07XG4gICAgLy8gZGVsKCkge1xuICAgIC8vICAgICBjb25zdCBwYXJlbnQgPSB0aGlzLnBhcmVudDtcbiAgICAvLyAgICAgaWYocGFyZW50KSB7XG4gICAgLy8gICAgICAgICBwYXJlbnQuZGVsZXRlQ2hpbGQobGluayk7XG4gICAgLy8gICAgIH1cbiAgICAvLyAgICAgdGhpcy5wYXJlbnQgPSBudWxsO1xuICAgIC8vICAgICB0aGlzLnZvbCA9IG51bGw7XG4gICAgLy8gfVxuICAgIC8qKlxuICAgICAqIFdhbGsgdGhlIHRyZWUgcGF0aCBhbmQgcmV0dXJuIHRoZSBgTGlua2AgYXQgdGhhdCBsb2NhdGlvbiwgaWYgYW55LlxuICAgICAqIEBwYXJhbSBzdGVwcyB7c3RyaW5nW119IERlc2lyZWQgbG9jYXRpb24uXG4gICAgICogQHBhcmFtIHN0b3Age251bWJlcn0gTWF4IHN0ZXBzIHRvIGdvIGludG8uXG4gICAgICogQHBhcmFtIGkge251bWJlcn0gQ3VycmVudCBzdGVwIGluIHRoZSBgc3RlcHNgIGFycmF5LlxuICAgICAqXG4gICAgICogQHJldHVybiB7TGlua3xudWxsfVxuICAgICAqL1xuICAgIExpbmsucHJvdG90eXBlLndhbGsgPSBmdW5jdGlvbiAoc3RlcHMsIHN0b3AsIGkpIHtcbiAgICAgICAgaWYgKHN0b3AgPT09IHZvaWQgMCkgeyBzdG9wID0gc3RlcHMubGVuZ3RoOyB9XG4gICAgICAgIGlmIChpID09PSB2b2lkIDApIHsgaSA9IDA7IH1cbiAgICAgICAgaWYgKGkgPj0gc3RlcHMubGVuZ3RoKVxuICAgICAgICAgICAgcmV0dXJuIHRoaXM7XG4gICAgICAgIGlmIChpID49IHN0b3ApXG4gICAgICAgICAgICByZXR1cm4gdGhpcztcbiAgICAgICAgdmFyIHN0ZXAgPSBzdGVwc1tpXTtcbiAgICAgICAgdmFyIGxpbmsgPSB0aGlzLmdldENoaWxkKHN0ZXApO1xuICAgICAgICBpZiAoIWxpbmspXG4gICAgICAgICAgICByZXR1cm4gbnVsbDtcbiAgICAgICAgcmV0dXJuIGxpbmsud2FsayhzdGVwcywgc3RvcCwgaSArIDEpO1xuICAgIH07XG4gICAgTGluay5wcm90b3R5cGUudG9KU09OID0gZnVuY3Rpb24gKCkge1xuICAgICAgICByZXR1cm4ge1xuICAgICAgICAgICAgc3RlcHM6IHRoaXMuc3RlcHMsXG4gICAgICAgICAgICBpbm86IHRoaXMuaW5vLFxuICAgICAgICAgICAgY2hpbGRyZW46IE9iamVjdC5rZXlzKHRoaXMuY2hpbGRyZW4pLFxuICAgICAgICB9O1xuICAgIH07XG4gICAgcmV0dXJuIExpbms7XG59KGV2ZW50c18xLkV2ZW50RW1pdHRlcikpO1xuZXhwb3J0cy5MaW5rID0gTGluaztcbi8qKlxuICogUmVwcmVzZW50cyBhbiBvcGVuIGZpbGUgKGZpbGUgZGVzY3JpcHRvcikgdGhhdCBwb2ludHMgdG8gYSBgTGlua2AgKEhhcmQtbGluaykgYW5kIGEgYE5vZGVgLlxuICovXG52YXIgRmlsZSA9IC8qKiBAY2xhc3MgKi8gKGZ1bmN0aW9uICgpIHtcbiAgICAvKipcbiAgICAgKiBPcGVuIGEgTGluay1Ob2RlIHBhaXIuIGBub2RlYCBpcyBwcm92aWRlZCBzZXBhcmF0ZWx5IGFzIHRoYXQgbWlnaHQgYmUgYSBkaWZmZXJlbnQgbm9kZVxuICAgICAqIHJhdGhlciB0aGUgb25lIGBsaW5rYCBwb2ludHMgdG8sIGJlY2F1c2UgaXQgbWlnaHQgYmUgYSBzeW1saW5rLlxuICAgICAqIEBwYXJhbSBsaW5rXG4gICAgICogQHBhcmFtIG5vZGVcbiAgICAgKiBAcGFyYW0gZmxhZ3NcbiAgICAgKiBAcGFyYW0gZmRcbiAgICAgKi9cbiAgICBmdW5jdGlvbiBGaWxlKGxpbmssIG5vZGUsIGZsYWdzLCBmZCkge1xuICAgICAgICAvKipcbiAgICAgICAgICogQSBjdXJzb3Ivb2Zmc2V0IHBvc2l0aW9uIGluIGEgZmlsZSwgd2hlcmUgZGF0YSB3aWxsIGJlIHdyaXR0ZW4gb24gd3JpdGUuXG4gICAgICAgICAqIFVzZXIgY2FuIFwic2Vla1wiIHRoaXMgcG9zaXRpb24uXG4gICAgICAgICAqL1xuICAgICAgICB0aGlzLnBvc2l0aW9uID0gMDtcbiAgICAgICAgdGhpcy5saW5rID0gbGluaztcbiAgICAgICAgdGhpcy5ub2RlID0gbm9kZTtcbiAgICAgICAgdGhpcy5mbGFncyA9IGZsYWdzO1xuICAgICAgICB0aGlzLmZkID0gZmQ7XG4gICAgfVxuICAgIEZpbGUucHJvdG90eXBlLmdldFN0cmluZyA9IGZ1bmN0aW9uIChlbmNvZGluZykge1xuICAgICAgICBpZiAoZW5jb2RpbmcgPT09IHZvaWQgMCkgeyBlbmNvZGluZyA9ICd1dGY4JzsgfVxuICAgICAgICByZXR1cm4gdGhpcy5ub2RlLmdldFN0cmluZygpO1xuICAgIH07XG4gICAgRmlsZS5wcm90b3R5cGUuc2V0U3RyaW5nID0gZnVuY3Rpb24gKHN0cikge1xuICAgICAgICB0aGlzLm5vZGUuc2V0U3RyaW5nKHN0cik7XG4gICAgfTtcbiAgICBGaWxlLnByb3RvdHlwZS5nZXRCdWZmZXIgPSBmdW5jdGlvbiAoKSB7XG4gICAgICAgIHJldHVybiB0aGlzLm5vZGUuZ2V0QnVmZmVyKCk7XG4gICAgfTtcbiAgICBGaWxlLnByb3RvdHlwZS5zZXRCdWZmZXIgPSBmdW5jdGlvbiAoYnVmKSB7XG4gICAgICAgIHRoaXMubm9kZS5zZXRCdWZmZXIoYnVmKTtcbiAgICB9O1xuICAgIEZpbGUucHJvdG90eXBlLmdldFNpemUgPSBmdW5jdGlvbiAoKSB7XG4gICAgICAgIHJldHVybiB0aGlzLm5vZGUuZ2V0U2l6ZSgpO1xuICAgIH07XG4gICAgRmlsZS5wcm90b3R5cGUudHJ1bmNhdGUgPSBmdW5jdGlvbiAobGVuKSB7XG4gICAgICAgIHRoaXMubm9kZS50cnVuY2F0ZShsZW4pO1xuICAgIH07XG4gICAgRmlsZS5wcm90b3R5cGUuc2Vla1RvID0gZnVuY3Rpb24gKHBvc2l0aW9uKSB7XG4gICAgICAgIHRoaXMucG9zaXRpb24gPSBwb3NpdGlvbjtcbiAgICB9O1xuICAgIEZpbGUucHJvdG90eXBlLnN0YXRzID0gZnVuY3Rpb24gKCkge1xuICAgICAgICByZXR1cm4gU3RhdHNfMS5kZWZhdWx0LmJ1aWxkKHRoaXMubm9kZSk7XG4gICAgfTtcbiAgICBGaWxlLnByb3RvdHlwZS53cml0ZSA9IGZ1bmN0aW9uIChidWYsIG9mZnNldCwgbGVuZ3RoLCBwb3NpdGlvbikge1xuICAgICAgICBpZiAob2Zmc2V0ID09PSB2b2lkIDApIHsgb2Zmc2V0ID0gMDsgfVxuICAgICAgICBpZiAobGVuZ3RoID09PSB2b2lkIDApIHsgbGVuZ3RoID0gYnVmLmxlbmd0aDsgfVxuICAgICAgICBpZiAodHlwZW9mIHBvc2l0aW9uICE9PSAnbnVtYmVyJylcbiAgICAgICAgICAgIHBvc2l0aW9uID0gdGhpcy5wb3NpdGlvbjtcbiAgICAgICAgaWYgKHRoaXMuZmxhZ3MgJiBPX0FQUEVORClcbiAgICAgICAgICAgIHBvc2l0aW9uID0gdGhpcy5nZXRTaXplKCk7XG4gICAgICAgIHZhciBieXRlcyA9IHRoaXMubm9kZS53cml0ZShidWYsIG9mZnNldCwgbGVuZ3RoLCBwb3NpdGlvbik7XG4gICAgICAgIHRoaXMucG9zaXRpb24gPSBwb3NpdGlvbiArIGJ5dGVzO1xuICAgICAgICByZXR1cm4gYnl0ZXM7XG4gICAgfTtcbiAgICBGaWxlLnByb3RvdHlwZS5yZWFkID0gZnVuY3Rpb24gKGJ1Ziwgb2Zmc2V0LCBsZW5ndGgsIHBvc2l0aW9uKSB7XG4gICAgICAgIGlmIChvZmZzZXQgPT09IHZvaWQgMCkgeyBvZmZzZXQgPSAwOyB9XG4gICAgICAgIGlmIChsZW5ndGggPT09IHZvaWQgMCkgeyBsZW5ndGggPSBidWYuYnl0ZUxlbmd0aDsgfVxuICAgICAgICBpZiAodHlwZW9mIHBvc2l0aW9uICE9PSAnbnVtYmVyJylcbiAgICAgICAgICAgIHBvc2l0aW9uID0gdGhpcy5wb3NpdGlvbjtcbiAgICAgICAgdmFyIGJ5dGVzID0gdGhpcy5ub2RlLnJlYWQoYnVmLCBvZmZzZXQsIGxlbmd0aCwgcG9zaXRpb24pO1xuICAgICAgICB0aGlzLnBvc2l0aW9uID0gcG9zaXRpb24gKyBieXRlcztcbiAgICAgICAgcmV0dXJuIGJ5dGVzO1xuICAgIH07XG4gICAgRmlsZS5wcm90b3R5cGUuY2htb2QgPSBmdW5jdGlvbiAocGVybSkge1xuICAgICAgICB0aGlzLm5vZGUuY2htb2QocGVybSk7XG4gICAgfTtcbiAgICBGaWxlLnByb3RvdHlwZS5jaG93biA9IGZ1bmN0aW9uICh1aWQsIGdpZCkge1xuICAgICAgICB0aGlzLm5vZGUuY2hvd24odWlkLCBnaWQpO1xuICAgIH07XG4gICAgcmV0dXJuIEZpbGU7XG59KCkpO1xuZXhwb3J0cy5GaWxlID0gRmlsZTtcbiIsICJcInVzZSBzdHJpY3RcIjtcbk9iamVjdC5kZWZpbmVQcm9wZXJ0eShleHBvcnRzLCBcIl9fZXNNb2R1bGVcIiwgeyB2YWx1ZTogdHJ1ZSB9KTtcbi8qKlxuICogYHNldFRpbWVvdXRVbnJlZmAgaXMganVzdCBsaWtlIGBzZXRUaW1lb3V0YCxcbiAqIG9ubHkgaW4gTm9kZSdzIGVudmlyb25tZW50IGl0IHdpbGwgXCJ1bnJlZlwiIGl0cyBtYWNybyB0YXNrLlxuICovXG5mdW5jdGlvbiBzZXRUaW1lb3V0VW5yZWYoY2FsbGJhY2ssIHRpbWUsIGFyZ3MpIHtcbiAgICB2YXIgcmVmID0gc2V0VGltZW91dC5hcHBseShudWxsLCBhcmd1bWVudHMpO1xuICAgIGlmIChyZWYgJiYgdHlwZW9mIHJlZiA9PT0gJ29iamVjdCcgJiYgdHlwZW9mIHJlZi51bnJlZiA9PT0gJ2Z1bmN0aW9uJylcbiAgICAgICAgcmVmLnVucmVmKCk7XG4gICAgcmV0dXJuIHJlZjtcbn1cbmV4cG9ydHMuZGVmYXVsdCA9IHNldFRpbWVvdXRVbnJlZjtcbiIsICJtb2R1bGUuZXhwb3J0cyA9IHJlcXVpcmUoJ2V2ZW50cycpLkV2ZW50RW1pdHRlcjtcbiIsICIndXNlIHN0cmljdCc7XG5cbmZ1bmN0aW9uIG93bktleXMob2JqZWN0LCBlbnVtZXJhYmxlT25seSkgeyB2YXIga2V5cyA9IE9iamVjdC5rZXlzKG9iamVjdCk7IGlmIChPYmplY3QuZ2V0T3duUHJvcGVydHlTeW1ib2xzKSB7IHZhciBzeW1ib2xzID0gT2JqZWN0LmdldE93blByb3BlcnR5U3ltYm9scyhvYmplY3QpOyBlbnVtZXJhYmxlT25seSAmJiAoc3ltYm9scyA9IHN5bWJvbHMuZmlsdGVyKGZ1bmN0aW9uIChzeW0pIHsgcmV0dXJuIE9iamVjdC5nZXRPd25Qcm9wZXJ0eURlc2NyaXB0b3Iob2JqZWN0LCBzeW0pLmVudW1lcmFibGU7IH0pKSwga2V5cy5wdXNoLmFwcGx5KGtleXMsIHN5bWJvbHMpOyB9IHJldHVybiBrZXlzOyB9XG5mdW5jdGlvbiBfb2JqZWN0U3ByZWFkKHRhcmdldCkgeyBmb3IgKHZhciBpID0gMTsgaSA8IGFyZ3VtZW50cy5sZW5ndGg7IGkrKykgeyB2YXIgc291cmNlID0gbnVsbCAhPSBhcmd1bWVudHNbaV0gPyBhcmd1bWVudHNbaV0gOiB7fTsgaSAlIDIgPyBvd25LZXlzKE9iamVjdChzb3VyY2UpLCAhMCkuZm9yRWFjaChmdW5jdGlvbiAoa2V5KSB7IF9kZWZpbmVQcm9wZXJ0eSh0YXJnZXQsIGtleSwgc291cmNlW2tleV0pOyB9KSA6IE9iamVjdC5nZXRPd25Qcm9wZXJ0eURlc2NyaXB0b3JzID8gT2JqZWN0LmRlZmluZVByb3BlcnRpZXModGFyZ2V0LCBPYmplY3QuZ2V0T3duUHJvcGVydHlEZXNjcmlwdG9ycyhzb3VyY2UpKSA6IG93bktleXMoT2JqZWN0KHNvdXJjZSkpLmZvckVhY2goZnVuY3Rpb24gKGtleSkgeyBPYmplY3QuZGVmaW5lUHJvcGVydHkodGFyZ2V0LCBrZXksIE9iamVjdC5nZXRPd25Qcm9wZXJ0eURlc2NyaXB0b3Ioc291cmNlLCBrZXkpKTsgfSk7IH0gcmV0dXJuIHRhcmdldDsgfVxuZnVuY3Rpb24gX2RlZmluZVByb3BlcnR5KG9iaiwga2V5LCB2YWx1ZSkgeyBrZXkgPSBfdG9Qcm9wZXJ0eUtleShrZXkpOyBpZiAoa2V5IGluIG9iaikgeyBPYmplY3QuZGVmaW5lUHJvcGVydHkob2JqLCBrZXksIHsgdmFsdWU6IHZhbHVlLCBlbnVtZXJhYmxlOiB0cnVlLCBjb25maWd1cmFibGU6IHRydWUsIHdyaXRhYmxlOiB0cnVlIH0pOyB9IGVsc2UgeyBvYmpba2V5XSA9IHZhbHVlOyB9IHJldHVybiBvYmo7IH1cbmZ1bmN0aW9uIF9jbGFzc0NhbGxDaGVjayhpbnN0YW5jZSwgQ29uc3RydWN0b3IpIHsgaWYgKCEoaW5zdGFuY2UgaW5zdGFuY2VvZiBDb25zdHJ1Y3RvcikpIHsgdGhyb3cgbmV3IFR5cGVFcnJvcihcIkNhbm5vdCBjYWxsIGEgY2xhc3MgYXMgYSBmdW5jdGlvblwiKTsgfSB9XG5mdW5jdGlvbiBfZGVmaW5lUHJvcGVydGllcyh0YXJnZXQsIHByb3BzKSB7IGZvciAodmFyIGkgPSAwOyBpIDwgcHJvcHMubGVuZ3RoOyBpKyspIHsgdmFyIGRlc2NyaXB0b3IgPSBwcm9wc1tpXTsgZGVzY3JpcHRvci5lbnVtZXJhYmxlID0gZGVzY3JpcHRvci5lbnVtZXJhYmxlIHx8IGZhbHNlOyBkZXNjcmlwdG9yLmNvbmZpZ3VyYWJsZSA9IHRydWU7IGlmIChcInZhbHVlXCIgaW4gZGVzY3JpcHRvcikgZGVzY3JpcHRvci53cml0YWJsZSA9IHRydWU7IE9iamVjdC5kZWZpbmVQcm9wZXJ0eSh0YXJnZXQsIF90b1Byb3BlcnR5S2V5KGRlc2NyaXB0b3Iua2V5KSwgZGVzY3JpcHRvcik7IH0gfVxuZnVuY3Rpb24gX2NyZWF0ZUNsYXNzKENvbnN0cnVjdG9yLCBwcm90b1Byb3BzLCBzdGF0aWNQcm9wcykgeyBpZiAocHJvdG9Qcm9wcykgX2RlZmluZVByb3BlcnRpZXMoQ29uc3RydWN0b3IucHJvdG90eXBlLCBwcm90b1Byb3BzKTsgaWYgKHN0YXRpY1Byb3BzKSBfZGVmaW5lUHJvcGVydGllcyhDb25zdHJ1Y3Rvciwgc3RhdGljUHJvcHMpOyBPYmplY3QuZGVmaW5lUHJvcGVydHkoQ29uc3RydWN0b3IsIFwicHJvdG90eXBlXCIsIHsgd3JpdGFibGU6IGZhbHNlIH0pOyByZXR1cm4gQ29uc3RydWN0b3I7IH1cbmZ1bmN0aW9uIF90b1Byb3BlcnR5S2V5KGFyZykgeyB2YXIga2V5ID0gX3RvUHJpbWl0aXZlKGFyZywgXCJzdHJpbmdcIik7IHJldHVybiB0eXBlb2Yga2V5ID09PSBcInN5bWJvbFwiID8ga2V5IDogU3RyaW5nKGtleSk7IH1cbmZ1bmN0aW9uIF90b1ByaW1pdGl2ZShpbnB1dCwgaGludCkgeyBpZiAodHlwZW9mIGlucHV0ICE9PSBcIm9iamVjdFwiIHx8IGlucHV0ID09PSBudWxsKSByZXR1cm4gaW5wdXQ7IHZhciBwcmltID0gaW5wdXRbU3ltYm9sLnRvUHJpbWl0aXZlXTsgaWYgKHByaW0gIT09IHVuZGVmaW5lZCkgeyB2YXIgcmVzID0gcHJpbS5jYWxsKGlucHV0LCBoaW50IHx8IFwiZGVmYXVsdFwiKTsgaWYgKHR5cGVvZiByZXMgIT09IFwib2JqZWN0XCIpIHJldHVybiByZXM7IHRocm93IG5ldyBUeXBlRXJyb3IoXCJAQHRvUHJpbWl0aXZlIG11c3QgcmV0dXJuIGEgcHJpbWl0aXZlIHZhbHVlLlwiKTsgfSByZXR1cm4gKGhpbnQgPT09IFwic3RyaW5nXCIgPyBTdHJpbmcgOiBOdW1iZXIpKGlucHV0KTsgfVxudmFyIF9yZXF1aXJlID0gcmVxdWlyZSgnYnVmZmVyJyksXG4gIEJ1ZmZlciA9IF9yZXF1aXJlLkJ1ZmZlcjtcbnZhciBfcmVxdWlyZTIgPSByZXF1aXJlKCd1dGlsJyksXG4gIGluc3BlY3QgPSBfcmVxdWlyZTIuaW5zcGVjdDtcbnZhciBjdXN0b20gPSBpbnNwZWN0ICYmIGluc3BlY3QuY3VzdG9tIHx8ICdpbnNwZWN0JztcbmZ1bmN0aW9uIGNvcHlCdWZmZXIoc3JjLCB0YXJnZXQsIG9mZnNldCkge1xuICBCdWZmZXIucHJvdG90eXBlLmNvcHkuY2FsbChzcmMsIHRhcmdldCwgb2Zmc2V0KTtcbn1cbm1vZHVsZS5leHBvcnRzID0gLyojX19QVVJFX18qL2Z1bmN0aW9uICgpIHtcbiAgZnVuY3Rpb24gQnVmZmVyTGlzdCgpIHtcbiAgICBfY2xhc3NDYWxsQ2hlY2sodGhpcywgQnVmZmVyTGlzdCk7XG4gICAgdGhpcy5oZWFkID0gbnVsbDtcbiAgICB0aGlzLnRhaWwgPSBudWxsO1xuICAgIHRoaXMubGVuZ3RoID0gMDtcbiAgfVxuICBfY3JlYXRlQ2xhc3MoQnVmZmVyTGlzdCwgW3tcbiAgICBrZXk6IFwicHVzaFwiLFxuICAgIHZhbHVlOiBmdW5jdGlvbiBwdXNoKHYpIHtcbiAgICAgIHZhciBlbnRyeSA9IHtcbiAgICAgICAgZGF0YTogdixcbiAgICAgICAgbmV4dDogbnVsbFxuICAgICAgfTtcbiAgICAgIGlmICh0aGlzLmxlbmd0aCA+IDApIHRoaXMudGFpbC5uZXh0ID0gZW50cnk7ZWxzZSB0aGlzLmhlYWQgPSBlbnRyeTtcbiAgICAgIHRoaXMudGFpbCA9IGVudHJ5O1xuICAgICAgKyt0aGlzLmxlbmd0aDtcbiAgICB9XG4gIH0sIHtcbiAgICBrZXk6IFwidW5zaGlmdFwiLFxuICAgIHZhbHVlOiBmdW5jdGlvbiB1bnNoaWZ0KHYpIHtcbiAgICAgIHZhciBlbnRyeSA9IHtcbiAgICAgICAgZGF0YTogdixcbiAgICAgICAgbmV4dDogdGhpcy5oZWFkXG4gICAgICB9O1xuICAgICAgaWYgKHRoaXMubGVuZ3RoID09PSAwKSB0aGlzLnRhaWwgPSBlbnRyeTtcbiAgICAgIHRoaXMuaGVhZCA9IGVudHJ5O1xuICAgICAgKyt0aGlzLmxlbmd0aDtcbiAgICB9XG4gIH0sIHtcbiAgICBrZXk6IFwic2hpZnRcIixcbiAgICB2YWx1ZTogZnVuY3Rpb24gc2hpZnQoKSB7XG4gICAgICBpZiAodGhpcy5sZW5ndGggPT09IDApIHJldHVybjtcbiAgICAgIHZhciByZXQgPSB0aGlzLmhlYWQuZGF0YTtcbiAgICAgIGlmICh0aGlzLmxlbmd0aCA9PT0gMSkgdGhpcy5oZWFkID0gdGhpcy50YWlsID0gbnVsbDtlbHNlIHRoaXMuaGVhZCA9IHRoaXMuaGVhZC5uZXh0O1xuICAgICAgLS10aGlzLmxlbmd0aDtcbiAgICAgIHJldHVybiByZXQ7XG4gICAgfVxuICB9LCB7XG4gICAga2V5OiBcImNsZWFyXCIsXG4gICAgdmFsdWU6IGZ1bmN0aW9uIGNsZWFyKCkge1xuICAgICAgdGhpcy5oZWFkID0gdGhpcy50YWlsID0gbnVsbDtcbiAgICAgIHRoaXMubGVuZ3RoID0gMDtcbiAgICB9XG4gIH0sIHtcbiAgICBrZXk6IFwiam9pblwiLFxuICAgIHZhbHVlOiBmdW5jdGlvbiBqb2luKHMpIHtcbiAgICAgIGlmICh0aGlzLmxlbmd0aCA9PT0gMCkgcmV0dXJuICcnO1xuICAgICAgdmFyIHAgPSB0aGlzLmhlYWQ7XG4gICAgICB2YXIgcmV0ID0gJycgKyBwLmRhdGE7XG4gICAgICB3aGlsZSAocCA9IHAubmV4dCkgcmV0ICs9IHMgKyBwLmRhdGE7XG4gICAgICByZXR1cm4gcmV0O1xuICAgIH1cbiAgfSwge1xuICAgIGtleTogXCJjb25jYXRcIixcbiAgICB2YWx1ZTogZnVuY3Rpb24gY29uY2F0KG4pIHtcbiAgICAgIGlmICh0aGlzLmxlbmd0aCA9PT0gMCkgcmV0dXJuIEJ1ZmZlci5hbGxvYygwKTtcbiAgICAgIHZhciByZXQgPSBCdWZmZXIuYWxsb2NVbnNhZmUobiA+Pj4gMCk7XG4gICAgICB2YXIgcCA9IHRoaXMuaGVhZDtcbiAgICAgIHZhciBpID0gMDtcbiAgICAgIHdoaWxlIChwKSB7XG4gICAgICAgIGNvcHlCdWZmZXIocC5kYXRhLCByZXQsIGkpO1xuICAgICAgICBpICs9IHAuZGF0YS5sZW5ndGg7XG4gICAgICAgIHAgPSBwLm5leHQ7XG4gICAgICB9XG4gICAgICByZXR1cm4gcmV0O1xuICAgIH1cblxuICAgIC8vIENvbnN1bWVzIGEgc3BlY2lmaWVkIGFtb3VudCBvZiBieXRlcyBvciBjaGFyYWN0ZXJzIGZyb20gdGhlIGJ1ZmZlcmVkIGRhdGEuXG4gIH0sIHtcbiAgICBrZXk6IFwiY29uc3VtZVwiLFxuICAgIHZhbHVlOiBmdW5jdGlvbiBjb25zdW1lKG4sIGhhc1N0cmluZ3MpIHtcbiAgICAgIHZhciByZXQ7XG4gICAgICBpZiAobiA8IHRoaXMuaGVhZC5kYXRhLmxlbmd0aCkge1xuICAgICAgICAvLyBgc2xpY2VgIGlzIHRoZSBzYW1lIGZvciBidWZmZXJzIGFuZCBzdHJpbmdzLlxuICAgICAgICByZXQgPSB0aGlzLmhlYWQuZGF0YS5zbGljZSgwLCBuKTtcbiAgICAgICAgdGhpcy5oZWFkLmRhdGEgPSB0aGlzLmhlYWQuZGF0YS5zbGljZShuKTtcbiAgICAgIH0gZWxzZSBpZiAobiA9PT0gdGhpcy5oZWFkLmRhdGEubGVuZ3RoKSB7XG4gICAgICAgIC8vIEZpcnN0IGNodW5rIGlzIGEgcGVyZmVjdCBtYXRjaC5cbiAgICAgICAgcmV0ID0gdGhpcy5zaGlmdCgpO1xuICAgICAgfSBlbHNlIHtcbiAgICAgICAgLy8gUmVzdWx0IHNwYW5zIG1vcmUgdGhhbiBvbmUgYnVmZmVyLlxuICAgICAgICByZXQgPSBoYXNTdHJpbmdzID8gdGhpcy5fZ2V0U3RyaW5nKG4pIDogdGhpcy5fZ2V0QnVmZmVyKG4pO1xuICAgICAgfVxuICAgICAgcmV0dXJuIHJldDtcbiAgICB9XG4gIH0sIHtcbiAgICBrZXk6IFwiZmlyc3RcIixcbiAgICB2YWx1ZTogZnVuY3Rpb24gZmlyc3QoKSB7XG4gICAgICByZXR1cm4gdGhpcy5oZWFkLmRhdGE7XG4gICAgfVxuXG4gICAgLy8gQ29uc3VtZXMgYSBzcGVjaWZpZWQgYW1vdW50IG9mIGNoYXJhY3RlcnMgZnJvbSB0aGUgYnVmZmVyZWQgZGF0YS5cbiAgfSwge1xuICAgIGtleTogXCJfZ2V0U3RyaW5nXCIsXG4gICAgdmFsdWU6IGZ1bmN0aW9uIF9nZXRTdHJpbmcobikge1xuICAgICAgdmFyIHAgPSB0aGlzLmhlYWQ7XG4gICAgICB2YXIgYyA9IDE7XG4gICAgICB2YXIgcmV0ID0gcC5kYXRhO1xuICAgICAgbiAtPSByZXQubGVuZ3RoO1xuICAgICAgd2hpbGUgKHAgPSBwLm5leHQpIHtcbiAgICAgICAgdmFyIHN0ciA9IHAuZGF0YTtcbiAgICAgICAgdmFyIG5iID0gbiA+IHN0ci5sZW5ndGggPyBzdHIubGVuZ3RoIDogbjtcbiAgICAgICAgaWYgKG5iID09PSBzdHIubGVuZ3RoKSByZXQgKz0gc3RyO2Vsc2UgcmV0ICs9IHN0ci5zbGljZSgwLCBuKTtcbiAgICAgICAgbiAtPSBuYjtcbiAgICAgICAgaWYgKG4gPT09IDApIHtcbiAgICAgICAgICBpZiAobmIgPT09IHN0ci5sZW5ndGgpIHtcbiAgICAgICAgICAgICsrYztcbiAgICAgICAgICAgIGlmIChwLm5leHQpIHRoaXMuaGVhZCA9IHAubmV4dDtlbHNlIHRoaXMuaGVhZCA9IHRoaXMudGFpbCA9IG51bGw7XG4gICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgIHRoaXMuaGVhZCA9IHA7XG4gICAgICAgICAgICBwLmRhdGEgPSBzdHIuc2xpY2UobmIpO1xuICAgICAgICAgIH1cbiAgICAgICAgICBicmVhaztcbiAgICAgICAgfVxuICAgICAgICArK2M7XG4gICAgICB9XG4gICAgICB0aGlzLmxlbmd0aCAtPSBjO1xuICAgICAgcmV0dXJuIHJldDtcbiAgICB9XG5cbiAgICAvLyBDb25zdW1lcyBhIHNwZWNpZmllZCBhbW91bnQgb2YgYnl0ZXMgZnJvbSB0aGUgYnVmZmVyZWQgZGF0YS5cbiAgfSwge1xuICAgIGtleTogXCJfZ2V0QnVmZmVyXCIsXG4gICAgdmFsdWU6IGZ1bmN0aW9uIF9nZXRCdWZmZXIobikge1xuICAgICAgdmFyIHJldCA9IEJ1ZmZlci5hbGxvY1Vuc2FmZShuKTtcbiAgICAgIHZhciBwID0gdGhpcy5oZWFkO1xuICAgICAgdmFyIGMgPSAxO1xuICAgICAgcC5kYXRhLmNvcHkocmV0KTtcbiAgICAgIG4gLT0gcC5kYXRhLmxlbmd0aDtcbiAgICAgIHdoaWxlIChwID0gcC5uZXh0KSB7XG4gICAgICAgIHZhciBidWYgPSBwLmRhdGE7XG4gICAgICAgIHZhciBuYiA9IG4gPiBidWYubGVuZ3RoID8gYnVmLmxlbmd0aCA6IG47XG4gICAgICAgIGJ1Zi5jb3B5KHJldCwgcmV0Lmxlbmd0aCAtIG4sIDAsIG5iKTtcbiAgICAgICAgbiAtPSBuYjtcbiAgICAgICAgaWYgKG4gPT09IDApIHtcbiAgICAgICAgICBpZiAobmIgPT09IGJ1Zi5sZW5ndGgpIHtcbiAgICAgICAgICAgICsrYztcbiAgICAgICAgICAgIGlmIChwLm5leHQpIHRoaXMuaGVhZCA9IHAubmV4dDtlbHNlIHRoaXMuaGVhZCA9IHRoaXMudGFpbCA9IG51bGw7XG4gICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgIHRoaXMuaGVhZCA9IHA7XG4gICAgICAgICAgICBwLmRhdGEgPSBidWYuc2xpY2UobmIpO1xuICAgICAgICAgIH1cbiAgICAgICAgICBicmVhaztcbiAgICAgICAgfVxuICAgICAgICArK2M7XG4gICAgICB9XG4gICAgICB0aGlzLmxlbmd0aCAtPSBjO1xuICAgICAgcmV0dXJuIHJldDtcbiAgICB9XG5cbiAgICAvLyBNYWtlIHN1cmUgdGhlIGxpbmtlZCBsaXN0IG9ubHkgc2hvd3MgdGhlIG1pbmltYWwgbmVjZXNzYXJ5IGluZm9ybWF0aW9uLlxuICB9LCB7XG4gICAga2V5OiBjdXN0b20sXG4gICAgdmFsdWU6IGZ1bmN0aW9uIHZhbHVlKF8sIG9wdGlvbnMpIHtcbiAgICAgIHJldHVybiBpbnNwZWN0KHRoaXMsIF9vYmplY3RTcHJlYWQoX29iamVjdFNwcmVhZCh7fSwgb3B0aW9ucyksIHt9LCB7XG4gICAgICAgIC8vIE9ubHkgaW5zcGVjdCBvbmUgbGV2ZWwuXG4gICAgICAgIGRlcHRoOiAwLFxuICAgICAgICAvLyBJdCBzaG91bGQgbm90IHJlY3Vyc2UuXG4gICAgICAgIGN1c3RvbUluc3BlY3Q6IGZhbHNlXG4gICAgICB9KSk7XG4gICAgfVxuICB9XSk7XG4gIHJldHVybiBCdWZmZXJMaXN0O1xufSgpOyIsICIndXNlIHN0cmljdCc7XG5cbi8vIHVuZG9jdW1lbnRlZCBjYigpIEFQSSwgbmVlZGVkIGZvciBjb3JlLCBub3QgZm9yIHB1YmxpYyBBUElcbmZ1bmN0aW9uIGRlc3Ryb3koZXJyLCBjYikge1xuICB2YXIgX3RoaXMgPSB0aGlzO1xuICB2YXIgcmVhZGFibGVEZXN0cm95ZWQgPSB0aGlzLl9yZWFkYWJsZVN0YXRlICYmIHRoaXMuX3JlYWRhYmxlU3RhdGUuZGVzdHJveWVkO1xuICB2YXIgd3JpdGFibGVEZXN0cm95ZWQgPSB0aGlzLl93cml0YWJsZVN0YXRlICYmIHRoaXMuX3dyaXRhYmxlU3RhdGUuZGVzdHJveWVkO1xuICBpZiAocmVhZGFibGVEZXN0cm95ZWQgfHwgd3JpdGFibGVEZXN0cm95ZWQpIHtcbiAgICBpZiAoY2IpIHtcbiAgICAgIGNiKGVycik7XG4gICAgfSBlbHNlIGlmIChlcnIpIHtcbiAgICAgIGlmICghdGhpcy5fd3JpdGFibGVTdGF0ZSkge1xuICAgICAgICBwcm9jZXNzLm5leHRUaWNrKGVtaXRFcnJvck5ULCB0aGlzLCBlcnIpO1xuICAgICAgfSBlbHNlIGlmICghdGhpcy5fd3JpdGFibGVTdGF0ZS5lcnJvckVtaXR0ZWQpIHtcbiAgICAgICAgdGhpcy5fd3JpdGFibGVTdGF0ZS5lcnJvckVtaXR0ZWQgPSB0cnVlO1xuICAgICAgICBwcm9jZXNzLm5leHRUaWNrKGVtaXRFcnJvck5ULCB0aGlzLCBlcnIpO1xuICAgICAgfVxuICAgIH1cbiAgICByZXR1cm4gdGhpcztcbiAgfVxuXG4gIC8vIHdlIHNldCBkZXN0cm95ZWQgdG8gdHJ1ZSBiZWZvcmUgZmlyaW5nIGVycm9yIGNhbGxiYWNrcyBpbiBvcmRlclxuICAvLyB0byBtYWtlIGl0IHJlLWVudHJhbmNlIHNhZmUgaW4gY2FzZSBkZXN0cm95KCkgaXMgY2FsbGVkIHdpdGhpbiBjYWxsYmFja3NcblxuICBpZiAodGhpcy5fcmVhZGFibGVTdGF0ZSkge1xuICAgIHRoaXMuX3JlYWRhYmxlU3RhdGUuZGVzdHJveWVkID0gdHJ1ZTtcbiAgfVxuXG4gIC8vIGlmIHRoaXMgaXMgYSBkdXBsZXggc3RyZWFtIG1hcmsgdGhlIHdyaXRhYmxlIHBhcnQgYXMgZGVzdHJveWVkIGFzIHdlbGxcbiAgaWYgKHRoaXMuX3dyaXRhYmxlU3RhdGUpIHtcbiAgICB0aGlzLl93cml0YWJsZVN0YXRlLmRlc3Ryb3llZCA9IHRydWU7XG4gIH1cbiAgdGhpcy5fZGVzdHJveShlcnIgfHwgbnVsbCwgZnVuY3Rpb24gKGVycikge1xuICAgIGlmICghY2IgJiYgZXJyKSB7XG4gICAgICBpZiAoIV90aGlzLl93cml0YWJsZVN0YXRlKSB7XG4gICAgICAgIHByb2Nlc3MubmV4dFRpY2soZW1pdEVycm9yQW5kQ2xvc2VOVCwgX3RoaXMsIGVycik7XG4gICAgICB9IGVsc2UgaWYgKCFfdGhpcy5fd3JpdGFibGVTdGF0ZS5lcnJvckVtaXR0ZWQpIHtcbiAgICAgICAgX3RoaXMuX3dyaXRhYmxlU3RhdGUuZXJyb3JFbWl0dGVkID0gdHJ1ZTtcbiAgICAgICAgcHJvY2Vzcy5uZXh0VGljayhlbWl0RXJyb3JBbmRDbG9zZU5ULCBfdGhpcywgZXJyKTtcbiAgICAgIH0gZWxzZSB7XG4gICAgICAgIHByb2Nlc3MubmV4dFRpY2soZW1pdENsb3NlTlQsIF90aGlzKTtcbiAgICAgIH1cbiAgICB9IGVsc2UgaWYgKGNiKSB7XG4gICAgICBwcm9jZXNzLm5leHRUaWNrKGVtaXRDbG9zZU5ULCBfdGhpcyk7XG4gICAgICBjYihlcnIpO1xuICAgIH0gZWxzZSB7XG4gICAgICBwcm9jZXNzLm5leHRUaWNrKGVtaXRDbG9zZU5ULCBfdGhpcyk7XG4gICAgfVxuICB9KTtcbiAgcmV0dXJuIHRoaXM7XG59XG5mdW5jdGlvbiBlbWl0RXJyb3JBbmRDbG9zZU5UKHNlbGYsIGVycikge1xuICBlbWl0RXJyb3JOVChzZWxmLCBlcnIpO1xuICBlbWl0Q2xvc2VOVChzZWxmKTtcbn1cbmZ1bmN0aW9uIGVtaXRDbG9zZU5UKHNlbGYpIHtcbiAgaWYgKHNlbGYuX3dyaXRhYmxlU3RhdGUgJiYgIXNlbGYuX3dyaXRhYmxlU3RhdGUuZW1pdENsb3NlKSByZXR1cm47XG4gIGlmIChzZWxmLl9yZWFkYWJsZVN0YXRlICYmICFzZWxmLl9yZWFkYWJsZVN0YXRlLmVtaXRDbG9zZSkgcmV0dXJuO1xuICBzZWxmLmVtaXQoJ2Nsb3NlJyk7XG59XG5mdW5jdGlvbiB1bmRlc3Ryb3koKSB7XG4gIGlmICh0aGlzLl9yZWFkYWJsZVN0YXRlKSB7XG4gICAgdGhpcy5fcmVhZGFibGVTdGF0ZS5kZXN0cm95ZWQgPSBmYWxzZTtcbiAgICB0aGlzLl9yZWFkYWJsZVN0YXRlLnJlYWRpbmcgPSBmYWxzZTtcbiAgICB0aGlzLl9yZWFkYWJsZVN0YXRlLmVuZGVkID0gZmFsc2U7XG4gICAgdGhpcy5fcmVhZGFibGVTdGF0ZS5lbmRFbWl0dGVkID0gZmFsc2U7XG4gIH1cbiAgaWYgKHRoaXMuX3dyaXRhYmxlU3RhdGUpIHtcbiAgICB0aGlzLl93cml0YWJsZVN0YXRlLmRlc3Ryb3llZCA9IGZhbHNlO1xuICAgIHRoaXMuX3dyaXRhYmxlU3RhdGUuZW5kZWQgPSBmYWxzZTtcbiAgICB0aGlzLl93cml0YWJsZVN0YXRlLmVuZGluZyA9IGZhbHNlO1xuICAgIHRoaXMuX3dyaXRhYmxlU3RhdGUuZmluYWxDYWxsZWQgPSBmYWxzZTtcbiAgICB0aGlzLl93cml0YWJsZVN0YXRlLnByZWZpbmlzaGVkID0gZmFsc2U7XG4gICAgdGhpcy5fd3JpdGFibGVTdGF0ZS5maW5pc2hlZCA9IGZhbHNlO1xuICAgIHRoaXMuX3dyaXRhYmxlU3RhdGUuZXJyb3JFbWl0dGVkID0gZmFsc2U7XG4gIH1cbn1cbmZ1bmN0aW9uIGVtaXRFcnJvck5UKHNlbGYsIGVycikge1xuICBzZWxmLmVtaXQoJ2Vycm9yJywgZXJyKTtcbn1cbmZ1bmN0aW9uIGVycm9yT3JEZXN0cm95KHN0cmVhbSwgZXJyKSB7XG4gIC8vIFdlIGhhdmUgdGVzdHMgdGhhdCByZWx5IG9uIGVycm9ycyBiZWluZyBlbWl0dGVkXG4gIC8vIGluIHRoZSBzYW1lIHRpY2ssIHNvIGNoYW5naW5nIHRoaXMgaXMgc2VtdmVyIG1ham9yLlxuICAvLyBGb3Igbm93IHdoZW4geW91IG9wdC1pbiB0byBhdXRvRGVzdHJveSB3ZSBhbGxvd1xuICAvLyB0aGUgZXJyb3IgdG8gYmUgZW1pdHRlZCBuZXh0VGljay4gSW4gYSBmdXR1cmVcbiAgLy8gc2VtdmVyIG1ham9yIHVwZGF0ZSB3ZSBzaG91bGQgY2hhbmdlIHRoZSBkZWZhdWx0IHRvIHRoaXMuXG5cbiAgdmFyIHJTdGF0ZSA9IHN0cmVhbS5fcmVhZGFibGVTdGF0ZTtcbiAgdmFyIHdTdGF0ZSA9IHN0cmVhbS5fd3JpdGFibGVTdGF0ZTtcbiAgaWYgKHJTdGF0ZSAmJiByU3RhdGUuYXV0b0Rlc3Ryb3kgfHwgd1N0YXRlICYmIHdTdGF0ZS5hdXRvRGVzdHJveSkgc3RyZWFtLmRlc3Ryb3koZXJyKTtlbHNlIHN0cmVhbS5lbWl0KCdlcnJvcicsIGVycik7XG59XG5tb2R1bGUuZXhwb3J0cyA9IHtcbiAgZGVzdHJveTogZGVzdHJveSxcbiAgdW5kZXN0cm95OiB1bmRlc3Ryb3ksXG4gIGVycm9yT3JEZXN0cm95OiBlcnJvck9yRGVzdHJveVxufTsiLCAiJ3VzZSBzdHJpY3QnO1xuXG5mdW5jdGlvbiBfaW5oZXJpdHNMb29zZShzdWJDbGFzcywgc3VwZXJDbGFzcykgeyBzdWJDbGFzcy5wcm90b3R5cGUgPSBPYmplY3QuY3JlYXRlKHN1cGVyQ2xhc3MucHJvdG90eXBlKTsgc3ViQ2xhc3MucHJvdG90eXBlLmNvbnN0cnVjdG9yID0gc3ViQ2xhc3M7IHN1YkNsYXNzLl9fcHJvdG9fXyA9IHN1cGVyQ2xhc3M7IH1cblxudmFyIGNvZGVzID0ge307XG5cbmZ1bmN0aW9uIGNyZWF0ZUVycm9yVHlwZShjb2RlLCBtZXNzYWdlLCBCYXNlKSB7XG4gIGlmICghQmFzZSkge1xuICAgIEJhc2UgPSBFcnJvcjtcbiAgfVxuXG4gIGZ1bmN0aW9uIGdldE1lc3NhZ2UoYXJnMSwgYXJnMiwgYXJnMykge1xuICAgIGlmICh0eXBlb2YgbWVzc2FnZSA9PT0gJ3N0cmluZycpIHtcbiAgICAgIHJldHVybiBtZXNzYWdlO1xuICAgIH0gZWxzZSB7XG4gICAgICByZXR1cm4gbWVzc2FnZShhcmcxLCBhcmcyLCBhcmczKTtcbiAgICB9XG4gIH1cblxuICB2YXIgTm9kZUVycm9yID1cbiAgLyojX19QVVJFX18qL1xuICBmdW5jdGlvbiAoX0Jhc2UpIHtcbiAgICBfaW5oZXJpdHNMb29zZShOb2RlRXJyb3IsIF9CYXNlKTtcblxuICAgIGZ1bmN0aW9uIE5vZGVFcnJvcihhcmcxLCBhcmcyLCBhcmczKSB7XG4gICAgICByZXR1cm4gX0Jhc2UuY2FsbCh0aGlzLCBnZXRNZXNzYWdlKGFyZzEsIGFyZzIsIGFyZzMpKSB8fCB0aGlzO1xuICAgIH1cblxuICAgIHJldHVybiBOb2RlRXJyb3I7XG4gIH0oQmFzZSk7XG5cbiAgTm9kZUVycm9yLnByb3RvdHlwZS5uYW1lID0gQmFzZS5uYW1lO1xuICBOb2RlRXJyb3IucHJvdG90eXBlLmNvZGUgPSBjb2RlO1xuICBjb2Rlc1tjb2RlXSA9IE5vZGVFcnJvcjtcbn0gLy8gaHR0cHM6Ly9naXRodWIuY29tL25vZGVqcy9ub2RlL2Jsb2IvdjEwLjguMC9saWIvaW50ZXJuYWwvZXJyb3JzLmpzXG5cblxuZnVuY3Rpb24gb25lT2YoZXhwZWN0ZWQsIHRoaW5nKSB7XG4gIGlmIChBcnJheS5pc0FycmF5KGV4cGVjdGVkKSkge1xuICAgIHZhciBsZW4gPSBleHBlY3RlZC5sZW5ndGg7XG4gICAgZXhwZWN0ZWQgPSBleHBlY3RlZC5tYXAoZnVuY3Rpb24gKGkpIHtcbiAgICAgIHJldHVybiBTdHJpbmcoaSk7XG4gICAgfSk7XG5cbiAgICBpZiAobGVuID4gMikge1xuICAgICAgcmV0dXJuIFwib25lIG9mIFwiLmNvbmNhdCh0aGluZywgXCIgXCIpLmNvbmNhdChleHBlY3RlZC5zbGljZSgwLCBsZW4gLSAxKS5qb2luKCcsICcpLCBcIiwgb3IgXCIpICsgZXhwZWN0ZWRbbGVuIC0gMV07XG4gICAgfSBlbHNlIGlmIChsZW4gPT09IDIpIHtcbiAgICAgIHJldHVybiBcIm9uZSBvZiBcIi5jb25jYXQodGhpbmcsIFwiIFwiKS5jb25jYXQoZXhwZWN0ZWRbMF0sIFwiIG9yIFwiKS5jb25jYXQoZXhwZWN0ZWRbMV0pO1xuICAgIH0gZWxzZSB7XG4gICAgICByZXR1cm4gXCJvZiBcIi5jb25jYXQodGhpbmcsIFwiIFwiKS5jb25jYXQoZXhwZWN0ZWRbMF0pO1xuICAgIH1cbiAgfSBlbHNlIHtcbiAgICByZXR1cm4gXCJvZiBcIi5jb25jYXQodGhpbmcsIFwiIFwiKS5jb25jYXQoU3RyaW5nKGV4cGVjdGVkKSk7XG4gIH1cbn0gLy8gaHR0cHM6Ly9kZXZlbG9wZXIubW96aWxsYS5vcmcvZW4tVVMvZG9jcy9XZWIvSmF2YVNjcmlwdC9SZWZlcmVuY2UvR2xvYmFsX09iamVjdHMvU3RyaW5nL3N0YXJ0c1dpdGhcblxuXG5mdW5jdGlvbiBzdGFydHNXaXRoKHN0ciwgc2VhcmNoLCBwb3MpIHtcbiAgcmV0dXJuIHN0ci5zdWJzdHIoIXBvcyB8fCBwb3MgPCAwID8gMCA6ICtwb3MsIHNlYXJjaC5sZW5ndGgpID09PSBzZWFyY2g7XG59IC8vIGh0dHBzOi8vZGV2ZWxvcGVyLm1vemlsbGEub3JnL2VuLVVTL2RvY3MvV2ViL0phdmFTY3JpcHQvUmVmZXJlbmNlL0dsb2JhbF9PYmplY3RzL1N0cmluZy9lbmRzV2l0aFxuXG5cbmZ1bmN0aW9uIGVuZHNXaXRoKHN0ciwgc2VhcmNoLCB0aGlzX2xlbikge1xuICBpZiAodGhpc19sZW4gPT09IHVuZGVmaW5lZCB8fCB0aGlzX2xlbiA+IHN0ci5sZW5ndGgpIHtcbiAgICB0aGlzX2xlbiA9IHN0ci5sZW5ndGg7XG4gIH1cblxuICByZXR1cm4gc3RyLnN1YnN0cmluZyh0aGlzX2xlbiAtIHNlYXJjaC5sZW5ndGgsIHRoaXNfbGVuKSA9PT0gc2VhcmNoO1xufSAvLyBodHRwczovL2RldmVsb3Blci5tb3ppbGxhLm9yZy9lbi1VUy9kb2NzL1dlYi9KYXZhU2NyaXB0L1JlZmVyZW5jZS9HbG9iYWxfT2JqZWN0cy9TdHJpbmcvaW5jbHVkZXNcblxuXG5mdW5jdGlvbiBpbmNsdWRlcyhzdHIsIHNlYXJjaCwgc3RhcnQpIHtcbiAgaWYgKHR5cGVvZiBzdGFydCAhPT0gJ251bWJlcicpIHtcbiAgICBzdGFydCA9IDA7XG4gIH1cblxuICBpZiAoc3RhcnQgKyBzZWFyY2gubGVuZ3RoID4gc3RyLmxlbmd0aCkge1xuICAgIHJldHVybiBmYWxzZTtcbiAgfSBlbHNlIHtcbiAgICByZXR1cm4gc3RyLmluZGV4T2Yoc2VhcmNoLCBzdGFydCkgIT09IC0xO1xuICB9XG59XG5cbmNyZWF0ZUVycm9yVHlwZSgnRVJSX0lOVkFMSURfT1BUX1ZBTFVFJywgZnVuY3Rpb24gKG5hbWUsIHZhbHVlKSB7XG4gIHJldHVybiAnVGhlIHZhbHVlIFwiJyArIHZhbHVlICsgJ1wiIGlzIGludmFsaWQgZm9yIG9wdGlvbiBcIicgKyBuYW1lICsgJ1wiJztcbn0sIFR5cGVFcnJvcik7XG5jcmVhdGVFcnJvclR5cGUoJ0VSUl9JTlZBTElEX0FSR19UWVBFJywgZnVuY3Rpb24gKG5hbWUsIGV4cGVjdGVkLCBhY3R1YWwpIHtcbiAgLy8gZGV0ZXJtaW5lcjogJ211c3QgYmUnIG9yICdtdXN0IG5vdCBiZSdcbiAgdmFyIGRldGVybWluZXI7XG5cbiAgaWYgKHR5cGVvZiBleHBlY3RlZCA9PT0gJ3N0cmluZycgJiYgc3RhcnRzV2l0aChleHBlY3RlZCwgJ25vdCAnKSkge1xuICAgIGRldGVybWluZXIgPSAnbXVzdCBub3QgYmUnO1xuICAgIGV4cGVjdGVkID0gZXhwZWN0ZWQucmVwbGFjZSgvXm5vdCAvLCAnJyk7XG4gIH0gZWxzZSB7XG4gICAgZGV0ZXJtaW5lciA9ICdtdXN0IGJlJztcbiAgfVxuXG4gIHZhciBtc2c7XG5cbiAgaWYgKGVuZHNXaXRoKG5hbWUsICcgYXJndW1lbnQnKSkge1xuICAgIC8vIEZvciBjYXNlcyBsaWtlICdmaXJzdCBhcmd1bWVudCdcbiAgICBtc2cgPSBcIlRoZSBcIi5jb25jYXQobmFtZSwgXCIgXCIpLmNvbmNhdChkZXRlcm1pbmVyLCBcIiBcIikuY29uY2F0KG9uZU9mKGV4cGVjdGVkLCAndHlwZScpKTtcbiAgfSBlbHNlIHtcbiAgICB2YXIgdHlwZSA9IGluY2x1ZGVzKG5hbWUsICcuJykgPyAncHJvcGVydHknIDogJ2FyZ3VtZW50JztcbiAgICBtc2cgPSBcIlRoZSBcXFwiXCIuY29uY2F0KG5hbWUsIFwiXFxcIiBcIikuY29uY2F0KHR5cGUsIFwiIFwiKS5jb25jYXQoZGV0ZXJtaW5lciwgXCIgXCIpLmNvbmNhdChvbmVPZihleHBlY3RlZCwgJ3R5cGUnKSk7XG4gIH1cblxuICBtc2cgKz0gXCIuIFJlY2VpdmVkIHR5cGUgXCIuY29uY2F0KHR5cGVvZiBhY3R1YWwpO1xuICByZXR1cm4gbXNnO1xufSwgVHlwZUVycm9yKTtcbmNyZWF0ZUVycm9yVHlwZSgnRVJSX1NUUkVBTV9QVVNIX0FGVEVSX0VPRicsICdzdHJlYW0ucHVzaCgpIGFmdGVyIEVPRicpO1xuY3JlYXRlRXJyb3JUeXBlKCdFUlJfTUVUSE9EX05PVF9JTVBMRU1FTlRFRCcsIGZ1bmN0aW9uIChuYW1lKSB7XG4gIHJldHVybiAnVGhlICcgKyBuYW1lICsgJyBtZXRob2QgaXMgbm90IGltcGxlbWVudGVkJztcbn0pO1xuY3JlYXRlRXJyb3JUeXBlKCdFUlJfU1RSRUFNX1BSRU1BVFVSRV9DTE9TRScsICdQcmVtYXR1cmUgY2xvc2UnKTtcbmNyZWF0ZUVycm9yVHlwZSgnRVJSX1NUUkVBTV9ERVNUUk9ZRUQnLCBmdW5jdGlvbiAobmFtZSkge1xuICByZXR1cm4gJ0Nhbm5vdCBjYWxsICcgKyBuYW1lICsgJyBhZnRlciBhIHN0cmVhbSB3YXMgZGVzdHJveWVkJztcbn0pO1xuY3JlYXRlRXJyb3JUeXBlKCdFUlJfTVVMVElQTEVfQ0FMTEJBQ0snLCAnQ2FsbGJhY2sgY2FsbGVkIG11bHRpcGxlIHRpbWVzJyk7XG5jcmVhdGVFcnJvclR5cGUoJ0VSUl9TVFJFQU1fQ0FOTk9UX1BJUEUnLCAnQ2Fubm90IHBpcGUsIG5vdCByZWFkYWJsZScpO1xuY3JlYXRlRXJyb3JUeXBlKCdFUlJfU1RSRUFNX1dSSVRFX0FGVEVSX0VORCcsICd3cml0ZSBhZnRlciBlbmQnKTtcbmNyZWF0ZUVycm9yVHlwZSgnRVJSX1NUUkVBTV9OVUxMX1ZBTFVFUycsICdNYXkgbm90IHdyaXRlIG51bGwgdmFsdWVzIHRvIHN0cmVhbScsIFR5cGVFcnJvcik7XG5jcmVhdGVFcnJvclR5cGUoJ0VSUl9VTktOT1dOX0VOQ09ESU5HJywgZnVuY3Rpb24gKGFyZykge1xuICByZXR1cm4gJ1Vua25vd24gZW5jb2Rpbmc6ICcgKyBhcmc7XG59LCBUeXBlRXJyb3IpO1xuY3JlYXRlRXJyb3JUeXBlKCdFUlJfU1RSRUFNX1VOU0hJRlRfQUZURVJfRU5EX0VWRU5UJywgJ3N0cmVhbS51bnNoaWZ0KCkgYWZ0ZXIgZW5kIGV2ZW50Jyk7XG5tb2R1bGUuZXhwb3J0cy5jb2RlcyA9IGNvZGVzO1xuIiwgIid1c2Ugc3RyaWN0JztcblxudmFyIEVSUl9JTlZBTElEX09QVF9WQUxVRSA9IHJlcXVpcmUoJy4uLy4uLy4uL2Vycm9ycycpLmNvZGVzLkVSUl9JTlZBTElEX09QVF9WQUxVRTtcbmZ1bmN0aW9uIGhpZ2hXYXRlck1hcmtGcm9tKG9wdGlvbnMsIGlzRHVwbGV4LCBkdXBsZXhLZXkpIHtcbiAgcmV0dXJuIG9wdGlvbnMuaGlnaFdhdGVyTWFyayAhPSBudWxsID8gb3B0aW9ucy5oaWdoV2F0ZXJNYXJrIDogaXNEdXBsZXggPyBvcHRpb25zW2R1cGxleEtleV0gOiBudWxsO1xufVxuZnVuY3Rpb24gZ2V0SGlnaFdhdGVyTWFyayhzdGF0ZSwgb3B0aW9ucywgZHVwbGV4S2V5LCBpc0R1cGxleCkge1xuICB2YXIgaHdtID0gaGlnaFdhdGVyTWFya0Zyb20ob3B0aW9ucywgaXNEdXBsZXgsIGR1cGxleEtleSk7XG4gIGlmIChod20gIT0gbnVsbCkge1xuICAgIGlmICghKGlzRmluaXRlKGh3bSkgJiYgTWF0aC5mbG9vcihod20pID09PSBod20pIHx8IGh3bSA8IDApIHtcbiAgICAgIHZhciBuYW1lID0gaXNEdXBsZXggPyBkdXBsZXhLZXkgOiAnaGlnaFdhdGVyTWFyayc7XG4gICAgICB0aHJvdyBuZXcgRVJSX0lOVkFMSURfT1BUX1ZBTFVFKG5hbWUsIGh3bSk7XG4gICAgfVxuICAgIHJldHVybiBNYXRoLmZsb29yKGh3bSk7XG4gIH1cblxuICAvLyBEZWZhdWx0IHZhbHVlXG4gIHJldHVybiBzdGF0ZS5vYmplY3RNb2RlID8gMTYgOiAxNiAqIDEwMjQ7XG59XG5tb2R1bGUuZXhwb3J0cyA9IHtcbiAgZ2V0SGlnaFdhdGVyTWFyazogZ2V0SGlnaFdhdGVyTWFya1xufTsiLCAiXG4vKipcbiAqIE1vZHVsZSBleHBvcnRzLlxuICovXG5cbm1vZHVsZS5leHBvcnRzID0gZGVwcmVjYXRlO1xuXG4vKipcbiAqIE1hcmsgdGhhdCBhIG1ldGhvZCBzaG91bGQgbm90IGJlIHVzZWQuXG4gKiBSZXR1cm5zIGEgbW9kaWZpZWQgZnVuY3Rpb24gd2hpY2ggd2FybnMgb25jZSBieSBkZWZhdWx0LlxuICpcbiAqIElmIGBsb2NhbFN0b3JhZ2Uubm9EZXByZWNhdGlvbiA9IHRydWVgIGlzIHNldCwgdGhlbiBpdCBpcyBhIG5vLW9wLlxuICpcbiAqIElmIGBsb2NhbFN0b3JhZ2UudGhyb3dEZXByZWNhdGlvbiA9IHRydWVgIGlzIHNldCwgdGhlbiBkZXByZWNhdGVkIGZ1bmN0aW9uc1xuICogd2lsbCB0aHJvdyBhbiBFcnJvciB3aGVuIGludm9rZWQuXG4gKlxuICogSWYgYGxvY2FsU3RvcmFnZS50cmFjZURlcHJlY2F0aW9uID0gdHJ1ZWAgaXMgc2V0LCB0aGVuIGRlcHJlY2F0ZWQgZnVuY3Rpb25zXG4gKiB3aWxsIGludm9rZSBgY29uc29sZS50cmFjZSgpYCBpbnN0ZWFkIG9mIGBjb25zb2xlLmVycm9yKClgLlxuICpcbiAqIEBwYXJhbSB7RnVuY3Rpb259IGZuIC0gdGhlIGZ1bmN0aW9uIHRvIGRlcHJlY2F0ZVxuICogQHBhcmFtIHtTdHJpbmd9IG1zZyAtIHRoZSBzdHJpbmcgdG8gcHJpbnQgdG8gdGhlIGNvbnNvbGUgd2hlbiBgZm5gIGlzIGludm9rZWRcbiAqIEByZXR1cm5zIHtGdW5jdGlvbn0gYSBuZXcgXCJkZXByZWNhdGVkXCIgdmVyc2lvbiBvZiBgZm5gXG4gKiBAYXBpIHB1YmxpY1xuICovXG5cbmZ1bmN0aW9uIGRlcHJlY2F0ZSAoZm4sIG1zZykge1xuICBpZiAoY29uZmlnKCdub0RlcHJlY2F0aW9uJykpIHtcbiAgICByZXR1cm4gZm47XG4gIH1cblxuICB2YXIgd2FybmVkID0gZmFsc2U7XG4gIGZ1bmN0aW9uIGRlcHJlY2F0ZWQoKSB7XG4gICAgaWYgKCF3YXJuZWQpIHtcbiAgICAgIGlmIChjb25maWcoJ3Rocm93RGVwcmVjYXRpb24nKSkge1xuICAgICAgICB0aHJvdyBuZXcgRXJyb3IobXNnKTtcbiAgICAgIH0gZWxzZSBpZiAoY29uZmlnKCd0cmFjZURlcHJlY2F0aW9uJykpIHtcbiAgICAgICAgY29uc29sZS50cmFjZShtc2cpO1xuICAgICAgfSBlbHNlIHtcbiAgICAgICAgY29uc29sZS53YXJuKG1zZyk7XG4gICAgICB9XG4gICAgICB3YXJuZWQgPSB0cnVlO1xuICAgIH1cbiAgICByZXR1cm4gZm4uYXBwbHkodGhpcywgYXJndW1lbnRzKTtcbiAgfVxuXG4gIHJldHVybiBkZXByZWNhdGVkO1xufVxuXG4vKipcbiAqIENoZWNrcyBgbG9jYWxTdG9yYWdlYCBmb3IgYm9vbGVhbiB2YWx1ZXMgZm9yIHRoZSBnaXZlbiBgbmFtZWAuXG4gKlxuICogQHBhcmFtIHtTdHJpbmd9IG5hbWVcbiAqIEByZXR1cm5zIHtCb29sZWFufVxuICogQGFwaSBwcml2YXRlXG4gKi9cblxuZnVuY3Rpb24gY29uZmlnIChuYW1lKSB7XG4gIC8vIGFjY2Vzc2luZyBnbG9iYWwubG9jYWxTdG9yYWdlIGNhbiB0cmlnZ2VyIGEgRE9NRXhjZXB0aW9uIGluIHNhbmRib3hlZCBpZnJhbWVzXG4gIHRyeSB7XG4gICAgaWYgKCFnbG9iYWwubG9jYWxTdG9yYWdlKSByZXR1cm4gZmFsc2U7XG4gIH0gY2F0Y2ggKF8pIHtcbiAgICByZXR1cm4gZmFsc2U7XG4gIH1cbiAgdmFyIHZhbCA9IGdsb2JhbC5sb2NhbFN0b3JhZ2VbbmFtZV07XG4gIGlmIChudWxsID09IHZhbCkgcmV0dXJuIGZhbHNlO1xuICByZXR1cm4gU3RyaW5nKHZhbCkudG9Mb3dlckNhc2UoKSA9PT0gJ3RydWUnO1xufVxuIiwgIi8vIENvcHlyaWdodCBKb3llbnQsIEluYy4gYW5kIG90aGVyIE5vZGUgY29udHJpYnV0b3JzLlxuLy9cbi8vIFBlcm1pc3Npb24gaXMgaGVyZWJ5IGdyYW50ZWQsIGZyZWUgb2YgY2hhcmdlLCB0byBhbnkgcGVyc29uIG9idGFpbmluZyBhXG4vLyBjb3B5IG9mIHRoaXMgc29mdHdhcmUgYW5kIGFzc29jaWF0ZWQgZG9jdW1lbnRhdGlvbiBmaWxlcyAodGhlXG4vLyBcIlNvZnR3YXJlXCIpLCB0byBkZWFsIGluIHRoZSBTb2Z0d2FyZSB3aXRob3V0IHJlc3RyaWN0aW9uLCBpbmNsdWRpbmdcbi8vIHdpdGhvdXQgbGltaXRhdGlvbiB0aGUgcmlnaHRzIHRvIHVzZSwgY29weSwgbW9kaWZ5LCBtZXJnZSwgcHVibGlzaCxcbi8vIGRpc3RyaWJ1dGUsIHN1YmxpY2Vuc2UsIGFuZC9vciBzZWxsIGNvcGllcyBvZiB0aGUgU29mdHdhcmUsIGFuZCB0byBwZXJtaXRcbi8vIHBlcnNvbnMgdG8gd2hvbSB0aGUgU29mdHdhcmUgaXMgZnVybmlzaGVkIHRvIGRvIHNvLCBzdWJqZWN0IHRvIHRoZVxuLy8gZm9sbG93aW5nIGNvbmRpdGlvbnM6XG4vL1xuLy8gVGhlIGFib3ZlIGNvcHlyaWdodCBub3RpY2UgYW5kIHRoaXMgcGVybWlzc2lvbiBub3RpY2Ugc2hhbGwgYmUgaW5jbHVkZWRcbi8vIGluIGFsbCBjb3BpZXMgb3Igc3Vic3RhbnRpYWwgcG9ydGlvbnMgb2YgdGhlIFNvZnR3YXJlLlxuLy9cbi8vIFRIRSBTT0ZUV0FSRSBJUyBQUk9WSURFRCBcIkFTIElTXCIsIFdJVEhPVVQgV0FSUkFOVFkgT0YgQU5ZIEtJTkQsIEVYUFJFU1Ncbi8vIE9SIElNUExJRUQsIElOQ0xVRElORyBCVVQgTk9UIExJTUlURUQgVE8gVEhFIFdBUlJBTlRJRVMgT0Zcbi8vIE1FUkNIQU5UQUJJTElUWSwgRklUTkVTUyBGT1IgQSBQQVJUSUNVTEFSIFBVUlBPU0UgQU5EIE5PTklORlJJTkdFTUVOVC4gSU5cbi8vIE5PIEVWRU5UIFNIQUxMIFRIRSBBVVRIT1JTIE9SIENPUFlSSUdIVCBIT0xERVJTIEJFIExJQUJMRSBGT1IgQU5ZIENMQUlNLFxuLy8gREFNQUdFUyBPUiBPVEhFUiBMSUFCSUxJVFksIFdIRVRIRVIgSU4gQU4gQUNUSU9OIE9GIENPTlRSQUNULCBUT1JUIE9SXG4vLyBPVEhFUldJU0UsIEFSSVNJTkcgRlJPTSwgT1VUIE9GIE9SIElOIENPTk5FQ1RJT04gV0lUSCBUSEUgU09GVFdBUkUgT1IgVEhFXG4vLyBVU0UgT1IgT1RIRVIgREVBTElOR1MgSU4gVEhFIFNPRlRXQVJFLlxuXG4vLyBBIGJpdCBzaW1wbGVyIHRoYW4gcmVhZGFibGUgc3RyZWFtcy5cbi8vIEltcGxlbWVudCBhbiBhc3luYyAuX3dyaXRlKGNodW5rLCBlbmNvZGluZywgY2IpLCBhbmQgaXQnbGwgaGFuZGxlIGFsbFxuLy8gdGhlIGRyYWluIGV2ZW50IGVtaXNzaW9uIGFuZCBidWZmZXJpbmcuXG5cbid1c2Ugc3RyaWN0JztcblxubW9kdWxlLmV4cG9ydHMgPSBXcml0YWJsZTtcblxuLyogPHJlcGxhY2VtZW50PiAqL1xuZnVuY3Rpb24gV3JpdGVSZXEoY2h1bmssIGVuY29kaW5nLCBjYikge1xuICB0aGlzLmNodW5rID0gY2h1bms7XG4gIHRoaXMuZW5jb2RpbmcgPSBlbmNvZGluZztcbiAgdGhpcy5jYWxsYmFjayA9IGNiO1xuICB0aGlzLm5leHQgPSBudWxsO1xufVxuXG4vLyBJdCBzZWVtcyBhIGxpbmtlZCBsaXN0IGJ1dCBpdCBpcyBub3Rcbi8vIHRoZXJlIHdpbGwgYmUgb25seSAyIG9mIHRoZXNlIGZvciBlYWNoIHN0cmVhbVxuZnVuY3Rpb24gQ29ya2VkUmVxdWVzdChzdGF0ZSkge1xuICB2YXIgX3RoaXMgPSB0aGlzO1xuICB0aGlzLm5leHQgPSBudWxsO1xuICB0aGlzLmVudHJ5ID0gbnVsbDtcbiAgdGhpcy5maW5pc2ggPSBmdW5jdGlvbiAoKSB7XG4gICAgb25Db3JrZWRGaW5pc2goX3RoaXMsIHN0YXRlKTtcbiAgfTtcbn1cbi8qIDwvcmVwbGFjZW1lbnQ+ICovXG5cbi8qPHJlcGxhY2VtZW50PiovXG52YXIgRHVwbGV4O1xuLyo8L3JlcGxhY2VtZW50PiovXG5cbldyaXRhYmxlLldyaXRhYmxlU3RhdGUgPSBXcml0YWJsZVN0YXRlO1xuXG4vKjxyZXBsYWNlbWVudD4qL1xudmFyIGludGVybmFsVXRpbCA9IHtcbiAgZGVwcmVjYXRlOiByZXF1aXJlKCd1dGlsLWRlcHJlY2F0ZScpXG59O1xuLyo8L3JlcGxhY2VtZW50PiovXG5cbi8qPHJlcGxhY2VtZW50PiovXG52YXIgU3RyZWFtID0gcmVxdWlyZSgnLi9pbnRlcm5hbC9zdHJlYW1zL3N0cmVhbScpO1xuLyo8L3JlcGxhY2VtZW50PiovXG5cbnZhciBCdWZmZXIgPSByZXF1aXJlKCdidWZmZXInKS5CdWZmZXI7XG52YXIgT3VyVWludDhBcnJheSA9ICh0eXBlb2YgZ2xvYmFsICE9PSAndW5kZWZpbmVkJyA/IGdsb2JhbCA6IHR5cGVvZiB3aW5kb3cgIT09ICd1bmRlZmluZWQnID8gd2luZG93IDogdHlwZW9mIHNlbGYgIT09ICd1bmRlZmluZWQnID8gc2VsZiA6IHt9KS5VaW50OEFycmF5IHx8IGZ1bmN0aW9uICgpIHt9O1xuZnVuY3Rpb24gX3VpbnQ4QXJyYXlUb0J1ZmZlcihjaHVuaykge1xuICByZXR1cm4gQnVmZmVyLmZyb20oY2h1bmspO1xufVxuZnVuY3Rpb24gX2lzVWludDhBcnJheShvYmopIHtcbiAgcmV0dXJuIEJ1ZmZlci5pc0J1ZmZlcihvYmopIHx8IG9iaiBpbnN0YW5jZW9mIE91clVpbnQ4QXJyYXk7XG59XG52YXIgZGVzdHJveUltcGwgPSByZXF1aXJlKCcuL2ludGVybmFsL3N0cmVhbXMvZGVzdHJveScpO1xudmFyIF9yZXF1aXJlID0gcmVxdWlyZSgnLi9pbnRlcm5hbC9zdHJlYW1zL3N0YXRlJyksXG4gIGdldEhpZ2hXYXRlck1hcmsgPSBfcmVxdWlyZS5nZXRIaWdoV2F0ZXJNYXJrO1xudmFyIF9yZXF1aXJlJGNvZGVzID0gcmVxdWlyZSgnLi4vZXJyb3JzJykuY29kZXMsXG4gIEVSUl9JTlZBTElEX0FSR19UWVBFID0gX3JlcXVpcmUkY29kZXMuRVJSX0lOVkFMSURfQVJHX1RZUEUsXG4gIEVSUl9NRVRIT0RfTk9UX0lNUExFTUVOVEVEID0gX3JlcXVpcmUkY29kZXMuRVJSX01FVEhPRF9OT1RfSU1QTEVNRU5URUQsXG4gIEVSUl9NVUxUSVBMRV9DQUxMQkFDSyA9IF9yZXF1aXJlJGNvZGVzLkVSUl9NVUxUSVBMRV9DQUxMQkFDSyxcbiAgRVJSX1NUUkVBTV9DQU5OT1RfUElQRSA9IF9yZXF1aXJlJGNvZGVzLkVSUl9TVFJFQU1fQ0FOTk9UX1BJUEUsXG4gIEVSUl9TVFJFQU1fREVTVFJPWUVEID0gX3JlcXVpcmUkY29kZXMuRVJSX1NUUkVBTV9ERVNUUk9ZRUQsXG4gIEVSUl9TVFJFQU1fTlVMTF9WQUxVRVMgPSBfcmVxdWlyZSRjb2Rlcy5FUlJfU1RSRUFNX05VTExfVkFMVUVTLFxuICBFUlJfU1RSRUFNX1dSSVRFX0FGVEVSX0VORCA9IF9yZXF1aXJlJGNvZGVzLkVSUl9TVFJFQU1fV1JJVEVfQUZURVJfRU5ELFxuICBFUlJfVU5LTk9XTl9FTkNPRElORyA9IF9yZXF1aXJlJGNvZGVzLkVSUl9VTktOT1dOX0VOQ09ESU5HO1xudmFyIGVycm9yT3JEZXN0cm95ID0gZGVzdHJveUltcGwuZXJyb3JPckRlc3Ryb3k7XG5yZXF1aXJlKCdpbmhlcml0cycpKFdyaXRhYmxlLCBTdHJlYW0pO1xuZnVuY3Rpb24gbm9wKCkge31cbmZ1bmN0aW9uIFdyaXRhYmxlU3RhdGUob3B0aW9ucywgc3RyZWFtLCBpc0R1cGxleCkge1xuICBEdXBsZXggPSBEdXBsZXggfHwgcmVxdWlyZSgnLi9fc3RyZWFtX2R1cGxleCcpO1xuICBvcHRpb25zID0gb3B0aW9ucyB8fCB7fTtcblxuICAvLyBEdXBsZXggc3RyZWFtcyBhcmUgYm90aCByZWFkYWJsZSBhbmQgd3JpdGFibGUsIGJ1dCBzaGFyZVxuICAvLyB0aGUgc2FtZSBvcHRpb25zIG9iamVjdC5cbiAgLy8gSG93ZXZlciwgc29tZSBjYXNlcyByZXF1aXJlIHNldHRpbmcgb3B0aW9ucyB0byBkaWZmZXJlbnRcbiAgLy8gdmFsdWVzIGZvciB0aGUgcmVhZGFibGUgYW5kIHRoZSB3cml0YWJsZSBzaWRlcyBvZiB0aGUgZHVwbGV4IHN0cmVhbSxcbiAgLy8gZS5nLiBvcHRpb25zLnJlYWRhYmxlT2JqZWN0TW9kZSB2cy4gb3B0aW9ucy53cml0YWJsZU9iamVjdE1vZGUsIGV0Yy5cbiAgaWYgKHR5cGVvZiBpc0R1cGxleCAhPT0gJ2Jvb2xlYW4nKSBpc0R1cGxleCA9IHN0cmVhbSBpbnN0YW5jZW9mIER1cGxleDtcblxuICAvLyBvYmplY3Qgc3RyZWFtIGZsYWcgdG8gaW5kaWNhdGUgd2hldGhlciBvciBub3QgdGhpcyBzdHJlYW1cbiAgLy8gY29udGFpbnMgYnVmZmVycyBvciBvYmplY3RzLlxuICB0aGlzLm9iamVjdE1vZGUgPSAhIW9wdGlvbnMub2JqZWN0TW9kZTtcbiAgaWYgKGlzRHVwbGV4KSB0aGlzLm9iamVjdE1vZGUgPSB0aGlzLm9iamVjdE1vZGUgfHwgISFvcHRpb25zLndyaXRhYmxlT2JqZWN0TW9kZTtcblxuICAvLyB0aGUgcG9pbnQgYXQgd2hpY2ggd3JpdGUoKSBzdGFydHMgcmV0dXJuaW5nIGZhbHNlXG4gIC8vIE5vdGU6IDAgaXMgYSB2YWxpZCB2YWx1ZSwgbWVhbnMgdGhhdCB3ZSBhbHdheXMgcmV0dXJuIGZhbHNlIGlmXG4gIC8vIHRoZSBlbnRpcmUgYnVmZmVyIGlzIG5vdCBmbHVzaGVkIGltbWVkaWF0ZWx5IG9uIHdyaXRlKClcbiAgdGhpcy5oaWdoV2F0ZXJNYXJrID0gZ2V0SGlnaFdhdGVyTWFyayh0aGlzLCBvcHRpb25zLCAnd3JpdGFibGVIaWdoV2F0ZXJNYXJrJywgaXNEdXBsZXgpO1xuXG4gIC8vIGlmIF9maW5hbCBoYXMgYmVlbiBjYWxsZWRcbiAgdGhpcy5maW5hbENhbGxlZCA9IGZhbHNlO1xuXG4gIC8vIGRyYWluIGV2ZW50IGZsYWcuXG4gIHRoaXMubmVlZERyYWluID0gZmFsc2U7XG4gIC8vIGF0IHRoZSBzdGFydCBvZiBjYWxsaW5nIGVuZCgpXG4gIHRoaXMuZW5kaW5nID0gZmFsc2U7XG4gIC8vIHdoZW4gZW5kKCkgaGFzIGJlZW4gY2FsbGVkLCBhbmQgcmV0dXJuZWRcbiAgdGhpcy5lbmRlZCA9IGZhbHNlO1xuICAvLyB3aGVuICdmaW5pc2gnIGlzIGVtaXR0ZWRcbiAgdGhpcy5maW5pc2hlZCA9IGZhbHNlO1xuXG4gIC8vIGhhcyBpdCBiZWVuIGRlc3Ryb3llZFxuICB0aGlzLmRlc3Ryb3llZCA9IGZhbHNlO1xuXG4gIC8vIHNob3VsZCB3ZSBkZWNvZGUgc3RyaW5ncyBpbnRvIGJ1ZmZlcnMgYmVmb3JlIHBhc3NpbmcgdG8gX3dyaXRlP1xuICAvLyB0aGlzIGlzIGhlcmUgc28gdGhhdCBzb21lIG5vZGUtY29yZSBzdHJlYW1zIGNhbiBvcHRpbWl6ZSBzdHJpbmdcbiAgLy8gaGFuZGxpbmcgYXQgYSBsb3dlciBsZXZlbC5cbiAgdmFyIG5vRGVjb2RlID0gb3B0aW9ucy5kZWNvZGVTdHJpbmdzID09PSBmYWxzZTtcbiAgdGhpcy5kZWNvZGVTdHJpbmdzID0gIW5vRGVjb2RlO1xuXG4gIC8vIENyeXB0byBpcyBraW5kIG9mIG9sZCBhbmQgY3J1c3R5LiAgSGlzdG9yaWNhbGx5LCBpdHMgZGVmYXVsdCBzdHJpbmdcbiAgLy8gZW5jb2RpbmcgaXMgJ2JpbmFyeScgc28gd2UgaGF2ZSB0byBtYWtlIHRoaXMgY29uZmlndXJhYmxlLlxuICAvLyBFdmVyeXRoaW5nIGVsc2UgaW4gdGhlIHVuaXZlcnNlIHVzZXMgJ3V0ZjgnLCB0aG91Z2guXG4gIHRoaXMuZGVmYXVsdEVuY29kaW5nID0gb3B0aW9ucy5kZWZhdWx0RW5jb2RpbmcgfHwgJ3V0ZjgnO1xuXG4gIC8vIG5vdCBhbiBhY3R1YWwgYnVmZmVyIHdlIGtlZXAgdHJhY2sgb2YsIGJ1dCBhIG1lYXN1cmVtZW50XG4gIC8vIG9mIGhvdyBtdWNoIHdlJ3JlIHdhaXRpbmcgdG8gZ2V0IHB1c2hlZCB0byBzb21lIHVuZGVybHlpbmdcbiAgLy8gc29ja2V0IG9yIGZpbGUuXG4gIHRoaXMubGVuZ3RoID0gMDtcblxuICAvLyBhIGZsYWcgdG8gc2VlIHdoZW4gd2UncmUgaW4gdGhlIG1pZGRsZSBvZiBhIHdyaXRlLlxuICB0aGlzLndyaXRpbmcgPSBmYWxzZTtcblxuICAvLyB3aGVuIHRydWUgYWxsIHdyaXRlcyB3aWxsIGJlIGJ1ZmZlcmVkIHVudGlsIC51bmNvcmsoKSBjYWxsXG4gIHRoaXMuY29ya2VkID0gMDtcblxuICAvLyBhIGZsYWcgdG8gYmUgYWJsZSB0byB0ZWxsIGlmIHRoZSBvbndyaXRlIGNiIGlzIGNhbGxlZCBpbW1lZGlhdGVseSxcbiAgLy8gb3Igb24gYSBsYXRlciB0aWNrLiAgV2Ugc2V0IHRoaXMgdG8gdHJ1ZSBhdCBmaXJzdCwgYmVjYXVzZSBhbnlcbiAgLy8gYWN0aW9ucyB0aGF0IHNob3VsZG4ndCBoYXBwZW4gdW50aWwgXCJsYXRlclwiIHNob3VsZCBnZW5lcmFsbHkgYWxzb1xuICAvLyBub3QgaGFwcGVuIGJlZm9yZSB0aGUgZmlyc3Qgd3JpdGUgY2FsbC5cbiAgdGhpcy5zeW5jID0gdHJ1ZTtcblxuICAvLyBhIGZsYWcgdG8ga25vdyBpZiB3ZSdyZSBwcm9jZXNzaW5nIHByZXZpb3VzbHkgYnVmZmVyZWQgaXRlbXMsIHdoaWNoXG4gIC8vIG1heSBjYWxsIHRoZSBfd3JpdGUoKSBjYWxsYmFjayBpbiB0aGUgc2FtZSB0aWNrLCBzbyB0aGF0IHdlIGRvbid0XG4gIC8vIGVuZCB1cCBpbiBhbiBvdmVybGFwcGVkIG9ud3JpdGUgc2l0dWF0aW9uLlxuICB0aGlzLmJ1ZmZlclByb2Nlc3NpbmcgPSBmYWxzZTtcblxuICAvLyB0aGUgY2FsbGJhY2sgdGhhdCdzIHBhc3NlZCB0byBfd3JpdGUoY2h1bmssY2IpXG4gIHRoaXMub253cml0ZSA9IGZ1bmN0aW9uIChlcikge1xuICAgIG9ud3JpdGUoc3RyZWFtLCBlcik7XG4gIH07XG5cbiAgLy8gdGhlIGNhbGxiYWNrIHRoYXQgdGhlIHVzZXIgc3VwcGxpZXMgdG8gd3JpdGUoY2h1bmssZW5jb2RpbmcsY2IpXG4gIHRoaXMud3JpdGVjYiA9IG51bGw7XG5cbiAgLy8gdGhlIGFtb3VudCB0aGF0IGlzIGJlaW5nIHdyaXR0ZW4gd2hlbiBfd3JpdGUgaXMgY2FsbGVkLlxuICB0aGlzLndyaXRlbGVuID0gMDtcbiAgdGhpcy5idWZmZXJlZFJlcXVlc3QgPSBudWxsO1xuICB0aGlzLmxhc3RCdWZmZXJlZFJlcXVlc3QgPSBudWxsO1xuXG4gIC8vIG51bWJlciBvZiBwZW5kaW5nIHVzZXItc3VwcGxpZWQgd3JpdGUgY2FsbGJhY2tzXG4gIC8vIHRoaXMgbXVzdCBiZSAwIGJlZm9yZSAnZmluaXNoJyBjYW4gYmUgZW1pdHRlZFxuICB0aGlzLnBlbmRpbmdjYiA9IDA7XG5cbiAgLy8gZW1pdCBwcmVmaW5pc2ggaWYgdGhlIG9ubHkgdGhpbmcgd2UncmUgd2FpdGluZyBmb3IgaXMgX3dyaXRlIGNic1xuICAvLyBUaGlzIGlzIHJlbGV2YW50IGZvciBzeW5jaHJvbm91cyBUcmFuc2Zvcm0gc3RyZWFtc1xuICB0aGlzLnByZWZpbmlzaGVkID0gZmFsc2U7XG5cbiAgLy8gVHJ1ZSBpZiB0aGUgZXJyb3Igd2FzIGFscmVhZHkgZW1pdHRlZCBhbmQgc2hvdWxkIG5vdCBiZSB0aHJvd24gYWdhaW5cbiAgdGhpcy5lcnJvckVtaXR0ZWQgPSBmYWxzZTtcblxuICAvLyBTaG91bGQgY2xvc2UgYmUgZW1pdHRlZCBvbiBkZXN0cm95LiBEZWZhdWx0cyB0byB0cnVlLlxuICB0aGlzLmVtaXRDbG9zZSA9IG9wdGlvbnMuZW1pdENsb3NlICE9PSBmYWxzZTtcblxuICAvLyBTaG91bGQgLmRlc3Ryb3koKSBiZSBjYWxsZWQgYWZ0ZXIgJ2ZpbmlzaCcgKGFuZCBwb3RlbnRpYWxseSAnZW5kJylcbiAgdGhpcy5hdXRvRGVzdHJveSA9ICEhb3B0aW9ucy5hdXRvRGVzdHJveTtcblxuICAvLyBjb3VudCBidWZmZXJlZCByZXF1ZXN0c1xuICB0aGlzLmJ1ZmZlcmVkUmVxdWVzdENvdW50ID0gMDtcblxuICAvLyBhbGxvY2F0ZSB0aGUgZmlyc3QgQ29ya2VkUmVxdWVzdCwgdGhlcmUgaXMgYWx3YXlzXG4gIC8vIG9uZSBhbGxvY2F0ZWQgYW5kIGZyZWUgdG8gdXNlLCBhbmQgd2UgbWFpbnRhaW4gYXQgbW9zdCB0d29cbiAgdGhpcy5jb3JrZWRSZXF1ZXN0c0ZyZWUgPSBuZXcgQ29ya2VkUmVxdWVzdCh0aGlzKTtcbn1cbldyaXRhYmxlU3RhdGUucHJvdG90eXBlLmdldEJ1ZmZlciA9IGZ1bmN0aW9uIGdldEJ1ZmZlcigpIHtcbiAgdmFyIGN1cnJlbnQgPSB0aGlzLmJ1ZmZlcmVkUmVxdWVzdDtcbiAgdmFyIG91dCA9IFtdO1xuICB3aGlsZSAoY3VycmVudCkge1xuICAgIG91dC5wdXNoKGN1cnJlbnQpO1xuICAgIGN1cnJlbnQgPSBjdXJyZW50Lm5leHQ7XG4gIH1cbiAgcmV0dXJuIG91dDtcbn07XG4oZnVuY3Rpb24gKCkge1xuICB0cnkge1xuICAgIE9iamVjdC5kZWZpbmVQcm9wZXJ0eShXcml0YWJsZVN0YXRlLnByb3RvdHlwZSwgJ2J1ZmZlcicsIHtcbiAgICAgIGdldDogaW50ZXJuYWxVdGlsLmRlcHJlY2F0ZShmdW5jdGlvbiB3cml0YWJsZVN0YXRlQnVmZmVyR2V0dGVyKCkge1xuICAgICAgICByZXR1cm4gdGhpcy5nZXRCdWZmZXIoKTtcbiAgICAgIH0sICdfd3JpdGFibGVTdGF0ZS5idWZmZXIgaXMgZGVwcmVjYXRlZC4gVXNlIF93cml0YWJsZVN0YXRlLmdldEJ1ZmZlciAnICsgJ2luc3RlYWQuJywgJ0RFUDAwMDMnKVxuICAgIH0pO1xuICB9IGNhdGNoIChfKSB7fVxufSkoKTtcblxuLy8gVGVzdCBfd3JpdGFibGVTdGF0ZSBmb3IgaW5oZXJpdGFuY2UgdG8gYWNjb3VudCBmb3IgRHVwbGV4IHN0cmVhbXMsXG4vLyB3aG9zZSBwcm90b3R5cGUgY2hhaW4gb25seSBwb2ludHMgdG8gUmVhZGFibGUuXG52YXIgcmVhbEhhc0luc3RhbmNlO1xuaWYgKHR5cGVvZiBTeW1ib2wgPT09ICdmdW5jdGlvbicgJiYgU3ltYm9sLmhhc0luc3RhbmNlICYmIHR5cGVvZiBGdW5jdGlvbi5wcm90b3R5cGVbU3ltYm9sLmhhc0luc3RhbmNlXSA9PT0gJ2Z1bmN0aW9uJykge1xuICByZWFsSGFzSW5zdGFuY2UgPSBGdW5jdGlvbi5wcm90b3R5cGVbU3ltYm9sLmhhc0luc3RhbmNlXTtcbiAgT2JqZWN0LmRlZmluZVByb3BlcnR5KFdyaXRhYmxlLCBTeW1ib2wuaGFzSW5zdGFuY2UsIHtcbiAgICB2YWx1ZTogZnVuY3Rpb24gdmFsdWUob2JqZWN0KSB7XG4gICAgICBpZiAocmVhbEhhc0luc3RhbmNlLmNhbGwodGhpcywgb2JqZWN0KSkgcmV0dXJuIHRydWU7XG4gICAgICBpZiAodGhpcyAhPT0gV3JpdGFibGUpIHJldHVybiBmYWxzZTtcbiAgICAgIHJldHVybiBvYmplY3QgJiYgb2JqZWN0Ll93cml0YWJsZVN0YXRlIGluc3RhbmNlb2YgV3JpdGFibGVTdGF0ZTtcbiAgICB9XG4gIH0pO1xufSBlbHNlIHtcbiAgcmVhbEhhc0luc3RhbmNlID0gZnVuY3Rpb24gcmVhbEhhc0luc3RhbmNlKG9iamVjdCkge1xuICAgIHJldHVybiBvYmplY3QgaW5zdGFuY2VvZiB0aGlzO1xuICB9O1xufVxuZnVuY3Rpb24gV3JpdGFibGUob3B0aW9ucykge1xuICBEdXBsZXggPSBEdXBsZXggfHwgcmVxdWlyZSgnLi9fc3RyZWFtX2R1cGxleCcpO1xuXG4gIC8vIFdyaXRhYmxlIGN0b3IgaXMgYXBwbGllZCB0byBEdXBsZXhlcywgdG9vLlxuICAvLyBgcmVhbEhhc0luc3RhbmNlYCBpcyBuZWNlc3NhcnkgYmVjYXVzZSB1c2luZyBwbGFpbiBgaW5zdGFuY2VvZmBcbiAgLy8gd291bGQgcmV0dXJuIGZhbHNlLCBhcyBubyBgX3dyaXRhYmxlU3RhdGVgIHByb3BlcnR5IGlzIGF0dGFjaGVkLlxuXG4gIC8vIFRyeWluZyB0byB1c2UgdGhlIGN1c3RvbSBgaW5zdGFuY2VvZmAgZm9yIFdyaXRhYmxlIGhlcmUgd2lsbCBhbHNvIGJyZWFrIHRoZVxuICAvLyBOb2RlLmpzIExhenlUcmFuc2Zvcm0gaW1wbGVtZW50YXRpb24sIHdoaWNoIGhhcyBhIG5vbi10cml2aWFsIGdldHRlciBmb3JcbiAgLy8gYF93cml0YWJsZVN0YXRlYCB0aGF0IHdvdWxkIGxlYWQgdG8gaW5maW5pdGUgcmVjdXJzaW9uLlxuXG4gIC8vIENoZWNraW5nIGZvciBhIFN0cmVhbS5EdXBsZXggaW5zdGFuY2UgaXMgZmFzdGVyIGhlcmUgaW5zdGVhZCBvZiBpbnNpZGVcbiAgLy8gdGhlIFdyaXRhYmxlU3RhdGUgY29uc3RydWN0b3IsIGF0IGxlYXN0IHdpdGggVjggNi41XG4gIHZhciBpc0R1cGxleCA9IHRoaXMgaW5zdGFuY2VvZiBEdXBsZXg7XG4gIGlmICghaXNEdXBsZXggJiYgIXJlYWxIYXNJbnN0YW5jZS5jYWxsKFdyaXRhYmxlLCB0aGlzKSkgcmV0dXJuIG5ldyBXcml0YWJsZShvcHRpb25zKTtcbiAgdGhpcy5fd3JpdGFibGVTdGF0ZSA9IG5ldyBXcml0YWJsZVN0YXRlKG9wdGlvbnMsIHRoaXMsIGlzRHVwbGV4KTtcblxuICAvLyBsZWdhY3kuXG4gIHRoaXMud3JpdGFibGUgPSB0cnVlO1xuICBpZiAob3B0aW9ucykge1xuICAgIGlmICh0eXBlb2Ygb3B0aW9ucy53cml0ZSA9PT0gJ2Z1bmN0aW9uJykgdGhpcy5fd3JpdGUgPSBvcHRpb25zLndyaXRlO1xuICAgIGlmICh0eXBlb2Ygb3B0aW9ucy53cml0ZXYgPT09ICdmdW5jdGlvbicpIHRoaXMuX3dyaXRldiA9IG9wdGlvbnMud3JpdGV2O1xuICAgIGlmICh0eXBlb2Ygb3B0aW9ucy5kZXN0cm95ID09PSAnZnVuY3Rpb24nKSB0aGlzLl9kZXN0cm95ID0gb3B0aW9ucy5kZXN0cm95O1xuICAgIGlmICh0eXBlb2Ygb3B0aW9ucy5maW5hbCA9PT0gJ2Z1bmN0aW9uJykgdGhpcy5fZmluYWwgPSBvcHRpb25zLmZpbmFsO1xuICB9XG4gIFN0cmVhbS5jYWxsKHRoaXMpO1xufVxuXG4vLyBPdGhlcndpc2UgcGVvcGxlIGNhbiBwaXBlIFdyaXRhYmxlIHN0cmVhbXMsIHdoaWNoIGlzIGp1c3Qgd3JvbmcuXG5Xcml0YWJsZS5wcm90b3R5cGUucGlwZSA9IGZ1bmN0aW9uICgpIHtcbiAgZXJyb3JPckRlc3Ryb3kodGhpcywgbmV3IEVSUl9TVFJFQU1fQ0FOTk9UX1BJUEUoKSk7XG59O1xuZnVuY3Rpb24gd3JpdGVBZnRlckVuZChzdHJlYW0sIGNiKSB7XG4gIHZhciBlciA9IG5ldyBFUlJfU1RSRUFNX1dSSVRFX0FGVEVSX0VORCgpO1xuICAvLyBUT0RPOiBkZWZlciBlcnJvciBldmVudHMgY29uc2lzdGVudGx5IGV2ZXJ5d2hlcmUsIG5vdCBqdXN0IHRoZSBjYlxuICBlcnJvck9yRGVzdHJveShzdHJlYW0sIGVyKTtcbiAgcHJvY2Vzcy5uZXh0VGljayhjYiwgZXIpO1xufVxuXG4vLyBDaGVja3MgdGhhdCBhIHVzZXItc3VwcGxpZWQgY2h1bmsgaXMgdmFsaWQsIGVzcGVjaWFsbHkgZm9yIHRoZSBwYXJ0aWN1bGFyXG4vLyBtb2RlIHRoZSBzdHJlYW0gaXMgaW4uIEN1cnJlbnRseSB0aGlzIG1lYW5zIHRoYXQgYG51bGxgIGlzIG5ldmVyIGFjY2VwdGVkXG4vLyBhbmQgdW5kZWZpbmVkL25vbi1zdHJpbmcgdmFsdWVzIGFyZSBvbmx5IGFsbG93ZWQgaW4gb2JqZWN0IG1vZGUuXG5mdW5jdGlvbiB2YWxpZENodW5rKHN0cmVhbSwgc3RhdGUsIGNodW5rLCBjYikge1xuICB2YXIgZXI7XG4gIGlmIChjaHVuayA9PT0gbnVsbCkge1xuICAgIGVyID0gbmV3IEVSUl9TVFJFQU1fTlVMTF9WQUxVRVMoKTtcbiAgfSBlbHNlIGlmICh0eXBlb2YgY2h1bmsgIT09ICdzdHJpbmcnICYmICFzdGF0ZS5vYmplY3RNb2RlKSB7XG4gICAgZXIgPSBuZXcgRVJSX0lOVkFMSURfQVJHX1RZUEUoJ2NodW5rJywgWydzdHJpbmcnLCAnQnVmZmVyJ10sIGNodW5rKTtcbiAgfVxuICBpZiAoZXIpIHtcbiAgICBlcnJvck9yRGVzdHJveShzdHJlYW0sIGVyKTtcbiAgICBwcm9jZXNzLm5leHRUaWNrKGNiLCBlcik7XG4gICAgcmV0dXJuIGZhbHNlO1xuICB9XG4gIHJldHVybiB0cnVlO1xufVxuV3JpdGFibGUucHJvdG90eXBlLndyaXRlID0gZnVuY3Rpb24gKGNodW5rLCBlbmNvZGluZywgY2IpIHtcbiAgdmFyIHN0YXRlID0gdGhpcy5fd3JpdGFibGVTdGF0ZTtcbiAgdmFyIHJldCA9IGZhbHNlO1xuICB2YXIgaXNCdWYgPSAhc3RhdGUub2JqZWN0TW9kZSAmJiBfaXNVaW50OEFycmF5KGNodW5rKTtcbiAgaWYgKGlzQnVmICYmICFCdWZmZXIuaXNCdWZmZXIoY2h1bmspKSB7XG4gICAgY2h1bmsgPSBfdWludDhBcnJheVRvQnVmZmVyKGNodW5rKTtcbiAgfVxuICBpZiAodHlwZW9mIGVuY29kaW5nID09PSAnZnVuY3Rpb24nKSB7XG4gICAgY2IgPSBlbmNvZGluZztcbiAgICBlbmNvZGluZyA9IG51bGw7XG4gIH1cbiAgaWYgKGlzQnVmKSBlbmNvZGluZyA9ICdidWZmZXInO2Vsc2UgaWYgKCFlbmNvZGluZykgZW5jb2RpbmcgPSBzdGF0ZS5kZWZhdWx0RW5jb2Rpbmc7XG4gIGlmICh0eXBlb2YgY2IgIT09ICdmdW5jdGlvbicpIGNiID0gbm9wO1xuICBpZiAoc3RhdGUuZW5kaW5nKSB3cml0ZUFmdGVyRW5kKHRoaXMsIGNiKTtlbHNlIGlmIChpc0J1ZiB8fCB2YWxpZENodW5rKHRoaXMsIHN0YXRlLCBjaHVuaywgY2IpKSB7XG4gICAgc3RhdGUucGVuZGluZ2NiKys7XG4gICAgcmV0ID0gd3JpdGVPckJ1ZmZlcih0aGlzLCBzdGF0ZSwgaXNCdWYsIGNodW5rLCBlbmNvZGluZywgY2IpO1xuICB9XG4gIHJldHVybiByZXQ7XG59O1xuV3JpdGFibGUucHJvdG90eXBlLmNvcmsgPSBmdW5jdGlvbiAoKSB7XG4gIHRoaXMuX3dyaXRhYmxlU3RhdGUuY29ya2VkKys7XG59O1xuV3JpdGFibGUucHJvdG90eXBlLnVuY29yayA9IGZ1bmN0aW9uICgpIHtcbiAgdmFyIHN0YXRlID0gdGhpcy5fd3JpdGFibGVTdGF0ZTtcbiAgaWYgKHN0YXRlLmNvcmtlZCkge1xuICAgIHN0YXRlLmNvcmtlZC0tO1xuICAgIGlmICghc3RhdGUud3JpdGluZyAmJiAhc3RhdGUuY29ya2VkICYmICFzdGF0ZS5idWZmZXJQcm9jZXNzaW5nICYmIHN0YXRlLmJ1ZmZlcmVkUmVxdWVzdCkgY2xlYXJCdWZmZXIodGhpcywgc3RhdGUpO1xuICB9XG59O1xuV3JpdGFibGUucHJvdG90eXBlLnNldERlZmF1bHRFbmNvZGluZyA9IGZ1bmN0aW9uIHNldERlZmF1bHRFbmNvZGluZyhlbmNvZGluZykge1xuICAvLyBub2RlOjpQYXJzZUVuY29kaW5nKCkgcmVxdWlyZXMgbG93ZXIgY2FzZS5cbiAgaWYgKHR5cGVvZiBlbmNvZGluZyA9PT0gJ3N0cmluZycpIGVuY29kaW5nID0gZW5jb2RpbmcudG9Mb3dlckNhc2UoKTtcbiAgaWYgKCEoWydoZXgnLCAndXRmOCcsICd1dGYtOCcsICdhc2NpaScsICdiaW5hcnknLCAnYmFzZTY0JywgJ3VjczInLCAndWNzLTInLCAndXRmMTZsZScsICd1dGYtMTZsZScsICdyYXcnXS5pbmRleE9mKChlbmNvZGluZyArICcnKS50b0xvd2VyQ2FzZSgpKSA+IC0xKSkgdGhyb3cgbmV3IEVSUl9VTktOT1dOX0VOQ09ESU5HKGVuY29kaW5nKTtcbiAgdGhpcy5fd3JpdGFibGVTdGF0ZS5kZWZhdWx0RW5jb2RpbmcgPSBlbmNvZGluZztcbiAgcmV0dXJuIHRoaXM7XG59O1xuT2JqZWN0LmRlZmluZVByb3BlcnR5KFdyaXRhYmxlLnByb3RvdHlwZSwgJ3dyaXRhYmxlQnVmZmVyJywge1xuICAvLyBtYWtpbmcgaXQgZXhwbGljaXQgdGhpcyBwcm9wZXJ0eSBpcyBub3QgZW51bWVyYWJsZVxuICAvLyBiZWNhdXNlIG90aGVyd2lzZSBzb21lIHByb3RvdHlwZSBtYW5pcHVsYXRpb24gaW5cbiAgLy8gdXNlcmxhbmQgd2lsbCBmYWlsXG4gIGVudW1lcmFibGU6IGZhbHNlLFxuICBnZXQ6IGZ1bmN0aW9uIGdldCgpIHtcbiAgICByZXR1cm4gdGhpcy5fd3JpdGFibGVTdGF0ZSAmJiB0aGlzLl93cml0YWJsZVN0YXRlLmdldEJ1ZmZlcigpO1xuICB9XG59KTtcbmZ1bmN0aW9uIGRlY29kZUNodW5rKHN0YXRlLCBjaHVuaywgZW5jb2RpbmcpIHtcbiAgaWYgKCFzdGF0ZS5vYmplY3RNb2RlICYmIHN0YXRlLmRlY29kZVN0cmluZ3MgIT09IGZhbHNlICYmIHR5cGVvZiBjaHVuayA9PT0gJ3N0cmluZycpIHtcbiAgICBjaHVuayA9IEJ1ZmZlci5mcm9tKGNodW5rLCBlbmNvZGluZyk7XG4gIH1cbiAgcmV0dXJuIGNodW5rO1xufVxuT2JqZWN0LmRlZmluZVByb3BlcnR5KFdyaXRhYmxlLnByb3RvdHlwZSwgJ3dyaXRhYmxlSGlnaFdhdGVyTWFyaycsIHtcbiAgLy8gbWFraW5nIGl0IGV4cGxpY2l0IHRoaXMgcHJvcGVydHkgaXMgbm90IGVudW1lcmFibGVcbiAgLy8gYmVjYXVzZSBvdGhlcndpc2Ugc29tZSBwcm90b3R5cGUgbWFuaXB1bGF0aW9uIGluXG4gIC8vIHVzZXJsYW5kIHdpbGwgZmFpbFxuICBlbnVtZXJhYmxlOiBmYWxzZSxcbiAgZ2V0OiBmdW5jdGlvbiBnZXQoKSB7XG4gICAgcmV0dXJuIHRoaXMuX3dyaXRhYmxlU3RhdGUuaGlnaFdhdGVyTWFyaztcbiAgfVxufSk7XG5cbi8vIGlmIHdlJ3JlIGFscmVhZHkgd3JpdGluZyBzb21ldGhpbmcsIHRoZW4ganVzdCBwdXQgdGhpc1xuLy8gaW4gdGhlIHF1ZXVlLCBhbmQgd2FpdCBvdXIgdHVybi4gIE90aGVyd2lzZSwgY2FsbCBfd3JpdGVcbi8vIElmIHdlIHJldHVybiBmYWxzZSwgdGhlbiB3ZSBuZWVkIGEgZHJhaW4gZXZlbnQsIHNvIHNldCB0aGF0IGZsYWcuXG5mdW5jdGlvbiB3cml0ZU9yQnVmZmVyKHN0cmVhbSwgc3RhdGUsIGlzQnVmLCBjaHVuaywgZW5jb2RpbmcsIGNiKSB7XG4gIGlmICghaXNCdWYpIHtcbiAgICB2YXIgbmV3Q2h1bmsgPSBkZWNvZGVDaHVuayhzdGF0ZSwgY2h1bmssIGVuY29kaW5nKTtcbiAgICBpZiAoY2h1bmsgIT09IG5ld0NodW5rKSB7XG4gICAgICBpc0J1ZiA9IHRydWU7XG4gICAgICBlbmNvZGluZyA9ICdidWZmZXInO1xuICAgICAgY2h1bmsgPSBuZXdDaHVuaztcbiAgICB9XG4gIH1cbiAgdmFyIGxlbiA9IHN0YXRlLm9iamVjdE1vZGUgPyAxIDogY2h1bmsubGVuZ3RoO1xuICBzdGF0ZS5sZW5ndGggKz0gbGVuO1xuICB2YXIgcmV0ID0gc3RhdGUubGVuZ3RoIDwgc3RhdGUuaGlnaFdhdGVyTWFyaztcbiAgLy8gd2UgbXVzdCBlbnN1cmUgdGhhdCBwcmV2aW91cyBuZWVkRHJhaW4gd2lsbCBub3QgYmUgcmVzZXQgdG8gZmFsc2UuXG4gIGlmICghcmV0KSBzdGF0ZS5uZWVkRHJhaW4gPSB0cnVlO1xuICBpZiAoc3RhdGUud3JpdGluZyB8fCBzdGF0ZS5jb3JrZWQpIHtcbiAgICB2YXIgbGFzdCA9IHN0YXRlLmxhc3RCdWZmZXJlZFJlcXVlc3Q7XG4gICAgc3RhdGUubGFzdEJ1ZmZlcmVkUmVxdWVzdCA9IHtcbiAgICAgIGNodW5rOiBjaHVuayxcbiAgICAgIGVuY29kaW5nOiBlbmNvZGluZyxcbiAgICAgIGlzQnVmOiBpc0J1ZixcbiAgICAgIGNhbGxiYWNrOiBjYixcbiAgICAgIG5leHQ6IG51bGxcbiAgICB9O1xuICAgIGlmIChsYXN0KSB7XG4gICAgICBsYXN0Lm5leHQgPSBzdGF0ZS5sYXN0QnVmZmVyZWRSZXF1ZXN0O1xuICAgIH0gZWxzZSB7XG4gICAgICBzdGF0ZS5idWZmZXJlZFJlcXVlc3QgPSBzdGF0ZS5sYXN0QnVmZmVyZWRSZXF1ZXN0O1xuICAgIH1cbiAgICBzdGF0ZS5idWZmZXJlZFJlcXVlc3RDb3VudCArPSAxO1xuICB9IGVsc2Uge1xuICAgIGRvV3JpdGUoc3RyZWFtLCBzdGF0ZSwgZmFsc2UsIGxlbiwgY2h1bmssIGVuY29kaW5nLCBjYik7XG4gIH1cbiAgcmV0dXJuIHJldDtcbn1cbmZ1bmN0aW9uIGRvV3JpdGUoc3RyZWFtLCBzdGF0ZSwgd3JpdGV2LCBsZW4sIGNodW5rLCBlbmNvZGluZywgY2IpIHtcbiAgc3RhdGUud3JpdGVsZW4gPSBsZW47XG4gIHN0YXRlLndyaXRlY2IgPSBjYjtcbiAgc3RhdGUud3JpdGluZyA9IHRydWU7XG4gIHN0YXRlLnN5bmMgPSB0cnVlO1xuICBpZiAoc3RhdGUuZGVzdHJveWVkKSBzdGF0ZS5vbndyaXRlKG5ldyBFUlJfU1RSRUFNX0RFU1RST1lFRCgnd3JpdGUnKSk7ZWxzZSBpZiAod3JpdGV2KSBzdHJlYW0uX3dyaXRldihjaHVuaywgc3RhdGUub253cml0ZSk7ZWxzZSBzdHJlYW0uX3dyaXRlKGNodW5rLCBlbmNvZGluZywgc3RhdGUub253cml0ZSk7XG4gIHN0YXRlLnN5bmMgPSBmYWxzZTtcbn1cbmZ1bmN0aW9uIG9ud3JpdGVFcnJvcihzdHJlYW0sIHN0YXRlLCBzeW5jLCBlciwgY2IpIHtcbiAgLS1zdGF0ZS5wZW5kaW5nY2I7XG4gIGlmIChzeW5jKSB7XG4gICAgLy8gZGVmZXIgdGhlIGNhbGxiYWNrIGlmIHdlIGFyZSBiZWluZyBjYWxsZWQgc3luY2hyb25vdXNseVxuICAgIC8vIHRvIGF2b2lkIHBpbGluZyB1cCB0aGluZ3Mgb24gdGhlIHN0YWNrXG4gICAgcHJvY2Vzcy5uZXh0VGljayhjYiwgZXIpO1xuICAgIC8vIHRoaXMgY2FuIGVtaXQgZmluaXNoLCBhbmQgaXQgd2lsbCBhbHdheXMgaGFwcGVuXG4gICAgLy8gYWZ0ZXIgZXJyb3JcbiAgICBwcm9jZXNzLm5leHRUaWNrKGZpbmlzaE1heWJlLCBzdHJlYW0sIHN0YXRlKTtcbiAgICBzdHJlYW0uX3dyaXRhYmxlU3RhdGUuZXJyb3JFbWl0dGVkID0gdHJ1ZTtcbiAgICBlcnJvck9yRGVzdHJveShzdHJlYW0sIGVyKTtcbiAgfSBlbHNlIHtcbiAgICAvLyB0aGUgY2FsbGVyIGV4cGVjdCB0aGlzIHRvIGhhcHBlbiBiZWZvcmUgaWZcbiAgICAvLyBpdCBpcyBhc3luY1xuICAgIGNiKGVyKTtcbiAgICBzdHJlYW0uX3dyaXRhYmxlU3RhdGUuZXJyb3JFbWl0dGVkID0gdHJ1ZTtcbiAgICBlcnJvck9yRGVzdHJveShzdHJlYW0sIGVyKTtcbiAgICAvLyB0aGlzIGNhbiBlbWl0IGZpbmlzaCwgYnV0IGZpbmlzaCBtdXN0XG4gICAgLy8gYWx3YXlzIGZvbGxvdyBlcnJvclxuICAgIGZpbmlzaE1heWJlKHN0cmVhbSwgc3RhdGUpO1xuICB9XG59XG5mdW5jdGlvbiBvbndyaXRlU3RhdGVVcGRhdGUoc3RhdGUpIHtcbiAgc3RhdGUud3JpdGluZyA9IGZhbHNlO1xuICBzdGF0ZS53cml0ZWNiID0gbnVsbDtcbiAgc3RhdGUubGVuZ3RoIC09IHN0YXRlLndyaXRlbGVuO1xuICBzdGF0ZS53cml0ZWxlbiA9IDA7XG59XG5mdW5jdGlvbiBvbndyaXRlKHN0cmVhbSwgZXIpIHtcbiAgdmFyIHN0YXRlID0gc3RyZWFtLl93cml0YWJsZVN0YXRlO1xuICB2YXIgc3luYyA9IHN0YXRlLnN5bmM7XG4gIHZhciBjYiA9IHN0YXRlLndyaXRlY2I7XG4gIGlmICh0eXBlb2YgY2IgIT09ICdmdW5jdGlvbicpIHRocm93IG5ldyBFUlJfTVVMVElQTEVfQ0FMTEJBQ0soKTtcbiAgb253cml0ZVN0YXRlVXBkYXRlKHN0YXRlKTtcbiAgaWYgKGVyKSBvbndyaXRlRXJyb3Ioc3RyZWFtLCBzdGF0ZSwgc3luYywgZXIsIGNiKTtlbHNlIHtcbiAgICAvLyBDaGVjayBpZiB3ZSdyZSBhY3R1YWxseSByZWFkeSB0byBmaW5pc2gsIGJ1dCBkb24ndCBlbWl0IHlldFxuICAgIHZhciBmaW5pc2hlZCA9IG5lZWRGaW5pc2goc3RhdGUpIHx8IHN0cmVhbS5kZXN0cm95ZWQ7XG4gICAgaWYgKCFmaW5pc2hlZCAmJiAhc3RhdGUuY29ya2VkICYmICFzdGF0ZS5idWZmZXJQcm9jZXNzaW5nICYmIHN0YXRlLmJ1ZmZlcmVkUmVxdWVzdCkge1xuICAgICAgY2xlYXJCdWZmZXIoc3RyZWFtLCBzdGF0ZSk7XG4gICAgfVxuICAgIGlmIChzeW5jKSB7XG4gICAgICBwcm9jZXNzLm5leHRUaWNrKGFmdGVyV3JpdGUsIHN0cmVhbSwgc3RhdGUsIGZpbmlzaGVkLCBjYik7XG4gICAgfSBlbHNlIHtcbiAgICAgIGFmdGVyV3JpdGUoc3RyZWFtLCBzdGF0ZSwgZmluaXNoZWQsIGNiKTtcbiAgICB9XG4gIH1cbn1cbmZ1bmN0aW9uIGFmdGVyV3JpdGUoc3RyZWFtLCBzdGF0ZSwgZmluaXNoZWQsIGNiKSB7XG4gIGlmICghZmluaXNoZWQpIG9ud3JpdGVEcmFpbihzdHJlYW0sIHN0YXRlKTtcbiAgc3RhdGUucGVuZGluZ2NiLS07XG4gIGNiKCk7XG4gIGZpbmlzaE1heWJlKHN0cmVhbSwgc3RhdGUpO1xufVxuXG4vLyBNdXN0IGZvcmNlIGNhbGxiYWNrIHRvIGJlIGNhbGxlZCBvbiBuZXh0VGljaywgc28gdGhhdCB3ZSBkb24ndFxuLy8gZW1pdCAnZHJhaW4nIGJlZm9yZSB0aGUgd3JpdGUoKSBjb25zdW1lciBnZXRzIHRoZSAnZmFsc2UnIHJldHVyblxuLy8gdmFsdWUsIGFuZCBoYXMgYSBjaGFuY2UgdG8gYXR0YWNoIGEgJ2RyYWluJyBsaXN0ZW5lci5cbmZ1bmN0aW9uIG9ud3JpdGVEcmFpbihzdHJlYW0sIHN0YXRlKSB7XG4gIGlmIChzdGF0ZS5sZW5ndGggPT09IDAgJiYgc3RhdGUubmVlZERyYWluKSB7XG4gICAgc3RhdGUubmVlZERyYWluID0gZmFsc2U7XG4gICAgc3RyZWFtLmVtaXQoJ2RyYWluJyk7XG4gIH1cbn1cblxuLy8gaWYgdGhlcmUncyBzb21ldGhpbmcgaW4gdGhlIGJ1ZmZlciB3YWl0aW5nLCB0aGVuIHByb2Nlc3MgaXRcbmZ1bmN0aW9uIGNsZWFyQnVmZmVyKHN0cmVhbSwgc3RhdGUpIHtcbiAgc3RhdGUuYnVmZmVyUHJvY2Vzc2luZyA9IHRydWU7XG4gIHZhciBlbnRyeSA9IHN0YXRlLmJ1ZmZlcmVkUmVxdWVzdDtcbiAgaWYgKHN0cmVhbS5fd3JpdGV2ICYmIGVudHJ5ICYmIGVudHJ5Lm5leHQpIHtcbiAgICAvLyBGYXN0IGNhc2UsIHdyaXRlIGV2ZXJ5dGhpbmcgdXNpbmcgX3dyaXRldigpXG4gICAgdmFyIGwgPSBzdGF0ZS5idWZmZXJlZFJlcXVlc3RDb3VudDtcbiAgICB2YXIgYnVmZmVyID0gbmV3IEFycmF5KGwpO1xuICAgIHZhciBob2xkZXIgPSBzdGF0ZS5jb3JrZWRSZXF1ZXN0c0ZyZWU7XG4gICAgaG9sZGVyLmVudHJ5ID0gZW50cnk7XG4gICAgdmFyIGNvdW50ID0gMDtcbiAgICB2YXIgYWxsQnVmZmVycyA9IHRydWU7XG4gICAgd2hpbGUgKGVudHJ5KSB7XG4gICAgICBidWZmZXJbY291bnRdID0gZW50cnk7XG4gICAgICBpZiAoIWVudHJ5LmlzQnVmKSBhbGxCdWZmZXJzID0gZmFsc2U7XG4gICAgICBlbnRyeSA9IGVudHJ5Lm5leHQ7XG4gICAgICBjb3VudCArPSAxO1xuICAgIH1cbiAgICBidWZmZXIuYWxsQnVmZmVycyA9IGFsbEJ1ZmZlcnM7XG4gICAgZG9Xcml0ZShzdHJlYW0sIHN0YXRlLCB0cnVlLCBzdGF0ZS5sZW5ndGgsIGJ1ZmZlciwgJycsIGhvbGRlci5maW5pc2gpO1xuXG4gICAgLy8gZG9Xcml0ZSBpcyBhbG1vc3QgYWx3YXlzIGFzeW5jLCBkZWZlciB0aGVzZSB0byBzYXZlIGEgYml0IG9mIHRpbWVcbiAgICAvLyBhcyB0aGUgaG90IHBhdGggZW5kcyB3aXRoIGRvV3JpdGVcbiAgICBzdGF0ZS5wZW5kaW5nY2IrKztcbiAgICBzdGF0ZS5sYXN0QnVmZmVyZWRSZXF1ZXN0ID0gbnVsbDtcbiAgICBpZiAoaG9sZGVyLm5leHQpIHtcbiAgICAgIHN0YXRlLmNvcmtlZFJlcXVlc3RzRnJlZSA9IGhvbGRlci5uZXh0O1xuICAgICAgaG9sZGVyLm5leHQgPSBudWxsO1xuICAgIH0gZWxzZSB7XG4gICAgICBzdGF0ZS5jb3JrZWRSZXF1ZXN0c0ZyZWUgPSBuZXcgQ29ya2VkUmVxdWVzdChzdGF0ZSk7XG4gICAgfVxuICAgIHN0YXRlLmJ1ZmZlcmVkUmVxdWVzdENvdW50ID0gMDtcbiAgfSBlbHNlIHtcbiAgICAvLyBTbG93IGNhc2UsIHdyaXRlIGNodW5rcyBvbmUtYnktb25lXG4gICAgd2hpbGUgKGVudHJ5KSB7XG4gICAgICB2YXIgY2h1bmsgPSBlbnRyeS5jaHVuaztcbiAgICAgIHZhciBlbmNvZGluZyA9IGVudHJ5LmVuY29kaW5nO1xuICAgICAgdmFyIGNiID0gZW50cnkuY2FsbGJhY2s7XG4gICAgICB2YXIgbGVuID0gc3RhdGUub2JqZWN0TW9kZSA/IDEgOiBjaHVuay5sZW5ndGg7XG4gICAgICBkb1dyaXRlKHN0cmVhbSwgc3RhdGUsIGZhbHNlLCBsZW4sIGNodW5rLCBlbmNvZGluZywgY2IpO1xuICAgICAgZW50cnkgPSBlbnRyeS5uZXh0O1xuICAgICAgc3RhdGUuYnVmZmVyZWRSZXF1ZXN0Q291bnQtLTtcbiAgICAgIC8vIGlmIHdlIGRpZG4ndCBjYWxsIHRoZSBvbndyaXRlIGltbWVkaWF0ZWx5LCB0aGVuXG4gICAgICAvLyBpdCBtZWFucyB0aGF0IHdlIG5lZWQgdG8gd2FpdCB1bnRpbCBpdCBkb2VzLlxuICAgICAgLy8gYWxzbywgdGhhdCBtZWFucyB0aGF0IHRoZSBjaHVuayBhbmQgY2IgYXJlIGN1cnJlbnRseVxuICAgICAgLy8gYmVpbmcgcHJvY2Vzc2VkLCBzbyBtb3ZlIHRoZSBidWZmZXIgY291bnRlciBwYXN0IHRoZW0uXG4gICAgICBpZiAoc3RhdGUud3JpdGluZykge1xuICAgICAgICBicmVhaztcbiAgICAgIH1cbiAgICB9XG4gICAgaWYgKGVudHJ5ID09PSBudWxsKSBzdGF0ZS5sYXN0QnVmZmVyZWRSZXF1ZXN0ID0gbnVsbDtcbiAgfVxuICBzdGF0ZS5idWZmZXJlZFJlcXVlc3QgPSBlbnRyeTtcbiAgc3RhdGUuYnVmZmVyUHJvY2Vzc2luZyA9IGZhbHNlO1xufVxuV3JpdGFibGUucHJvdG90eXBlLl93cml0ZSA9IGZ1bmN0aW9uIChjaHVuaywgZW5jb2RpbmcsIGNiKSB7XG4gIGNiKG5ldyBFUlJfTUVUSE9EX05PVF9JTVBMRU1FTlRFRCgnX3dyaXRlKCknKSk7XG59O1xuV3JpdGFibGUucHJvdG90eXBlLl93cml0ZXYgPSBudWxsO1xuV3JpdGFibGUucHJvdG90eXBlLmVuZCA9IGZ1bmN0aW9uIChjaHVuaywgZW5jb2RpbmcsIGNiKSB7XG4gIHZhciBzdGF0ZSA9IHRoaXMuX3dyaXRhYmxlU3RhdGU7XG4gIGlmICh0eXBlb2YgY2h1bmsgPT09ICdmdW5jdGlvbicpIHtcbiAgICBjYiA9IGNodW5rO1xuICAgIGNodW5rID0gbnVsbDtcbiAgICBlbmNvZGluZyA9IG51bGw7XG4gIH0gZWxzZSBpZiAodHlwZW9mIGVuY29kaW5nID09PSAnZnVuY3Rpb24nKSB7XG4gICAgY2IgPSBlbmNvZGluZztcbiAgICBlbmNvZGluZyA9IG51bGw7XG4gIH1cbiAgaWYgKGNodW5rICE9PSBudWxsICYmIGNodW5rICE9PSB1bmRlZmluZWQpIHRoaXMud3JpdGUoY2h1bmssIGVuY29kaW5nKTtcblxuICAvLyAuZW5kKCkgZnVsbHkgdW5jb3Jrc1xuICBpZiAoc3RhdGUuY29ya2VkKSB7XG4gICAgc3RhdGUuY29ya2VkID0gMTtcbiAgICB0aGlzLnVuY29yaygpO1xuICB9XG5cbiAgLy8gaWdub3JlIHVubmVjZXNzYXJ5IGVuZCgpIGNhbGxzLlxuICBpZiAoIXN0YXRlLmVuZGluZykgZW5kV3JpdGFibGUodGhpcywgc3RhdGUsIGNiKTtcbiAgcmV0dXJuIHRoaXM7XG59O1xuT2JqZWN0LmRlZmluZVByb3BlcnR5KFdyaXRhYmxlLnByb3RvdHlwZSwgJ3dyaXRhYmxlTGVuZ3RoJywge1xuICAvLyBtYWtpbmcgaXQgZXhwbGljaXQgdGhpcyBwcm9wZXJ0eSBpcyBub3QgZW51bWVyYWJsZVxuICAvLyBiZWNhdXNlIG90aGVyd2lzZSBzb21lIHByb3RvdHlwZSBtYW5pcHVsYXRpb24gaW5cbiAgLy8gdXNlcmxhbmQgd2lsbCBmYWlsXG4gIGVudW1lcmFibGU6IGZhbHNlLFxuICBnZXQ6IGZ1bmN0aW9uIGdldCgpIHtcbiAgICByZXR1cm4gdGhpcy5fd3JpdGFibGVTdGF0ZS5sZW5ndGg7XG4gIH1cbn0pO1xuZnVuY3Rpb24gbmVlZEZpbmlzaChzdGF0ZSkge1xuICByZXR1cm4gc3RhdGUuZW5kaW5nICYmIHN0YXRlLmxlbmd0aCA9PT0gMCAmJiBzdGF0ZS5idWZmZXJlZFJlcXVlc3QgPT09IG51bGwgJiYgIXN0YXRlLmZpbmlzaGVkICYmICFzdGF0ZS53cml0aW5nO1xufVxuZnVuY3Rpb24gY2FsbEZpbmFsKHN0cmVhbSwgc3RhdGUpIHtcbiAgc3RyZWFtLl9maW5hbChmdW5jdGlvbiAoZXJyKSB7XG4gICAgc3RhdGUucGVuZGluZ2NiLS07XG4gICAgaWYgKGVycikge1xuICAgICAgZXJyb3JPckRlc3Ryb3koc3RyZWFtLCBlcnIpO1xuICAgIH1cbiAgICBzdGF0ZS5wcmVmaW5pc2hlZCA9IHRydWU7XG4gICAgc3RyZWFtLmVtaXQoJ3ByZWZpbmlzaCcpO1xuICAgIGZpbmlzaE1heWJlKHN0cmVhbSwgc3RhdGUpO1xuICB9KTtcbn1cbmZ1bmN0aW9uIHByZWZpbmlzaChzdHJlYW0sIHN0YXRlKSB7XG4gIGlmICghc3RhdGUucHJlZmluaXNoZWQgJiYgIXN0YXRlLmZpbmFsQ2FsbGVkKSB7XG4gICAgaWYgKHR5cGVvZiBzdHJlYW0uX2ZpbmFsID09PSAnZnVuY3Rpb24nICYmICFzdGF0ZS5kZXN0cm95ZWQpIHtcbiAgICAgIHN0YXRlLnBlbmRpbmdjYisrO1xuICAgICAgc3RhdGUuZmluYWxDYWxsZWQgPSB0cnVlO1xuICAgICAgcHJvY2Vzcy5uZXh0VGljayhjYWxsRmluYWwsIHN0cmVhbSwgc3RhdGUpO1xuICAgIH0gZWxzZSB7XG4gICAgICBzdGF0ZS5wcmVmaW5pc2hlZCA9IHRydWU7XG4gICAgICBzdHJlYW0uZW1pdCgncHJlZmluaXNoJyk7XG4gICAgfVxuICB9XG59XG5mdW5jdGlvbiBmaW5pc2hNYXliZShzdHJlYW0sIHN0YXRlKSB7XG4gIHZhciBuZWVkID0gbmVlZEZpbmlzaChzdGF0ZSk7XG4gIGlmIChuZWVkKSB7XG4gICAgcHJlZmluaXNoKHN0cmVhbSwgc3RhdGUpO1xuICAgIGlmIChzdGF0ZS5wZW5kaW5nY2IgPT09IDApIHtcbiAgICAgIHN0YXRlLmZpbmlzaGVkID0gdHJ1ZTtcbiAgICAgIHN0cmVhbS5lbWl0KCdmaW5pc2gnKTtcbiAgICAgIGlmIChzdGF0ZS5hdXRvRGVzdHJveSkge1xuICAgICAgICAvLyBJbiBjYXNlIG9mIGR1cGxleCBzdHJlYW1zIHdlIG5lZWQgYSB3YXkgdG8gZGV0ZWN0XG4gICAgICAgIC8vIGlmIHRoZSByZWFkYWJsZSBzaWRlIGlzIHJlYWR5IGZvciBhdXRvRGVzdHJveSBhcyB3ZWxsXG4gICAgICAgIHZhciByU3RhdGUgPSBzdHJlYW0uX3JlYWRhYmxlU3RhdGU7XG4gICAgICAgIGlmICghclN0YXRlIHx8IHJTdGF0ZS5hdXRvRGVzdHJveSAmJiByU3RhdGUuZW5kRW1pdHRlZCkge1xuICAgICAgICAgIHN0cmVhbS5kZXN0cm95KCk7XG4gICAgICAgIH1cbiAgICAgIH1cbiAgICB9XG4gIH1cbiAgcmV0dXJuIG5lZWQ7XG59XG5mdW5jdGlvbiBlbmRXcml0YWJsZShzdHJlYW0sIHN0YXRlLCBjYikge1xuICBzdGF0ZS5lbmRpbmcgPSB0cnVlO1xuICBmaW5pc2hNYXliZShzdHJlYW0sIHN0YXRlKTtcbiAgaWYgKGNiKSB7XG4gICAgaWYgKHN0YXRlLmZpbmlzaGVkKSBwcm9jZXNzLm5leHRUaWNrKGNiKTtlbHNlIHN0cmVhbS5vbmNlKCdmaW5pc2gnLCBjYik7XG4gIH1cbiAgc3RhdGUuZW5kZWQgPSB0cnVlO1xuICBzdHJlYW0ud3JpdGFibGUgPSBmYWxzZTtcbn1cbmZ1bmN0aW9uIG9uQ29ya2VkRmluaXNoKGNvcmtSZXEsIHN0YXRlLCBlcnIpIHtcbiAgdmFyIGVudHJ5ID0gY29ya1JlcS5lbnRyeTtcbiAgY29ya1JlcS5lbnRyeSA9IG51bGw7XG4gIHdoaWxlIChlbnRyeSkge1xuICAgIHZhciBjYiA9IGVudHJ5LmNhbGxiYWNrO1xuICAgIHN0YXRlLnBlbmRpbmdjYi0tO1xuICAgIGNiKGVycik7XG4gICAgZW50cnkgPSBlbnRyeS5uZXh0O1xuICB9XG5cbiAgLy8gcmV1c2UgdGhlIGZyZWUgY29ya1JlcS5cbiAgc3RhdGUuY29ya2VkUmVxdWVzdHNGcmVlLm5leHQgPSBjb3JrUmVxO1xufVxuT2JqZWN0LmRlZmluZVByb3BlcnR5KFdyaXRhYmxlLnByb3RvdHlwZSwgJ2Rlc3Ryb3llZCcsIHtcbiAgLy8gbWFraW5nIGl0IGV4cGxpY2l0IHRoaXMgcHJvcGVydHkgaXMgbm90IGVudW1lcmFibGVcbiAgLy8gYmVjYXVzZSBvdGhlcndpc2Ugc29tZSBwcm90b3R5cGUgbWFuaXB1bGF0aW9uIGluXG4gIC8vIHVzZXJsYW5kIHdpbGwgZmFpbFxuICBlbnVtZXJhYmxlOiBmYWxzZSxcbiAgZ2V0OiBmdW5jdGlvbiBnZXQoKSB7XG4gICAgaWYgKHRoaXMuX3dyaXRhYmxlU3RhdGUgPT09IHVuZGVmaW5lZCkge1xuICAgICAgcmV0dXJuIGZhbHNlO1xuICAgIH1cbiAgICByZXR1cm4gdGhpcy5fd3JpdGFibGVTdGF0ZS5kZXN0cm95ZWQ7XG4gIH0sXG4gIHNldDogZnVuY3Rpb24gc2V0KHZhbHVlKSB7XG4gICAgLy8gd2UgaWdub3JlIHRoZSB2YWx1ZSBpZiB0aGUgc3RyZWFtXG4gICAgLy8gaGFzIG5vdCBiZWVuIGluaXRpYWxpemVkIHlldFxuICAgIGlmICghdGhpcy5fd3JpdGFibGVTdGF0ZSkge1xuICAgICAgcmV0dXJuO1xuICAgIH1cblxuICAgIC8vIGJhY2t3YXJkIGNvbXBhdGliaWxpdHksIHRoZSB1c2VyIGlzIGV4cGxpY2l0bHlcbiAgICAvLyBtYW5hZ2luZyBkZXN0cm95ZWRcbiAgICB0aGlzLl93cml0YWJsZVN0YXRlLmRlc3Ryb3llZCA9IHZhbHVlO1xuICB9XG59KTtcbldyaXRhYmxlLnByb3RvdHlwZS5kZXN0cm95ID0gZGVzdHJveUltcGwuZGVzdHJveTtcbldyaXRhYmxlLnByb3RvdHlwZS5fdW5kZXN0cm95ID0gZGVzdHJveUltcGwudW5kZXN0cm95O1xuV3JpdGFibGUucHJvdG90eXBlLl9kZXN0cm95ID0gZnVuY3Rpb24gKGVyciwgY2IpIHtcbiAgY2IoZXJyKTtcbn07IiwgIi8vIENvcHlyaWdodCBKb3llbnQsIEluYy4gYW5kIG90aGVyIE5vZGUgY29udHJpYnV0b3JzLlxuLy9cbi8vIFBlcm1pc3Npb24gaXMgaGVyZWJ5IGdyYW50ZWQsIGZyZWUgb2YgY2hhcmdlLCB0byBhbnkgcGVyc29uIG9idGFpbmluZyBhXG4vLyBjb3B5IG9mIHRoaXMgc29mdHdhcmUgYW5kIGFzc29jaWF0ZWQgZG9jdW1lbnRhdGlvbiBmaWxlcyAodGhlXG4vLyBcIlNvZnR3YXJlXCIpLCB0byBkZWFsIGluIHRoZSBTb2Z0d2FyZSB3aXRob3V0IHJlc3RyaWN0aW9uLCBpbmNsdWRpbmdcbi8vIHdpdGhvdXQgbGltaXRhdGlvbiB0aGUgcmlnaHRzIHRvIHVzZSwgY29weSwgbW9kaWZ5LCBtZXJnZSwgcHVibGlzaCxcbi8vIGRpc3RyaWJ1dGUsIHN1YmxpY2Vuc2UsIGFuZC9vciBzZWxsIGNvcGllcyBvZiB0aGUgU29mdHdhcmUsIGFuZCB0byBwZXJtaXRcbi8vIHBlcnNvbnMgdG8gd2hvbSB0aGUgU29mdHdhcmUgaXMgZnVybmlzaGVkIHRvIGRvIHNvLCBzdWJqZWN0IHRvIHRoZVxuLy8gZm9sbG93aW5nIGNvbmRpdGlvbnM6XG4vL1xuLy8gVGhlIGFib3ZlIGNvcHlyaWdodCBub3RpY2UgYW5kIHRoaXMgcGVybWlzc2lvbiBub3RpY2Ugc2hhbGwgYmUgaW5jbHVkZWRcbi8vIGluIGFsbCBjb3BpZXMgb3Igc3Vic3RhbnRpYWwgcG9ydGlvbnMgb2YgdGhlIFNvZnR3YXJlLlxuLy9cbi8vIFRIRSBTT0ZUV0FSRSBJUyBQUk9WSURFRCBcIkFTIElTXCIsIFdJVEhPVVQgV0FSUkFOVFkgT0YgQU5ZIEtJTkQsIEVYUFJFU1Ncbi8vIE9SIElNUExJRUQsIElOQ0xVRElORyBCVVQgTk9UIExJTUlURUQgVE8gVEhFIFdBUlJBTlRJRVMgT0Zcbi8vIE1FUkNIQU5UQUJJTElUWSwgRklUTkVTUyBGT1IgQSBQQVJUSUNVTEFSIFBVUlBPU0UgQU5EIE5PTklORlJJTkdFTUVOVC4gSU5cbi8vIE5PIEVWRU5UIFNIQUxMIFRIRSBBVVRIT1JTIE9SIENPUFlSSUdIVCBIT0xERVJTIEJFIExJQUJMRSBGT1IgQU5ZIENMQUlNLFxuLy8gREFNQUdFUyBPUiBPVEhFUiBMSUFCSUxJVFksIFdIRVRIRVIgSU4gQU4gQUNUSU9OIE9GIENPTlRSQUNULCBUT1JUIE9SXG4vLyBPVEhFUldJU0UsIEFSSVNJTkcgRlJPTSwgT1VUIE9GIE9SIElOIENPTk5FQ1RJT04gV0lUSCBUSEUgU09GVFdBUkUgT1IgVEhFXG4vLyBVU0UgT1IgT1RIRVIgREVBTElOR1MgSU4gVEhFIFNPRlRXQVJFLlxuXG4vLyBhIGR1cGxleCBzdHJlYW0gaXMganVzdCBhIHN0cmVhbSB0aGF0IGlzIGJvdGggcmVhZGFibGUgYW5kIHdyaXRhYmxlLlxuLy8gU2luY2UgSlMgZG9lc24ndCBoYXZlIG11bHRpcGxlIHByb3RvdHlwYWwgaW5oZXJpdGFuY2UsIHRoaXMgY2xhc3Ncbi8vIHByb3RvdHlwYWxseSBpbmhlcml0cyBmcm9tIFJlYWRhYmxlLCBhbmQgdGhlbiBwYXJhc2l0aWNhbGx5IGZyb21cbi8vIFdyaXRhYmxlLlxuXG4ndXNlIHN0cmljdCc7XG5cbi8qPHJlcGxhY2VtZW50PiovXG52YXIgb2JqZWN0S2V5cyA9IE9iamVjdC5rZXlzIHx8IGZ1bmN0aW9uIChvYmopIHtcbiAgdmFyIGtleXMgPSBbXTtcbiAgZm9yICh2YXIga2V5IGluIG9iaikga2V5cy5wdXNoKGtleSk7XG4gIHJldHVybiBrZXlzO1xufTtcbi8qPC9yZXBsYWNlbWVudD4qL1xuXG5tb2R1bGUuZXhwb3J0cyA9IER1cGxleDtcbnZhciBSZWFkYWJsZSA9IHJlcXVpcmUoJy4vX3N0cmVhbV9yZWFkYWJsZScpO1xudmFyIFdyaXRhYmxlID0gcmVxdWlyZSgnLi9fc3RyZWFtX3dyaXRhYmxlJyk7XG5yZXF1aXJlKCdpbmhlcml0cycpKER1cGxleCwgUmVhZGFibGUpO1xue1xuICAvLyBBbGxvdyB0aGUga2V5cyBhcnJheSB0byBiZSBHQydlZC5cbiAgdmFyIGtleXMgPSBvYmplY3RLZXlzKFdyaXRhYmxlLnByb3RvdHlwZSk7XG4gIGZvciAodmFyIHYgPSAwOyB2IDwga2V5cy5sZW5ndGg7IHYrKykge1xuICAgIHZhciBtZXRob2QgPSBrZXlzW3ZdO1xuICAgIGlmICghRHVwbGV4LnByb3RvdHlwZVttZXRob2RdKSBEdXBsZXgucHJvdG90eXBlW21ldGhvZF0gPSBXcml0YWJsZS5wcm90b3R5cGVbbWV0aG9kXTtcbiAgfVxufVxuZnVuY3Rpb24gRHVwbGV4KG9wdGlvbnMpIHtcbiAgaWYgKCEodGhpcyBpbnN0YW5jZW9mIER1cGxleCkpIHJldHVybiBuZXcgRHVwbGV4KG9wdGlvbnMpO1xuICBSZWFkYWJsZS5jYWxsKHRoaXMsIG9wdGlvbnMpO1xuICBXcml0YWJsZS5jYWxsKHRoaXMsIG9wdGlvbnMpO1xuICB0aGlzLmFsbG93SGFsZk9wZW4gPSB0cnVlO1xuICBpZiAob3B0aW9ucykge1xuICAgIGlmIChvcHRpb25zLnJlYWRhYmxlID09PSBmYWxzZSkgdGhpcy5yZWFkYWJsZSA9IGZhbHNlO1xuICAgIGlmIChvcHRpb25zLndyaXRhYmxlID09PSBmYWxzZSkgdGhpcy53cml0YWJsZSA9IGZhbHNlO1xuICAgIGlmIChvcHRpb25zLmFsbG93SGFsZk9wZW4gPT09IGZhbHNlKSB7XG4gICAgICB0aGlzLmFsbG93SGFsZk9wZW4gPSBmYWxzZTtcbiAgICAgIHRoaXMub25jZSgnZW5kJywgb25lbmQpO1xuICAgIH1cbiAgfVxufVxuT2JqZWN0LmRlZmluZVByb3BlcnR5KER1cGxleC5wcm90b3R5cGUsICd3cml0YWJsZUhpZ2hXYXRlck1hcmsnLCB7XG4gIC8vIG1ha2luZyBpdCBleHBsaWNpdCB0aGlzIHByb3BlcnR5IGlzIG5vdCBlbnVtZXJhYmxlXG4gIC8vIGJlY2F1c2Ugb3RoZXJ3aXNlIHNvbWUgcHJvdG90eXBlIG1hbmlwdWxhdGlvbiBpblxuICAvLyB1c2VybGFuZCB3aWxsIGZhaWxcbiAgZW51bWVyYWJsZTogZmFsc2UsXG4gIGdldDogZnVuY3Rpb24gZ2V0KCkge1xuICAgIHJldHVybiB0aGlzLl93cml0YWJsZVN0YXRlLmhpZ2hXYXRlck1hcms7XG4gIH1cbn0pO1xuT2JqZWN0LmRlZmluZVByb3BlcnR5KER1cGxleC5wcm90b3R5cGUsICd3cml0YWJsZUJ1ZmZlcicsIHtcbiAgLy8gbWFraW5nIGl0IGV4cGxpY2l0IHRoaXMgcHJvcGVydHkgaXMgbm90IGVudW1lcmFibGVcbiAgLy8gYmVjYXVzZSBvdGhlcndpc2Ugc29tZSBwcm90b3R5cGUgbWFuaXB1bGF0aW9uIGluXG4gIC8vIHVzZXJsYW5kIHdpbGwgZmFpbFxuICBlbnVtZXJhYmxlOiBmYWxzZSxcbiAgZ2V0OiBmdW5jdGlvbiBnZXQoKSB7XG4gICAgcmV0dXJuIHRoaXMuX3dyaXRhYmxlU3RhdGUgJiYgdGhpcy5fd3JpdGFibGVTdGF0ZS5nZXRCdWZmZXIoKTtcbiAgfVxufSk7XG5PYmplY3QuZGVmaW5lUHJvcGVydHkoRHVwbGV4LnByb3RvdHlwZSwgJ3dyaXRhYmxlTGVuZ3RoJywge1xuICAvLyBtYWtpbmcgaXQgZXhwbGljaXQgdGhpcyBwcm9wZXJ0eSBpcyBub3QgZW51bWVyYWJsZVxuICAvLyBiZWNhdXNlIG90aGVyd2lzZSBzb21lIHByb3RvdHlwZSBtYW5pcHVsYXRpb24gaW5cbiAgLy8gdXNlcmxhbmQgd2lsbCBmYWlsXG4gIGVudW1lcmFibGU6IGZhbHNlLFxuICBnZXQ6IGZ1bmN0aW9uIGdldCgpIHtcbiAgICByZXR1cm4gdGhpcy5fd3JpdGFibGVTdGF0ZS5sZW5ndGg7XG4gIH1cbn0pO1xuXG4vLyB0aGUgbm8taGFsZi1vcGVuIGVuZm9yY2VyXG5mdW5jdGlvbiBvbmVuZCgpIHtcbiAgLy8gSWYgdGhlIHdyaXRhYmxlIHNpZGUgZW5kZWQsIHRoZW4gd2UncmUgb2suXG4gIGlmICh0aGlzLl93cml0YWJsZVN0YXRlLmVuZGVkKSByZXR1cm47XG5cbiAgLy8gbm8gbW9yZSBkYXRhIGNhbiBiZSB3cml0dGVuLlxuICAvLyBCdXQgYWxsb3cgbW9yZSB3cml0ZXMgdG8gaGFwcGVuIGluIHRoaXMgdGljay5cbiAgcHJvY2Vzcy5uZXh0VGljayhvbkVuZE5ULCB0aGlzKTtcbn1cbmZ1bmN0aW9uIG9uRW5kTlQoc2VsZikge1xuICBzZWxmLmVuZCgpO1xufVxuT2JqZWN0LmRlZmluZVByb3BlcnR5KER1cGxleC5wcm90b3R5cGUsICdkZXN0cm95ZWQnLCB7XG4gIC8vIG1ha2luZyBpdCBleHBsaWNpdCB0aGlzIHByb3BlcnR5IGlzIG5vdCBlbnVtZXJhYmxlXG4gIC8vIGJlY2F1c2Ugb3RoZXJ3aXNlIHNvbWUgcHJvdG90eXBlIG1hbmlwdWxhdGlvbiBpblxuICAvLyB1c2VybGFuZCB3aWxsIGZhaWxcbiAgZW51bWVyYWJsZTogZmFsc2UsXG4gIGdldDogZnVuY3Rpb24gZ2V0KCkge1xuICAgIGlmICh0aGlzLl9yZWFkYWJsZVN0YXRlID09PSB1bmRlZmluZWQgfHwgdGhpcy5fd3JpdGFibGVTdGF0ZSA9PT0gdW5kZWZpbmVkKSB7XG4gICAgICByZXR1cm4gZmFsc2U7XG4gICAgfVxuICAgIHJldHVybiB0aGlzLl9yZWFkYWJsZVN0YXRlLmRlc3Ryb3llZCAmJiB0aGlzLl93cml0YWJsZVN0YXRlLmRlc3Ryb3llZDtcbiAgfSxcbiAgc2V0OiBmdW5jdGlvbiBzZXQodmFsdWUpIHtcbiAgICAvLyB3ZSBpZ25vcmUgdGhlIHZhbHVlIGlmIHRoZSBzdHJlYW1cbiAgICAvLyBoYXMgbm90IGJlZW4gaW5pdGlhbGl6ZWQgeWV0XG4gICAgaWYgKHRoaXMuX3JlYWRhYmxlU3RhdGUgPT09IHVuZGVmaW5lZCB8fCB0aGlzLl93cml0YWJsZVN0YXRlID09PSB1bmRlZmluZWQpIHtcbiAgICAgIHJldHVybjtcbiAgICB9XG5cbiAgICAvLyBiYWNrd2FyZCBjb21wYXRpYmlsaXR5LCB0aGUgdXNlciBpcyBleHBsaWNpdGx5XG4gICAgLy8gbWFuYWdpbmcgZGVzdHJveWVkXG4gICAgdGhpcy5fcmVhZGFibGVTdGF0ZS5kZXN0cm95ZWQgPSB2YWx1ZTtcbiAgICB0aGlzLl93cml0YWJsZVN0YXRlLmRlc3Ryb3llZCA9IHZhbHVlO1xuICB9XG59KTsiLCAiLyohIHNhZmUtYnVmZmVyLiBNSVQgTGljZW5zZS4gRmVyb3NzIEFib3VraGFkaWplaCA8aHR0cHM6Ly9mZXJvc3Mub3JnL29wZW5zb3VyY2U+ICovXG4vKiBlc2xpbnQtZGlzYWJsZSBub2RlL25vLWRlcHJlY2F0ZWQtYXBpICovXG52YXIgYnVmZmVyID0gcmVxdWlyZSgnYnVmZmVyJylcbnZhciBCdWZmZXIgPSBidWZmZXIuQnVmZmVyXG5cbi8vIGFsdGVybmF0aXZlIHRvIHVzaW5nIE9iamVjdC5rZXlzIGZvciBvbGQgYnJvd3NlcnNcbmZ1bmN0aW9uIGNvcHlQcm9wcyAoc3JjLCBkc3QpIHtcbiAgZm9yICh2YXIga2V5IGluIHNyYykge1xuICAgIGRzdFtrZXldID0gc3JjW2tleV1cbiAgfVxufVxuaWYgKEJ1ZmZlci5mcm9tICYmIEJ1ZmZlci5hbGxvYyAmJiBCdWZmZXIuYWxsb2NVbnNhZmUgJiYgQnVmZmVyLmFsbG9jVW5zYWZlU2xvdykge1xuICBtb2R1bGUuZXhwb3J0cyA9IGJ1ZmZlclxufSBlbHNlIHtcbiAgLy8gQ29weSBwcm9wZXJ0aWVzIGZyb20gcmVxdWlyZSgnYnVmZmVyJylcbiAgY29weVByb3BzKGJ1ZmZlciwgZXhwb3J0cylcbiAgZXhwb3J0cy5CdWZmZXIgPSBTYWZlQnVmZmVyXG59XG5cbmZ1bmN0aW9uIFNhZmVCdWZmZXIgKGFyZywgZW5jb2RpbmdPck9mZnNldCwgbGVuZ3RoKSB7XG4gIHJldHVybiBCdWZmZXIoYXJnLCBlbmNvZGluZ09yT2Zmc2V0LCBsZW5ndGgpXG59XG5cblNhZmVCdWZmZXIucHJvdG90eXBlID0gT2JqZWN0LmNyZWF0ZShCdWZmZXIucHJvdG90eXBlKVxuXG4vLyBDb3B5IHN0YXRpYyBtZXRob2RzIGZyb20gQnVmZmVyXG5jb3B5UHJvcHMoQnVmZmVyLCBTYWZlQnVmZmVyKVxuXG5TYWZlQnVmZmVyLmZyb20gPSBmdW5jdGlvbiAoYXJnLCBlbmNvZGluZ09yT2Zmc2V0LCBsZW5ndGgpIHtcbiAgaWYgKHR5cGVvZiBhcmcgPT09ICdudW1iZXInKSB7XG4gICAgdGhyb3cgbmV3IFR5cGVFcnJvcignQXJndW1lbnQgbXVzdCBub3QgYmUgYSBudW1iZXInKVxuICB9XG4gIHJldHVybiBCdWZmZXIoYXJnLCBlbmNvZGluZ09yT2Zmc2V0LCBsZW5ndGgpXG59XG5cblNhZmVCdWZmZXIuYWxsb2MgPSBmdW5jdGlvbiAoc2l6ZSwgZmlsbCwgZW5jb2RpbmcpIHtcbiAgaWYgKHR5cGVvZiBzaXplICE9PSAnbnVtYmVyJykge1xuICAgIHRocm93IG5ldyBUeXBlRXJyb3IoJ0FyZ3VtZW50IG11c3QgYmUgYSBudW1iZXInKVxuICB9XG4gIHZhciBidWYgPSBCdWZmZXIoc2l6ZSlcbiAgaWYgKGZpbGwgIT09IHVuZGVmaW5lZCkge1xuICAgIGlmICh0eXBlb2YgZW5jb2RpbmcgPT09ICdzdHJpbmcnKSB7XG4gICAgICBidWYuZmlsbChmaWxsLCBlbmNvZGluZylcbiAgICB9IGVsc2Uge1xuICAgICAgYnVmLmZpbGwoZmlsbClcbiAgICB9XG4gIH0gZWxzZSB7XG4gICAgYnVmLmZpbGwoMClcbiAgfVxuICByZXR1cm4gYnVmXG59XG5cblNhZmVCdWZmZXIuYWxsb2NVbnNhZmUgPSBmdW5jdGlvbiAoc2l6ZSkge1xuICBpZiAodHlwZW9mIHNpemUgIT09ICdudW1iZXInKSB7XG4gICAgdGhyb3cgbmV3IFR5cGVFcnJvcignQXJndW1lbnQgbXVzdCBiZSBhIG51bWJlcicpXG4gIH1cbiAgcmV0dXJuIEJ1ZmZlcihzaXplKVxufVxuXG5TYWZlQnVmZmVyLmFsbG9jVW5zYWZlU2xvdyA9IGZ1bmN0aW9uIChzaXplKSB7XG4gIGlmICh0eXBlb2Ygc2l6ZSAhPT0gJ251bWJlcicpIHtcbiAgICB0aHJvdyBuZXcgVHlwZUVycm9yKCdBcmd1bWVudCBtdXN0IGJlIGEgbnVtYmVyJylcbiAgfVxuICByZXR1cm4gYnVmZmVyLlNsb3dCdWZmZXIoc2l6ZSlcbn1cbiIsICIvLyBDb3B5cmlnaHQgSm95ZW50LCBJbmMuIGFuZCBvdGhlciBOb2RlIGNvbnRyaWJ1dG9ycy5cbi8vXG4vLyBQZXJtaXNzaW9uIGlzIGhlcmVieSBncmFudGVkLCBmcmVlIG9mIGNoYXJnZSwgdG8gYW55IHBlcnNvbiBvYnRhaW5pbmcgYVxuLy8gY29weSBvZiB0aGlzIHNvZnR3YXJlIGFuZCBhc3NvY2lhdGVkIGRvY3VtZW50YXRpb24gZmlsZXMgKHRoZVxuLy8gXCJTb2Z0d2FyZVwiKSwgdG8gZGVhbCBpbiB0aGUgU29mdHdhcmUgd2l0aG91dCByZXN0cmljdGlvbiwgaW5jbHVkaW5nXG4vLyB3aXRob3V0IGxpbWl0YXRpb24gdGhlIHJpZ2h0cyB0byB1c2UsIGNvcHksIG1vZGlmeSwgbWVyZ2UsIHB1Ymxpc2gsXG4vLyBkaXN0cmlidXRlLCBzdWJsaWNlbnNlLCBhbmQvb3Igc2VsbCBjb3BpZXMgb2YgdGhlIFNvZnR3YXJlLCBhbmQgdG8gcGVybWl0XG4vLyBwZXJzb25zIHRvIHdob20gdGhlIFNvZnR3YXJlIGlzIGZ1cm5pc2hlZCB0byBkbyBzbywgc3ViamVjdCB0byB0aGVcbi8vIGZvbGxvd2luZyBjb25kaXRpb25zOlxuLy9cbi8vIFRoZSBhYm92ZSBjb3B5cmlnaHQgbm90aWNlIGFuZCB0aGlzIHBlcm1pc3Npb24gbm90aWNlIHNoYWxsIGJlIGluY2x1ZGVkXG4vLyBpbiBhbGwgY29waWVzIG9yIHN1YnN0YW50aWFsIHBvcnRpb25zIG9mIHRoZSBTb2Z0d2FyZS5cbi8vXG4vLyBUSEUgU09GVFdBUkUgSVMgUFJPVklERUQgXCJBUyBJU1wiLCBXSVRIT1VUIFdBUlJBTlRZIE9GIEFOWSBLSU5ELCBFWFBSRVNTXG4vLyBPUiBJTVBMSUVELCBJTkNMVURJTkcgQlVUIE5PVCBMSU1JVEVEIFRPIFRIRSBXQVJSQU5USUVTIE9GXG4vLyBNRVJDSEFOVEFCSUxJVFksIEZJVE5FU1MgRk9SIEEgUEFSVElDVUxBUiBQVVJQT1NFIEFORCBOT05JTkZSSU5HRU1FTlQuIElOXG4vLyBOTyBFVkVOVCBTSEFMTCBUSEUgQVVUSE9SUyBPUiBDT1BZUklHSFQgSE9MREVSUyBCRSBMSUFCTEUgRk9SIEFOWSBDTEFJTSxcbi8vIERBTUFHRVMgT1IgT1RIRVIgTElBQklMSVRZLCBXSEVUSEVSIElOIEFOIEFDVElPTiBPRiBDT05UUkFDVCwgVE9SVCBPUlxuLy8gT1RIRVJXSVNFLCBBUklTSU5HIEZST00sIE9VVCBPRiBPUiBJTiBDT05ORUNUSU9OIFdJVEggVEhFIFNPRlRXQVJFIE9SIFRIRVxuLy8gVVNFIE9SIE9USEVSIERFQUxJTkdTIElOIFRIRSBTT0ZUV0FSRS5cblxuJ3VzZSBzdHJpY3QnO1xuXG4vKjxyZXBsYWNlbWVudD4qL1xuXG52YXIgQnVmZmVyID0gcmVxdWlyZSgnc2FmZS1idWZmZXInKS5CdWZmZXI7XG4vKjwvcmVwbGFjZW1lbnQ+Ki9cblxudmFyIGlzRW5jb2RpbmcgPSBCdWZmZXIuaXNFbmNvZGluZyB8fCBmdW5jdGlvbiAoZW5jb2RpbmcpIHtcbiAgZW5jb2RpbmcgPSAnJyArIGVuY29kaW5nO1xuICBzd2l0Y2ggKGVuY29kaW5nICYmIGVuY29kaW5nLnRvTG93ZXJDYXNlKCkpIHtcbiAgICBjYXNlICdoZXgnOmNhc2UgJ3V0ZjgnOmNhc2UgJ3V0Zi04JzpjYXNlICdhc2NpaSc6Y2FzZSAnYmluYXJ5JzpjYXNlICdiYXNlNjQnOmNhc2UgJ3VjczInOmNhc2UgJ3Vjcy0yJzpjYXNlICd1dGYxNmxlJzpjYXNlICd1dGYtMTZsZSc6Y2FzZSAncmF3JzpcbiAgICAgIHJldHVybiB0cnVlO1xuICAgIGRlZmF1bHQ6XG4gICAgICByZXR1cm4gZmFsc2U7XG4gIH1cbn07XG5cbmZ1bmN0aW9uIF9ub3JtYWxpemVFbmNvZGluZyhlbmMpIHtcbiAgaWYgKCFlbmMpIHJldHVybiAndXRmOCc7XG4gIHZhciByZXRyaWVkO1xuICB3aGlsZSAodHJ1ZSkge1xuICAgIHN3aXRjaCAoZW5jKSB7XG4gICAgICBjYXNlICd1dGY4JzpcbiAgICAgIGNhc2UgJ3V0Zi04JzpcbiAgICAgICAgcmV0dXJuICd1dGY4JztcbiAgICAgIGNhc2UgJ3VjczInOlxuICAgICAgY2FzZSAndWNzLTInOlxuICAgICAgY2FzZSAndXRmMTZsZSc6XG4gICAgICBjYXNlICd1dGYtMTZsZSc6XG4gICAgICAgIHJldHVybiAndXRmMTZsZSc7XG4gICAgICBjYXNlICdsYXRpbjEnOlxuICAgICAgY2FzZSAnYmluYXJ5JzpcbiAgICAgICAgcmV0dXJuICdsYXRpbjEnO1xuICAgICAgY2FzZSAnYmFzZTY0JzpcbiAgICAgIGNhc2UgJ2FzY2lpJzpcbiAgICAgIGNhc2UgJ2hleCc6XG4gICAgICAgIHJldHVybiBlbmM7XG4gICAgICBkZWZhdWx0OlxuICAgICAgICBpZiAocmV0cmllZCkgcmV0dXJuOyAvLyB1bmRlZmluZWRcbiAgICAgICAgZW5jID0gKCcnICsgZW5jKS50b0xvd2VyQ2FzZSgpO1xuICAgICAgICByZXRyaWVkID0gdHJ1ZTtcbiAgICB9XG4gIH1cbn07XG5cbi8vIERvIG5vdCBjYWNoZSBgQnVmZmVyLmlzRW5jb2RpbmdgIHdoZW4gY2hlY2tpbmcgZW5jb2RpbmcgbmFtZXMgYXMgc29tZVxuLy8gbW9kdWxlcyBtb25rZXktcGF0Y2ggaXQgdG8gc3VwcG9ydCBhZGRpdGlvbmFsIGVuY29kaW5nc1xuZnVuY3Rpb24gbm9ybWFsaXplRW5jb2RpbmcoZW5jKSB7XG4gIHZhciBuZW5jID0gX25vcm1hbGl6ZUVuY29kaW5nKGVuYyk7XG4gIGlmICh0eXBlb2YgbmVuYyAhPT0gJ3N0cmluZycgJiYgKEJ1ZmZlci5pc0VuY29kaW5nID09PSBpc0VuY29kaW5nIHx8ICFpc0VuY29kaW5nKGVuYykpKSB0aHJvdyBuZXcgRXJyb3IoJ1Vua25vd24gZW5jb2Rpbmc6ICcgKyBlbmMpO1xuICByZXR1cm4gbmVuYyB8fCBlbmM7XG59XG5cbi8vIFN0cmluZ0RlY29kZXIgcHJvdmlkZXMgYW4gaW50ZXJmYWNlIGZvciBlZmZpY2llbnRseSBzcGxpdHRpbmcgYSBzZXJpZXMgb2Zcbi8vIGJ1ZmZlcnMgaW50byBhIHNlcmllcyBvZiBKUyBzdHJpbmdzIHdpdGhvdXQgYnJlYWtpbmcgYXBhcnQgbXVsdGktYnl0ZVxuLy8gY2hhcmFjdGVycy5cbmV4cG9ydHMuU3RyaW5nRGVjb2RlciA9IFN0cmluZ0RlY29kZXI7XG5mdW5jdGlvbiBTdHJpbmdEZWNvZGVyKGVuY29kaW5nKSB7XG4gIHRoaXMuZW5jb2RpbmcgPSBub3JtYWxpemVFbmNvZGluZyhlbmNvZGluZyk7XG4gIHZhciBuYjtcbiAgc3dpdGNoICh0aGlzLmVuY29kaW5nKSB7XG4gICAgY2FzZSAndXRmMTZsZSc6XG4gICAgICB0aGlzLnRleHQgPSB1dGYxNlRleHQ7XG4gICAgICB0aGlzLmVuZCA9IHV0ZjE2RW5kO1xuICAgICAgbmIgPSA0O1xuICAgICAgYnJlYWs7XG4gICAgY2FzZSAndXRmOCc6XG4gICAgICB0aGlzLmZpbGxMYXN0ID0gdXRmOEZpbGxMYXN0O1xuICAgICAgbmIgPSA0O1xuICAgICAgYnJlYWs7XG4gICAgY2FzZSAnYmFzZTY0JzpcbiAgICAgIHRoaXMudGV4dCA9IGJhc2U2NFRleHQ7XG4gICAgICB0aGlzLmVuZCA9IGJhc2U2NEVuZDtcbiAgICAgIG5iID0gMztcbiAgICAgIGJyZWFrO1xuICAgIGRlZmF1bHQ6XG4gICAgICB0aGlzLndyaXRlID0gc2ltcGxlV3JpdGU7XG4gICAgICB0aGlzLmVuZCA9IHNpbXBsZUVuZDtcbiAgICAgIHJldHVybjtcbiAgfVxuICB0aGlzLmxhc3ROZWVkID0gMDtcbiAgdGhpcy5sYXN0VG90YWwgPSAwO1xuICB0aGlzLmxhc3RDaGFyID0gQnVmZmVyLmFsbG9jVW5zYWZlKG5iKTtcbn1cblxuU3RyaW5nRGVjb2Rlci5wcm90b3R5cGUud3JpdGUgPSBmdW5jdGlvbiAoYnVmKSB7XG4gIGlmIChidWYubGVuZ3RoID09PSAwKSByZXR1cm4gJyc7XG4gIHZhciByO1xuICB2YXIgaTtcbiAgaWYgKHRoaXMubGFzdE5lZWQpIHtcbiAgICByID0gdGhpcy5maWxsTGFzdChidWYpO1xuICAgIGlmIChyID09PSB1bmRlZmluZWQpIHJldHVybiAnJztcbiAgICBpID0gdGhpcy5sYXN0TmVlZDtcbiAgICB0aGlzLmxhc3ROZWVkID0gMDtcbiAgfSBlbHNlIHtcbiAgICBpID0gMDtcbiAgfVxuICBpZiAoaSA8IGJ1Zi5sZW5ndGgpIHJldHVybiByID8gciArIHRoaXMudGV4dChidWYsIGkpIDogdGhpcy50ZXh0KGJ1ZiwgaSk7XG4gIHJldHVybiByIHx8ICcnO1xufTtcblxuU3RyaW5nRGVjb2Rlci5wcm90b3R5cGUuZW5kID0gdXRmOEVuZDtcblxuLy8gUmV0dXJucyBvbmx5IGNvbXBsZXRlIGNoYXJhY3RlcnMgaW4gYSBCdWZmZXJcblN0cmluZ0RlY29kZXIucHJvdG90eXBlLnRleHQgPSB1dGY4VGV4dDtcblxuLy8gQXR0ZW1wdHMgdG8gY29tcGxldGUgYSBwYXJ0aWFsIG5vbi1VVEYtOCBjaGFyYWN0ZXIgdXNpbmcgYnl0ZXMgZnJvbSBhIEJ1ZmZlclxuU3RyaW5nRGVjb2Rlci5wcm90b3R5cGUuZmlsbExhc3QgPSBmdW5jdGlvbiAoYnVmKSB7XG4gIGlmICh0aGlzLmxhc3ROZWVkIDw9IGJ1Zi5sZW5ndGgpIHtcbiAgICBidWYuY29weSh0aGlzLmxhc3RDaGFyLCB0aGlzLmxhc3RUb3RhbCAtIHRoaXMubGFzdE5lZWQsIDAsIHRoaXMubGFzdE5lZWQpO1xuICAgIHJldHVybiB0aGlzLmxhc3RDaGFyLnRvU3RyaW5nKHRoaXMuZW5jb2RpbmcsIDAsIHRoaXMubGFzdFRvdGFsKTtcbiAgfVxuICBidWYuY29weSh0aGlzLmxhc3RDaGFyLCB0aGlzLmxhc3RUb3RhbCAtIHRoaXMubGFzdE5lZWQsIDAsIGJ1Zi5sZW5ndGgpO1xuICB0aGlzLmxhc3ROZWVkIC09IGJ1Zi5sZW5ndGg7XG59O1xuXG4vLyBDaGVja3MgdGhlIHR5cGUgb2YgYSBVVEYtOCBieXRlLCB3aGV0aGVyIGl0J3MgQVNDSUksIGEgbGVhZGluZyBieXRlLCBvciBhXG4vLyBjb250aW51YXRpb24gYnl0ZS4gSWYgYW4gaW52YWxpZCBieXRlIGlzIGRldGVjdGVkLCAtMiBpcyByZXR1cm5lZC5cbmZ1bmN0aW9uIHV0ZjhDaGVja0J5dGUoYnl0ZSkge1xuICBpZiAoYnl0ZSA8PSAweDdGKSByZXR1cm4gMDtlbHNlIGlmIChieXRlID4+IDUgPT09IDB4MDYpIHJldHVybiAyO2Vsc2UgaWYgKGJ5dGUgPj4gNCA9PT0gMHgwRSkgcmV0dXJuIDM7ZWxzZSBpZiAoYnl0ZSA+PiAzID09PSAweDFFKSByZXR1cm4gNDtcbiAgcmV0dXJuIGJ5dGUgPj4gNiA9PT0gMHgwMiA/IC0xIDogLTI7XG59XG5cbi8vIENoZWNrcyBhdCBtb3N0IDMgYnl0ZXMgYXQgdGhlIGVuZCBvZiBhIEJ1ZmZlciBpbiBvcmRlciB0byBkZXRlY3QgYW5cbi8vIGluY29tcGxldGUgbXVsdGktYnl0ZSBVVEYtOCBjaGFyYWN0ZXIuIFRoZSB0b3RhbCBudW1iZXIgb2YgYnl0ZXMgKDIsIDMsIG9yIDQpXG4vLyBuZWVkZWQgdG8gY29tcGxldGUgdGhlIFVURi04IGNoYXJhY3RlciAoaWYgYXBwbGljYWJsZSkgYXJlIHJldHVybmVkLlxuZnVuY3Rpb24gdXRmOENoZWNrSW5jb21wbGV0ZShzZWxmLCBidWYsIGkpIHtcbiAgdmFyIGogPSBidWYubGVuZ3RoIC0gMTtcbiAgaWYgKGogPCBpKSByZXR1cm4gMDtcbiAgdmFyIG5iID0gdXRmOENoZWNrQnl0ZShidWZbal0pO1xuICBpZiAobmIgPj0gMCkge1xuICAgIGlmIChuYiA+IDApIHNlbGYubGFzdE5lZWQgPSBuYiAtIDE7XG4gICAgcmV0dXJuIG5iO1xuICB9XG4gIGlmICgtLWogPCBpIHx8IG5iID09PSAtMikgcmV0dXJuIDA7XG4gIG5iID0gdXRmOENoZWNrQnl0ZShidWZbal0pO1xuICBpZiAobmIgPj0gMCkge1xuICAgIGlmIChuYiA+IDApIHNlbGYubGFzdE5lZWQgPSBuYiAtIDI7XG4gICAgcmV0dXJuIG5iO1xuICB9XG4gIGlmICgtLWogPCBpIHx8IG5iID09PSAtMikgcmV0dXJuIDA7XG4gIG5iID0gdXRmOENoZWNrQnl0ZShidWZbal0pO1xuICBpZiAobmIgPj0gMCkge1xuICAgIGlmIChuYiA+IDApIHtcbiAgICAgIGlmIChuYiA9PT0gMikgbmIgPSAwO2Vsc2Ugc2VsZi5sYXN0TmVlZCA9IG5iIC0gMztcbiAgICB9XG4gICAgcmV0dXJuIG5iO1xuICB9XG4gIHJldHVybiAwO1xufVxuXG4vLyBWYWxpZGF0ZXMgYXMgbWFueSBjb250aW51YXRpb24gYnl0ZXMgZm9yIGEgbXVsdGktYnl0ZSBVVEYtOCBjaGFyYWN0ZXIgYXNcbi8vIG5lZWRlZCBvciBhcmUgYXZhaWxhYmxlLiBJZiB3ZSBzZWUgYSBub24tY29udGludWF0aW9uIGJ5dGUgd2hlcmUgd2UgZXhwZWN0XG4vLyBvbmUsIHdlIFwicmVwbGFjZVwiIHRoZSB2YWxpZGF0ZWQgY29udGludWF0aW9uIGJ5dGVzIHdlJ3ZlIHNlZW4gc28gZmFyIHdpdGhcbi8vIGEgc2luZ2xlIFVURi04IHJlcGxhY2VtZW50IGNoYXJhY3RlciAoJ1xcdWZmZmQnKSwgdG8gbWF0Y2ggdjgncyBVVEYtOCBkZWNvZGluZ1xuLy8gYmVoYXZpb3IuIFRoZSBjb250aW51YXRpb24gYnl0ZSBjaGVjayBpcyBpbmNsdWRlZCB0aHJlZSB0aW1lcyBpbiB0aGUgY2FzZVxuLy8gd2hlcmUgYWxsIG9mIHRoZSBjb250aW51YXRpb24gYnl0ZXMgZm9yIGEgY2hhcmFjdGVyIGV4aXN0IGluIHRoZSBzYW1lIGJ1ZmZlci5cbi8vIEl0IGlzIGFsc28gZG9uZSB0aGlzIHdheSBhcyBhIHNsaWdodCBwZXJmb3JtYW5jZSBpbmNyZWFzZSBpbnN0ZWFkIG9mIHVzaW5nIGFcbi8vIGxvb3AuXG5mdW5jdGlvbiB1dGY4Q2hlY2tFeHRyYUJ5dGVzKHNlbGYsIGJ1ZiwgcCkge1xuICBpZiAoKGJ1ZlswXSAmIDB4QzApICE9PSAweDgwKSB7XG4gICAgc2VsZi5sYXN0TmVlZCA9IDA7XG4gICAgcmV0dXJuICdcXHVmZmZkJztcbiAgfVxuICBpZiAoc2VsZi5sYXN0TmVlZCA+IDEgJiYgYnVmLmxlbmd0aCA+IDEpIHtcbiAgICBpZiAoKGJ1ZlsxXSAmIDB4QzApICE9PSAweDgwKSB7XG4gICAgICBzZWxmLmxhc3ROZWVkID0gMTtcbiAgICAgIHJldHVybiAnXFx1ZmZmZCc7XG4gICAgfVxuICAgIGlmIChzZWxmLmxhc3ROZWVkID4gMiAmJiBidWYubGVuZ3RoID4gMikge1xuICAgICAgaWYgKChidWZbMl0gJiAweEMwKSAhPT0gMHg4MCkge1xuICAgICAgICBzZWxmLmxhc3ROZWVkID0gMjtcbiAgICAgICAgcmV0dXJuICdcXHVmZmZkJztcbiAgICAgIH1cbiAgICB9XG4gIH1cbn1cblxuLy8gQXR0ZW1wdHMgdG8gY29tcGxldGUgYSBtdWx0aS1ieXRlIFVURi04IGNoYXJhY3RlciB1c2luZyBieXRlcyBmcm9tIGEgQnVmZmVyLlxuZnVuY3Rpb24gdXRmOEZpbGxMYXN0KGJ1Zikge1xuICB2YXIgcCA9IHRoaXMubGFzdFRvdGFsIC0gdGhpcy5sYXN0TmVlZDtcbiAgdmFyIHIgPSB1dGY4Q2hlY2tFeHRyYUJ5dGVzKHRoaXMsIGJ1ZiwgcCk7XG4gIGlmIChyICE9PSB1bmRlZmluZWQpIHJldHVybiByO1xuICBpZiAodGhpcy5sYXN0TmVlZCA8PSBidWYubGVuZ3RoKSB7XG4gICAgYnVmLmNvcHkodGhpcy5sYXN0Q2hhciwgcCwgMCwgdGhpcy5sYXN0TmVlZCk7XG4gICAgcmV0dXJuIHRoaXMubGFzdENoYXIudG9TdHJpbmcodGhpcy5lbmNvZGluZywgMCwgdGhpcy5sYXN0VG90YWwpO1xuICB9XG4gIGJ1Zi5jb3B5KHRoaXMubGFzdENoYXIsIHAsIDAsIGJ1Zi5sZW5ndGgpO1xuICB0aGlzLmxhc3ROZWVkIC09IGJ1Zi5sZW5ndGg7XG59XG5cbi8vIFJldHVybnMgYWxsIGNvbXBsZXRlIFVURi04IGNoYXJhY3RlcnMgaW4gYSBCdWZmZXIuIElmIHRoZSBCdWZmZXIgZW5kZWQgb24gYVxuLy8gcGFydGlhbCBjaGFyYWN0ZXIsIHRoZSBjaGFyYWN0ZXIncyBieXRlcyBhcmUgYnVmZmVyZWQgdW50aWwgdGhlIHJlcXVpcmVkXG4vLyBudW1iZXIgb2YgYnl0ZXMgYXJlIGF2YWlsYWJsZS5cbmZ1bmN0aW9uIHV0ZjhUZXh0KGJ1ZiwgaSkge1xuICB2YXIgdG90YWwgPSB1dGY4Q2hlY2tJbmNvbXBsZXRlKHRoaXMsIGJ1ZiwgaSk7XG4gIGlmICghdGhpcy5sYXN0TmVlZCkgcmV0dXJuIGJ1Zi50b1N0cmluZygndXRmOCcsIGkpO1xuICB0aGlzLmxhc3RUb3RhbCA9IHRvdGFsO1xuICB2YXIgZW5kID0gYnVmLmxlbmd0aCAtICh0b3RhbCAtIHRoaXMubGFzdE5lZWQpO1xuICBidWYuY29weSh0aGlzLmxhc3RDaGFyLCAwLCBlbmQpO1xuICByZXR1cm4gYnVmLnRvU3RyaW5nKCd1dGY4JywgaSwgZW5kKTtcbn1cblxuLy8gRm9yIFVURi04LCBhIHJlcGxhY2VtZW50IGNoYXJhY3RlciBpcyBhZGRlZCB3aGVuIGVuZGluZyBvbiBhIHBhcnRpYWxcbi8vIGNoYXJhY3Rlci5cbmZ1bmN0aW9uIHV0ZjhFbmQoYnVmKSB7XG4gIHZhciByID0gYnVmICYmIGJ1Zi5sZW5ndGggPyB0aGlzLndyaXRlKGJ1ZikgOiAnJztcbiAgaWYgKHRoaXMubGFzdE5lZWQpIHJldHVybiByICsgJ1xcdWZmZmQnO1xuICByZXR1cm4gcjtcbn1cblxuLy8gVVRGLTE2TEUgdHlwaWNhbGx5IG5lZWRzIHR3byBieXRlcyBwZXIgY2hhcmFjdGVyLCBidXQgZXZlbiBpZiB3ZSBoYXZlIGFuIGV2ZW5cbi8vIG51bWJlciBvZiBieXRlcyBhdmFpbGFibGUsIHdlIG5lZWQgdG8gY2hlY2sgaWYgd2UgZW5kIG9uIGEgbGVhZGluZy9oaWdoXG4vLyBzdXJyb2dhdGUuIEluIHRoYXQgY2FzZSwgd2UgbmVlZCB0byB3YWl0IGZvciB0aGUgbmV4dCB0d28gYnl0ZXMgaW4gb3JkZXIgdG9cbi8vIGRlY29kZSB0aGUgbGFzdCBjaGFyYWN0ZXIgcHJvcGVybHkuXG5mdW5jdGlvbiB1dGYxNlRleHQoYnVmLCBpKSB7XG4gIGlmICgoYnVmLmxlbmd0aCAtIGkpICUgMiA9PT0gMCkge1xuICAgIHZhciByID0gYnVmLnRvU3RyaW5nKCd1dGYxNmxlJywgaSk7XG4gICAgaWYgKHIpIHtcbiAgICAgIHZhciBjID0gci5jaGFyQ29kZUF0KHIubGVuZ3RoIC0gMSk7XG4gICAgICBpZiAoYyA+PSAweEQ4MDAgJiYgYyA8PSAweERCRkYpIHtcbiAgICAgICAgdGhpcy5sYXN0TmVlZCA9IDI7XG4gICAgICAgIHRoaXMubGFzdFRvdGFsID0gNDtcbiAgICAgICAgdGhpcy5sYXN0Q2hhclswXSA9IGJ1ZltidWYubGVuZ3RoIC0gMl07XG4gICAgICAgIHRoaXMubGFzdENoYXJbMV0gPSBidWZbYnVmLmxlbmd0aCAtIDFdO1xuICAgICAgICByZXR1cm4gci5zbGljZSgwLCAtMSk7XG4gICAgICB9XG4gICAgfVxuICAgIHJldHVybiByO1xuICB9XG4gIHRoaXMubGFzdE5lZWQgPSAxO1xuICB0aGlzLmxhc3RUb3RhbCA9IDI7XG4gIHRoaXMubGFzdENoYXJbMF0gPSBidWZbYnVmLmxlbmd0aCAtIDFdO1xuICByZXR1cm4gYnVmLnRvU3RyaW5nKCd1dGYxNmxlJywgaSwgYnVmLmxlbmd0aCAtIDEpO1xufVxuXG4vLyBGb3IgVVRGLTE2TEUgd2UgZG8gbm90IGV4cGxpY2l0bHkgYXBwZW5kIHNwZWNpYWwgcmVwbGFjZW1lbnQgY2hhcmFjdGVycyBpZiB3ZVxuLy8gZW5kIG9uIGEgcGFydGlhbCBjaGFyYWN0ZXIsIHdlIHNpbXBseSBsZXQgdjggaGFuZGxlIHRoYXQuXG5mdW5jdGlvbiB1dGYxNkVuZChidWYpIHtcbiAgdmFyIHIgPSBidWYgJiYgYnVmLmxlbmd0aCA/IHRoaXMud3JpdGUoYnVmKSA6ICcnO1xuICBpZiAodGhpcy5sYXN0TmVlZCkge1xuICAgIHZhciBlbmQgPSB0aGlzLmxhc3RUb3RhbCAtIHRoaXMubGFzdE5lZWQ7XG4gICAgcmV0dXJuIHIgKyB0aGlzLmxhc3RDaGFyLnRvU3RyaW5nKCd1dGYxNmxlJywgMCwgZW5kKTtcbiAgfVxuICByZXR1cm4gcjtcbn1cblxuZnVuY3Rpb24gYmFzZTY0VGV4dChidWYsIGkpIHtcbiAgdmFyIG4gPSAoYnVmLmxlbmd0aCAtIGkpICUgMztcbiAgaWYgKG4gPT09IDApIHJldHVybiBidWYudG9TdHJpbmcoJ2Jhc2U2NCcsIGkpO1xuICB0aGlzLmxhc3ROZWVkID0gMyAtIG47XG4gIHRoaXMubGFzdFRvdGFsID0gMztcbiAgaWYgKG4gPT09IDEpIHtcbiAgICB0aGlzLmxhc3RDaGFyWzBdID0gYnVmW2J1Zi5sZW5ndGggLSAxXTtcbiAgfSBlbHNlIHtcbiAgICB0aGlzLmxhc3RDaGFyWzBdID0gYnVmW2J1Zi5sZW5ndGggLSAyXTtcbiAgICB0aGlzLmxhc3RDaGFyWzFdID0gYnVmW2J1Zi5sZW5ndGggLSAxXTtcbiAgfVxuICByZXR1cm4gYnVmLnRvU3RyaW5nKCdiYXNlNjQnLCBpLCBidWYubGVuZ3RoIC0gbik7XG59XG5cbmZ1bmN0aW9uIGJhc2U2NEVuZChidWYpIHtcbiAgdmFyIHIgPSBidWYgJiYgYnVmLmxlbmd0aCA/IHRoaXMud3JpdGUoYnVmKSA6ICcnO1xuICBpZiAodGhpcy5sYXN0TmVlZCkgcmV0dXJuIHIgKyB0aGlzLmxhc3RDaGFyLnRvU3RyaW5nKCdiYXNlNjQnLCAwLCAzIC0gdGhpcy5sYXN0TmVlZCk7XG4gIHJldHVybiByO1xufVxuXG4vLyBQYXNzIGJ5dGVzIG9uIHRocm91Z2ggZm9yIHNpbmdsZS1ieXRlIGVuY29kaW5ncyAoZS5nLiBhc2NpaSwgbGF0aW4xLCBoZXgpXG5mdW5jdGlvbiBzaW1wbGVXcml0ZShidWYpIHtcbiAgcmV0dXJuIGJ1Zi50b1N0cmluZyh0aGlzLmVuY29kaW5nKTtcbn1cblxuZnVuY3Rpb24gc2ltcGxlRW5kKGJ1Zikge1xuICByZXR1cm4gYnVmICYmIGJ1Zi5sZW5ndGggPyB0aGlzLndyaXRlKGJ1ZikgOiAnJztcbn0iLCAiLy8gUG9ydGVkIGZyb20gaHR0cHM6Ly9naXRodWIuY29tL21hZmludG9zaC9lbmQtb2Ytc3RyZWFtIHdpdGhcbi8vIHBlcm1pc3Npb24gZnJvbSB0aGUgYXV0aG9yLCBNYXRoaWFzIEJ1dXMgKEBtYWZpbnRvc2gpLlxuXG4ndXNlIHN0cmljdCc7XG5cbnZhciBFUlJfU1RSRUFNX1BSRU1BVFVSRV9DTE9TRSA9IHJlcXVpcmUoJy4uLy4uLy4uL2Vycm9ycycpLmNvZGVzLkVSUl9TVFJFQU1fUFJFTUFUVVJFX0NMT1NFO1xuZnVuY3Rpb24gb25jZShjYWxsYmFjaykge1xuICB2YXIgY2FsbGVkID0gZmFsc2U7XG4gIHJldHVybiBmdW5jdGlvbiAoKSB7XG4gICAgaWYgKGNhbGxlZCkgcmV0dXJuO1xuICAgIGNhbGxlZCA9IHRydWU7XG4gICAgZm9yICh2YXIgX2xlbiA9IGFyZ3VtZW50cy5sZW5ndGgsIGFyZ3MgPSBuZXcgQXJyYXkoX2xlbiksIF9rZXkgPSAwOyBfa2V5IDwgX2xlbjsgX2tleSsrKSB7XG4gICAgICBhcmdzW19rZXldID0gYXJndW1lbnRzW19rZXldO1xuICAgIH1cbiAgICBjYWxsYmFjay5hcHBseSh0aGlzLCBhcmdzKTtcbiAgfTtcbn1cbmZ1bmN0aW9uIG5vb3AoKSB7fVxuZnVuY3Rpb24gaXNSZXF1ZXN0KHN0cmVhbSkge1xuICByZXR1cm4gc3RyZWFtLnNldEhlYWRlciAmJiB0eXBlb2Ygc3RyZWFtLmFib3J0ID09PSAnZnVuY3Rpb24nO1xufVxuZnVuY3Rpb24gZW9zKHN0cmVhbSwgb3B0cywgY2FsbGJhY2spIHtcbiAgaWYgKHR5cGVvZiBvcHRzID09PSAnZnVuY3Rpb24nKSByZXR1cm4gZW9zKHN0cmVhbSwgbnVsbCwgb3B0cyk7XG4gIGlmICghb3B0cykgb3B0cyA9IHt9O1xuICBjYWxsYmFjayA9IG9uY2UoY2FsbGJhY2sgfHwgbm9vcCk7XG4gIHZhciByZWFkYWJsZSA9IG9wdHMucmVhZGFibGUgfHwgb3B0cy5yZWFkYWJsZSAhPT0gZmFsc2UgJiYgc3RyZWFtLnJlYWRhYmxlO1xuICB2YXIgd3JpdGFibGUgPSBvcHRzLndyaXRhYmxlIHx8IG9wdHMud3JpdGFibGUgIT09IGZhbHNlICYmIHN0cmVhbS53cml0YWJsZTtcbiAgdmFyIG9ubGVnYWN5ZmluaXNoID0gZnVuY3Rpb24gb25sZWdhY3lmaW5pc2goKSB7XG4gICAgaWYgKCFzdHJlYW0ud3JpdGFibGUpIG9uZmluaXNoKCk7XG4gIH07XG4gIHZhciB3cml0YWJsZUVuZGVkID0gc3RyZWFtLl93cml0YWJsZVN0YXRlICYmIHN0cmVhbS5fd3JpdGFibGVTdGF0ZS5maW5pc2hlZDtcbiAgdmFyIG9uZmluaXNoID0gZnVuY3Rpb24gb25maW5pc2goKSB7XG4gICAgd3JpdGFibGUgPSBmYWxzZTtcbiAgICB3cml0YWJsZUVuZGVkID0gdHJ1ZTtcbiAgICBpZiAoIXJlYWRhYmxlKSBjYWxsYmFjay5jYWxsKHN0cmVhbSk7XG4gIH07XG4gIHZhciByZWFkYWJsZUVuZGVkID0gc3RyZWFtLl9yZWFkYWJsZVN0YXRlICYmIHN0cmVhbS5fcmVhZGFibGVTdGF0ZS5lbmRFbWl0dGVkO1xuICB2YXIgb25lbmQgPSBmdW5jdGlvbiBvbmVuZCgpIHtcbiAgICByZWFkYWJsZSA9IGZhbHNlO1xuICAgIHJlYWRhYmxlRW5kZWQgPSB0cnVlO1xuICAgIGlmICghd3JpdGFibGUpIGNhbGxiYWNrLmNhbGwoc3RyZWFtKTtcbiAgfTtcbiAgdmFyIG9uZXJyb3IgPSBmdW5jdGlvbiBvbmVycm9yKGVycikge1xuICAgIGNhbGxiYWNrLmNhbGwoc3RyZWFtLCBlcnIpO1xuICB9O1xuICB2YXIgb25jbG9zZSA9IGZ1bmN0aW9uIG9uY2xvc2UoKSB7XG4gICAgdmFyIGVycjtcbiAgICBpZiAocmVhZGFibGUgJiYgIXJlYWRhYmxlRW5kZWQpIHtcbiAgICAgIGlmICghc3RyZWFtLl9yZWFkYWJsZVN0YXRlIHx8ICFzdHJlYW0uX3JlYWRhYmxlU3RhdGUuZW5kZWQpIGVyciA9IG5ldyBFUlJfU1RSRUFNX1BSRU1BVFVSRV9DTE9TRSgpO1xuICAgICAgcmV0dXJuIGNhbGxiYWNrLmNhbGwoc3RyZWFtLCBlcnIpO1xuICAgIH1cbiAgICBpZiAod3JpdGFibGUgJiYgIXdyaXRhYmxlRW5kZWQpIHtcbiAgICAgIGlmICghc3RyZWFtLl93cml0YWJsZVN0YXRlIHx8ICFzdHJlYW0uX3dyaXRhYmxlU3RhdGUuZW5kZWQpIGVyciA9IG5ldyBFUlJfU1RSRUFNX1BSRU1BVFVSRV9DTE9TRSgpO1xuICAgICAgcmV0dXJuIGNhbGxiYWNrLmNhbGwoc3RyZWFtLCBlcnIpO1xuICAgIH1cbiAgfTtcbiAgdmFyIG9ucmVxdWVzdCA9IGZ1bmN0aW9uIG9ucmVxdWVzdCgpIHtcbiAgICBzdHJlYW0ucmVxLm9uKCdmaW5pc2gnLCBvbmZpbmlzaCk7XG4gIH07XG4gIGlmIChpc1JlcXVlc3Qoc3RyZWFtKSkge1xuICAgIHN0cmVhbS5vbignY29tcGxldGUnLCBvbmZpbmlzaCk7XG4gICAgc3RyZWFtLm9uKCdhYm9ydCcsIG9uY2xvc2UpO1xuICAgIGlmIChzdHJlYW0ucmVxKSBvbnJlcXVlc3QoKTtlbHNlIHN0cmVhbS5vbigncmVxdWVzdCcsIG9ucmVxdWVzdCk7XG4gIH0gZWxzZSBpZiAod3JpdGFibGUgJiYgIXN0cmVhbS5fd3JpdGFibGVTdGF0ZSkge1xuICAgIC8vIGxlZ2FjeSBzdHJlYW1zXG4gICAgc3RyZWFtLm9uKCdlbmQnLCBvbmxlZ2FjeWZpbmlzaCk7XG4gICAgc3RyZWFtLm9uKCdjbG9zZScsIG9ubGVnYWN5ZmluaXNoKTtcbiAgfVxuICBzdHJlYW0ub24oJ2VuZCcsIG9uZW5kKTtcbiAgc3RyZWFtLm9uKCdmaW5pc2gnLCBvbmZpbmlzaCk7XG4gIGlmIChvcHRzLmVycm9yICE9PSBmYWxzZSkgc3RyZWFtLm9uKCdlcnJvcicsIG9uZXJyb3IpO1xuICBzdHJlYW0ub24oJ2Nsb3NlJywgb25jbG9zZSk7XG4gIHJldHVybiBmdW5jdGlvbiAoKSB7XG4gICAgc3RyZWFtLnJlbW92ZUxpc3RlbmVyKCdjb21wbGV0ZScsIG9uZmluaXNoKTtcbiAgICBzdHJlYW0ucmVtb3ZlTGlzdGVuZXIoJ2Fib3J0Jywgb25jbG9zZSk7XG4gICAgc3RyZWFtLnJlbW92ZUxpc3RlbmVyKCdyZXF1ZXN0Jywgb25yZXF1ZXN0KTtcbiAgICBpZiAoc3RyZWFtLnJlcSkgc3RyZWFtLnJlcS5yZW1vdmVMaXN0ZW5lcignZmluaXNoJywgb25maW5pc2gpO1xuICAgIHN0cmVhbS5yZW1vdmVMaXN0ZW5lcignZW5kJywgb25sZWdhY3lmaW5pc2gpO1xuICAgIHN0cmVhbS5yZW1vdmVMaXN0ZW5lcignY2xvc2UnLCBvbmxlZ2FjeWZpbmlzaCk7XG4gICAgc3RyZWFtLnJlbW92ZUxpc3RlbmVyKCdmaW5pc2gnLCBvbmZpbmlzaCk7XG4gICAgc3RyZWFtLnJlbW92ZUxpc3RlbmVyKCdlbmQnLCBvbmVuZCk7XG4gICAgc3RyZWFtLnJlbW92ZUxpc3RlbmVyKCdlcnJvcicsIG9uZXJyb3IpO1xuICAgIHN0cmVhbS5yZW1vdmVMaXN0ZW5lcignY2xvc2UnLCBvbmNsb3NlKTtcbiAgfTtcbn1cbm1vZHVsZS5leHBvcnRzID0gZW9zOyIsICIndXNlIHN0cmljdCc7XG5cbnZhciBfT2JqZWN0JHNldFByb3RvdHlwZU87XG5mdW5jdGlvbiBfZGVmaW5lUHJvcGVydHkob2JqLCBrZXksIHZhbHVlKSB7IGtleSA9IF90b1Byb3BlcnR5S2V5KGtleSk7IGlmIChrZXkgaW4gb2JqKSB7IE9iamVjdC5kZWZpbmVQcm9wZXJ0eShvYmosIGtleSwgeyB2YWx1ZTogdmFsdWUsIGVudW1lcmFibGU6IHRydWUsIGNvbmZpZ3VyYWJsZTogdHJ1ZSwgd3JpdGFibGU6IHRydWUgfSk7IH0gZWxzZSB7IG9ialtrZXldID0gdmFsdWU7IH0gcmV0dXJuIG9iajsgfVxuZnVuY3Rpb24gX3RvUHJvcGVydHlLZXkoYXJnKSB7IHZhciBrZXkgPSBfdG9QcmltaXRpdmUoYXJnLCBcInN0cmluZ1wiKTsgcmV0dXJuIHR5cGVvZiBrZXkgPT09IFwic3ltYm9sXCIgPyBrZXkgOiBTdHJpbmcoa2V5KTsgfVxuZnVuY3Rpb24gX3RvUHJpbWl0aXZlKGlucHV0LCBoaW50KSB7IGlmICh0eXBlb2YgaW5wdXQgIT09IFwib2JqZWN0XCIgfHwgaW5wdXQgPT09IG51bGwpIHJldHVybiBpbnB1dDsgdmFyIHByaW0gPSBpbnB1dFtTeW1ib2wudG9QcmltaXRpdmVdOyBpZiAocHJpbSAhPT0gdW5kZWZpbmVkKSB7IHZhciByZXMgPSBwcmltLmNhbGwoaW5wdXQsIGhpbnQgfHwgXCJkZWZhdWx0XCIpOyBpZiAodHlwZW9mIHJlcyAhPT0gXCJvYmplY3RcIikgcmV0dXJuIHJlczsgdGhyb3cgbmV3IFR5cGVFcnJvcihcIkBAdG9QcmltaXRpdmUgbXVzdCByZXR1cm4gYSBwcmltaXRpdmUgdmFsdWUuXCIpOyB9IHJldHVybiAoaGludCA9PT0gXCJzdHJpbmdcIiA/IFN0cmluZyA6IE51bWJlcikoaW5wdXQpOyB9XG52YXIgZmluaXNoZWQgPSByZXF1aXJlKCcuL2VuZC1vZi1zdHJlYW0nKTtcbnZhciBrTGFzdFJlc29sdmUgPSBTeW1ib2woJ2xhc3RSZXNvbHZlJyk7XG52YXIga0xhc3RSZWplY3QgPSBTeW1ib2woJ2xhc3RSZWplY3QnKTtcbnZhciBrRXJyb3IgPSBTeW1ib2woJ2Vycm9yJyk7XG52YXIga0VuZGVkID0gU3ltYm9sKCdlbmRlZCcpO1xudmFyIGtMYXN0UHJvbWlzZSA9IFN5bWJvbCgnbGFzdFByb21pc2UnKTtcbnZhciBrSGFuZGxlUHJvbWlzZSA9IFN5bWJvbCgnaGFuZGxlUHJvbWlzZScpO1xudmFyIGtTdHJlYW0gPSBTeW1ib2woJ3N0cmVhbScpO1xuZnVuY3Rpb24gY3JlYXRlSXRlclJlc3VsdCh2YWx1ZSwgZG9uZSkge1xuICByZXR1cm4ge1xuICAgIHZhbHVlOiB2YWx1ZSxcbiAgICBkb25lOiBkb25lXG4gIH07XG59XG5mdW5jdGlvbiByZWFkQW5kUmVzb2x2ZShpdGVyKSB7XG4gIHZhciByZXNvbHZlID0gaXRlcltrTGFzdFJlc29sdmVdO1xuICBpZiAocmVzb2x2ZSAhPT0gbnVsbCkge1xuICAgIHZhciBkYXRhID0gaXRlcltrU3RyZWFtXS5yZWFkKCk7XG4gICAgLy8gd2UgZGVmZXIgaWYgZGF0YSBpcyBudWxsXG4gICAgLy8gd2UgY2FuIGJlIGV4cGVjdGluZyBlaXRoZXIgJ2VuZCcgb3JcbiAgICAvLyAnZXJyb3InXG4gICAgaWYgKGRhdGEgIT09IG51bGwpIHtcbiAgICAgIGl0ZXJba0xhc3RQcm9taXNlXSA9IG51bGw7XG4gICAgICBpdGVyW2tMYXN0UmVzb2x2ZV0gPSBudWxsO1xuICAgICAgaXRlcltrTGFzdFJlamVjdF0gPSBudWxsO1xuICAgICAgcmVzb2x2ZShjcmVhdGVJdGVyUmVzdWx0KGRhdGEsIGZhbHNlKSk7XG4gICAgfVxuICB9XG59XG5mdW5jdGlvbiBvblJlYWRhYmxlKGl0ZXIpIHtcbiAgLy8gd2Ugd2FpdCBmb3IgdGhlIG5leHQgdGljaywgYmVjYXVzZSBpdCBtaWdodFxuICAvLyBlbWl0IGFuIGVycm9yIHdpdGggcHJvY2Vzcy5uZXh0VGlja1xuICBwcm9jZXNzLm5leHRUaWNrKHJlYWRBbmRSZXNvbHZlLCBpdGVyKTtcbn1cbmZ1bmN0aW9uIHdyYXBGb3JOZXh0KGxhc3RQcm9taXNlLCBpdGVyKSB7XG4gIHJldHVybiBmdW5jdGlvbiAocmVzb2x2ZSwgcmVqZWN0KSB7XG4gICAgbGFzdFByb21pc2UudGhlbihmdW5jdGlvbiAoKSB7XG4gICAgICBpZiAoaXRlcltrRW5kZWRdKSB7XG4gICAgICAgIHJlc29sdmUoY3JlYXRlSXRlclJlc3VsdCh1bmRlZmluZWQsIHRydWUpKTtcbiAgICAgICAgcmV0dXJuO1xuICAgICAgfVxuICAgICAgaXRlcltrSGFuZGxlUHJvbWlzZV0ocmVzb2x2ZSwgcmVqZWN0KTtcbiAgICB9LCByZWplY3QpO1xuICB9O1xufVxudmFyIEFzeW5jSXRlcmF0b3JQcm90b3R5cGUgPSBPYmplY3QuZ2V0UHJvdG90eXBlT2YoZnVuY3Rpb24gKCkge30pO1xudmFyIFJlYWRhYmxlU3RyZWFtQXN5bmNJdGVyYXRvclByb3RvdHlwZSA9IE9iamVjdC5zZXRQcm90b3R5cGVPZigoX09iamVjdCRzZXRQcm90b3R5cGVPID0ge1xuICBnZXQgc3RyZWFtKCkge1xuICAgIHJldHVybiB0aGlzW2tTdHJlYW1dO1xuICB9LFxuICBuZXh0OiBmdW5jdGlvbiBuZXh0KCkge1xuICAgIHZhciBfdGhpcyA9IHRoaXM7XG4gICAgLy8gaWYgd2UgaGF2ZSBkZXRlY3RlZCBhbiBlcnJvciBpbiB0aGUgbWVhbndoaWxlXG4gICAgLy8gcmVqZWN0IHN0cmFpZ2h0IGF3YXlcbiAgICB2YXIgZXJyb3IgPSB0aGlzW2tFcnJvcl07XG4gICAgaWYgKGVycm9yICE9PSBudWxsKSB7XG4gICAgICByZXR1cm4gUHJvbWlzZS5yZWplY3QoZXJyb3IpO1xuICAgIH1cbiAgICBpZiAodGhpc1trRW5kZWRdKSB7XG4gICAgICByZXR1cm4gUHJvbWlzZS5yZXNvbHZlKGNyZWF0ZUl0ZXJSZXN1bHQodW5kZWZpbmVkLCB0cnVlKSk7XG4gICAgfVxuICAgIGlmICh0aGlzW2tTdHJlYW1dLmRlc3Ryb3llZCkge1xuICAgICAgLy8gV2UgbmVlZCB0byBkZWZlciB2aWEgbmV4dFRpY2sgYmVjYXVzZSBpZiAuZGVzdHJveShlcnIpIGlzXG4gICAgICAvLyBjYWxsZWQsIHRoZSBlcnJvciB3aWxsIGJlIGVtaXR0ZWQgdmlhIG5leHRUaWNrLCBhbmRcbiAgICAgIC8vIHdlIGNhbm5vdCBndWFyYW50ZWUgdGhhdCB0aGVyZSBpcyBubyBlcnJvciBsaW5nZXJpbmcgYXJvdW5kXG4gICAgICAvLyB3YWl0aW5nIHRvIGJlIGVtaXR0ZWQuXG4gICAgICByZXR1cm4gbmV3IFByb21pc2UoZnVuY3Rpb24gKHJlc29sdmUsIHJlamVjdCkge1xuICAgICAgICBwcm9jZXNzLm5leHRUaWNrKGZ1bmN0aW9uICgpIHtcbiAgICAgICAgICBpZiAoX3RoaXNba0Vycm9yXSkge1xuICAgICAgICAgICAgcmVqZWN0KF90aGlzW2tFcnJvcl0pO1xuICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICByZXNvbHZlKGNyZWF0ZUl0ZXJSZXN1bHQodW5kZWZpbmVkLCB0cnVlKSk7XG4gICAgICAgICAgfVxuICAgICAgICB9KTtcbiAgICAgIH0pO1xuICAgIH1cblxuICAgIC8vIGlmIHdlIGhhdmUgbXVsdGlwbGUgbmV4dCgpIGNhbGxzXG4gICAgLy8gd2Ugd2lsbCB3YWl0IGZvciB0aGUgcHJldmlvdXMgUHJvbWlzZSB0byBmaW5pc2hcbiAgICAvLyB0aGlzIGxvZ2ljIGlzIG9wdGltaXplZCB0byBzdXBwb3J0IGZvciBhd2FpdCBsb29wcyxcbiAgICAvLyB3aGVyZSBuZXh0KCkgaXMgb25seSBjYWxsZWQgb25jZSBhdCBhIHRpbWVcbiAgICB2YXIgbGFzdFByb21pc2UgPSB0aGlzW2tMYXN0UHJvbWlzZV07XG4gICAgdmFyIHByb21pc2U7XG4gICAgaWYgKGxhc3RQcm9taXNlKSB7XG4gICAgICBwcm9taXNlID0gbmV3IFByb21pc2Uod3JhcEZvck5leHQobGFzdFByb21pc2UsIHRoaXMpKTtcbiAgICB9IGVsc2Uge1xuICAgICAgLy8gZmFzdCBwYXRoIG5lZWRlZCB0byBzdXBwb3J0IG11bHRpcGxlIHRoaXMucHVzaCgpXG4gICAgICAvLyB3aXRob3V0IHRyaWdnZXJpbmcgdGhlIG5leHQoKSBxdWV1ZVxuICAgICAgdmFyIGRhdGEgPSB0aGlzW2tTdHJlYW1dLnJlYWQoKTtcbiAgICAgIGlmIChkYXRhICE9PSBudWxsKSB7XG4gICAgICAgIHJldHVybiBQcm9taXNlLnJlc29sdmUoY3JlYXRlSXRlclJlc3VsdChkYXRhLCBmYWxzZSkpO1xuICAgICAgfVxuICAgICAgcHJvbWlzZSA9IG5ldyBQcm9taXNlKHRoaXNba0hhbmRsZVByb21pc2VdKTtcbiAgICB9XG4gICAgdGhpc1trTGFzdFByb21pc2VdID0gcHJvbWlzZTtcbiAgICByZXR1cm4gcHJvbWlzZTtcbiAgfVxufSwgX2RlZmluZVByb3BlcnR5KF9PYmplY3Qkc2V0UHJvdG90eXBlTywgU3ltYm9sLmFzeW5jSXRlcmF0b3IsIGZ1bmN0aW9uICgpIHtcbiAgcmV0dXJuIHRoaXM7XG59KSwgX2RlZmluZVByb3BlcnR5KF9PYmplY3Qkc2V0UHJvdG90eXBlTywgXCJyZXR1cm5cIiwgZnVuY3Rpb24gX3JldHVybigpIHtcbiAgdmFyIF90aGlzMiA9IHRoaXM7XG4gIC8vIGRlc3Ryb3koZXJyLCBjYikgaXMgYSBwcml2YXRlIEFQSVxuICAvLyB3ZSBjYW4gZ3VhcmFudGVlIHdlIGhhdmUgdGhhdCBoZXJlLCBiZWNhdXNlIHdlIGNvbnRyb2wgdGhlXG4gIC8vIFJlYWRhYmxlIGNsYXNzIHRoaXMgaXMgYXR0YWNoZWQgdG9cbiAgcmV0dXJuIG5ldyBQcm9taXNlKGZ1bmN0aW9uIChyZXNvbHZlLCByZWplY3QpIHtcbiAgICBfdGhpczJba1N0cmVhbV0uZGVzdHJveShudWxsLCBmdW5jdGlvbiAoZXJyKSB7XG4gICAgICBpZiAoZXJyKSB7XG4gICAgICAgIHJlamVjdChlcnIpO1xuICAgICAgICByZXR1cm47XG4gICAgICB9XG4gICAgICByZXNvbHZlKGNyZWF0ZUl0ZXJSZXN1bHQodW5kZWZpbmVkLCB0cnVlKSk7XG4gICAgfSk7XG4gIH0pO1xufSksIF9PYmplY3Qkc2V0UHJvdG90eXBlTyksIEFzeW5jSXRlcmF0b3JQcm90b3R5cGUpO1xudmFyIGNyZWF0ZVJlYWRhYmxlU3RyZWFtQXN5bmNJdGVyYXRvciA9IGZ1bmN0aW9uIGNyZWF0ZVJlYWRhYmxlU3RyZWFtQXN5bmNJdGVyYXRvcihzdHJlYW0pIHtcbiAgdmFyIF9PYmplY3QkY3JlYXRlO1xuICB2YXIgaXRlcmF0b3IgPSBPYmplY3QuY3JlYXRlKFJlYWRhYmxlU3RyZWFtQXN5bmNJdGVyYXRvclByb3RvdHlwZSwgKF9PYmplY3QkY3JlYXRlID0ge30sIF9kZWZpbmVQcm9wZXJ0eShfT2JqZWN0JGNyZWF0ZSwga1N0cmVhbSwge1xuICAgIHZhbHVlOiBzdHJlYW0sXG4gICAgd3JpdGFibGU6IHRydWVcbiAgfSksIF9kZWZpbmVQcm9wZXJ0eShfT2JqZWN0JGNyZWF0ZSwga0xhc3RSZXNvbHZlLCB7XG4gICAgdmFsdWU6IG51bGwsXG4gICAgd3JpdGFibGU6IHRydWVcbiAgfSksIF9kZWZpbmVQcm9wZXJ0eShfT2JqZWN0JGNyZWF0ZSwga0xhc3RSZWplY3QsIHtcbiAgICB2YWx1ZTogbnVsbCxcbiAgICB3cml0YWJsZTogdHJ1ZVxuICB9KSwgX2RlZmluZVByb3BlcnR5KF9PYmplY3QkY3JlYXRlLCBrRXJyb3IsIHtcbiAgICB2YWx1ZTogbnVsbCxcbiAgICB3cml0YWJsZTogdHJ1ZVxuICB9KSwgX2RlZmluZVByb3BlcnR5KF9PYmplY3QkY3JlYXRlLCBrRW5kZWQsIHtcbiAgICB2YWx1ZTogc3RyZWFtLl9yZWFkYWJsZVN0YXRlLmVuZEVtaXR0ZWQsXG4gICAgd3JpdGFibGU6IHRydWVcbiAgfSksIF9kZWZpbmVQcm9wZXJ0eShfT2JqZWN0JGNyZWF0ZSwga0hhbmRsZVByb21pc2UsIHtcbiAgICB2YWx1ZTogZnVuY3Rpb24gdmFsdWUocmVzb2x2ZSwgcmVqZWN0KSB7XG4gICAgICB2YXIgZGF0YSA9IGl0ZXJhdG9yW2tTdHJlYW1dLnJlYWQoKTtcbiAgICAgIGlmIChkYXRhKSB7XG4gICAgICAgIGl0ZXJhdG9yW2tMYXN0UHJvbWlzZV0gPSBudWxsO1xuICAgICAgICBpdGVyYXRvcltrTGFzdFJlc29sdmVdID0gbnVsbDtcbiAgICAgICAgaXRlcmF0b3Jba0xhc3RSZWplY3RdID0gbnVsbDtcbiAgICAgICAgcmVzb2x2ZShjcmVhdGVJdGVyUmVzdWx0KGRhdGEsIGZhbHNlKSk7XG4gICAgICB9IGVsc2Uge1xuICAgICAgICBpdGVyYXRvcltrTGFzdFJlc29sdmVdID0gcmVzb2x2ZTtcbiAgICAgICAgaXRlcmF0b3Jba0xhc3RSZWplY3RdID0gcmVqZWN0O1xuICAgICAgfVxuICAgIH0sXG4gICAgd3JpdGFibGU6IHRydWVcbiAgfSksIF9PYmplY3QkY3JlYXRlKSk7XG4gIGl0ZXJhdG9yW2tMYXN0UHJvbWlzZV0gPSBudWxsO1xuICBmaW5pc2hlZChzdHJlYW0sIGZ1bmN0aW9uIChlcnIpIHtcbiAgICBpZiAoZXJyICYmIGVyci5jb2RlICE9PSAnRVJSX1NUUkVBTV9QUkVNQVRVUkVfQ0xPU0UnKSB7XG4gICAgICB2YXIgcmVqZWN0ID0gaXRlcmF0b3Jba0xhc3RSZWplY3RdO1xuICAgICAgLy8gcmVqZWN0IGlmIHdlIGFyZSB3YWl0aW5nIGZvciBkYXRhIGluIHRoZSBQcm9taXNlXG4gICAgICAvLyByZXR1cm5lZCBieSBuZXh0KCkgYW5kIHN0b3JlIHRoZSBlcnJvclxuICAgICAgaWYgKHJlamVjdCAhPT0gbnVsbCkge1xuICAgICAgICBpdGVyYXRvcltrTGFzdFByb21pc2VdID0gbnVsbDtcbiAgICAgICAgaXRlcmF0b3Jba0xhc3RSZXNvbHZlXSA9IG51bGw7XG4gICAgICAgIGl0ZXJhdG9yW2tMYXN0UmVqZWN0XSA9IG51bGw7XG4gICAgICAgIHJlamVjdChlcnIpO1xuICAgICAgfVxuICAgICAgaXRlcmF0b3Jba0Vycm9yXSA9IGVycjtcbiAgICAgIHJldHVybjtcbiAgICB9XG4gICAgdmFyIHJlc29sdmUgPSBpdGVyYXRvcltrTGFzdFJlc29sdmVdO1xuICAgIGlmIChyZXNvbHZlICE9PSBudWxsKSB7XG4gICAgICBpdGVyYXRvcltrTGFzdFByb21pc2VdID0gbnVsbDtcbiAgICAgIGl0ZXJhdG9yW2tMYXN0UmVzb2x2ZV0gPSBudWxsO1xuICAgICAgaXRlcmF0b3Jba0xhc3RSZWplY3RdID0gbnVsbDtcbiAgICAgIHJlc29sdmUoY3JlYXRlSXRlclJlc3VsdCh1bmRlZmluZWQsIHRydWUpKTtcbiAgICB9XG4gICAgaXRlcmF0b3Jba0VuZGVkXSA9IHRydWU7XG4gIH0pO1xuICBzdHJlYW0ub24oJ3JlYWRhYmxlJywgb25SZWFkYWJsZS5iaW5kKG51bGwsIGl0ZXJhdG9yKSk7XG4gIHJldHVybiBpdGVyYXRvcjtcbn07XG5tb2R1bGUuZXhwb3J0cyA9IGNyZWF0ZVJlYWRhYmxlU3RyZWFtQXN5bmNJdGVyYXRvcjsiLCAibW9kdWxlLmV4cG9ydHMgPSBmdW5jdGlvbiAoKSB7XG4gIHRocm93IG5ldyBFcnJvcignUmVhZGFibGUuZnJvbSBpcyBub3QgYXZhaWxhYmxlIGluIHRoZSBicm93c2VyJylcbn07XG4iLCAiLy8gQ29weXJpZ2h0IEpveWVudCwgSW5jLiBhbmQgb3RoZXIgTm9kZSBjb250cmlidXRvcnMuXG4vL1xuLy8gUGVybWlzc2lvbiBpcyBoZXJlYnkgZ3JhbnRlZCwgZnJlZSBvZiBjaGFyZ2UsIHRvIGFueSBwZXJzb24gb2J0YWluaW5nIGFcbi8vIGNvcHkgb2YgdGhpcyBzb2Z0d2FyZSBhbmQgYXNzb2NpYXRlZCBkb2N1bWVudGF0aW9uIGZpbGVzICh0aGVcbi8vIFwiU29mdHdhcmVcIiksIHRvIGRlYWwgaW4gdGhlIFNvZnR3YXJlIHdpdGhvdXQgcmVzdHJpY3Rpb24sIGluY2x1ZGluZ1xuLy8gd2l0aG91dCBsaW1pdGF0aW9uIHRoZSByaWdodHMgdG8gdXNlLCBjb3B5LCBtb2RpZnksIG1lcmdlLCBwdWJsaXNoLFxuLy8gZGlzdHJpYnV0ZSwgc3VibGljZW5zZSwgYW5kL29yIHNlbGwgY29waWVzIG9mIHRoZSBTb2Z0d2FyZSwgYW5kIHRvIHBlcm1pdFxuLy8gcGVyc29ucyB0byB3aG9tIHRoZSBTb2Z0d2FyZSBpcyBmdXJuaXNoZWQgdG8gZG8gc28sIHN1YmplY3QgdG8gdGhlXG4vLyBmb2xsb3dpbmcgY29uZGl0aW9uczpcbi8vXG4vLyBUaGUgYWJvdmUgY29weXJpZ2h0IG5vdGljZSBhbmQgdGhpcyBwZXJtaXNzaW9uIG5vdGljZSBzaGFsbCBiZSBpbmNsdWRlZFxuLy8gaW4gYWxsIGNvcGllcyBvciBzdWJzdGFudGlhbCBwb3J0aW9ucyBvZiB0aGUgU29mdHdhcmUuXG4vL1xuLy8gVEhFIFNPRlRXQVJFIElTIFBST1ZJREVEIFwiQVMgSVNcIiwgV0lUSE9VVCBXQVJSQU5UWSBPRiBBTlkgS0lORCwgRVhQUkVTU1xuLy8gT1IgSU1QTElFRCwgSU5DTFVESU5HIEJVVCBOT1QgTElNSVRFRCBUTyBUSEUgV0FSUkFOVElFUyBPRlxuLy8gTUVSQ0hBTlRBQklMSVRZLCBGSVRORVNTIEZPUiBBIFBBUlRJQ1VMQVIgUFVSUE9TRSBBTkQgTk9OSU5GUklOR0VNRU5ULiBJTlxuLy8gTk8gRVZFTlQgU0hBTEwgVEhFIEFVVEhPUlMgT1IgQ09QWVJJR0hUIEhPTERFUlMgQkUgTElBQkxFIEZPUiBBTlkgQ0xBSU0sXG4vLyBEQU1BR0VTIE9SIE9USEVSIExJQUJJTElUWSwgV0hFVEhFUiBJTiBBTiBBQ1RJT04gT0YgQ09OVFJBQ1QsIFRPUlQgT1Jcbi8vIE9USEVSV0lTRSwgQVJJU0lORyBGUk9NLCBPVVQgT0YgT1IgSU4gQ09OTkVDVElPTiBXSVRIIFRIRSBTT0ZUV0FSRSBPUiBUSEVcbi8vIFVTRSBPUiBPVEhFUiBERUFMSU5HUyBJTiBUSEUgU09GVFdBUkUuXG5cbid1c2Ugc3RyaWN0JztcblxubW9kdWxlLmV4cG9ydHMgPSBSZWFkYWJsZTtcblxuLyo8cmVwbGFjZW1lbnQ+Ki9cbnZhciBEdXBsZXg7XG4vKjwvcmVwbGFjZW1lbnQ+Ki9cblxuUmVhZGFibGUuUmVhZGFibGVTdGF0ZSA9IFJlYWRhYmxlU3RhdGU7XG5cbi8qPHJlcGxhY2VtZW50PiovXG52YXIgRUUgPSByZXF1aXJlKCdldmVudHMnKS5FdmVudEVtaXR0ZXI7XG52YXIgRUVsaXN0ZW5lckNvdW50ID0gZnVuY3Rpb24gRUVsaXN0ZW5lckNvdW50KGVtaXR0ZXIsIHR5cGUpIHtcbiAgcmV0dXJuIGVtaXR0ZXIubGlzdGVuZXJzKHR5cGUpLmxlbmd0aDtcbn07XG4vKjwvcmVwbGFjZW1lbnQ+Ki9cblxuLyo8cmVwbGFjZW1lbnQ+Ki9cbnZhciBTdHJlYW0gPSByZXF1aXJlKCcuL2ludGVybmFsL3N0cmVhbXMvc3RyZWFtJyk7XG4vKjwvcmVwbGFjZW1lbnQ+Ki9cblxudmFyIEJ1ZmZlciA9IHJlcXVpcmUoJ2J1ZmZlcicpLkJ1ZmZlcjtcbnZhciBPdXJVaW50OEFycmF5ID0gKHR5cGVvZiBnbG9iYWwgIT09ICd1bmRlZmluZWQnID8gZ2xvYmFsIDogdHlwZW9mIHdpbmRvdyAhPT0gJ3VuZGVmaW5lZCcgPyB3aW5kb3cgOiB0eXBlb2Ygc2VsZiAhPT0gJ3VuZGVmaW5lZCcgPyBzZWxmIDoge30pLlVpbnQ4QXJyYXkgfHwgZnVuY3Rpb24gKCkge307XG5mdW5jdGlvbiBfdWludDhBcnJheVRvQnVmZmVyKGNodW5rKSB7XG4gIHJldHVybiBCdWZmZXIuZnJvbShjaHVuayk7XG59XG5mdW5jdGlvbiBfaXNVaW50OEFycmF5KG9iaikge1xuICByZXR1cm4gQnVmZmVyLmlzQnVmZmVyKG9iaikgfHwgb2JqIGluc3RhbmNlb2YgT3VyVWludDhBcnJheTtcbn1cblxuLyo8cmVwbGFjZW1lbnQ+Ki9cbnZhciBkZWJ1Z1V0aWwgPSByZXF1aXJlKCd1dGlsJyk7XG52YXIgZGVidWc7XG5pZiAoZGVidWdVdGlsICYmIGRlYnVnVXRpbC5kZWJ1Z2xvZykge1xuICBkZWJ1ZyA9IGRlYnVnVXRpbC5kZWJ1Z2xvZygnc3RyZWFtJyk7XG59IGVsc2Uge1xuICBkZWJ1ZyA9IGZ1bmN0aW9uIGRlYnVnKCkge307XG59XG4vKjwvcmVwbGFjZW1lbnQ+Ki9cblxudmFyIEJ1ZmZlckxpc3QgPSByZXF1aXJlKCcuL2ludGVybmFsL3N0cmVhbXMvYnVmZmVyX2xpc3QnKTtcbnZhciBkZXN0cm95SW1wbCA9IHJlcXVpcmUoJy4vaW50ZXJuYWwvc3RyZWFtcy9kZXN0cm95Jyk7XG52YXIgX3JlcXVpcmUgPSByZXF1aXJlKCcuL2ludGVybmFsL3N0cmVhbXMvc3RhdGUnKSxcbiAgZ2V0SGlnaFdhdGVyTWFyayA9IF9yZXF1aXJlLmdldEhpZ2hXYXRlck1hcms7XG52YXIgX3JlcXVpcmUkY29kZXMgPSByZXF1aXJlKCcuLi9lcnJvcnMnKS5jb2RlcyxcbiAgRVJSX0lOVkFMSURfQVJHX1RZUEUgPSBfcmVxdWlyZSRjb2Rlcy5FUlJfSU5WQUxJRF9BUkdfVFlQRSxcbiAgRVJSX1NUUkVBTV9QVVNIX0FGVEVSX0VPRiA9IF9yZXF1aXJlJGNvZGVzLkVSUl9TVFJFQU1fUFVTSF9BRlRFUl9FT0YsXG4gIEVSUl9NRVRIT0RfTk9UX0lNUExFTUVOVEVEID0gX3JlcXVpcmUkY29kZXMuRVJSX01FVEhPRF9OT1RfSU1QTEVNRU5URUQsXG4gIEVSUl9TVFJFQU1fVU5TSElGVF9BRlRFUl9FTkRfRVZFTlQgPSBfcmVxdWlyZSRjb2Rlcy5FUlJfU1RSRUFNX1VOU0hJRlRfQUZURVJfRU5EX0VWRU5UO1xuXG4vLyBMYXp5IGxvYWRlZCB0byBpbXByb3ZlIHRoZSBzdGFydHVwIHBlcmZvcm1hbmNlLlxudmFyIFN0cmluZ0RlY29kZXI7XG52YXIgY3JlYXRlUmVhZGFibGVTdHJlYW1Bc3luY0l0ZXJhdG9yO1xudmFyIGZyb207XG5yZXF1aXJlKCdpbmhlcml0cycpKFJlYWRhYmxlLCBTdHJlYW0pO1xudmFyIGVycm9yT3JEZXN0cm95ID0gZGVzdHJveUltcGwuZXJyb3JPckRlc3Ryb3k7XG52YXIga1Byb3h5RXZlbnRzID0gWydlcnJvcicsICdjbG9zZScsICdkZXN0cm95JywgJ3BhdXNlJywgJ3Jlc3VtZSddO1xuZnVuY3Rpb24gcHJlcGVuZExpc3RlbmVyKGVtaXR0ZXIsIGV2ZW50LCBmbikge1xuICAvLyBTYWRseSB0aGlzIGlzIG5vdCBjYWNoZWFibGUgYXMgc29tZSBsaWJyYXJpZXMgYnVuZGxlIHRoZWlyIG93blxuICAvLyBldmVudCBlbWl0dGVyIGltcGxlbWVudGF0aW9uIHdpdGggdGhlbS5cbiAgaWYgKHR5cGVvZiBlbWl0dGVyLnByZXBlbmRMaXN0ZW5lciA9PT0gJ2Z1bmN0aW9uJykgcmV0dXJuIGVtaXR0ZXIucHJlcGVuZExpc3RlbmVyKGV2ZW50LCBmbik7XG5cbiAgLy8gVGhpcyBpcyBhIGhhY2sgdG8gbWFrZSBzdXJlIHRoYXQgb3VyIGVycm9yIGhhbmRsZXIgaXMgYXR0YWNoZWQgYmVmb3JlIGFueVxuICAvLyB1c2VybGFuZCBvbmVzLiAgTkVWRVIgRE8gVEhJUy4gVGhpcyBpcyBoZXJlIG9ubHkgYmVjYXVzZSB0aGlzIGNvZGUgbmVlZHNcbiAgLy8gdG8gY29udGludWUgdG8gd29yayB3aXRoIG9sZGVyIHZlcnNpb25zIG9mIE5vZGUuanMgdGhhdCBkbyBub3QgaW5jbHVkZVxuICAvLyB0aGUgcHJlcGVuZExpc3RlbmVyKCkgbWV0aG9kLiBUaGUgZ29hbCBpcyB0byBldmVudHVhbGx5IHJlbW92ZSB0aGlzIGhhY2suXG4gIGlmICghZW1pdHRlci5fZXZlbnRzIHx8ICFlbWl0dGVyLl9ldmVudHNbZXZlbnRdKSBlbWl0dGVyLm9uKGV2ZW50LCBmbik7ZWxzZSBpZiAoQXJyYXkuaXNBcnJheShlbWl0dGVyLl9ldmVudHNbZXZlbnRdKSkgZW1pdHRlci5fZXZlbnRzW2V2ZW50XS51bnNoaWZ0KGZuKTtlbHNlIGVtaXR0ZXIuX2V2ZW50c1tldmVudF0gPSBbZm4sIGVtaXR0ZXIuX2V2ZW50c1tldmVudF1dO1xufVxuZnVuY3Rpb24gUmVhZGFibGVTdGF0ZShvcHRpb25zLCBzdHJlYW0sIGlzRHVwbGV4KSB7XG4gIER1cGxleCA9IER1cGxleCB8fCByZXF1aXJlKCcuL19zdHJlYW1fZHVwbGV4Jyk7XG4gIG9wdGlvbnMgPSBvcHRpb25zIHx8IHt9O1xuXG4gIC8vIER1cGxleCBzdHJlYW1zIGFyZSBib3RoIHJlYWRhYmxlIGFuZCB3cml0YWJsZSwgYnV0IHNoYXJlXG4gIC8vIHRoZSBzYW1lIG9wdGlvbnMgb2JqZWN0LlxuICAvLyBIb3dldmVyLCBzb21lIGNhc2VzIHJlcXVpcmUgc2V0dGluZyBvcHRpb25zIHRvIGRpZmZlcmVudFxuICAvLyB2YWx1ZXMgZm9yIHRoZSByZWFkYWJsZSBhbmQgdGhlIHdyaXRhYmxlIHNpZGVzIG9mIHRoZSBkdXBsZXggc3RyZWFtLlxuICAvLyBUaGVzZSBvcHRpb25zIGNhbiBiZSBwcm92aWRlZCBzZXBhcmF0ZWx5IGFzIHJlYWRhYmxlWFhYIGFuZCB3cml0YWJsZVhYWC5cbiAgaWYgKHR5cGVvZiBpc0R1cGxleCAhPT0gJ2Jvb2xlYW4nKSBpc0R1cGxleCA9IHN0cmVhbSBpbnN0YW5jZW9mIER1cGxleDtcblxuICAvLyBvYmplY3Qgc3RyZWFtIGZsYWcuIFVzZWQgdG8gbWFrZSByZWFkKG4pIGlnbm9yZSBuIGFuZCB0b1xuICAvLyBtYWtlIGFsbCB0aGUgYnVmZmVyIG1lcmdpbmcgYW5kIGxlbmd0aCBjaGVja3MgZ28gYXdheVxuICB0aGlzLm9iamVjdE1vZGUgPSAhIW9wdGlvbnMub2JqZWN0TW9kZTtcbiAgaWYgKGlzRHVwbGV4KSB0aGlzLm9iamVjdE1vZGUgPSB0aGlzLm9iamVjdE1vZGUgfHwgISFvcHRpb25zLnJlYWRhYmxlT2JqZWN0TW9kZTtcblxuICAvLyB0aGUgcG9pbnQgYXQgd2hpY2ggaXQgc3RvcHMgY2FsbGluZyBfcmVhZCgpIHRvIGZpbGwgdGhlIGJ1ZmZlclxuICAvLyBOb3RlOiAwIGlzIGEgdmFsaWQgdmFsdWUsIG1lYW5zIFwiZG9uJ3QgY2FsbCBfcmVhZCBwcmVlbXB0aXZlbHkgZXZlclwiXG4gIHRoaXMuaGlnaFdhdGVyTWFyayA9IGdldEhpZ2hXYXRlck1hcmsodGhpcywgb3B0aW9ucywgJ3JlYWRhYmxlSGlnaFdhdGVyTWFyaycsIGlzRHVwbGV4KTtcblxuICAvLyBBIGxpbmtlZCBsaXN0IGlzIHVzZWQgdG8gc3RvcmUgZGF0YSBjaHVua3MgaW5zdGVhZCBvZiBhbiBhcnJheSBiZWNhdXNlIHRoZVxuICAvLyBsaW5rZWQgbGlzdCBjYW4gcmVtb3ZlIGVsZW1lbnRzIGZyb20gdGhlIGJlZ2lubmluZyBmYXN0ZXIgdGhhblxuICAvLyBhcnJheS5zaGlmdCgpXG4gIHRoaXMuYnVmZmVyID0gbmV3IEJ1ZmZlckxpc3QoKTtcbiAgdGhpcy5sZW5ndGggPSAwO1xuICB0aGlzLnBpcGVzID0gbnVsbDtcbiAgdGhpcy5waXBlc0NvdW50ID0gMDtcbiAgdGhpcy5mbG93aW5nID0gbnVsbDtcbiAgdGhpcy5lbmRlZCA9IGZhbHNlO1xuICB0aGlzLmVuZEVtaXR0ZWQgPSBmYWxzZTtcbiAgdGhpcy5yZWFkaW5nID0gZmFsc2U7XG5cbiAgLy8gYSBmbGFnIHRvIGJlIGFibGUgdG8gdGVsbCBpZiB0aGUgZXZlbnQgJ3JlYWRhYmxlJy8nZGF0YScgaXMgZW1pdHRlZFxuICAvLyBpbW1lZGlhdGVseSwgb3Igb24gYSBsYXRlciB0aWNrLiAgV2Ugc2V0IHRoaXMgdG8gdHJ1ZSBhdCBmaXJzdCwgYmVjYXVzZVxuICAvLyBhbnkgYWN0aW9ucyB0aGF0IHNob3VsZG4ndCBoYXBwZW4gdW50aWwgXCJsYXRlclwiIHNob3VsZCBnZW5lcmFsbHkgYWxzb1xuICAvLyBub3QgaGFwcGVuIGJlZm9yZSB0aGUgZmlyc3QgcmVhZCBjYWxsLlxuICB0aGlzLnN5bmMgPSB0cnVlO1xuXG4gIC8vIHdoZW5ldmVyIHdlIHJldHVybiBudWxsLCB0aGVuIHdlIHNldCBhIGZsYWcgdG8gc2F5XG4gIC8vIHRoYXQgd2UncmUgYXdhaXRpbmcgYSAncmVhZGFibGUnIGV2ZW50IGVtaXNzaW9uLlxuICB0aGlzLm5lZWRSZWFkYWJsZSA9IGZhbHNlO1xuICB0aGlzLmVtaXR0ZWRSZWFkYWJsZSA9IGZhbHNlO1xuICB0aGlzLnJlYWRhYmxlTGlzdGVuaW5nID0gZmFsc2U7XG4gIHRoaXMucmVzdW1lU2NoZWR1bGVkID0gZmFsc2U7XG4gIHRoaXMucGF1c2VkID0gdHJ1ZTtcblxuICAvLyBTaG91bGQgY2xvc2UgYmUgZW1pdHRlZCBvbiBkZXN0cm95LiBEZWZhdWx0cyB0byB0cnVlLlxuICB0aGlzLmVtaXRDbG9zZSA9IG9wdGlvbnMuZW1pdENsb3NlICE9PSBmYWxzZTtcblxuICAvLyBTaG91bGQgLmRlc3Ryb3koKSBiZSBjYWxsZWQgYWZ0ZXIgJ2VuZCcgKGFuZCBwb3RlbnRpYWxseSAnZmluaXNoJylcbiAgdGhpcy5hdXRvRGVzdHJveSA9ICEhb3B0aW9ucy5hdXRvRGVzdHJveTtcblxuICAvLyBoYXMgaXQgYmVlbiBkZXN0cm95ZWRcbiAgdGhpcy5kZXN0cm95ZWQgPSBmYWxzZTtcblxuICAvLyBDcnlwdG8gaXMga2luZCBvZiBvbGQgYW5kIGNydXN0eS4gIEhpc3RvcmljYWxseSwgaXRzIGRlZmF1bHQgc3RyaW5nXG4gIC8vIGVuY29kaW5nIGlzICdiaW5hcnknIHNvIHdlIGhhdmUgdG8gbWFrZSB0aGlzIGNvbmZpZ3VyYWJsZS5cbiAgLy8gRXZlcnl0aGluZyBlbHNlIGluIHRoZSB1bml2ZXJzZSB1c2VzICd1dGY4JywgdGhvdWdoLlxuICB0aGlzLmRlZmF1bHRFbmNvZGluZyA9IG9wdGlvbnMuZGVmYXVsdEVuY29kaW5nIHx8ICd1dGY4JztcblxuICAvLyB0aGUgbnVtYmVyIG9mIHdyaXRlcnMgdGhhdCBhcmUgYXdhaXRpbmcgYSBkcmFpbiBldmVudCBpbiAucGlwZSgpc1xuICB0aGlzLmF3YWl0RHJhaW4gPSAwO1xuXG4gIC8vIGlmIHRydWUsIGEgbWF5YmVSZWFkTW9yZSBoYXMgYmVlbiBzY2hlZHVsZWRcbiAgdGhpcy5yZWFkaW5nTW9yZSA9IGZhbHNlO1xuICB0aGlzLmRlY29kZXIgPSBudWxsO1xuICB0aGlzLmVuY29kaW5nID0gbnVsbDtcbiAgaWYgKG9wdGlvbnMuZW5jb2RpbmcpIHtcbiAgICBpZiAoIVN0cmluZ0RlY29kZXIpIFN0cmluZ0RlY29kZXIgPSByZXF1aXJlKCdzdHJpbmdfZGVjb2Rlci8nKS5TdHJpbmdEZWNvZGVyO1xuICAgIHRoaXMuZGVjb2RlciA9IG5ldyBTdHJpbmdEZWNvZGVyKG9wdGlvbnMuZW5jb2RpbmcpO1xuICAgIHRoaXMuZW5jb2RpbmcgPSBvcHRpb25zLmVuY29kaW5nO1xuICB9XG59XG5mdW5jdGlvbiBSZWFkYWJsZShvcHRpb25zKSB7XG4gIER1cGxleCA9IER1cGxleCB8fCByZXF1aXJlKCcuL19zdHJlYW1fZHVwbGV4Jyk7XG4gIGlmICghKHRoaXMgaW5zdGFuY2VvZiBSZWFkYWJsZSkpIHJldHVybiBuZXcgUmVhZGFibGUob3B0aW9ucyk7XG5cbiAgLy8gQ2hlY2tpbmcgZm9yIGEgU3RyZWFtLkR1cGxleCBpbnN0YW5jZSBpcyBmYXN0ZXIgaGVyZSBpbnN0ZWFkIG9mIGluc2lkZVxuICAvLyB0aGUgUmVhZGFibGVTdGF0ZSBjb25zdHJ1Y3RvciwgYXQgbGVhc3Qgd2l0aCBWOCA2LjVcbiAgdmFyIGlzRHVwbGV4ID0gdGhpcyBpbnN0YW5jZW9mIER1cGxleDtcbiAgdGhpcy5fcmVhZGFibGVTdGF0ZSA9IG5ldyBSZWFkYWJsZVN0YXRlKG9wdGlvbnMsIHRoaXMsIGlzRHVwbGV4KTtcblxuICAvLyBsZWdhY3lcbiAgdGhpcy5yZWFkYWJsZSA9IHRydWU7XG4gIGlmIChvcHRpb25zKSB7XG4gICAgaWYgKHR5cGVvZiBvcHRpb25zLnJlYWQgPT09ICdmdW5jdGlvbicpIHRoaXMuX3JlYWQgPSBvcHRpb25zLnJlYWQ7XG4gICAgaWYgKHR5cGVvZiBvcHRpb25zLmRlc3Ryb3kgPT09ICdmdW5jdGlvbicpIHRoaXMuX2Rlc3Ryb3kgPSBvcHRpb25zLmRlc3Ryb3k7XG4gIH1cbiAgU3RyZWFtLmNhbGwodGhpcyk7XG59XG5PYmplY3QuZGVmaW5lUHJvcGVydHkoUmVhZGFibGUucHJvdG90eXBlLCAnZGVzdHJveWVkJywge1xuICAvLyBtYWtpbmcgaXQgZXhwbGljaXQgdGhpcyBwcm9wZXJ0eSBpcyBub3QgZW51bWVyYWJsZVxuICAvLyBiZWNhdXNlIG90aGVyd2lzZSBzb21lIHByb3RvdHlwZSBtYW5pcHVsYXRpb24gaW5cbiAgLy8gdXNlcmxhbmQgd2lsbCBmYWlsXG4gIGVudW1lcmFibGU6IGZhbHNlLFxuICBnZXQ6IGZ1bmN0aW9uIGdldCgpIHtcbiAgICBpZiAodGhpcy5fcmVhZGFibGVTdGF0ZSA9PT0gdW5kZWZpbmVkKSB7XG4gICAgICByZXR1cm4gZmFsc2U7XG4gICAgfVxuICAgIHJldHVybiB0aGlzLl9yZWFkYWJsZVN0YXRlLmRlc3Ryb3llZDtcbiAgfSxcbiAgc2V0OiBmdW5jdGlvbiBzZXQodmFsdWUpIHtcbiAgICAvLyB3ZSBpZ25vcmUgdGhlIHZhbHVlIGlmIHRoZSBzdHJlYW1cbiAgICAvLyBoYXMgbm90IGJlZW4gaW5pdGlhbGl6ZWQgeWV0XG4gICAgaWYgKCF0aGlzLl9yZWFkYWJsZVN0YXRlKSB7XG4gICAgICByZXR1cm47XG4gICAgfVxuXG4gICAgLy8gYmFja3dhcmQgY29tcGF0aWJpbGl0eSwgdGhlIHVzZXIgaXMgZXhwbGljaXRseVxuICAgIC8vIG1hbmFnaW5nIGRlc3Ryb3llZFxuICAgIHRoaXMuX3JlYWRhYmxlU3RhdGUuZGVzdHJveWVkID0gdmFsdWU7XG4gIH1cbn0pO1xuUmVhZGFibGUucHJvdG90eXBlLmRlc3Ryb3kgPSBkZXN0cm95SW1wbC5kZXN0cm95O1xuUmVhZGFibGUucHJvdG90eXBlLl91bmRlc3Ryb3kgPSBkZXN0cm95SW1wbC51bmRlc3Ryb3k7XG5SZWFkYWJsZS5wcm90b3R5cGUuX2Rlc3Ryb3kgPSBmdW5jdGlvbiAoZXJyLCBjYikge1xuICBjYihlcnIpO1xufTtcblxuLy8gTWFudWFsbHkgc2hvdmUgc29tZXRoaW5nIGludG8gdGhlIHJlYWQoKSBidWZmZXIuXG4vLyBUaGlzIHJldHVybnMgdHJ1ZSBpZiB0aGUgaGlnaFdhdGVyTWFyayBoYXMgbm90IGJlZW4gaGl0IHlldCxcbi8vIHNpbWlsYXIgdG8gaG93IFdyaXRhYmxlLndyaXRlKCkgcmV0dXJucyB0cnVlIGlmIHlvdSBzaG91bGRcbi8vIHdyaXRlKCkgc29tZSBtb3JlLlxuUmVhZGFibGUucHJvdG90eXBlLnB1c2ggPSBmdW5jdGlvbiAoY2h1bmssIGVuY29kaW5nKSB7XG4gIHZhciBzdGF0ZSA9IHRoaXMuX3JlYWRhYmxlU3RhdGU7XG4gIHZhciBza2lwQ2h1bmtDaGVjaztcbiAgaWYgKCFzdGF0ZS5vYmplY3RNb2RlKSB7XG4gICAgaWYgKHR5cGVvZiBjaHVuayA9PT0gJ3N0cmluZycpIHtcbiAgICAgIGVuY29kaW5nID0gZW5jb2RpbmcgfHwgc3RhdGUuZGVmYXVsdEVuY29kaW5nO1xuICAgICAgaWYgKGVuY29kaW5nICE9PSBzdGF0ZS5lbmNvZGluZykge1xuICAgICAgICBjaHVuayA9IEJ1ZmZlci5mcm9tKGNodW5rLCBlbmNvZGluZyk7XG4gICAgICAgIGVuY29kaW5nID0gJyc7XG4gICAgICB9XG4gICAgICBza2lwQ2h1bmtDaGVjayA9IHRydWU7XG4gICAgfVxuICB9IGVsc2Uge1xuICAgIHNraXBDaHVua0NoZWNrID0gdHJ1ZTtcbiAgfVxuICByZXR1cm4gcmVhZGFibGVBZGRDaHVuayh0aGlzLCBjaHVuaywgZW5jb2RpbmcsIGZhbHNlLCBza2lwQ2h1bmtDaGVjayk7XG59O1xuXG4vLyBVbnNoaWZ0IHNob3VsZCAqYWx3YXlzKiBiZSBzb21ldGhpbmcgZGlyZWN0bHkgb3V0IG9mIHJlYWQoKVxuUmVhZGFibGUucHJvdG90eXBlLnVuc2hpZnQgPSBmdW5jdGlvbiAoY2h1bmspIHtcbiAgcmV0dXJuIHJlYWRhYmxlQWRkQ2h1bmsodGhpcywgY2h1bmssIG51bGwsIHRydWUsIGZhbHNlKTtcbn07XG5mdW5jdGlvbiByZWFkYWJsZUFkZENodW5rKHN0cmVhbSwgY2h1bmssIGVuY29kaW5nLCBhZGRUb0Zyb250LCBza2lwQ2h1bmtDaGVjaykge1xuICBkZWJ1ZygncmVhZGFibGVBZGRDaHVuaycsIGNodW5rKTtcbiAgdmFyIHN0YXRlID0gc3RyZWFtLl9yZWFkYWJsZVN0YXRlO1xuICBpZiAoY2h1bmsgPT09IG51bGwpIHtcbiAgICBzdGF0ZS5yZWFkaW5nID0gZmFsc2U7XG4gICAgb25Fb2ZDaHVuayhzdHJlYW0sIHN0YXRlKTtcbiAgfSBlbHNlIHtcbiAgICB2YXIgZXI7XG4gICAgaWYgKCFza2lwQ2h1bmtDaGVjaykgZXIgPSBjaHVua0ludmFsaWQoc3RhdGUsIGNodW5rKTtcbiAgICBpZiAoZXIpIHtcbiAgICAgIGVycm9yT3JEZXN0cm95KHN0cmVhbSwgZXIpO1xuICAgIH0gZWxzZSBpZiAoc3RhdGUub2JqZWN0TW9kZSB8fCBjaHVuayAmJiBjaHVuay5sZW5ndGggPiAwKSB7XG4gICAgICBpZiAodHlwZW9mIGNodW5rICE9PSAnc3RyaW5nJyAmJiAhc3RhdGUub2JqZWN0TW9kZSAmJiBPYmplY3QuZ2V0UHJvdG90eXBlT2YoY2h1bmspICE9PSBCdWZmZXIucHJvdG90eXBlKSB7XG4gICAgICAgIGNodW5rID0gX3VpbnQ4QXJyYXlUb0J1ZmZlcihjaHVuayk7XG4gICAgICB9XG4gICAgICBpZiAoYWRkVG9Gcm9udCkge1xuICAgICAgICBpZiAoc3RhdGUuZW5kRW1pdHRlZCkgZXJyb3JPckRlc3Ryb3koc3RyZWFtLCBuZXcgRVJSX1NUUkVBTV9VTlNISUZUX0FGVEVSX0VORF9FVkVOVCgpKTtlbHNlIGFkZENodW5rKHN0cmVhbSwgc3RhdGUsIGNodW5rLCB0cnVlKTtcbiAgICAgIH0gZWxzZSBpZiAoc3RhdGUuZW5kZWQpIHtcbiAgICAgICAgZXJyb3JPckRlc3Ryb3koc3RyZWFtLCBuZXcgRVJSX1NUUkVBTV9QVVNIX0FGVEVSX0VPRigpKTtcbiAgICAgIH0gZWxzZSBpZiAoc3RhdGUuZGVzdHJveWVkKSB7XG4gICAgICAgIHJldHVybiBmYWxzZTtcbiAgICAgIH0gZWxzZSB7XG4gICAgICAgIHN0YXRlLnJlYWRpbmcgPSBmYWxzZTtcbiAgICAgICAgaWYgKHN0YXRlLmRlY29kZXIgJiYgIWVuY29kaW5nKSB7XG4gICAgICAgICAgY2h1bmsgPSBzdGF0ZS5kZWNvZGVyLndyaXRlKGNodW5rKTtcbiAgICAgICAgICBpZiAoc3RhdGUub2JqZWN0TW9kZSB8fCBjaHVuay5sZW5ndGggIT09IDApIGFkZENodW5rKHN0cmVhbSwgc3RhdGUsIGNodW5rLCBmYWxzZSk7ZWxzZSBtYXliZVJlYWRNb3JlKHN0cmVhbSwgc3RhdGUpO1xuICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgIGFkZENodW5rKHN0cmVhbSwgc3RhdGUsIGNodW5rLCBmYWxzZSk7XG4gICAgICAgIH1cbiAgICAgIH1cbiAgICB9IGVsc2UgaWYgKCFhZGRUb0Zyb250KSB7XG4gICAgICBzdGF0ZS5yZWFkaW5nID0gZmFsc2U7XG4gICAgICBtYXliZVJlYWRNb3JlKHN0cmVhbSwgc3RhdGUpO1xuICAgIH1cbiAgfVxuXG4gIC8vIFdlIGNhbiBwdXNoIG1vcmUgZGF0YSBpZiB3ZSBhcmUgYmVsb3cgdGhlIGhpZ2hXYXRlck1hcmsuXG4gIC8vIEFsc28sIGlmIHdlIGhhdmUgbm8gZGF0YSB5ZXQsIHdlIGNhbiBzdGFuZCBzb21lIG1vcmUgYnl0ZXMuXG4gIC8vIFRoaXMgaXMgdG8gd29yayBhcm91bmQgY2FzZXMgd2hlcmUgaHdtPTAsIHN1Y2ggYXMgdGhlIHJlcGwuXG4gIHJldHVybiAhc3RhdGUuZW5kZWQgJiYgKHN0YXRlLmxlbmd0aCA8IHN0YXRlLmhpZ2hXYXRlck1hcmsgfHwgc3RhdGUubGVuZ3RoID09PSAwKTtcbn1cbmZ1bmN0aW9uIGFkZENodW5rKHN0cmVhbSwgc3RhdGUsIGNodW5rLCBhZGRUb0Zyb250KSB7XG4gIGlmIChzdGF0ZS5mbG93aW5nICYmIHN0YXRlLmxlbmd0aCA9PT0gMCAmJiAhc3RhdGUuc3luYykge1xuICAgIHN0YXRlLmF3YWl0RHJhaW4gPSAwO1xuICAgIHN0cmVhbS5lbWl0KCdkYXRhJywgY2h1bmspO1xuICB9IGVsc2Uge1xuICAgIC8vIHVwZGF0ZSB0aGUgYnVmZmVyIGluZm8uXG4gICAgc3RhdGUubGVuZ3RoICs9IHN0YXRlLm9iamVjdE1vZGUgPyAxIDogY2h1bmsubGVuZ3RoO1xuICAgIGlmIChhZGRUb0Zyb250KSBzdGF0ZS5idWZmZXIudW5zaGlmdChjaHVuayk7ZWxzZSBzdGF0ZS5idWZmZXIucHVzaChjaHVuayk7XG4gICAgaWYgKHN0YXRlLm5lZWRSZWFkYWJsZSkgZW1pdFJlYWRhYmxlKHN0cmVhbSk7XG4gIH1cbiAgbWF5YmVSZWFkTW9yZShzdHJlYW0sIHN0YXRlKTtcbn1cbmZ1bmN0aW9uIGNodW5rSW52YWxpZChzdGF0ZSwgY2h1bmspIHtcbiAgdmFyIGVyO1xuICBpZiAoIV9pc1VpbnQ4QXJyYXkoY2h1bmspICYmIHR5cGVvZiBjaHVuayAhPT0gJ3N0cmluZycgJiYgY2h1bmsgIT09IHVuZGVmaW5lZCAmJiAhc3RhdGUub2JqZWN0TW9kZSkge1xuICAgIGVyID0gbmV3IEVSUl9JTlZBTElEX0FSR19UWVBFKCdjaHVuaycsIFsnc3RyaW5nJywgJ0J1ZmZlcicsICdVaW50OEFycmF5J10sIGNodW5rKTtcbiAgfVxuICByZXR1cm4gZXI7XG59XG5SZWFkYWJsZS5wcm90b3R5cGUuaXNQYXVzZWQgPSBmdW5jdGlvbiAoKSB7XG4gIHJldHVybiB0aGlzLl9yZWFkYWJsZVN0YXRlLmZsb3dpbmcgPT09IGZhbHNlO1xufTtcblxuLy8gYmFja3dhcmRzIGNvbXBhdGliaWxpdHkuXG5SZWFkYWJsZS5wcm90b3R5cGUuc2V0RW5jb2RpbmcgPSBmdW5jdGlvbiAoZW5jKSB7XG4gIGlmICghU3RyaW5nRGVjb2RlcikgU3RyaW5nRGVjb2RlciA9IHJlcXVpcmUoJ3N0cmluZ19kZWNvZGVyLycpLlN0cmluZ0RlY29kZXI7XG4gIHZhciBkZWNvZGVyID0gbmV3IFN0cmluZ0RlY29kZXIoZW5jKTtcbiAgdGhpcy5fcmVhZGFibGVTdGF0ZS5kZWNvZGVyID0gZGVjb2RlcjtcbiAgLy8gSWYgc2V0RW5jb2RpbmcobnVsbCksIGRlY29kZXIuZW5jb2RpbmcgZXF1YWxzIHV0ZjhcbiAgdGhpcy5fcmVhZGFibGVTdGF0ZS5lbmNvZGluZyA9IHRoaXMuX3JlYWRhYmxlU3RhdGUuZGVjb2Rlci5lbmNvZGluZztcblxuICAvLyBJdGVyYXRlIG92ZXIgY3VycmVudCBidWZmZXIgdG8gY29udmVydCBhbHJlYWR5IHN0b3JlZCBCdWZmZXJzOlxuICB2YXIgcCA9IHRoaXMuX3JlYWRhYmxlU3RhdGUuYnVmZmVyLmhlYWQ7XG4gIHZhciBjb250ZW50ID0gJyc7XG4gIHdoaWxlIChwICE9PSBudWxsKSB7XG4gICAgY29udGVudCArPSBkZWNvZGVyLndyaXRlKHAuZGF0YSk7XG4gICAgcCA9IHAubmV4dDtcbiAgfVxuICB0aGlzLl9yZWFkYWJsZVN0YXRlLmJ1ZmZlci5jbGVhcigpO1xuICBpZiAoY29udGVudCAhPT0gJycpIHRoaXMuX3JlYWRhYmxlU3RhdGUuYnVmZmVyLnB1c2goY29udGVudCk7XG4gIHRoaXMuX3JlYWRhYmxlU3RhdGUubGVuZ3RoID0gY29udGVudC5sZW5ndGg7XG4gIHJldHVybiB0aGlzO1xufTtcblxuLy8gRG9uJ3QgcmFpc2UgdGhlIGh3bSA+IDFHQlxudmFyIE1BWF9IV00gPSAweDQwMDAwMDAwO1xuZnVuY3Rpb24gY29tcHV0ZU5ld0hpZ2hXYXRlck1hcmsobikge1xuICBpZiAobiA+PSBNQVhfSFdNKSB7XG4gICAgLy8gVE9ETyhyb25hZyk6IFRocm93IEVSUl9WQUxVRV9PVVRfT0ZfUkFOR0UuXG4gICAgbiA9IE1BWF9IV007XG4gIH0gZWxzZSB7XG4gICAgLy8gR2V0IHRoZSBuZXh0IGhpZ2hlc3QgcG93ZXIgb2YgMiB0byBwcmV2ZW50IGluY3JlYXNpbmcgaHdtIGV4Y2Vzc2l2ZWx5IGluXG4gICAgLy8gdGlueSBhbW91bnRzXG4gICAgbi0tO1xuICAgIG4gfD0gbiA+Pj4gMTtcbiAgICBuIHw9IG4gPj4+IDI7XG4gICAgbiB8PSBuID4+PiA0O1xuICAgIG4gfD0gbiA+Pj4gODtcbiAgICBuIHw9IG4gPj4+IDE2O1xuICAgIG4rKztcbiAgfVxuICByZXR1cm4gbjtcbn1cblxuLy8gVGhpcyBmdW5jdGlvbiBpcyBkZXNpZ25lZCB0byBiZSBpbmxpbmFibGUsIHNvIHBsZWFzZSB0YWtlIGNhcmUgd2hlbiBtYWtpbmdcbi8vIGNoYW5nZXMgdG8gdGhlIGZ1bmN0aW9uIGJvZHkuXG5mdW5jdGlvbiBob3dNdWNoVG9SZWFkKG4sIHN0YXRlKSB7XG4gIGlmIChuIDw9IDAgfHwgc3RhdGUubGVuZ3RoID09PSAwICYmIHN0YXRlLmVuZGVkKSByZXR1cm4gMDtcbiAgaWYgKHN0YXRlLm9iamVjdE1vZGUpIHJldHVybiAxO1xuICBpZiAobiAhPT0gbikge1xuICAgIC8vIE9ubHkgZmxvdyBvbmUgYnVmZmVyIGF0IGEgdGltZVxuICAgIGlmIChzdGF0ZS5mbG93aW5nICYmIHN0YXRlLmxlbmd0aCkgcmV0dXJuIHN0YXRlLmJ1ZmZlci5oZWFkLmRhdGEubGVuZ3RoO2Vsc2UgcmV0dXJuIHN0YXRlLmxlbmd0aDtcbiAgfVxuICAvLyBJZiB3ZSdyZSBhc2tpbmcgZm9yIG1vcmUgdGhhbiB0aGUgY3VycmVudCBod20sIHRoZW4gcmFpc2UgdGhlIGh3bS5cbiAgaWYgKG4gPiBzdGF0ZS5oaWdoV2F0ZXJNYXJrKSBzdGF0ZS5oaWdoV2F0ZXJNYXJrID0gY29tcHV0ZU5ld0hpZ2hXYXRlck1hcmsobik7XG4gIGlmIChuIDw9IHN0YXRlLmxlbmd0aCkgcmV0dXJuIG47XG4gIC8vIERvbid0IGhhdmUgZW5vdWdoXG4gIGlmICghc3RhdGUuZW5kZWQpIHtcbiAgICBzdGF0ZS5uZWVkUmVhZGFibGUgPSB0cnVlO1xuICAgIHJldHVybiAwO1xuICB9XG4gIHJldHVybiBzdGF0ZS5sZW5ndGg7XG59XG5cbi8vIHlvdSBjYW4gb3ZlcnJpZGUgZWl0aGVyIHRoaXMgbWV0aG9kLCBvciB0aGUgYXN5bmMgX3JlYWQobikgYmVsb3cuXG5SZWFkYWJsZS5wcm90b3R5cGUucmVhZCA9IGZ1bmN0aW9uIChuKSB7XG4gIGRlYnVnKCdyZWFkJywgbik7XG4gIG4gPSBwYXJzZUludChuLCAxMCk7XG4gIHZhciBzdGF0ZSA9IHRoaXMuX3JlYWRhYmxlU3RhdGU7XG4gIHZhciBuT3JpZyA9IG47XG4gIGlmIChuICE9PSAwKSBzdGF0ZS5lbWl0dGVkUmVhZGFibGUgPSBmYWxzZTtcblxuICAvLyBpZiB3ZSdyZSBkb2luZyByZWFkKDApIHRvIHRyaWdnZXIgYSByZWFkYWJsZSBldmVudCwgYnV0IHdlXG4gIC8vIGFscmVhZHkgaGF2ZSBhIGJ1bmNoIG9mIGRhdGEgaW4gdGhlIGJ1ZmZlciwgdGhlbiBqdXN0IHRyaWdnZXJcbiAgLy8gdGhlICdyZWFkYWJsZScgZXZlbnQgYW5kIG1vdmUgb24uXG4gIGlmIChuID09PSAwICYmIHN0YXRlLm5lZWRSZWFkYWJsZSAmJiAoKHN0YXRlLmhpZ2hXYXRlck1hcmsgIT09IDAgPyBzdGF0ZS5sZW5ndGggPj0gc3RhdGUuaGlnaFdhdGVyTWFyayA6IHN0YXRlLmxlbmd0aCA+IDApIHx8IHN0YXRlLmVuZGVkKSkge1xuICAgIGRlYnVnKCdyZWFkOiBlbWl0UmVhZGFibGUnLCBzdGF0ZS5sZW5ndGgsIHN0YXRlLmVuZGVkKTtcbiAgICBpZiAoc3RhdGUubGVuZ3RoID09PSAwICYmIHN0YXRlLmVuZGVkKSBlbmRSZWFkYWJsZSh0aGlzKTtlbHNlIGVtaXRSZWFkYWJsZSh0aGlzKTtcbiAgICByZXR1cm4gbnVsbDtcbiAgfVxuICBuID0gaG93TXVjaFRvUmVhZChuLCBzdGF0ZSk7XG5cbiAgLy8gaWYgd2UndmUgZW5kZWQsIGFuZCB3ZSdyZSBub3cgY2xlYXIsIHRoZW4gZmluaXNoIGl0IHVwLlxuICBpZiAobiA9PT0gMCAmJiBzdGF0ZS5lbmRlZCkge1xuICAgIGlmIChzdGF0ZS5sZW5ndGggPT09IDApIGVuZFJlYWRhYmxlKHRoaXMpO1xuICAgIHJldHVybiBudWxsO1xuICB9XG5cbiAgLy8gQWxsIHRoZSBhY3R1YWwgY2h1bmsgZ2VuZXJhdGlvbiBsb2dpYyBuZWVkcyB0byBiZVxuICAvLyAqYmVsb3cqIHRoZSBjYWxsIHRvIF9yZWFkLiAgVGhlIHJlYXNvbiBpcyB0aGF0IGluIGNlcnRhaW5cbiAgLy8gc3ludGhldGljIHN0cmVhbSBjYXNlcywgc3VjaCBhcyBwYXNzdGhyb3VnaCBzdHJlYW1zLCBfcmVhZFxuICAvLyBtYXkgYmUgYSBjb21wbGV0ZWx5IHN5bmNocm9ub3VzIG9wZXJhdGlvbiB3aGljaCBtYXkgY2hhbmdlXG4gIC8vIHRoZSBzdGF0ZSBvZiB0aGUgcmVhZCBidWZmZXIsIHByb3ZpZGluZyBlbm91Z2ggZGF0YSB3aGVuXG4gIC8vIGJlZm9yZSB0aGVyZSB3YXMgKm5vdCogZW5vdWdoLlxuICAvL1xuICAvLyBTbywgdGhlIHN0ZXBzIGFyZTpcbiAgLy8gMS4gRmlndXJlIG91dCB3aGF0IHRoZSBzdGF0ZSBvZiB0aGluZ3Mgd2lsbCBiZSBhZnRlciB3ZSBkb1xuICAvLyBhIHJlYWQgZnJvbSB0aGUgYnVmZmVyLlxuICAvL1xuICAvLyAyLiBJZiB0aGF0IHJlc3VsdGluZyBzdGF0ZSB3aWxsIHRyaWdnZXIgYSBfcmVhZCwgdGhlbiBjYWxsIF9yZWFkLlxuICAvLyBOb3RlIHRoYXQgdGhpcyBtYXkgYmUgYXN5bmNocm9ub3VzLCBvciBzeW5jaHJvbm91cy4gIFllcywgaXQgaXNcbiAgLy8gZGVlcGx5IHVnbHkgdG8gd3JpdGUgQVBJcyB0aGlzIHdheSwgYnV0IHRoYXQgc3RpbGwgZG9lc24ndCBtZWFuXG4gIC8vIHRoYXQgdGhlIFJlYWRhYmxlIGNsYXNzIHNob3VsZCBiZWhhdmUgaW1wcm9wZXJseSwgYXMgc3RyZWFtcyBhcmVcbiAgLy8gZGVzaWduZWQgdG8gYmUgc3luYy9hc3luYyBhZ25vc3RpYy5cbiAgLy8gVGFrZSBub3RlIGlmIHRoZSBfcmVhZCBjYWxsIGlzIHN5bmMgb3IgYXN5bmMgKGllLCBpZiB0aGUgcmVhZCBjYWxsXG4gIC8vIGhhcyByZXR1cm5lZCB5ZXQpLCBzbyB0aGF0IHdlIGtub3cgd2hldGhlciBvciBub3QgaXQncyBzYWZlIHRvIGVtaXRcbiAgLy8gJ3JlYWRhYmxlJyBldGMuXG4gIC8vXG4gIC8vIDMuIEFjdHVhbGx5IHB1bGwgdGhlIHJlcXVlc3RlZCBjaHVua3Mgb3V0IG9mIHRoZSBidWZmZXIgYW5kIHJldHVybi5cblxuICAvLyBpZiB3ZSBuZWVkIGEgcmVhZGFibGUgZXZlbnQsIHRoZW4gd2UgbmVlZCB0byBkbyBzb21lIHJlYWRpbmcuXG4gIHZhciBkb1JlYWQgPSBzdGF0ZS5uZWVkUmVhZGFibGU7XG4gIGRlYnVnKCduZWVkIHJlYWRhYmxlJywgZG9SZWFkKTtcblxuICAvLyBpZiB3ZSBjdXJyZW50bHkgaGF2ZSBsZXNzIHRoYW4gdGhlIGhpZ2hXYXRlck1hcmssIHRoZW4gYWxzbyByZWFkIHNvbWVcbiAgaWYgKHN0YXRlLmxlbmd0aCA9PT0gMCB8fCBzdGF0ZS5sZW5ndGggLSBuIDwgc3RhdGUuaGlnaFdhdGVyTWFyaykge1xuICAgIGRvUmVhZCA9IHRydWU7XG4gICAgZGVidWcoJ2xlbmd0aCBsZXNzIHRoYW4gd2F0ZXJtYXJrJywgZG9SZWFkKTtcbiAgfVxuXG4gIC8vIGhvd2V2ZXIsIGlmIHdlJ3ZlIGVuZGVkLCB0aGVuIHRoZXJlJ3Mgbm8gcG9pbnQsIGFuZCBpZiB3ZSdyZSBhbHJlYWR5XG4gIC8vIHJlYWRpbmcsIHRoZW4gaXQncyB1bm5lY2Vzc2FyeS5cbiAgaWYgKHN0YXRlLmVuZGVkIHx8IHN0YXRlLnJlYWRpbmcpIHtcbiAgICBkb1JlYWQgPSBmYWxzZTtcbiAgICBkZWJ1ZygncmVhZGluZyBvciBlbmRlZCcsIGRvUmVhZCk7XG4gIH0gZWxzZSBpZiAoZG9SZWFkKSB7XG4gICAgZGVidWcoJ2RvIHJlYWQnKTtcbiAgICBzdGF0ZS5yZWFkaW5nID0gdHJ1ZTtcbiAgICBzdGF0ZS5zeW5jID0gdHJ1ZTtcbiAgICAvLyBpZiB0aGUgbGVuZ3RoIGlzIGN1cnJlbnRseSB6ZXJvLCB0aGVuIHdlICpuZWVkKiBhIHJlYWRhYmxlIGV2ZW50LlxuICAgIGlmIChzdGF0ZS5sZW5ndGggPT09IDApIHN0YXRlLm5lZWRSZWFkYWJsZSA9IHRydWU7XG4gICAgLy8gY2FsbCBpbnRlcm5hbCByZWFkIG1ldGhvZFxuICAgIHRoaXMuX3JlYWQoc3RhdGUuaGlnaFdhdGVyTWFyayk7XG4gICAgc3RhdGUuc3luYyA9IGZhbHNlO1xuICAgIC8vIElmIF9yZWFkIHB1c2hlZCBkYXRhIHN5bmNocm9ub3VzbHksIHRoZW4gYHJlYWRpbmdgIHdpbGwgYmUgZmFsc2UsXG4gICAgLy8gYW5kIHdlIG5lZWQgdG8gcmUtZXZhbHVhdGUgaG93IG11Y2ggZGF0YSB3ZSBjYW4gcmV0dXJuIHRvIHRoZSB1c2VyLlxuICAgIGlmICghc3RhdGUucmVhZGluZykgbiA9IGhvd011Y2hUb1JlYWQobk9yaWcsIHN0YXRlKTtcbiAgfVxuICB2YXIgcmV0O1xuICBpZiAobiA+IDApIHJldCA9IGZyb21MaXN0KG4sIHN0YXRlKTtlbHNlIHJldCA9IG51bGw7XG4gIGlmIChyZXQgPT09IG51bGwpIHtcbiAgICBzdGF0ZS5uZWVkUmVhZGFibGUgPSBzdGF0ZS5sZW5ndGggPD0gc3RhdGUuaGlnaFdhdGVyTWFyaztcbiAgICBuID0gMDtcbiAgfSBlbHNlIHtcbiAgICBzdGF0ZS5sZW5ndGggLT0gbjtcbiAgICBzdGF0ZS5hd2FpdERyYWluID0gMDtcbiAgfVxuICBpZiAoc3RhdGUubGVuZ3RoID09PSAwKSB7XG4gICAgLy8gSWYgd2UgaGF2ZSBub3RoaW5nIGluIHRoZSBidWZmZXIsIHRoZW4gd2Ugd2FudCB0byBrbm93XG4gICAgLy8gYXMgc29vbiBhcyB3ZSAqZG8qIGdldCBzb21ldGhpbmcgaW50byB0aGUgYnVmZmVyLlxuICAgIGlmICghc3RhdGUuZW5kZWQpIHN0YXRlLm5lZWRSZWFkYWJsZSA9IHRydWU7XG5cbiAgICAvLyBJZiB3ZSB0cmllZCB0byByZWFkKCkgcGFzdCB0aGUgRU9GLCB0aGVuIGVtaXQgZW5kIG9uIHRoZSBuZXh0IHRpY2suXG4gICAgaWYgKG5PcmlnICE9PSBuICYmIHN0YXRlLmVuZGVkKSBlbmRSZWFkYWJsZSh0aGlzKTtcbiAgfVxuICBpZiAocmV0ICE9PSBudWxsKSB0aGlzLmVtaXQoJ2RhdGEnLCByZXQpO1xuICByZXR1cm4gcmV0O1xufTtcbmZ1bmN0aW9uIG9uRW9mQ2h1bmsoc3RyZWFtLCBzdGF0ZSkge1xuICBkZWJ1Zygnb25Fb2ZDaHVuaycpO1xuICBpZiAoc3RhdGUuZW5kZWQpIHJldHVybjtcbiAgaWYgKHN0YXRlLmRlY29kZXIpIHtcbiAgICB2YXIgY2h1bmsgPSBzdGF0ZS5kZWNvZGVyLmVuZCgpO1xuICAgIGlmIChjaHVuayAmJiBjaHVuay5sZW5ndGgpIHtcbiAgICAgIHN0YXRlLmJ1ZmZlci5wdXNoKGNodW5rKTtcbiAgICAgIHN0YXRlLmxlbmd0aCArPSBzdGF0ZS5vYmplY3RNb2RlID8gMSA6IGNodW5rLmxlbmd0aDtcbiAgICB9XG4gIH1cbiAgc3RhdGUuZW5kZWQgPSB0cnVlO1xuICBpZiAoc3RhdGUuc3luYykge1xuICAgIC8vIGlmIHdlIGFyZSBzeW5jLCB3YWl0IHVudGlsIG5leHQgdGljayB0byBlbWl0IHRoZSBkYXRhLlxuICAgIC8vIE90aGVyd2lzZSB3ZSByaXNrIGVtaXR0aW5nIGRhdGEgaW4gdGhlIGZsb3coKVxuICAgIC8vIHRoZSByZWFkYWJsZSBjb2RlIHRyaWdnZXJzIGR1cmluZyBhIHJlYWQoKSBjYWxsXG4gICAgZW1pdFJlYWRhYmxlKHN0cmVhbSk7XG4gIH0gZWxzZSB7XG4gICAgLy8gZW1pdCAncmVhZGFibGUnIG5vdyB0byBtYWtlIHN1cmUgaXQgZ2V0cyBwaWNrZWQgdXAuXG4gICAgc3RhdGUubmVlZFJlYWRhYmxlID0gZmFsc2U7XG4gICAgaWYgKCFzdGF0ZS5lbWl0dGVkUmVhZGFibGUpIHtcbiAgICAgIHN0YXRlLmVtaXR0ZWRSZWFkYWJsZSA9IHRydWU7XG4gICAgICBlbWl0UmVhZGFibGVfKHN0cmVhbSk7XG4gICAgfVxuICB9XG59XG5cbi8vIERvbid0IGVtaXQgcmVhZGFibGUgcmlnaHQgYXdheSBpbiBzeW5jIG1vZGUsIGJlY2F1c2UgdGhpcyBjYW4gdHJpZ2dlclxuLy8gYW5vdGhlciByZWFkKCkgY2FsbCA9PiBzdGFjayBvdmVyZmxvdy4gIFRoaXMgd2F5LCBpdCBtaWdodCB0cmlnZ2VyXG4vLyBhIG5leHRUaWNrIHJlY3Vyc2lvbiB3YXJuaW5nLCBidXQgdGhhdCdzIG5vdCBzbyBiYWQuXG5mdW5jdGlvbiBlbWl0UmVhZGFibGUoc3RyZWFtKSB7XG4gIHZhciBzdGF0ZSA9IHN0cmVhbS5fcmVhZGFibGVTdGF0ZTtcbiAgZGVidWcoJ2VtaXRSZWFkYWJsZScsIHN0YXRlLm5lZWRSZWFkYWJsZSwgc3RhdGUuZW1pdHRlZFJlYWRhYmxlKTtcbiAgc3RhdGUubmVlZFJlYWRhYmxlID0gZmFsc2U7XG4gIGlmICghc3RhdGUuZW1pdHRlZFJlYWRhYmxlKSB7XG4gICAgZGVidWcoJ2VtaXRSZWFkYWJsZScsIHN0YXRlLmZsb3dpbmcpO1xuICAgIHN0YXRlLmVtaXR0ZWRSZWFkYWJsZSA9IHRydWU7XG4gICAgcHJvY2Vzcy5uZXh0VGljayhlbWl0UmVhZGFibGVfLCBzdHJlYW0pO1xuICB9XG59XG5mdW5jdGlvbiBlbWl0UmVhZGFibGVfKHN0cmVhbSkge1xuICB2YXIgc3RhdGUgPSBzdHJlYW0uX3JlYWRhYmxlU3RhdGU7XG4gIGRlYnVnKCdlbWl0UmVhZGFibGVfJywgc3RhdGUuZGVzdHJveWVkLCBzdGF0ZS5sZW5ndGgsIHN0YXRlLmVuZGVkKTtcbiAgaWYgKCFzdGF0ZS5kZXN0cm95ZWQgJiYgKHN0YXRlLmxlbmd0aCB8fCBzdGF0ZS5lbmRlZCkpIHtcbiAgICBzdHJlYW0uZW1pdCgncmVhZGFibGUnKTtcbiAgICBzdGF0ZS5lbWl0dGVkUmVhZGFibGUgPSBmYWxzZTtcbiAgfVxuXG4gIC8vIFRoZSBzdHJlYW0gbmVlZHMgYW5vdGhlciByZWFkYWJsZSBldmVudCBpZlxuICAvLyAxLiBJdCBpcyBub3QgZmxvd2luZywgYXMgdGhlIGZsb3cgbWVjaGFuaXNtIHdpbGwgdGFrZVxuICAvLyAgICBjYXJlIG9mIGl0LlxuICAvLyAyLiBJdCBpcyBub3QgZW5kZWQuXG4gIC8vIDMuIEl0IGlzIGJlbG93IHRoZSBoaWdoV2F0ZXJNYXJrLCBzbyB3ZSBjYW4gc2NoZWR1bGVcbiAgLy8gICAgYW5vdGhlciByZWFkYWJsZSBsYXRlci5cbiAgc3RhdGUubmVlZFJlYWRhYmxlID0gIXN0YXRlLmZsb3dpbmcgJiYgIXN0YXRlLmVuZGVkICYmIHN0YXRlLmxlbmd0aCA8PSBzdGF0ZS5oaWdoV2F0ZXJNYXJrO1xuICBmbG93KHN0cmVhbSk7XG59XG5cbi8vIGF0IHRoaXMgcG9pbnQsIHRoZSB1c2VyIGhhcyBwcmVzdW1hYmx5IHNlZW4gdGhlICdyZWFkYWJsZScgZXZlbnQsXG4vLyBhbmQgY2FsbGVkIHJlYWQoKSB0byBjb25zdW1lIHNvbWUgZGF0YS4gIHRoYXQgbWF5IGhhdmUgdHJpZ2dlcmVkXG4vLyBpbiB0dXJuIGFub3RoZXIgX3JlYWQobikgY2FsbCwgaW4gd2hpY2ggY2FzZSByZWFkaW5nID0gdHJ1ZSBpZlxuLy8gaXQncyBpbiBwcm9ncmVzcy5cbi8vIEhvd2V2ZXIsIGlmIHdlJ3JlIG5vdCBlbmRlZCwgb3IgcmVhZGluZywgYW5kIHRoZSBsZW5ndGggPCBod20sXG4vLyB0aGVuIGdvIGFoZWFkIGFuZCB0cnkgdG8gcmVhZCBzb21lIG1vcmUgcHJlZW1wdGl2ZWx5LlxuZnVuY3Rpb24gbWF5YmVSZWFkTW9yZShzdHJlYW0sIHN0YXRlKSB7XG4gIGlmICghc3RhdGUucmVhZGluZ01vcmUpIHtcbiAgICBzdGF0ZS5yZWFkaW5nTW9yZSA9IHRydWU7XG4gICAgcHJvY2Vzcy5uZXh0VGljayhtYXliZVJlYWRNb3JlXywgc3RyZWFtLCBzdGF0ZSk7XG4gIH1cbn1cbmZ1bmN0aW9uIG1heWJlUmVhZE1vcmVfKHN0cmVhbSwgc3RhdGUpIHtcbiAgLy8gQXR0ZW1wdCB0byByZWFkIG1vcmUgZGF0YSBpZiB3ZSBzaG91bGQuXG4gIC8vXG4gIC8vIFRoZSBjb25kaXRpb25zIGZvciByZWFkaW5nIG1vcmUgZGF0YSBhcmUgKG9uZSBvZik6XG4gIC8vIC0gTm90IGVub3VnaCBkYXRhIGJ1ZmZlcmVkIChzdGF0ZS5sZW5ndGggPCBzdGF0ZS5oaWdoV2F0ZXJNYXJrKS4gVGhlIGxvb3BcbiAgLy8gICBpcyByZXNwb25zaWJsZSBmb3IgZmlsbGluZyB0aGUgYnVmZmVyIHdpdGggZW5vdWdoIGRhdGEgaWYgc3VjaCBkYXRhXG4gIC8vICAgaXMgYXZhaWxhYmxlLiBJZiBoaWdoV2F0ZXJNYXJrIGlzIDAgYW5kIHdlIGFyZSBub3QgaW4gdGhlIGZsb3dpbmcgbW9kZVxuICAvLyAgIHdlIHNob3VsZCBfbm90XyBhdHRlbXB0IHRvIGJ1ZmZlciBhbnkgZXh0cmEgZGF0YS4gV2UnbGwgZ2V0IG1vcmUgZGF0YVxuICAvLyAgIHdoZW4gdGhlIHN0cmVhbSBjb25zdW1lciBjYWxscyByZWFkKCkgaW5zdGVhZC5cbiAgLy8gLSBObyBkYXRhIGluIHRoZSBidWZmZXIsIGFuZCB0aGUgc3RyZWFtIGlzIGluIGZsb3dpbmcgbW9kZS4gSW4gdGhpcyBtb2RlXG4gIC8vICAgdGhlIGxvb3AgYmVsb3cgaXMgcmVzcG9uc2libGUgZm9yIGVuc3VyaW5nIHJlYWQoKSBpcyBjYWxsZWQuIEZhaWxpbmcgdG9cbiAgLy8gICBjYWxsIHJlYWQgaGVyZSB3b3VsZCBhYm9ydCB0aGUgZmxvdyBhbmQgdGhlcmUncyBubyBvdGhlciBtZWNoYW5pc20gZm9yXG4gIC8vICAgY29udGludWluZyB0aGUgZmxvdyBpZiB0aGUgc3RyZWFtIGNvbnN1bWVyIGhhcyBqdXN0IHN1YnNjcmliZWQgdG8gdGhlXG4gIC8vICAgJ2RhdGEnIGV2ZW50LlxuICAvL1xuICAvLyBJbiBhZGRpdGlvbiB0byB0aGUgYWJvdmUgY29uZGl0aW9ucyB0byBrZWVwIHJlYWRpbmcgZGF0YSwgdGhlIGZvbGxvd2luZ1xuICAvLyBjb25kaXRpb25zIHByZXZlbnQgdGhlIGRhdGEgZnJvbSBiZWluZyByZWFkOlxuICAvLyAtIFRoZSBzdHJlYW0gaGFzIGVuZGVkIChzdGF0ZS5lbmRlZCkuXG4gIC8vIC0gVGhlcmUgaXMgYWxyZWFkeSBhIHBlbmRpbmcgJ3JlYWQnIG9wZXJhdGlvbiAoc3RhdGUucmVhZGluZykuIFRoaXMgaXMgYVxuICAvLyAgIGNhc2Ugd2hlcmUgdGhlIHRoZSBzdHJlYW0gaGFzIGNhbGxlZCB0aGUgaW1wbGVtZW50YXRpb24gZGVmaW5lZCBfcmVhZCgpXG4gIC8vICAgbWV0aG9kLCBidXQgdGhleSBhcmUgcHJvY2Vzc2luZyB0aGUgY2FsbCBhc3luY2hyb25vdXNseSBhbmQgaGF2ZSBfbm90X1xuICAvLyAgIGNhbGxlZCBwdXNoKCkgd2l0aCBuZXcgZGF0YS4gSW4gdGhpcyBjYXNlIHdlIHNraXAgcGVyZm9ybWluZyBtb3JlXG4gIC8vICAgcmVhZCgpcy4gVGhlIGV4ZWN1dGlvbiBlbmRzIGluIHRoaXMgbWV0aG9kIGFnYWluIGFmdGVyIHRoZSBfcmVhZCgpIGVuZHNcbiAgLy8gICB1cCBjYWxsaW5nIHB1c2goKSB3aXRoIG1vcmUgZGF0YS5cbiAgd2hpbGUgKCFzdGF0ZS5yZWFkaW5nICYmICFzdGF0ZS5lbmRlZCAmJiAoc3RhdGUubGVuZ3RoIDwgc3RhdGUuaGlnaFdhdGVyTWFyayB8fCBzdGF0ZS5mbG93aW5nICYmIHN0YXRlLmxlbmd0aCA9PT0gMCkpIHtcbiAgICB2YXIgbGVuID0gc3RhdGUubGVuZ3RoO1xuICAgIGRlYnVnKCdtYXliZVJlYWRNb3JlIHJlYWQgMCcpO1xuICAgIHN0cmVhbS5yZWFkKDApO1xuICAgIGlmIChsZW4gPT09IHN0YXRlLmxlbmd0aClcbiAgICAgIC8vIGRpZG4ndCBnZXQgYW55IGRhdGEsIHN0b3Agc3Bpbm5pbmcuXG4gICAgICBicmVhaztcbiAgfVxuICBzdGF0ZS5yZWFkaW5nTW9yZSA9IGZhbHNlO1xufVxuXG4vLyBhYnN0cmFjdCBtZXRob2QuICB0byBiZSBvdmVycmlkZGVuIGluIHNwZWNpZmljIGltcGxlbWVudGF0aW9uIGNsYXNzZXMuXG4vLyBjYWxsIGNiKGVyLCBkYXRhKSB3aGVyZSBkYXRhIGlzIDw9IG4gaW4gbGVuZ3RoLlxuLy8gZm9yIHZpcnR1YWwgKG5vbi1zdHJpbmcsIG5vbi1idWZmZXIpIHN0cmVhbXMsIFwibGVuZ3RoXCIgaXMgc29tZXdoYXRcbi8vIGFyYml0cmFyeSwgYW5kIHBlcmhhcHMgbm90IHZlcnkgbWVhbmluZ2Z1bC5cblJlYWRhYmxlLnByb3RvdHlwZS5fcmVhZCA9IGZ1bmN0aW9uIChuKSB7XG4gIGVycm9yT3JEZXN0cm95KHRoaXMsIG5ldyBFUlJfTUVUSE9EX05PVF9JTVBMRU1FTlRFRCgnX3JlYWQoKScpKTtcbn07XG5SZWFkYWJsZS5wcm90b3R5cGUucGlwZSA9IGZ1bmN0aW9uIChkZXN0LCBwaXBlT3B0cykge1xuICB2YXIgc3JjID0gdGhpcztcbiAgdmFyIHN0YXRlID0gdGhpcy5fcmVhZGFibGVTdGF0ZTtcbiAgc3dpdGNoIChzdGF0ZS5waXBlc0NvdW50KSB7XG4gICAgY2FzZSAwOlxuICAgICAgc3RhdGUucGlwZXMgPSBkZXN0O1xuICAgICAgYnJlYWs7XG4gICAgY2FzZSAxOlxuICAgICAgc3RhdGUucGlwZXMgPSBbc3RhdGUucGlwZXMsIGRlc3RdO1xuICAgICAgYnJlYWs7XG4gICAgZGVmYXVsdDpcbiAgICAgIHN0YXRlLnBpcGVzLnB1c2goZGVzdCk7XG4gICAgICBicmVhaztcbiAgfVxuICBzdGF0ZS5waXBlc0NvdW50ICs9IDE7XG4gIGRlYnVnKCdwaXBlIGNvdW50PSVkIG9wdHM9JWonLCBzdGF0ZS5waXBlc0NvdW50LCBwaXBlT3B0cyk7XG4gIHZhciBkb0VuZCA9ICghcGlwZU9wdHMgfHwgcGlwZU9wdHMuZW5kICE9PSBmYWxzZSkgJiYgZGVzdCAhPT0gcHJvY2Vzcy5zdGRvdXQgJiYgZGVzdCAhPT0gcHJvY2Vzcy5zdGRlcnI7XG4gIHZhciBlbmRGbiA9IGRvRW5kID8gb25lbmQgOiB1bnBpcGU7XG4gIGlmIChzdGF0ZS5lbmRFbWl0dGVkKSBwcm9jZXNzLm5leHRUaWNrKGVuZEZuKTtlbHNlIHNyYy5vbmNlKCdlbmQnLCBlbmRGbik7XG4gIGRlc3Qub24oJ3VucGlwZScsIG9udW5waXBlKTtcbiAgZnVuY3Rpb24gb251bnBpcGUocmVhZGFibGUsIHVucGlwZUluZm8pIHtcbiAgICBkZWJ1Zygnb251bnBpcGUnKTtcbiAgICBpZiAocmVhZGFibGUgPT09IHNyYykge1xuICAgICAgaWYgKHVucGlwZUluZm8gJiYgdW5waXBlSW5mby5oYXNVbnBpcGVkID09PSBmYWxzZSkge1xuICAgICAgICB1bnBpcGVJbmZvLmhhc1VucGlwZWQgPSB0cnVlO1xuICAgICAgICBjbGVhbnVwKCk7XG4gICAgICB9XG4gICAgfVxuICB9XG4gIGZ1bmN0aW9uIG9uZW5kKCkge1xuICAgIGRlYnVnKCdvbmVuZCcpO1xuICAgIGRlc3QuZW5kKCk7XG4gIH1cblxuICAvLyB3aGVuIHRoZSBkZXN0IGRyYWlucywgaXQgcmVkdWNlcyB0aGUgYXdhaXREcmFpbiBjb3VudGVyXG4gIC8vIG9uIHRoZSBzb3VyY2UuICBUaGlzIHdvdWxkIGJlIG1vcmUgZWxlZ2FudCB3aXRoIGEgLm9uY2UoKVxuICAvLyBoYW5kbGVyIGluIGZsb3coKSwgYnV0IGFkZGluZyBhbmQgcmVtb3ZpbmcgcmVwZWF0ZWRseSBpc1xuICAvLyB0b28gc2xvdy5cbiAgdmFyIG9uZHJhaW4gPSBwaXBlT25EcmFpbihzcmMpO1xuICBkZXN0Lm9uKCdkcmFpbicsIG9uZHJhaW4pO1xuICB2YXIgY2xlYW5lZFVwID0gZmFsc2U7XG4gIGZ1bmN0aW9uIGNsZWFudXAoKSB7XG4gICAgZGVidWcoJ2NsZWFudXAnKTtcbiAgICAvLyBjbGVhbnVwIGV2ZW50IGhhbmRsZXJzIG9uY2UgdGhlIHBpcGUgaXMgYnJva2VuXG4gICAgZGVzdC5yZW1vdmVMaXN0ZW5lcignY2xvc2UnLCBvbmNsb3NlKTtcbiAgICBkZXN0LnJlbW92ZUxpc3RlbmVyKCdmaW5pc2gnLCBvbmZpbmlzaCk7XG4gICAgZGVzdC5yZW1vdmVMaXN0ZW5lcignZHJhaW4nLCBvbmRyYWluKTtcbiAgICBkZXN0LnJlbW92ZUxpc3RlbmVyKCdlcnJvcicsIG9uZXJyb3IpO1xuICAgIGRlc3QucmVtb3ZlTGlzdGVuZXIoJ3VucGlwZScsIG9udW5waXBlKTtcbiAgICBzcmMucmVtb3ZlTGlzdGVuZXIoJ2VuZCcsIG9uZW5kKTtcbiAgICBzcmMucmVtb3ZlTGlzdGVuZXIoJ2VuZCcsIHVucGlwZSk7XG4gICAgc3JjLnJlbW92ZUxpc3RlbmVyKCdkYXRhJywgb25kYXRhKTtcbiAgICBjbGVhbmVkVXAgPSB0cnVlO1xuXG4gICAgLy8gaWYgdGhlIHJlYWRlciBpcyB3YWl0aW5nIGZvciBhIGRyYWluIGV2ZW50IGZyb20gdGhpc1xuICAgIC8vIHNwZWNpZmljIHdyaXRlciwgdGhlbiBpdCB3b3VsZCBjYXVzZSBpdCB0byBuZXZlciBzdGFydFxuICAgIC8vIGZsb3dpbmcgYWdhaW4uXG4gICAgLy8gU28sIGlmIHRoaXMgaXMgYXdhaXRpbmcgYSBkcmFpbiwgdGhlbiB3ZSBqdXN0IGNhbGwgaXQgbm93LlxuICAgIC8vIElmIHdlIGRvbid0IGtub3csIHRoZW4gYXNzdW1lIHRoYXQgd2UgYXJlIHdhaXRpbmcgZm9yIG9uZS5cbiAgICBpZiAoc3RhdGUuYXdhaXREcmFpbiAmJiAoIWRlc3QuX3dyaXRhYmxlU3RhdGUgfHwgZGVzdC5fd3JpdGFibGVTdGF0ZS5uZWVkRHJhaW4pKSBvbmRyYWluKCk7XG4gIH1cbiAgc3JjLm9uKCdkYXRhJywgb25kYXRhKTtcbiAgZnVuY3Rpb24gb25kYXRhKGNodW5rKSB7XG4gICAgZGVidWcoJ29uZGF0YScpO1xuICAgIHZhciByZXQgPSBkZXN0LndyaXRlKGNodW5rKTtcbiAgICBkZWJ1ZygnZGVzdC53cml0ZScsIHJldCk7XG4gICAgaWYgKHJldCA9PT0gZmFsc2UpIHtcbiAgICAgIC8vIElmIHRoZSB1c2VyIHVucGlwZWQgZHVyaW5nIGBkZXN0LndyaXRlKClgLCBpdCBpcyBwb3NzaWJsZVxuICAgICAgLy8gdG8gZ2V0IHN0dWNrIGluIGEgcGVybWFuZW50bHkgcGF1c2VkIHN0YXRlIGlmIHRoYXQgd3JpdGVcbiAgICAgIC8vIGFsc28gcmV0dXJuZWQgZmFsc2UuXG4gICAgICAvLyA9PiBDaGVjayB3aGV0aGVyIGBkZXN0YCBpcyBzdGlsbCBhIHBpcGluZyBkZXN0aW5hdGlvbi5cbiAgICAgIGlmICgoc3RhdGUucGlwZXNDb3VudCA9PT0gMSAmJiBzdGF0ZS5waXBlcyA9PT0gZGVzdCB8fCBzdGF0ZS5waXBlc0NvdW50ID4gMSAmJiBpbmRleE9mKHN0YXRlLnBpcGVzLCBkZXN0KSAhPT0gLTEpICYmICFjbGVhbmVkVXApIHtcbiAgICAgICAgZGVidWcoJ2ZhbHNlIHdyaXRlIHJlc3BvbnNlLCBwYXVzZScsIHN0YXRlLmF3YWl0RHJhaW4pO1xuICAgICAgICBzdGF0ZS5hd2FpdERyYWluKys7XG4gICAgICB9XG4gICAgICBzcmMucGF1c2UoKTtcbiAgICB9XG4gIH1cblxuICAvLyBpZiB0aGUgZGVzdCBoYXMgYW4gZXJyb3IsIHRoZW4gc3RvcCBwaXBpbmcgaW50byBpdC5cbiAgLy8gaG93ZXZlciwgZG9uJ3Qgc3VwcHJlc3MgdGhlIHRocm93aW5nIGJlaGF2aW9yIGZvciB0aGlzLlxuICBmdW5jdGlvbiBvbmVycm9yKGVyKSB7XG4gICAgZGVidWcoJ29uZXJyb3InLCBlcik7XG4gICAgdW5waXBlKCk7XG4gICAgZGVzdC5yZW1vdmVMaXN0ZW5lcignZXJyb3InLCBvbmVycm9yKTtcbiAgICBpZiAoRUVsaXN0ZW5lckNvdW50KGRlc3QsICdlcnJvcicpID09PSAwKSBlcnJvck9yRGVzdHJveShkZXN0LCBlcik7XG4gIH1cblxuICAvLyBNYWtlIHN1cmUgb3VyIGVycm9yIGhhbmRsZXIgaXMgYXR0YWNoZWQgYmVmb3JlIHVzZXJsYW5kIG9uZXMuXG4gIHByZXBlbmRMaXN0ZW5lcihkZXN0LCAnZXJyb3InLCBvbmVycm9yKTtcblxuICAvLyBCb3RoIGNsb3NlIGFuZCBmaW5pc2ggc2hvdWxkIHRyaWdnZXIgdW5waXBlLCBidXQgb25seSBvbmNlLlxuICBmdW5jdGlvbiBvbmNsb3NlKCkge1xuICAgIGRlc3QucmVtb3ZlTGlzdGVuZXIoJ2ZpbmlzaCcsIG9uZmluaXNoKTtcbiAgICB1bnBpcGUoKTtcbiAgfVxuICBkZXN0Lm9uY2UoJ2Nsb3NlJywgb25jbG9zZSk7XG4gIGZ1bmN0aW9uIG9uZmluaXNoKCkge1xuICAgIGRlYnVnKCdvbmZpbmlzaCcpO1xuICAgIGRlc3QucmVtb3ZlTGlzdGVuZXIoJ2Nsb3NlJywgb25jbG9zZSk7XG4gICAgdW5waXBlKCk7XG4gIH1cbiAgZGVzdC5vbmNlKCdmaW5pc2gnLCBvbmZpbmlzaCk7XG4gIGZ1bmN0aW9uIHVucGlwZSgpIHtcbiAgICBkZWJ1ZygndW5waXBlJyk7XG4gICAgc3JjLnVucGlwZShkZXN0KTtcbiAgfVxuXG4gIC8vIHRlbGwgdGhlIGRlc3QgdGhhdCBpdCdzIGJlaW5nIHBpcGVkIHRvXG4gIGRlc3QuZW1pdCgncGlwZScsIHNyYyk7XG5cbiAgLy8gc3RhcnQgdGhlIGZsb3cgaWYgaXQgaGFzbid0IGJlZW4gc3RhcnRlZCBhbHJlYWR5LlxuICBpZiAoIXN0YXRlLmZsb3dpbmcpIHtcbiAgICBkZWJ1ZygncGlwZSByZXN1bWUnKTtcbiAgICBzcmMucmVzdW1lKCk7XG4gIH1cbiAgcmV0dXJuIGRlc3Q7XG59O1xuZnVuY3Rpb24gcGlwZU9uRHJhaW4oc3JjKSB7XG4gIHJldHVybiBmdW5jdGlvbiBwaXBlT25EcmFpbkZ1bmN0aW9uUmVzdWx0KCkge1xuICAgIHZhciBzdGF0ZSA9IHNyYy5fcmVhZGFibGVTdGF0ZTtcbiAgICBkZWJ1ZygncGlwZU9uRHJhaW4nLCBzdGF0ZS5hd2FpdERyYWluKTtcbiAgICBpZiAoc3RhdGUuYXdhaXREcmFpbikgc3RhdGUuYXdhaXREcmFpbi0tO1xuICAgIGlmIChzdGF0ZS5hd2FpdERyYWluID09PSAwICYmIEVFbGlzdGVuZXJDb3VudChzcmMsICdkYXRhJykpIHtcbiAgICAgIHN0YXRlLmZsb3dpbmcgPSB0cnVlO1xuICAgICAgZmxvdyhzcmMpO1xuICAgIH1cbiAgfTtcbn1cblJlYWRhYmxlLnByb3RvdHlwZS51bnBpcGUgPSBmdW5jdGlvbiAoZGVzdCkge1xuICB2YXIgc3RhdGUgPSB0aGlzLl9yZWFkYWJsZVN0YXRlO1xuICB2YXIgdW5waXBlSW5mbyA9IHtcbiAgICBoYXNVbnBpcGVkOiBmYWxzZVxuICB9O1xuXG4gIC8vIGlmIHdlJ3JlIG5vdCBwaXBpbmcgYW55d2hlcmUsIHRoZW4gZG8gbm90aGluZy5cbiAgaWYgKHN0YXRlLnBpcGVzQ291bnQgPT09IDApIHJldHVybiB0aGlzO1xuXG4gIC8vIGp1c3Qgb25lIGRlc3RpbmF0aW9uLiAgbW9zdCBjb21tb24gY2FzZS5cbiAgaWYgKHN0YXRlLnBpcGVzQ291bnQgPT09IDEpIHtcbiAgICAvLyBwYXNzZWQgaW4gb25lLCBidXQgaXQncyBub3QgdGhlIHJpZ2h0IG9uZS5cbiAgICBpZiAoZGVzdCAmJiBkZXN0ICE9PSBzdGF0ZS5waXBlcykgcmV0dXJuIHRoaXM7XG4gICAgaWYgKCFkZXN0KSBkZXN0ID0gc3RhdGUucGlwZXM7XG5cbiAgICAvLyBnb3QgYSBtYXRjaC5cbiAgICBzdGF0ZS5waXBlcyA9IG51bGw7XG4gICAgc3RhdGUucGlwZXNDb3VudCA9IDA7XG4gICAgc3RhdGUuZmxvd2luZyA9IGZhbHNlO1xuICAgIGlmIChkZXN0KSBkZXN0LmVtaXQoJ3VucGlwZScsIHRoaXMsIHVucGlwZUluZm8pO1xuICAgIHJldHVybiB0aGlzO1xuICB9XG5cbiAgLy8gc2xvdyBjYXNlLiBtdWx0aXBsZSBwaXBlIGRlc3RpbmF0aW9ucy5cblxuICBpZiAoIWRlc3QpIHtcbiAgICAvLyByZW1vdmUgYWxsLlxuICAgIHZhciBkZXN0cyA9IHN0YXRlLnBpcGVzO1xuICAgIHZhciBsZW4gPSBzdGF0ZS5waXBlc0NvdW50O1xuICAgIHN0YXRlLnBpcGVzID0gbnVsbDtcbiAgICBzdGF0ZS5waXBlc0NvdW50ID0gMDtcbiAgICBzdGF0ZS5mbG93aW5nID0gZmFsc2U7XG4gICAgZm9yICh2YXIgaSA9IDA7IGkgPCBsZW47IGkrKykgZGVzdHNbaV0uZW1pdCgndW5waXBlJywgdGhpcywge1xuICAgICAgaGFzVW5waXBlZDogZmFsc2VcbiAgICB9KTtcbiAgICByZXR1cm4gdGhpcztcbiAgfVxuXG4gIC8vIHRyeSB0byBmaW5kIHRoZSByaWdodCBvbmUuXG4gIHZhciBpbmRleCA9IGluZGV4T2Yoc3RhdGUucGlwZXMsIGRlc3QpO1xuICBpZiAoaW5kZXggPT09IC0xKSByZXR1cm4gdGhpcztcbiAgc3RhdGUucGlwZXMuc3BsaWNlKGluZGV4LCAxKTtcbiAgc3RhdGUucGlwZXNDb3VudCAtPSAxO1xuICBpZiAoc3RhdGUucGlwZXNDb3VudCA9PT0gMSkgc3RhdGUucGlwZXMgPSBzdGF0ZS5waXBlc1swXTtcbiAgZGVzdC5lbWl0KCd1bnBpcGUnLCB0aGlzLCB1bnBpcGVJbmZvKTtcbiAgcmV0dXJuIHRoaXM7XG59O1xuXG4vLyBzZXQgdXAgZGF0YSBldmVudHMgaWYgdGhleSBhcmUgYXNrZWQgZm9yXG4vLyBFbnN1cmUgcmVhZGFibGUgbGlzdGVuZXJzIGV2ZW50dWFsbHkgZ2V0IHNvbWV0aGluZ1xuUmVhZGFibGUucHJvdG90eXBlLm9uID0gZnVuY3Rpb24gKGV2LCBmbikge1xuICB2YXIgcmVzID0gU3RyZWFtLnByb3RvdHlwZS5vbi5jYWxsKHRoaXMsIGV2LCBmbik7XG4gIHZhciBzdGF0ZSA9IHRoaXMuX3JlYWRhYmxlU3RhdGU7XG4gIGlmIChldiA9PT0gJ2RhdGEnKSB7XG4gICAgLy8gdXBkYXRlIHJlYWRhYmxlTGlzdGVuaW5nIHNvIHRoYXQgcmVzdW1lKCkgbWF5IGJlIGEgbm8tb3BcbiAgICAvLyBhIGZldyBsaW5lcyBkb3duLiBUaGlzIGlzIG5lZWRlZCB0byBzdXBwb3J0IG9uY2UoJ3JlYWRhYmxlJykuXG4gICAgc3RhdGUucmVhZGFibGVMaXN0ZW5pbmcgPSB0aGlzLmxpc3RlbmVyQ291bnQoJ3JlYWRhYmxlJykgPiAwO1xuXG4gICAgLy8gVHJ5IHN0YXJ0IGZsb3dpbmcgb24gbmV4dCB0aWNrIGlmIHN0cmVhbSBpc24ndCBleHBsaWNpdGx5IHBhdXNlZFxuICAgIGlmIChzdGF0ZS5mbG93aW5nICE9PSBmYWxzZSkgdGhpcy5yZXN1bWUoKTtcbiAgfSBlbHNlIGlmIChldiA9PT0gJ3JlYWRhYmxlJykge1xuICAgIGlmICghc3RhdGUuZW5kRW1pdHRlZCAmJiAhc3RhdGUucmVhZGFibGVMaXN0ZW5pbmcpIHtcbiAgICAgIHN0YXRlLnJlYWRhYmxlTGlzdGVuaW5nID0gc3RhdGUubmVlZFJlYWRhYmxlID0gdHJ1ZTtcbiAgICAgIHN0YXRlLmZsb3dpbmcgPSBmYWxzZTtcbiAgICAgIHN0YXRlLmVtaXR0ZWRSZWFkYWJsZSA9IGZhbHNlO1xuICAgICAgZGVidWcoJ29uIHJlYWRhYmxlJywgc3RhdGUubGVuZ3RoLCBzdGF0ZS5yZWFkaW5nKTtcbiAgICAgIGlmIChzdGF0ZS5sZW5ndGgpIHtcbiAgICAgICAgZW1pdFJlYWRhYmxlKHRoaXMpO1xuICAgICAgfSBlbHNlIGlmICghc3RhdGUucmVhZGluZykge1xuICAgICAgICBwcm9jZXNzLm5leHRUaWNrKG5SZWFkaW5nTmV4dFRpY2ssIHRoaXMpO1xuICAgICAgfVxuICAgIH1cbiAgfVxuICByZXR1cm4gcmVzO1xufTtcblJlYWRhYmxlLnByb3RvdHlwZS5hZGRMaXN0ZW5lciA9IFJlYWRhYmxlLnByb3RvdHlwZS5vbjtcblJlYWRhYmxlLnByb3RvdHlwZS5yZW1vdmVMaXN0ZW5lciA9IGZ1bmN0aW9uIChldiwgZm4pIHtcbiAgdmFyIHJlcyA9IFN0cmVhbS5wcm90b3R5cGUucmVtb3ZlTGlzdGVuZXIuY2FsbCh0aGlzLCBldiwgZm4pO1xuICBpZiAoZXYgPT09ICdyZWFkYWJsZScpIHtcbiAgICAvLyBXZSBuZWVkIHRvIGNoZWNrIGlmIHRoZXJlIGlzIHNvbWVvbmUgc3RpbGwgbGlzdGVuaW5nIHRvXG4gICAgLy8gcmVhZGFibGUgYW5kIHJlc2V0IHRoZSBzdGF0ZS4gSG93ZXZlciB0aGlzIG5lZWRzIHRvIGhhcHBlblxuICAgIC8vIGFmdGVyIHJlYWRhYmxlIGhhcyBiZWVuIGVtaXR0ZWQgYnV0IGJlZm9yZSBJL08gKG5leHRUaWNrKSB0b1xuICAgIC8vIHN1cHBvcnQgb25jZSgncmVhZGFibGUnLCBmbikgY3ljbGVzLiBUaGlzIG1lYW5zIHRoYXQgY2FsbGluZ1xuICAgIC8vIHJlc3VtZSB3aXRoaW4gdGhlIHNhbWUgdGljayB3aWxsIGhhdmUgbm9cbiAgICAvLyBlZmZlY3QuXG4gICAgcHJvY2Vzcy5uZXh0VGljayh1cGRhdGVSZWFkYWJsZUxpc3RlbmluZywgdGhpcyk7XG4gIH1cbiAgcmV0dXJuIHJlcztcbn07XG5SZWFkYWJsZS5wcm90b3R5cGUucmVtb3ZlQWxsTGlzdGVuZXJzID0gZnVuY3Rpb24gKGV2KSB7XG4gIHZhciByZXMgPSBTdHJlYW0ucHJvdG90eXBlLnJlbW92ZUFsbExpc3RlbmVycy5hcHBseSh0aGlzLCBhcmd1bWVudHMpO1xuICBpZiAoZXYgPT09ICdyZWFkYWJsZScgfHwgZXYgPT09IHVuZGVmaW5lZCkge1xuICAgIC8vIFdlIG5lZWQgdG8gY2hlY2sgaWYgdGhlcmUgaXMgc29tZW9uZSBzdGlsbCBsaXN0ZW5pbmcgdG9cbiAgICAvLyByZWFkYWJsZSBhbmQgcmVzZXQgdGhlIHN0YXRlLiBIb3dldmVyIHRoaXMgbmVlZHMgdG8gaGFwcGVuXG4gICAgLy8gYWZ0ZXIgcmVhZGFibGUgaGFzIGJlZW4gZW1pdHRlZCBidXQgYmVmb3JlIEkvTyAobmV4dFRpY2spIHRvXG4gICAgLy8gc3VwcG9ydCBvbmNlKCdyZWFkYWJsZScsIGZuKSBjeWNsZXMuIFRoaXMgbWVhbnMgdGhhdCBjYWxsaW5nXG4gICAgLy8gcmVzdW1lIHdpdGhpbiB0aGUgc2FtZSB0aWNrIHdpbGwgaGF2ZSBub1xuICAgIC8vIGVmZmVjdC5cbiAgICBwcm9jZXNzLm5leHRUaWNrKHVwZGF0ZVJlYWRhYmxlTGlzdGVuaW5nLCB0aGlzKTtcbiAgfVxuICByZXR1cm4gcmVzO1xufTtcbmZ1bmN0aW9uIHVwZGF0ZVJlYWRhYmxlTGlzdGVuaW5nKHNlbGYpIHtcbiAgdmFyIHN0YXRlID0gc2VsZi5fcmVhZGFibGVTdGF0ZTtcbiAgc3RhdGUucmVhZGFibGVMaXN0ZW5pbmcgPSBzZWxmLmxpc3RlbmVyQ291bnQoJ3JlYWRhYmxlJykgPiAwO1xuICBpZiAoc3RhdGUucmVzdW1lU2NoZWR1bGVkICYmICFzdGF0ZS5wYXVzZWQpIHtcbiAgICAvLyBmbG93aW5nIG5lZWRzIHRvIGJlIHNldCB0byB0cnVlIG5vdywgb3RoZXJ3aXNlXG4gICAgLy8gdGhlIHVwY29taW5nIHJlc3VtZSB3aWxsIG5vdCBmbG93LlxuICAgIHN0YXRlLmZsb3dpbmcgPSB0cnVlO1xuXG4gICAgLy8gY3J1ZGUgd2F5IHRvIGNoZWNrIGlmIHdlIHNob3VsZCByZXN1bWVcbiAgfSBlbHNlIGlmIChzZWxmLmxpc3RlbmVyQ291bnQoJ2RhdGEnKSA+IDApIHtcbiAgICBzZWxmLnJlc3VtZSgpO1xuICB9XG59XG5mdW5jdGlvbiBuUmVhZGluZ05leHRUaWNrKHNlbGYpIHtcbiAgZGVidWcoJ3JlYWRhYmxlIG5leHR0aWNrIHJlYWQgMCcpO1xuICBzZWxmLnJlYWQoMCk7XG59XG5cbi8vIHBhdXNlKCkgYW5kIHJlc3VtZSgpIGFyZSByZW1uYW50cyBvZiB0aGUgbGVnYWN5IHJlYWRhYmxlIHN0cmVhbSBBUElcbi8vIElmIHRoZSB1c2VyIHVzZXMgdGhlbSwgdGhlbiBzd2l0Y2ggaW50byBvbGQgbW9kZS5cblJlYWRhYmxlLnByb3RvdHlwZS5yZXN1bWUgPSBmdW5jdGlvbiAoKSB7XG4gIHZhciBzdGF0ZSA9IHRoaXMuX3JlYWRhYmxlU3RhdGU7XG4gIGlmICghc3RhdGUuZmxvd2luZykge1xuICAgIGRlYnVnKCdyZXN1bWUnKTtcbiAgICAvLyB3ZSBmbG93IG9ubHkgaWYgdGhlcmUgaXMgbm8gb25lIGxpc3RlbmluZ1xuICAgIC8vIGZvciByZWFkYWJsZSwgYnV0IHdlIHN0aWxsIGhhdmUgdG8gY2FsbFxuICAgIC8vIHJlc3VtZSgpXG4gICAgc3RhdGUuZmxvd2luZyA9ICFzdGF0ZS5yZWFkYWJsZUxpc3RlbmluZztcbiAgICByZXN1bWUodGhpcywgc3RhdGUpO1xuICB9XG4gIHN0YXRlLnBhdXNlZCA9IGZhbHNlO1xuICByZXR1cm4gdGhpcztcbn07XG5mdW5jdGlvbiByZXN1bWUoc3RyZWFtLCBzdGF0ZSkge1xuICBpZiAoIXN0YXRlLnJlc3VtZVNjaGVkdWxlZCkge1xuICAgIHN0YXRlLnJlc3VtZVNjaGVkdWxlZCA9IHRydWU7XG4gICAgcHJvY2Vzcy5uZXh0VGljayhyZXN1bWVfLCBzdHJlYW0sIHN0YXRlKTtcbiAgfVxufVxuZnVuY3Rpb24gcmVzdW1lXyhzdHJlYW0sIHN0YXRlKSB7XG4gIGRlYnVnKCdyZXN1bWUnLCBzdGF0ZS5yZWFkaW5nKTtcbiAgaWYgKCFzdGF0ZS5yZWFkaW5nKSB7XG4gICAgc3RyZWFtLnJlYWQoMCk7XG4gIH1cbiAgc3RhdGUucmVzdW1lU2NoZWR1bGVkID0gZmFsc2U7XG4gIHN0cmVhbS5lbWl0KCdyZXN1bWUnKTtcbiAgZmxvdyhzdHJlYW0pO1xuICBpZiAoc3RhdGUuZmxvd2luZyAmJiAhc3RhdGUucmVhZGluZykgc3RyZWFtLnJlYWQoMCk7XG59XG5SZWFkYWJsZS5wcm90b3R5cGUucGF1c2UgPSBmdW5jdGlvbiAoKSB7XG4gIGRlYnVnKCdjYWxsIHBhdXNlIGZsb3dpbmc9JWonLCB0aGlzLl9yZWFkYWJsZVN0YXRlLmZsb3dpbmcpO1xuICBpZiAodGhpcy5fcmVhZGFibGVTdGF0ZS5mbG93aW5nICE9PSBmYWxzZSkge1xuICAgIGRlYnVnKCdwYXVzZScpO1xuICAgIHRoaXMuX3JlYWRhYmxlU3RhdGUuZmxvd2luZyA9IGZhbHNlO1xuICAgIHRoaXMuZW1pdCgncGF1c2UnKTtcbiAgfVxuICB0aGlzLl9yZWFkYWJsZVN0YXRlLnBhdXNlZCA9IHRydWU7XG4gIHJldHVybiB0aGlzO1xufTtcbmZ1bmN0aW9uIGZsb3coc3RyZWFtKSB7XG4gIHZhciBzdGF0ZSA9IHN0cmVhbS5fcmVhZGFibGVTdGF0ZTtcbiAgZGVidWcoJ2Zsb3cnLCBzdGF0ZS5mbG93aW5nKTtcbiAgd2hpbGUgKHN0YXRlLmZsb3dpbmcgJiYgc3RyZWFtLnJlYWQoKSAhPT0gbnVsbCk7XG59XG5cbi8vIHdyYXAgYW4gb2xkLXN0eWxlIHN0cmVhbSBhcyB0aGUgYXN5bmMgZGF0YSBzb3VyY2UuXG4vLyBUaGlzIGlzICpub3QqIHBhcnQgb2YgdGhlIHJlYWRhYmxlIHN0cmVhbSBpbnRlcmZhY2UuXG4vLyBJdCBpcyBhbiB1Z2x5IHVuZm9ydHVuYXRlIG1lc3Mgb2YgaGlzdG9yeS5cblJlYWRhYmxlLnByb3RvdHlwZS53cmFwID0gZnVuY3Rpb24gKHN0cmVhbSkge1xuICB2YXIgX3RoaXMgPSB0aGlzO1xuICB2YXIgc3RhdGUgPSB0aGlzLl9yZWFkYWJsZVN0YXRlO1xuICB2YXIgcGF1c2VkID0gZmFsc2U7XG4gIHN0cmVhbS5vbignZW5kJywgZnVuY3Rpb24gKCkge1xuICAgIGRlYnVnKCd3cmFwcGVkIGVuZCcpO1xuICAgIGlmIChzdGF0ZS5kZWNvZGVyICYmICFzdGF0ZS5lbmRlZCkge1xuICAgICAgdmFyIGNodW5rID0gc3RhdGUuZGVjb2Rlci5lbmQoKTtcbiAgICAgIGlmIChjaHVuayAmJiBjaHVuay5sZW5ndGgpIF90aGlzLnB1c2goY2h1bmspO1xuICAgIH1cbiAgICBfdGhpcy5wdXNoKG51bGwpO1xuICB9KTtcbiAgc3RyZWFtLm9uKCdkYXRhJywgZnVuY3Rpb24gKGNodW5rKSB7XG4gICAgZGVidWcoJ3dyYXBwZWQgZGF0YScpO1xuICAgIGlmIChzdGF0ZS5kZWNvZGVyKSBjaHVuayA9IHN0YXRlLmRlY29kZXIud3JpdGUoY2h1bmspO1xuXG4gICAgLy8gZG9uJ3Qgc2tpcCBvdmVyIGZhbHN5IHZhbHVlcyBpbiBvYmplY3RNb2RlXG4gICAgaWYgKHN0YXRlLm9iamVjdE1vZGUgJiYgKGNodW5rID09PSBudWxsIHx8IGNodW5rID09PSB1bmRlZmluZWQpKSByZXR1cm47ZWxzZSBpZiAoIXN0YXRlLm9iamVjdE1vZGUgJiYgKCFjaHVuayB8fCAhY2h1bmsubGVuZ3RoKSkgcmV0dXJuO1xuICAgIHZhciByZXQgPSBfdGhpcy5wdXNoKGNodW5rKTtcbiAgICBpZiAoIXJldCkge1xuICAgICAgcGF1c2VkID0gdHJ1ZTtcbiAgICAgIHN0cmVhbS5wYXVzZSgpO1xuICAgIH1cbiAgfSk7XG5cbiAgLy8gcHJveHkgYWxsIHRoZSBvdGhlciBtZXRob2RzLlxuICAvLyBpbXBvcnRhbnQgd2hlbiB3cmFwcGluZyBmaWx0ZXJzIGFuZCBkdXBsZXhlcy5cbiAgZm9yICh2YXIgaSBpbiBzdHJlYW0pIHtcbiAgICBpZiAodGhpc1tpXSA9PT0gdW5kZWZpbmVkICYmIHR5cGVvZiBzdHJlYW1baV0gPT09ICdmdW5jdGlvbicpIHtcbiAgICAgIHRoaXNbaV0gPSBmdW5jdGlvbiBtZXRob2RXcmFwKG1ldGhvZCkge1xuICAgICAgICByZXR1cm4gZnVuY3Rpb24gbWV0aG9kV3JhcFJldHVybkZ1bmN0aW9uKCkge1xuICAgICAgICAgIHJldHVybiBzdHJlYW1bbWV0aG9kXS5hcHBseShzdHJlYW0sIGFyZ3VtZW50cyk7XG4gICAgICAgIH07XG4gICAgICB9KGkpO1xuICAgIH1cbiAgfVxuXG4gIC8vIHByb3h5IGNlcnRhaW4gaW1wb3J0YW50IGV2ZW50cy5cbiAgZm9yICh2YXIgbiA9IDA7IG4gPCBrUHJveHlFdmVudHMubGVuZ3RoOyBuKyspIHtcbiAgICBzdHJlYW0ub24oa1Byb3h5RXZlbnRzW25dLCB0aGlzLmVtaXQuYmluZCh0aGlzLCBrUHJveHlFdmVudHNbbl0pKTtcbiAgfVxuXG4gIC8vIHdoZW4gd2UgdHJ5IHRvIGNvbnN1bWUgc29tZSBtb3JlIGJ5dGVzLCBzaW1wbHkgdW5wYXVzZSB0aGVcbiAgLy8gdW5kZXJseWluZyBzdHJlYW0uXG4gIHRoaXMuX3JlYWQgPSBmdW5jdGlvbiAobikge1xuICAgIGRlYnVnKCd3cmFwcGVkIF9yZWFkJywgbik7XG4gICAgaWYgKHBhdXNlZCkge1xuICAgICAgcGF1c2VkID0gZmFsc2U7XG4gICAgICBzdHJlYW0ucmVzdW1lKCk7XG4gICAgfVxuICB9O1xuICByZXR1cm4gdGhpcztcbn07XG5pZiAodHlwZW9mIFN5bWJvbCA9PT0gJ2Z1bmN0aW9uJykge1xuICBSZWFkYWJsZS5wcm90b3R5cGVbU3ltYm9sLmFzeW5jSXRlcmF0b3JdID0gZnVuY3Rpb24gKCkge1xuICAgIGlmIChjcmVhdGVSZWFkYWJsZVN0cmVhbUFzeW5jSXRlcmF0b3IgPT09IHVuZGVmaW5lZCkge1xuICAgICAgY3JlYXRlUmVhZGFibGVTdHJlYW1Bc3luY0l0ZXJhdG9yID0gcmVxdWlyZSgnLi9pbnRlcm5hbC9zdHJlYW1zL2FzeW5jX2l0ZXJhdG9yJyk7XG4gICAgfVxuICAgIHJldHVybiBjcmVhdGVSZWFkYWJsZVN0cmVhbUFzeW5jSXRlcmF0b3IodGhpcyk7XG4gIH07XG59XG5PYmplY3QuZGVmaW5lUHJvcGVydHkoUmVhZGFibGUucHJvdG90eXBlLCAncmVhZGFibGVIaWdoV2F0ZXJNYXJrJywge1xuICAvLyBtYWtpbmcgaXQgZXhwbGljaXQgdGhpcyBwcm9wZXJ0eSBpcyBub3QgZW51bWVyYWJsZVxuICAvLyBiZWNhdXNlIG90aGVyd2lzZSBzb21lIHByb3RvdHlwZSBtYW5pcHVsYXRpb24gaW5cbiAgLy8gdXNlcmxhbmQgd2lsbCBmYWlsXG4gIGVudW1lcmFibGU6IGZhbHNlLFxuICBnZXQ6IGZ1bmN0aW9uIGdldCgpIHtcbiAgICByZXR1cm4gdGhpcy5fcmVhZGFibGVTdGF0ZS5oaWdoV2F0ZXJNYXJrO1xuICB9XG59KTtcbk9iamVjdC5kZWZpbmVQcm9wZXJ0eShSZWFkYWJsZS5wcm90b3R5cGUsICdyZWFkYWJsZUJ1ZmZlcicsIHtcbiAgLy8gbWFraW5nIGl0IGV4cGxpY2l0IHRoaXMgcHJvcGVydHkgaXMgbm90IGVudW1lcmFibGVcbiAgLy8gYmVjYXVzZSBvdGhlcndpc2Ugc29tZSBwcm90b3R5cGUgbWFuaXB1bGF0aW9uIGluXG4gIC8vIHVzZXJsYW5kIHdpbGwgZmFpbFxuICBlbnVtZXJhYmxlOiBmYWxzZSxcbiAgZ2V0OiBmdW5jdGlvbiBnZXQoKSB7XG4gICAgcmV0dXJuIHRoaXMuX3JlYWRhYmxlU3RhdGUgJiYgdGhpcy5fcmVhZGFibGVTdGF0ZS5idWZmZXI7XG4gIH1cbn0pO1xuT2JqZWN0LmRlZmluZVByb3BlcnR5KFJlYWRhYmxlLnByb3RvdHlwZSwgJ3JlYWRhYmxlRmxvd2luZycsIHtcbiAgLy8gbWFraW5nIGl0IGV4cGxpY2l0IHRoaXMgcHJvcGVydHkgaXMgbm90IGVudW1lcmFibGVcbiAgLy8gYmVjYXVzZSBvdGhlcndpc2Ugc29tZSBwcm90b3R5cGUgbWFuaXB1bGF0aW9uIGluXG4gIC8vIHVzZXJsYW5kIHdpbGwgZmFpbFxuICBlbnVtZXJhYmxlOiBmYWxzZSxcbiAgZ2V0OiBmdW5jdGlvbiBnZXQoKSB7XG4gICAgcmV0dXJuIHRoaXMuX3JlYWRhYmxlU3RhdGUuZmxvd2luZztcbiAgfSxcbiAgc2V0OiBmdW5jdGlvbiBzZXQoc3RhdGUpIHtcbiAgICBpZiAodGhpcy5fcmVhZGFibGVTdGF0ZSkge1xuICAgICAgdGhpcy5fcmVhZGFibGVTdGF0ZS5mbG93aW5nID0gc3RhdGU7XG4gICAgfVxuICB9XG59KTtcblxuLy8gZXhwb3NlZCBmb3IgdGVzdGluZyBwdXJwb3NlcyBvbmx5LlxuUmVhZGFibGUuX2Zyb21MaXN0ID0gZnJvbUxpc3Q7XG5PYmplY3QuZGVmaW5lUHJvcGVydHkoUmVhZGFibGUucHJvdG90eXBlLCAncmVhZGFibGVMZW5ndGgnLCB7XG4gIC8vIG1ha2luZyBpdCBleHBsaWNpdCB0aGlzIHByb3BlcnR5IGlzIG5vdCBlbnVtZXJhYmxlXG4gIC8vIGJlY2F1c2Ugb3RoZXJ3aXNlIHNvbWUgcHJvdG90eXBlIG1hbmlwdWxhdGlvbiBpblxuICAvLyB1c2VybGFuZCB3aWxsIGZhaWxcbiAgZW51bWVyYWJsZTogZmFsc2UsXG4gIGdldDogZnVuY3Rpb24gZ2V0KCkge1xuICAgIHJldHVybiB0aGlzLl9yZWFkYWJsZVN0YXRlLmxlbmd0aDtcbiAgfVxufSk7XG5cbi8vIFBsdWNrIG9mZiBuIGJ5dGVzIGZyb20gYW4gYXJyYXkgb2YgYnVmZmVycy5cbi8vIExlbmd0aCBpcyB0aGUgY29tYmluZWQgbGVuZ3RocyBvZiBhbGwgdGhlIGJ1ZmZlcnMgaW4gdGhlIGxpc3QuXG4vLyBUaGlzIGZ1bmN0aW9uIGlzIGRlc2lnbmVkIHRvIGJlIGlubGluYWJsZSwgc28gcGxlYXNlIHRha2UgY2FyZSB3aGVuIG1ha2luZ1xuLy8gY2hhbmdlcyB0byB0aGUgZnVuY3Rpb24gYm9keS5cbmZ1bmN0aW9uIGZyb21MaXN0KG4sIHN0YXRlKSB7XG4gIC8vIG5vdGhpbmcgYnVmZmVyZWRcbiAgaWYgKHN0YXRlLmxlbmd0aCA9PT0gMCkgcmV0dXJuIG51bGw7XG4gIHZhciByZXQ7XG4gIGlmIChzdGF0ZS5vYmplY3RNb2RlKSByZXQgPSBzdGF0ZS5idWZmZXIuc2hpZnQoKTtlbHNlIGlmICghbiB8fCBuID49IHN0YXRlLmxlbmd0aCkge1xuICAgIC8vIHJlYWQgaXQgYWxsLCB0cnVuY2F0ZSB0aGUgbGlzdFxuICAgIGlmIChzdGF0ZS5kZWNvZGVyKSByZXQgPSBzdGF0ZS5idWZmZXIuam9pbignJyk7ZWxzZSBpZiAoc3RhdGUuYnVmZmVyLmxlbmd0aCA9PT0gMSkgcmV0ID0gc3RhdGUuYnVmZmVyLmZpcnN0KCk7ZWxzZSByZXQgPSBzdGF0ZS5idWZmZXIuY29uY2F0KHN0YXRlLmxlbmd0aCk7XG4gICAgc3RhdGUuYnVmZmVyLmNsZWFyKCk7XG4gIH0gZWxzZSB7XG4gICAgLy8gcmVhZCBwYXJ0IG9mIGxpc3RcbiAgICByZXQgPSBzdGF0ZS5idWZmZXIuY29uc3VtZShuLCBzdGF0ZS5kZWNvZGVyKTtcbiAgfVxuICByZXR1cm4gcmV0O1xufVxuZnVuY3Rpb24gZW5kUmVhZGFibGUoc3RyZWFtKSB7XG4gIHZhciBzdGF0ZSA9IHN0cmVhbS5fcmVhZGFibGVTdGF0ZTtcbiAgZGVidWcoJ2VuZFJlYWRhYmxlJywgc3RhdGUuZW5kRW1pdHRlZCk7XG4gIGlmICghc3RhdGUuZW5kRW1pdHRlZCkge1xuICAgIHN0YXRlLmVuZGVkID0gdHJ1ZTtcbiAgICBwcm9jZXNzLm5leHRUaWNrKGVuZFJlYWRhYmxlTlQsIHN0YXRlLCBzdHJlYW0pO1xuICB9XG59XG5mdW5jdGlvbiBlbmRSZWFkYWJsZU5UKHN0YXRlLCBzdHJlYW0pIHtcbiAgZGVidWcoJ2VuZFJlYWRhYmxlTlQnLCBzdGF0ZS5lbmRFbWl0dGVkLCBzdGF0ZS5sZW5ndGgpO1xuXG4gIC8vIENoZWNrIHRoYXQgd2UgZGlkbid0IGdldCBvbmUgbGFzdCB1bnNoaWZ0LlxuICBpZiAoIXN0YXRlLmVuZEVtaXR0ZWQgJiYgc3RhdGUubGVuZ3RoID09PSAwKSB7XG4gICAgc3RhdGUuZW5kRW1pdHRlZCA9IHRydWU7XG4gICAgc3RyZWFtLnJlYWRhYmxlID0gZmFsc2U7XG4gICAgc3RyZWFtLmVtaXQoJ2VuZCcpO1xuICAgIGlmIChzdGF0ZS5hdXRvRGVzdHJveSkge1xuICAgICAgLy8gSW4gY2FzZSBvZiBkdXBsZXggc3RyZWFtcyB3ZSBuZWVkIGEgd2F5IHRvIGRldGVjdFxuICAgICAgLy8gaWYgdGhlIHdyaXRhYmxlIHNpZGUgaXMgcmVhZHkgZm9yIGF1dG9EZXN0cm95IGFzIHdlbGxcbiAgICAgIHZhciB3U3RhdGUgPSBzdHJlYW0uX3dyaXRhYmxlU3RhdGU7XG4gICAgICBpZiAoIXdTdGF0ZSB8fCB3U3RhdGUuYXV0b0Rlc3Ryb3kgJiYgd1N0YXRlLmZpbmlzaGVkKSB7XG4gICAgICAgIHN0cmVhbS5kZXN0cm95KCk7XG4gICAgICB9XG4gICAgfVxuICB9XG59XG5pZiAodHlwZW9mIFN5bWJvbCA9PT0gJ2Z1bmN0aW9uJykge1xuICBSZWFkYWJsZS5mcm9tID0gZnVuY3Rpb24gKGl0ZXJhYmxlLCBvcHRzKSB7XG4gICAgaWYgKGZyb20gPT09IHVuZGVmaW5lZCkge1xuICAgICAgZnJvbSA9IHJlcXVpcmUoJy4vaW50ZXJuYWwvc3RyZWFtcy9mcm9tJyk7XG4gICAgfVxuICAgIHJldHVybiBmcm9tKFJlYWRhYmxlLCBpdGVyYWJsZSwgb3B0cyk7XG4gIH07XG59XG5mdW5jdGlvbiBpbmRleE9mKHhzLCB4KSB7XG4gIGZvciAodmFyIGkgPSAwLCBsID0geHMubGVuZ3RoOyBpIDwgbDsgaSsrKSB7XG4gICAgaWYgKHhzW2ldID09PSB4KSByZXR1cm4gaTtcbiAgfVxuICByZXR1cm4gLTE7XG59IiwgIi8vIENvcHlyaWdodCBKb3llbnQsIEluYy4gYW5kIG90aGVyIE5vZGUgY29udHJpYnV0b3JzLlxuLy9cbi8vIFBlcm1pc3Npb24gaXMgaGVyZWJ5IGdyYW50ZWQsIGZyZWUgb2YgY2hhcmdlLCB0byBhbnkgcGVyc29uIG9idGFpbmluZyBhXG4vLyBjb3B5IG9mIHRoaXMgc29mdHdhcmUgYW5kIGFzc29jaWF0ZWQgZG9jdW1lbnRhdGlvbiBmaWxlcyAodGhlXG4vLyBcIlNvZnR3YXJlXCIpLCB0byBkZWFsIGluIHRoZSBTb2Z0d2FyZSB3aXRob3V0IHJlc3RyaWN0aW9uLCBpbmNsdWRpbmdcbi8vIHdpdGhvdXQgbGltaXRhdGlvbiB0aGUgcmlnaHRzIHRvIHVzZSwgY29weSwgbW9kaWZ5LCBtZXJnZSwgcHVibGlzaCxcbi8vIGRpc3RyaWJ1dGUsIHN1YmxpY2Vuc2UsIGFuZC9vciBzZWxsIGNvcGllcyBvZiB0aGUgU29mdHdhcmUsIGFuZCB0byBwZXJtaXRcbi8vIHBlcnNvbnMgdG8gd2hvbSB0aGUgU29mdHdhcmUgaXMgZnVybmlzaGVkIHRvIGRvIHNvLCBzdWJqZWN0IHRvIHRoZVxuLy8gZm9sbG93aW5nIGNvbmRpdGlvbnM6XG4vL1xuLy8gVGhlIGFib3ZlIGNvcHlyaWdodCBub3RpY2UgYW5kIHRoaXMgcGVybWlzc2lvbiBub3RpY2Ugc2hhbGwgYmUgaW5jbHVkZWRcbi8vIGluIGFsbCBjb3BpZXMgb3Igc3Vic3RhbnRpYWwgcG9ydGlvbnMgb2YgdGhlIFNvZnR3YXJlLlxuLy9cbi8vIFRIRSBTT0ZUV0FSRSBJUyBQUk9WSURFRCBcIkFTIElTXCIsIFdJVEhPVVQgV0FSUkFOVFkgT0YgQU5ZIEtJTkQsIEVYUFJFU1Ncbi8vIE9SIElNUExJRUQsIElOQ0xVRElORyBCVVQgTk9UIExJTUlURUQgVE8gVEhFIFdBUlJBTlRJRVMgT0Zcbi8vIE1FUkNIQU5UQUJJTElUWSwgRklUTkVTUyBGT1IgQSBQQVJUSUNVTEFSIFBVUlBPU0UgQU5EIE5PTklORlJJTkdFTUVOVC4gSU5cbi8vIE5PIEVWRU5UIFNIQUxMIFRIRSBBVVRIT1JTIE9SIENPUFlSSUdIVCBIT0xERVJTIEJFIExJQUJMRSBGT1IgQU5ZIENMQUlNLFxuLy8gREFNQUdFUyBPUiBPVEhFUiBMSUFCSUxJVFksIFdIRVRIRVIgSU4gQU4gQUNUSU9OIE9GIENPTlRSQUNULCBUT1JUIE9SXG4vLyBPVEhFUldJU0UsIEFSSVNJTkcgRlJPTSwgT1VUIE9GIE9SIElOIENPTk5FQ1RJT04gV0lUSCBUSEUgU09GVFdBUkUgT1IgVEhFXG4vLyBVU0UgT1IgT1RIRVIgREVBTElOR1MgSU4gVEhFIFNPRlRXQVJFLlxuXG4vLyBhIHRyYW5zZm9ybSBzdHJlYW0gaXMgYSByZWFkYWJsZS93cml0YWJsZSBzdHJlYW0gd2hlcmUgeW91IGRvXG4vLyBzb21ldGhpbmcgd2l0aCB0aGUgZGF0YS4gIFNvbWV0aW1lcyBpdCdzIGNhbGxlZCBhIFwiZmlsdGVyXCIsXG4vLyBidXQgdGhhdCdzIG5vdCBhIGdyZWF0IG5hbWUgZm9yIGl0LCBzaW5jZSB0aGF0IGltcGxpZXMgYSB0aGluZyB3aGVyZVxuLy8gc29tZSBiaXRzIHBhc3MgdGhyb3VnaCwgYW5kIG90aGVycyBhcmUgc2ltcGx5IGlnbm9yZWQuICAoVGhhdCB3b3VsZFxuLy8gYmUgYSB2YWxpZCBleGFtcGxlIG9mIGEgdHJhbnNmb3JtLCBvZiBjb3Vyc2UuKVxuLy9cbi8vIFdoaWxlIHRoZSBvdXRwdXQgaXMgY2F1c2FsbHkgcmVsYXRlZCB0byB0aGUgaW5wdXQsIGl0J3Mgbm90IGFcbi8vIG5lY2Vzc2FyaWx5IHN5bW1ldHJpYyBvciBzeW5jaHJvbm91cyB0cmFuc2Zvcm1hdGlvbi4gIEZvciBleGFtcGxlLFxuLy8gYSB6bGliIHN0cmVhbSBtaWdodCB0YWtlIG11bHRpcGxlIHBsYWluLXRleHQgd3JpdGVzKCksIGFuZCB0aGVuXG4vLyBlbWl0IGEgc2luZ2xlIGNvbXByZXNzZWQgY2h1bmsgc29tZSB0aW1lIGluIHRoZSBmdXR1cmUuXG4vL1xuLy8gSGVyZSdzIGhvdyB0aGlzIHdvcmtzOlxuLy9cbi8vIFRoZSBUcmFuc2Zvcm0gc3RyZWFtIGhhcyBhbGwgdGhlIGFzcGVjdHMgb2YgdGhlIHJlYWRhYmxlIGFuZCB3cml0YWJsZVxuLy8gc3RyZWFtIGNsYXNzZXMuICBXaGVuIHlvdSB3cml0ZShjaHVuayksIHRoYXQgY2FsbHMgX3dyaXRlKGNodW5rLGNiKVxuLy8gaW50ZXJuYWxseSwgYW5kIHJldHVybnMgZmFsc2UgaWYgdGhlcmUncyBhIGxvdCBvZiBwZW5kaW5nIHdyaXRlc1xuLy8gYnVmZmVyZWQgdXAuICBXaGVuIHlvdSBjYWxsIHJlYWQoKSwgdGhhdCBjYWxscyBfcmVhZChuKSB1bnRpbFxuLy8gdGhlcmUncyBlbm91Z2ggcGVuZGluZyByZWFkYWJsZSBkYXRhIGJ1ZmZlcmVkIHVwLlxuLy9cbi8vIEluIGEgdHJhbnNmb3JtIHN0cmVhbSwgdGhlIHdyaXR0ZW4gZGF0YSBpcyBwbGFjZWQgaW4gYSBidWZmZXIuICBXaGVuXG4vLyBfcmVhZChuKSBpcyBjYWxsZWQsIGl0IHRyYW5zZm9ybXMgdGhlIHF1ZXVlZCB1cCBkYXRhLCBjYWxsaW5nIHRoZVxuLy8gYnVmZmVyZWQgX3dyaXRlIGNiJ3MgYXMgaXQgY29uc3VtZXMgY2h1bmtzLiAgSWYgY29uc3VtaW5nIGEgc2luZ2xlXG4vLyB3cml0dGVuIGNodW5rIHdvdWxkIHJlc3VsdCBpbiBtdWx0aXBsZSBvdXRwdXQgY2h1bmtzLCB0aGVuIHRoZSBmaXJzdFxuLy8gb3V0cHV0dGVkIGJpdCBjYWxscyB0aGUgcmVhZGNiLCBhbmQgc3Vic2VxdWVudCBjaHVua3MganVzdCBnbyBpbnRvXG4vLyB0aGUgcmVhZCBidWZmZXIsIGFuZCB3aWxsIGNhdXNlIGl0IHRvIGVtaXQgJ3JlYWRhYmxlJyBpZiBuZWNlc3NhcnkuXG4vL1xuLy8gVGhpcyB3YXksIGJhY2stcHJlc3N1cmUgaXMgYWN0dWFsbHkgZGV0ZXJtaW5lZCBieSB0aGUgcmVhZGluZyBzaWRlLFxuLy8gc2luY2UgX3JlYWQgaGFzIHRvIGJlIGNhbGxlZCB0byBzdGFydCBwcm9jZXNzaW5nIGEgbmV3IGNodW5rLiAgSG93ZXZlcixcbi8vIGEgcGF0aG9sb2dpY2FsIGluZmxhdGUgdHlwZSBvZiB0cmFuc2Zvcm0gY2FuIGNhdXNlIGV4Y2Vzc2l2ZSBidWZmZXJpbmdcbi8vIGhlcmUuICBGb3IgZXhhbXBsZSwgaW1hZ2luZSBhIHN0cmVhbSB3aGVyZSBldmVyeSBieXRlIG9mIGlucHV0IGlzXG4vLyBpbnRlcnByZXRlZCBhcyBhbiBpbnRlZ2VyIGZyb20gMC0yNTUsIGFuZCB0aGVuIHJlc3VsdHMgaW4gdGhhdCBtYW55XG4vLyBieXRlcyBvZiBvdXRwdXQuICBXcml0aW5nIHRoZSA0IGJ5dGVzIHtmZixmZixmZixmZn0gd291bGQgcmVzdWx0IGluXG4vLyAxa2Igb2YgZGF0YSBiZWluZyBvdXRwdXQuICBJbiB0aGlzIGNhc2UsIHlvdSBjb3VsZCB3cml0ZSBhIHZlcnkgc21hbGxcbi8vIGFtb3VudCBvZiBpbnB1dCwgYW5kIGVuZCB1cCB3aXRoIGEgdmVyeSBsYXJnZSBhbW91bnQgb2Ygb3V0cHV0LiAgSW5cbi8vIHN1Y2ggYSBwYXRob2xvZ2ljYWwgaW5mbGF0aW5nIG1lY2hhbmlzbSwgdGhlcmUnZCBiZSBubyB3YXkgdG8gdGVsbFxuLy8gdGhlIHN5c3RlbSB0byBzdG9wIGRvaW5nIHRoZSB0cmFuc2Zvcm0uICBBIHNpbmdsZSA0TUIgd3JpdGUgY291bGRcbi8vIGNhdXNlIHRoZSBzeXN0ZW0gdG8gcnVuIG91dCBvZiBtZW1vcnkuXG4vL1xuLy8gSG93ZXZlciwgZXZlbiBpbiBzdWNoIGEgcGF0aG9sb2dpY2FsIGNhc2UsIG9ubHkgYSBzaW5nbGUgd3JpdHRlbiBjaHVua1xuLy8gd291bGQgYmUgY29uc3VtZWQsIGFuZCB0aGVuIHRoZSByZXN0IHdvdWxkIHdhaXQgKHVuLXRyYW5zZm9ybWVkKSB1bnRpbFxuLy8gdGhlIHJlc3VsdHMgb2YgdGhlIHByZXZpb3VzIHRyYW5zZm9ybWVkIGNodW5rIHdlcmUgY29uc3VtZWQuXG5cbid1c2Ugc3RyaWN0JztcblxubW9kdWxlLmV4cG9ydHMgPSBUcmFuc2Zvcm07XG52YXIgX3JlcXVpcmUkY29kZXMgPSByZXF1aXJlKCcuLi9lcnJvcnMnKS5jb2RlcyxcbiAgRVJSX01FVEhPRF9OT1RfSU1QTEVNRU5URUQgPSBfcmVxdWlyZSRjb2Rlcy5FUlJfTUVUSE9EX05PVF9JTVBMRU1FTlRFRCxcbiAgRVJSX01VTFRJUExFX0NBTExCQUNLID0gX3JlcXVpcmUkY29kZXMuRVJSX01VTFRJUExFX0NBTExCQUNLLFxuICBFUlJfVFJBTlNGT1JNX0FMUkVBRFlfVFJBTlNGT1JNSU5HID0gX3JlcXVpcmUkY29kZXMuRVJSX1RSQU5TRk9STV9BTFJFQURZX1RSQU5TRk9STUlORyxcbiAgRVJSX1RSQU5TRk9STV9XSVRIX0xFTkdUSF8wID0gX3JlcXVpcmUkY29kZXMuRVJSX1RSQU5TRk9STV9XSVRIX0xFTkdUSF8wO1xudmFyIER1cGxleCA9IHJlcXVpcmUoJy4vX3N0cmVhbV9kdXBsZXgnKTtcbnJlcXVpcmUoJ2luaGVyaXRzJykoVHJhbnNmb3JtLCBEdXBsZXgpO1xuZnVuY3Rpb24gYWZ0ZXJUcmFuc2Zvcm0oZXIsIGRhdGEpIHtcbiAgdmFyIHRzID0gdGhpcy5fdHJhbnNmb3JtU3RhdGU7XG4gIHRzLnRyYW5zZm9ybWluZyA9IGZhbHNlO1xuICB2YXIgY2IgPSB0cy53cml0ZWNiO1xuICBpZiAoY2IgPT09IG51bGwpIHtcbiAgICByZXR1cm4gdGhpcy5lbWl0KCdlcnJvcicsIG5ldyBFUlJfTVVMVElQTEVfQ0FMTEJBQ0soKSk7XG4gIH1cbiAgdHMud3JpdGVjaHVuayA9IG51bGw7XG4gIHRzLndyaXRlY2IgPSBudWxsO1xuICBpZiAoZGF0YSAhPSBudWxsKVxuICAgIC8vIHNpbmdsZSBlcXVhbHMgY2hlY2sgZm9yIGJvdGggYG51bGxgIGFuZCBgdW5kZWZpbmVkYFxuICAgIHRoaXMucHVzaChkYXRhKTtcbiAgY2IoZXIpO1xuICB2YXIgcnMgPSB0aGlzLl9yZWFkYWJsZVN0YXRlO1xuICBycy5yZWFkaW5nID0gZmFsc2U7XG4gIGlmIChycy5uZWVkUmVhZGFibGUgfHwgcnMubGVuZ3RoIDwgcnMuaGlnaFdhdGVyTWFyaykge1xuICAgIHRoaXMuX3JlYWQocnMuaGlnaFdhdGVyTWFyayk7XG4gIH1cbn1cbmZ1bmN0aW9uIFRyYW5zZm9ybShvcHRpb25zKSB7XG4gIGlmICghKHRoaXMgaW5zdGFuY2VvZiBUcmFuc2Zvcm0pKSByZXR1cm4gbmV3IFRyYW5zZm9ybShvcHRpb25zKTtcbiAgRHVwbGV4LmNhbGwodGhpcywgb3B0aW9ucyk7XG4gIHRoaXMuX3RyYW5zZm9ybVN0YXRlID0ge1xuICAgIGFmdGVyVHJhbnNmb3JtOiBhZnRlclRyYW5zZm9ybS5iaW5kKHRoaXMpLFxuICAgIG5lZWRUcmFuc2Zvcm06IGZhbHNlLFxuICAgIHRyYW5zZm9ybWluZzogZmFsc2UsXG4gICAgd3JpdGVjYjogbnVsbCxcbiAgICB3cml0ZWNodW5rOiBudWxsLFxuICAgIHdyaXRlZW5jb2Rpbmc6IG51bGxcbiAgfTtcblxuICAvLyBzdGFydCBvdXQgYXNraW5nIGZvciBhIHJlYWRhYmxlIGV2ZW50IG9uY2UgZGF0YSBpcyB0cmFuc2Zvcm1lZC5cbiAgdGhpcy5fcmVhZGFibGVTdGF0ZS5uZWVkUmVhZGFibGUgPSB0cnVlO1xuXG4gIC8vIHdlIGhhdmUgaW1wbGVtZW50ZWQgdGhlIF9yZWFkIG1ldGhvZCwgYW5kIGRvbmUgdGhlIG90aGVyIHRoaW5nc1xuICAvLyB0aGF0IFJlYWRhYmxlIHdhbnRzIGJlZm9yZSB0aGUgZmlyc3QgX3JlYWQgY2FsbCwgc28gdW5zZXQgdGhlXG4gIC8vIHN5bmMgZ3VhcmQgZmxhZy5cbiAgdGhpcy5fcmVhZGFibGVTdGF0ZS5zeW5jID0gZmFsc2U7XG4gIGlmIChvcHRpb25zKSB7XG4gICAgaWYgKHR5cGVvZiBvcHRpb25zLnRyYW5zZm9ybSA9PT0gJ2Z1bmN0aW9uJykgdGhpcy5fdHJhbnNmb3JtID0gb3B0aW9ucy50cmFuc2Zvcm07XG4gICAgaWYgKHR5cGVvZiBvcHRpb25zLmZsdXNoID09PSAnZnVuY3Rpb24nKSB0aGlzLl9mbHVzaCA9IG9wdGlvbnMuZmx1c2g7XG4gIH1cblxuICAvLyBXaGVuIHRoZSB3cml0YWJsZSBzaWRlIGZpbmlzaGVzLCB0aGVuIGZsdXNoIG91dCBhbnl0aGluZyByZW1haW5pbmcuXG4gIHRoaXMub24oJ3ByZWZpbmlzaCcsIHByZWZpbmlzaCk7XG59XG5mdW5jdGlvbiBwcmVmaW5pc2goKSB7XG4gIHZhciBfdGhpcyA9IHRoaXM7XG4gIGlmICh0eXBlb2YgdGhpcy5fZmx1c2ggPT09ICdmdW5jdGlvbicgJiYgIXRoaXMuX3JlYWRhYmxlU3RhdGUuZGVzdHJveWVkKSB7XG4gICAgdGhpcy5fZmx1c2goZnVuY3Rpb24gKGVyLCBkYXRhKSB7XG4gICAgICBkb25lKF90aGlzLCBlciwgZGF0YSk7XG4gICAgfSk7XG4gIH0gZWxzZSB7XG4gICAgZG9uZSh0aGlzLCBudWxsLCBudWxsKTtcbiAgfVxufVxuVHJhbnNmb3JtLnByb3RvdHlwZS5wdXNoID0gZnVuY3Rpb24gKGNodW5rLCBlbmNvZGluZykge1xuICB0aGlzLl90cmFuc2Zvcm1TdGF0ZS5uZWVkVHJhbnNmb3JtID0gZmFsc2U7XG4gIHJldHVybiBEdXBsZXgucHJvdG90eXBlLnB1c2guY2FsbCh0aGlzLCBjaHVuaywgZW5jb2RpbmcpO1xufTtcblxuLy8gVGhpcyBpcyB0aGUgcGFydCB3aGVyZSB5b3UgZG8gc3R1ZmYhXG4vLyBvdmVycmlkZSB0aGlzIGZ1bmN0aW9uIGluIGltcGxlbWVudGF0aW9uIGNsYXNzZXMuXG4vLyAnY2h1bmsnIGlzIGFuIGlucHV0IGNodW5rLlxuLy9cbi8vIENhbGwgYHB1c2gobmV3Q2h1bmspYCB0byBwYXNzIGFsb25nIHRyYW5zZm9ybWVkIG91dHB1dFxuLy8gdG8gdGhlIHJlYWRhYmxlIHNpZGUuICBZb3UgbWF5IGNhbGwgJ3B1c2gnIHplcm8gb3IgbW9yZSB0aW1lcy5cbi8vXG4vLyBDYWxsIGBjYihlcnIpYCB3aGVuIHlvdSBhcmUgZG9uZSB3aXRoIHRoaXMgY2h1bmsuICBJZiB5b3UgcGFzc1xuLy8gYW4gZXJyb3IsIHRoZW4gdGhhdCdsbCBwdXQgdGhlIGh1cnQgb24gdGhlIHdob2xlIG9wZXJhdGlvbi4gIElmIHlvdVxuLy8gbmV2ZXIgY2FsbCBjYigpLCB0aGVuIHlvdSdsbCBuZXZlciBnZXQgYW5vdGhlciBjaHVuay5cblRyYW5zZm9ybS5wcm90b3R5cGUuX3RyYW5zZm9ybSA9IGZ1bmN0aW9uIChjaHVuaywgZW5jb2RpbmcsIGNiKSB7XG4gIGNiKG5ldyBFUlJfTUVUSE9EX05PVF9JTVBMRU1FTlRFRCgnX3RyYW5zZm9ybSgpJykpO1xufTtcblRyYW5zZm9ybS5wcm90b3R5cGUuX3dyaXRlID0gZnVuY3Rpb24gKGNodW5rLCBlbmNvZGluZywgY2IpIHtcbiAgdmFyIHRzID0gdGhpcy5fdHJhbnNmb3JtU3RhdGU7XG4gIHRzLndyaXRlY2IgPSBjYjtcbiAgdHMud3JpdGVjaHVuayA9IGNodW5rO1xuICB0cy53cml0ZWVuY29kaW5nID0gZW5jb2Rpbmc7XG4gIGlmICghdHMudHJhbnNmb3JtaW5nKSB7XG4gICAgdmFyIHJzID0gdGhpcy5fcmVhZGFibGVTdGF0ZTtcbiAgICBpZiAodHMubmVlZFRyYW5zZm9ybSB8fCBycy5uZWVkUmVhZGFibGUgfHwgcnMubGVuZ3RoIDwgcnMuaGlnaFdhdGVyTWFyaykgdGhpcy5fcmVhZChycy5oaWdoV2F0ZXJNYXJrKTtcbiAgfVxufTtcblxuLy8gRG9lc24ndCBtYXR0ZXIgd2hhdCB0aGUgYXJncyBhcmUgaGVyZS5cbi8vIF90cmFuc2Zvcm0gZG9lcyBhbGwgdGhlIHdvcmsuXG4vLyBUaGF0IHdlIGdvdCBoZXJlIG1lYW5zIHRoYXQgdGhlIHJlYWRhYmxlIHNpZGUgd2FudHMgbW9yZSBkYXRhLlxuVHJhbnNmb3JtLnByb3RvdHlwZS5fcmVhZCA9IGZ1bmN0aW9uIChuKSB7XG4gIHZhciB0cyA9IHRoaXMuX3RyYW5zZm9ybVN0YXRlO1xuICBpZiAodHMud3JpdGVjaHVuayAhPT0gbnVsbCAmJiAhdHMudHJhbnNmb3JtaW5nKSB7XG4gICAgdHMudHJhbnNmb3JtaW5nID0gdHJ1ZTtcbiAgICB0aGlzLl90cmFuc2Zvcm0odHMud3JpdGVjaHVuaywgdHMud3JpdGVlbmNvZGluZywgdHMuYWZ0ZXJUcmFuc2Zvcm0pO1xuICB9IGVsc2Uge1xuICAgIC8vIG1hcmsgdGhhdCB3ZSBuZWVkIGEgdHJhbnNmb3JtLCBzbyB0aGF0IGFueSBkYXRhIHRoYXQgY29tZXMgaW5cbiAgICAvLyB3aWxsIGdldCBwcm9jZXNzZWQsIG5vdyB0aGF0IHdlJ3ZlIGFza2VkIGZvciBpdC5cbiAgICB0cy5uZWVkVHJhbnNmb3JtID0gdHJ1ZTtcbiAgfVxufTtcblRyYW5zZm9ybS5wcm90b3R5cGUuX2Rlc3Ryb3kgPSBmdW5jdGlvbiAoZXJyLCBjYikge1xuICBEdXBsZXgucHJvdG90eXBlLl9kZXN0cm95LmNhbGwodGhpcywgZXJyLCBmdW5jdGlvbiAoZXJyMikge1xuICAgIGNiKGVycjIpO1xuICB9KTtcbn07XG5mdW5jdGlvbiBkb25lKHN0cmVhbSwgZXIsIGRhdGEpIHtcbiAgaWYgKGVyKSByZXR1cm4gc3RyZWFtLmVtaXQoJ2Vycm9yJywgZXIpO1xuICBpZiAoZGF0YSAhPSBudWxsKVxuICAgIC8vIHNpbmdsZSBlcXVhbHMgY2hlY2sgZm9yIGJvdGggYG51bGxgIGFuZCBgdW5kZWZpbmVkYFxuICAgIHN0cmVhbS5wdXNoKGRhdGEpO1xuXG4gIC8vIFRPRE8oQnJpZGdlQVIpOiBXcml0ZSBhIHRlc3QgZm9yIHRoZXNlIHR3byBlcnJvciBjYXNlc1xuICAvLyBpZiB0aGVyZSdzIG5vdGhpbmcgaW4gdGhlIHdyaXRlIGJ1ZmZlciwgdGhlbiB0aGF0IG1lYW5zXG4gIC8vIHRoYXQgbm90aGluZyBtb3JlIHdpbGwgZXZlciBiZSBwcm92aWRlZFxuICBpZiAoc3RyZWFtLl93cml0YWJsZVN0YXRlLmxlbmd0aCkgdGhyb3cgbmV3IEVSUl9UUkFOU0ZPUk1fV0lUSF9MRU5HVEhfMCgpO1xuICBpZiAoc3RyZWFtLl90cmFuc2Zvcm1TdGF0ZS50cmFuc2Zvcm1pbmcpIHRocm93IG5ldyBFUlJfVFJBTlNGT1JNX0FMUkVBRFlfVFJBTlNGT1JNSU5HKCk7XG4gIHJldHVybiBzdHJlYW0ucHVzaChudWxsKTtcbn0iLCAiLy8gQ29weXJpZ2h0IEpveWVudCwgSW5jLiBhbmQgb3RoZXIgTm9kZSBjb250cmlidXRvcnMuXG4vL1xuLy8gUGVybWlzc2lvbiBpcyBoZXJlYnkgZ3JhbnRlZCwgZnJlZSBvZiBjaGFyZ2UsIHRvIGFueSBwZXJzb24gb2J0YWluaW5nIGFcbi8vIGNvcHkgb2YgdGhpcyBzb2Z0d2FyZSBhbmQgYXNzb2NpYXRlZCBkb2N1bWVudGF0aW9uIGZpbGVzICh0aGVcbi8vIFwiU29mdHdhcmVcIiksIHRvIGRlYWwgaW4gdGhlIFNvZnR3YXJlIHdpdGhvdXQgcmVzdHJpY3Rpb24sIGluY2x1ZGluZ1xuLy8gd2l0aG91dCBsaW1pdGF0aW9uIHRoZSByaWdodHMgdG8gdXNlLCBjb3B5LCBtb2RpZnksIG1lcmdlLCBwdWJsaXNoLFxuLy8gZGlzdHJpYnV0ZSwgc3VibGljZW5zZSwgYW5kL29yIHNlbGwgY29waWVzIG9mIHRoZSBTb2Z0d2FyZSwgYW5kIHRvIHBlcm1pdFxuLy8gcGVyc29ucyB0byB3aG9tIHRoZSBTb2Z0d2FyZSBpcyBmdXJuaXNoZWQgdG8gZG8gc28sIHN1YmplY3QgdG8gdGhlXG4vLyBmb2xsb3dpbmcgY29uZGl0aW9uczpcbi8vXG4vLyBUaGUgYWJvdmUgY29weXJpZ2h0IG5vdGljZSBhbmQgdGhpcyBwZXJtaXNzaW9uIG5vdGljZSBzaGFsbCBiZSBpbmNsdWRlZFxuLy8gaW4gYWxsIGNvcGllcyBvciBzdWJzdGFudGlhbCBwb3J0aW9ucyBvZiB0aGUgU29mdHdhcmUuXG4vL1xuLy8gVEhFIFNPRlRXQVJFIElTIFBST1ZJREVEIFwiQVMgSVNcIiwgV0lUSE9VVCBXQVJSQU5UWSBPRiBBTlkgS0lORCwgRVhQUkVTU1xuLy8gT1IgSU1QTElFRCwgSU5DTFVESU5HIEJVVCBOT1QgTElNSVRFRCBUTyBUSEUgV0FSUkFOVElFUyBPRlxuLy8gTUVSQ0hBTlRBQklMSVRZLCBGSVRORVNTIEZPUiBBIFBBUlRJQ1VMQVIgUFVSUE9TRSBBTkQgTk9OSU5GUklOR0VNRU5ULiBJTlxuLy8gTk8gRVZFTlQgU0hBTEwgVEhFIEFVVEhPUlMgT1IgQ09QWVJJR0hUIEhPTERFUlMgQkUgTElBQkxFIEZPUiBBTlkgQ0xBSU0sXG4vLyBEQU1BR0VTIE9SIE9USEVSIExJQUJJTElUWSwgV0hFVEhFUiBJTiBBTiBBQ1RJT04gT0YgQ09OVFJBQ1QsIFRPUlQgT1Jcbi8vIE9USEVSV0lTRSwgQVJJU0lORyBGUk9NLCBPVVQgT0YgT1IgSU4gQ09OTkVDVElPTiBXSVRIIFRIRSBTT0ZUV0FSRSBPUiBUSEVcbi8vIFVTRSBPUiBPVEhFUiBERUFMSU5HUyBJTiBUSEUgU09GVFdBUkUuXG5cbi8vIGEgcGFzc3Rocm91Z2ggc3RyZWFtLlxuLy8gYmFzaWNhbGx5IGp1c3QgdGhlIG1vc3QgbWluaW1hbCBzb3J0IG9mIFRyYW5zZm9ybSBzdHJlYW0uXG4vLyBFdmVyeSB3cml0dGVuIGNodW5rIGdldHMgb3V0cHV0IGFzLWlzLlxuXG4ndXNlIHN0cmljdCc7XG5cbm1vZHVsZS5leHBvcnRzID0gUGFzc1Rocm91Z2g7XG52YXIgVHJhbnNmb3JtID0gcmVxdWlyZSgnLi9fc3RyZWFtX3RyYW5zZm9ybScpO1xucmVxdWlyZSgnaW5oZXJpdHMnKShQYXNzVGhyb3VnaCwgVHJhbnNmb3JtKTtcbmZ1bmN0aW9uIFBhc3NUaHJvdWdoKG9wdGlvbnMpIHtcbiAgaWYgKCEodGhpcyBpbnN0YW5jZW9mIFBhc3NUaHJvdWdoKSkgcmV0dXJuIG5ldyBQYXNzVGhyb3VnaChvcHRpb25zKTtcbiAgVHJhbnNmb3JtLmNhbGwodGhpcywgb3B0aW9ucyk7XG59XG5QYXNzVGhyb3VnaC5wcm90b3R5cGUuX3RyYW5zZm9ybSA9IGZ1bmN0aW9uIChjaHVuaywgZW5jb2RpbmcsIGNiKSB7XG4gIGNiKG51bGwsIGNodW5rKTtcbn07IiwgIi8vIFBvcnRlZCBmcm9tIGh0dHBzOi8vZ2l0aHViLmNvbS9tYWZpbnRvc2gvcHVtcCB3aXRoXG4vLyBwZXJtaXNzaW9uIGZyb20gdGhlIGF1dGhvciwgTWF0aGlhcyBCdXVzIChAbWFmaW50b3NoKS5cblxuJ3VzZSBzdHJpY3QnO1xuXG52YXIgZW9zO1xuZnVuY3Rpb24gb25jZShjYWxsYmFjaykge1xuICB2YXIgY2FsbGVkID0gZmFsc2U7XG4gIHJldHVybiBmdW5jdGlvbiAoKSB7XG4gICAgaWYgKGNhbGxlZCkgcmV0dXJuO1xuICAgIGNhbGxlZCA9IHRydWU7XG4gICAgY2FsbGJhY2suYXBwbHkodm9pZCAwLCBhcmd1bWVudHMpO1xuICB9O1xufVxudmFyIF9yZXF1aXJlJGNvZGVzID0gcmVxdWlyZSgnLi4vLi4vLi4vZXJyb3JzJykuY29kZXMsXG4gIEVSUl9NSVNTSU5HX0FSR1MgPSBfcmVxdWlyZSRjb2Rlcy5FUlJfTUlTU0lOR19BUkdTLFxuICBFUlJfU1RSRUFNX0RFU1RST1lFRCA9IF9yZXF1aXJlJGNvZGVzLkVSUl9TVFJFQU1fREVTVFJPWUVEO1xuZnVuY3Rpb24gbm9vcChlcnIpIHtcbiAgLy8gUmV0aHJvdyB0aGUgZXJyb3IgaWYgaXQgZXhpc3RzIHRvIGF2b2lkIHN3YWxsb3dpbmcgaXRcbiAgaWYgKGVycikgdGhyb3cgZXJyO1xufVxuZnVuY3Rpb24gaXNSZXF1ZXN0KHN0cmVhbSkge1xuICByZXR1cm4gc3RyZWFtLnNldEhlYWRlciAmJiB0eXBlb2Ygc3RyZWFtLmFib3J0ID09PSAnZnVuY3Rpb24nO1xufVxuZnVuY3Rpb24gZGVzdHJveWVyKHN0cmVhbSwgcmVhZGluZywgd3JpdGluZywgY2FsbGJhY2spIHtcbiAgY2FsbGJhY2sgPSBvbmNlKGNhbGxiYWNrKTtcbiAgdmFyIGNsb3NlZCA9IGZhbHNlO1xuICBzdHJlYW0ub24oJ2Nsb3NlJywgZnVuY3Rpb24gKCkge1xuICAgIGNsb3NlZCA9IHRydWU7XG4gIH0pO1xuICBpZiAoZW9zID09PSB1bmRlZmluZWQpIGVvcyA9IHJlcXVpcmUoJy4vZW5kLW9mLXN0cmVhbScpO1xuICBlb3Moc3RyZWFtLCB7XG4gICAgcmVhZGFibGU6IHJlYWRpbmcsXG4gICAgd3JpdGFibGU6IHdyaXRpbmdcbiAgfSwgZnVuY3Rpb24gKGVycikge1xuICAgIGlmIChlcnIpIHJldHVybiBjYWxsYmFjayhlcnIpO1xuICAgIGNsb3NlZCA9IHRydWU7XG4gICAgY2FsbGJhY2soKTtcbiAgfSk7XG4gIHZhciBkZXN0cm95ZWQgPSBmYWxzZTtcbiAgcmV0dXJuIGZ1bmN0aW9uIChlcnIpIHtcbiAgICBpZiAoY2xvc2VkKSByZXR1cm47XG4gICAgaWYgKGRlc3Ryb3llZCkgcmV0dXJuO1xuICAgIGRlc3Ryb3llZCA9IHRydWU7XG5cbiAgICAvLyByZXF1ZXN0LmRlc3Ryb3kganVzdCBkbyAuZW5kIC0gLmFib3J0IGlzIHdoYXQgd2Ugd2FudFxuICAgIGlmIChpc1JlcXVlc3Qoc3RyZWFtKSkgcmV0dXJuIHN0cmVhbS5hYm9ydCgpO1xuICAgIGlmICh0eXBlb2Ygc3RyZWFtLmRlc3Ryb3kgPT09ICdmdW5jdGlvbicpIHJldHVybiBzdHJlYW0uZGVzdHJveSgpO1xuICAgIGNhbGxiYWNrKGVyciB8fCBuZXcgRVJSX1NUUkVBTV9ERVNUUk9ZRUQoJ3BpcGUnKSk7XG4gIH07XG59XG5mdW5jdGlvbiBjYWxsKGZuKSB7XG4gIGZuKCk7XG59XG5mdW5jdGlvbiBwaXBlKGZyb20sIHRvKSB7XG4gIHJldHVybiBmcm9tLnBpcGUodG8pO1xufVxuZnVuY3Rpb24gcG9wQ2FsbGJhY2soc3RyZWFtcykge1xuICBpZiAoIXN0cmVhbXMubGVuZ3RoKSByZXR1cm4gbm9vcDtcbiAgaWYgKHR5cGVvZiBzdHJlYW1zW3N0cmVhbXMubGVuZ3RoIC0gMV0gIT09ICdmdW5jdGlvbicpIHJldHVybiBub29wO1xuICByZXR1cm4gc3RyZWFtcy5wb3AoKTtcbn1cbmZ1bmN0aW9uIHBpcGVsaW5lKCkge1xuICBmb3IgKHZhciBfbGVuID0gYXJndW1lbnRzLmxlbmd0aCwgc3RyZWFtcyA9IG5ldyBBcnJheShfbGVuKSwgX2tleSA9IDA7IF9rZXkgPCBfbGVuOyBfa2V5KyspIHtcbiAgICBzdHJlYW1zW19rZXldID0gYXJndW1lbnRzW19rZXldO1xuICB9XG4gIHZhciBjYWxsYmFjayA9IHBvcENhbGxiYWNrKHN0cmVhbXMpO1xuICBpZiAoQXJyYXkuaXNBcnJheShzdHJlYW1zWzBdKSkgc3RyZWFtcyA9IHN0cmVhbXNbMF07XG4gIGlmIChzdHJlYW1zLmxlbmd0aCA8IDIpIHtcbiAgICB0aHJvdyBuZXcgRVJSX01JU1NJTkdfQVJHUygnc3RyZWFtcycpO1xuICB9XG4gIHZhciBlcnJvcjtcbiAgdmFyIGRlc3Ryb3lzID0gc3RyZWFtcy5tYXAoZnVuY3Rpb24gKHN0cmVhbSwgaSkge1xuICAgIHZhciByZWFkaW5nID0gaSA8IHN0cmVhbXMubGVuZ3RoIC0gMTtcbiAgICB2YXIgd3JpdGluZyA9IGkgPiAwO1xuICAgIHJldHVybiBkZXN0cm95ZXIoc3RyZWFtLCByZWFkaW5nLCB3cml0aW5nLCBmdW5jdGlvbiAoZXJyKSB7XG4gICAgICBpZiAoIWVycm9yKSBlcnJvciA9IGVycjtcbiAgICAgIGlmIChlcnIpIGRlc3Ryb3lzLmZvckVhY2goY2FsbCk7XG4gICAgICBpZiAocmVhZGluZykgcmV0dXJuO1xuICAgICAgZGVzdHJveXMuZm9yRWFjaChjYWxsKTtcbiAgICAgIGNhbGxiYWNrKGVycm9yKTtcbiAgICB9KTtcbiAgfSk7XG4gIHJldHVybiBzdHJlYW1zLnJlZHVjZShwaXBlKTtcbn1cbm1vZHVsZS5leHBvcnRzID0gcGlwZWxpbmU7IiwgIi8vIENvcHlyaWdodCBKb3llbnQsIEluYy4gYW5kIG90aGVyIE5vZGUgY29udHJpYnV0b3JzLlxuLy9cbi8vIFBlcm1pc3Npb24gaXMgaGVyZWJ5IGdyYW50ZWQsIGZyZWUgb2YgY2hhcmdlLCB0byBhbnkgcGVyc29uIG9idGFpbmluZyBhXG4vLyBjb3B5IG9mIHRoaXMgc29mdHdhcmUgYW5kIGFzc29jaWF0ZWQgZG9jdW1lbnRhdGlvbiBmaWxlcyAodGhlXG4vLyBcIlNvZnR3YXJlXCIpLCB0byBkZWFsIGluIHRoZSBTb2Z0d2FyZSB3aXRob3V0IHJlc3RyaWN0aW9uLCBpbmNsdWRpbmdcbi8vIHdpdGhvdXQgbGltaXRhdGlvbiB0aGUgcmlnaHRzIHRvIHVzZSwgY29weSwgbW9kaWZ5LCBtZXJnZSwgcHVibGlzaCxcbi8vIGRpc3RyaWJ1dGUsIHN1YmxpY2Vuc2UsIGFuZC9vciBzZWxsIGNvcGllcyBvZiB0aGUgU29mdHdhcmUsIGFuZCB0byBwZXJtaXRcbi8vIHBlcnNvbnMgdG8gd2hvbSB0aGUgU29mdHdhcmUgaXMgZnVybmlzaGVkIHRvIGRvIHNvLCBzdWJqZWN0IHRvIHRoZVxuLy8gZm9sbG93aW5nIGNvbmRpdGlvbnM6XG4vL1xuLy8gVGhlIGFib3ZlIGNvcHlyaWdodCBub3RpY2UgYW5kIHRoaXMgcGVybWlzc2lvbiBub3RpY2Ugc2hhbGwgYmUgaW5jbHVkZWRcbi8vIGluIGFsbCBjb3BpZXMgb3Igc3Vic3RhbnRpYWwgcG9ydGlvbnMgb2YgdGhlIFNvZnR3YXJlLlxuLy9cbi8vIFRIRSBTT0ZUV0FSRSBJUyBQUk9WSURFRCBcIkFTIElTXCIsIFdJVEhPVVQgV0FSUkFOVFkgT0YgQU5ZIEtJTkQsIEVYUFJFU1Ncbi8vIE9SIElNUExJRUQsIElOQ0xVRElORyBCVVQgTk9UIExJTUlURUQgVE8gVEhFIFdBUlJBTlRJRVMgT0Zcbi8vIE1FUkNIQU5UQUJJTElUWSwgRklUTkVTUyBGT1IgQSBQQVJUSUNVTEFSIFBVUlBPU0UgQU5EIE5PTklORlJJTkdFTUVOVC4gSU5cbi8vIE5PIEVWRU5UIFNIQUxMIFRIRSBBVVRIT1JTIE9SIENPUFlSSUdIVCBIT0xERVJTIEJFIExJQUJMRSBGT1IgQU5ZIENMQUlNLFxuLy8gREFNQUdFUyBPUiBPVEhFUiBMSUFCSUxJVFksIFdIRVRIRVIgSU4gQU4gQUNUSU9OIE9GIENPTlRSQUNULCBUT1JUIE9SXG4vLyBPVEhFUldJU0UsIEFSSVNJTkcgRlJPTSwgT1VUIE9GIE9SIElOIENPTk5FQ1RJT04gV0lUSCBUSEUgU09GVFdBUkUgT1IgVEhFXG4vLyBVU0UgT1IgT1RIRVIgREVBTElOR1MgSU4gVEhFIFNPRlRXQVJFLlxuXG5tb2R1bGUuZXhwb3J0cyA9IFN0cmVhbTtcblxudmFyIEVFID0gcmVxdWlyZSgnZXZlbnRzJykuRXZlbnRFbWl0dGVyO1xudmFyIGluaGVyaXRzID0gcmVxdWlyZSgnaW5oZXJpdHMnKTtcblxuaW5oZXJpdHMoU3RyZWFtLCBFRSk7XG5TdHJlYW0uUmVhZGFibGUgPSByZXF1aXJlKCdyZWFkYWJsZS1zdHJlYW0vbGliL19zdHJlYW1fcmVhZGFibGUuanMnKTtcblN0cmVhbS5Xcml0YWJsZSA9IHJlcXVpcmUoJ3JlYWRhYmxlLXN0cmVhbS9saWIvX3N0cmVhbV93cml0YWJsZS5qcycpO1xuU3RyZWFtLkR1cGxleCA9IHJlcXVpcmUoJ3JlYWRhYmxlLXN0cmVhbS9saWIvX3N0cmVhbV9kdXBsZXguanMnKTtcblN0cmVhbS5UcmFuc2Zvcm0gPSByZXF1aXJlKCdyZWFkYWJsZS1zdHJlYW0vbGliL19zdHJlYW1fdHJhbnNmb3JtLmpzJyk7XG5TdHJlYW0uUGFzc1Rocm91Z2ggPSByZXF1aXJlKCdyZWFkYWJsZS1zdHJlYW0vbGliL19zdHJlYW1fcGFzc3Rocm91Z2guanMnKTtcblN0cmVhbS5maW5pc2hlZCA9IHJlcXVpcmUoJ3JlYWRhYmxlLXN0cmVhbS9saWIvaW50ZXJuYWwvc3RyZWFtcy9lbmQtb2Ytc3RyZWFtLmpzJylcblN0cmVhbS5waXBlbGluZSA9IHJlcXVpcmUoJ3JlYWRhYmxlLXN0cmVhbS9saWIvaW50ZXJuYWwvc3RyZWFtcy9waXBlbGluZS5qcycpXG5cbi8vIEJhY2t3YXJkcy1jb21wYXQgd2l0aCBub2RlIDAuNC54XG5TdHJlYW0uU3RyZWFtID0gU3RyZWFtO1xuXG5cblxuLy8gb2xkLXN0eWxlIHN0cmVhbXMuICBOb3RlIHRoYXQgdGhlIHBpcGUgbWV0aG9kICh0aGUgb25seSByZWxldmFudFxuLy8gcGFydCBvZiB0aGlzIGNsYXNzKSBpcyBvdmVycmlkZGVuIGluIHRoZSBSZWFkYWJsZSBjbGFzcy5cblxuZnVuY3Rpb24gU3RyZWFtKCkge1xuICBFRS5jYWxsKHRoaXMpO1xufVxuXG5TdHJlYW0ucHJvdG90eXBlLnBpcGUgPSBmdW5jdGlvbihkZXN0LCBvcHRpb25zKSB7XG4gIHZhciBzb3VyY2UgPSB0aGlzO1xuXG4gIGZ1bmN0aW9uIG9uZGF0YShjaHVuaykge1xuICAgIGlmIChkZXN0LndyaXRhYmxlKSB7XG4gICAgICBpZiAoZmFsc2UgPT09IGRlc3Qud3JpdGUoY2h1bmspICYmIHNvdXJjZS5wYXVzZSkge1xuICAgICAgICBzb3VyY2UucGF1c2UoKTtcbiAgICAgIH1cbiAgICB9XG4gIH1cblxuICBzb3VyY2Uub24oJ2RhdGEnLCBvbmRhdGEpO1xuXG4gIGZ1bmN0aW9uIG9uZHJhaW4oKSB7XG4gICAgaWYgKHNvdXJjZS5yZWFkYWJsZSAmJiBzb3VyY2UucmVzdW1lKSB7XG4gICAgICBzb3VyY2UucmVzdW1lKCk7XG4gICAgfVxuICB9XG5cbiAgZGVzdC5vbignZHJhaW4nLCBvbmRyYWluKTtcblxuICAvLyBJZiB0aGUgJ2VuZCcgb3B0aW9uIGlzIG5vdCBzdXBwbGllZCwgZGVzdC5lbmQoKSB3aWxsIGJlIGNhbGxlZCB3aGVuXG4gIC8vIHNvdXJjZSBnZXRzIHRoZSAnZW5kJyBvciAnY2xvc2UnIGV2ZW50cy4gIE9ubHkgZGVzdC5lbmQoKSBvbmNlLlxuICBpZiAoIWRlc3QuX2lzU3RkaW8gJiYgKCFvcHRpb25zIHx8IG9wdGlvbnMuZW5kICE9PSBmYWxzZSkpIHtcbiAgICBzb3VyY2Uub24oJ2VuZCcsIG9uZW5kKTtcbiAgICBzb3VyY2Uub24oJ2Nsb3NlJywgb25jbG9zZSk7XG4gIH1cblxuICB2YXIgZGlkT25FbmQgPSBmYWxzZTtcbiAgZnVuY3Rpb24gb25lbmQoKSB7XG4gICAgaWYgKGRpZE9uRW5kKSByZXR1cm47XG4gICAgZGlkT25FbmQgPSB0cnVlO1xuXG4gICAgZGVzdC5lbmQoKTtcbiAgfVxuXG5cbiAgZnVuY3Rpb24gb25jbG9zZSgpIHtcbiAgICBpZiAoZGlkT25FbmQpIHJldHVybjtcbiAgICBkaWRPbkVuZCA9IHRydWU7XG5cbiAgICBpZiAodHlwZW9mIGRlc3QuZGVzdHJveSA9PT0gJ2Z1bmN0aW9uJykgZGVzdC5kZXN0cm95KCk7XG4gIH1cblxuICAvLyBkb24ndCBsZWF2ZSBkYW5nbGluZyBwaXBlcyB3aGVuIHRoZXJlIGFyZSBlcnJvcnMuXG4gIGZ1bmN0aW9uIG9uZXJyb3IoZXIpIHtcbiAgICBjbGVhbnVwKCk7XG4gICAgaWYgKEVFLmxpc3RlbmVyQ291bnQodGhpcywgJ2Vycm9yJykgPT09IDApIHtcbiAgICAgIHRocm93IGVyOyAvLyBVbmhhbmRsZWQgc3RyZWFtIGVycm9yIGluIHBpcGUuXG4gICAgfVxuICB9XG5cbiAgc291cmNlLm9uKCdlcnJvcicsIG9uZXJyb3IpO1xuICBkZXN0Lm9uKCdlcnJvcicsIG9uZXJyb3IpO1xuXG4gIC8vIHJlbW92ZSBhbGwgdGhlIGV2ZW50IGxpc3RlbmVycyB0aGF0IHdlcmUgYWRkZWQuXG4gIGZ1bmN0aW9uIGNsZWFudXAoKSB7XG4gICAgc291cmNlLnJlbW92ZUxpc3RlbmVyKCdkYXRhJywgb25kYXRhKTtcbiAgICBkZXN0LnJlbW92ZUxpc3RlbmVyKCdkcmFpbicsIG9uZHJhaW4pO1xuXG4gICAgc291cmNlLnJlbW92ZUxpc3RlbmVyKCdlbmQnLCBvbmVuZCk7XG4gICAgc291cmNlLnJlbW92ZUxpc3RlbmVyKCdjbG9zZScsIG9uY2xvc2UpO1xuXG4gICAgc291cmNlLnJlbW92ZUxpc3RlbmVyKCdlcnJvcicsIG9uZXJyb3IpO1xuICAgIGRlc3QucmVtb3ZlTGlzdGVuZXIoJ2Vycm9yJywgb25lcnJvcik7XG5cbiAgICBzb3VyY2UucmVtb3ZlTGlzdGVuZXIoJ2VuZCcsIGNsZWFudXApO1xuICAgIHNvdXJjZS5yZW1vdmVMaXN0ZW5lcignY2xvc2UnLCBjbGVhbnVwKTtcblxuICAgIGRlc3QucmVtb3ZlTGlzdGVuZXIoJ2Nsb3NlJywgY2xlYW51cCk7XG4gIH1cblxuICBzb3VyY2Uub24oJ2VuZCcsIGNsZWFudXApO1xuICBzb3VyY2Uub24oJ2Nsb3NlJywgY2xlYW51cCk7XG5cbiAgZGVzdC5vbignY2xvc2UnLCBjbGVhbnVwKTtcblxuICBkZXN0LmVtaXQoJ3BpcGUnLCBzb3VyY2UpO1xuXG4gIC8vIEFsbG93IGZvciB1bml4LWxpa2UgdXNhZ2U6IEEucGlwZShCKS5waXBlKEMpXG4gIHJldHVybiBkZXN0O1xufTtcbiIsICJ2YXIgc2xpY2UgPSBBcnJheS5wcm90b3R5cGUuc2xpY2U7XG5cbmV4cG9ydHMuZXh0ZW5kID0gZnVuY3Rpb24gZXh0ZW5kKGEsIGIpIHtcbiAgICBmb3IodmFyIGtleSBpbiBiKSBhW2tleV0gPSBiW2tleV07XG5cbiAgICByZXR1cm4gYXJndW1lbnRzLmxlbmd0aCA8IDNcbiAgICAgICAgPyBhXG4gICAgICAgIDogZXh0ZW5kLmFwcGx5KG51bGwsIFthXS5jb25jYXQoc2xpY2UuY2FsbChhcmd1bWVudHMsIDIpKSk7XG59XG4iLCAiXCJ1c2Ugc3RyaWN0XCI7XG52YXIgX19zcHJlYWRBcnJheXMgPSAodGhpcyAmJiB0aGlzLl9fc3ByZWFkQXJyYXlzKSB8fCBmdW5jdGlvbiAoKSB7XG4gICAgZm9yICh2YXIgcyA9IDAsIGkgPSAwLCBpbCA9IGFyZ3VtZW50cy5sZW5ndGg7IGkgPCBpbDsgaSsrKSBzICs9IGFyZ3VtZW50c1tpXS5sZW5ndGg7XG4gICAgZm9yICh2YXIgciA9IEFycmF5KHMpLCBrID0gMCwgaSA9IDA7IGkgPCBpbDsgaSsrKVxuICAgICAgICBmb3IgKHZhciBhID0gYXJndW1lbnRzW2ldLCBqID0gMCwgamwgPSBhLmxlbmd0aDsgaiA8IGpsOyBqKyssIGsrKylcbiAgICAgICAgICAgIHJba10gPSBhW2pdO1xuICAgIHJldHVybiByO1xufTtcbk9iamVjdC5kZWZpbmVQcm9wZXJ0eShleHBvcnRzLCBcIl9fZXNNb2R1bGVcIiwgeyB2YWx1ZTogdHJ1ZSB9KTtcbmZ1bmN0aW9uIHByb21pc2lmeSh2b2wsIGZuLCBnZXRSZXN1bHQpIHtcbiAgICBpZiAoZ2V0UmVzdWx0ID09PSB2b2lkIDApIHsgZ2V0UmVzdWx0ID0gZnVuY3Rpb24gKGlucHV0KSB7IHJldHVybiBpbnB1dDsgfTsgfVxuICAgIHJldHVybiBmdW5jdGlvbiAoKSB7XG4gICAgICAgIHZhciBhcmdzID0gW107XG4gICAgICAgIGZvciAodmFyIF9pID0gMDsgX2kgPCBhcmd1bWVudHMubGVuZ3RoOyBfaSsrKSB7XG4gICAgICAgICAgICBhcmdzW19pXSA9IGFyZ3VtZW50c1tfaV07XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuIG5ldyBQcm9taXNlKGZ1bmN0aW9uIChyZXNvbHZlLCByZWplY3QpIHtcbiAgICAgICAgICAgIHZvbFtmbl0uYmluZCh2b2wpLmFwcGx5KHZvaWQgMCwgX19zcHJlYWRBcnJheXMoYXJncywgW2Z1bmN0aW9uIChlcnJvciwgcmVzdWx0KSB7XG4gICAgICAgICAgICAgICAgICAgIGlmIChlcnJvcilcbiAgICAgICAgICAgICAgICAgICAgICAgIHJldHVybiByZWplY3QoZXJyb3IpO1xuICAgICAgICAgICAgICAgICAgICByZXR1cm4gcmVzb2x2ZShnZXRSZXN1bHQocmVzdWx0KSk7XG4gICAgICAgICAgICAgICAgfV0pKTtcbiAgICAgICAgfSk7XG4gICAgfTtcbn1cbnZhciBGaWxlSGFuZGxlID0gLyoqIEBjbGFzcyAqLyAoZnVuY3Rpb24gKCkge1xuICAgIGZ1bmN0aW9uIEZpbGVIYW5kbGUodm9sLCBmZCkge1xuICAgICAgICB0aGlzLnZvbCA9IHZvbDtcbiAgICAgICAgdGhpcy5mZCA9IGZkO1xuICAgIH1cbiAgICBGaWxlSGFuZGxlLnByb3RvdHlwZS5hcHBlbmRGaWxlID0gZnVuY3Rpb24gKGRhdGEsIG9wdGlvbnMpIHtcbiAgICAgICAgcmV0dXJuIHByb21pc2lmeSh0aGlzLnZvbCwgJ2FwcGVuZEZpbGUnKSh0aGlzLmZkLCBkYXRhLCBvcHRpb25zKTtcbiAgICB9O1xuICAgIEZpbGVIYW5kbGUucHJvdG90eXBlLmNobW9kID0gZnVuY3Rpb24gKG1vZGUpIHtcbiAgICAgICAgcmV0dXJuIHByb21pc2lmeSh0aGlzLnZvbCwgJ2ZjaG1vZCcpKHRoaXMuZmQsIG1vZGUpO1xuICAgIH07XG4gICAgRmlsZUhhbmRsZS5wcm90b3R5cGUuY2hvd24gPSBmdW5jdGlvbiAodWlkLCBnaWQpIHtcbiAgICAgICAgcmV0dXJuIHByb21pc2lmeSh0aGlzLnZvbCwgJ2ZjaG93bicpKHRoaXMuZmQsIHVpZCwgZ2lkKTtcbiAgICB9O1xuICAgIEZpbGVIYW5kbGUucHJvdG90eXBlLmNsb3NlID0gZnVuY3Rpb24gKCkge1xuICAgICAgICByZXR1cm4gcHJvbWlzaWZ5KHRoaXMudm9sLCAnY2xvc2UnKSh0aGlzLmZkKTtcbiAgICB9O1xuICAgIEZpbGVIYW5kbGUucHJvdG90eXBlLmRhdGFzeW5jID0gZnVuY3Rpb24gKCkge1xuICAgICAgICByZXR1cm4gcHJvbWlzaWZ5KHRoaXMudm9sLCAnZmRhdGFzeW5jJykodGhpcy5mZCk7XG4gICAgfTtcbiAgICBGaWxlSGFuZGxlLnByb3RvdHlwZS5yZWFkID0gZnVuY3Rpb24gKGJ1ZmZlciwgb2Zmc2V0LCBsZW5ndGgsIHBvc2l0aW9uKSB7XG4gICAgICAgIHJldHVybiBwcm9taXNpZnkodGhpcy52b2wsICdyZWFkJywgZnVuY3Rpb24gKGJ5dGVzUmVhZCkgeyByZXR1cm4gKHsgYnl0ZXNSZWFkOiBieXRlc1JlYWQsIGJ1ZmZlcjogYnVmZmVyIH0pOyB9KSh0aGlzLmZkLCBidWZmZXIsIG9mZnNldCwgbGVuZ3RoLCBwb3NpdGlvbik7XG4gICAgfTtcbiAgICBGaWxlSGFuZGxlLnByb3RvdHlwZS5yZWFkRmlsZSA9IGZ1bmN0aW9uIChvcHRpb25zKSB7XG4gICAgICAgIHJldHVybiBwcm9taXNpZnkodGhpcy52b2wsICdyZWFkRmlsZScpKHRoaXMuZmQsIG9wdGlvbnMpO1xuICAgIH07XG4gICAgRmlsZUhhbmRsZS5wcm90b3R5cGUuc3RhdCA9IGZ1bmN0aW9uIChvcHRpb25zKSB7XG4gICAgICAgIHJldHVybiBwcm9taXNpZnkodGhpcy52b2wsICdmc3RhdCcpKHRoaXMuZmQsIG9wdGlvbnMpO1xuICAgIH07XG4gICAgRmlsZUhhbmRsZS5wcm90b3R5cGUuc3luYyA9IGZ1bmN0aW9uICgpIHtcbiAgICAgICAgcmV0dXJuIHByb21pc2lmeSh0aGlzLnZvbCwgJ2ZzeW5jJykodGhpcy5mZCk7XG4gICAgfTtcbiAgICBGaWxlSGFuZGxlLnByb3RvdHlwZS50cnVuY2F0ZSA9IGZ1bmN0aW9uIChsZW4pIHtcbiAgICAgICAgcmV0dXJuIHByb21pc2lmeSh0aGlzLnZvbCwgJ2Z0cnVuY2F0ZScpKHRoaXMuZmQsIGxlbik7XG4gICAgfTtcbiAgICBGaWxlSGFuZGxlLnByb3RvdHlwZS51dGltZXMgPSBmdW5jdGlvbiAoYXRpbWUsIG10aW1lKSB7XG4gICAgICAgIHJldHVybiBwcm9taXNpZnkodGhpcy52b2wsICdmdXRpbWVzJykodGhpcy5mZCwgYXRpbWUsIG10aW1lKTtcbiAgICB9O1xuICAgIEZpbGVIYW5kbGUucHJvdG90eXBlLndyaXRlID0gZnVuY3Rpb24gKGJ1ZmZlciwgb2Zmc2V0LCBsZW5ndGgsIHBvc2l0aW9uKSB7XG4gICAgICAgIHJldHVybiBwcm9taXNpZnkodGhpcy52b2wsICd3cml0ZScsIGZ1bmN0aW9uIChieXRlc1dyaXR0ZW4pIHsgcmV0dXJuICh7IGJ5dGVzV3JpdHRlbjogYnl0ZXNXcml0dGVuLCBidWZmZXI6IGJ1ZmZlciB9KTsgfSkodGhpcy5mZCwgYnVmZmVyLCBvZmZzZXQsIGxlbmd0aCwgcG9zaXRpb24pO1xuICAgIH07XG4gICAgRmlsZUhhbmRsZS5wcm90b3R5cGUud3JpdGVGaWxlID0gZnVuY3Rpb24gKGRhdGEsIG9wdGlvbnMpIHtcbiAgICAgICAgcmV0dXJuIHByb21pc2lmeSh0aGlzLnZvbCwgJ3dyaXRlRmlsZScpKHRoaXMuZmQsIGRhdGEsIG9wdGlvbnMpO1xuICAgIH07XG4gICAgcmV0dXJuIEZpbGVIYW5kbGU7XG59KCkpO1xuZXhwb3J0cy5GaWxlSGFuZGxlID0gRmlsZUhhbmRsZTtcbmZ1bmN0aW9uIGNyZWF0ZVByb21pc2VzQXBpKHZvbCkge1xuICAgIGlmICh0eXBlb2YgUHJvbWlzZSA9PT0gJ3VuZGVmaW5lZCcpXG4gICAgICAgIHJldHVybiBudWxsO1xuICAgIHJldHVybiB7XG4gICAgICAgIEZpbGVIYW5kbGU6IEZpbGVIYW5kbGUsXG4gICAgICAgIGFjY2VzczogZnVuY3Rpb24gKHBhdGgsIG1vZGUpIHtcbiAgICAgICAgICAgIHJldHVybiBwcm9taXNpZnkodm9sLCAnYWNjZXNzJykocGF0aCwgbW9kZSk7XG4gICAgICAgIH0sXG4gICAgICAgIGFwcGVuZEZpbGU6IGZ1bmN0aW9uIChwYXRoLCBkYXRhLCBvcHRpb25zKSB7XG4gICAgICAgICAgICByZXR1cm4gcHJvbWlzaWZ5KHZvbCwgJ2FwcGVuZEZpbGUnKShwYXRoIGluc3RhbmNlb2YgRmlsZUhhbmRsZSA/IHBhdGguZmQgOiBwYXRoLCBkYXRhLCBvcHRpb25zKTtcbiAgICAgICAgfSxcbiAgICAgICAgY2htb2Q6IGZ1bmN0aW9uIChwYXRoLCBtb2RlKSB7XG4gICAgICAgICAgICByZXR1cm4gcHJvbWlzaWZ5KHZvbCwgJ2NobW9kJykocGF0aCwgbW9kZSk7XG4gICAgICAgIH0sXG4gICAgICAgIGNob3duOiBmdW5jdGlvbiAocGF0aCwgdWlkLCBnaWQpIHtcbiAgICAgICAgICAgIHJldHVybiBwcm9taXNpZnkodm9sLCAnY2hvd24nKShwYXRoLCB1aWQsIGdpZCk7XG4gICAgICAgIH0sXG4gICAgICAgIGNvcHlGaWxlOiBmdW5jdGlvbiAoc3JjLCBkZXN0LCBmbGFncykge1xuICAgICAgICAgICAgcmV0dXJuIHByb21pc2lmeSh2b2wsICdjb3B5RmlsZScpKHNyYywgZGVzdCwgZmxhZ3MpO1xuICAgICAgICB9LFxuICAgICAgICBsY2htb2Q6IGZ1bmN0aW9uIChwYXRoLCBtb2RlKSB7XG4gICAgICAgICAgICByZXR1cm4gcHJvbWlzaWZ5KHZvbCwgJ2xjaG1vZCcpKHBhdGgsIG1vZGUpO1xuICAgICAgICB9LFxuICAgICAgICBsY2hvd246IGZ1bmN0aW9uIChwYXRoLCB1aWQsIGdpZCkge1xuICAgICAgICAgICAgcmV0dXJuIHByb21pc2lmeSh2b2wsICdsY2hvd24nKShwYXRoLCB1aWQsIGdpZCk7XG4gICAgICAgIH0sXG4gICAgICAgIGxpbms6IGZ1bmN0aW9uIChleGlzdGluZ1BhdGgsIG5ld1BhdGgpIHtcbiAgICAgICAgICAgIHJldHVybiBwcm9taXNpZnkodm9sLCAnbGluaycpKGV4aXN0aW5nUGF0aCwgbmV3UGF0aCk7XG4gICAgICAgIH0sXG4gICAgICAgIGxzdGF0OiBmdW5jdGlvbiAocGF0aCwgb3B0aW9ucykge1xuICAgICAgICAgICAgcmV0dXJuIHByb21pc2lmeSh2b2wsICdsc3RhdCcpKHBhdGgsIG9wdGlvbnMpO1xuICAgICAgICB9LFxuICAgICAgICBta2RpcjogZnVuY3Rpb24gKHBhdGgsIG9wdGlvbnMpIHtcbiAgICAgICAgICAgIHJldHVybiBwcm9taXNpZnkodm9sLCAnbWtkaXInKShwYXRoLCBvcHRpb25zKTtcbiAgICAgICAgfSxcbiAgICAgICAgbWtkdGVtcDogZnVuY3Rpb24gKHByZWZpeCwgb3B0aW9ucykge1xuICAgICAgICAgICAgcmV0dXJuIHByb21pc2lmeSh2b2wsICdta2R0ZW1wJykocHJlZml4LCBvcHRpb25zKTtcbiAgICAgICAgfSxcbiAgICAgICAgb3BlbjogZnVuY3Rpb24gKHBhdGgsIGZsYWdzLCBtb2RlKSB7XG4gICAgICAgICAgICByZXR1cm4gcHJvbWlzaWZ5KHZvbCwgJ29wZW4nLCBmdW5jdGlvbiAoZmQpIHsgcmV0dXJuIG5ldyBGaWxlSGFuZGxlKHZvbCwgZmQpOyB9KShwYXRoLCBmbGFncywgbW9kZSk7XG4gICAgICAgIH0sXG4gICAgICAgIHJlYWRkaXI6IGZ1bmN0aW9uIChwYXRoLCBvcHRpb25zKSB7XG4gICAgICAgICAgICByZXR1cm4gcHJvbWlzaWZ5KHZvbCwgJ3JlYWRkaXInKShwYXRoLCBvcHRpb25zKTtcbiAgICAgICAgfSxcbiAgICAgICAgcmVhZEZpbGU6IGZ1bmN0aW9uIChpZCwgb3B0aW9ucykge1xuICAgICAgICAgICAgcmV0dXJuIHByb21pc2lmeSh2b2wsICdyZWFkRmlsZScpKGlkIGluc3RhbmNlb2YgRmlsZUhhbmRsZSA/IGlkLmZkIDogaWQsIG9wdGlvbnMpO1xuICAgICAgICB9LFxuICAgICAgICByZWFkbGluazogZnVuY3Rpb24gKHBhdGgsIG9wdGlvbnMpIHtcbiAgICAgICAgICAgIHJldHVybiBwcm9taXNpZnkodm9sLCAncmVhZGxpbmsnKShwYXRoLCBvcHRpb25zKTtcbiAgICAgICAgfSxcbiAgICAgICAgcmVhbHBhdGg6IGZ1bmN0aW9uIChwYXRoLCBvcHRpb25zKSB7XG4gICAgICAgICAgICByZXR1cm4gcHJvbWlzaWZ5KHZvbCwgJ3JlYWxwYXRoJykocGF0aCwgb3B0aW9ucyk7XG4gICAgICAgIH0sXG4gICAgICAgIHJlbmFtZTogZnVuY3Rpb24gKG9sZFBhdGgsIG5ld1BhdGgpIHtcbiAgICAgICAgICAgIHJldHVybiBwcm9taXNpZnkodm9sLCAncmVuYW1lJykob2xkUGF0aCwgbmV3UGF0aCk7XG4gICAgICAgIH0sXG4gICAgICAgIHJtZGlyOiBmdW5jdGlvbiAocGF0aCkge1xuICAgICAgICAgICAgcmV0dXJuIHByb21pc2lmeSh2b2wsICdybWRpcicpKHBhdGgpO1xuICAgICAgICB9LFxuICAgICAgICBzdGF0OiBmdW5jdGlvbiAocGF0aCwgb3B0aW9ucykge1xuICAgICAgICAgICAgcmV0dXJuIHByb21pc2lmeSh2b2wsICdzdGF0JykocGF0aCwgb3B0aW9ucyk7XG4gICAgICAgIH0sXG4gICAgICAgIHN5bWxpbms6IGZ1bmN0aW9uICh0YXJnZXQsIHBhdGgsIHR5cGUpIHtcbiAgICAgICAgICAgIHJldHVybiBwcm9taXNpZnkodm9sLCAnc3ltbGluaycpKHRhcmdldCwgcGF0aCwgdHlwZSk7XG4gICAgICAgIH0sXG4gICAgICAgIHRydW5jYXRlOiBmdW5jdGlvbiAocGF0aCwgbGVuKSB7XG4gICAgICAgICAgICByZXR1cm4gcHJvbWlzaWZ5KHZvbCwgJ3RydW5jYXRlJykocGF0aCwgbGVuKTtcbiAgICAgICAgfSxcbiAgICAgICAgdW5saW5rOiBmdW5jdGlvbiAocGF0aCkge1xuICAgICAgICAgICAgcmV0dXJuIHByb21pc2lmeSh2b2wsICd1bmxpbmsnKShwYXRoKTtcbiAgICAgICAgfSxcbiAgICAgICAgdXRpbWVzOiBmdW5jdGlvbiAocGF0aCwgYXRpbWUsIG10aW1lKSB7XG4gICAgICAgICAgICByZXR1cm4gcHJvbWlzaWZ5KHZvbCwgJ3V0aW1lcycpKHBhdGgsIGF0aW1lLCBtdGltZSk7XG4gICAgICAgIH0sXG4gICAgICAgIHdyaXRlRmlsZTogZnVuY3Rpb24gKGlkLCBkYXRhLCBvcHRpb25zKSB7XG4gICAgICAgICAgICByZXR1cm4gcHJvbWlzaWZ5KHZvbCwgJ3dyaXRlRmlsZScpKGlkIGluc3RhbmNlb2YgRmlsZUhhbmRsZSA/IGlkLmZkIDogaWQsIGRhdGEsIG9wdGlvbnMpO1xuICAgICAgICB9LFxuICAgIH07XG59XG5leHBvcnRzLmRlZmF1bHQgPSBjcmVhdGVQcm9taXNlc0FwaTtcbiIsICIndXNlIHN0cmljdCc7XG5cbk9iamVjdC5kZWZpbmVQcm9wZXJ0eShleHBvcnRzLCBcIl9fZXNNb2R1bGVcIiwge1xuICB2YWx1ZTogdHJ1ZVxufSk7XG5leHBvcnRzLnVuaXhpZnkgPSB1bml4aWZ5O1xuZXhwb3J0cy5jb3JyZWN0UGF0aCA9IGNvcnJlY3RQYXRoO1xudmFyIGlzV2luID0gcHJvY2Vzcy5wbGF0Zm9ybSA9PT0gJ3dpbjMyJztcblxuZnVuY3Rpb24gcmVtb3ZlVHJhaWxpbmdTZXBhcmF0b3Ioc3RyKSB7XG4gIHZhciBpID0gc3RyLmxlbmd0aCAtIDE7XG4gIGlmIChpIDwgMikge1xuICAgIHJldHVybiBzdHI7XG4gIH1cbiAgd2hpbGUgKGlzU2VwYXJhdG9yKHN0ciwgaSkpIHtcbiAgICBpLS07XG4gIH1cbiAgcmV0dXJuIHN0ci5zdWJzdHIoMCwgaSArIDEpO1xufVxuXG5mdW5jdGlvbiBpc1NlcGFyYXRvcihzdHIsIGkpIHtcbiAgdmFyIGNoYXIgPSBzdHJbaV07XG4gIHJldHVybiBpID4gMCAmJiAoY2hhciA9PT0gJy8nIHx8IGlzV2luICYmIGNoYXIgPT09ICdcXFxcJyk7XG59XG5cbmZ1bmN0aW9uIG5vcm1hbGl6ZVBhdGgoc3RyLCBzdHJpcFRyYWlsaW5nKSB7XG4gIGlmICh0eXBlb2Ygc3RyICE9PSAnc3RyaW5nJykge1xuICAgIHRocm93IG5ldyBUeXBlRXJyb3IoJ2V4cGVjdGVkIGEgc3RyaW5nJyk7XG4gIH1cbiAgc3RyID0gc3RyLnJlcGxhY2UoL1tcXFxcXFwvXSsvZywgJy8nKTtcbiAgaWYgKHN0cmlwVHJhaWxpbmcgIT09IGZhbHNlKSB7XG4gICAgc3RyID0gcmVtb3ZlVHJhaWxpbmdTZXBhcmF0b3Ioc3RyKTtcbiAgfVxuICByZXR1cm4gc3RyO1xufVxuXG5mdW5jdGlvbiB1bml4aWZ5KGZpbGVwYXRoKSB7XG4gIHZhciBzdHJpcFRyYWlsaW5nID0gYXJndW1lbnRzLmxlbmd0aCA+IDEgJiYgYXJndW1lbnRzWzFdICE9PSB1bmRlZmluZWQgPyBhcmd1bWVudHNbMV0gOiB0cnVlO1xuXG4gIGlmIChpc1dpbikge1xuICAgIGZpbGVwYXRoID0gbm9ybWFsaXplUGF0aChmaWxlcGF0aCwgc3RyaXBUcmFpbGluZyk7XG4gICAgcmV0dXJuIGZpbGVwYXRoLnJlcGxhY2UoL14oW2EtekEtWl0rOnxcXC5cXC8pLywgJycpO1xuICB9XG4gIHJldHVybiBmaWxlcGF0aDtcbn1cblxuZnVuY3Rpb24gY29ycmVjdFBhdGgoZmlsZXBhdGgpIHtcbiAgcmV0dXJuIHVuaXhpZnkoZmlsZXBhdGgucmVwbGFjZSgvXlxcXFxcXFxcXFw/XFxcXC46XFxcXC8sICdcXFxcJykpO1xufSIsICJcInVzZSBzdHJpY3RcIjtcbnZhciBfX2V4dGVuZHMgPSAodGhpcyAmJiB0aGlzLl9fZXh0ZW5kcykgfHwgKGZ1bmN0aW9uICgpIHtcbiAgICB2YXIgZXh0ZW5kU3RhdGljcyA9IGZ1bmN0aW9uIChkLCBiKSB7XG4gICAgICAgIGV4dGVuZFN0YXRpY3MgPSBPYmplY3Quc2V0UHJvdG90eXBlT2YgfHxcbiAgICAgICAgICAgICh7IF9fcHJvdG9fXzogW10gfSBpbnN0YW5jZW9mIEFycmF5ICYmIGZ1bmN0aW9uIChkLCBiKSB7IGQuX19wcm90b19fID0gYjsgfSkgfHxcbiAgICAgICAgICAgIGZ1bmN0aW9uIChkLCBiKSB7IGZvciAodmFyIHAgaW4gYikgaWYgKGIuaGFzT3duUHJvcGVydHkocCkpIGRbcF0gPSBiW3BdOyB9O1xuICAgICAgICByZXR1cm4gZXh0ZW5kU3RhdGljcyhkLCBiKTtcbiAgICB9O1xuICAgIHJldHVybiBmdW5jdGlvbiAoZCwgYikge1xuICAgICAgICBleHRlbmRTdGF0aWNzKGQsIGIpO1xuICAgICAgICBmdW5jdGlvbiBfXygpIHsgdGhpcy5jb25zdHJ1Y3RvciA9IGQ7IH1cbiAgICAgICAgZC5wcm90b3R5cGUgPSBiID09PSBudWxsID8gT2JqZWN0LmNyZWF0ZShiKSA6IChfXy5wcm90b3R5cGUgPSBiLnByb3RvdHlwZSwgbmV3IF9fKCkpO1xuICAgIH07XG59KSgpO1xudmFyIF9fc3ByZWFkQXJyYXlzID0gKHRoaXMgJiYgdGhpcy5fX3NwcmVhZEFycmF5cykgfHwgZnVuY3Rpb24gKCkge1xuICAgIGZvciAodmFyIHMgPSAwLCBpID0gMCwgaWwgPSBhcmd1bWVudHMubGVuZ3RoOyBpIDwgaWw7IGkrKykgcyArPSBhcmd1bWVudHNbaV0ubGVuZ3RoO1xuICAgIGZvciAodmFyIHIgPSBBcnJheShzKSwgayA9IDAsIGkgPSAwOyBpIDwgaWw7IGkrKylcbiAgICAgICAgZm9yICh2YXIgYSA9IGFyZ3VtZW50c1tpXSwgaiA9IDAsIGpsID0gYS5sZW5ndGg7IGogPCBqbDsgaisrLCBrKyspXG4gICAgICAgICAgICByW2tdID0gYVtqXTtcbiAgICByZXR1cm4gcjtcbn07XG5PYmplY3QuZGVmaW5lUHJvcGVydHkoZXhwb3J0cywgXCJfX2VzTW9kdWxlXCIsIHsgdmFsdWU6IHRydWUgfSk7XG52YXIgcGF0aE1vZHVsZSA9IHJlcXVpcmUoXCJwYXRoXCIpO1xudmFyIG5vZGVfMSA9IHJlcXVpcmUoXCIuL25vZGVcIik7XG52YXIgU3RhdHNfMSA9IHJlcXVpcmUoXCIuL1N0YXRzXCIpO1xudmFyIERpcmVudF8xID0gcmVxdWlyZShcIi4vRGlyZW50XCIpO1xudmFyIGJ1ZmZlcl8xID0gcmVxdWlyZShcIi4vaW50ZXJuYWwvYnVmZmVyXCIpO1xudmFyIHNldEltbWVkaWF0ZV8xID0gcmVxdWlyZShcIi4vc2V0SW1tZWRpYXRlXCIpO1xudmFyIHByb2Nlc3NfMSA9IHJlcXVpcmUoXCIuL3Byb2Nlc3NcIik7XG52YXIgc2V0VGltZW91dFVucmVmXzEgPSByZXF1aXJlKFwiLi9zZXRUaW1lb3V0VW5yZWZcIik7XG52YXIgc3RyZWFtXzEgPSByZXF1aXJlKFwic3RyZWFtXCIpO1xudmFyIGNvbnN0YW50c18xID0gcmVxdWlyZShcIi4vY29uc3RhbnRzXCIpO1xudmFyIGV2ZW50c18xID0gcmVxdWlyZShcImV2ZW50c1wiKTtcbnZhciBlbmNvZGluZ18xID0gcmVxdWlyZShcIi4vZW5jb2RpbmdcIik7XG52YXIgZXJyb3JzID0gcmVxdWlyZShcIi4vaW50ZXJuYWwvZXJyb3JzXCIpO1xudmFyIGV4dGVuZCA9IHJlcXVpcmUoJ2Zhc3QtZXh0ZW5kJykuZXh0ZW5kO1xudmFyIHV0aWwgPSByZXF1aXJlKFwidXRpbFwiKTtcbnZhciBwcm9taXNlc18xID0gcmVxdWlyZShcIi4vcHJvbWlzZXNcIik7XG52YXIgcmVzb2x2ZUNyb3NzUGxhdGZvcm0gPSBwYXRoTW9kdWxlLnJlc29sdmU7XG52YXIgT19SRE9OTFkgPSBjb25zdGFudHNfMS5jb25zdGFudHMuT19SRE9OTFksIE9fV1JPTkxZID0gY29uc3RhbnRzXzEuY29uc3RhbnRzLk9fV1JPTkxZLCBPX1JEV1IgPSBjb25zdGFudHNfMS5jb25zdGFudHMuT19SRFdSLCBPX0NSRUFUID0gY29uc3RhbnRzXzEuY29uc3RhbnRzLk9fQ1JFQVQsIE9fRVhDTCA9IGNvbnN0YW50c18xLmNvbnN0YW50cy5PX0VYQ0wsIE9fVFJVTkMgPSBjb25zdGFudHNfMS5jb25zdGFudHMuT19UUlVOQywgT19BUFBFTkQgPSBjb25zdGFudHNfMS5jb25zdGFudHMuT19BUFBFTkQsIE9fU1lOQyA9IGNvbnN0YW50c18xLmNvbnN0YW50cy5PX1NZTkMsIE9fRElSRUNUT1JZID0gY29uc3RhbnRzXzEuY29uc3RhbnRzLk9fRElSRUNUT1JZLCBGX09LID0gY29uc3RhbnRzXzEuY29uc3RhbnRzLkZfT0ssIENPUFlGSUxFX0VYQ0wgPSBjb25zdGFudHNfMS5jb25zdGFudHMuQ09QWUZJTEVfRVhDTCwgQ09QWUZJTEVfRklDTE9ORV9GT1JDRSA9IGNvbnN0YW50c18xLmNvbnN0YW50cy5DT1BZRklMRV9GSUNMT05FX0ZPUkNFO1xudmFyIHNlcDtcbnZhciByZWxhdGl2ZTtcbmlmIChwYXRoTW9kdWxlLnBvc2l4KSB7XG4gICAgdmFyIHBvc2l4ID0gcGF0aE1vZHVsZS5wb3NpeDtcbiAgICBzZXAgPSBwb3NpeC5zZXA7XG4gICAgcmVsYXRpdmUgPSBwb3NpeC5yZWxhdGl2ZTtcbn1cbmVsc2Uge1xuICAgIHNlcCA9IHBhdGhNb2R1bGUuc2VwO1xuICAgIHJlbGF0aXZlID0gcGF0aE1vZHVsZS5yZWxhdGl2ZTtcbn1cbnZhciBpc1dpbiA9IHByb2Nlc3NfMS5kZWZhdWx0LnBsYXRmb3JtID09PSAnd2luMzInO1xudmFyIGtNaW5Qb29sU3BhY2UgPSAxMjg7XG4vLyBjb25zdCBrTWF4TGVuZ3RoID0gcmVxdWlyZSgnYnVmZmVyJykua01heExlbmd0aDtcbi8vIC0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0gRXJyb3IgbWVzc2FnZXNcbi8vIFRPRE86IFVzZSBgaW50ZXJuYWwvZXJyb3JzLmpzYCBpbiB0aGUgZnV0dXJlLlxudmFyIEVSUlNUUiA9IHtcbiAgICBQQVRIX1NUUjogJ3BhdGggbXVzdCBiZSBhIHN0cmluZyBvciBCdWZmZXInLFxuICAgIC8vIEZEOiAgICAgICAgICAgICAnZmlsZSBkZXNjcmlwdG9yIG11c3QgYmUgYSB1bnNpZ25lZCAzMi1iaXQgaW50ZWdlcicsXG4gICAgRkQ6ICdmZCBtdXN0IGJlIGEgZmlsZSBkZXNjcmlwdG9yJyxcbiAgICBNT0RFX0lOVDogJ21vZGUgbXVzdCBiZSBhbiBpbnQnLFxuICAgIENCOiAnY2FsbGJhY2sgbXVzdCBiZSBhIGZ1bmN0aW9uJyxcbiAgICBVSUQ6ICd1aWQgbXVzdCBiZSBhbiB1bnNpZ25lZCBpbnQnLFxuICAgIEdJRDogJ2dpZCBtdXN0IGJlIGFuIHVuc2lnbmVkIGludCcsXG4gICAgTEVOOiAnbGVuIG11c3QgYmUgYW4gaW50ZWdlcicsXG4gICAgQVRJTUU6ICdhdGltZSBtdXN0IGJlIGFuIGludGVnZXInLFxuICAgIE1USU1FOiAnbXRpbWUgbXVzdCBiZSBhbiBpbnRlZ2VyJyxcbiAgICBQUkVGSVg6ICdmaWxlbmFtZSBwcmVmaXggaXMgcmVxdWlyZWQnLFxuICAgIEJVRkZFUjogJ2J1ZmZlciBtdXN0IGJlIGFuIGluc3RhbmNlIG9mIEJ1ZmZlciBvciBTdGF0aWNCdWZmZXInLFxuICAgIE9GRlNFVDogJ29mZnNldCBtdXN0IGJlIGFuIGludGVnZXInLFxuICAgIExFTkdUSDogJ2xlbmd0aCBtdXN0IGJlIGFuIGludGVnZXInLFxuICAgIFBPU0lUSU9OOiAncG9zaXRpb24gbXVzdCBiZSBhbiBpbnRlZ2VyJyxcbn07XG52YXIgRVJSU1RSX09QVFMgPSBmdW5jdGlvbiAodGlwZW9mKSB7IHJldHVybiBcIkV4cGVjdGVkIG9wdGlvbnMgdG8gYmUgZWl0aGVyIGFuIG9iamVjdCBvciBhIHN0cmluZywgYnV0IGdvdCBcIiArIHRpcGVvZiArIFwiIGluc3RlYWRcIjsgfTtcbi8vIGNvbnN0IEVSUlNUUl9GTEFHID0gZmxhZyA9PiBgVW5rbm93biBmaWxlIG9wZW4gZmxhZzogJHtmbGFnfWA7XG52YXIgRU5PRU5UID0gJ0VOT0VOVCc7XG52YXIgRUJBREYgPSAnRUJBREYnO1xudmFyIEVJTlZBTCA9ICdFSU5WQUwnO1xudmFyIEVQRVJNID0gJ0VQRVJNJztcbnZhciBFUFJPVE8gPSAnRVBST1RPJztcbnZhciBFRVhJU1QgPSAnRUVYSVNUJztcbnZhciBFTk9URElSID0gJ0VOT1RESVInO1xudmFyIEVNRklMRSA9ICdFTUZJTEUnO1xudmFyIEVBQ0NFUyA9ICdFQUNDRVMnO1xudmFyIEVJU0RJUiA9ICdFSVNESVInO1xudmFyIEVOT1RFTVBUWSA9ICdFTk9URU1QVFknO1xudmFyIEVOT1NZUyA9ICdFTk9TWVMnO1xuZnVuY3Rpb24gZm9ybWF0RXJyb3IoZXJyb3JDb2RlLCBmdW5jLCBwYXRoLCBwYXRoMikge1xuICAgIGlmIChmdW5jID09PSB2b2lkIDApIHsgZnVuYyA9ICcnOyB9XG4gICAgaWYgKHBhdGggPT09IHZvaWQgMCkgeyBwYXRoID0gJyc7IH1cbiAgICBpZiAocGF0aDIgPT09IHZvaWQgMCkgeyBwYXRoMiA9ICcnOyB9XG4gICAgdmFyIHBhdGhGb3JtYXR0ZWQgPSAnJztcbiAgICBpZiAocGF0aClcbiAgICAgICAgcGF0aEZvcm1hdHRlZCA9IFwiICdcIiArIHBhdGggKyBcIidcIjtcbiAgICBpZiAocGF0aDIpXG4gICAgICAgIHBhdGhGb3JtYXR0ZWQgKz0gXCIgLT4gJ1wiICsgcGF0aDIgKyBcIidcIjtcbiAgICBzd2l0Y2ggKGVycm9yQ29kZSkge1xuICAgICAgICBjYXNlIEVOT0VOVDpcbiAgICAgICAgICAgIHJldHVybiBcIkVOT0VOVDogbm8gc3VjaCBmaWxlIG9yIGRpcmVjdG9yeSwgXCIgKyBmdW5jICsgcGF0aEZvcm1hdHRlZDtcbiAgICAgICAgY2FzZSBFQkFERjpcbiAgICAgICAgICAgIHJldHVybiBcIkVCQURGOiBiYWQgZmlsZSBkZXNjcmlwdG9yLCBcIiArIGZ1bmMgKyBwYXRoRm9ybWF0dGVkO1xuICAgICAgICBjYXNlIEVJTlZBTDpcbiAgICAgICAgICAgIHJldHVybiBcIkVJTlZBTDogaW52YWxpZCBhcmd1bWVudCwgXCIgKyBmdW5jICsgcGF0aEZvcm1hdHRlZDtcbiAgICAgICAgY2FzZSBFUEVSTTpcbiAgICAgICAgICAgIHJldHVybiBcIkVQRVJNOiBvcGVyYXRpb24gbm90IHBlcm1pdHRlZCwgXCIgKyBmdW5jICsgcGF0aEZvcm1hdHRlZDtcbiAgICAgICAgY2FzZSBFUFJPVE86XG4gICAgICAgICAgICByZXR1cm4gXCJFUFJPVE86IHByb3RvY29sIGVycm9yLCBcIiArIGZ1bmMgKyBwYXRoRm9ybWF0dGVkO1xuICAgICAgICBjYXNlIEVFWElTVDpcbiAgICAgICAgICAgIHJldHVybiBcIkVFWElTVDogZmlsZSBhbHJlYWR5IGV4aXN0cywgXCIgKyBmdW5jICsgcGF0aEZvcm1hdHRlZDtcbiAgICAgICAgY2FzZSBFTk9URElSOlxuICAgICAgICAgICAgcmV0dXJuIFwiRU5PVERJUjogbm90IGEgZGlyZWN0b3J5LCBcIiArIGZ1bmMgKyBwYXRoRm9ybWF0dGVkO1xuICAgICAgICBjYXNlIEVJU0RJUjpcbiAgICAgICAgICAgIHJldHVybiBcIkVJU0RJUjogaWxsZWdhbCBvcGVyYXRpb24gb24gYSBkaXJlY3RvcnksIFwiICsgZnVuYyArIHBhdGhGb3JtYXR0ZWQ7XG4gICAgICAgIGNhc2UgRUFDQ0VTOlxuICAgICAgICAgICAgcmV0dXJuIFwiRUFDQ0VTOiBwZXJtaXNzaW9uIGRlbmllZCwgXCIgKyBmdW5jICsgcGF0aEZvcm1hdHRlZDtcbiAgICAgICAgY2FzZSBFTk9URU1QVFk6XG4gICAgICAgICAgICByZXR1cm4gXCJFTk9URU1QVFk6IGRpcmVjdG9yeSBub3QgZW1wdHksIFwiICsgZnVuYyArIHBhdGhGb3JtYXR0ZWQ7XG4gICAgICAgIGNhc2UgRU1GSUxFOlxuICAgICAgICAgICAgcmV0dXJuIFwiRU1GSUxFOiB0b28gbWFueSBvcGVuIGZpbGVzLCBcIiArIGZ1bmMgKyBwYXRoRm9ybWF0dGVkO1xuICAgICAgICBjYXNlIEVOT1NZUzpcbiAgICAgICAgICAgIHJldHVybiBcIkVOT1NZUzogZnVuY3Rpb24gbm90IGltcGxlbWVudGVkLCBcIiArIGZ1bmMgKyBwYXRoRm9ybWF0dGVkO1xuICAgICAgICBkZWZhdWx0OlxuICAgICAgICAgICAgcmV0dXJuIGVycm9yQ29kZSArIFwiOiBlcnJvciBvY2N1cnJlZCwgXCIgKyBmdW5jICsgcGF0aEZvcm1hdHRlZDtcbiAgICB9XG59XG5mdW5jdGlvbiBjcmVhdGVFcnJvcihlcnJvckNvZGUsIGZ1bmMsIHBhdGgsIHBhdGgyLCBDb25zdHJ1Y3Rvcikge1xuICAgIGlmIChmdW5jID09PSB2b2lkIDApIHsgZnVuYyA9ICcnOyB9XG4gICAgaWYgKHBhdGggPT09IHZvaWQgMCkgeyBwYXRoID0gJyc7IH1cbiAgICBpZiAocGF0aDIgPT09IHZvaWQgMCkgeyBwYXRoMiA9ICcnOyB9XG4gICAgaWYgKENvbnN0cnVjdG9yID09PSB2b2lkIDApIHsgQ29uc3RydWN0b3IgPSBFcnJvcjsgfVxuICAgIHZhciBlcnJvciA9IG5ldyBDb25zdHJ1Y3Rvcihmb3JtYXRFcnJvcihlcnJvckNvZGUsIGZ1bmMsIHBhdGgsIHBhdGgyKSk7XG4gICAgZXJyb3IuY29kZSA9IGVycm9yQ29kZTtcbiAgICByZXR1cm4gZXJyb3I7XG59XG4vLyAtLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tIEZsYWdzXG4vLyBMaXN0IG9mIGZpbGUgYGZsYWdzYCBhcyBkZWZpbmVkIGJ5IE5vZGUuXG52YXIgRkxBR1M7XG4oZnVuY3Rpb24gKEZMQUdTKSB7XG4gICAgLy8gT3BlbiBmaWxlIGZvciByZWFkaW5nLiBBbiBleGNlcHRpb24gb2NjdXJzIGlmIHRoZSBmaWxlIGRvZXMgbm90IGV4aXN0LlxuICAgIEZMQUdTW0ZMQUdTW1wiclwiXSA9IE9fUkRPTkxZXSA9IFwiclwiO1xuICAgIC8vIE9wZW4gZmlsZSBmb3IgcmVhZGluZyBhbmQgd3JpdGluZy4gQW4gZXhjZXB0aW9uIG9jY3VycyBpZiB0aGUgZmlsZSBkb2VzIG5vdCBleGlzdC5cbiAgICBGTEFHU1tGTEFHU1tcInIrXCJdID0gT19SRFdSXSA9IFwicitcIjtcbiAgICAvLyBPcGVuIGZpbGUgZm9yIHJlYWRpbmcgaW4gc3luY2hyb25vdXMgbW9kZS4gSW5zdHJ1Y3RzIHRoZSBvcGVyYXRpbmcgc3lzdGVtIHRvIGJ5cGFzcyB0aGUgbG9jYWwgZmlsZSBzeXN0ZW0gY2FjaGUuXG4gICAgRkxBR1NbRkxBR1NbXCJyc1wiXSA9IE9fUkRPTkxZIHwgT19TWU5DXSA9IFwicnNcIjtcbiAgICBGTEFHU1tGTEFHU1tcInNyXCJdID0gRkxBR1MucnNdID0gXCJzclwiO1xuICAgIC8vIE9wZW4gZmlsZSBmb3IgcmVhZGluZyBhbmQgd3JpdGluZywgdGVsbGluZyB0aGUgT1MgdG8gb3BlbiBpdCBzeW5jaHJvbm91c2x5LiBTZWUgbm90ZXMgZm9yICdycycgYWJvdXQgdXNpbmcgdGhpcyB3aXRoIGNhdXRpb24uXG4gICAgRkxBR1NbRkxBR1NbXCJycytcIl0gPSBPX1JEV1IgfCBPX1NZTkNdID0gXCJycytcIjtcbiAgICBGTEFHU1tGTEFHU1tcInNyK1wiXSA9IEZMQUdTWydycysnXV0gPSBcInNyK1wiO1xuICAgIC8vIE9wZW4gZmlsZSBmb3Igd3JpdGluZy4gVGhlIGZpbGUgaXMgY3JlYXRlZCAoaWYgaXQgZG9lcyBub3QgZXhpc3QpIG9yIHRydW5jYXRlZCAoaWYgaXQgZXhpc3RzKS5cbiAgICBGTEFHU1tGTEFHU1tcIndcIl0gPSBPX1dST05MWSB8IE9fQ1JFQVQgfCBPX1RSVU5DXSA9IFwid1wiO1xuICAgIC8vIExpa2UgJ3cnIGJ1dCBmYWlscyBpZiBwYXRoIGV4aXN0cy5cbiAgICBGTEFHU1tGTEFHU1tcInd4XCJdID0gT19XUk9OTFkgfCBPX0NSRUFUIHwgT19UUlVOQyB8IE9fRVhDTF0gPSBcInd4XCI7XG4gICAgRkxBR1NbRkxBR1NbXCJ4d1wiXSA9IEZMQUdTLnd4XSA9IFwieHdcIjtcbiAgICAvLyBPcGVuIGZpbGUgZm9yIHJlYWRpbmcgYW5kIHdyaXRpbmcuIFRoZSBmaWxlIGlzIGNyZWF0ZWQgKGlmIGl0IGRvZXMgbm90IGV4aXN0KSBvciB0cnVuY2F0ZWQgKGlmIGl0IGV4aXN0cykuXG4gICAgRkxBR1NbRkxBR1NbXCJ3K1wiXSA9IE9fUkRXUiB8IE9fQ1JFQVQgfCBPX1RSVU5DXSA9IFwidytcIjtcbiAgICAvLyBMaWtlICd3KycgYnV0IGZhaWxzIGlmIHBhdGggZXhpc3RzLlxuICAgIEZMQUdTW0ZMQUdTW1wid3grXCJdID0gT19SRFdSIHwgT19DUkVBVCB8IE9fVFJVTkMgfCBPX0VYQ0xdID0gXCJ3eCtcIjtcbiAgICBGTEFHU1tGTEFHU1tcInh3K1wiXSA9IEZMQUdTWyd3eCsnXV0gPSBcInh3K1wiO1xuICAgIC8vIE9wZW4gZmlsZSBmb3IgYXBwZW5kaW5nLiBUaGUgZmlsZSBpcyBjcmVhdGVkIGlmIGl0IGRvZXMgbm90IGV4aXN0LlxuICAgIEZMQUdTW0ZMQUdTW1wiYVwiXSA9IE9fV1JPTkxZIHwgT19BUFBFTkQgfCBPX0NSRUFUXSA9IFwiYVwiO1xuICAgIC8vIExpa2UgJ2EnIGJ1dCBmYWlscyBpZiBwYXRoIGV4aXN0cy5cbiAgICBGTEFHU1tGTEFHU1tcImF4XCJdID0gT19XUk9OTFkgfCBPX0FQUEVORCB8IE9fQ1JFQVQgfCBPX0VYQ0xdID0gXCJheFwiO1xuICAgIEZMQUdTW0ZMQUdTW1wieGFcIl0gPSBGTEFHUy5heF0gPSBcInhhXCI7XG4gICAgLy8gT3BlbiBmaWxlIGZvciByZWFkaW5nIGFuZCBhcHBlbmRpbmcuIFRoZSBmaWxlIGlzIGNyZWF0ZWQgaWYgaXQgZG9lcyBub3QgZXhpc3QuXG4gICAgRkxBR1NbRkxBR1NbXCJhK1wiXSA9IE9fUkRXUiB8IE9fQVBQRU5EIHwgT19DUkVBVF0gPSBcImErXCI7XG4gICAgLy8gTGlrZSAnYSsnIGJ1dCBmYWlscyBpZiBwYXRoIGV4aXN0cy5cbiAgICBGTEFHU1tGTEFHU1tcImF4K1wiXSA9IE9fUkRXUiB8IE9fQVBQRU5EIHwgT19DUkVBVCB8IE9fRVhDTF0gPSBcImF4K1wiO1xuICAgIEZMQUdTW0ZMQUdTW1wieGErXCJdID0gRkxBR1NbJ2F4KyddXSA9IFwieGErXCI7XG59KShGTEFHUyA9IGV4cG9ydHMuRkxBR1MgfHwgKGV4cG9ydHMuRkxBR1MgPSB7fSkpO1xuZnVuY3Rpb24gZmxhZ3NUb051bWJlcihmbGFncykge1xuICAgIGlmICh0eXBlb2YgZmxhZ3MgPT09ICdudW1iZXInKVxuICAgICAgICByZXR1cm4gZmxhZ3M7XG4gICAgaWYgKHR5cGVvZiBmbGFncyA9PT0gJ3N0cmluZycpIHtcbiAgICAgICAgdmFyIGZsYWdzTnVtID0gRkxBR1NbZmxhZ3NdO1xuICAgICAgICBpZiAodHlwZW9mIGZsYWdzTnVtICE9PSAndW5kZWZpbmVkJylcbiAgICAgICAgICAgIHJldHVybiBmbGFnc051bTtcbiAgICB9XG4gICAgLy8gdGhyb3cgbmV3IFR5cGVFcnJvcihmb3JtYXRFcnJvcihFUlJTVFJfRkxBRyhmbGFncykpKTtcbiAgICB0aHJvdyBuZXcgZXJyb3JzLlR5cGVFcnJvcignRVJSX0lOVkFMSURfT1BUX1ZBTFVFJywgJ2ZsYWdzJywgZmxhZ3MpO1xufVxuZXhwb3J0cy5mbGFnc1RvTnVtYmVyID0gZmxhZ3NUb051bWJlcjtcbi8vIC0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0gT3B0aW9uc1xuZnVuY3Rpb24gZ2V0T3B0aW9ucyhkZWZhdWx0cywgb3B0aW9ucykge1xuICAgIHZhciBvcHRzO1xuICAgIGlmICghb3B0aW9ucylcbiAgICAgICAgcmV0dXJuIGRlZmF1bHRzO1xuICAgIGVsc2Uge1xuICAgICAgICB2YXIgdGlwZW9mID0gdHlwZW9mIG9wdGlvbnM7XG4gICAgICAgIHN3aXRjaCAodGlwZW9mKSB7XG4gICAgICAgICAgICBjYXNlICdzdHJpbmcnOlxuICAgICAgICAgICAgICAgIG9wdHMgPSBleHRlbmQoe30sIGRlZmF1bHRzLCB7IGVuY29kaW5nOiBvcHRpb25zIH0pO1xuICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgY2FzZSAnb2JqZWN0JzpcbiAgICAgICAgICAgICAgICBvcHRzID0gZXh0ZW5kKHt9LCBkZWZhdWx0cywgb3B0aW9ucyk7XG4gICAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgICBkZWZhdWx0OlxuICAgICAgICAgICAgICAgIHRocm93IFR5cGVFcnJvcihFUlJTVFJfT1BUUyh0aXBlb2YpKTtcbiAgICAgICAgfVxuICAgIH1cbiAgICBpZiAob3B0cy5lbmNvZGluZyAhPT0gJ2J1ZmZlcicpXG4gICAgICAgIGVuY29kaW5nXzEuYXNzZXJ0RW5jb2Rpbmcob3B0cy5lbmNvZGluZyk7XG4gICAgcmV0dXJuIG9wdHM7XG59XG5mdW5jdGlvbiBvcHRzR2VuZXJhdG9yKGRlZmF1bHRzKSB7XG4gICAgcmV0dXJuIGZ1bmN0aW9uIChvcHRpb25zKSB7IHJldHVybiBnZXRPcHRpb25zKGRlZmF1bHRzLCBvcHRpb25zKTsgfTtcbn1cbmZ1bmN0aW9uIHZhbGlkYXRlQ2FsbGJhY2soY2FsbGJhY2spIHtcbiAgICBpZiAodHlwZW9mIGNhbGxiYWNrICE9PSAnZnVuY3Rpb24nKVxuICAgICAgICB0aHJvdyBUeXBlRXJyb3IoRVJSU1RSLkNCKTtcbiAgICByZXR1cm4gY2FsbGJhY2s7XG59XG5mdW5jdGlvbiBvcHRzQW5kQ2JHZW5lcmF0b3IoZ2V0T3B0cykge1xuICAgIHJldHVybiBmdW5jdGlvbiAob3B0aW9ucywgY2FsbGJhY2spIHtcbiAgICAgICAgcmV0dXJuIHR5cGVvZiBvcHRpb25zID09PSAnZnVuY3Rpb24nID8gW2dldE9wdHMoKSwgb3B0aW9uc10gOiBbZ2V0T3B0cyhvcHRpb25zKSwgdmFsaWRhdGVDYWxsYmFjayhjYWxsYmFjayldO1xuICAgIH07XG59XG52YXIgb3B0c0RlZmF1bHRzID0ge1xuICAgIGVuY29kaW5nOiAndXRmOCcsXG59O1xudmFyIGdldERlZmF1bHRPcHRzID0gb3B0c0dlbmVyYXRvcihvcHRzRGVmYXVsdHMpO1xudmFyIGdldERlZmF1bHRPcHRzQW5kQ2IgPSBvcHRzQW5kQ2JHZW5lcmF0b3IoZ2V0RGVmYXVsdE9wdHMpO1xudmFyIHJlYWRGaWxlT3B0c0RlZmF1bHRzID0ge1xuICAgIGZsYWc6ICdyJyxcbn07XG52YXIgZ2V0UmVhZEZpbGVPcHRpb25zID0gb3B0c0dlbmVyYXRvcihyZWFkRmlsZU9wdHNEZWZhdWx0cyk7XG52YXIgd3JpdGVGaWxlRGVmYXVsdHMgPSB7XG4gICAgZW5jb2Rpbmc6ICd1dGY4JyxcbiAgICBtb2RlOiA0MzggLyogREVGQVVMVCAqLyxcbiAgICBmbGFnOiBGTEFHU1tGTEFHUy53XSxcbn07XG52YXIgZ2V0V3JpdGVGaWxlT3B0aW9ucyA9IG9wdHNHZW5lcmF0b3Iod3JpdGVGaWxlRGVmYXVsdHMpO1xudmFyIGFwcGVuZEZpbGVEZWZhdWx0cyA9IHtcbiAgICBlbmNvZGluZzogJ3V0ZjgnLFxuICAgIG1vZGU6IDQzOCAvKiBERUZBVUxUICovLFxuICAgIGZsYWc6IEZMQUdTW0ZMQUdTLmFdLFxufTtcbnZhciBnZXRBcHBlbmRGaWxlT3B0cyA9IG9wdHNHZW5lcmF0b3IoYXBwZW5kRmlsZURlZmF1bHRzKTtcbnZhciBnZXRBcHBlbmRGaWxlT3B0c0FuZENiID0gb3B0c0FuZENiR2VuZXJhdG9yKGdldEFwcGVuZEZpbGVPcHRzKTtcbnZhciByZWFscGF0aERlZmF1bHRzID0gb3B0c0RlZmF1bHRzO1xudmFyIGdldFJlYWxwYXRoT3B0aW9ucyA9IG9wdHNHZW5lcmF0b3IocmVhbHBhdGhEZWZhdWx0cyk7XG52YXIgZ2V0UmVhbHBhdGhPcHRzQW5kQ2IgPSBvcHRzQW5kQ2JHZW5lcmF0b3IoZ2V0UmVhbHBhdGhPcHRpb25zKTtcbnZhciBta2RpckRlZmF1bHRzID0ge1xuICAgIG1vZGU6IDUxMSAvKiBESVIgKi8sXG4gICAgcmVjdXJzaXZlOiBmYWxzZSxcbn07XG52YXIgZ2V0TWtkaXJPcHRpb25zID0gZnVuY3Rpb24gKG9wdGlvbnMpIHtcbiAgICBpZiAodHlwZW9mIG9wdGlvbnMgPT09ICdudW1iZXInKVxuICAgICAgICByZXR1cm4gZXh0ZW5kKHt9LCBta2RpckRlZmF1bHRzLCB7IG1vZGU6IG9wdGlvbnMgfSk7XG4gICAgcmV0dXJuIGV4dGVuZCh7fSwgbWtkaXJEZWZhdWx0cywgb3B0aW9ucyk7XG59O1xudmFyIHJtZGlyRGVmYXVsdHMgPSB7XG4gICAgcmVjdXJzaXZlOiBmYWxzZSxcbn07XG52YXIgZ2V0Um1kaXJPcHRpb25zID0gZnVuY3Rpb24gKG9wdGlvbnMpIHtcbiAgICByZXR1cm4gZXh0ZW5kKHt9LCBybWRpckRlZmF1bHRzLCBvcHRpb25zKTtcbn07XG52YXIgcmVhZGRpckRlZmF1bHRzID0ge1xuICAgIGVuY29kaW5nOiAndXRmOCcsXG4gICAgd2l0aEZpbGVUeXBlczogZmFsc2UsXG59O1xudmFyIGdldFJlYWRkaXJPcHRpb25zID0gb3B0c0dlbmVyYXRvcihyZWFkZGlyRGVmYXVsdHMpO1xudmFyIGdldFJlYWRkaXJPcHRzQW5kQ2IgPSBvcHRzQW5kQ2JHZW5lcmF0b3IoZ2V0UmVhZGRpck9wdGlvbnMpO1xudmFyIHN0YXREZWZhdWx0cyA9IHtcbiAgICBiaWdpbnQ6IGZhbHNlLFxufTtcbnZhciBnZXRTdGF0T3B0aW9ucyA9IGZ1bmN0aW9uIChvcHRpb25zKSB7XG4gICAgaWYgKG9wdGlvbnMgPT09IHZvaWQgMCkgeyBvcHRpb25zID0ge307IH1cbiAgICByZXR1cm4gZXh0ZW5kKHt9LCBzdGF0RGVmYXVsdHMsIG9wdGlvbnMpO1xufTtcbnZhciBnZXRTdGF0T3B0c0FuZENiID0gZnVuY3Rpb24gKG9wdGlvbnMsIGNhbGxiYWNrKSB7XG4gICAgcmV0dXJuIHR5cGVvZiBvcHRpb25zID09PSAnZnVuY3Rpb24nID8gW2dldFN0YXRPcHRpb25zKCksIG9wdGlvbnNdIDogW2dldFN0YXRPcHRpb25zKG9wdGlvbnMpLCB2YWxpZGF0ZUNhbGxiYWNrKGNhbGxiYWNrKV07XG59O1xuLy8gLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLSBVdGlsaXR5IGZ1bmN0aW9uc1xuZnVuY3Rpb24gZ2V0UGF0aEZyb21VUkxQb3NpeCh1cmwpIHtcbiAgICBpZiAodXJsLmhvc3RuYW1lICE9PSAnJykge1xuICAgICAgICB0aHJvdyBuZXcgZXJyb3JzLlR5cGVFcnJvcignRVJSX0lOVkFMSURfRklMRV9VUkxfSE9TVCcsIHByb2Nlc3NfMS5kZWZhdWx0LnBsYXRmb3JtKTtcbiAgICB9XG4gICAgdmFyIHBhdGhuYW1lID0gdXJsLnBhdGhuYW1lO1xuICAgIGZvciAodmFyIG4gPSAwOyBuIDwgcGF0aG5hbWUubGVuZ3RoOyBuKyspIHtcbiAgICAgICAgaWYgKHBhdGhuYW1lW25dID09PSAnJScpIHtcbiAgICAgICAgICAgIHZhciB0aGlyZCA9IHBhdGhuYW1lLmNvZGVQb2ludEF0KG4gKyAyKSB8IDB4MjA7XG4gICAgICAgICAgICBpZiAocGF0aG5hbWVbbiArIDFdID09PSAnMicgJiYgdGhpcmQgPT09IDEwMikge1xuICAgICAgICAgICAgICAgIHRocm93IG5ldyBlcnJvcnMuVHlwZUVycm9yKCdFUlJfSU5WQUxJRF9GSUxFX1VSTF9QQVRIJywgJ211c3Qgbm90IGluY2x1ZGUgZW5jb2RlZCAvIGNoYXJhY3RlcnMnKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgIH1cbiAgICByZXR1cm4gZGVjb2RlVVJJQ29tcG9uZW50KHBhdGhuYW1lKTtcbn1cbmZ1bmN0aW9uIHBhdGhUb0ZpbGVuYW1lKHBhdGgpIHtcbiAgICBpZiAodHlwZW9mIHBhdGggIT09ICdzdHJpbmcnICYmICFidWZmZXJfMS5CdWZmZXIuaXNCdWZmZXIocGF0aCkpIHtcbiAgICAgICAgdHJ5IHtcbiAgICAgICAgICAgIGlmICghKHBhdGggaW5zdGFuY2VvZiByZXF1aXJlKCd1cmwnKS5VUkwpKVxuICAgICAgICAgICAgICAgIHRocm93IG5ldyBUeXBlRXJyb3IoRVJSU1RSLlBBVEhfU1RSKTtcbiAgICAgICAgfVxuICAgICAgICBjYXRjaCAoZXJyKSB7XG4gICAgICAgICAgICB0aHJvdyBuZXcgVHlwZUVycm9yKEVSUlNUUi5QQVRIX1NUUik7XG4gICAgICAgIH1cbiAgICAgICAgcGF0aCA9IGdldFBhdGhGcm9tVVJMUG9zaXgocGF0aCk7XG4gICAgfVxuICAgIHZhciBwYXRoU3RyaW5nID0gU3RyaW5nKHBhdGgpO1xuICAgIG51bGxDaGVjayhwYXRoU3RyaW5nKTtcbiAgICAvLyByZXR1cm4gc2xhc2gocGF0aFN0cmluZyk7XG4gICAgcmV0dXJuIHBhdGhTdHJpbmc7XG59XG5leHBvcnRzLnBhdGhUb0ZpbGVuYW1lID0gcGF0aFRvRmlsZW5hbWU7XG52YXIgcmVzb2x2ZSA9IGZ1bmN0aW9uIChmaWxlbmFtZSwgYmFzZSkge1xuICAgIGlmIChiYXNlID09PSB2b2lkIDApIHsgYmFzZSA9IHByb2Nlc3NfMS5kZWZhdWx0LmN3ZCgpOyB9XG4gICAgcmV0dXJuIHJlc29sdmVDcm9zc1BsYXRmb3JtKGJhc2UsIGZpbGVuYW1lKTtcbn07XG5pZiAoaXNXaW4pIHtcbiAgICB2YXIgX3Jlc29sdmVfMSA9IHJlc29sdmU7XG4gICAgdmFyIHVuaXhpZnlfMSA9IHJlcXVpcmUoJ2ZzLW1vbmtleS9saWIvY29ycmVjdFBhdGgnKS51bml4aWZ5O1xuICAgIHJlc29sdmUgPSBmdW5jdGlvbiAoZmlsZW5hbWUsIGJhc2UpIHsgcmV0dXJuIHVuaXhpZnlfMShfcmVzb2x2ZV8xKGZpbGVuYW1lLCBiYXNlKSk7IH07XG59XG5mdW5jdGlvbiBmaWxlbmFtZVRvU3RlcHMoZmlsZW5hbWUsIGJhc2UpIHtcbiAgICB2YXIgZnVsbFBhdGggPSByZXNvbHZlKGZpbGVuYW1lLCBiYXNlKTtcbiAgICB2YXIgZnVsbFBhdGhTYW5zU2xhc2ggPSBmdWxsUGF0aC5zdWJzdHIoMSk7XG4gICAgaWYgKCFmdWxsUGF0aFNhbnNTbGFzaClcbiAgICAgICAgcmV0dXJuIFtdO1xuICAgIHJldHVybiBmdWxsUGF0aFNhbnNTbGFzaC5zcGxpdChzZXApO1xufVxuZXhwb3J0cy5maWxlbmFtZVRvU3RlcHMgPSBmaWxlbmFtZVRvU3RlcHM7XG5mdW5jdGlvbiBwYXRoVG9TdGVwcyhwYXRoKSB7XG4gICAgcmV0dXJuIGZpbGVuYW1lVG9TdGVwcyhwYXRoVG9GaWxlbmFtZShwYXRoKSk7XG59XG5leHBvcnRzLnBhdGhUb1N0ZXBzID0gcGF0aFRvU3RlcHM7XG5mdW5jdGlvbiBkYXRhVG9TdHIoZGF0YSwgZW5jb2RpbmcpIHtcbiAgICBpZiAoZW5jb2RpbmcgPT09IHZvaWQgMCkgeyBlbmNvZGluZyA9IGVuY29kaW5nXzEuRU5DT0RJTkdfVVRGODsgfVxuICAgIGlmIChidWZmZXJfMS5CdWZmZXIuaXNCdWZmZXIoZGF0YSkpXG4gICAgICAgIHJldHVybiBkYXRhLnRvU3RyaW5nKGVuY29kaW5nKTtcbiAgICBlbHNlIGlmIChkYXRhIGluc3RhbmNlb2YgVWludDhBcnJheSlcbiAgICAgICAgcmV0dXJuIGJ1ZmZlcl8xLmJ1ZmZlckZyb20oZGF0YSkudG9TdHJpbmcoZW5jb2RpbmcpO1xuICAgIGVsc2VcbiAgICAgICAgcmV0dXJuIFN0cmluZyhkYXRhKTtcbn1cbmV4cG9ydHMuZGF0YVRvU3RyID0gZGF0YVRvU3RyO1xuZnVuY3Rpb24gZGF0YVRvQnVmZmVyKGRhdGEsIGVuY29kaW5nKSB7XG4gICAgaWYgKGVuY29kaW5nID09PSB2b2lkIDApIHsgZW5jb2RpbmcgPSBlbmNvZGluZ18xLkVOQ09ESU5HX1VURjg7IH1cbiAgICBpZiAoYnVmZmVyXzEuQnVmZmVyLmlzQnVmZmVyKGRhdGEpKVxuICAgICAgICByZXR1cm4gZGF0YTtcbiAgICBlbHNlIGlmIChkYXRhIGluc3RhbmNlb2YgVWludDhBcnJheSlcbiAgICAgICAgcmV0dXJuIGJ1ZmZlcl8xLmJ1ZmZlckZyb20oZGF0YSk7XG4gICAgZWxzZVxuICAgICAgICByZXR1cm4gYnVmZmVyXzEuYnVmZmVyRnJvbShTdHJpbmcoZGF0YSksIGVuY29kaW5nKTtcbn1cbmV4cG9ydHMuZGF0YVRvQnVmZmVyID0gZGF0YVRvQnVmZmVyO1xuZnVuY3Rpb24gYnVmZmVyVG9FbmNvZGluZyhidWZmZXIsIGVuY29kaW5nKSB7XG4gICAgaWYgKCFlbmNvZGluZyB8fCBlbmNvZGluZyA9PT0gJ2J1ZmZlcicpXG4gICAgICAgIHJldHVybiBidWZmZXI7XG4gICAgZWxzZVxuICAgICAgICByZXR1cm4gYnVmZmVyLnRvU3RyaW5nKGVuY29kaW5nKTtcbn1cbmV4cG9ydHMuYnVmZmVyVG9FbmNvZGluZyA9IGJ1ZmZlclRvRW5jb2Rpbmc7XG5mdW5jdGlvbiBudWxsQ2hlY2socGF0aCwgY2FsbGJhY2spIHtcbiAgICBpZiAoKCcnICsgcGF0aCkuaW5kZXhPZignXFx1MDAwMCcpICE9PSAtMSkge1xuICAgICAgICB2YXIgZXIgPSBuZXcgRXJyb3IoJ1BhdGggbXVzdCBiZSBhIHN0cmluZyB3aXRob3V0IG51bGwgYnl0ZXMnKTtcbiAgICAgICAgZXIuY29kZSA9IEVOT0VOVDtcbiAgICAgICAgaWYgKHR5cGVvZiBjYWxsYmFjayAhPT0gJ2Z1bmN0aW9uJylcbiAgICAgICAgICAgIHRocm93IGVyO1xuICAgICAgICBwcm9jZXNzXzEuZGVmYXVsdC5uZXh0VGljayhjYWxsYmFjaywgZXIpO1xuICAgICAgICByZXR1cm4gZmFsc2U7XG4gICAgfVxuICAgIHJldHVybiB0cnVlO1xufVxuZnVuY3Rpb24gX21vZGVUb051bWJlcihtb2RlLCBkZWYpIHtcbiAgICBpZiAodHlwZW9mIG1vZGUgPT09ICdudW1iZXInKVxuICAgICAgICByZXR1cm4gbW9kZTtcbiAgICBpZiAodHlwZW9mIG1vZGUgPT09ICdzdHJpbmcnKVxuICAgICAgICByZXR1cm4gcGFyc2VJbnQobW9kZSwgOCk7XG4gICAgaWYgKGRlZilcbiAgICAgICAgcmV0dXJuIG1vZGVUb051bWJlcihkZWYpO1xuICAgIHJldHVybiB1bmRlZmluZWQ7XG59XG5mdW5jdGlvbiBtb2RlVG9OdW1iZXIobW9kZSwgZGVmKSB7XG4gICAgdmFyIHJlc3VsdCA9IF9tb2RlVG9OdW1iZXIobW9kZSwgZGVmKTtcbiAgICBpZiAodHlwZW9mIHJlc3VsdCAhPT0gJ251bWJlcicgfHwgaXNOYU4ocmVzdWx0KSlcbiAgICAgICAgdGhyb3cgbmV3IFR5cGVFcnJvcihFUlJTVFIuTU9ERV9JTlQpO1xuICAgIHJldHVybiByZXN1bHQ7XG59XG5mdW5jdGlvbiBpc0ZkKHBhdGgpIHtcbiAgICByZXR1cm4gcGF0aCA+Pj4gMCA9PT0gcGF0aDtcbn1cbmZ1bmN0aW9uIHZhbGlkYXRlRmQoZmQpIHtcbiAgICBpZiAoIWlzRmQoZmQpKVxuICAgICAgICB0aHJvdyBUeXBlRXJyb3IoRVJSU1RSLkZEKTtcbn1cbi8vIGNvbnZlcnRzIERhdGUgb3IgbnVtYmVyIHRvIGEgZnJhY3Rpb25hbCBVTklYIHRpbWVzdGFtcFxuZnVuY3Rpb24gdG9Vbml4VGltZXN0YW1wKHRpbWUpIHtcbiAgICAvLyB0c2xpbnQ6ZGlzYWJsZS1uZXh0LWxpbmUgdHJpcGxlLWVxdWFsc1xuICAgIGlmICh0eXBlb2YgdGltZSA9PT0gJ3N0cmluZycgJiYgK3RpbWUgPT0gdGltZSkge1xuICAgICAgICByZXR1cm4gK3RpbWU7XG4gICAgfVxuICAgIGlmICh0aW1lIGluc3RhbmNlb2YgRGF0ZSkge1xuICAgICAgICByZXR1cm4gdGltZS5nZXRUaW1lKCkgLyAxMDAwO1xuICAgIH1cbiAgICBpZiAoaXNGaW5pdGUodGltZSkpIHtcbiAgICAgICAgaWYgKHRpbWUgPCAwKSB7XG4gICAgICAgICAgICByZXR1cm4gRGF0ZS5ub3coKSAvIDEwMDA7XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuIHRpbWU7XG4gICAgfVxuICAgIHRocm93IG5ldyBFcnJvcignQ2Fubm90IHBhcnNlIHRpbWU6ICcgKyB0aW1lKTtcbn1cbmV4cG9ydHMudG9Vbml4VGltZXN0YW1wID0gdG9Vbml4VGltZXN0YW1wO1xuZnVuY3Rpb24gdmFsaWRhdGVVaWQodWlkKSB7XG4gICAgaWYgKHR5cGVvZiB1aWQgIT09ICdudW1iZXInKVxuICAgICAgICB0aHJvdyBUeXBlRXJyb3IoRVJSU1RSLlVJRCk7XG59XG5mdW5jdGlvbiB2YWxpZGF0ZUdpZChnaWQpIHtcbiAgICBpZiAodHlwZW9mIGdpZCAhPT0gJ251bWJlcicpXG4gICAgICAgIHRocm93IFR5cGVFcnJvcihFUlJTVFIuR0lEKTtcbn1cbi8qKlxuICogYFZvbHVtZWAgcmVwcmVzZW50cyBhIGZpbGUgc3lzdGVtLlxuICovXG52YXIgVm9sdW1lID0gLyoqIEBjbGFzcyAqLyAoZnVuY3Rpb24gKCkge1xuICAgIGZ1bmN0aW9uIFZvbHVtZShwcm9wcykge1xuICAgICAgICBpZiAocHJvcHMgPT09IHZvaWQgMCkgeyBwcm9wcyA9IHt9OyB9XG4gICAgICAgIC8vIEktbm9kZSBudW1iZXIgY291bnRlci5cbiAgICAgICAgdGhpcy5pbm8gPSAwO1xuICAgICAgICAvLyBBIG1hcHBpbmcgZm9yIGktbm9kZSBudW1iZXJzIHRvIGktbm9kZXMgKGBOb2RlYCk7XG4gICAgICAgIHRoaXMuaW5vZGVzID0ge307XG4gICAgICAgIC8vIExpc3Qgb2YgcmVsZWFzZWQgaS1ub2RlIG51bWJlcnMsIGZvciByZXVzZS5cbiAgICAgICAgdGhpcy5yZWxlYXNlZElub3MgPSBbXTtcbiAgICAgICAgLy8gQSBtYXBwaW5nIGZvciBmaWxlIGRlc2NyaXB0b3JzIHRvIGBGaWxlYHMuXG4gICAgICAgIHRoaXMuZmRzID0ge307XG4gICAgICAgIC8vIEEgbGlzdCBvZiByZXVzYWJsZSAob3BlbmVkIGFuZCBjbG9zZWQpIGZpbGUgZGVzY3JpcHRvcnMsIHRoYXQgc2hvdWxkIGJlXG4gICAgICAgIC8vIHVzZWQgZmlyc3QgYmVmb3JlIGNyZWF0aW5nIGEgbmV3IGZpbGUgZGVzY3JpcHRvci5cbiAgICAgICAgdGhpcy5yZWxlYXNlZEZkcyA9IFtdO1xuICAgICAgICAvLyBNYXggbnVtYmVyIG9mIG9wZW4gZmlsZXMuXG4gICAgICAgIHRoaXMubWF4RmlsZXMgPSAxMDAwMDtcbiAgICAgICAgLy8gQ3VycmVudCBudW1iZXIgb2Ygb3BlbiBmaWxlcy5cbiAgICAgICAgdGhpcy5vcGVuRmlsZXMgPSAwO1xuICAgICAgICB0aGlzLnByb21pc2VzQXBpID0gcHJvbWlzZXNfMS5kZWZhdWx0KHRoaXMpO1xuICAgICAgICB0aGlzLnN0YXRXYXRjaGVycyA9IHt9O1xuICAgICAgICB0aGlzLnByb3BzID0gZXh0ZW5kKHsgTm9kZTogbm9kZV8xLk5vZGUsIExpbms6IG5vZGVfMS5MaW5rLCBGaWxlOiBub2RlXzEuRmlsZSB9LCBwcm9wcyk7XG4gICAgICAgIHZhciByb290ID0gdGhpcy5jcmVhdGVMaW5rKCk7XG4gICAgICAgIHJvb3Quc2V0Tm9kZSh0aGlzLmNyZWF0ZU5vZGUodHJ1ZSkpO1xuICAgICAgICB2YXIgc2VsZiA9IHRoaXM7IC8vIHRzbGludDpkaXNhYmxlLWxpbmUgbm8tdGhpcy1hc3NpZ25tZW50XG4gICAgICAgIHRoaXMuU3RhdFdhdGNoZXIgPSAvKiogQGNsYXNzICovIChmdW5jdGlvbiAoX3N1cGVyKSB7XG4gICAgICAgICAgICBfX2V4dGVuZHMoU3RhdFdhdGNoZXIsIF9zdXBlcik7XG4gICAgICAgICAgICBmdW5jdGlvbiBTdGF0V2F0Y2hlcigpIHtcbiAgICAgICAgICAgICAgICByZXR1cm4gX3N1cGVyLmNhbGwodGhpcywgc2VsZikgfHwgdGhpcztcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIHJldHVybiBTdGF0V2F0Y2hlcjtcbiAgICAgICAgfShTdGF0V2F0Y2hlcikpO1xuICAgICAgICB2YXIgX1JlYWRTdHJlYW0gPSBGc1JlYWRTdHJlYW07XG4gICAgICAgIHRoaXMuUmVhZFN0cmVhbSA9IC8qKiBAY2xhc3MgKi8gKGZ1bmN0aW9uIChfc3VwZXIpIHtcbiAgICAgICAgICAgIF9fZXh0ZW5kcyhjbGFzc18xLCBfc3VwZXIpO1xuICAgICAgICAgICAgZnVuY3Rpb24gY2xhc3NfMSgpIHtcbiAgICAgICAgICAgICAgICB2YXIgYXJncyA9IFtdO1xuICAgICAgICAgICAgICAgIGZvciAodmFyIF9pID0gMDsgX2kgPCBhcmd1bWVudHMubGVuZ3RoOyBfaSsrKSB7XG4gICAgICAgICAgICAgICAgICAgIGFyZ3NbX2ldID0gYXJndW1lbnRzW19pXTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgcmV0dXJuIF9zdXBlci5hcHBseSh0aGlzLCBfX3NwcmVhZEFycmF5cyhbc2VsZl0sIGFyZ3MpKSB8fCB0aGlzO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgcmV0dXJuIGNsYXNzXzE7XG4gICAgICAgIH0oX1JlYWRTdHJlYW0pKTtcbiAgICAgICAgdmFyIF9Xcml0ZVN0cmVhbSA9IEZzV3JpdGVTdHJlYW07XG4gICAgICAgIHRoaXMuV3JpdGVTdHJlYW0gPSAvKiogQGNsYXNzICovIChmdW5jdGlvbiAoX3N1cGVyKSB7XG4gICAgICAgICAgICBfX2V4dGVuZHMoY2xhc3NfMiwgX3N1cGVyKTtcbiAgICAgICAgICAgIGZ1bmN0aW9uIGNsYXNzXzIoKSB7XG4gICAgICAgICAgICAgICAgdmFyIGFyZ3MgPSBbXTtcbiAgICAgICAgICAgICAgICBmb3IgKHZhciBfaSA9IDA7IF9pIDwgYXJndW1lbnRzLmxlbmd0aDsgX2krKykge1xuICAgICAgICAgICAgICAgICAgICBhcmdzW19pXSA9IGFyZ3VtZW50c1tfaV07XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIHJldHVybiBfc3VwZXIuYXBwbHkodGhpcywgX19zcHJlYWRBcnJheXMoW3NlbGZdLCBhcmdzKSkgfHwgdGhpcztcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIHJldHVybiBjbGFzc18yO1xuICAgICAgICB9KF9Xcml0ZVN0cmVhbSkpO1xuICAgICAgICB0aGlzLkZTV2F0Y2hlciA9IC8qKiBAY2xhc3MgKi8gKGZ1bmN0aW9uIChfc3VwZXIpIHtcbiAgICAgICAgICAgIF9fZXh0ZW5kcyhGU1dhdGNoZXIsIF9zdXBlcik7XG4gICAgICAgICAgICBmdW5jdGlvbiBGU1dhdGNoZXIoKSB7XG4gICAgICAgICAgICAgICAgcmV0dXJuIF9zdXBlci5jYWxsKHRoaXMsIHNlbGYpIHx8IHRoaXM7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICByZXR1cm4gRlNXYXRjaGVyO1xuICAgICAgICB9KEZTV2F0Y2hlcikpO1xuICAgICAgICAvLyByb290LnNldENoaWxkKCcuJywgcm9vdCk7XG4gICAgICAgIC8vIHJvb3QuZ2V0Tm9kZSgpLm5saW5rKys7XG4gICAgICAgIC8vIHJvb3Quc2V0Q2hpbGQoJy4uJywgcm9vdCk7XG4gICAgICAgIC8vIHJvb3QuZ2V0Tm9kZSgpLm5saW5rKys7XG4gICAgICAgIHRoaXMucm9vdCA9IHJvb3Q7XG4gICAgfVxuICAgIFZvbHVtZS5mcm9tSlNPTiA9IGZ1bmN0aW9uIChqc29uLCBjd2QpIHtcbiAgICAgICAgdmFyIHZvbCA9IG5ldyBWb2x1bWUoKTtcbiAgICAgICAgdm9sLmZyb21KU09OKGpzb24sIGN3ZCk7XG4gICAgICAgIHJldHVybiB2b2w7XG4gICAgfTtcbiAgICBPYmplY3QuZGVmaW5lUHJvcGVydHkoVm9sdW1lLnByb3RvdHlwZSwgXCJwcm9taXNlc1wiLCB7XG4gICAgICAgIGdldDogZnVuY3Rpb24gKCkge1xuICAgICAgICAgICAgaWYgKHRoaXMucHJvbWlzZXNBcGkgPT09IG51bGwpXG4gICAgICAgICAgICAgICAgdGhyb3cgbmV3IEVycm9yKCdQcm9taXNlIGlzIG5vdCBzdXBwb3J0ZWQgaW4gdGhpcyBlbnZpcm9ubWVudC4nKTtcbiAgICAgICAgICAgIHJldHVybiB0aGlzLnByb21pc2VzQXBpO1xuICAgICAgICB9LFxuICAgICAgICBlbnVtZXJhYmxlOiB0cnVlLFxuICAgICAgICBjb25maWd1cmFibGU6IHRydWVcbiAgICB9KTtcbiAgICBWb2x1bWUucHJvdG90eXBlLmNyZWF0ZUxpbmsgPSBmdW5jdGlvbiAocGFyZW50LCBuYW1lLCBpc0RpcmVjdG9yeSwgcGVybSkge1xuICAgICAgICBpZiAoaXNEaXJlY3RvcnkgPT09IHZvaWQgMCkgeyBpc0RpcmVjdG9yeSA9IGZhbHNlOyB9XG4gICAgICAgIGlmICghcGFyZW50KSB7XG4gICAgICAgICAgICByZXR1cm4gbmV3IHRoaXMucHJvcHMuTGluayh0aGlzLCBudWxsLCAnJyk7XG4gICAgICAgIH1cbiAgICAgICAgaWYgKCFuYW1lKSB7XG4gICAgICAgICAgICB0aHJvdyBuZXcgRXJyb3IoJ2NyZWF0ZUxpbms6IG5hbWUgY2Fubm90IGJlIGVtcHR5Jyk7XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuIHBhcmVudC5jcmVhdGVDaGlsZChuYW1lLCB0aGlzLmNyZWF0ZU5vZGUoaXNEaXJlY3RvcnksIHBlcm0pKTtcbiAgICB9O1xuICAgIFZvbHVtZS5wcm90b3R5cGUuZGVsZXRlTGluayA9IGZ1bmN0aW9uIChsaW5rKSB7XG4gICAgICAgIHZhciBwYXJlbnQgPSBsaW5rLnBhcmVudDtcbiAgICAgICAgaWYgKHBhcmVudCkge1xuICAgICAgICAgICAgcGFyZW50LmRlbGV0ZUNoaWxkKGxpbmspO1xuICAgICAgICAgICAgcmV0dXJuIHRydWU7XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuIGZhbHNlO1xuICAgIH07XG4gICAgVm9sdW1lLnByb3RvdHlwZS5uZXdJbm9OdW1iZXIgPSBmdW5jdGlvbiAoKSB7XG4gICAgICAgIHZhciByZWxlYXNlZEZkID0gdGhpcy5yZWxlYXNlZElub3MucG9wKCk7XG4gICAgICAgIGlmIChyZWxlYXNlZEZkKVxuICAgICAgICAgICAgcmV0dXJuIHJlbGVhc2VkRmQ7XG4gICAgICAgIGVsc2Uge1xuICAgICAgICAgICAgdGhpcy5pbm8gPSAodGhpcy5pbm8gKyAxKSAlIDB4ZmZmZmZmZmY7XG4gICAgICAgICAgICByZXR1cm4gdGhpcy5pbm87XG4gICAgICAgIH1cbiAgICB9O1xuICAgIFZvbHVtZS5wcm90b3R5cGUubmV3RmROdW1iZXIgPSBmdW5jdGlvbiAoKSB7XG4gICAgICAgIHZhciByZWxlYXNlZEZkID0gdGhpcy5yZWxlYXNlZEZkcy5wb3AoKTtcbiAgICAgICAgcmV0dXJuIHR5cGVvZiByZWxlYXNlZEZkID09PSAnbnVtYmVyJyA/IHJlbGVhc2VkRmQgOiBWb2x1bWUuZmQtLTtcbiAgICB9O1xuICAgIFZvbHVtZS5wcm90b3R5cGUuY3JlYXRlTm9kZSA9IGZ1bmN0aW9uIChpc0RpcmVjdG9yeSwgcGVybSkge1xuICAgICAgICBpZiAoaXNEaXJlY3RvcnkgPT09IHZvaWQgMCkgeyBpc0RpcmVjdG9yeSA9IGZhbHNlOyB9XG4gICAgICAgIHZhciBub2RlID0gbmV3IHRoaXMucHJvcHMuTm9kZSh0aGlzLm5ld0lub051bWJlcigpLCBwZXJtKTtcbiAgICAgICAgaWYgKGlzRGlyZWN0b3J5KVxuICAgICAgICAgICAgbm9kZS5zZXRJc0RpcmVjdG9yeSgpO1xuICAgICAgICB0aGlzLmlub2Rlc1tub2RlLmlub10gPSBub2RlO1xuICAgICAgICByZXR1cm4gbm9kZTtcbiAgICB9O1xuICAgIFZvbHVtZS5wcm90b3R5cGUuZ2V0Tm9kZSA9IGZ1bmN0aW9uIChpbm8pIHtcbiAgICAgICAgcmV0dXJuIHRoaXMuaW5vZGVzW2lub107XG4gICAgfTtcbiAgICBWb2x1bWUucHJvdG90eXBlLmRlbGV0ZU5vZGUgPSBmdW5jdGlvbiAobm9kZSkge1xuICAgICAgICBub2RlLmRlbCgpO1xuICAgICAgICBkZWxldGUgdGhpcy5pbm9kZXNbbm9kZS5pbm9dO1xuICAgICAgICB0aGlzLnJlbGVhc2VkSW5vcy5wdXNoKG5vZGUuaW5vKTtcbiAgICB9O1xuICAgIC8vIEdlbmVyYXRlcyA2IGNoYXJhY3RlciBsb25nIHJhbmRvbSBzdHJpbmcsIHVzZWQgYnkgYG1rZHRlbXBgLlxuICAgIFZvbHVtZS5wcm90b3R5cGUuZ2VuUm5kU3RyID0gZnVuY3Rpb24gKCkge1xuICAgICAgICB2YXIgc3RyID0gKE1hdGgucmFuZG9tKCkgKyAxKS50b1N0cmluZygzNikuc3Vic3RyKDIsIDYpO1xuICAgICAgICBpZiAoc3RyLmxlbmd0aCA9PT0gNilcbiAgICAgICAgICAgIHJldHVybiBzdHI7XG4gICAgICAgIGVsc2VcbiAgICAgICAgICAgIHJldHVybiB0aGlzLmdlblJuZFN0cigpO1xuICAgIH07XG4gICAgLy8gUmV0dXJucyBhIGBMaW5rYCAoaGFyZCBsaW5rKSByZWZlcmVuY2VkIGJ5IHBhdGggXCJzcGxpdFwiIGludG8gc3RlcHMuXG4gICAgVm9sdW1lLnByb3RvdHlwZS5nZXRMaW5rID0gZnVuY3Rpb24gKHN0ZXBzKSB7XG4gICAgICAgIHJldHVybiB0aGlzLnJvb3Qud2FsayhzdGVwcyk7XG4gICAgfTtcbiAgICAvLyBKdXN0IGxpbmsgYGdldExpbmtgLCBidXQgdGhyb3dzIGEgY29ycmVjdCB1c2VyIGVycm9yLCBpZiBsaW5rIHRvIGZvdW5kLlxuICAgIFZvbHVtZS5wcm90b3R5cGUuZ2V0TGlua09yVGhyb3cgPSBmdW5jdGlvbiAoZmlsZW5hbWUsIGZ1bmNOYW1lKSB7XG4gICAgICAgIHZhciBzdGVwcyA9IGZpbGVuYW1lVG9TdGVwcyhmaWxlbmFtZSk7XG4gICAgICAgIHZhciBsaW5rID0gdGhpcy5nZXRMaW5rKHN0ZXBzKTtcbiAgICAgICAgaWYgKCFsaW5rKVxuICAgICAgICAgICAgdGhyb3cgY3JlYXRlRXJyb3IoRU5PRU5ULCBmdW5jTmFtZSwgZmlsZW5hbWUpO1xuICAgICAgICByZXR1cm4gbGluaztcbiAgICB9O1xuICAgIC8vIEp1c3QgbGlrZSBgZ2V0TGlua2AsIGJ1dCBhbHNvIGRlcmVmZXJlbmNlL3Jlc29sdmVzIHN5bWJvbGljIGxpbmtzLlxuICAgIFZvbHVtZS5wcm90b3R5cGUuZ2V0UmVzb2x2ZWRMaW5rID0gZnVuY3Rpb24gKGZpbGVuYW1lT3JTdGVwcykge1xuICAgICAgICB2YXIgc3RlcHMgPSB0eXBlb2YgZmlsZW5hbWVPclN0ZXBzID09PSAnc3RyaW5nJyA/IGZpbGVuYW1lVG9TdGVwcyhmaWxlbmFtZU9yU3RlcHMpIDogZmlsZW5hbWVPclN0ZXBzO1xuICAgICAgICB2YXIgbGluayA9IHRoaXMucm9vdDtcbiAgICAgICAgdmFyIGkgPSAwO1xuICAgICAgICB3aGlsZSAoaSA8IHN0ZXBzLmxlbmd0aCkge1xuICAgICAgICAgICAgdmFyIHN0ZXAgPSBzdGVwc1tpXTtcbiAgICAgICAgICAgIGxpbmsgPSBsaW5rLmdldENoaWxkKHN0ZXApO1xuICAgICAgICAgICAgaWYgKCFsaW5rKVxuICAgICAgICAgICAgICAgIHJldHVybiBudWxsO1xuICAgICAgICAgICAgdmFyIG5vZGUgPSBsaW5rLmdldE5vZGUoKTtcbiAgICAgICAgICAgIGlmIChub2RlLmlzU3ltbGluaygpKSB7XG4gICAgICAgICAgICAgICAgc3RlcHMgPSBub2RlLnN5bWxpbmsuY29uY2F0KHN0ZXBzLnNsaWNlKGkgKyAxKSk7XG4gICAgICAgICAgICAgICAgbGluayA9IHRoaXMucm9vdDtcbiAgICAgICAgICAgICAgICBpID0gMDtcbiAgICAgICAgICAgICAgICBjb250aW51ZTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGkrKztcbiAgICAgICAgfVxuICAgICAgICByZXR1cm4gbGluaztcbiAgICB9O1xuICAgIC8vIEp1c3QgbGlrZSBgZ2V0TGlua09yVGhyb3dgLCBidXQgYWxzbyBkZXJlZmVyZW5jZS9yZXNvbHZlcyBzeW1ib2xpYyBsaW5rcy5cbiAgICBWb2x1bWUucHJvdG90eXBlLmdldFJlc29sdmVkTGlua09yVGhyb3cgPSBmdW5jdGlvbiAoZmlsZW5hbWUsIGZ1bmNOYW1lKSB7XG4gICAgICAgIHZhciBsaW5rID0gdGhpcy5nZXRSZXNvbHZlZExpbmsoZmlsZW5hbWUpO1xuICAgICAgICBpZiAoIWxpbmspXG4gICAgICAgICAgICB0aHJvdyBjcmVhdGVFcnJvcihFTk9FTlQsIGZ1bmNOYW1lLCBmaWxlbmFtZSk7XG4gICAgICAgIHJldHVybiBsaW5rO1xuICAgIH07XG4gICAgVm9sdW1lLnByb3RvdHlwZS5yZXNvbHZlU3ltbGlua3MgPSBmdW5jdGlvbiAobGluaykge1xuICAgICAgICAvLyBsZXQgbm9kZTogTm9kZSA9IGxpbmsuZ2V0Tm9kZSgpO1xuICAgICAgICAvLyB3aGlsZShsaW5rICYmIG5vZGUuaXNTeW1saW5rKCkpIHtcbiAgICAgICAgLy8gICAgIGxpbmsgPSB0aGlzLmdldExpbmsobm9kZS5zeW1saW5rKTtcbiAgICAgICAgLy8gICAgIGlmKCFsaW5rKSByZXR1cm4gbnVsbDtcbiAgICAgICAgLy8gICAgIG5vZGUgPSBsaW5rLmdldE5vZGUoKTtcbiAgICAgICAgLy8gfVxuICAgICAgICAvLyByZXR1cm4gbGluaztcbiAgICAgICAgcmV0dXJuIHRoaXMuZ2V0UmVzb2x2ZWRMaW5rKGxpbmsuc3RlcHMuc2xpY2UoMSkpO1xuICAgIH07XG4gICAgLy8gSnVzdCBsaWtlIGBnZXRMaW5rT3JUaHJvd2AsIGJ1dCBhbHNvIHZlcmlmaWVzIHRoYXQgdGhlIGxpbmsgaXMgYSBkaXJlY3RvcnkuXG4gICAgVm9sdW1lLnByb3RvdHlwZS5nZXRMaW5rQXNEaXJPclRocm93ID0gZnVuY3Rpb24gKGZpbGVuYW1lLCBmdW5jTmFtZSkge1xuICAgICAgICB2YXIgbGluayA9IHRoaXMuZ2V0TGlua09yVGhyb3coZmlsZW5hbWUsIGZ1bmNOYW1lKTtcbiAgICAgICAgaWYgKCFsaW5rLmdldE5vZGUoKS5pc0RpcmVjdG9yeSgpKVxuICAgICAgICAgICAgdGhyb3cgY3JlYXRlRXJyb3IoRU5PVERJUiwgZnVuY05hbWUsIGZpbGVuYW1lKTtcbiAgICAgICAgcmV0dXJuIGxpbms7XG4gICAgfTtcbiAgICAvLyBHZXQgdGhlIGltbWVkaWF0ZSBwYXJlbnQgZGlyZWN0b3J5IG9mIHRoZSBsaW5rLlxuICAgIFZvbHVtZS5wcm90b3R5cGUuZ2V0TGlua1BhcmVudCA9IGZ1bmN0aW9uIChzdGVwcykge1xuICAgICAgICByZXR1cm4gdGhpcy5yb290LndhbGsoc3RlcHMsIHN0ZXBzLmxlbmd0aCAtIDEpO1xuICAgIH07XG4gICAgVm9sdW1lLnByb3RvdHlwZS5nZXRMaW5rUGFyZW50QXNEaXJPclRocm93ID0gZnVuY3Rpb24gKGZpbGVuYW1lT3JTdGVwcywgZnVuY05hbWUpIHtcbiAgICAgICAgdmFyIHN0ZXBzID0gZmlsZW5hbWVPclN0ZXBzIGluc3RhbmNlb2YgQXJyYXkgPyBmaWxlbmFtZU9yU3RlcHMgOiBmaWxlbmFtZVRvU3RlcHMoZmlsZW5hbWVPclN0ZXBzKTtcbiAgICAgICAgdmFyIGxpbmsgPSB0aGlzLmdldExpbmtQYXJlbnQoc3RlcHMpO1xuICAgICAgICBpZiAoIWxpbmspXG4gICAgICAgICAgICB0aHJvdyBjcmVhdGVFcnJvcihFTk9FTlQsIGZ1bmNOYW1lLCBzZXAgKyBzdGVwcy5qb2luKHNlcCkpO1xuICAgICAgICBpZiAoIWxpbmsuZ2V0Tm9kZSgpLmlzRGlyZWN0b3J5KCkpXG4gICAgICAgICAgICB0aHJvdyBjcmVhdGVFcnJvcihFTk9URElSLCBmdW5jTmFtZSwgc2VwICsgc3RlcHMuam9pbihzZXApKTtcbiAgICAgICAgcmV0dXJuIGxpbms7XG4gICAgfTtcbiAgICBWb2x1bWUucHJvdG90eXBlLmdldEZpbGVCeUZkID0gZnVuY3Rpb24gKGZkKSB7XG4gICAgICAgIHJldHVybiB0aGlzLmZkc1tTdHJpbmcoZmQpXTtcbiAgICB9O1xuICAgIFZvbHVtZS5wcm90b3R5cGUuZ2V0RmlsZUJ5RmRPclRocm93ID0gZnVuY3Rpb24gKGZkLCBmdW5jTmFtZSkge1xuICAgICAgICBpZiAoIWlzRmQoZmQpKVxuICAgICAgICAgICAgdGhyb3cgVHlwZUVycm9yKEVSUlNUUi5GRCk7XG4gICAgICAgIHZhciBmaWxlID0gdGhpcy5nZXRGaWxlQnlGZChmZCk7XG4gICAgICAgIGlmICghZmlsZSlcbiAgICAgICAgICAgIHRocm93IGNyZWF0ZUVycm9yKEVCQURGLCBmdW5jTmFtZSk7XG4gICAgICAgIHJldHVybiBmaWxlO1xuICAgIH07XG4gICAgVm9sdW1lLnByb3RvdHlwZS5nZXROb2RlQnlJZE9yQ3JlYXRlID0gZnVuY3Rpb24gKGlkLCBmbGFncywgcGVybSkge1xuICAgICAgICBpZiAodHlwZW9mIGlkID09PSAnbnVtYmVyJykge1xuICAgICAgICAgICAgdmFyIGZpbGUgPSB0aGlzLmdldEZpbGVCeUZkKGlkKTtcbiAgICAgICAgICAgIGlmICghZmlsZSlcbiAgICAgICAgICAgICAgICB0aHJvdyBFcnJvcignRmlsZSBudG8gZm91bmQnKTtcbiAgICAgICAgICAgIHJldHVybiBmaWxlLm5vZGU7XG4gICAgICAgIH1cbiAgICAgICAgZWxzZSB7XG4gICAgICAgICAgICB2YXIgc3RlcHMgPSBwYXRoVG9TdGVwcyhpZCk7XG4gICAgICAgICAgICB2YXIgbGluayA9IHRoaXMuZ2V0TGluayhzdGVwcyk7XG4gICAgICAgICAgICBpZiAobGluaylcbiAgICAgICAgICAgICAgICByZXR1cm4gbGluay5nZXROb2RlKCk7XG4gICAgICAgICAgICAvLyBUcnkgY3JlYXRpbmcgYSBub2RlIGlmIG5vdCBmb3VuZC5cbiAgICAgICAgICAgIGlmIChmbGFncyAmIE9fQ1JFQVQpIHtcbiAgICAgICAgICAgICAgICB2YXIgZGlyTGluayA9IHRoaXMuZ2V0TGlua1BhcmVudChzdGVwcyk7XG4gICAgICAgICAgICAgICAgaWYgKGRpckxpbmspIHtcbiAgICAgICAgICAgICAgICAgICAgdmFyIG5hbWVfMSA9IHN0ZXBzW3N0ZXBzLmxlbmd0aCAtIDFdO1xuICAgICAgICAgICAgICAgICAgICBsaW5rID0gdGhpcy5jcmVhdGVMaW5rKGRpckxpbmssIG5hbWVfMSwgZmFsc2UsIHBlcm0pO1xuICAgICAgICAgICAgICAgICAgICByZXR1cm4gbGluay5nZXROb2RlKCk7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfVxuICAgICAgICAgICAgdGhyb3cgY3JlYXRlRXJyb3IoRU5PRU5ULCAnZ2V0Tm9kZUJ5SWRPckNyZWF0ZScsIHBhdGhUb0ZpbGVuYW1lKGlkKSk7XG4gICAgICAgIH1cbiAgICB9O1xuICAgIFZvbHVtZS5wcm90b3R5cGUud3JhcEFzeW5jID0gZnVuY3Rpb24gKG1ldGhvZCwgYXJncywgY2FsbGJhY2spIHtcbiAgICAgICAgdmFyIF90aGlzID0gdGhpcztcbiAgICAgICAgdmFsaWRhdGVDYWxsYmFjayhjYWxsYmFjayk7XG4gICAgICAgIHNldEltbWVkaWF0ZV8xLmRlZmF1bHQoZnVuY3Rpb24gKCkge1xuICAgICAgICAgICAgdHJ5IHtcbiAgICAgICAgICAgICAgICBjYWxsYmFjayhudWxsLCBtZXRob2QuYXBwbHkoX3RoaXMsIGFyZ3MpKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGNhdGNoIChlcnIpIHtcbiAgICAgICAgICAgICAgICBjYWxsYmFjayhlcnIpO1xuICAgICAgICAgICAgfVxuICAgICAgICB9KTtcbiAgICB9O1xuICAgIFZvbHVtZS5wcm90b3R5cGUuX3RvSlNPTiA9IGZ1bmN0aW9uIChsaW5rLCBqc29uLCBwYXRoKSB7XG4gICAgICAgIHZhciBfYTtcbiAgICAgICAgaWYgKGxpbmsgPT09IHZvaWQgMCkgeyBsaW5rID0gdGhpcy5yb290OyB9XG4gICAgICAgIGlmIChqc29uID09PSB2b2lkIDApIHsganNvbiA9IHt9OyB9XG4gICAgICAgIHZhciBpc0VtcHR5ID0gdHJ1ZTtcbiAgICAgICAgdmFyIGNoaWxkcmVuID0gbGluay5jaGlsZHJlbjtcbiAgICAgICAgaWYgKGxpbmsuZ2V0Tm9kZSgpLmlzRmlsZSgpKSB7XG4gICAgICAgICAgICBjaGlsZHJlbiA9IChfYSA9IHt9LCBfYVtsaW5rLmdldE5hbWUoKV0gPSBsaW5rLnBhcmVudC5nZXRDaGlsZChsaW5rLmdldE5hbWUoKSksIF9hKTtcbiAgICAgICAgICAgIGxpbmsgPSBsaW5rLnBhcmVudDtcbiAgICAgICAgfVxuICAgICAgICBmb3IgKHZhciBuYW1lXzIgaW4gY2hpbGRyZW4pIHtcbiAgICAgICAgICAgIGlzRW1wdHkgPSBmYWxzZTtcbiAgICAgICAgICAgIHZhciBjaGlsZCA9IGxpbmsuZ2V0Q2hpbGQobmFtZV8yKTtcbiAgICAgICAgICAgIGlmICghY2hpbGQpIHtcbiAgICAgICAgICAgICAgICB0aHJvdyBuZXcgRXJyb3IoJ190b0pTT046IHVuZXhwZWN0ZWQgdW5kZWZpbmVkJyk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICB2YXIgbm9kZSA9IGNoaWxkLmdldE5vZGUoKTtcbiAgICAgICAgICAgIGlmIChub2RlLmlzRmlsZSgpKSB7XG4gICAgICAgICAgICAgICAgdmFyIGZpbGVuYW1lID0gY2hpbGQuZ2V0UGF0aCgpO1xuICAgICAgICAgICAgICAgIGlmIChwYXRoKVxuICAgICAgICAgICAgICAgICAgICBmaWxlbmFtZSA9IHJlbGF0aXZlKHBhdGgsIGZpbGVuYW1lKTtcbiAgICAgICAgICAgICAgICBqc29uW2ZpbGVuYW1lXSA9IG5vZGUuZ2V0U3RyaW5nKCk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBlbHNlIGlmIChub2RlLmlzRGlyZWN0b3J5KCkpIHtcbiAgICAgICAgICAgICAgICB0aGlzLl90b0pTT04oY2hpbGQsIGpzb24sIHBhdGgpO1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICAgIHZhciBkaXJQYXRoID0gbGluay5nZXRQYXRoKCk7XG4gICAgICAgIGlmIChwYXRoKVxuICAgICAgICAgICAgZGlyUGF0aCA9IHJlbGF0aXZlKHBhdGgsIGRpclBhdGgpO1xuICAgICAgICBpZiAoZGlyUGF0aCAmJiBpc0VtcHR5KSB7XG4gICAgICAgICAgICBqc29uW2RpclBhdGhdID0gbnVsbDtcbiAgICAgICAgfVxuICAgICAgICByZXR1cm4ganNvbjtcbiAgICB9O1xuICAgIFZvbHVtZS5wcm90b3R5cGUudG9KU09OID0gZnVuY3Rpb24gKHBhdGhzLCBqc29uLCBpc1JlbGF0aXZlKSB7XG4gICAgICAgIGlmIChqc29uID09PSB2b2lkIDApIHsganNvbiA9IHt9OyB9XG4gICAgICAgIGlmIChpc1JlbGF0aXZlID09PSB2b2lkIDApIHsgaXNSZWxhdGl2ZSA9IGZhbHNlOyB9XG4gICAgICAgIHZhciBsaW5rcyA9IFtdO1xuICAgICAgICBpZiAocGF0aHMpIHtcbiAgICAgICAgICAgIGlmICghKHBhdGhzIGluc3RhbmNlb2YgQXJyYXkpKVxuICAgICAgICAgICAgICAgIHBhdGhzID0gW3BhdGhzXTtcbiAgICAgICAgICAgIGZvciAodmFyIF9pID0gMCwgcGF0aHNfMSA9IHBhdGhzOyBfaSA8IHBhdGhzXzEubGVuZ3RoOyBfaSsrKSB7XG4gICAgICAgICAgICAgICAgdmFyIHBhdGggPSBwYXRoc18xW19pXTtcbiAgICAgICAgICAgICAgICB2YXIgZmlsZW5hbWUgPSBwYXRoVG9GaWxlbmFtZShwYXRoKTtcbiAgICAgICAgICAgICAgICB2YXIgbGluayA9IHRoaXMuZ2V0UmVzb2x2ZWRMaW5rKGZpbGVuYW1lKTtcbiAgICAgICAgICAgICAgICBpZiAoIWxpbmspXG4gICAgICAgICAgICAgICAgICAgIGNvbnRpbnVlO1xuICAgICAgICAgICAgICAgIGxpbmtzLnB1c2gobGluayk7XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgICAgZWxzZSB7XG4gICAgICAgICAgICBsaW5rcy5wdXNoKHRoaXMucm9vdCk7XG4gICAgICAgIH1cbiAgICAgICAgaWYgKCFsaW5rcy5sZW5ndGgpXG4gICAgICAgICAgICByZXR1cm4ganNvbjtcbiAgICAgICAgZm9yICh2YXIgX2EgPSAwLCBsaW5rc18xID0gbGlua3M7IF9hIDwgbGlua3NfMS5sZW5ndGg7IF9hKyspIHtcbiAgICAgICAgICAgIHZhciBsaW5rID0gbGlua3NfMVtfYV07XG4gICAgICAgICAgICB0aGlzLl90b0pTT04obGluaywganNvbiwgaXNSZWxhdGl2ZSA/IGxpbmsuZ2V0UGF0aCgpIDogJycpO1xuICAgICAgICB9XG4gICAgICAgIHJldHVybiBqc29uO1xuICAgIH07XG4gICAgLy8gZnJvbUpTT04oanNvbjoge1tmaWxlbmFtZTogc3RyaW5nXTogc3RyaW5nfSwgY3dkOiBzdHJpbmcgPSAnLycpIHtcbiAgICBWb2x1bWUucHJvdG90eXBlLmZyb21KU09OID0gZnVuY3Rpb24gKGpzb24sIGN3ZCkge1xuICAgICAgICBpZiAoY3dkID09PSB2b2lkIDApIHsgY3dkID0gcHJvY2Vzc18xLmRlZmF1bHQuY3dkKCk7IH1cbiAgICAgICAgZm9yICh2YXIgZmlsZW5hbWUgaW4ganNvbikge1xuICAgICAgICAgICAgdmFyIGRhdGEgPSBqc29uW2ZpbGVuYW1lXTtcbiAgICAgICAgICAgIGlmICh0eXBlb2YgZGF0YSA9PT0gJ3N0cmluZycpIHtcbiAgICAgICAgICAgICAgICBmaWxlbmFtZSA9IHJlc29sdmUoZmlsZW5hbWUsIGN3ZCk7XG4gICAgICAgICAgICAgICAgdmFyIHN0ZXBzID0gZmlsZW5hbWVUb1N0ZXBzKGZpbGVuYW1lKTtcbiAgICAgICAgICAgICAgICBpZiAoc3RlcHMubGVuZ3RoID4gMSkge1xuICAgICAgICAgICAgICAgICAgICB2YXIgZGlybmFtZSA9IHNlcCArIHN0ZXBzLnNsaWNlKDAsIHN0ZXBzLmxlbmd0aCAtIDEpLmpvaW4oc2VwKTtcbiAgICAgICAgICAgICAgICAgICAgdGhpcy5ta2RpcnBCYXNlKGRpcm5hbWUsIDUxMSAvKiBESVIgKi8pO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICB0aGlzLndyaXRlRmlsZVN5bmMoZmlsZW5hbWUsIGRhdGEpO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgZWxzZSB7XG4gICAgICAgICAgICAgICAgdGhpcy5ta2RpcnBCYXNlKGZpbGVuYW1lLCA1MTEgLyogRElSICovKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgIH07XG4gICAgVm9sdW1lLnByb3RvdHlwZS5yZXNldCA9IGZ1bmN0aW9uICgpIHtcbiAgICAgICAgdGhpcy5pbm8gPSAwO1xuICAgICAgICB0aGlzLmlub2RlcyA9IHt9O1xuICAgICAgICB0aGlzLnJlbGVhc2VkSW5vcyA9IFtdO1xuICAgICAgICB0aGlzLmZkcyA9IHt9O1xuICAgICAgICB0aGlzLnJlbGVhc2VkRmRzID0gW107XG4gICAgICAgIHRoaXMub3BlbkZpbGVzID0gMDtcbiAgICAgICAgdGhpcy5yb290ID0gdGhpcy5jcmVhdGVMaW5rKCk7XG4gICAgICAgIHRoaXMucm9vdC5zZXROb2RlKHRoaXMuY3JlYXRlTm9kZSh0cnVlKSk7XG4gICAgfTtcbiAgICAvLyBMZWdhY3kgaW50ZXJmYWNlXG4gICAgVm9sdW1lLnByb3RvdHlwZS5tb3VudFN5bmMgPSBmdW5jdGlvbiAobW91bnRwb2ludCwganNvbikge1xuICAgICAgICB0aGlzLmZyb21KU09OKGpzb24sIG1vdW50cG9pbnQpO1xuICAgIH07XG4gICAgVm9sdW1lLnByb3RvdHlwZS5vcGVuTGluayA9IGZ1bmN0aW9uIChsaW5rLCBmbGFnc051bSwgcmVzb2x2ZVN5bWxpbmtzKSB7XG4gICAgICAgIGlmIChyZXNvbHZlU3ltbGlua3MgPT09IHZvaWQgMCkgeyByZXNvbHZlU3ltbGlua3MgPSB0cnVlOyB9XG4gICAgICAgIGlmICh0aGlzLm9wZW5GaWxlcyA+PSB0aGlzLm1heEZpbGVzKSB7XG4gICAgICAgICAgICAvLyBUb28gbWFueSBvcGVuIGZpbGVzLlxuICAgICAgICAgICAgdGhyb3cgY3JlYXRlRXJyb3IoRU1GSUxFLCAnb3BlbicsIGxpbmsuZ2V0UGF0aCgpKTtcbiAgICAgICAgfVxuICAgICAgICAvLyBSZXNvbHZlIHN5bWxpbmtzLlxuICAgICAgICB2YXIgcmVhbExpbmsgPSBsaW5rO1xuICAgICAgICBpZiAocmVzb2x2ZVN5bWxpbmtzKVxuICAgICAgICAgICAgcmVhbExpbmsgPSB0aGlzLnJlc29sdmVTeW1saW5rcyhsaW5rKTtcbiAgICAgICAgaWYgKCFyZWFsTGluaylcbiAgICAgICAgICAgIHRocm93IGNyZWF0ZUVycm9yKEVOT0VOVCwgJ29wZW4nLCBsaW5rLmdldFBhdGgoKSk7XG4gICAgICAgIHZhciBub2RlID0gcmVhbExpbmsuZ2V0Tm9kZSgpO1xuICAgICAgICAvLyBDaGVjayB3aGV0aGVyIG5vZGUgaXMgYSBkaXJlY3RvcnlcbiAgICAgICAgaWYgKG5vZGUuaXNEaXJlY3RvcnkoKSkge1xuICAgICAgICAgICAgaWYgKChmbGFnc051bSAmIChPX1JET05MWSB8IE9fUkRXUiB8IE9fV1JPTkxZKSkgIT09IE9fUkRPTkxZKVxuICAgICAgICAgICAgICAgIHRocm93IGNyZWF0ZUVycm9yKEVJU0RJUiwgJ29wZW4nLCBsaW5rLmdldFBhdGgoKSk7XG4gICAgICAgIH1cbiAgICAgICAgZWxzZSB7XG4gICAgICAgICAgICBpZiAoZmxhZ3NOdW0gJiBPX0RJUkVDVE9SWSlcbiAgICAgICAgICAgICAgICB0aHJvdyBjcmVhdGVFcnJvcihFTk9URElSLCAnb3BlbicsIGxpbmsuZ2V0UGF0aCgpKTtcbiAgICAgICAgfVxuICAgICAgICAvLyBDaGVjayBub2RlIHBlcm1pc3Npb25zXG4gICAgICAgIGlmICghKGZsYWdzTnVtICYgT19XUk9OTFkpKSB7XG4gICAgICAgICAgICBpZiAoIW5vZGUuY2FuUmVhZCgpKSB7XG4gICAgICAgICAgICAgICAgdGhyb3cgY3JlYXRlRXJyb3IoRUFDQ0VTLCAnb3BlbicsIGxpbmsuZ2V0UGF0aCgpKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgICBpZiAoZmxhZ3NOdW0gJiBPX1JEV1IpIHtcbiAgICAgICAgfVxuICAgICAgICB2YXIgZmlsZSA9IG5ldyB0aGlzLnByb3BzLkZpbGUobGluaywgbm9kZSwgZmxhZ3NOdW0sIHRoaXMubmV3RmROdW1iZXIoKSk7XG4gICAgICAgIHRoaXMuZmRzW2ZpbGUuZmRdID0gZmlsZTtcbiAgICAgICAgdGhpcy5vcGVuRmlsZXMrKztcbiAgICAgICAgaWYgKGZsYWdzTnVtICYgT19UUlVOQylcbiAgICAgICAgICAgIGZpbGUudHJ1bmNhdGUoKTtcbiAgICAgICAgcmV0dXJuIGZpbGU7XG4gICAgfTtcbiAgICBWb2x1bWUucHJvdG90eXBlLm9wZW5GaWxlID0gZnVuY3Rpb24gKGZpbGVuYW1lLCBmbGFnc051bSwgbW9kZU51bSwgcmVzb2x2ZVN5bWxpbmtzKSB7XG4gICAgICAgIGlmIChyZXNvbHZlU3ltbGlua3MgPT09IHZvaWQgMCkgeyByZXNvbHZlU3ltbGlua3MgPSB0cnVlOyB9XG4gICAgICAgIHZhciBzdGVwcyA9IGZpbGVuYW1lVG9TdGVwcyhmaWxlbmFtZSk7XG4gICAgICAgIHZhciBsaW5rID0gcmVzb2x2ZVN5bWxpbmtzID8gdGhpcy5nZXRSZXNvbHZlZExpbmsoc3RlcHMpIDogdGhpcy5nZXRMaW5rKHN0ZXBzKTtcbiAgICAgICAgLy8gVHJ5IGNyZWF0aW5nIGEgbmV3IGZpbGUsIGlmIGl0IGRvZXMgbm90IGV4aXN0LlxuICAgICAgICBpZiAoIWxpbmsgJiYgZmxhZ3NOdW0gJiBPX0NSRUFUKSB7XG4gICAgICAgICAgICAvLyBjb25zdCBkaXJMaW5rOiBMaW5rID0gdGhpcy5nZXRMaW5rUGFyZW50KHN0ZXBzKTtcbiAgICAgICAgICAgIHZhciBkaXJMaW5rID0gdGhpcy5nZXRSZXNvbHZlZExpbmsoc3RlcHMuc2xpY2UoMCwgc3RlcHMubGVuZ3RoIC0gMSkpO1xuICAgICAgICAgICAgLy8gaWYoIWRpckxpbmspIHRocm93IGNyZWF0ZUVycm9yKEVOT0VOVCwgJ29wZW4nLCBmaWxlbmFtZSk7XG4gICAgICAgICAgICBpZiAoIWRpckxpbmspXG4gICAgICAgICAgICAgICAgdGhyb3cgY3JlYXRlRXJyb3IoRU5PRU5ULCAnb3BlbicsIHNlcCArIHN0ZXBzLmpvaW4oc2VwKSk7XG4gICAgICAgICAgICBpZiAoZmxhZ3NOdW0gJiBPX0NSRUFUICYmIHR5cGVvZiBtb2RlTnVtID09PSAnbnVtYmVyJykge1xuICAgICAgICAgICAgICAgIGxpbmsgPSB0aGlzLmNyZWF0ZUxpbmsoZGlyTGluaywgc3RlcHNbc3RlcHMubGVuZ3RoIC0gMV0sIGZhbHNlLCBtb2RlTnVtKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgICBpZiAobGluaylcbiAgICAgICAgICAgIHJldHVybiB0aGlzLm9wZW5MaW5rKGxpbmssIGZsYWdzTnVtLCByZXNvbHZlU3ltbGlua3MpO1xuICAgICAgICB0aHJvdyBjcmVhdGVFcnJvcihFTk9FTlQsICdvcGVuJywgZmlsZW5hbWUpO1xuICAgIH07XG4gICAgVm9sdW1lLnByb3RvdHlwZS5vcGVuQmFzZSA9IGZ1bmN0aW9uIChmaWxlbmFtZSwgZmxhZ3NOdW0sIG1vZGVOdW0sIHJlc29sdmVTeW1saW5rcykge1xuICAgICAgICBpZiAocmVzb2x2ZVN5bWxpbmtzID09PSB2b2lkIDApIHsgcmVzb2x2ZVN5bWxpbmtzID0gdHJ1ZTsgfVxuICAgICAgICB2YXIgZmlsZSA9IHRoaXMub3BlbkZpbGUoZmlsZW5hbWUsIGZsYWdzTnVtLCBtb2RlTnVtLCByZXNvbHZlU3ltbGlua3MpO1xuICAgICAgICBpZiAoIWZpbGUpXG4gICAgICAgICAgICB0aHJvdyBjcmVhdGVFcnJvcihFTk9FTlQsICdvcGVuJywgZmlsZW5hbWUpO1xuICAgICAgICByZXR1cm4gZmlsZS5mZDtcbiAgICB9O1xuICAgIFZvbHVtZS5wcm90b3R5cGUub3BlblN5bmMgPSBmdW5jdGlvbiAocGF0aCwgZmxhZ3MsIG1vZGUpIHtcbiAgICAgICAgaWYgKG1vZGUgPT09IHZvaWQgMCkgeyBtb2RlID0gNDM4IC8qIERFRkFVTFQgKi87IH1cbiAgICAgICAgLy8gVmFsaWRhdGUgKDEpIG1vZGU7ICgyKSBwYXRoOyAoMykgZmxhZ3MgLSBpbiB0aGF0IG9yZGVyLlxuICAgICAgICB2YXIgbW9kZU51bSA9IG1vZGVUb051bWJlcihtb2RlKTtcbiAgICAgICAgdmFyIGZpbGVOYW1lID0gcGF0aFRvRmlsZW5hbWUocGF0aCk7XG4gICAgICAgIHZhciBmbGFnc051bSA9IGZsYWdzVG9OdW1iZXIoZmxhZ3MpO1xuICAgICAgICByZXR1cm4gdGhpcy5vcGVuQmFzZShmaWxlTmFtZSwgZmxhZ3NOdW0sIG1vZGVOdW0pO1xuICAgIH07XG4gICAgVm9sdW1lLnByb3RvdHlwZS5vcGVuID0gZnVuY3Rpb24gKHBhdGgsIGZsYWdzLCBhLCBiKSB7XG4gICAgICAgIHZhciBtb2RlID0gYTtcbiAgICAgICAgdmFyIGNhbGxiYWNrID0gYjtcbiAgICAgICAgaWYgKHR5cGVvZiBhID09PSAnZnVuY3Rpb24nKSB7XG4gICAgICAgICAgICBtb2RlID0gNDM4IC8qIERFRkFVTFQgKi87XG4gICAgICAgICAgICBjYWxsYmFjayA9IGE7XG4gICAgICAgIH1cbiAgICAgICAgbW9kZSA9IG1vZGUgfHwgNDM4IC8qIERFRkFVTFQgKi87XG4gICAgICAgIHZhciBtb2RlTnVtID0gbW9kZVRvTnVtYmVyKG1vZGUpO1xuICAgICAgICB2YXIgZmlsZU5hbWUgPSBwYXRoVG9GaWxlbmFtZShwYXRoKTtcbiAgICAgICAgdmFyIGZsYWdzTnVtID0gZmxhZ3NUb051bWJlcihmbGFncyk7XG4gICAgICAgIHRoaXMud3JhcEFzeW5jKHRoaXMub3BlbkJhc2UsIFtmaWxlTmFtZSwgZmxhZ3NOdW0sIG1vZGVOdW1dLCBjYWxsYmFjayk7XG4gICAgfTtcbiAgICBWb2x1bWUucHJvdG90eXBlLmNsb3NlRmlsZSA9IGZ1bmN0aW9uIChmaWxlKSB7XG4gICAgICAgIGlmICghdGhpcy5mZHNbZmlsZS5mZF0pXG4gICAgICAgICAgICByZXR1cm47XG4gICAgICAgIHRoaXMub3BlbkZpbGVzLS07XG4gICAgICAgIGRlbGV0ZSB0aGlzLmZkc1tmaWxlLmZkXTtcbiAgICAgICAgdGhpcy5yZWxlYXNlZEZkcy5wdXNoKGZpbGUuZmQpO1xuICAgIH07XG4gICAgVm9sdW1lLnByb3RvdHlwZS5jbG9zZVN5bmMgPSBmdW5jdGlvbiAoZmQpIHtcbiAgICAgICAgdmFsaWRhdGVGZChmZCk7XG4gICAgICAgIHZhciBmaWxlID0gdGhpcy5nZXRGaWxlQnlGZE9yVGhyb3coZmQsICdjbG9zZScpO1xuICAgICAgICB0aGlzLmNsb3NlRmlsZShmaWxlKTtcbiAgICB9O1xuICAgIFZvbHVtZS5wcm90b3R5cGUuY2xvc2UgPSBmdW5jdGlvbiAoZmQsIGNhbGxiYWNrKSB7XG4gICAgICAgIHZhbGlkYXRlRmQoZmQpO1xuICAgICAgICB0aGlzLndyYXBBc3luYyh0aGlzLmNsb3NlU3luYywgW2ZkXSwgY2FsbGJhY2spO1xuICAgIH07XG4gICAgVm9sdW1lLnByb3RvdHlwZS5vcGVuRmlsZU9yR2V0QnlJZCA9IGZ1bmN0aW9uIChpZCwgZmxhZ3NOdW0sIG1vZGVOdW0pIHtcbiAgICAgICAgaWYgKHR5cGVvZiBpZCA9PT0gJ251bWJlcicpIHtcbiAgICAgICAgICAgIHZhciBmaWxlID0gdGhpcy5mZHNbaWRdO1xuICAgICAgICAgICAgaWYgKCFmaWxlKVxuICAgICAgICAgICAgICAgIHRocm93IGNyZWF0ZUVycm9yKEVOT0VOVCk7XG4gICAgICAgICAgICByZXR1cm4gZmlsZTtcbiAgICAgICAgfVxuICAgICAgICBlbHNlIHtcbiAgICAgICAgICAgIHJldHVybiB0aGlzLm9wZW5GaWxlKHBhdGhUb0ZpbGVuYW1lKGlkKSwgZmxhZ3NOdW0sIG1vZGVOdW0pO1xuICAgICAgICB9XG4gICAgfTtcbiAgICBWb2x1bWUucHJvdG90eXBlLnJlYWRCYXNlID0gZnVuY3Rpb24gKGZkLCBidWZmZXIsIG9mZnNldCwgbGVuZ3RoLCBwb3NpdGlvbikge1xuICAgICAgICB2YXIgZmlsZSA9IHRoaXMuZ2V0RmlsZUJ5RmRPclRocm93KGZkKTtcbiAgICAgICAgcmV0dXJuIGZpbGUucmVhZChidWZmZXIsIE51bWJlcihvZmZzZXQpLCBOdW1iZXIobGVuZ3RoKSwgcG9zaXRpb24pO1xuICAgIH07XG4gICAgVm9sdW1lLnByb3RvdHlwZS5yZWFkU3luYyA9IGZ1bmN0aW9uIChmZCwgYnVmZmVyLCBvZmZzZXQsIGxlbmd0aCwgcG9zaXRpb24pIHtcbiAgICAgICAgdmFsaWRhdGVGZChmZCk7XG4gICAgICAgIHJldHVybiB0aGlzLnJlYWRCYXNlKGZkLCBidWZmZXIsIG9mZnNldCwgbGVuZ3RoLCBwb3NpdGlvbik7XG4gICAgfTtcbiAgICBWb2x1bWUucHJvdG90eXBlLnJlYWQgPSBmdW5jdGlvbiAoZmQsIGJ1ZmZlciwgb2Zmc2V0LCBsZW5ndGgsIHBvc2l0aW9uLCBjYWxsYmFjaykge1xuICAgICAgICB2YXIgX3RoaXMgPSB0aGlzO1xuICAgICAgICB2YWxpZGF0ZUNhbGxiYWNrKGNhbGxiYWNrKTtcbiAgICAgICAgLy8gVGhpcyBgaWZgIGJyYW5jaCBpcyBmcm9tIE5vZGUuanNcbiAgICAgICAgaWYgKGxlbmd0aCA9PT0gMCkge1xuICAgICAgICAgICAgcmV0dXJuIHByb2Nlc3NfMS5kZWZhdWx0Lm5leHRUaWNrKGZ1bmN0aW9uICgpIHtcbiAgICAgICAgICAgICAgICBpZiAoY2FsbGJhY2spXG4gICAgICAgICAgICAgICAgICAgIGNhbGxiYWNrKG51bGwsIDAsIGJ1ZmZlcik7XG4gICAgICAgICAgICB9KTtcbiAgICAgICAgfVxuICAgICAgICBzZXRJbW1lZGlhdGVfMS5kZWZhdWx0KGZ1bmN0aW9uICgpIHtcbiAgICAgICAgICAgIHRyeSB7XG4gICAgICAgICAgICAgICAgdmFyIGJ5dGVzID0gX3RoaXMucmVhZEJhc2UoZmQsIGJ1ZmZlciwgb2Zmc2V0LCBsZW5ndGgsIHBvc2l0aW9uKTtcbiAgICAgICAgICAgICAgICBjYWxsYmFjayhudWxsLCBieXRlcywgYnVmZmVyKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGNhdGNoIChlcnIpIHtcbiAgICAgICAgICAgICAgICBjYWxsYmFjayhlcnIpO1xuICAgICAgICAgICAgfVxuICAgICAgICB9KTtcbiAgICB9O1xuICAgIFZvbHVtZS5wcm90b3R5cGUucmVhZEZpbGVCYXNlID0gZnVuY3Rpb24gKGlkLCBmbGFnc051bSwgZW5jb2RpbmcpIHtcbiAgICAgICAgdmFyIHJlc3VsdDtcbiAgICAgICAgdmFyIGlzVXNlckZkID0gdHlwZW9mIGlkID09PSAnbnVtYmVyJztcbiAgICAgICAgdmFyIHVzZXJPd25zRmQgPSBpc1VzZXJGZCAmJiBpc0ZkKGlkKTtcbiAgICAgICAgdmFyIGZkO1xuICAgICAgICBpZiAodXNlck93bnNGZClcbiAgICAgICAgICAgIGZkID0gaWQ7XG4gICAgICAgIGVsc2Uge1xuICAgICAgICAgICAgdmFyIGZpbGVuYW1lID0gcGF0aFRvRmlsZW5hbWUoaWQpO1xuICAgICAgICAgICAgdmFyIHN0ZXBzID0gZmlsZW5hbWVUb1N0ZXBzKGZpbGVuYW1lKTtcbiAgICAgICAgICAgIHZhciBsaW5rID0gdGhpcy5nZXRSZXNvbHZlZExpbmsoc3RlcHMpO1xuICAgICAgICAgICAgaWYgKGxpbmspIHtcbiAgICAgICAgICAgICAgICB2YXIgbm9kZSA9IGxpbmsuZ2V0Tm9kZSgpO1xuICAgICAgICAgICAgICAgIGlmIChub2RlLmlzRGlyZWN0b3J5KCkpXG4gICAgICAgICAgICAgICAgICAgIHRocm93IGNyZWF0ZUVycm9yKEVJU0RJUiwgJ29wZW4nLCBsaW5rLmdldFBhdGgoKSk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBmZCA9IHRoaXMub3BlblN5bmMoaWQsIGZsYWdzTnVtKTtcbiAgICAgICAgfVxuICAgICAgICB0cnkge1xuICAgICAgICAgICAgcmVzdWx0ID0gYnVmZmVyVG9FbmNvZGluZyh0aGlzLmdldEZpbGVCeUZkT3JUaHJvdyhmZCkuZ2V0QnVmZmVyKCksIGVuY29kaW5nKTtcbiAgICAgICAgfVxuICAgICAgICBmaW5hbGx5IHtcbiAgICAgICAgICAgIGlmICghdXNlck93bnNGZCkge1xuICAgICAgICAgICAgICAgIHRoaXMuY2xvc2VTeW5jKGZkKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgICByZXR1cm4gcmVzdWx0O1xuICAgIH07XG4gICAgVm9sdW1lLnByb3RvdHlwZS5yZWFkRmlsZVN5bmMgPSBmdW5jdGlvbiAoZmlsZSwgb3B0aW9ucykge1xuICAgICAgICB2YXIgb3B0cyA9IGdldFJlYWRGaWxlT3B0aW9ucyhvcHRpb25zKTtcbiAgICAgICAgdmFyIGZsYWdzTnVtID0gZmxhZ3NUb051bWJlcihvcHRzLmZsYWcpO1xuICAgICAgICByZXR1cm4gdGhpcy5yZWFkRmlsZUJhc2UoZmlsZSwgZmxhZ3NOdW0sIG9wdHMuZW5jb2RpbmcpO1xuICAgIH07XG4gICAgVm9sdW1lLnByb3RvdHlwZS5yZWFkRmlsZSA9IGZ1bmN0aW9uIChpZCwgYSwgYikge1xuICAgICAgICB2YXIgX2EgPSBvcHRzQW5kQ2JHZW5lcmF0b3IoZ2V0UmVhZEZpbGVPcHRpb25zKShhLCBiKSwgb3B0cyA9IF9hWzBdLCBjYWxsYmFjayA9IF9hWzFdO1xuICAgICAgICB2YXIgZmxhZ3NOdW0gPSBmbGFnc1RvTnVtYmVyKG9wdHMuZmxhZyk7XG4gICAgICAgIHRoaXMud3JhcEFzeW5jKHRoaXMucmVhZEZpbGVCYXNlLCBbaWQsIGZsYWdzTnVtLCBvcHRzLmVuY29kaW5nXSwgY2FsbGJhY2spO1xuICAgIH07XG4gICAgVm9sdW1lLnByb3RvdHlwZS53cml0ZUJhc2UgPSBmdW5jdGlvbiAoZmQsIGJ1Ziwgb2Zmc2V0LCBsZW5ndGgsIHBvc2l0aW9uKSB7XG4gICAgICAgIHZhciBmaWxlID0gdGhpcy5nZXRGaWxlQnlGZE9yVGhyb3coZmQsICd3cml0ZScpO1xuICAgICAgICByZXR1cm4gZmlsZS53cml0ZShidWYsIG9mZnNldCwgbGVuZ3RoLCBwb3NpdGlvbik7XG4gICAgfTtcbiAgICBWb2x1bWUucHJvdG90eXBlLndyaXRlU3luYyA9IGZ1bmN0aW9uIChmZCwgYSwgYiwgYywgZCkge1xuICAgICAgICB2YWxpZGF0ZUZkKGZkKTtcbiAgICAgICAgdmFyIGVuY29kaW5nO1xuICAgICAgICB2YXIgb2Zmc2V0O1xuICAgICAgICB2YXIgbGVuZ3RoO1xuICAgICAgICB2YXIgcG9zaXRpb247XG4gICAgICAgIHZhciBpc0J1ZmZlciA9IHR5cGVvZiBhICE9PSAnc3RyaW5nJztcbiAgICAgICAgaWYgKGlzQnVmZmVyKSB7XG4gICAgICAgICAgICBvZmZzZXQgPSAoYiB8fCAwKSB8IDA7XG4gICAgICAgICAgICBsZW5ndGggPSBjO1xuICAgICAgICAgICAgcG9zaXRpb24gPSBkO1xuICAgICAgICB9XG4gICAgICAgIGVsc2Uge1xuICAgICAgICAgICAgcG9zaXRpb24gPSBiO1xuICAgICAgICAgICAgZW5jb2RpbmcgPSBjO1xuICAgICAgICB9XG4gICAgICAgIHZhciBidWYgPSBkYXRhVG9CdWZmZXIoYSwgZW5jb2RpbmcpO1xuICAgICAgICBpZiAoaXNCdWZmZXIpIHtcbiAgICAgICAgICAgIGlmICh0eXBlb2YgbGVuZ3RoID09PSAndW5kZWZpbmVkJykge1xuICAgICAgICAgICAgICAgIGxlbmd0aCA9IGJ1Zi5sZW5ndGg7XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgICAgZWxzZSB7XG4gICAgICAgICAgICBvZmZzZXQgPSAwO1xuICAgICAgICAgICAgbGVuZ3RoID0gYnVmLmxlbmd0aDtcbiAgICAgICAgfVxuICAgICAgICByZXR1cm4gdGhpcy53cml0ZUJhc2UoZmQsIGJ1Ziwgb2Zmc2V0LCBsZW5ndGgsIHBvc2l0aW9uKTtcbiAgICB9O1xuICAgIFZvbHVtZS5wcm90b3R5cGUud3JpdGUgPSBmdW5jdGlvbiAoZmQsIGEsIGIsIGMsIGQsIGUpIHtcbiAgICAgICAgdmFyIF90aGlzID0gdGhpcztcbiAgICAgICAgdmFsaWRhdGVGZChmZCk7XG4gICAgICAgIHZhciBvZmZzZXQ7XG4gICAgICAgIHZhciBsZW5ndGg7XG4gICAgICAgIHZhciBwb3NpdGlvbjtcbiAgICAgICAgdmFyIGVuY29kaW5nO1xuICAgICAgICB2YXIgY2FsbGJhY2s7XG4gICAgICAgIHZhciB0aXBhID0gdHlwZW9mIGE7XG4gICAgICAgIHZhciB0aXBiID0gdHlwZW9mIGI7XG4gICAgICAgIHZhciB0aXBjID0gdHlwZW9mIGM7XG4gICAgICAgIHZhciB0aXBkID0gdHlwZW9mIGQ7XG4gICAgICAgIGlmICh0aXBhICE9PSAnc3RyaW5nJykge1xuICAgICAgICAgICAgaWYgKHRpcGIgPT09ICdmdW5jdGlvbicpIHtcbiAgICAgICAgICAgICAgICBjYWxsYmFjayA9IGI7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBlbHNlIGlmICh0aXBjID09PSAnZnVuY3Rpb24nKSB7XG4gICAgICAgICAgICAgICAgb2Zmc2V0ID0gYiB8IDA7XG4gICAgICAgICAgICAgICAgY2FsbGJhY2sgPSBjO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgZWxzZSBpZiAodGlwZCA9PT0gJ2Z1bmN0aW9uJykge1xuICAgICAgICAgICAgICAgIG9mZnNldCA9IGIgfCAwO1xuICAgICAgICAgICAgICAgIGxlbmd0aCA9IGM7XG4gICAgICAgICAgICAgICAgY2FsbGJhY2sgPSBkO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgZWxzZSB7XG4gICAgICAgICAgICAgICAgb2Zmc2V0ID0gYiB8IDA7XG4gICAgICAgICAgICAgICAgbGVuZ3RoID0gYztcbiAgICAgICAgICAgICAgICBwb3NpdGlvbiA9IGQ7XG4gICAgICAgICAgICAgICAgY2FsbGJhY2sgPSBlO1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICAgIGVsc2Uge1xuICAgICAgICAgICAgaWYgKHRpcGIgPT09ICdmdW5jdGlvbicpIHtcbiAgICAgICAgICAgICAgICBjYWxsYmFjayA9IGI7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBlbHNlIGlmICh0aXBjID09PSAnZnVuY3Rpb24nKSB7XG4gICAgICAgICAgICAgICAgcG9zaXRpb24gPSBiO1xuICAgICAgICAgICAgICAgIGNhbGxiYWNrID0gYztcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGVsc2UgaWYgKHRpcGQgPT09ICdmdW5jdGlvbicpIHtcbiAgICAgICAgICAgICAgICBwb3NpdGlvbiA9IGI7XG4gICAgICAgICAgICAgICAgZW5jb2RpbmcgPSBjO1xuICAgICAgICAgICAgICAgIGNhbGxiYWNrID0gZDtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgICB2YXIgYnVmID0gZGF0YVRvQnVmZmVyKGEsIGVuY29kaW5nKTtcbiAgICAgICAgaWYgKHRpcGEgIT09ICdzdHJpbmcnKSB7XG4gICAgICAgICAgICBpZiAodHlwZW9mIGxlbmd0aCA9PT0gJ3VuZGVmaW5lZCcpXG4gICAgICAgICAgICAgICAgbGVuZ3RoID0gYnVmLmxlbmd0aDtcbiAgICAgICAgfVxuICAgICAgICBlbHNlIHtcbiAgICAgICAgICAgIG9mZnNldCA9IDA7XG4gICAgICAgICAgICBsZW5ndGggPSBidWYubGVuZ3RoO1xuICAgICAgICB9XG4gICAgICAgIHZhciBjYiA9IHZhbGlkYXRlQ2FsbGJhY2soY2FsbGJhY2spO1xuICAgICAgICBzZXRJbW1lZGlhdGVfMS5kZWZhdWx0KGZ1bmN0aW9uICgpIHtcbiAgICAgICAgICAgIHRyeSB7XG4gICAgICAgICAgICAgICAgdmFyIGJ5dGVzID0gX3RoaXMud3JpdGVCYXNlKGZkLCBidWYsIG9mZnNldCwgbGVuZ3RoLCBwb3NpdGlvbik7XG4gICAgICAgICAgICAgICAgaWYgKHRpcGEgIT09ICdzdHJpbmcnKSB7XG4gICAgICAgICAgICAgICAgICAgIGNiKG51bGwsIGJ5dGVzLCBidWYpO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICBlbHNlIHtcbiAgICAgICAgICAgICAgICAgICAgY2IobnVsbCwgYnl0ZXMsIGEpO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGNhdGNoIChlcnIpIHtcbiAgICAgICAgICAgICAgICBjYihlcnIpO1xuICAgICAgICAgICAgfVxuICAgICAgICB9KTtcbiAgICB9O1xuICAgIFZvbHVtZS5wcm90b3R5cGUud3JpdGVGaWxlQmFzZSA9IGZ1bmN0aW9uIChpZCwgYnVmLCBmbGFnc051bSwgbW9kZU51bSkge1xuICAgICAgICAvLyBjb25zb2xlLmxvZygnd3JpdGVGaWxlQmFzZScsIGlkLCBidWYsIGZsYWdzTnVtLCBtb2RlTnVtKTtcbiAgICAgICAgLy8gY29uc3Qgbm9kZSA9IHRoaXMuZ2V0Tm9kZUJ5SWRPckNyZWF0ZShpZCwgZmxhZ3NOdW0sIG1vZGVOdW0pO1xuICAgICAgICAvLyBub2RlLnNldEJ1ZmZlcihidWYpO1xuICAgICAgICB2YXIgaXNVc2VyRmQgPSB0eXBlb2YgaWQgPT09ICdudW1iZXInO1xuICAgICAgICB2YXIgZmQ7XG4gICAgICAgIGlmIChpc1VzZXJGZClcbiAgICAgICAgICAgIGZkID0gaWQ7XG4gICAgICAgIGVsc2Uge1xuICAgICAgICAgICAgZmQgPSB0aGlzLm9wZW5CYXNlKHBhdGhUb0ZpbGVuYW1lKGlkKSwgZmxhZ3NOdW0sIG1vZGVOdW0pO1xuICAgICAgICAgICAgLy8gZmQgPSB0aGlzLm9wZW5TeW5jKGlkIGFzIFRGaWxlUGF0aCwgZmxhZ3NOdW0sIG1vZGVOdW0pO1xuICAgICAgICB9XG4gICAgICAgIHZhciBvZmZzZXQgPSAwO1xuICAgICAgICB2YXIgbGVuZ3RoID0gYnVmLmxlbmd0aDtcbiAgICAgICAgdmFyIHBvc2l0aW9uID0gZmxhZ3NOdW0gJiBPX0FQUEVORCA/IHVuZGVmaW5lZCA6IDA7XG4gICAgICAgIHRyeSB7XG4gICAgICAgICAgICB3aGlsZSAobGVuZ3RoID4gMCkge1xuICAgICAgICAgICAgICAgIHZhciB3cml0dGVuID0gdGhpcy53cml0ZVN5bmMoZmQsIGJ1Ziwgb2Zmc2V0LCBsZW5ndGgsIHBvc2l0aW9uKTtcbiAgICAgICAgICAgICAgICBvZmZzZXQgKz0gd3JpdHRlbjtcbiAgICAgICAgICAgICAgICBsZW5ndGggLT0gd3JpdHRlbjtcbiAgICAgICAgICAgICAgICBpZiAocG9zaXRpb24gIT09IHVuZGVmaW5lZClcbiAgICAgICAgICAgICAgICAgICAgcG9zaXRpb24gKz0gd3JpdHRlbjtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgICBmaW5hbGx5IHtcbiAgICAgICAgICAgIGlmICghaXNVc2VyRmQpXG4gICAgICAgICAgICAgICAgdGhpcy5jbG9zZVN5bmMoZmQpO1xuICAgICAgICB9XG4gICAgfTtcbiAgICBWb2x1bWUucHJvdG90eXBlLndyaXRlRmlsZVN5bmMgPSBmdW5jdGlvbiAoaWQsIGRhdGEsIG9wdGlvbnMpIHtcbiAgICAgICAgdmFyIG9wdHMgPSBnZXRXcml0ZUZpbGVPcHRpb25zKG9wdGlvbnMpO1xuICAgICAgICB2YXIgZmxhZ3NOdW0gPSBmbGFnc1RvTnVtYmVyKG9wdHMuZmxhZyk7XG4gICAgICAgIHZhciBtb2RlTnVtID0gbW9kZVRvTnVtYmVyKG9wdHMubW9kZSk7XG4gICAgICAgIHZhciBidWYgPSBkYXRhVG9CdWZmZXIoZGF0YSwgb3B0cy5lbmNvZGluZyk7XG4gICAgICAgIHRoaXMud3JpdGVGaWxlQmFzZShpZCwgYnVmLCBmbGFnc051bSwgbW9kZU51bSk7XG4gICAgfTtcbiAgICBWb2x1bWUucHJvdG90eXBlLndyaXRlRmlsZSA9IGZ1bmN0aW9uIChpZCwgZGF0YSwgYSwgYikge1xuICAgICAgICB2YXIgb3B0aW9ucyA9IGE7XG4gICAgICAgIHZhciBjYWxsYmFjayA9IGI7XG4gICAgICAgIGlmICh0eXBlb2YgYSA9PT0gJ2Z1bmN0aW9uJykge1xuICAgICAgICAgICAgb3B0aW9ucyA9IHdyaXRlRmlsZURlZmF1bHRzO1xuICAgICAgICAgICAgY2FsbGJhY2sgPSBhO1xuICAgICAgICB9XG4gICAgICAgIHZhciBjYiA9IHZhbGlkYXRlQ2FsbGJhY2soY2FsbGJhY2spO1xuICAgICAgICB2YXIgb3B0cyA9IGdldFdyaXRlRmlsZU9wdGlvbnMob3B0aW9ucyk7XG4gICAgICAgIHZhciBmbGFnc051bSA9IGZsYWdzVG9OdW1iZXIob3B0cy5mbGFnKTtcbiAgICAgICAgdmFyIG1vZGVOdW0gPSBtb2RlVG9OdW1iZXIob3B0cy5tb2RlKTtcbiAgICAgICAgdmFyIGJ1ZiA9IGRhdGFUb0J1ZmZlcihkYXRhLCBvcHRzLmVuY29kaW5nKTtcbiAgICAgICAgdGhpcy53cmFwQXN5bmModGhpcy53cml0ZUZpbGVCYXNlLCBbaWQsIGJ1ZiwgZmxhZ3NOdW0sIG1vZGVOdW1dLCBjYik7XG4gICAgfTtcbiAgICBWb2x1bWUucHJvdG90eXBlLmxpbmtCYXNlID0gZnVuY3Rpb24gKGZpbGVuYW1lMSwgZmlsZW5hbWUyKSB7XG4gICAgICAgIHZhciBzdGVwczEgPSBmaWxlbmFtZVRvU3RlcHMoZmlsZW5hbWUxKTtcbiAgICAgICAgdmFyIGxpbmsxID0gdGhpcy5nZXRMaW5rKHN0ZXBzMSk7XG4gICAgICAgIGlmICghbGluazEpXG4gICAgICAgICAgICB0aHJvdyBjcmVhdGVFcnJvcihFTk9FTlQsICdsaW5rJywgZmlsZW5hbWUxLCBmaWxlbmFtZTIpO1xuICAgICAgICB2YXIgc3RlcHMyID0gZmlsZW5hbWVUb1N0ZXBzKGZpbGVuYW1lMik7XG4gICAgICAgIC8vIENoZWNrIG5ldyBsaW5rIGRpcmVjdG9yeSBleGlzdHMuXG4gICAgICAgIHZhciBkaXIyID0gdGhpcy5nZXRMaW5rUGFyZW50KHN0ZXBzMik7XG4gICAgICAgIGlmICghZGlyMilcbiAgICAgICAgICAgIHRocm93IGNyZWF0ZUVycm9yKEVOT0VOVCwgJ2xpbmsnLCBmaWxlbmFtZTEsIGZpbGVuYW1lMik7XG4gICAgICAgIHZhciBuYW1lID0gc3RlcHMyW3N0ZXBzMi5sZW5ndGggLSAxXTtcbiAgICAgICAgLy8gQ2hlY2sgaWYgbmV3IGZpbGUgYWxyZWFkeSBleGlzdHMuXG4gICAgICAgIGlmIChkaXIyLmdldENoaWxkKG5hbWUpKVxuICAgICAgICAgICAgdGhyb3cgY3JlYXRlRXJyb3IoRUVYSVNULCAnbGluaycsIGZpbGVuYW1lMSwgZmlsZW5hbWUyKTtcbiAgICAgICAgdmFyIG5vZGUgPSBsaW5rMS5nZXROb2RlKCk7XG4gICAgICAgIG5vZGUubmxpbmsrKztcbiAgICAgICAgZGlyMi5jcmVhdGVDaGlsZChuYW1lLCBub2RlKTtcbiAgICB9O1xuICAgIFZvbHVtZS5wcm90b3R5cGUuY29weUZpbGVCYXNlID0gZnVuY3Rpb24gKHNyYywgZGVzdCwgZmxhZ3MpIHtcbiAgICAgICAgdmFyIGJ1ZiA9IHRoaXMucmVhZEZpbGVTeW5jKHNyYyk7XG4gICAgICAgIGlmIChmbGFncyAmIENPUFlGSUxFX0VYQ0wpIHtcbiAgICAgICAgICAgIGlmICh0aGlzLmV4aXN0c1N5bmMoZGVzdCkpIHtcbiAgICAgICAgICAgICAgICB0aHJvdyBjcmVhdGVFcnJvcihFRVhJU1QsICdjb3B5RmlsZScsIHNyYywgZGVzdCk7XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgICAgaWYgKGZsYWdzICYgQ09QWUZJTEVfRklDTE9ORV9GT1JDRSkge1xuICAgICAgICAgICAgdGhyb3cgY3JlYXRlRXJyb3IoRU5PU1lTLCAnY29weUZpbGUnLCBzcmMsIGRlc3QpO1xuICAgICAgICB9XG4gICAgICAgIHRoaXMud3JpdGVGaWxlQmFzZShkZXN0LCBidWYsIEZMQUdTLncsIDQzOCAvKiBERUZBVUxUICovKTtcbiAgICB9O1xuICAgIFZvbHVtZS5wcm90b3R5cGUuY29weUZpbGVTeW5jID0gZnVuY3Rpb24gKHNyYywgZGVzdCwgZmxhZ3MpIHtcbiAgICAgICAgdmFyIHNyY0ZpbGVuYW1lID0gcGF0aFRvRmlsZW5hbWUoc3JjKTtcbiAgICAgICAgdmFyIGRlc3RGaWxlbmFtZSA9IHBhdGhUb0ZpbGVuYW1lKGRlc3QpO1xuICAgICAgICByZXR1cm4gdGhpcy5jb3B5RmlsZUJhc2Uoc3JjRmlsZW5hbWUsIGRlc3RGaWxlbmFtZSwgKGZsYWdzIHx8IDApIHwgMCk7XG4gICAgfTtcbiAgICBWb2x1bWUucHJvdG90eXBlLmNvcHlGaWxlID0gZnVuY3Rpb24gKHNyYywgZGVzdCwgYSwgYikge1xuICAgICAgICB2YXIgc3JjRmlsZW5hbWUgPSBwYXRoVG9GaWxlbmFtZShzcmMpO1xuICAgICAgICB2YXIgZGVzdEZpbGVuYW1lID0gcGF0aFRvRmlsZW5hbWUoZGVzdCk7XG4gICAgICAgIHZhciBmbGFncztcbiAgICAgICAgdmFyIGNhbGxiYWNrO1xuICAgICAgICBpZiAodHlwZW9mIGEgPT09ICdmdW5jdGlvbicpIHtcbiAgICAgICAgICAgIGZsYWdzID0gMDtcbiAgICAgICAgICAgIGNhbGxiYWNrID0gYTtcbiAgICAgICAgfVxuICAgICAgICBlbHNlIHtcbiAgICAgICAgICAgIGZsYWdzID0gYTtcbiAgICAgICAgICAgIGNhbGxiYWNrID0gYjtcbiAgICAgICAgfVxuICAgICAgICB2YWxpZGF0ZUNhbGxiYWNrKGNhbGxiYWNrKTtcbiAgICAgICAgdGhpcy53cmFwQXN5bmModGhpcy5jb3B5RmlsZUJhc2UsIFtzcmNGaWxlbmFtZSwgZGVzdEZpbGVuYW1lLCBmbGFnc10sIGNhbGxiYWNrKTtcbiAgICB9O1xuICAgIFZvbHVtZS5wcm90b3R5cGUubGlua1N5bmMgPSBmdW5jdGlvbiAoZXhpc3RpbmdQYXRoLCBuZXdQYXRoKSB7XG4gICAgICAgIHZhciBleGlzdGluZ1BhdGhGaWxlbmFtZSA9IHBhdGhUb0ZpbGVuYW1lKGV4aXN0aW5nUGF0aCk7XG4gICAgICAgIHZhciBuZXdQYXRoRmlsZW5hbWUgPSBwYXRoVG9GaWxlbmFtZShuZXdQYXRoKTtcbiAgICAgICAgdGhpcy5saW5rQmFzZShleGlzdGluZ1BhdGhGaWxlbmFtZSwgbmV3UGF0aEZpbGVuYW1lKTtcbiAgICB9O1xuICAgIFZvbHVtZS5wcm90b3R5cGUubGluayA9IGZ1bmN0aW9uIChleGlzdGluZ1BhdGgsIG5ld1BhdGgsIGNhbGxiYWNrKSB7XG4gICAgICAgIHZhciBleGlzdGluZ1BhdGhGaWxlbmFtZSA9IHBhdGhUb0ZpbGVuYW1lKGV4aXN0aW5nUGF0aCk7XG4gICAgICAgIHZhciBuZXdQYXRoRmlsZW5hbWUgPSBwYXRoVG9GaWxlbmFtZShuZXdQYXRoKTtcbiAgICAgICAgdGhpcy53cmFwQXN5bmModGhpcy5saW5rQmFzZSwgW2V4aXN0aW5nUGF0aEZpbGVuYW1lLCBuZXdQYXRoRmlsZW5hbWVdLCBjYWxsYmFjayk7XG4gICAgfTtcbiAgICBWb2x1bWUucHJvdG90eXBlLnVubGlua0Jhc2UgPSBmdW5jdGlvbiAoZmlsZW5hbWUpIHtcbiAgICAgICAgdmFyIHN0ZXBzID0gZmlsZW5hbWVUb1N0ZXBzKGZpbGVuYW1lKTtcbiAgICAgICAgdmFyIGxpbmsgPSB0aGlzLmdldExpbmsoc3RlcHMpO1xuICAgICAgICBpZiAoIWxpbmspXG4gICAgICAgICAgICB0aHJvdyBjcmVhdGVFcnJvcihFTk9FTlQsICd1bmxpbmsnLCBmaWxlbmFtZSk7XG4gICAgICAgIC8vIFRPRE86IENoZWNrIGlmIGl0IGlzIGZpbGUsIGRpciwgb3RoZXIuLi5cbiAgICAgICAgaWYgKGxpbmsubGVuZ3RoKVxuICAgICAgICAgICAgdGhyb3cgRXJyb3IoJ0RpciBub3QgZW1wdHkuLi4nKTtcbiAgICAgICAgdGhpcy5kZWxldGVMaW5rKGxpbmspO1xuICAgICAgICB2YXIgbm9kZSA9IGxpbmsuZ2V0Tm9kZSgpO1xuICAgICAgICBub2RlLm5saW5rLS07XG4gICAgICAgIC8vIFdoZW4gYWxsIGhhcmQgbGlua3MgdG8gaS1ub2RlIGFyZSBkZWxldGVkLCByZW1vdmUgdGhlIGktbm9kZSwgdG9vLlxuICAgICAgICBpZiAobm9kZS5ubGluayA8PSAwKSB7XG4gICAgICAgICAgICB0aGlzLmRlbGV0ZU5vZGUobm9kZSk7XG4gICAgICAgIH1cbiAgICB9O1xuICAgIFZvbHVtZS5wcm90b3R5cGUudW5saW5rU3luYyA9IGZ1bmN0aW9uIChwYXRoKSB7XG4gICAgICAgIHZhciBmaWxlbmFtZSA9IHBhdGhUb0ZpbGVuYW1lKHBhdGgpO1xuICAgICAgICB0aGlzLnVubGlua0Jhc2UoZmlsZW5hbWUpO1xuICAgIH07XG4gICAgVm9sdW1lLnByb3RvdHlwZS51bmxpbmsgPSBmdW5jdGlvbiAocGF0aCwgY2FsbGJhY2spIHtcbiAgICAgICAgdmFyIGZpbGVuYW1lID0gcGF0aFRvRmlsZW5hbWUocGF0aCk7XG4gICAgICAgIHRoaXMud3JhcEFzeW5jKHRoaXMudW5saW5rQmFzZSwgW2ZpbGVuYW1lXSwgY2FsbGJhY2spO1xuICAgIH07XG4gICAgVm9sdW1lLnByb3RvdHlwZS5zeW1saW5rQmFzZSA9IGZ1bmN0aW9uICh0YXJnZXRGaWxlbmFtZSwgcGF0aEZpbGVuYW1lKSB7XG4gICAgICAgIHZhciBwYXRoU3RlcHMgPSBmaWxlbmFtZVRvU3RlcHMocGF0aEZpbGVuYW1lKTtcbiAgICAgICAgLy8gQ2hlY2sgaWYgZGlyZWN0b3J5IGV4aXN0cywgd2hlcmUgd2UgYWJvdXQgdG8gY3JlYXRlIGEgc3ltbGluay5cbiAgICAgICAgdmFyIGRpckxpbmsgPSB0aGlzLmdldExpbmtQYXJlbnQocGF0aFN0ZXBzKTtcbiAgICAgICAgaWYgKCFkaXJMaW5rKVxuICAgICAgICAgICAgdGhyb3cgY3JlYXRlRXJyb3IoRU5PRU5ULCAnc3ltbGluaycsIHRhcmdldEZpbGVuYW1lLCBwYXRoRmlsZW5hbWUpO1xuICAgICAgICB2YXIgbmFtZSA9IHBhdGhTdGVwc1twYXRoU3RlcHMubGVuZ3RoIC0gMV07XG4gICAgICAgIC8vIENoZWNrIGlmIG5ldyBmaWxlIGFscmVhZHkgZXhpc3RzLlxuICAgICAgICBpZiAoZGlyTGluay5nZXRDaGlsZChuYW1lKSlcbiAgICAgICAgICAgIHRocm93IGNyZWF0ZUVycm9yKEVFWElTVCwgJ3N5bWxpbmsnLCB0YXJnZXRGaWxlbmFtZSwgcGF0aEZpbGVuYW1lKTtcbiAgICAgICAgLy8gQ3JlYXRlIHN5bWxpbmsuXG4gICAgICAgIHZhciBzeW1saW5rID0gZGlyTGluay5jcmVhdGVDaGlsZChuYW1lKTtcbiAgICAgICAgc3ltbGluay5nZXROb2RlKCkubWFrZVN5bWxpbmsoZmlsZW5hbWVUb1N0ZXBzKHRhcmdldEZpbGVuYW1lKSk7XG4gICAgICAgIHJldHVybiBzeW1saW5rO1xuICAgIH07XG4gICAgLy8gYHR5cGVgIGFyZ3VtZW50IHdvcmtzIG9ubHkgb24gV2luZG93cy5cbiAgICBWb2x1bWUucHJvdG90eXBlLnN5bWxpbmtTeW5jID0gZnVuY3Rpb24gKHRhcmdldCwgcGF0aCwgdHlwZSkge1xuICAgICAgICB2YXIgdGFyZ2V0RmlsZW5hbWUgPSBwYXRoVG9GaWxlbmFtZSh0YXJnZXQpO1xuICAgICAgICB2YXIgcGF0aEZpbGVuYW1lID0gcGF0aFRvRmlsZW5hbWUocGF0aCk7XG4gICAgICAgIHRoaXMuc3ltbGlua0Jhc2UodGFyZ2V0RmlsZW5hbWUsIHBhdGhGaWxlbmFtZSk7XG4gICAgfTtcbiAgICBWb2x1bWUucHJvdG90eXBlLnN5bWxpbmsgPSBmdW5jdGlvbiAodGFyZ2V0LCBwYXRoLCBhLCBiKSB7XG4gICAgICAgIHZhciBjYWxsYmFjayA9IHZhbGlkYXRlQ2FsbGJhY2sodHlwZW9mIGEgPT09ICdmdW5jdGlvbicgPyBhIDogYik7XG4gICAgICAgIHZhciB0YXJnZXRGaWxlbmFtZSA9IHBhdGhUb0ZpbGVuYW1lKHRhcmdldCk7XG4gICAgICAgIHZhciBwYXRoRmlsZW5hbWUgPSBwYXRoVG9GaWxlbmFtZShwYXRoKTtcbiAgICAgICAgdGhpcy53cmFwQXN5bmModGhpcy5zeW1saW5rQmFzZSwgW3RhcmdldEZpbGVuYW1lLCBwYXRoRmlsZW5hbWVdLCBjYWxsYmFjayk7XG4gICAgfTtcbiAgICBWb2x1bWUucHJvdG90eXBlLnJlYWxwYXRoQmFzZSA9IGZ1bmN0aW9uIChmaWxlbmFtZSwgZW5jb2RpbmcpIHtcbiAgICAgICAgdmFyIHN0ZXBzID0gZmlsZW5hbWVUb1N0ZXBzKGZpbGVuYW1lKTtcbiAgICAgICAgdmFyIHJlYWxMaW5rID0gdGhpcy5nZXRSZXNvbHZlZExpbmsoc3RlcHMpO1xuICAgICAgICBpZiAoIXJlYWxMaW5rKVxuICAgICAgICAgICAgdGhyb3cgY3JlYXRlRXJyb3IoRU5PRU5ULCAncmVhbHBhdGgnLCBmaWxlbmFtZSk7XG4gICAgICAgIHJldHVybiBlbmNvZGluZ18xLnN0clRvRW5jb2RpbmcocmVhbExpbmsuZ2V0UGF0aCgpLCBlbmNvZGluZyk7XG4gICAgfTtcbiAgICBWb2x1bWUucHJvdG90eXBlLnJlYWxwYXRoU3luYyA9IGZ1bmN0aW9uIChwYXRoLCBvcHRpb25zKSB7XG4gICAgICAgIHJldHVybiB0aGlzLnJlYWxwYXRoQmFzZShwYXRoVG9GaWxlbmFtZShwYXRoKSwgZ2V0UmVhbHBhdGhPcHRpb25zKG9wdGlvbnMpLmVuY29kaW5nKTtcbiAgICB9O1xuICAgIFZvbHVtZS5wcm90b3R5cGUucmVhbHBhdGggPSBmdW5jdGlvbiAocGF0aCwgYSwgYikge1xuICAgICAgICB2YXIgX2EgPSBnZXRSZWFscGF0aE9wdHNBbmRDYihhLCBiKSwgb3B0cyA9IF9hWzBdLCBjYWxsYmFjayA9IF9hWzFdO1xuICAgICAgICB2YXIgcGF0aEZpbGVuYW1lID0gcGF0aFRvRmlsZW5hbWUocGF0aCk7XG4gICAgICAgIHRoaXMud3JhcEFzeW5jKHRoaXMucmVhbHBhdGhCYXNlLCBbcGF0aEZpbGVuYW1lLCBvcHRzLmVuY29kaW5nXSwgY2FsbGJhY2spO1xuICAgIH07XG4gICAgVm9sdW1lLnByb3RvdHlwZS5sc3RhdEJhc2UgPSBmdW5jdGlvbiAoZmlsZW5hbWUsIGJpZ2ludCkge1xuICAgICAgICBpZiAoYmlnaW50ID09PSB2b2lkIDApIHsgYmlnaW50ID0gZmFsc2U7IH1cbiAgICAgICAgdmFyIGxpbmsgPSB0aGlzLmdldExpbmsoZmlsZW5hbWVUb1N0ZXBzKGZpbGVuYW1lKSk7XG4gICAgICAgIGlmICghbGluaylcbiAgICAgICAgICAgIHRocm93IGNyZWF0ZUVycm9yKEVOT0VOVCwgJ2xzdGF0JywgZmlsZW5hbWUpO1xuICAgICAgICByZXR1cm4gU3RhdHNfMS5kZWZhdWx0LmJ1aWxkKGxpbmsuZ2V0Tm9kZSgpLCBiaWdpbnQpO1xuICAgIH07XG4gICAgVm9sdW1lLnByb3RvdHlwZS5sc3RhdFN5bmMgPSBmdW5jdGlvbiAocGF0aCwgb3B0aW9ucykge1xuICAgICAgICByZXR1cm4gdGhpcy5sc3RhdEJhc2UocGF0aFRvRmlsZW5hbWUocGF0aCksIGdldFN0YXRPcHRpb25zKG9wdGlvbnMpLmJpZ2ludCk7XG4gICAgfTtcbiAgICBWb2x1bWUucHJvdG90eXBlLmxzdGF0ID0gZnVuY3Rpb24gKHBhdGgsIGEsIGIpIHtcbiAgICAgICAgdmFyIF9hID0gZ2V0U3RhdE9wdHNBbmRDYihhLCBiKSwgb3B0cyA9IF9hWzBdLCBjYWxsYmFjayA9IF9hWzFdO1xuICAgICAgICB0aGlzLndyYXBBc3luYyh0aGlzLmxzdGF0QmFzZSwgW3BhdGhUb0ZpbGVuYW1lKHBhdGgpLCBvcHRzLmJpZ2ludF0sIGNhbGxiYWNrKTtcbiAgICB9O1xuICAgIFZvbHVtZS5wcm90b3R5cGUuc3RhdEJhc2UgPSBmdW5jdGlvbiAoZmlsZW5hbWUsIGJpZ2ludCkge1xuICAgICAgICBpZiAoYmlnaW50ID09PSB2b2lkIDApIHsgYmlnaW50ID0gZmFsc2U7IH1cbiAgICAgICAgdmFyIGxpbmsgPSB0aGlzLmdldFJlc29sdmVkTGluayhmaWxlbmFtZVRvU3RlcHMoZmlsZW5hbWUpKTtcbiAgICAgICAgaWYgKCFsaW5rKVxuICAgICAgICAgICAgdGhyb3cgY3JlYXRlRXJyb3IoRU5PRU5ULCAnc3RhdCcsIGZpbGVuYW1lKTtcbiAgICAgICAgcmV0dXJuIFN0YXRzXzEuZGVmYXVsdC5idWlsZChsaW5rLmdldE5vZGUoKSwgYmlnaW50KTtcbiAgICB9O1xuICAgIFZvbHVtZS5wcm90b3R5cGUuc3RhdFN5bmMgPSBmdW5jdGlvbiAocGF0aCwgb3B0aW9ucykge1xuICAgICAgICByZXR1cm4gdGhpcy5zdGF0QmFzZShwYXRoVG9GaWxlbmFtZShwYXRoKSwgZ2V0U3RhdE9wdGlvbnMob3B0aW9ucykuYmlnaW50KTtcbiAgICB9O1xuICAgIFZvbHVtZS5wcm90b3R5cGUuc3RhdCA9IGZ1bmN0aW9uIChwYXRoLCBhLCBiKSB7XG4gICAgICAgIHZhciBfYSA9IGdldFN0YXRPcHRzQW5kQ2IoYSwgYiksIG9wdHMgPSBfYVswXSwgY2FsbGJhY2sgPSBfYVsxXTtcbiAgICAgICAgdGhpcy53cmFwQXN5bmModGhpcy5zdGF0QmFzZSwgW3BhdGhUb0ZpbGVuYW1lKHBhdGgpLCBvcHRzLmJpZ2ludF0sIGNhbGxiYWNrKTtcbiAgICB9O1xuICAgIFZvbHVtZS5wcm90b3R5cGUuZnN0YXRCYXNlID0gZnVuY3Rpb24gKGZkLCBiaWdpbnQpIHtcbiAgICAgICAgaWYgKGJpZ2ludCA9PT0gdm9pZCAwKSB7IGJpZ2ludCA9IGZhbHNlOyB9XG4gICAgICAgIHZhciBmaWxlID0gdGhpcy5nZXRGaWxlQnlGZChmZCk7XG4gICAgICAgIGlmICghZmlsZSlcbiAgICAgICAgICAgIHRocm93IGNyZWF0ZUVycm9yKEVCQURGLCAnZnN0YXQnKTtcbiAgICAgICAgcmV0dXJuIFN0YXRzXzEuZGVmYXVsdC5idWlsZChmaWxlLm5vZGUsIGJpZ2ludCk7XG4gICAgfTtcbiAgICBWb2x1bWUucHJvdG90eXBlLmZzdGF0U3luYyA9IGZ1bmN0aW9uIChmZCwgb3B0aW9ucykge1xuICAgICAgICByZXR1cm4gdGhpcy5mc3RhdEJhc2UoZmQsIGdldFN0YXRPcHRpb25zKG9wdGlvbnMpLmJpZ2ludCk7XG4gICAgfTtcbiAgICBWb2x1bWUucHJvdG90eXBlLmZzdGF0ID0gZnVuY3Rpb24gKGZkLCBhLCBiKSB7XG4gICAgICAgIHZhciBfYSA9IGdldFN0YXRPcHRzQW5kQ2IoYSwgYiksIG9wdHMgPSBfYVswXSwgY2FsbGJhY2sgPSBfYVsxXTtcbiAgICAgICAgdGhpcy53cmFwQXN5bmModGhpcy5mc3RhdEJhc2UsIFtmZCwgb3B0cy5iaWdpbnRdLCBjYWxsYmFjayk7XG4gICAgfTtcbiAgICBWb2x1bWUucHJvdG90eXBlLnJlbmFtZUJhc2UgPSBmdW5jdGlvbiAob2xkUGF0aEZpbGVuYW1lLCBuZXdQYXRoRmlsZW5hbWUpIHtcbiAgICAgICAgdmFyIGxpbmsgPSB0aGlzLmdldExpbmsoZmlsZW5hbWVUb1N0ZXBzKG9sZFBhdGhGaWxlbmFtZSkpO1xuICAgICAgICBpZiAoIWxpbmspXG4gICAgICAgICAgICB0aHJvdyBjcmVhdGVFcnJvcihFTk9FTlQsICdyZW5hbWUnLCBvbGRQYXRoRmlsZW5hbWUsIG5ld1BhdGhGaWxlbmFtZSk7XG4gICAgICAgIC8vIFRPRE86IENoZWNrIGlmIGl0IGlzIGRpcmVjdG9yeSwgaWYgbm9uLWVtcHR5LCB3ZSBjYW5ub3QgbW92ZSBpdCwgcmlnaHQ/XG4gICAgICAgIHZhciBuZXdQYXRoU3RlcHMgPSBmaWxlbmFtZVRvU3RlcHMobmV3UGF0aEZpbGVuYW1lKTtcbiAgICAgICAgLy8gQ2hlY2sgZGlyZWN0b3J5IGV4aXN0cyBmb3IgdGhlIG5ldyBsb2NhdGlvbi5cbiAgICAgICAgdmFyIG5ld1BhdGhEaXJMaW5rID0gdGhpcy5nZXRMaW5rUGFyZW50KG5ld1BhdGhTdGVwcyk7XG4gICAgICAgIGlmICghbmV3UGF0aERpckxpbmspXG4gICAgICAgICAgICB0aHJvdyBjcmVhdGVFcnJvcihFTk9FTlQsICdyZW5hbWUnLCBvbGRQYXRoRmlsZW5hbWUsIG5ld1BhdGhGaWxlbmFtZSk7XG4gICAgICAgIC8vIFRPRE86IEFsc28gdHJlYXQgY2FzZXMgd2l0aCBkaXJlY3RvcmllcyBhbmQgc3ltYm9saWMgbGlua3MuXG4gICAgICAgIC8vIFRPRE86IFNlZTogaHR0cDovL21hbjcub3JnL2xpbnV4L21hbi1wYWdlcy9tYW4yL3JlbmFtZS4yLmh0bWxcbiAgICAgICAgLy8gUmVtb3ZlIGhhcmQgbGluayBmcm9tIG9sZCBmb2xkZXIuXG4gICAgICAgIHZhciBvbGRMaW5rUGFyZW50ID0gbGluay5wYXJlbnQ7XG4gICAgICAgIGlmIChvbGRMaW5rUGFyZW50KSB7XG4gICAgICAgICAgICBvbGRMaW5rUGFyZW50LmRlbGV0ZUNoaWxkKGxpbmspO1xuICAgICAgICB9XG4gICAgICAgIC8vIFJlbmFtZSBzaG91bGQgb3ZlcndyaXRlIHRoZSBuZXcgcGF0aCwgaWYgdGhhdCBleGlzdHMuXG4gICAgICAgIHZhciBuYW1lID0gbmV3UGF0aFN0ZXBzW25ld1BhdGhTdGVwcy5sZW5ndGggLSAxXTtcbiAgICAgICAgbGluay5zdGVwcyA9IF9fc3ByZWFkQXJyYXlzKG5ld1BhdGhEaXJMaW5rLnN0ZXBzLCBbbmFtZV0pO1xuICAgICAgICBuZXdQYXRoRGlyTGluay5zZXRDaGlsZChsaW5rLmdldE5hbWUoKSwgbGluayk7XG4gICAgfTtcbiAgICBWb2x1bWUucHJvdG90eXBlLnJlbmFtZVN5bmMgPSBmdW5jdGlvbiAob2xkUGF0aCwgbmV3UGF0aCkge1xuICAgICAgICB2YXIgb2xkUGF0aEZpbGVuYW1lID0gcGF0aFRvRmlsZW5hbWUob2xkUGF0aCk7XG4gICAgICAgIHZhciBuZXdQYXRoRmlsZW5hbWUgPSBwYXRoVG9GaWxlbmFtZShuZXdQYXRoKTtcbiAgICAgICAgdGhpcy5yZW5hbWVCYXNlKG9sZFBhdGhGaWxlbmFtZSwgbmV3UGF0aEZpbGVuYW1lKTtcbiAgICB9O1xuICAgIFZvbHVtZS5wcm90b3R5cGUucmVuYW1lID0gZnVuY3Rpb24gKG9sZFBhdGgsIG5ld1BhdGgsIGNhbGxiYWNrKSB7XG4gICAgICAgIHZhciBvbGRQYXRoRmlsZW5hbWUgPSBwYXRoVG9GaWxlbmFtZShvbGRQYXRoKTtcbiAgICAgICAgdmFyIG5ld1BhdGhGaWxlbmFtZSA9IHBhdGhUb0ZpbGVuYW1lKG5ld1BhdGgpO1xuICAgICAgICB0aGlzLndyYXBBc3luYyh0aGlzLnJlbmFtZUJhc2UsIFtvbGRQYXRoRmlsZW5hbWUsIG5ld1BhdGhGaWxlbmFtZV0sIGNhbGxiYWNrKTtcbiAgICB9O1xuICAgIFZvbHVtZS5wcm90b3R5cGUuZXhpc3RzQmFzZSA9IGZ1bmN0aW9uIChmaWxlbmFtZSkge1xuICAgICAgICByZXR1cm4gISF0aGlzLnN0YXRCYXNlKGZpbGVuYW1lKTtcbiAgICB9O1xuICAgIFZvbHVtZS5wcm90b3R5cGUuZXhpc3RzU3luYyA9IGZ1bmN0aW9uIChwYXRoKSB7XG4gICAgICAgIHRyeSB7XG4gICAgICAgICAgICByZXR1cm4gdGhpcy5leGlzdHNCYXNlKHBhdGhUb0ZpbGVuYW1lKHBhdGgpKTtcbiAgICAgICAgfVxuICAgICAgICBjYXRjaCAoZXJyKSB7XG4gICAgICAgICAgICByZXR1cm4gZmFsc2U7XG4gICAgICAgIH1cbiAgICB9O1xuICAgIFZvbHVtZS5wcm90b3R5cGUuZXhpc3RzID0gZnVuY3Rpb24gKHBhdGgsIGNhbGxiYWNrKSB7XG4gICAgICAgIHZhciBfdGhpcyA9IHRoaXM7XG4gICAgICAgIHZhciBmaWxlbmFtZSA9IHBhdGhUb0ZpbGVuYW1lKHBhdGgpO1xuICAgICAgICBpZiAodHlwZW9mIGNhbGxiYWNrICE9PSAnZnVuY3Rpb24nKVxuICAgICAgICAgICAgdGhyb3cgRXJyb3IoRVJSU1RSLkNCKTtcbiAgICAgICAgc2V0SW1tZWRpYXRlXzEuZGVmYXVsdChmdW5jdGlvbiAoKSB7XG4gICAgICAgICAgICB0cnkge1xuICAgICAgICAgICAgICAgIGNhbGxiYWNrKF90aGlzLmV4aXN0c0Jhc2UoZmlsZW5hbWUpKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGNhdGNoIChlcnIpIHtcbiAgICAgICAgICAgICAgICBjYWxsYmFjayhmYWxzZSk7XG4gICAgICAgICAgICB9XG4gICAgICAgIH0pO1xuICAgIH07XG4gICAgVm9sdW1lLnByb3RvdHlwZS5hY2Nlc3NCYXNlID0gZnVuY3Rpb24gKGZpbGVuYW1lLCBtb2RlKSB7XG4gICAgICAgIHZhciBsaW5rID0gdGhpcy5nZXRMaW5rT3JUaHJvdyhmaWxlbmFtZSwgJ2FjY2VzcycpO1xuICAgICAgICAvLyBUT0RPOiBWZXJpZnkgcGVybWlzc2lvbnNcbiAgICB9O1xuICAgIFZvbHVtZS5wcm90b3R5cGUuYWNjZXNzU3luYyA9IGZ1bmN0aW9uIChwYXRoLCBtb2RlKSB7XG4gICAgICAgIGlmIChtb2RlID09PSB2b2lkIDApIHsgbW9kZSA9IEZfT0s7IH1cbiAgICAgICAgdmFyIGZpbGVuYW1lID0gcGF0aFRvRmlsZW5hbWUocGF0aCk7XG4gICAgICAgIG1vZGUgPSBtb2RlIHwgMDtcbiAgICAgICAgdGhpcy5hY2Nlc3NCYXNlKGZpbGVuYW1lLCBtb2RlKTtcbiAgICB9O1xuICAgIFZvbHVtZS5wcm90b3R5cGUuYWNjZXNzID0gZnVuY3Rpb24gKHBhdGgsIGEsIGIpIHtcbiAgICAgICAgdmFyIG1vZGUgPSBGX09LO1xuICAgICAgICB2YXIgY2FsbGJhY2s7XG4gICAgICAgIGlmICh0eXBlb2YgYSAhPT0gJ2Z1bmN0aW9uJykge1xuICAgICAgICAgICAgbW9kZSA9IGEgfCAwOyAvLyBjYXN0IHRvIG51bWJlclxuICAgICAgICAgICAgY2FsbGJhY2sgPSB2YWxpZGF0ZUNhbGxiYWNrKGIpO1xuICAgICAgICB9XG4gICAgICAgIGVsc2Uge1xuICAgICAgICAgICAgY2FsbGJhY2sgPSBhO1xuICAgICAgICB9XG4gICAgICAgIHZhciBmaWxlbmFtZSA9IHBhdGhUb0ZpbGVuYW1lKHBhdGgpO1xuICAgICAgICB0aGlzLndyYXBBc3luYyh0aGlzLmFjY2Vzc0Jhc2UsIFtmaWxlbmFtZSwgbW9kZV0sIGNhbGxiYWNrKTtcbiAgICB9O1xuICAgIFZvbHVtZS5wcm90b3R5cGUuYXBwZW5kRmlsZVN5bmMgPSBmdW5jdGlvbiAoaWQsIGRhdGEsIG9wdGlvbnMpIHtcbiAgICAgICAgaWYgKG9wdGlvbnMgPT09IHZvaWQgMCkgeyBvcHRpb25zID0gYXBwZW5kRmlsZURlZmF1bHRzOyB9XG4gICAgICAgIHZhciBvcHRzID0gZ2V0QXBwZW5kRmlsZU9wdHMob3B0aW9ucyk7XG4gICAgICAgIC8vIGZvcmNlIGFwcGVuZCBiZWhhdmlvciB3aGVuIHVzaW5nIGEgc3VwcGxpZWQgZmlsZSBkZXNjcmlwdG9yXG4gICAgICAgIGlmICghb3B0cy5mbGFnIHx8IGlzRmQoaWQpKVxuICAgICAgICAgICAgb3B0cy5mbGFnID0gJ2EnO1xuICAgICAgICB0aGlzLndyaXRlRmlsZVN5bmMoaWQsIGRhdGEsIG9wdHMpO1xuICAgIH07XG4gICAgVm9sdW1lLnByb3RvdHlwZS5hcHBlbmRGaWxlID0gZnVuY3Rpb24gKGlkLCBkYXRhLCBhLCBiKSB7XG4gICAgICAgIHZhciBfYSA9IGdldEFwcGVuZEZpbGVPcHRzQW5kQ2IoYSwgYiksIG9wdHMgPSBfYVswXSwgY2FsbGJhY2sgPSBfYVsxXTtcbiAgICAgICAgLy8gZm9yY2UgYXBwZW5kIGJlaGF2aW9yIHdoZW4gdXNpbmcgYSBzdXBwbGllZCBmaWxlIGRlc2NyaXB0b3JcbiAgICAgICAgaWYgKCFvcHRzLmZsYWcgfHwgaXNGZChpZCkpXG4gICAgICAgICAgICBvcHRzLmZsYWcgPSAnYSc7XG4gICAgICAgIHRoaXMud3JpdGVGaWxlKGlkLCBkYXRhLCBvcHRzLCBjYWxsYmFjayk7XG4gICAgfTtcbiAgICBWb2x1bWUucHJvdG90eXBlLnJlYWRkaXJCYXNlID0gZnVuY3Rpb24gKGZpbGVuYW1lLCBvcHRpb25zKSB7XG4gICAgICAgIHZhciBzdGVwcyA9IGZpbGVuYW1lVG9TdGVwcyhmaWxlbmFtZSk7XG4gICAgICAgIHZhciBsaW5rID0gdGhpcy5nZXRSZXNvbHZlZExpbmsoc3RlcHMpO1xuICAgICAgICBpZiAoIWxpbmspXG4gICAgICAgICAgICB0aHJvdyBjcmVhdGVFcnJvcihFTk9FTlQsICdyZWFkZGlyJywgZmlsZW5hbWUpO1xuICAgICAgICB2YXIgbm9kZSA9IGxpbmsuZ2V0Tm9kZSgpO1xuICAgICAgICBpZiAoIW5vZGUuaXNEaXJlY3RvcnkoKSlcbiAgICAgICAgICAgIHRocm93IGNyZWF0ZUVycm9yKEVOT1RESVIsICdzY2FuZGlyJywgZmlsZW5hbWUpO1xuICAgICAgICBpZiAob3B0aW9ucy53aXRoRmlsZVR5cGVzKSB7XG4gICAgICAgICAgICB2YXIgbGlzdF8xID0gW107XG4gICAgICAgICAgICBmb3IgKHZhciBuYW1lXzMgaW4gbGluay5jaGlsZHJlbikge1xuICAgICAgICAgICAgICAgIHZhciBjaGlsZCA9IGxpbmsuZ2V0Q2hpbGQobmFtZV8zKTtcbiAgICAgICAgICAgICAgICBpZiAoIWNoaWxkKSB7XG4gICAgICAgICAgICAgICAgICAgIGNvbnRpbnVlO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICBsaXN0XzEucHVzaChEaXJlbnRfMS5kZWZhdWx0LmJ1aWxkKGNoaWxkLCBvcHRpb25zLmVuY29kaW5nKSk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBpZiAoIWlzV2luICYmIG9wdGlvbnMuZW5jb2RpbmcgIT09ICdidWZmZXInKVxuICAgICAgICAgICAgICAgIGxpc3RfMS5zb3J0KGZ1bmN0aW9uIChhLCBiKSB7XG4gICAgICAgICAgICAgICAgICAgIGlmIChhLm5hbWUgPCBiLm5hbWUpXG4gICAgICAgICAgICAgICAgICAgICAgICByZXR1cm4gLTE7XG4gICAgICAgICAgICAgICAgICAgIGlmIChhLm5hbWUgPiBiLm5hbWUpXG4gICAgICAgICAgICAgICAgICAgICAgICByZXR1cm4gMTtcbiAgICAgICAgICAgICAgICAgICAgcmV0dXJuIDA7XG4gICAgICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICByZXR1cm4gbGlzdF8xO1xuICAgICAgICB9XG4gICAgICAgIHZhciBsaXN0ID0gW107XG4gICAgICAgIGZvciAodmFyIG5hbWVfNCBpbiBsaW5rLmNoaWxkcmVuKSB7XG4gICAgICAgICAgICBsaXN0LnB1c2goZW5jb2RpbmdfMS5zdHJUb0VuY29kaW5nKG5hbWVfNCwgb3B0aW9ucy5lbmNvZGluZykpO1xuICAgICAgICB9XG4gICAgICAgIGlmICghaXNXaW4gJiYgb3B0aW9ucy5lbmNvZGluZyAhPT0gJ2J1ZmZlcicpXG4gICAgICAgICAgICBsaXN0LnNvcnQoKTtcbiAgICAgICAgcmV0dXJuIGxpc3Q7XG4gICAgfTtcbiAgICBWb2x1bWUucHJvdG90eXBlLnJlYWRkaXJTeW5jID0gZnVuY3Rpb24gKHBhdGgsIG9wdGlvbnMpIHtcbiAgICAgICAgdmFyIG9wdHMgPSBnZXRSZWFkZGlyT3B0aW9ucyhvcHRpb25zKTtcbiAgICAgICAgdmFyIGZpbGVuYW1lID0gcGF0aFRvRmlsZW5hbWUocGF0aCk7XG4gICAgICAgIHJldHVybiB0aGlzLnJlYWRkaXJCYXNlKGZpbGVuYW1lLCBvcHRzKTtcbiAgICB9O1xuICAgIFZvbHVtZS5wcm90b3R5cGUucmVhZGRpciA9IGZ1bmN0aW9uIChwYXRoLCBhLCBiKSB7XG4gICAgICAgIHZhciBfYSA9IGdldFJlYWRkaXJPcHRzQW5kQ2IoYSwgYiksIG9wdGlvbnMgPSBfYVswXSwgY2FsbGJhY2sgPSBfYVsxXTtcbiAgICAgICAgdmFyIGZpbGVuYW1lID0gcGF0aFRvRmlsZW5hbWUocGF0aCk7XG4gICAgICAgIHRoaXMud3JhcEFzeW5jKHRoaXMucmVhZGRpckJhc2UsIFtmaWxlbmFtZSwgb3B0aW9uc10sIGNhbGxiYWNrKTtcbiAgICB9O1xuICAgIFZvbHVtZS5wcm90b3R5cGUucmVhZGxpbmtCYXNlID0gZnVuY3Rpb24gKGZpbGVuYW1lLCBlbmNvZGluZykge1xuICAgICAgICB2YXIgbGluayA9IHRoaXMuZ2V0TGlua09yVGhyb3coZmlsZW5hbWUsICdyZWFkbGluaycpO1xuICAgICAgICB2YXIgbm9kZSA9IGxpbmsuZ2V0Tm9kZSgpO1xuICAgICAgICBpZiAoIW5vZGUuaXNTeW1saW5rKCkpXG4gICAgICAgICAgICB0aHJvdyBjcmVhdGVFcnJvcihFSU5WQUwsICdyZWFkbGluaycsIGZpbGVuYW1lKTtcbiAgICAgICAgdmFyIHN0ciA9IHNlcCArIG5vZGUuc3ltbGluay5qb2luKHNlcCk7XG4gICAgICAgIHJldHVybiBlbmNvZGluZ18xLnN0clRvRW5jb2Rpbmcoc3RyLCBlbmNvZGluZyk7XG4gICAgfTtcbiAgICBWb2x1bWUucHJvdG90eXBlLnJlYWRsaW5rU3luYyA9IGZ1bmN0aW9uIChwYXRoLCBvcHRpb25zKSB7XG4gICAgICAgIHZhciBvcHRzID0gZ2V0RGVmYXVsdE9wdHMob3B0aW9ucyk7XG4gICAgICAgIHZhciBmaWxlbmFtZSA9IHBhdGhUb0ZpbGVuYW1lKHBhdGgpO1xuICAgICAgICByZXR1cm4gdGhpcy5yZWFkbGlua0Jhc2UoZmlsZW5hbWUsIG9wdHMuZW5jb2RpbmcpO1xuICAgIH07XG4gICAgVm9sdW1lLnByb3RvdHlwZS5yZWFkbGluayA9IGZ1bmN0aW9uIChwYXRoLCBhLCBiKSB7XG4gICAgICAgIHZhciBfYSA9IGdldERlZmF1bHRPcHRzQW5kQ2IoYSwgYiksIG9wdHMgPSBfYVswXSwgY2FsbGJhY2sgPSBfYVsxXTtcbiAgICAgICAgdmFyIGZpbGVuYW1lID0gcGF0aFRvRmlsZW5hbWUocGF0aCk7XG4gICAgICAgIHRoaXMud3JhcEFzeW5jKHRoaXMucmVhZGxpbmtCYXNlLCBbZmlsZW5hbWUsIG9wdHMuZW5jb2RpbmddLCBjYWxsYmFjayk7XG4gICAgfTtcbiAgICBWb2x1bWUucHJvdG90eXBlLmZzeW5jQmFzZSA9IGZ1bmN0aW9uIChmZCkge1xuICAgICAgICB0aGlzLmdldEZpbGVCeUZkT3JUaHJvdyhmZCwgJ2ZzeW5jJyk7XG4gICAgfTtcbiAgICBWb2x1bWUucHJvdG90eXBlLmZzeW5jU3luYyA9IGZ1bmN0aW9uIChmZCkge1xuICAgICAgICB0aGlzLmZzeW5jQmFzZShmZCk7XG4gICAgfTtcbiAgICBWb2x1bWUucHJvdG90eXBlLmZzeW5jID0gZnVuY3Rpb24gKGZkLCBjYWxsYmFjaykge1xuICAgICAgICB0aGlzLndyYXBBc3luYyh0aGlzLmZzeW5jQmFzZSwgW2ZkXSwgY2FsbGJhY2spO1xuICAgIH07XG4gICAgVm9sdW1lLnByb3RvdHlwZS5mZGF0YXN5bmNCYXNlID0gZnVuY3Rpb24gKGZkKSB7XG4gICAgICAgIHRoaXMuZ2V0RmlsZUJ5RmRPclRocm93KGZkLCAnZmRhdGFzeW5jJyk7XG4gICAgfTtcbiAgICBWb2x1bWUucHJvdG90eXBlLmZkYXRhc3luY1N5bmMgPSBmdW5jdGlvbiAoZmQpIHtcbiAgICAgICAgdGhpcy5mZGF0YXN5bmNCYXNlKGZkKTtcbiAgICB9O1xuICAgIFZvbHVtZS5wcm90b3R5cGUuZmRhdGFzeW5jID0gZnVuY3Rpb24gKGZkLCBjYWxsYmFjaykge1xuICAgICAgICB0aGlzLndyYXBBc3luYyh0aGlzLmZkYXRhc3luY0Jhc2UsIFtmZF0sIGNhbGxiYWNrKTtcbiAgICB9O1xuICAgIFZvbHVtZS5wcm90b3R5cGUuZnRydW5jYXRlQmFzZSA9IGZ1bmN0aW9uIChmZCwgbGVuKSB7XG4gICAgICAgIHZhciBmaWxlID0gdGhpcy5nZXRGaWxlQnlGZE9yVGhyb3coZmQsICdmdHJ1bmNhdGUnKTtcbiAgICAgICAgZmlsZS50cnVuY2F0ZShsZW4pO1xuICAgIH07XG4gICAgVm9sdW1lLnByb3RvdHlwZS5mdHJ1bmNhdGVTeW5jID0gZnVuY3Rpb24gKGZkLCBsZW4pIHtcbiAgICAgICAgdGhpcy5mdHJ1bmNhdGVCYXNlKGZkLCBsZW4pO1xuICAgIH07XG4gICAgVm9sdW1lLnByb3RvdHlwZS5mdHJ1bmNhdGUgPSBmdW5jdGlvbiAoZmQsIGEsIGIpIHtcbiAgICAgICAgdmFyIGxlbiA9IHR5cGVvZiBhID09PSAnbnVtYmVyJyA/IGEgOiAwO1xuICAgICAgICB2YXIgY2FsbGJhY2sgPSB2YWxpZGF0ZUNhbGxiYWNrKHR5cGVvZiBhID09PSAnbnVtYmVyJyA/IGIgOiBhKTtcbiAgICAgICAgdGhpcy53cmFwQXN5bmModGhpcy5mdHJ1bmNhdGVCYXNlLCBbZmQsIGxlbl0sIGNhbGxiYWNrKTtcbiAgICB9O1xuICAgIFZvbHVtZS5wcm90b3R5cGUudHJ1bmNhdGVCYXNlID0gZnVuY3Rpb24gKHBhdGgsIGxlbikge1xuICAgICAgICB2YXIgZmQgPSB0aGlzLm9wZW5TeW5jKHBhdGgsICdyKycpO1xuICAgICAgICB0cnkge1xuICAgICAgICAgICAgdGhpcy5mdHJ1bmNhdGVTeW5jKGZkLCBsZW4pO1xuICAgICAgICB9XG4gICAgICAgIGZpbmFsbHkge1xuICAgICAgICAgICAgdGhpcy5jbG9zZVN5bmMoZmQpO1xuICAgICAgICB9XG4gICAgfTtcbiAgICBWb2x1bWUucHJvdG90eXBlLnRydW5jYXRlU3luYyA9IGZ1bmN0aW9uIChpZCwgbGVuKSB7XG4gICAgICAgIGlmIChpc0ZkKGlkKSlcbiAgICAgICAgICAgIHJldHVybiB0aGlzLmZ0cnVuY2F0ZVN5bmMoaWQsIGxlbik7XG4gICAgICAgIHRoaXMudHJ1bmNhdGVCYXNlKGlkLCBsZW4pO1xuICAgIH07XG4gICAgVm9sdW1lLnByb3RvdHlwZS50cnVuY2F0ZSA9IGZ1bmN0aW9uIChpZCwgYSwgYikge1xuICAgICAgICB2YXIgbGVuID0gdHlwZW9mIGEgPT09ICdudW1iZXInID8gYSA6IDA7XG4gICAgICAgIHZhciBjYWxsYmFjayA9IHZhbGlkYXRlQ2FsbGJhY2sodHlwZW9mIGEgPT09ICdudW1iZXInID8gYiA6IGEpO1xuICAgICAgICBpZiAoaXNGZChpZCkpXG4gICAgICAgICAgICByZXR1cm4gdGhpcy5mdHJ1bmNhdGUoaWQsIGxlbiwgY2FsbGJhY2spO1xuICAgICAgICB0aGlzLndyYXBBc3luYyh0aGlzLnRydW5jYXRlQmFzZSwgW2lkLCBsZW5dLCBjYWxsYmFjayk7XG4gICAgfTtcbiAgICBWb2x1bWUucHJvdG90eXBlLmZ1dGltZXNCYXNlID0gZnVuY3Rpb24gKGZkLCBhdGltZSwgbXRpbWUpIHtcbiAgICAgICAgdmFyIGZpbGUgPSB0aGlzLmdldEZpbGVCeUZkT3JUaHJvdyhmZCwgJ2Z1dGltZXMnKTtcbiAgICAgICAgdmFyIG5vZGUgPSBmaWxlLm5vZGU7XG4gICAgICAgIG5vZGUuYXRpbWUgPSBuZXcgRGF0ZShhdGltZSAqIDEwMDApO1xuICAgICAgICBub2RlLm10aW1lID0gbmV3IERhdGUobXRpbWUgKiAxMDAwKTtcbiAgICB9O1xuICAgIFZvbHVtZS5wcm90b3R5cGUuZnV0aW1lc1N5bmMgPSBmdW5jdGlvbiAoZmQsIGF0aW1lLCBtdGltZSkge1xuICAgICAgICB0aGlzLmZ1dGltZXNCYXNlKGZkLCB0b1VuaXhUaW1lc3RhbXAoYXRpbWUpLCB0b1VuaXhUaW1lc3RhbXAobXRpbWUpKTtcbiAgICB9O1xuICAgIFZvbHVtZS5wcm90b3R5cGUuZnV0aW1lcyA9IGZ1bmN0aW9uIChmZCwgYXRpbWUsIG10aW1lLCBjYWxsYmFjaykge1xuICAgICAgICB0aGlzLndyYXBBc3luYyh0aGlzLmZ1dGltZXNCYXNlLCBbZmQsIHRvVW5peFRpbWVzdGFtcChhdGltZSksIHRvVW5peFRpbWVzdGFtcChtdGltZSldLCBjYWxsYmFjayk7XG4gICAgfTtcbiAgICBWb2x1bWUucHJvdG90eXBlLnV0aW1lc0Jhc2UgPSBmdW5jdGlvbiAoZmlsZW5hbWUsIGF0aW1lLCBtdGltZSkge1xuICAgICAgICB2YXIgZmQgPSB0aGlzLm9wZW5TeW5jKGZpbGVuYW1lLCAncisnKTtcbiAgICAgICAgdHJ5IHtcbiAgICAgICAgICAgIHRoaXMuZnV0aW1lc0Jhc2UoZmQsIGF0aW1lLCBtdGltZSk7XG4gICAgICAgIH1cbiAgICAgICAgZmluYWxseSB7XG4gICAgICAgICAgICB0aGlzLmNsb3NlU3luYyhmZCk7XG4gICAgICAgIH1cbiAgICB9O1xuICAgIFZvbHVtZS5wcm90b3R5cGUudXRpbWVzU3luYyA9IGZ1bmN0aW9uIChwYXRoLCBhdGltZSwgbXRpbWUpIHtcbiAgICAgICAgdGhpcy51dGltZXNCYXNlKHBhdGhUb0ZpbGVuYW1lKHBhdGgpLCB0b1VuaXhUaW1lc3RhbXAoYXRpbWUpLCB0b1VuaXhUaW1lc3RhbXAobXRpbWUpKTtcbiAgICB9O1xuICAgIFZvbHVtZS5wcm90b3R5cGUudXRpbWVzID0gZnVuY3Rpb24gKHBhdGgsIGF0aW1lLCBtdGltZSwgY2FsbGJhY2spIHtcbiAgICAgICAgdGhpcy53cmFwQXN5bmModGhpcy51dGltZXNCYXNlLCBbcGF0aFRvRmlsZW5hbWUocGF0aCksIHRvVW5peFRpbWVzdGFtcChhdGltZSksIHRvVW5peFRpbWVzdGFtcChtdGltZSldLCBjYWxsYmFjayk7XG4gICAgfTtcbiAgICBWb2x1bWUucHJvdG90eXBlLm1rZGlyQmFzZSA9IGZ1bmN0aW9uIChmaWxlbmFtZSwgbW9kZU51bSkge1xuICAgICAgICB2YXIgc3RlcHMgPSBmaWxlbmFtZVRvU3RlcHMoZmlsZW5hbWUpO1xuICAgICAgICAvLyBUaGlzIHdpbGwgdGhyb3cgaWYgdXNlciB0cmllcyB0byBjcmVhdGUgcm9vdCBkaXIgYGZzLm1rZGlyU3luYygnLycpYC5cbiAgICAgICAgaWYgKCFzdGVwcy5sZW5ndGgpIHtcbiAgICAgICAgICAgIHRocm93IGNyZWF0ZUVycm9yKEVJU0RJUiwgJ21rZGlyJywgZmlsZW5hbWUpO1xuICAgICAgICB9XG4gICAgICAgIHZhciBkaXIgPSB0aGlzLmdldExpbmtQYXJlbnRBc0Rpck9yVGhyb3coZmlsZW5hbWUsICdta2RpcicpO1xuICAgICAgICAvLyBDaGVjayBwYXRoIGFscmVhZHkgZXhpc3RzLlxuICAgICAgICB2YXIgbmFtZSA9IHN0ZXBzW3N0ZXBzLmxlbmd0aCAtIDFdO1xuICAgICAgICBpZiAoZGlyLmdldENoaWxkKG5hbWUpKVxuICAgICAgICAgICAgdGhyb3cgY3JlYXRlRXJyb3IoRUVYSVNULCAnbWtkaXInLCBmaWxlbmFtZSk7XG4gICAgICAgIGRpci5jcmVhdGVDaGlsZChuYW1lLCB0aGlzLmNyZWF0ZU5vZGUodHJ1ZSwgbW9kZU51bSkpO1xuICAgIH07XG4gICAgLyoqXG4gICAgICogQ3JlYXRlcyBkaXJlY3RvcnkgdHJlZSByZWN1cnNpdmVseS5cbiAgICAgKiBAcGFyYW0gZmlsZW5hbWVcbiAgICAgKiBAcGFyYW0gbW9kZU51bVxuICAgICAqL1xuICAgIFZvbHVtZS5wcm90b3R5cGUubWtkaXJwQmFzZSA9IGZ1bmN0aW9uIChmaWxlbmFtZSwgbW9kZU51bSkge1xuICAgICAgICB2YXIgc3RlcHMgPSBmaWxlbmFtZVRvU3RlcHMoZmlsZW5hbWUpO1xuICAgICAgICB2YXIgbGluayA9IHRoaXMucm9vdDtcbiAgICAgICAgZm9yICh2YXIgaSA9IDA7IGkgPCBzdGVwcy5sZW5ndGg7IGkrKykge1xuICAgICAgICAgICAgdmFyIHN0ZXAgPSBzdGVwc1tpXTtcbiAgICAgICAgICAgIGlmICghbGluay5nZXROb2RlKCkuaXNEaXJlY3RvcnkoKSlcbiAgICAgICAgICAgICAgICB0aHJvdyBjcmVhdGVFcnJvcihFTk9URElSLCAnbWtkaXInLCBsaW5rLmdldFBhdGgoKSk7XG4gICAgICAgICAgICB2YXIgY2hpbGQgPSBsaW5rLmdldENoaWxkKHN0ZXApO1xuICAgICAgICAgICAgaWYgKGNoaWxkKSB7XG4gICAgICAgICAgICAgICAgaWYgKGNoaWxkLmdldE5vZGUoKS5pc0RpcmVjdG9yeSgpKVxuICAgICAgICAgICAgICAgICAgICBsaW5rID0gY2hpbGQ7XG4gICAgICAgICAgICAgICAgZWxzZVxuICAgICAgICAgICAgICAgICAgICB0aHJvdyBjcmVhdGVFcnJvcihFTk9URElSLCAnbWtkaXInLCBjaGlsZC5nZXRQYXRoKCkpO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgZWxzZSB7XG4gICAgICAgICAgICAgICAgbGluayA9IGxpbmsuY3JlYXRlQ2hpbGQoc3RlcCwgdGhpcy5jcmVhdGVOb2RlKHRydWUsIG1vZGVOdW0pKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgIH07XG4gICAgVm9sdW1lLnByb3RvdHlwZS5ta2RpclN5bmMgPSBmdW5jdGlvbiAocGF0aCwgb3B0aW9ucykge1xuICAgICAgICB2YXIgb3B0cyA9IGdldE1rZGlyT3B0aW9ucyhvcHRpb25zKTtcbiAgICAgICAgdmFyIG1vZGVOdW0gPSBtb2RlVG9OdW1iZXIob3B0cy5tb2RlLCA1MTEpO1xuICAgICAgICB2YXIgZmlsZW5hbWUgPSBwYXRoVG9GaWxlbmFtZShwYXRoKTtcbiAgICAgICAgaWYgKG9wdHMucmVjdXJzaXZlKVxuICAgICAgICAgICAgdGhpcy5ta2RpcnBCYXNlKGZpbGVuYW1lLCBtb2RlTnVtKTtcbiAgICAgICAgZWxzZVxuICAgICAgICAgICAgdGhpcy5ta2RpckJhc2UoZmlsZW5hbWUsIG1vZGVOdW0pO1xuICAgIH07XG4gICAgVm9sdW1lLnByb3RvdHlwZS5ta2RpciA9IGZ1bmN0aW9uIChwYXRoLCBhLCBiKSB7XG4gICAgICAgIHZhciBvcHRzID0gZ2V0TWtkaXJPcHRpb25zKGEpO1xuICAgICAgICB2YXIgY2FsbGJhY2sgPSB2YWxpZGF0ZUNhbGxiYWNrKHR5cGVvZiBhID09PSAnZnVuY3Rpb24nID8gYSA6IGIpO1xuICAgICAgICB2YXIgbW9kZU51bSA9IG1vZGVUb051bWJlcihvcHRzLm1vZGUsIDUxMSk7XG4gICAgICAgIHZhciBmaWxlbmFtZSA9IHBhdGhUb0ZpbGVuYW1lKHBhdGgpO1xuICAgICAgICBpZiAob3B0cy5yZWN1cnNpdmUpXG4gICAgICAgICAgICB0aGlzLndyYXBBc3luYyh0aGlzLm1rZGlycEJhc2UsIFtmaWxlbmFtZSwgbW9kZU51bV0sIGNhbGxiYWNrKTtcbiAgICAgICAgZWxzZVxuICAgICAgICAgICAgdGhpcy53cmFwQXN5bmModGhpcy5ta2RpckJhc2UsIFtmaWxlbmFtZSwgbW9kZU51bV0sIGNhbGxiYWNrKTtcbiAgICB9O1xuICAgIC8vIGxlZ2FjeSBpbnRlcmZhY2VcbiAgICBWb2x1bWUucHJvdG90eXBlLm1rZGlycFN5bmMgPSBmdW5jdGlvbiAocGF0aCwgbW9kZSkge1xuICAgICAgICB0aGlzLm1rZGlyU3luYyhwYXRoLCB7IG1vZGU6IG1vZGUsIHJlY3Vyc2l2ZTogdHJ1ZSB9KTtcbiAgICB9O1xuICAgIFZvbHVtZS5wcm90b3R5cGUubWtkaXJwID0gZnVuY3Rpb24gKHBhdGgsIGEsIGIpIHtcbiAgICAgICAgdmFyIG1vZGUgPSB0eXBlb2YgYSA9PT0gJ2Z1bmN0aW9uJyA/IHVuZGVmaW5lZCA6IGE7XG4gICAgICAgIHZhciBjYWxsYmFjayA9IHZhbGlkYXRlQ2FsbGJhY2sodHlwZW9mIGEgPT09ICdmdW5jdGlvbicgPyBhIDogYik7XG4gICAgICAgIHRoaXMubWtkaXIocGF0aCwgeyBtb2RlOiBtb2RlLCByZWN1cnNpdmU6IHRydWUgfSwgY2FsbGJhY2spO1xuICAgIH07XG4gICAgVm9sdW1lLnByb3RvdHlwZS5ta2R0ZW1wQmFzZSA9IGZ1bmN0aW9uIChwcmVmaXgsIGVuY29kaW5nLCByZXRyeSkge1xuICAgICAgICBpZiAocmV0cnkgPT09IHZvaWQgMCkgeyByZXRyeSA9IDU7IH1cbiAgICAgICAgdmFyIGZpbGVuYW1lID0gcHJlZml4ICsgdGhpcy5nZW5SbmRTdHIoKTtcbiAgICAgICAgdHJ5IHtcbiAgICAgICAgICAgIHRoaXMubWtkaXJCYXNlKGZpbGVuYW1lLCA1MTEgLyogRElSICovKTtcbiAgICAgICAgICAgIHJldHVybiBlbmNvZGluZ18xLnN0clRvRW5jb2RpbmcoZmlsZW5hbWUsIGVuY29kaW5nKTtcbiAgICAgICAgfVxuICAgICAgICBjYXRjaCAoZXJyKSB7XG4gICAgICAgICAgICBpZiAoZXJyLmNvZGUgPT09IEVFWElTVCkge1xuICAgICAgICAgICAgICAgIGlmIChyZXRyeSA+IDEpXG4gICAgICAgICAgICAgICAgICAgIHJldHVybiB0aGlzLm1rZHRlbXBCYXNlKHByZWZpeCwgZW5jb2RpbmcsIHJldHJ5IC0gMSk7XG4gICAgICAgICAgICAgICAgZWxzZVxuICAgICAgICAgICAgICAgICAgICB0aHJvdyBFcnJvcignQ291bGQgbm90IGNyZWF0ZSB0ZW1wIGRpci4nKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGVsc2VcbiAgICAgICAgICAgICAgICB0aHJvdyBlcnI7XG4gICAgICAgIH1cbiAgICB9O1xuICAgIFZvbHVtZS5wcm90b3R5cGUubWtkdGVtcFN5bmMgPSBmdW5jdGlvbiAocHJlZml4LCBvcHRpb25zKSB7XG4gICAgICAgIHZhciBlbmNvZGluZyA9IGdldERlZmF1bHRPcHRzKG9wdGlvbnMpLmVuY29kaW5nO1xuICAgICAgICBpZiAoIXByZWZpeCB8fCB0eXBlb2YgcHJlZml4ICE9PSAnc3RyaW5nJylcbiAgICAgICAgICAgIHRocm93IG5ldyBUeXBlRXJyb3IoJ2ZpbGVuYW1lIHByZWZpeCBpcyByZXF1aXJlZCcpO1xuICAgICAgICBudWxsQ2hlY2socHJlZml4KTtcbiAgICAgICAgcmV0dXJuIHRoaXMubWtkdGVtcEJhc2UocHJlZml4LCBlbmNvZGluZyk7XG4gICAgfTtcbiAgICBWb2x1bWUucHJvdG90eXBlLm1rZHRlbXAgPSBmdW5jdGlvbiAocHJlZml4LCBhLCBiKSB7XG4gICAgICAgIHZhciBfYSA9IGdldERlZmF1bHRPcHRzQW5kQ2IoYSwgYiksIGVuY29kaW5nID0gX2FbMF0uZW5jb2RpbmcsIGNhbGxiYWNrID0gX2FbMV07XG4gICAgICAgIGlmICghcHJlZml4IHx8IHR5cGVvZiBwcmVmaXggIT09ICdzdHJpbmcnKVxuICAgICAgICAgICAgdGhyb3cgbmV3IFR5cGVFcnJvcignZmlsZW5hbWUgcHJlZml4IGlzIHJlcXVpcmVkJyk7XG4gICAgICAgIGlmICghbnVsbENoZWNrKHByZWZpeCkpXG4gICAgICAgICAgICByZXR1cm47XG4gICAgICAgIHRoaXMud3JhcEFzeW5jKHRoaXMubWtkdGVtcEJhc2UsIFtwcmVmaXgsIGVuY29kaW5nXSwgY2FsbGJhY2spO1xuICAgIH07XG4gICAgVm9sdW1lLnByb3RvdHlwZS5ybWRpckJhc2UgPSBmdW5jdGlvbiAoZmlsZW5hbWUsIG9wdGlvbnMpIHtcbiAgICAgICAgdmFyIG9wdHMgPSBnZXRSbWRpck9wdGlvbnMob3B0aW9ucyk7XG4gICAgICAgIHZhciBsaW5rID0gdGhpcy5nZXRMaW5rQXNEaXJPclRocm93KGZpbGVuYW1lLCAncm1kaXInKTtcbiAgICAgICAgLy8gQ2hlY2sgZGlyZWN0b3J5IGlzIGVtcHR5LlxuICAgICAgICBpZiAobGluay5sZW5ndGggJiYgIW9wdHMucmVjdXJzaXZlKVxuICAgICAgICAgICAgdGhyb3cgY3JlYXRlRXJyb3IoRU5PVEVNUFRZLCAncm1kaXInLCBmaWxlbmFtZSk7XG4gICAgICAgIHRoaXMuZGVsZXRlTGluayhsaW5rKTtcbiAgICB9O1xuICAgIFZvbHVtZS5wcm90b3R5cGUucm1kaXJTeW5jID0gZnVuY3Rpb24gKHBhdGgsIG9wdGlvbnMpIHtcbiAgICAgICAgdGhpcy5ybWRpckJhc2UocGF0aFRvRmlsZW5hbWUocGF0aCksIG9wdGlvbnMpO1xuICAgIH07XG4gICAgVm9sdW1lLnByb3RvdHlwZS5ybWRpciA9IGZ1bmN0aW9uIChwYXRoLCBhLCBiKSB7XG4gICAgICAgIHZhciBvcHRzID0gZ2V0Um1kaXJPcHRpb25zKGEpO1xuICAgICAgICB2YXIgY2FsbGJhY2sgPSB2YWxpZGF0ZUNhbGxiYWNrKHR5cGVvZiBhID09PSAnZnVuY3Rpb24nID8gYSA6IGIpO1xuICAgICAgICB0aGlzLndyYXBBc3luYyh0aGlzLnJtZGlyQmFzZSwgW3BhdGhUb0ZpbGVuYW1lKHBhdGgpLCBvcHRzXSwgY2FsbGJhY2spO1xuICAgIH07XG4gICAgVm9sdW1lLnByb3RvdHlwZS5mY2htb2RCYXNlID0gZnVuY3Rpb24gKGZkLCBtb2RlTnVtKSB7XG4gICAgICAgIHZhciBmaWxlID0gdGhpcy5nZXRGaWxlQnlGZE9yVGhyb3coZmQsICdmY2htb2QnKTtcbiAgICAgICAgZmlsZS5jaG1vZChtb2RlTnVtKTtcbiAgICB9O1xuICAgIFZvbHVtZS5wcm90b3R5cGUuZmNobW9kU3luYyA9IGZ1bmN0aW9uIChmZCwgbW9kZSkge1xuICAgICAgICB0aGlzLmZjaG1vZEJhc2UoZmQsIG1vZGVUb051bWJlcihtb2RlKSk7XG4gICAgfTtcbiAgICBWb2x1bWUucHJvdG90eXBlLmZjaG1vZCA9IGZ1bmN0aW9uIChmZCwgbW9kZSwgY2FsbGJhY2spIHtcbiAgICAgICAgdGhpcy53cmFwQXN5bmModGhpcy5mY2htb2RCYXNlLCBbZmQsIG1vZGVUb051bWJlcihtb2RlKV0sIGNhbGxiYWNrKTtcbiAgICB9O1xuICAgIFZvbHVtZS5wcm90b3R5cGUuY2htb2RCYXNlID0gZnVuY3Rpb24gKGZpbGVuYW1lLCBtb2RlTnVtKSB7XG4gICAgICAgIHZhciBmZCA9IHRoaXMub3BlblN5bmMoZmlsZW5hbWUsICdyKycpO1xuICAgICAgICB0cnkge1xuICAgICAgICAgICAgdGhpcy5mY2htb2RCYXNlKGZkLCBtb2RlTnVtKTtcbiAgICAgICAgfVxuICAgICAgICBmaW5hbGx5IHtcbiAgICAgICAgICAgIHRoaXMuY2xvc2VTeW5jKGZkKTtcbiAgICAgICAgfVxuICAgIH07XG4gICAgVm9sdW1lLnByb3RvdHlwZS5jaG1vZFN5bmMgPSBmdW5jdGlvbiAocGF0aCwgbW9kZSkge1xuICAgICAgICB2YXIgbW9kZU51bSA9IG1vZGVUb051bWJlcihtb2RlKTtcbiAgICAgICAgdmFyIGZpbGVuYW1lID0gcGF0aFRvRmlsZW5hbWUocGF0aCk7XG4gICAgICAgIHRoaXMuY2htb2RCYXNlKGZpbGVuYW1lLCBtb2RlTnVtKTtcbiAgICB9O1xuICAgIFZvbHVtZS5wcm90b3R5cGUuY2htb2QgPSBmdW5jdGlvbiAocGF0aCwgbW9kZSwgY2FsbGJhY2spIHtcbiAgICAgICAgdmFyIG1vZGVOdW0gPSBtb2RlVG9OdW1iZXIobW9kZSk7XG4gICAgICAgIHZhciBmaWxlbmFtZSA9IHBhdGhUb0ZpbGVuYW1lKHBhdGgpO1xuICAgICAgICB0aGlzLndyYXBBc3luYyh0aGlzLmNobW9kQmFzZSwgW2ZpbGVuYW1lLCBtb2RlTnVtXSwgY2FsbGJhY2spO1xuICAgIH07XG4gICAgVm9sdW1lLnByb3RvdHlwZS5sY2htb2RCYXNlID0gZnVuY3Rpb24gKGZpbGVuYW1lLCBtb2RlTnVtKSB7XG4gICAgICAgIHZhciBmZCA9IHRoaXMub3BlbkJhc2UoZmlsZW5hbWUsIE9fUkRXUiwgMCwgZmFsc2UpO1xuICAgICAgICB0cnkge1xuICAgICAgICAgICAgdGhpcy5mY2htb2RCYXNlKGZkLCBtb2RlTnVtKTtcbiAgICAgICAgfVxuICAgICAgICBmaW5hbGx5IHtcbiAgICAgICAgICAgIHRoaXMuY2xvc2VTeW5jKGZkKTtcbiAgICAgICAgfVxuICAgIH07XG4gICAgVm9sdW1lLnByb3RvdHlwZS5sY2htb2RTeW5jID0gZnVuY3Rpb24gKHBhdGgsIG1vZGUpIHtcbiAgICAgICAgdmFyIG1vZGVOdW0gPSBtb2RlVG9OdW1iZXIobW9kZSk7XG4gICAgICAgIHZhciBmaWxlbmFtZSA9IHBhdGhUb0ZpbGVuYW1lKHBhdGgpO1xuICAgICAgICB0aGlzLmxjaG1vZEJhc2UoZmlsZW5hbWUsIG1vZGVOdW0pO1xuICAgIH07XG4gICAgVm9sdW1lLnByb3RvdHlwZS5sY2htb2QgPSBmdW5jdGlvbiAocGF0aCwgbW9kZSwgY2FsbGJhY2spIHtcbiAgICAgICAgdmFyIG1vZGVOdW0gPSBtb2RlVG9OdW1iZXIobW9kZSk7XG4gICAgICAgIHZhciBmaWxlbmFtZSA9IHBhdGhUb0ZpbGVuYW1lKHBhdGgpO1xuICAgICAgICB0aGlzLndyYXBBc3luYyh0aGlzLmxjaG1vZEJhc2UsIFtmaWxlbmFtZSwgbW9kZU51bV0sIGNhbGxiYWNrKTtcbiAgICB9O1xuICAgIFZvbHVtZS5wcm90b3R5cGUuZmNob3duQmFzZSA9IGZ1bmN0aW9uIChmZCwgdWlkLCBnaWQpIHtcbiAgICAgICAgdGhpcy5nZXRGaWxlQnlGZE9yVGhyb3coZmQsICdmY2hvd24nKS5jaG93bih1aWQsIGdpZCk7XG4gICAgfTtcbiAgICBWb2x1bWUucHJvdG90eXBlLmZjaG93blN5bmMgPSBmdW5jdGlvbiAoZmQsIHVpZCwgZ2lkKSB7XG4gICAgICAgIHZhbGlkYXRlVWlkKHVpZCk7XG4gICAgICAgIHZhbGlkYXRlR2lkKGdpZCk7XG4gICAgICAgIHRoaXMuZmNob3duQmFzZShmZCwgdWlkLCBnaWQpO1xuICAgIH07XG4gICAgVm9sdW1lLnByb3RvdHlwZS5mY2hvd24gPSBmdW5jdGlvbiAoZmQsIHVpZCwgZ2lkLCBjYWxsYmFjaykge1xuICAgICAgICB2YWxpZGF0ZVVpZCh1aWQpO1xuICAgICAgICB2YWxpZGF0ZUdpZChnaWQpO1xuICAgICAgICB0aGlzLndyYXBBc3luYyh0aGlzLmZjaG93bkJhc2UsIFtmZCwgdWlkLCBnaWRdLCBjYWxsYmFjayk7XG4gICAgfTtcbiAgICBWb2x1bWUucHJvdG90eXBlLmNob3duQmFzZSA9IGZ1bmN0aW9uIChmaWxlbmFtZSwgdWlkLCBnaWQpIHtcbiAgICAgICAgdmFyIGxpbmsgPSB0aGlzLmdldFJlc29sdmVkTGlua09yVGhyb3coZmlsZW5hbWUsICdjaG93bicpO1xuICAgICAgICB2YXIgbm9kZSA9IGxpbmsuZ2V0Tm9kZSgpO1xuICAgICAgICBub2RlLmNob3duKHVpZCwgZ2lkKTtcbiAgICAgICAgLy8gaWYobm9kZS5pc0ZpbGUoKSB8fCBub2RlLmlzU3ltbGluaygpKSB7XG4gICAgICAgIC8vXG4gICAgICAgIC8vIH0gZWxzZSBpZihub2RlLmlzRGlyZWN0b3J5KCkpIHtcbiAgICAgICAgLy9cbiAgICAgICAgLy8gfSBlbHNlIHtcbiAgICAgICAgLy8gVE9ETzogV2hhdCBkbyB3ZSBkbyBoZXJlP1xuICAgICAgICAvLyB9XG4gICAgfTtcbiAgICBWb2x1bWUucHJvdG90eXBlLmNob3duU3luYyA9IGZ1bmN0aW9uIChwYXRoLCB1aWQsIGdpZCkge1xuICAgICAgICB2YWxpZGF0ZVVpZCh1aWQpO1xuICAgICAgICB2YWxpZGF0ZUdpZChnaWQpO1xuICAgICAgICB0aGlzLmNob3duQmFzZShwYXRoVG9GaWxlbmFtZShwYXRoKSwgdWlkLCBnaWQpO1xuICAgIH07XG4gICAgVm9sdW1lLnByb3RvdHlwZS5jaG93biA9IGZ1bmN0aW9uIChwYXRoLCB1aWQsIGdpZCwgY2FsbGJhY2spIHtcbiAgICAgICAgdmFsaWRhdGVVaWQodWlkKTtcbiAgICAgICAgdmFsaWRhdGVHaWQoZ2lkKTtcbiAgICAgICAgdGhpcy53cmFwQXN5bmModGhpcy5jaG93bkJhc2UsIFtwYXRoVG9GaWxlbmFtZShwYXRoKSwgdWlkLCBnaWRdLCBjYWxsYmFjayk7XG4gICAgfTtcbiAgICBWb2x1bWUucHJvdG90eXBlLmxjaG93bkJhc2UgPSBmdW5jdGlvbiAoZmlsZW5hbWUsIHVpZCwgZ2lkKSB7XG4gICAgICAgIHRoaXMuZ2V0TGlua09yVGhyb3coZmlsZW5hbWUsICdsY2hvd24nKVxuICAgICAgICAgICAgLmdldE5vZGUoKVxuICAgICAgICAgICAgLmNob3duKHVpZCwgZ2lkKTtcbiAgICB9O1xuICAgIFZvbHVtZS5wcm90b3R5cGUubGNob3duU3luYyA9IGZ1bmN0aW9uIChwYXRoLCB1aWQsIGdpZCkge1xuICAgICAgICB2YWxpZGF0ZVVpZCh1aWQpO1xuICAgICAgICB2YWxpZGF0ZUdpZChnaWQpO1xuICAgICAgICB0aGlzLmxjaG93bkJhc2UocGF0aFRvRmlsZW5hbWUocGF0aCksIHVpZCwgZ2lkKTtcbiAgICB9O1xuICAgIFZvbHVtZS5wcm90b3R5cGUubGNob3duID0gZnVuY3Rpb24gKHBhdGgsIHVpZCwgZ2lkLCBjYWxsYmFjaykge1xuICAgICAgICB2YWxpZGF0ZVVpZCh1aWQpO1xuICAgICAgICB2YWxpZGF0ZUdpZChnaWQpO1xuICAgICAgICB0aGlzLndyYXBBc3luYyh0aGlzLmxjaG93bkJhc2UsIFtwYXRoVG9GaWxlbmFtZShwYXRoKSwgdWlkLCBnaWRdLCBjYWxsYmFjayk7XG4gICAgfTtcbiAgICBWb2x1bWUucHJvdG90eXBlLndhdGNoRmlsZSA9IGZ1bmN0aW9uIChwYXRoLCBhLCBiKSB7XG4gICAgICAgIHZhciBmaWxlbmFtZSA9IHBhdGhUb0ZpbGVuYW1lKHBhdGgpO1xuICAgICAgICB2YXIgb3B0aW9ucyA9IGE7XG4gICAgICAgIHZhciBsaXN0ZW5lciA9IGI7XG4gICAgICAgIGlmICh0eXBlb2Ygb3B0aW9ucyA9PT0gJ2Z1bmN0aW9uJykge1xuICAgICAgICAgICAgbGlzdGVuZXIgPSBhO1xuICAgICAgICAgICAgb3B0aW9ucyA9IG51bGw7XG4gICAgICAgIH1cbiAgICAgICAgaWYgKHR5cGVvZiBsaXN0ZW5lciAhPT0gJ2Z1bmN0aW9uJykge1xuICAgICAgICAgICAgdGhyb3cgRXJyb3IoJ1wid2F0Y2hGaWxlKClcIiByZXF1aXJlcyBhIGxpc3RlbmVyIGZ1bmN0aW9uJyk7XG4gICAgICAgIH1cbiAgICAgICAgdmFyIGludGVydmFsID0gNTAwNztcbiAgICAgICAgdmFyIHBlcnNpc3RlbnQgPSB0cnVlO1xuICAgICAgICBpZiAob3B0aW9ucyAmJiB0eXBlb2Ygb3B0aW9ucyA9PT0gJ29iamVjdCcpIHtcbiAgICAgICAgICAgIGlmICh0eXBlb2Ygb3B0aW9ucy5pbnRlcnZhbCA9PT0gJ251bWJlcicpXG4gICAgICAgICAgICAgICAgaW50ZXJ2YWwgPSBvcHRpb25zLmludGVydmFsO1xuICAgICAgICAgICAgaWYgKHR5cGVvZiBvcHRpb25zLnBlcnNpc3RlbnQgPT09ICdib29sZWFuJylcbiAgICAgICAgICAgICAgICBwZXJzaXN0ZW50ID0gb3B0aW9ucy5wZXJzaXN0ZW50O1xuICAgICAgICB9XG4gICAgICAgIHZhciB3YXRjaGVyID0gdGhpcy5zdGF0V2F0Y2hlcnNbZmlsZW5hbWVdO1xuICAgICAgICBpZiAoIXdhdGNoZXIpIHtcbiAgICAgICAgICAgIHdhdGNoZXIgPSBuZXcgdGhpcy5TdGF0V2F0Y2hlcigpO1xuICAgICAgICAgICAgd2F0Y2hlci5zdGFydChmaWxlbmFtZSwgcGVyc2lzdGVudCwgaW50ZXJ2YWwpO1xuICAgICAgICAgICAgdGhpcy5zdGF0V2F0Y2hlcnNbZmlsZW5hbWVdID0gd2F0Y2hlcjtcbiAgICAgICAgfVxuICAgICAgICB3YXRjaGVyLmFkZExpc3RlbmVyKCdjaGFuZ2UnLCBsaXN0ZW5lcik7XG4gICAgICAgIHJldHVybiB3YXRjaGVyO1xuICAgIH07XG4gICAgVm9sdW1lLnByb3RvdHlwZS51bndhdGNoRmlsZSA9IGZ1bmN0aW9uIChwYXRoLCBsaXN0ZW5lcikge1xuICAgICAgICB2YXIgZmlsZW5hbWUgPSBwYXRoVG9GaWxlbmFtZShwYXRoKTtcbiAgICAgICAgdmFyIHdhdGNoZXIgPSB0aGlzLnN0YXRXYXRjaGVyc1tmaWxlbmFtZV07XG4gICAgICAgIGlmICghd2F0Y2hlcilcbiAgICAgICAgICAgIHJldHVybjtcbiAgICAgICAgaWYgKHR5cGVvZiBsaXN0ZW5lciA9PT0gJ2Z1bmN0aW9uJykge1xuICAgICAgICAgICAgd2F0Y2hlci5yZW1vdmVMaXN0ZW5lcignY2hhbmdlJywgbGlzdGVuZXIpO1xuICAgICAgICB9XG4gICAgICAgIGVsc2Uge1xuICAgICAgICAgICAgd2F0Y2hlci5yZW1vdmVBbGxMaXN0ZW5lcnMoJ2NoYW5nZScpO1xuICAgICAgICB9XG4gICAgICAgIGlmICh3YXRjaGVyLmxpc3RlbmVyQ291bnQoJ2NoYW5nZScpID09PSAwKSB7XG4gICAgICAgICAgICB3YXRjaGVyLnN0b3AoKTtcbiAgICAgICAgICAgIGRlbGV0ZSB0aGlzLnN0YXRXYXRjaGVyc1tmaWxlbmFtZV07XG4gICAgICAgIH1cbiAgICB9O1xuICAgIFZvbHVtZS5wcm90b3R5cGUuY3JlYXRlUmVhZFN0cmVhbSA9IGZ1bmN0aW9uIChwYXRoLCBvcHRpb25zKSB7XG4gICAgICAgIHJldHVybiBuZXcgdGhpcy5SZWFkU3RyZWFtKHBhdGgsIG9wdGlvbnMpO1xuICAgIH07XG4gICAgVm9sdW1lLnByb3RvdHlwZS5jcmVhdGVXcml0ZVN0cmVhbSA9IGZ1bmN0aW9uIChwYXRoLCBvcHRpb25zKSB7XG4gICAgICAgIHJldHVybiBuZXcgdGhpcy5Xcml0ZVN0cmVhbShwYXRoLCBvcHRpb25zKTtcbiAgICB9O1xuICAgIC8vIHdhdGNoKHBhdGg6IFRGaWxlUGF0aCk6IEZTV2F0Y2hlcjtcbiAgICAvLyB3YXRjaChwYXRoOiBURmlsZVBhdGgsIG9wdGlvbnM/OiBJV2F0Y2hPcHRpb25zIHwgc3RyaW5nKTogRlNXYXRjaGVyO1xuICAgIFZvbHVtZS5wcm90b3R5cGUud2F0Y2ggPSBmdW5jdGlvbiAocGF0aCwgb3B0aW9ucywgbGlzdGVuZXIpIHtcbiAgICAgICAgdmFyIGZpbGVuYW1lID0gcGF0aFRvRmlsZW5hbWUocGF0aCk7XG4gICAgICAgIHZhciBnaXZlbk9wdGlvbnMgPSBvcHRpb25zO1xuICAgICAgICBpZiAodHlwZW9mIG9wdGlvbnMgPT09ICdmdW5jdGlvbicpIHtcbiAgICAgICAgICAgIGxpc3RlbmVyID0gb3B0aW9ucztcbiAgICAgICAgICAgIGdpdmVuT3B0aW9ucyA9IG51bGw7XG4gICAgICAgIH1cbiAgICAgICAgLy8gdHNsaW50OmRpc2FibGUtbmV4dC1saW5lIHByZWZlci1jb25zdFxuICAgICAgICB2YXIgX2EgPSBnZXREZWZhdWx0T3B0cyhnaXZlbk9wdGlvbnMpLCBwZXJzaXN0ZW50ID0gX2EucGVyc2lzdGVudCwgcmVjdXJzaXZlID0gX2EucmVjdXJzaXZlLCBlbmNvZGluZyA9IF9hLmVuY29kaW5nO1xuICAgICAgICBpZiAocGVyc2lzdGVudCA9PT0gdW5kZWZpbmVkKVxuICAgICAgICAgICAgcGVyc2lzdGVudCA9IHRydWU7XG4gICAgICAgIGlmIChyZWN1cnNpdmUgPT09IHVuZGVmaW5lZClcbiAgICAgICAgICAgIHJlY3Vyc2l2ZSA9IGZhbHNlO1xuICAgICAgICB2YXIgd2F0Y2hlciA9IG5ldyB0aGlzLkZTV2F0Y2hlcigpO1xuICAgICAgICB3YXRjaGVyLnN0YXJ0KGZpbGVuYW1lLCBwZXJzaXN0ZW50LCByZWN1cnNpdmUsIGVuY29kaW5nKTtcbiAgICAgICAgaWYgKGxpc3RlbmVyKSB7XG4gICAgICAgICAgICB3YXRjaGVyLmFkZExpc3RlbmVyKCdjaGFuZ2UnLCBsaXN0ZW5lcik7XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuIHdhdGNoZXI7XG4gICAgfTtcbiAgICAvKipcbiAgICAgKiBHbG9iYWwgZmlsZSBkZXNjcmlwdG9yIGNvdW50ZXIuIFVOSVggZmlsZSBkZXNjcmlwdG9ycyBzdGFydCBmcm9tIDAgYW5kIGdvIHNlcXVlbnRpYWxseVxuICAgICAqIHVwLCBzbyBoZXJlLCBpbiBvcmRlciBub3QgdG8gY29uZmxpY3Qgd2l0aCB0aGVtLCB3ZSBjaG9vc2Ugc29tZSBiaWcgbnVtYmVyIGFuZCBkZXNjcmVhc2VcbiAgICAgKiB0aGUgZmlsZSBkZXNjcmlwdG9yIG9mIGV2ZXJ5IG5ldyBvcGVuZWQgZmlsZS5cbiAgICAgKiBAdHlwZSB7bnVtYmVyfVxuICAgICAqIEB0b2RvIFRoaXMgc2hvdWxkIG5vdCBiZSBzdGF0aWMsIHJpZ2h0P1xuICAgICAqL1xuICAgIFZvbHVtZS5mZCA9IDB4N2ZmZmZmZmY7XG4gICAgcmV0dXJuIFZvbHVtZTtcbn0oKSk7XG5leHBvcnRzLlZvbHVtZSA9IFZvbHVtZTtcbmZ1bmN0aW9uIGVtaXRTdG9wKHNlbGYpIHtcbiAgICBzZWxmLmVtaXQoJ3N0b3AnKTtcbn1cbnZhciBTdGF0V2F0Y2hlciA9IC8qKiBAY2xhc3MgKi8gKGZ1bmN0aW9uIChfc3VwZXIpIHtcbiAgICBfX2V4dGVuZHMoU3RhdFdhdGNoZXIsIF9zdXBlcik7XG4gICAgZnVuY3Rpb24gU3RhdFdhdGNoZXIodm9sKSB7XG4gICAgICAgIHZhciBfdGhpcyA9IF9zdXBlci5jYWxsKHRoaXMpIHx8IHRoaXM7XG4gICAgICAgIF90aGlzLm9uSW50ZXJ2YWwgPSBmdW5jdGlvbiAoKSB7XG4gICAgICAgICAgICB0cnkge1xuICAgICAgICAgICAgICAgIHZhciBzdGF0cyA9IF90aGlzLnZvbC5zdGF0U3luYyhfdGhpcy5maWxlbmFtZSk7XG4gICAgICAgICAgICAgICAgaWYgKF90aGlzLmhhc0NoYW5nZWQoc3RhdHMpKSB7XG4gICAgICAgICAgICAgICAgICAgIF90aGlzLmVtaXQoJ2NoYW5nZScsIHN0YXRzLCBfdGhpcy5wcmV2KTtcbiAgICAgICAgICAgICAgICAgICAgX3RoaXMucHJldiA9IHN0YXRzO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGZpbmFsbHkge1xuICAgICAgICAgICAgICAgIF90aGlzLmxvb3AoKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfTtcbiAgICAgICAgX3RoaXMudm9sID0gdm9sO1xuICAgICAgICByZXR1cm4gX3RoaXM7XG4gICAgfVxuICAgIFN0YXRXYXRjaGVyLnByb3RvdHlwZS5sb29wID0gZnVuY3Rpb24gKCkge1xuICAgICAgICB0aGlzLnRpbWVvdXRSZWYgPSB0aGlzLnNldFRpbWVvdXQodGhpcy5vbkludGVydmFsLCB0aGlzLmludGVydmFsKTtcbiAgICB9O1xuICAgIFN0YXRXYXRjaGVyLnByb3RvdHlwZS5oYXNDaGFuZ2VkID0gZnVuY3Rpb24gKHN0YXRzKSB7XG4gICAgICAgIC8vIGlmKCF0aGlzLnByZXYpIHJldHVybiBmYWxzZTtcbiAgICAgICAgaWYgKHN0YXRzLm10aW1lTXMgPiB0aGlzLnByZXYubXRpbWVNcylcbiAgICAgICAgICAgIHJldHVybiB0cnVlO1xuICAgICAgICBpZiAoc3RhdHMubmxpbmsgIT09IHRoaXMucHJldi5ubGluaylcbiAgICAgICAgICAgIHJldHVybiB0cnVlO1xuICAgICAgICByZXR1cm4gZmFsc2U7XG4gICAgfTtcbiAgICBTdGF0V2F0Y2hlci5wcm90b3R5cGUuc3RhcnQgPSBmdW5jdGlvbiAocGF0aCwgcGVyc2lzdGVudCwgaW50ZXJ2YWwpIHtcbiAgICAgICAgaWYgKHBlcnNpc3RlbnQgPT09IHZvaWQgMCkgeyBwZXJzaXN0ZW50ID0gdHJ1ZTsgfVxuICAgICAgICBpZiAoaW50ZXJ2YWwgPT09IHZvaWQgMCkgeyBpbnRlcnZhbCA9IDUwMDc7IH1cbiAgICAgICAgdGhpcy5maWxlbmFtZSA9IHBhdGhUb0ZpbGVuYW1lKHBhdGgpO1xuICAgICAgICB0aGlzLnNldFRpbWVvdXQgPSBwZXJzaXN0ZW50ID8gc2V0VGltZW91dCA6IHNldFRpbWVvdXRVbnJlZl8xLmRlZmF1bHQ7XG4gICAgICAgIHRoaXMuaW50ZXJ2YWwgPSBpbnRlcnZhbDtcbiAgICAgICAgdGhpcy5wcmV2ID0gdGhpcy52b2wuc3RhdFN5bmModGhpcy5maWxlbmFtZSk7XG4gICAgICAgIHRoaXMubG9vcCgpO1xuICAgIH07XG4gICAgU3RhdFdhdGNoZXIucHJvdG90eXBlLnN0b3AgPSBmdW5jdGlvbiAoKSB7XG4gICAgICAgIGNsZWFyVGltZW91dCh0aGlzLnRpbWVvdXRSZWYpO1xuICAgICAgICBwcm9jZXNzXzEuZGVmYXVsdC5uZXh0VGljayhlbWl0U3RvcCwgdGhpcyk7XG4gICAgfTtcbiAgICByZXR1cm4gU3RhdFdhdGNoZXI7XG59KGV2ZW50c18xLkV2ZW50RW1pdHRlcikpO1xuZXhwb3J0cy5TdGF0V2F0Y2hlciA9IFN0YXRXYXRjaGVyO1xudmFyIHBvb2w7XG5mdW5jdGlvbiBhbGxvY05ld1Bvb2wocG9vbFNpemUpIHtcbiAgICBwb29sID0gYnVmZmVyXzEuYnVmZmVyQWxsb2NVbnNhZmUocG9vbFNpemUpO1xuICAgIHBvb2wudXNlZCA9IDA7XG59XG51dGlsLmluaGVyaXRzKEZzUmVhZFN0cmVhbSwgc3RyZWFtXzEuUmVhZGFibGUpO1xuZXhwb3J0cy5SZWFkU3RyZWFtID0gRnNSZWFkU3RyZWFtO1xuZnVuY3Rpb24gRnNSZWFkU3RyZWFtKHZvbCwgcGF0aCwgb3B0aW9ucykge1xuICAgIGlmICghKHRoaXMgaW5zdGFuY2VvZiBGc1JlYWRTdHJlYW0pKVxuICAgICAgICByZXR1cm4gbmV3IEZzUmVhZFN0cmVhbSh2b2wsIHBhdGgsIG9wdGlvbnMpO1xuICAgIHRoaXMuX3ZvbCA9IHZvbDtcbiAgICAvLyBhIGxpdHRsZSBiaXQgYmlnZ2VyIGJ1ZmZlciBhbmQgd2F0ZXIgbWFya3MgYnkgZGVmYXVsdFxuICAgIG9wdGlvbnMgPSBleHRlbmQoe30sIGdldE9wdGlvbnMob3B0aW9ucywge30pKTtcbiAgICBpZiAob3B0aW9ucy5oaWdoV2F0ZXJNYXJrID09PSB1bmRlZmluZWQpXG4gICAgICAgIG9wdGlvbnMuaGlnaFdhdGVyTWFyayA9IDY0ICogMTAyNDtcbiAgICBzdHJlYW1fMS5SZWFkYWJsZS5jYWxsKHRoaXMsIG9wdGlvbnMpO1xuICAgIHRoaXMucGF0aCA9IHBhdGhUb0ZpbGVuYW1lKHBhdGgpO1xuICAgIHRoaXMuZmQgPSBvcHRpb25zLmZkID09PSB1bmRlZmluZWQgPyBudWxsIDogb3B0aW9ucy5mZDtcbiAgICB0aGlzLmZsYWdzID0gb3B0aW9ucy5mbGFncyA9PT0gdW5kZWZpbmVkID8gJ3InIDogb3B0aW9ucy5mbGFncztcbiAgICB0aGlzLm1vZGUgPSBvcHRpb25zLm1vZGUgPT09IHVuZGVmaW5lZCA/IDQzOCA6IG9wdGlvbnMubW9kZTtcbiAgICB0aGlzLnN0YXJ0ID0gb3B0aW9ucy5zdGFydDtcbiAgICB0aGlzLmVuZCA9IG9wdGlvbnMuZW5kO1xuICAgIHRoaXMuYXV0b0Nsb3NlID0gb3B0aW9ucy5hdXRvQ2xvc2UgPT09IHVuZGVmaW5lZCA/IHRydWUgOiBvcHRpb25zLmF1dG9DbG9zZTtcbiAgICB0aGlzLnBvcyA9IHVuZGVmaW5lZDtcbiAgICB0aGlzLmJ5dGVzUmVhZCA9IDA7XG4gICAgaWYgKHRoaXMuc3RhcnQgIT09IHVuZGVmaW5lZCkge1xuICAgICAgICBpZiAodHlwZW9mIHRoaXMuc3RhcnQgIT09ICdudW1iZXInKSB7XG4gICAgICAgICAgICB0aHJvdyBuZXcgVHlwZUVycm9yKCdcInN0YXJ0XCIgb3B0aW9uIG11c3QgYmUgYSBOdW1iZXInKTtcbiAgICAgICAgfVxuICAgICAgICBpZiAodGhpcy5lbmQgPT09IHVuZGVmaW5lZCkge1xuICAgICAgICAgICAgdGhpcy5lbmQgPSBJbmZpbml0eTtcbiAgICAgICAgfVxuICAgICAgICBlbHNlIGlmICh0eXBlb2YgdGhpcy5lbmQgIT09ICdudW1iZXInKSB7XG4gICAgICAgICAgICB0aHJvdyBuZXcgVHlwZUVycm9yKCdcImVuZFwiIG9wdGlvbiBtdXN0IGJlIGEgTnVtYmVyJyk7XG4gICAgICAgIH1cbiAgICAgICAgaWYgKHRoaXMuc3RhcnQgPiB0aGlzLmVuZCkge1xuICAgICAgICAgICAgdGhyb3cgbmV3IEVycm9yKCdcInN0YXJ0XCIgb3B0aW9uIG11c3QgYmUgPD0gXCJlbmRcIiBvcHRpb24nKTtcbiAgICAgICAgfVxuICAgICAgICB0aGlzLnBvcyA9IHRoaXMuc3RhcnQ7XG4gICAgfVxuICAgIGlmICh0eXBlb2YgdGhpcy5mZCAhPT0gJ251bWJlcicpXG4gICAgICAgIHRoaXMub3BlbigpO1xuICAgIHRoaXMub24oJ2VuZCcsIGZ1bmN0aW9uICgpIHtcbiAgICAgICAgaWYgKHRoaXMuYXV0b0Nsb3NlKSB7XG4gICAgICAgICAgICBpZiAodGhpcy5kZXN0cm95KVxuICAgICAgICAgICAgICAgIHRoaXMuZGVzdHJveSgpO1xuICAgICAgICB9XG4gICAgfSk7XG59XG5Gc1JlYWRTdHJlYW0ucHJvdG90eXBlLm9wZW4gPSBmdW5jdGlvbiAoKSB7XG4gICAgdmFyIHNlbGYgPSB0aGlzOyAvLyB0c2xpbnQ6ZGlzYWJsZS1saW5lIG5vLXRoaXMtYXNzaWdubWVudFxuICAgIHRoaXMuX3ZvbC5vcGVuKHRoaXMucGF0aCwgdGhpcy5mbGFncywgdGhpcy5tb2RlLCBmdW5jdGlvbiAoZXIsIGZkKSB7XG4gICAgICAgIGlmIChlcikge1xuICAgICAgICAgICAgaWYgKHNlbGYuYXV0b0Nsb3NlKSB7XG4gICAgICAgICAgICAgICAgaWYgKHNlbGYuZGVzdHJveSlcbiAgICAgICAgICAgICAgICAgICAgc2VsZi5kZXN0cm95KCk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBzZWxmLmVtaXQoJ2Vycm9yJywgZXIpO1xuICAgICAgICAgICAgcmV0dXJuO1xuICAgICAgICB9XG4gICAgICAgIHNlbGYuZmQgPSBmZDtcbiAgICAgICAgc2VsZi5lbWl0KCdvcGVuJywgZmQpO1xuICAgICAgICAvLyBzdGFydCB0aGUgZmxvdyBvZiBkYXRhLlxuICAgICAgICBzZWxmLnJlYWQoKTtcbiAgICB9KTtcbn07XG5Gc1JlYWRTdHJlYW0ucHJvdG90eXBlLl9yZWFkID0gZnVuY3Rpb24gKG4pIHtcbiAgICBpZiAodHlwZW9mIHRoaXMuZmQgIT09ICdudW1iZXInKSB7XG4gICAgICAgIHJldHVybiB0aGlzLm9uY2UoJ29wZW4nLCBmdW5jdGlvbiAoKSB7XG4gICAgICAgICAgICB0aGlzLl9yZWFkKG4pO1xuICAgICAgICB9KTtcbiAgICB9XG4gICAgaWYgKHRoaXMuZGVzdHJveWVkKVxuICAgICAgICByZXR1cm47XG4gICAgaWYgKCFwb29sIHx8IHBvb2wubGVuZ3RoIC0gcG9vbC51c2VkIDwga01pblBvb2xTcGFjZSkge1xuICAgICAgICAvLyBkaXNjYXJkIHRoZSBvbGQgcG9vbC5cbiAgICAgICAgYWxsb2NOZXdQb29sKHRoaXMuX3JlYWRhYmxlU3RhdGUuaGlnaFdhdGVyTWFyayk7XG4gICAgfVxuICAgIC8vIEdyYWIgYW5vdGhlciByZWZlcmVuY2UgdG8gdGhlIHBvb2wgaW4gdGhlIGNhc2UgdGhhdCB3aGlsZSB3ZSdyZVxuICAgIC8vIGluIHRoZSB0aHJlYWQgcG9vbCBhbm90aGVyIHJlYWQoKSBmaW5pc2hlcyB1cCB0aGUgcG9vbCwgYW5kXG4gICAgLy8gYWxsb2NhdGVzIGEgbmV3IG9uZS5cbiAgICB2YXIgdGhpc1Bvb2wgPSBwb29sO1xuICAgIHZhciB0b1JlYWQgPSBNYXRoLm1pbihwb29sLmxlbmd0aCAtIHBvb2wudXNlZCwgbik7XG4gICAgdmFyIHN0YXJ0ID0gcG9vbC51c2VkO1xuICAgIGlmICh0aGlzLnBvcyAhPT0gdW5kZWZpbmVkKVxuICAgICAgICB0b1JlYWQgPSBNYXRoLm1pbih0aGlzLmVuZCAtIHRoaXMucG9zICsgMSwgdG9SZWFkKTtcbiAgICAvLyBhbHJlYWR5IHJlYWQgZXZlcnl0aGluZyB3ZSB3ZXJlIHN1cHBvc2VkIHRvIHJlYWQhXG4gICAgLy8gdHJlYXQgYXMgRU9GLlxuICAgIGlmICh0b1JlYWQgPD0gMClcbiAgICAgICAgcmV0dXJuIHRoaXMucHVzaChudWxsKTtcbiAgICAvLyB0aGUgYWN0dWFsIHJlYWQuXG4gICAgdmFyIHNlbGYgPSB0aGlzOyAvLyB0c2xpbnQ6ZGlzYWJsZS1saW5lIG5vLXRoaXMtYXNzaWdubWVudFxuICAgIHRoaXMuX3ZvbC5yZWFkKHRoaXMuZmQsIHBvb2wsIHBvb2wudXNlZCwgdG9SZWFkLCB0aGlzLnBvcywgb25yZWFkKTtcbiAgICAvLyBtb3ZlIHRoZSBwb29sIHBvc2l0aW9ucywgYW5kIGludGVybmFsIHBvc2l0aW9uIGZvciByZWFkaW5nLlxuICAgIGlmICh0aGlzLnBvcyAhPT0gdW5kZWZpbmVkKVxuICAgICAgICB0aGlzLnBvcyArPSB0b1JlYWQ7XG4gICAgcG9vbC51c2VkICs9IHRvUmVhZDtcbiAgICBmdW5jdGlvbiBvbnJlYWQoZXIsIGJ5dGVzUmVhZCkge1xuICAgICAgICBpZiAoZXIpIHtcbiAgICAgICAgICAgIGlmIChzZWxmLmF1dG9DbG9zZSAmJiBzZWxmLmRlc3Ryb3kpIHtcbiAgICAgICAgICAgICAgICBzZWxmLmRlc3Ryb3koKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIHNlbGYuZW1pdCgnZXJyb3InLCBlcik7XG4gICAgICAgIH1cbiAgICAgICAgZWxzZSB7XG4gICAgICAgICAgICB2YXIgYiA9IG51bGw7XG4gICAgICAgICAgICBpZiAoYnl0ZXNSZWFkID4gMCkge1xuICAgICAgICAgICAgICAgIHNlbGYuYnl0ZXNSZWFkICs9IGJ5dGVzUmVhZDtcbiAgICAgICAgICAgICAgICBiID0gdGhpc1Bvb2wuc2xpY2Uoc3RhcnQsIHN0YXJ0ICsgYnl0ZXNSZWFkKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIHNlbGYucHVzaChiKTtcbiAgICAgICAgfVxuICAgIH1cbn07XG5Gc1JlYWRTdHJlYW0ucHJvdG90eXBlLl9kZXN0cm95ID0gZnVuY3Rpb24gKGVyciwgY2IpIHtcbiAgICB0aGlzLmNsb3NlKGZ1bmN0aW9uIChlcnIyKSB7XG4gICAgICAgIGNiKGVyciB8fCBlcnIyKTtcbiAgICB9KTtcbn07XG5Gc1JlYWRTdHJlYW0ucHJvdG90eXBlLmNsb3NlID0gZnVuY3Rpb24gKGNiKSB7XG4gICAgdmFyIF90aGlzID0gdGhpcztcbiAgICBpZiAoY2IpXG4gICAgICAgIHRoaXMub25jZSgnY2xvc2UnLCBjYik7XG4gICAgaWYgKHRoaXMuY2xvc2VkIHx8IHR5cGVvZiB0aGlzLmZkICE9PSAnbnVtYmVyJykge1xuICAgICAgICBpZiAodHlwZW9mIHRoaXMuZmQgIT09ICdudW1iZXInKSB7XG4gICAgICAgICAgICB0aGlzLm9uY2UoJ29wZW4nLCBjbG9zZU9uT3Blbik7XG4gICAgICAgICAgICByZXR1cm47XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuIHByb2Nlc3NfMS5kZWZhdWx0Lm5leHRUaWNrKGZ1bmN0aW9uICgpIHsgcmV0dXJuIF90aGlzLmVtaXQoJ2Nsb3NlJyk7IH0pO1xuICAgIH1cbiAgICB0aGlzLmNsb3NlZCA9IHRydWU7XG4gICAgdGhpcy5fdm9sLmNsb3NlKHRoaXMuZmQsIGZ1bmN0aW9uIChlcikge1xuICAgICAgICBpZiAoZXIpXG4gICAgICAgICAgICBfdGhpcy5lbWl0KCdlcnJvcicsIGVyKTtcbiAgICAgICAgZWxzZVxuICAgICAgICAgICAgX3RoaXMuZW1pdCgnY2xvc2UnKTtcbiAgICB9KTtcbiAgICB0aGlzLmZkID0gbnVsbDtcbn07XG4vLyBuZWVkZWQgYmVjYXVzZSBhcyBpdCB3aWxsIGJlIGNhbGxlZCB3aXRoIGFyZ3VtZW50c1xuLy8gdGhhdCBkb2VzIG5vdCBtYXRjaCB0aGlzLmNsb3NlKCkgc2lnbmF0dXJlXG5mdW5jdGlvbiBjbG9zZU9uT3BlbihmZCkge1xuICAgIHRoaXMuY2xvc2UoKTtcbn1cbnV0aWwuaW5oZXJpdHMoRnNXcml0ZVN0cmVhbSwgc3RyZWFtXzEuV3JpdGFibGUpO1xuZXhwb3J0cy5Xcml0ZVN0cmVhbSA9IEZzV3JpdGVTdHJlYW07XG5mdW5jdGlvbiBGc1dyaXRlU3RyZWFtKHZvbCwgcGF0aCwgb3B0aW9ucykge1xuICAgIGlmICghKHRoaXMgaW5zdGFuY2VvZiBGc1dyaXRlU3RyZWFtKSlcbiAgICAgICAgcmV0dXJuIG5ldyBGc1dyaXRlU3RyZWFtKHZvbCwgcGF0aCwgb3B0aW9ucyk7XG4gICAgdGhpcy5fdm9sID0gdm9sO1xuICAgIG9wdGlvbnMgPSBleHRlbmQoe30sIGdldE9wdGlvbnMob3B0aW9ucywge30pKTtcbiAgICBzdHJlYW1fMS5Xcml0YWJsZS5jYWxsKHRoaXMsIG9wdGlvbnMpO1xuICAgIHRoaXMucGF0aCA9IHBhdGhUb0ZpbGVuYW1lKHBhdGgpO1xuICAgIHRoaXMuZmQgPSBvcHRpb25zLmZkID09PSB1bmRlZmluZWQgPyBudWxsIDogb3B0aW9ucy5mZDtcbiAgICB0aGlzLmZsYWdzID0gb3B0aW9ucy5mbGFncyA9PT0gdW5kZWZpbmVkID8gJ3cnIDogb3B0aW9ucy5mbGFncztcbiAgICB0aGlzLm1vZGUgPSBvcHRpb25zLm1vZGUgPT09IHVuZGVmaW5lZCA/IDQzOCA6IG9wdGlvbnMubW9kZTtcbiAgICB0aGlzLnN0YXJ0ID0gb3B0aW9ucy5zdGFydDtcbiAgICB0aGlzLmF1dG9DbG9zZSA9IG9wdGlvbnMuYXV0b0Nsb3NlID09PSB1bmRlZmluZWQgPyB0cnVlIDogISFvcHRpb25zLmF1dG9DbG9zZTtcbiAgICB0aGlzLnBvcyA9IHVuZGVmaW5lZDtcbiAgICB0aGlzLmJ5dGVzV3JpdHRlbiA9IDA7XG4gICAgaWYgKHRoaXMuc3RhcnQgIT09IHVuZGVmaW5lZCkge1xuICAgICAgICBpZiAodHlwZW9mIHRoaXMuc3RhcnQgIT09ICdudW1iZXInKSB7XG4gICAgICAgICAgICB0aHJvdyBuZXcgVHlwZUVycm9yKCdcInN0YXJ0XCIgb3B0aW9uIG11c3QgYmUgYSBOdW1iZXInKTtcbiAgICAgICAgfVxuICAgICAgICBpZiAodGhpcy5zdGFydCA8IDApIHtcbiAgICAgICAgICAgIHRocm93IG5ldyBFcnJvcignXCJzdGFydFwiIG11c3QgYmUgPj0gemVybycpO1xuICAgICAgICB9XG4gICAgICAgIHRoaXMucG9zID0gdGhpcy5zdGFydDtcbiAgICB9XG4gICAgaWYgKG9wdGlvbnMuZW5jb2RpbmcpXG4gICAgICAgIHRoaXMuc2V0RGVmYXVsdEVuY29kaW5nKG9wdGlvbnMuZW5jb2RpbmcpO1xuICAgIGlmICh0eXBlb2YgdGhpcy5mZCAhPT0gJ251bWJlcicpXG4gICAgICAgIHRoaXMub3BlbigpO1xuICAgIC8vIGRpc3Bvc2Ugb24gZmluaXNoLlxuICAgIHRoaXMub25jZSgnZmluaXNoJywgZnVuY3Rpb24gKCkge1xuICAgICAgICBpZiAodGhpcy5hdXRvQ2xvc2UpIHtcbiAgICAgICAgICAgIHRoaXMuY2xvc2UoKTtcbiAgICAgICAgfVxuICAgIH0pO1xufVxuRnNXcml0ZVN0cmVhbS5wcm90b3R5cGUub3BlbiA9IGZ1bmN0aW9uICgpIHtcbiAgICB0aGlzLl92b2wub3Blbih0aGlzLnBhdGgsIHRoaXMuZmxhZ3MsIHRoaXMubW9kZSwgZnVuY3Rpb24gKGVyLCBmZCkge1xuICAgICAgICBpZiAoZXIpIHtcbiAgICAgICAgICAgIGlmICh0aGlzLmF1dG9DbG9zZSAmJiB0aGlzLmRlc3Ryb3kpIHtcbiAgICAgICAgICAgICAgICB0aGlzLmRlc3Ryb3koKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIHRoaXMuZW1pdCgnZXJyb3InLCBlcik7XG4gICAgICAgICAgICByZXR1cm47XG4gICAgICAgIH1cbiAgICAgICAgdGhpcy5mZCA9IGZkO1xuICAgICAgICB0aGlzLmVtaXQoJ29wZW4nLCBmZCk7XG4gICAgfS5iaW5kKHRoaXMpKTtcbn07XG5Gc1dyaXRlU3RyZWFtLnByb3RvdHlwZS5fd3JpdGUgPSBmdW5jdGlvbiAoZGF0YSwgZW5jb2RpbmcsIGNiKSB7XG4gICAgaWYgKCEoZGF0YSBpbnN0YW5jZW9mIGJ1ZmZlcl8xLkJ1ZmZlcikpXG4gICAgICAgIHJldHVybiB0aGlzLmVtaXQoJ2Vycm9yJywgbmV3IEVycm9yKCdJbnZhbGlkIGRhdGEnKSk7XG4gICAgaWYgKHR5cGVvZiB0aGlzLmZkICE9PSAnbnVtYmVyJykge1xuICAgICAgICByZXR1cm4gdGhpcy5vbmNlKCdvcGVuJywgZnVuY3Rpb24gKCkge1xuICAgICAgICAgICAgdGhpcy5fd3JpdGUoZGF0YSwgZW5jb2RpbmcsIGNiKTtcbiAgICAgICAgfSk7XG4gICAgfVxuICAgIHZhciBzZWxmID0gdGhpczsgLy8gdHNsaW50OmRpc2FibGUtbGluZSBuby10aGlzLWFzc2lnbm1lbnRcbiAgICB0aGlzLl92b2wud3JpdGUodGhpcy5mZCwgZGF0YSwgMCwgZGF0YS5sZW5ndGgsIHRoaXMucG9zLCBmdW5jdGlvbiAoZXIsIGJ5dGVzKSB7XG4gICAgICAgIGlmIChlcikge1xuICAgICAgICAgICAgaWYgKHNlbGYuYXV0b0Nsb3NlICYmIHNlbGYuZGVzdHJveSkge1xuICAgICAgICAgICAgICAgIHNlbGYuZGVzdHJveSgpO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgcmV0dXJuIGNiKGVyKTtcbiAgICAgICAgfVxuICAgICAgICBzZWxmLmJ5dGVzV3JpdHRlbiArPSBieXRlcztcbiAgICAgICAgY2IoKTtcbiAgICB9KTtcbiAgICBpZiAodGhpcy5wb3MgIT09IHVuZGVmaW5lZClcbiAgICAgICAgdGhpcy5wb3MgKz0gZGF0YS5sZW5ndGg7XG59O1xuRnNXcml0ZVN0cmVhbS5wcm90b3R5cGUuX3dyaXRldiA9IGZ1bmN0aW9uIChkYXRhLCBjYikge1xuICAgIGlmICh0eXBlb2YgdGhpcy5mZCAhPT0gJ251bWJlcicpIHtcbiAgICAgICAgcmV0dXJuIHRoaXMub25jZSgnb3BlbicsIGZ1bmN0aW9uICgpIHtcbiAgICAgICAgICAgIHRoaXMuX3dyaXRldihkYXRhLCBjYik7XG4gICAgICAgIH0pO1xuICAgIH1cbiAgICB2YXIgc2VsZiA9IHRoaXM7IC8vIHRzbGludDpkaXNhYmxlLWxpbmUgbm8tdGhpcy1hc3NpZ25tZW50XG4gICAgdmFyIGxlbiA9IGRhdGEubGVuZ3RoO1xuICAgIHZhciBjaHVua3MgPSBuZXcgQXJyYXkobGVuKTtcbiAgICB2YXIgc2l6ZSA9IDA7XG4gICAgZm9yICh2YXIgaSA9IDA7IGkgPCBsZW47IGkrKykge1xuICAgICAgICB2YXIgY2h1bmsgPSBkYXRhW2ldLmNodW5rO1xuICAgICAgICBjaHVua3NbaV0gPSBjaHVuaztcbiAgICAgICAgc2l6ZSArPSBjaHVuay5sZW5ndGg7XG4gICAgfVxuICAgIHZhciBidWYgPSBidWZmZXJfMS5CdWZmZXIuY29uY2F0KGNodW5rcyk7XG4gICAgdGhpcy5fdm9sLndyaXRlKHRoaXMuZmQsIGJ1ZiwgMCwgYnVmLmxlbmd0aCwgdGhpcy5wb3MsIGZ1bmN0aW9uIChlciwgYnl0ZXMpIHtcbiAgICAgICAgaWYgKGVyKSB7XG4gICAgICAgICAgICBpZiAoc2VsZi5kZXN0cm95KVxuICAgICAgICAgICAgICAgIHNlbGYuZGVzdHJveSgpO1xuICAgICAgICAgICAgcmV0dXJuIGNiKGVyKTtcbiAgICAgICAgfVxuICAgICAgICBzZWxmLmJ5dGVzV3JpdHRlbiArPSBieXRlcztcbiAgICAgICAgY2IoKTtcbiAgICB9KTtcbiAgICBpZiAodGhpcy5wb3MgIT09IHVuZGVmaW5lZClcbiAgICAgICAgdGhpcy5wb3MgKz0gc2l6ZTtcbn07XG5Gc1dyaXRlU3RyZWFtLnByb3RvdHlwZS5fZGVzdHJveSA9IEZzUmVhZFN0cmVhbS5wcm90b3R5cGUuX2Rlc3Ryb3k7XG5Gc1dyaXRlU3RyZWFtLnByb3RvdHlwZS5jbG9zZSA9IEZzUmVhZFN0cmVhbS5wcm90b3R5cGUuY2xvc2U7XG4vLyBUaGVyZSBpcyBubyBzaHV0ZG93bigpIGZvciBmaWxlcy5cbkZzV3JpdGVTdHJlYW0ucHJvdG90eXBlLmRlc3Ryb3lTb29uID0gRnNXcml0ZVN0cmVhbS5wcm90b3R5cGUuZW5kO1xuLy8gLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLSBGU1dhdGNoZXJcbnZhciBGU1dhdGNoZXIgPSAvKiogQGNsYXNzICovIChmdW5jdGlvbiAoX3N1cGVyKSB7XG4gICAgX19leHRlbmRzKEZTV2F0Y2hlciwgX3N1cGVyKTtcbiAgICBmdW5jdGlvbiBGU1dhdGNoZXIodm9sKSB7XG4gICAgICAgIHZhciBfdGhpcyA9IF9zdXBlci5jYWxsKHRoaXMpIHx8IHRoaXM7XG4gICAgICAgIF90aGlzLl9maWxlbmFtZSA9ICcnO1xuICAgICAgICBfdGhpcy5fZmlsZW5hbWVFbmNvZGVkID0gJyc7XG4gICAgICAgIC8vIF9wZXJzaXN0ZW50OiBib29sZWFuID0gdHJ1ZTtcbiAgICAgICAgX3RoaXMuX3JlY3Vyc2l2ZSA9IGZhbHNlO1xuICAgICAgICBfdGhpcy5fZW5jb2RpbmcgPSBlbmNvZGluZ18xLkVOQ09ESU5HX1VURjg7XG4gICAgICAgIF90aGlzLl9vbk5vZGVDaGFuZ2UgPSBmdW5jdGlvbiAoKSB7XG4gICAgICAgICAgICBfdGhpcy5fZW1pdCgnY2hhbmdlJyk7XG4gICAgICAgIH07XG4gICAgICAgIF90aGlzLl9vblBhcmVudENoaWxkID0gZnVuY3Rpb24gKGxpbmspIHtcbiAgICAgICAgICAgIGlmIChsaW5rLmdldE5hbWUoKSA9PT0gX3RoaXMuX2dldE5hbWUoKSkge1xuICAgICAgICAgICAgICAgIF90aGlzLl9lbWl0KCdyZW5hbWUnKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfTtcbiAgICAgICAgX3RoaXMuX2VtaXQgPSBmdW5jdGlvbiAodHlwZSkge1xuICAgICAgICAgICAgX3RoaXMuZW1pdCgnY2hhbmdlJywgdHlwZSwgX3RoaXMuX2ZpbGVuYW1lRW5jb2RlZCk7XG4gICAgICAgIH07XG4gICAgICAgIF90aGlzLl9wZXJzaXN0ID0gZnVuY3Rpb24gKCkge1xuICAgICAgICAgICAgX3RoaXMuX3RpbWVyID0gc2V0VGltZW91dChfdGhpcy5fcGVyc2lzdCwgMWU2KTtcbiAgICAgICAgfTtcbiAgICAgICAgX3RoaXMuX3ZvbCA9IHZvbDtcbiAgICAgICAgcmV0dXJuIF90aGlzO1xuICAgICAgICAvLyBUT0RPOiBFbWl0IFwiZXJyb3JcIiBtZXNzYWdlcyB3aGVuIHdhdGNoaW5nLlxuICAgICAgICAvLyB0aGlzLl9oYW5kbGUub25jaGFuZ2UgPSBmdW5jdGlvbihzdGF0dXMsIGV2ZW50VHlwZSwgZmlsZW5hbWUpIHtcbiAgICAgICAgLy8gICAgIGlmIChzdGF0dXMgPCAwKSB7XG4gICAgICAgIC8vICAgICAgICAgc2VsZi5faGFuZGxlLmNsb3NlKCk7XG4gICAgICAgIC8vICAgICAgICAgY29uc3QgZXJyb3IgPSAhZmlsZW5hbWUgP1xuICAgICAgICAvLyAgICAgICAgICAgICBlcnJub0V4Y2VwdGlvbihzdGF0dXMsICdFcnJvciB3YXRjaGluZyBmaWxlIGZvciBjaGFuZ2VzOicpIDpcbiAgICAgICAgLy8gICAgICAgICAgICAgZXJybm9FeGNlcHRpb24oc3RhdHVzLCBgRXJyb3Igd2F0Y2hpbmcgZmlsZSAke2ZpbGVuYW1lfSBmb3IgY2hhbmdlczpgKTtcbiAgICAgICAgLy8gICAgICAgICBlcnJvci5maWxlbmFtZSA9IGZpbGVuYW1lO1xuICAgICAgICAvLyAgICAgICAgIHNlbGYuZW1pdCgnZXJyb3InLCBlcnJvcik7XG4gICAgICAgIC8vICAgICB9IGVsc2Uge1xuICAgICAgICAvLyAgICAgICAgIHNlbGYuZW1pdCgnY2hhbmdlJywgZXZlbnRUeXBlLCBmaWxlbmFtZSk7XG4gICAgICAgIC8vICAgICB9XG4gICAgICAgIC8vIH07XG4gICAgfVxuICAgIEZTV2F0Y2hlci5wcm90b3R5cGUuX2dldE5hbWUgPSBmdW5jdGlvbiAoKSB7XG4gICAgICAgIHJldHVybiB0aGlzLl9zdGVwc1t0aGlzLl9zdGVwcy5sZW5ndGggLSAxXTtcbiAgICB9O1xuICAgIEZTV2F0Y2hlci5wcm90b3R5cGUuc3RhcnQgPSBmdW5jdGlvbiAocGF0aCwgcGVyc2lzdGVudCwgcmVjdXJzaXZlLCBlbmNvZGluZykge1xuICAgICAgICBpZiAocGVyc2lzdGVudCA9PT0gdm9pZCAwKSB7IHBlcnNpc3RlbnQgPSB0cnVlOyB9XG4gICAgICAgIGlmIChyZWN1cnNpdmUgPT09IHZvaWQgMCkgeyByZWN1cnNpdmUgPSBmYWxzZTsgfVxuICAgICAgICBpZiAoZW5jb2RpbmcgPT09IHZvaWQgMCkgeyBlbmNvZGluZyA9IGVuY29kaW5nXzEuRU5DT0RJTkdfVVRGODsgfVxuICAgICAgICB0aGlzLl9maWxlbmFtZSA9IHBhdGhUb0ZpbGVuYW1lKHBhdGgpO1xuICAgICAgICB0aGlzLl9zdGVwcyA9IGZpbGVuYW1lVG9TdGVwcyh0aGlzLl9maWxlbmFtZSk7XG4gICAgICAgIHRoaXMuX2ZpbGVuYW1lRW5jb2RlZCA9IGVuY29kaW5nXzEuc3RyVG9FbmNvZGluZyh0aGlzLl9maWxlbmFtZSk7XG4gICAgICAgIC8vIHRoaXMuX3BlcnNpc3RlbnQgPSBwZXJzaXN0ZW50O1xuICAgICAgICB0aGlzLl9yZWN1cnNpdmUgPSByZWN1cnNpdmU7XG4gICAgICAgIHRoaXMuX2VuY29kaW5nID0gZW5jb2Rpbmc7XG4gICAgICAgIHRyeSB7XG4gICAgICAgICAgICB0aGlzLl9saW5rID0gdGhpcy5fdm9sLmdldExpbmtPclRocm93KHRoaXMuX2ZpbGVuYW1lLCAnRlNXYXRjaGVyJyk7XG4gICAgICAgIH1cbiAgICAgICAgY2F0Y2ggKGVycikge1xuICAgICAgICAgICAgdmFyIGVycm9yID0gbmV3IEVycm9yKFwid2F0Y2ggXCIgKyB0aGlzLl9maWxlbmFtZSArIFwiIFwiICsgZXJyLmNvZGUpO1xuICAgICAgICAgICAgZXJyb3IuY29kZSA9IGVyci5jb2RlO1xuICAgICAgICAgICAgZXJyb3IuZXJybm8gPSBlcnIuY29kZTtcbiAgICAgICAgICAgIHRocm93IGVycm9yO1xuICAgICAgICB9XG4gICAgICAgIHRoaXMuX2xpbmsuZ2V0Tm9kZSgpLm9uKCdjaGFuZ2UnLCB0aGlzLl9vbk5vZGVDaGFuZ2UpO1xuICAgICAgICB0aGlzLl9saW5rLm9uKCdjaGlsZDphZGQnLCB0aGlzLl9vbk5vZGVDaGFuZ2UpO1xuICAgICAgICB0aGlzLl9saW5rLm9uKCdjaGlsZDpkZWxldGUnLCB0aGlzLl9vbk5vZGVDaGFuZ2UpO1xuICAgICAgICB2YXIgcGFyZW50ID0gdGhpcy5fbGluay5wYXJlbnQ7XG4gICAgICAgIGlmIChwYXJlbnQpIHtcbiAgICAgICAgICAgIC8vIHBhcmVudC5vbignY2hpbGQ6YWRkJywgdGhpcy5fb25QYXJlbnRDaGlsZCk7XG4gICAgICAgICAgICBwYXJlbnQuc2V0TWF4TGlzdGVuZXJzKHBhcmVudC5nZXRNYXhMaXN0ZW5lcnMoKSArIDEpO1xuICAgICAgICAgICAgcGFyZW50Lm9uKCdjaGlsZDpkZWxldGUnLCB0aGlzLl9vblBhcmVudENoaWxkKTtcbiAgICAgICAgfVxuICAgICAgICBpZiAocGVyc2lzdGVudClcbiAgICAgICAgICAgIHRoaXMuX3BlcnNpc3QoKTtcbiAgICB9O1xuICAgIEZTV2F0Y2hlci5wcm90b3R5cGUuY2xvc2UgPSBmdW5jdGlvbiAoKSB7XG4gICAgICAgIGNsZWFyVGltZW91dCh0aGlzLl90aW1lcik7XG4gICAgICAgIHRoaXMuX2xpbmsuZ2V0Tm9kZSgpLnJlbW92ZUxpc3RlbmVyKCdjaGFuZ2UnLCB0aGlzLl9vbk5vZGVDaGFuZ2UpO1xuICAgICAgICB2YXIgcGFyZW50ID0gdGhpcy5fbGluay5wYXJlbnQ7XG4gICAgICAgIGlmIChwYXJlbnQpIHtcbiAgICAgICAgICAgIC8vIHBhcmVudC5yZW1vdmVMaXN0ZW5lcignY2hpbGQ6YWRkJywgdGhpcy5fb25QYXJlbnRDaGlsZCk7XG4gICAgICAgICAgICBwYXJlbnQucmVtb3ZlTGlzdGVuZXIoJ2NoaWxkOmRlbGV0ZScsIHRoaXMuX29uUGFyZW50Q2hpbGQpO1xuICAgICAgICB9XG4gICAgfTtcbiAgICByZXR1cm4gRlNXYXRjaGVyO1xufShldmVudHNfMS5FdmVudEVtaXR0ZXIpKTtcbmV4cG9ydHMuRlNXYXRjaGVyID0gRlNXYXRjaGVyO1xuIiwgIid1c2Ugc3RyaWN0JztcblxuT2JqZWN0LmRlZmluZVByb3BlcnR5KGV4cG9ydHMsIFwiX19lc01vZHVsZVwiLCB7XG4gICAgdmFsdWU6IHRydWVcbn0pO1xudmFyIGZzUHJvcHMgPSBleHBvcnRzLmZzUHJvcHMgPSBbJ2NvbnN0YW50cycsICdGX09LJywgJ1JfT0snLCAnV19PSycsICdYX09LJywgJ1N0YXRzJ107XG5cbnZhciBmc1N5bmNNZXRob2RzID0gZXhwb3J0cy5mc1N5bmNNZXRob2RzID0gWydyZW5hbWVTeW5jJywgJ2Z0cnVuY2F0ZVN5bmMnLCAndHJ1bmNhdGVTeW5jJywgJ2Nob3duU3luYycsICdmY2hvd25TeW5jJywgJ2xjaG93blN5bmMnLCAnY2htb2RTeW5jJywgJ2ZjaG1vZFN5bmMnLCAnbGNobW9kU3luYycsICdzdGF0U3luYycsICdsc3RhdFN5bmMnLCAnZnN0YXRTeW5jJywgJ2xpbmtTeW5jJywgJ3N5bWxpbmtTeW5jJywgJ3JlYWRsaW5rU3luYycsICdyZWFscGF0aFN5bmMnLCAndW5saW5rU3luYycsICdybWRpclN5bmMnLCAnbWtkaXJTeW5jJywgJ21rZGlycFN5bmMnLCAncmVhZGRpclN5bmMnLCAnY2xvc2VTeW5jJywgJ29wZW5TeW5jJywgJ3V0aW1lc1N5bmMnLCAnZnV0aW1lc1N5bmMnLCAnZnN5bmNTeW5jJywgJ3dyaXRlU3luYycsICdyZWFkU3luYycsICdyZWFkRmlsZVN5bmMnLCAnd3JpdGVGaWxlU3luYycsICdhcHBlbmRGaWxlU3luYycsICdleGlzdHNTeW5jJywgJ2FjY2Vzc1N5bmMnLCAnZmRhdGFzeW5jU3luYycsICdta2R0ZW1wU3luYycsICdjb3B5RmlsZVN5bmMnLCAnY3JlYXRlUmVhZFN0cmVhbScsICdjcmVhdGVXcml0ZVN0cmVhbSddO1xuXG52YXIgZnNBc3luY01ldGhvZHMgPSBleHBvcnRzLmZzQXN5bmNNZXRob2RzID0gWydyZW5hbWUnLCAnZnRydW5jYXRlJywgJ3RydW5jYXRlJywgJ2Nob3duJywgJ2ZjaG93bicsICdsY2hvd24nLCAnY2htb2QnLCAnZmNobW9kJywgJ2xjaG1vZCcsICdzdGF0JywgJ2xzdGF0JywgJ2ZzdGF0JywgJ2xpbmsnLCAnc3ltbGluaycsICdyZWFkbGluaycsICdyZWFscGF0aCcsICd1bmxpbmsnLCAncm1kaXInLCAnbWtkaXInLCAnbWtkaXJwJywgJ3JlYWRkaXInLCAnY2xvc2UnLCAnb3BlbicsICd1dGltZXMnLCAnZnV0aW1lcycsICdmc3luYycsICd3cml0ZScsICdyZWFkJywgJ3JlYWRGaWxlJywgJ3dyaXRlRmlsZScsICdhcHBlbmRGaWxlJywgJ2V4aXN0cycsICdhY2Nlc3MnLCAnZmRhdGFzeW5jJywgJ21rZHRlbXAnLCAnY29weUZpbGUnLCAnd2F0Y2hGaWxlJywgJ3Vud2F0Y2hGaWxlJywgJ3dhdGNoJ107IiwgIlwidXNlIHN0cmljdFwiO1xudmFyIF9fYXNzaWduID0gKHRoaXMgJiYgdGhpcy5fX2Fzc2lnbikgfHwgZnVuY3Rpb24gKCkge1xuICAgIF9fYXNzaWduID0gT2JqZWN0LmFzc2lnbiB8fCBmdW5jdGlvbih0KSB7XG4gICAgICAgIGZvciAodmFyIHMsIGkgPSAxLCBuID0gYXJndW1lbnRzLmxlbmd0aDsgaSA8IG47IGkrKykge1xuICAgICAgICAgICAgcyA9IGFyZ3VtZW50c1tpXTtcbiAgICAgICAgICAgIGZvciAodmFyIHAgaW4gcykgaWYgKE9iamVjdC5wcm90b3R5cGUuaGFzT3duUHJvcGVydHkuY2FsbChzLCBwKSlcbiAgICAgICAgICAgICAgICB0W3BdID0gc1twXTtcbiAgICAgICAgfVxuICAgICAgICByZXR1cm4gdDtcbiAgICB9O1xuICAgIHJldHVybiBfX2Fzc2lnbi5hcHBseSh0aGlzLCBhcmd1bWVudHMpO1xufTtcbk9iamVjdC5kZWZpbmVQcm9wZXJ0eShleHBvcnRzLCBcIl9fZXNNb2R1bGVcIiwgeyB2YWx1ZTogdHJ1ZSB9KTtcbnZhciBTdGF0c18xID0gcmVxdWlyZShcIi4vU3RhdHNcIik7XG52YXIgRGlyZW50XzEgPSByZXF1aXJlKFwiLi9EaXJlbnRcIik7XG52YXIgdm9sdW1lXzEgPSByZXF1aXJlKFwiLi92b2x1bWVcIik7XG52YXIgX2EgPSByZXF1aXJlKCdmcy1tb25rZXkvbGliL3V0aWwvbGlzdHMnKSwgZnNTeW5jTWV0aG9kcyA9IF9hLmZzU3luY01ldGhvZHMsIGZzQXN5bmNNZXRob2RzID0gX2EuZnNBc3luY01ldGhvZHM7XG52YXIgY29uc3RhbnRzXzEgPSByZXF1aXJlKFwiLi9jb25zdGFudHNcIik7XG52YXIgRl9PSyA9IGNvbnN0YW50c18xLmNvbnN0YW50cy5GX09LLCBSX09LID0gY29uc3RhbnRzXzEuY29uc3RhbnRzLlJfT0ssIFdfT0sgPSBjb25zdGFudHNfMS5jb25zdGFudHMuV19PSywgWF9PSyA9IGNvbnN0YW50c18xLmNvbnN0YW50cy5YX09LO1xuZXhwb3J0cy5Wb2x1bWUgPSB2b2x1bWVfMS5Wb2x1bWU7XG4vLyBEZWZhdWx0IHZvbHVtZS5cbmV4cG9ydHMudm9sID0gbmV3IHZvbHVtZV8xLlZvbHVtZSgpO1xuZnVuY3Rpb24gY3JlYXRlRnNGcm9tVm9sdW1lKHZvbCkge1xuICAgIHZhciBmcyA9IHsgRl9PSzogRl9PSywgUl9PSzogUl9PSywgV19PSzogV19PSywgWF9PSzogWF9PSywgY29uc3RhbnRzOiBjb25zdGFudHNfMS5jb25zdGFudHMsIFN0YXRzOiBTdGF0c18xLmRlZmF1bHQsIERpcmVudDogRGlyZW50XzEuZGVmYXVsdCB9O1xuICAgIC8vIEJpbmQgRlMgbWV0aG9kcy5cbiAgICBmb3IgKHZhciBfaSA9IDAsIGZzU3luY01ldGhvZHNfMSA9IGZzU3luY01ldGhvZHM7IF9pIDwgZnNTeW5jTWV0aG9kc18xLmxlbmd0aDsgX2krKykge1xuICAgICAgICB2YXIgbWV0aG9kID0gZnNTeW5jTWV0aG9kc18xW19pXTtcbiAgICAgICAgaWYgKHR5cGVvZiB2b2xbbWV0aG9kXSA9PT0gJ2Z1bmN0aW9uJylcbiAgICAgICAgICAgIGZzW21ldGhvZF0gPSB2b2xbbWV0aG9kXS5iaW5kKHZvbCk7XG4gICAgfVxuICAgIGZvciAodmFyIF9hID0gMCwgZnNBc3luY01ldGhvZHNfMSA9IGZzQXN5bmNNZXRob2RzOyBfYSA8IGZzQXN5bmNNZXRob2RzXzEubGVuZ3RoOyBfYSsrKSB7XG4gICAgICAgIHZhciBtZXRob2QgPSBmc0FzeW5jTWV0aG9kc18xW19hXTtcbiAgICAgICAgaWYgKHR5cGVvZiB2b2xbbWV0aG9kXSA9PT0gJ2Z1bmN0aW9uJylcbiAgICAgICAgICAgIGZzW21ldGhvZF0gPSB2b2xbbWV0aG9kXS5iaW5kKHZvbCk7XG4gICAgfVxuICAgIGZzLlN0YXRXYXRjaGVyID0gdm9sLlN0YXRXYXRjaGVyO1xuICAgIGZzLkZTV2F0Y2hlciA9IHZvbC5GU1dhdGNoZXI7XG4gICAgZnMuV3JpdGVTdHJlYW0gPSB2b2wuV3JpdGVTdHJlYW07XG4gICAgZnMuUmVhZFN0cmVhbSA9IHZvbC5SZWFkU3RyZWFtO1xuICAgIGZzLnByb21pc2VzID0gdm9sLnByb21pc2VzO1xuICAgIGZzLl90b1VuaXhUaW1lc3RhbXAgPSB2b2x1bWVfMS50b1VuaXhUaW1lc3RhbXA7XG4gICAgcmV0dXJuIGZzO1xufVxuZXhwb3J0cy5jcmVhdGVGc0Zyb21Wb2x1bWUgPSBjcmVhdGVGc0Zyb21Wb2x1bWU7XG5leHBvcnRzLmZzID0gY3JlYXRlRnNGcm9tVm9sdW1lKGV4cG9ydHMudm9sKTtcbm1vZHVsZS5leHBvcnRzID0gX19hc3NpZ24oX19hc3NpZ24oe30sIG1vZHVsZS5leHBvcnRzKSwgZXhwb3J0cy5mcyk7XG5tb2R1bGUuZXhwb3J0cy5zZW1hbnRpYyA9IHRydWU7XG4iLCAiXCJ1c2Ugc3RyaWN0XCI7XG4vLyBBIHZlcnkgc2ltcGxlIHdvcmthcm91bmQgZm9yIEJpZyBpbnQuIFdvcmtzIGluIGNvbmp1bmN0aW9uIHdpdGggb3VyIGN1c3RvbVxuLy8gQmlnSW50IHdvcmthcm91bmQgYXQgLi9iaWdpbnQudHNcbk9iamVjdC5kZWZpbmVQcm9wZXJ0eShleHBvcnRzLCBcIl9fZXNNb2R1bGVcIiwgeyB2YWx1ZTogdHJ1ZSB9KTtcbmNvbnN0IGJpZ2ludF8xID0gcmVxdWlyZShcIi4vYmlnaW50XCIpO1xubGV0IGV4cG9ydGVkRGF0YVZpZXcgPSBEYXRhVmlldztcbmlmICghZXhwb3J0ZWREYXRhVmlldy5wcm90b3R5cGUuc2V0QmlnVWludDY0KSB7XG4gICAgLy8gVGFrZW4gZnJvbSBodHRwczovL2dpc3QuZ2l0aHViLmNvbS9ncmF1cC84MTVjOWFjNjVjMmJhYzhhNTYzOTFmMGNhMjM2MzZmY1xuICAgIGV4cG9ydGVkRGF0YVZpZXcucHJvdG90eXBlLnNldEJpZ1VpbnQ2NCA9IGZ1bmN0aW9uIChieXRlT2Zmc2V0LCB2YWx1ZSwgbGl0dGxlRW5kaWFuKSB7XG4gICAgICAgIGxldCBsb3dXb3JkO1xuICAgICAgICBsZXQgaGlnaFdvcmQ7XG4gICAgICAgIGlmICh2YWx1ZSA8IDIgKiogMzIpIHtcbiAgICAgICAgICAgIGxvd1dvcmQgPSBOdW1iZXIodmFsdWUpO1xuICAgICAgICAgICAgaGlnaFdvcmQgPSAwO1xuICAgICAgICB9XG4gICAgICAgIGVsc2Uge1xuICAgICAgICAgICAgdmFyIGJpZ051bWJlckFzQmluYXJ5U3RyID0gdmFsdWUudG9TdHJpbmcoMik7XG4gICAgICAgICAgICAvLyBDb252ZXJ0IHRoZSBhYm92ZSBiaW5hcnkgc3RyIHRvIDY0IGJpdCAoYWN0dWFsbHkgNTIgYml0IHdpbGwgd29yaykgYnkgcGFkZGluZyB6ZXJvcyBpbiB0aGUgbGVmdFxuICAgICAgICAgICAgdmFyIGJpZ051bWJlckFzQmluYXJ5U3RyMiA9IFwiXCI7XG4gICAgICAgICAgICBmb3IgKHZhciBpID0gMDsgaSA8IDY0IC0gYmlnTnVtYmVyQXNCaW5hcnlTdHIubGVuZ3RoOyBpKyspIHtcbiAgICAgICAgICAgICAgICBiaWdOdW1iZXJBc0JpbmFyeVN0cjIgKz0gXCIwXCI7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBiaWdOdW1iZXJBc0JpbmFyeVN0cjIgKz0gYmlnTnVtYmVyQXNCaW5hcnlTdHI7XG4gICAgICAgICAgICBoaWdoV29yZCA9IHBhcnNlSW50KGJpZ051bWJlckFzQmluYXJ5U3RyMi5zdWJzdHJpbmcoMCwgMzIpLCAyKTtcbiAgICAgICAgICAgIGxvd1dvcmQgPSBwYXJzZUludChiaWdOdW1iZXJBc0JpbmFyeVN0cjIuc3Vic3RyaW5nKDMyKSwgMik7XG4gICAgICAgIH1cbiAgICAgICAgdGhpcy5zZXRVaW50MzIoYnl0ZU9mZnNldCArIChsaXR0bGVFbmRpYW4gPyAwIDogNCksIGxvd1dvcmQsIGxpdHRsZUVuZGlhbik7XG4gICAgICAgIHRoaXMuc2V0VWludDMyKGJ5dGVPZmZzZXQgKyAobGl0dGxlRW5kaWFuID8gNCA6IDApLCBoaWdoV29yZCwgbGl0dGxlRW5kaWFuKTtcbiAgICB9O1xuICAgIGV4cG9ydGVkRGF0YVZpZXcucHJvdG90eXBlLmdldEJpZ1VpbnQ2NCA9IGZ1bmN0aW9uIChieXRlT2Zmc2V0LCBsaXR0bGVFbmRpYW4pIHtcbiAgICAgICAgbGV0IGxvd1dvcmQgPSB0aGlzLmdldFVpbnQzMihieXRlT2Zmc2V0ICsgKGxpdHRsZUVuZGlhbiA/IDAgOiA0KSwgbGl0dGxlRW5kaWFuKTtcbiAgICAgICAgbGV0IGhpZ2hXb3JkID0gdGhpcy5nZXRVaW50MzIoYnl0ZU9mZnNldCArIChsaXR0bGVFbmRpYW4gPyA0IDogMCksIGxpdHRsZUVuZGlhbik7XG4gICAgICAgIHZhciBsb3dXb3JkQXNCaW5hcnlTdHIgPSBsb3dXb3JkLnRvU3RyaW5nKDIpO1xuICAgICAgICB2YXIgaGlnaFdvcmRBc0JpbmFyeVN0ciA9IGhpZ2hXb3JkLnRvU3RyaW5nKDIpO1xuICAgICAgICAvLyBDb252ZXJ0IHRoZSBhYm92ZSBiaW5hcnkgc3RyIHRvIDY0IGJpdCAoYWN0dWFsbHkgNTIgYml0IHdpbGwgd29yaykgYnkgcGFkZGluZyB6ZXJvcyBpbiB0aGUgbGVmdFxuICAgICAgICB2YXIgbG93V29yZEFzQmluYXJ5U3RyUGFkZGVkID0gXCJcIjtcbiAgICAgICAgZm9yICh2YXIgaSA9IDA7IGkgPCAzMiAtIGxvd1dvcmRBc0JpbmFyeVN0ci5sZW5ndGg7IGkrKykge1xuICAgICAgICAgICAgbG93V29yZEFzQmluYXJ5U3RyUGFkZGVkICs9IFwiMFwiO1xuICAgICAgICB9XG4gICAgICAgIGxvd1dvcmRBc0JpbmFyeVN0clBhZGRlZCArPSBsb3dXb3JkQXNCaW5hcnlTdHI7XG4gICAgICAgIHJldHVybiBiaWdpbnRfMS5CaWdJbnRQb2x5ZmlsbChcIjBiXCIgKyBoaWdoV29yZEFzQmluYXJ5U3RyICsgbG93V29yZEFzQmluYXJ5U3RyUGFkZGVkKTtcbiAgICB9O1xufVxuZXhwb3J0cy5EYXRhVmlld1BvbHlmaWxsID0gZXhwb3J0ZWREYXRhVmlldztcbiIsICJcInVzZSBzdHJpY3RcIjtcbi8vIFJldHVybiBvdXIgYnVmZmVyIGRlcGVuZGluZyBvbiBicm93c2VyIG9yIG5vZGVcbk9iamVjdC5kZWZpbmVQcm9wZXJ0eShleHBvcnRzLCBcIl9fZXNNb2R1bGVcIiwgeyB2YWx1ZTogdHJ1ZSB9KTtcbi8qUk9MTFVQX1JFUExBQ0VfQlJPV1NFUlxuLy8gQHRzLWlnbm9yZVxuaW1wb3J0IHsgQnVmZmVyIH0gZnJvbSBcImJ1ZmZlci1lczZcIjtcblJPTExVUF9SRVBMQUNFX0JST1dTRVIqL1xuY29uc3QgaXNvbW9ycGhpY0J1ZmZlciA9IEJ1ZmZlcjtcbmV4cG9ydHMuZGVmYXVsdCA9IGlzb21vcnBoaWNCdWZmZXI7XG4iLCAiXCJ1c2Ugc3RyaWN0XCI7XG4vKiBlc2xpbnQtZGlzYWJsZSBuby11bnVzZWQtdmFycyAqL1xuT2JqZWN0LmRlZmluZVByb3BlcnR5KGV4cG9ydHMsIFwiX19lc01vZHVsZVwiLCB7IHZhbHVlOiB0cnVlIH0pO1xuY29uc3QgYmlnaW50XzEgPSByZXF1aXJlKFwiLi9wb2x5ZmlsbHMvYmlnaW50XCIpO1xuY29uc3QgZGF0YXZpZXdfMSA9IHJlcXVpcmUoXCIuL3BvbHlmaWxscy9kYXRhdmlld1wiKTtcbmNvbnN0IGJ1ZmZlcl8xID0gcmVxdWlyZShcIi4vcG9seWZpbGxzL2J1ZmZlclwiKTtcbi8vIEltcG9ydCBvdXIgZGVmYXVsdCBiaW5kaW5ncyBkZXBlbmRpbmcgb24gdGhlIGVudmlyb25tZW50XG5sZXQgZGVmYXVsdEJpbmRpbmdzO1xuLypST0xMVVBfUkVQTEFDRV9OT0RFXG5pbXBvcnQgbm9kZUJpbmRpbmdzIGZyb20gXCIuL2JpbmRpbmdzL25vZGVcIjtcbmRlZmF1bHRCaW5kaW5ncyA9IG5vZGVCaW5kaW5ncztcblJPTExVUF9SRVBMQUNFX05PREUqL1xuLypST0xMVVBfUkVQTEFDRV9CUk9XU0VSXG5pbXBvcnQgYnJvd3NlckJpbmRpbmdzIGZyb20gXCIuL2JpbmRpbmdzL2Jyb3dzZXJcIjtcbmRlZmF1bHRCaW5kaW5ncyA9IGJyb3dzZXJCaW5kaW5ncztcblJPTExVUF9SRVBMQUNFX0JST1dTRVIqL1xuLypcblxuVGhpcyBwcm9qZWN0IGlzIGJhc2VkIGZyb20gdGhlIE5vZGUgaW1wbGVtZW50YXRpb24gbWFkZSBieSBHdXMgQ2FwbGFuXG5odHRwczovL2dpdGh1Yi5jb20vZGV2c25lay9ub2RlLXdhc2lcbkhvd2V2ZXIsIEphdmFTY3JpcHQgV0FTSSBpcyBmb2N1c2VkIG9uOlxuICogQnJpbmdpbmcgV0FTSSB0byB0aGUgQnJvd3NlcnNcbiAqIE1ha2UgZWFzeSB0byBwbHVnIGRpZmZlcmVudCBmaWxlc3lzdGVtc1xuICogUHJvdmlkZSBhIHR5cGUtc2FmZSBhcGkgdXNpbmcgVHlwZXNjcmlwdFxuICogUHJvdmlkaW5nIG11bHRpcGxlIG91dHB1dCB0YXJnZXRzIHRvIHN1cHBvcnQgYm90aCBicm93c2VycyBhbmQgbm9kZVxuICogVGhlIEFQSSBpcyBhZGFwdGVkIHRvIHRoZSBOb2RlLVdBU0kgQVBJOiBodHRwczovL2dpdGh1Yi5jb20vbm9kZWpzL3dhc2kvYmxvYi93YXNpL2xpYi93YXNpLmpzXG5cbkNvcHlyaWdodCAyMDE5IEd1cyBDYXBsYW5cblxuUGVybWlzc2lvbiBpcyBoZXJlYnkgZ3JhbnRlZCwgZnJlZSBvZiBjaGFyZ2UsIHRvIGFueSBwZXJzb24gb2J0YWluaW5nIGEgY29weVxub2YgdGhpcyBzb2Z0d2FyZSBhbmQgYXNzb2NpYXRlZCBkb2N1bWVudGF0aW9uIGZpbGVzICh0aGUgXCJTb2Z0d2FyZVwiKSwgdG9cbmRlYWwgaW4gdGhlIFNvZnR3YXJlIHdpdGhvdXQgcmVzdHJpY3Rpb24sIGluY2x1ZGluZyB3aXRob3V0IGxpbWl0YXRpb24gdGhlXG5yaWdodHMgdG8gdXNlLCBjb3B5LCBtb2RpZnksIG1lcmdlLCBwdWJsaXNoLCBkaXN0cmlidXRlLCBzdWJsaWNlbnNlLCBhbmQvb3JcbnNlbGwgY29waWVzIG9mIHRoZSBTb2Z0d2FyZSwgYW5kIHRvIHBlcm1pdCBwZXJzb25zIHRvIHdob20gdGhlIFNvZnR3YXJlIGlzXG5mdXJuaXNoZWQgdG8gZG8gc28sIHN1YmplY3QgdG8gdGhlIGZvbGxvd2luZyBjb25kaXRpb25zOlxuXG5UaGUgYWJvdmUgY29weXJpZ2h0IG5vdGljZSBhbmQgdGhpcyBwZXJtaXNzaW9uIG5vdGljZSBzaGFsbCBiZSBpbmNsdWRlZCBpblxuYWxsIGNvcGllcyBvciBzdWJzdGFudGlhbCBwb3J0aW9ucyBvZiB0aGUgU29mdHdhcmUuXG5cblRIRSBTT0ZUV0FSRSBJUyBQUk9WSURFRCBcIkFTIElTXCIsIFdJVEhPVVQgV0FSUkFOVFkgT0YgQU5ZIEtJTkQsIEVYUFJFU1MgT1JcbklNUExJRUQsIElOQ0xVRElORyBCVVQgTk9UIExJTUlURUQgVE8gVEhFIFdBUlJBTlRJRVMgT0YgTUVSQ0hBTlRBQklMSVRZLFxuRklUTkVTUyBGT1IgQSBQQVJUSUNVTEFSIFBVUlBPU0UgQU5EIE5PTklORlJJTkdFTUVOVC4gSU4gTk8gRVZFTlQgU0hBTEwgVEhFXG5BVVRIT1JTIE9SIENPUFlSSUdIVCBIT0xERVJTIEJFIExJQUJMRSBGT1IgQU5ZIENMQUlNLCBEQU1BR0VTIE9SIE9USEVSXG5MSUFCSUxJVFksIFdIRVRIRVIgSU4gQU4gQUNUSU9OIE9GIENPTlRSQUNULCBUT1JUIE9SIE9USEVSV0lTRSwgQVJJU0lOR1xuRlJPTSwgT1VUIE9GIE9SIElOIENPTk5FQ1RJT04gV0lUSCBUSEUgU09GVFdBUkUgT1IgVEhFIFVTRSBPUiBPVEhFUiBERUFMSU5HU1xuSU4gVEhFIFNPRlRXQVJFLlxuXG4gKi9cbmNvbnN0IGNvbnN0YW50c18xID0gcmVxdWlyZShcIi4vY29uc3RhbnRzXCIpO1xuY29uc3QgU1RESU5fREVGQVVMVF9SSUdIVFMgPSBjb25zdGFudHNfMS5XQVNJX1JJR0hUX0ZEX0RBVEFTWU5DIHxcbiAgICBjb25zdGFudHNfMS5XQVNJX1JJR0hUX0ZEX1JFQUQgfFxuICAgIGNvbnN0YW50c18xLldBU0lfUklHSFRfRkRfU1lOQyB8XG4gICAgY29uc3RhbnRzXzEuV0FTSV9SSUdIVF9GRF9BRFZJU0UgfFxuICAgIGNvbnN0YW50c18xLldBU0lfUklHSFRfRkRfRklMRVNUQVRfR0VUIHxcbiAgICBjb25zdGFudHNfMS5XQVNJX1JJR0hUX1BPTExfRkRfUkVBRFdSSVRFO1xuY29uc3QgU1RET1VUX0RFRkFVTFRfUklHSFRTID0gY29uc3RhbnRzXzEuV0FTSV9SSUdIVF9GRF9EQVRBU1lOQyB8XG4gICAgY29uc3RhbnRzXzEuV0FTSV9SSUdIVF9GRF9XUklURSB8XG4gICAgY29uc3RhbnRzXzEuV0FTSV9SSUdIVF9GRF9TWU5DIHxcbiAgICBjb25zdGFudHNfMS5XQVNJX1JJR0hUX0ZEX0FEVklTRSB8XG4gICAgY29uc3RhbnRzXzEuV0FTSV9SSUdIVF9GRF9GSUxFU1RBVF9HRVQgfFxuICAgIGNvbnN0YW50c18xLldBU0lfUklHSFRfUE9MTF9GRF9SRUFEV1JJVEU7XG5jb25zdCBTVERFUlJfREVGQVVMVF9SSUdIVFMgPSBTVERPVVRfREVGQVVMVF9SSUdIVFM7XG5jb25zdCBtc1RvTnMgPSAobXMpID0+IHtcbiAgICBjb25zdCBtc0ludCA9IE1hdGgudHJ1bmMobXMpO1xuICAgIGNvbnN0IGRlY2ltYWwgPSBiaWdpbnRfMS5CaWdJbnRQb2x5ZmlsbChNYXRoLnJvdW5kKChtcyAtIG1zSW50KSAqIDEwMDAwMDApKTtcbiAgICBjb25zdCBucyA9IGJpZ2ludF8xLkJpZ0ludFBvbHlmaWxsKG1zSW50KSAqIGJpZ2ludF8xLkJpZ0ludFBvbHlmaWxsKDEwMDAwMDApO1xuICAgIHJldHVybiBucyArIGRlY2ltYWw7XG59O1xuY29uc3QgbnNUb01zID0gKG5zKSA9PiB7XG4gICAgaWYgKHR5cGVvZiBucyA9PT0gJ251bWJlcicpIHtcbiAgICAgICAgbnMgPSBNYXRoLnRydW5jKG5zKTtcbiAgICB9XG4gICAgY29uc3QgbnNJbnQgPSBiaWdpbnRfMS5CaWdJbnRQb2x5ZmlsbChucyk7XG4gICAgcmV0dXJuIE51bWJlcihuc0ludCAvIGJpZ2ludF8xLkJpZ0ludFBvbHlmaWxsKDEwMDAwMDApKTtcbn07XG5jb25zdCB3cmFwID0gKGYpID0+ICguLi5hcmdzKSA9PiB7XG4gICAgdHJ5IHtcbiAgICAgICAgcmV0dXJuIGYoLi4uYXJncyk7XG4gICAgfVxuICAgIGNhdGNoIChlKSB7XG4gICAgICAgIC8vIElmIGl0J3MgYW4gZXJyb3IgZnJvbSB0aGUgZnNcbiAgICAgICAgaWYgKGUgJiYgZS5jb2RlICYmIHR5cGVvZiBlLmNvZGUgPT09IFwic3RyaW5nXCIpIHtcbiAgICAgICAgICAgIHJldHVybiBjb25zdGFudHNfMS5FUlJPUl9NQVBbZS5jb2RlXSB8fCBjb25zdGFudHNfMS5XQVNJX0VJTlZBTDtcbiAgICAgICAgfVxuICAgICAgICAvLyBJZiBpdCdzIGEgV0FTSSBlcnJvciwgd2UgcmV0dXJuIGl0IGRpcmVjdGx5XG4gICAgICAgIGlmIChlIGluc3RhbmNlb2YgV0FTSUVycm9yKSB7XG4gICAgICAgICAgICByZXR1cm4gZS5lcnJubztcbiAgICAgICAgfVxuICAgICAgICAvLyBPdGhlcndpc2Ugd2UgbGV0IHRoZSBlcnJvciBidWJibGUgdXBcbiAgICAgICAgdGhyb3cgZTtcbiAgICB9XG59O1xuY29uc3Qgc3RhdCA9ICh3YXNpLCBmZCkgPT4ge1xuICAgIGNvbnN0IGVudHJ5ID0gd2FzaS5GRF9NQVAuZ2V0KGZkKTtcbiAgICBpZiAoIWVudHJ5KSB7XG4gICAgICAgIHRocm93IG5ldyBXQVNJRXJyb3IoY29uc3RhbnRzXzEuV0FTSV9FQkFERik7XG4gICAgfVxuICAgIGlmIChlbnRyeS5maWxldHlwZSA9PT0gdW5kZWZpbmVkKSB7XG4gICAgICAgIGNvbnN0IHN0YXRzID0gd2FzaS5iaW5kaW5ncy5mcy5mc3RhdFN5bmMoZW50cnkucmVhbCk7XG4gICAgICAgIGNvbnN0IHsgZmlsZXR5cGUsIHJpZ2h0c0Jhc2UsIHJpZ2h0c0luaGVyaXRpbmcgfSA9IHRyYW5zbGF0ZUZpbGVBdHRyaWJ1dGVzKHdhc2ksIGZkLCBzdGF0cyk7XG4gICAgICAgIGVudHJ5LmZpbGV0eXBlID0gZmlsZXR5cGU7XG4gICAgICAgIGlmICghZW50cnkucmlnaHRzKSB7XG4gICAgICAgICAgICBlbnRyeS5yaWdodHMgPSB7XG4gICAgICAgICAgICAgICAgYmFzZTogcmlnaHRzQmFzZSxcbiAgICAgICAgICAgICAgICBpbmhlcml0aW5nOiByaWdodHNJbmhlcml0aW5nXG4gICAgICAgICAgICB9O1xuICAgICAgICB9XG4gICAgfVxuICAgIHJldHVybiBlbnRyeTtcbn07XG5jb25zdCB0cmFuc2xhdGVGaWxlQXR0cmlidXRlcyA9ICh3YXNpLCBmZCwgc3RhdHMpID0+IHtcbiAgICBzd2l0Y2ggKHRydWUpIHtcbiAgICAgICAgY2FzZSBzdGF0cy5pc0Jsb2NrRGV2aWNlKCk6XG4gICAgICAgICAgICByZXR1cm4ge1xuICAgICAgICAgICAgICAgIGZpbGV0eXBlOiBjb25zdGFudHNfMS5XQVNJX0ZJTEVUWVBFX0JMT0NLX0RFVklDRSxcbiAgICAgICAgICAgICAgICByaWdodHNCYXNlOiBjb25zdGFudHNfMS5SSUdIVFNfQkxPQ0tfREVWSUNFX0JBU0UsXG4gICAgICAgICAgICAgICAgcmlnaHRzSW5oZXJpdGluZzogY29uc3RhbnRzXzEuUklHSFRTX0JMT0NLX0RFVklDRV9JTkhFUklUSU5HXG4gICAgICAgICAgICB9O1xuICAgICAgICBjYXNlIHN0YXRzLmlzQ2hhcmFjdGVyRGV2aWNlKCk6IHtcbiAgICAgICAgICAgIGNvbnN0IGZpbGV0eXBlID0gY29uc3RhbnRzXzEuV0FTSV9GSUxFVFlQRV9DSEFSQUNURVJfREVWSUNFO1xuICAgICAgICAgICAgaWYgKGZkICE9PSB1bmRlZmluZWQgJiYgd2FzaS5iaW5kaW5ncy5pc1RUWShmZCkpIHtcbiAgICAgICAgICAgICAgICByZXR1cm4ge1xuICAgICAgICAgICAgICAgICAgICBmaWxldHlwZSxcbiAgICAgICAgICAgICAgICAgICAgcmlnaHRzQmFzZTogY29uc3RhbnRzXzEuUklHSFRTX1RUWV9CQVNFLFxuICAgICAgICAgICAgICAgICAgICByaWdodHNJbmhlcml0aW5nOiBjb25zdGFudHNfMS5SSUdIVFNfVFRZX0lOSEVSSVRJTkdcbiAgICAgICAgICAgICAgICB9O1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgcmV0dXJuIHtcbiAgICAgICAgICAgICAgICBmaWxldHlwZSxcbiAgICAgICAgICAgICAgICByaWdodHNCYXNlOiBjb25zdGFudHNfMS5SSUdIVFNfQ0hBUkFDVEVSX0RFVklDRV9CQVNFLFxuICAgICAgICAgICAgICAgIHJpZ2h0c0luaGVyaXRpbmc6IGNvbnN0YW50c18xLlJJR0hUU19DSEFSQUNURVJfREVWSUNFX0lOSEVSSVRJTkdcbiAgICAgICAgICAgIH07XG4gICAgICAgIH1cbiAgICAgICAgY2FzZSBzdGF0cy5pc0RpcmVjdG9yeSgpOlxuICAgICAgICAgICAgcmV0dXJuIHtcbiAgICAgICAgICAgICAgICBmaWxldHlwZTogY29uc3RhbnRzXzEuV0FTSV9GSUxFVFlQRV9ESVJFQ1RPUlksXG4gICAgICAgICAgICAgICAgcmlnaHRzQmFzZTogY29uc3RhbnRzXzEuUklHSFRTX0RJUkVDVE9SWV9CQVNFLFxuICAgICAgICAgICAgICAgIHJpZ2h0c0luaGVyaXRpbmc6IGNvbnN0YW50c18xLlJJR0hUU19ESVJFQ1RPUllfSU5IRVJJVElOR1xuICAgICAgICAgICAgfTtcbiAgICAgICAgY2FzZSBzdGF0cy5pc0ZJRk8oKTpcbiAgICAgICAgICAgIHJldHVybiB7XG4gICAgICAgICAgICAgICAgZmlsZXR5cGU6IGNvbnN0YW50c18xLldBU0lfRklMRVRZUEVfU09DS0VUX1NUUkVBTSxcbiAgICAgICAgICAgICAgICByaWdodHNCYXNlOiBjb25zdGFudHNfMS5SSUdIVFNfU09DS0VUX0JBU0UsXG4gICAgICAgICAgICAgICAgcmlnaHRzSW5oZXJpdGluZzogY29uc3RhbnRzXzEuUklHSFRTX1NPQ0tFVF9JTkhFUklUSU5HXG4gICAgICAgICAgICB9O1xuICAgICAgICBjYXNlIHN0YXRzLmlzRmlsZSgpOlxuICAgICAgICAgICAgcmV0dXJuIHtcbiAgICAgICAgICAgICAgICBmaWxldHlwZTogY29uc3RhbnRzXzEuV0FTSV9GSUxFVFlQRV9SRUdVTEFSX0ZJTEUsXG4gICAgICAgICAgICAgICAgcmlnaHRzQmFzZTogY29uc3RhbnRzXzEuUklHSFRTX1JFR1VMQVJfRklMRV9CQVNFLFxuICAgICAgICAgICAgICAgIHJpZ2h0c0luaGVyaXRpbmc6IGNvbnN0YW50c18xLlJJR0hUU19SRUdVTEFSX0ZJTEVfSU5IRVJJVElOR1xuICAgICAgICAgICAgfTtcbiAgICAgICAgY2FzZSBzdGF0cy5pc1NvY2tldCgpOlxuICAgICAgICAgICAgcmV0dXJuIHtcbiAgICAgICAgICAgICAgICBmaWxldHlwZTogY29uc3RhbnRzXzEuV0FTSV9GSUxFVFlQRV9TT0NLRVRfU1RSRUFNLFxuICAgICAgICAgICAgICAgIHJpZ2h0c0Jhc2U6IGNvbnN0YW50c18xLlJJR0hUU19TT0NLRVRfQkFTRSxcbiAgICAgICAgICAgICAgICByaWdodHNJbmhlcml0aW5nOiBjb25zdGFudHNfMS5SSUdIVFNfU09DS0VUX0lOSEVSSVRJTkdcbiAgICAgICAgICAgIH07XG4gICAgICAgIGNhc2Ugc3RhdHMuaXNTeW1ib2xpY0xpbmsoKTpcbiAgICAgICAgICAgIHJldHVybiB7XG4gICAgICAgICAgICAgICAgZmlsZXR5cGU6IGNvbnN0YW50c18xLldBU0lfRklMRVRZUEVfU1lNQk9MSUNfTElOSyxcbiAgICAgICAgICAgICAgICByaWdodHNCYXNlOiBiaWdpbnRfMS5CaWdJbnRQb2x5ZmlsbCgwKSxcbiAgICAgICAgICAgICAgICByaWdodHNJbmhlcml0aW5nOiBiaWdpbnRfMS5CaWdJbnRQb2x5ZmlsbCgwKVxuICAgICAgICAgICAgfTtcbiAgICAgICAgZGVmYXVsdDpcbiAgICAgICAgICAgIHJldHVybiB7XG4gICAgICAgICAgICAgICAgZmlsZXR5cGU6IGNvbnN0YW50c18xLldBU0lfRklMRVRZUEVfVU5LTk9XTixcbiAgICAgICAgICAgICAgICByaWdodHNCYXNlOiBiaWdpbnRfMS5CaWdJbnRQb2x5ZmlsbCgwKSxcbiAgICAgICAgICAgICAgICByaWdodHNJbmhlcml0aW5nOiBiaWdpbnRfMS5CaWdJbnRQb2x5ZmlsbCgwKVxuICAgICAgICAgICAgfTtcbiAgICB9XG59O1xuY2xhc3MgV0FTSUVycm9yIGV4dGVuZHMgRXJyb3Ige1xuICAgIGNvbnN0cnVjdG9yKGVycm5vKSB7XG4gICAgICAgIHN1cGVyKCk7XG4gICAgICAgIHRoaXMuZXJybm8gPSBlcnJubztcbiAgICAgICAgT2JqZWN0LnNldFByb3RvdHlwZU9mKHRoaXMsIFdBU0lFcnJvci5wcm90b3R5cGUpO1xuICAgIH1cbn1cbmV4cG9ydHMuV0FTSUVycm9yID0gV0FTSUVycm9yO1xuY2xhc3MgV0FTSUV4aXRFcnJvciBleHRlbmRzIEVycm9yIHtcbiAgICBjb25zdHJ1Y3Rvcihjb2RlKSB7XG4gICAgICAgIHN1cGVyKGBXQVNJIEV4aXQgZXJyb3I6ICR7Y29kZX1gKTtcbiAgICAgICAgdGhpcy5jb2RlID0gY29kZTtcbiAgICAgICAgT2JqZWN0LnNldFByb3RvdHlwZU9mKHRoaXMsIFdBU0lFeGl0RXJyb3IucHJvdG90eXBlKTtcbiAgICB9XG59XG5leHBvcnRzLldBU0lFeGl0RXJyb3IgPSBXQVNJRXhpdEVycm9yO1xuY2xhc3MgV0FTSUtpbGxFcnJvciBleHRlbmRzIEVycm9yIHtcbiAgICBjb25zdHJ1Y3RvcihzaWduYWwpIHtcbiAgICAgICAgc3VwZXIoYFdBU0kgS2lsbCBzaWduYWw6ICR7c2lnbmFsfWApO1xuICAgICAgICB0aGlzLnNpZ25hbCA9IHNpZ25hbDtcbiAgICAgICAgT2JqZWN0LnNldFByb3RvdHlwZU9mKHRoaXMsIFdBU0lLaWxsRXJyb3IucHJvdG90eXBlKTtcbiAgICB9XG59XG5leHBvcnRzLldBU0lLaWxsRXJyb3IgPSBXQVNJS2lsbEVycm9yO1xuY2xhc3MgV0FTSURlZmF1bHQge1xuICAgIGNvbnN0cnVjdG9yKHdhc2lDb25maWcpIHtcbiAgICAgICAgLy8gRGVzdHJ1Y3R1cmUgb3VyIHdhc2lDb25maWdcbiAgICAgICAgbGV0IHByZW9wZW5zID0ge307XG4gICAgICAgIGlmICh3YXNpQ29uZmlnICYmIHdhc2lDb25maWcucHJlb3BlbnMpIHtcbiAgICAgICAgICAgIHByZW9wZW5zID0gd2FzaUNvbmZpZy5wcmVvcGVucztcbiAgICAgICAgfVxuICAgICAgICBlbHNlIGlmICh3YXNpQ29uZmlnICYmIHdhc2lDb25maWcucHJlb3BlbkRpcmVjdG9yaWVzKSB7XG4gICAgICAgICAgICBwcmVvcGVucyA9IHdhc2lDb25maWdcbiAgICAgICAgICAgICAgICAucHJlb3BlbkRpcmVjdG9yaWVzO1xuICAgICAgICB9XG4gICAgICAgIGxldCBlbnYgPSB7fTtcbiAgICAgICAgaWYgKHdhc2lDb25maWcgJiYgd2FzaUNvbmZpZy5lbnYpIHtcbiAgICAgICAgICAgIGVudiA9IHdhc2lDb25maWcuZW52O1xuICAgICAgICB9XG4gICAgICAgIGxldCBhcmdzID0gW107XG4gICAgICAgIGlmICh3YXNpQ29uZmlnICYmIHdhc2lDb25maWcuYXJncykge1xuICAgICAgICAgICAgYXJncyA9IHdhc2lDb25maWcuYXJncztcbiAgICAgICAgfVxuICAgICAgICBsZXQgYmluZGluZ3MgPSBkZWZhdWx0QmluZGluZ3M7XG4gICAgICAgIGlmICh3YXNpQ29uZmlnICYmIHdhc2lDb25maWcuYmluZGluZ3MpIHtcbiAgICAgICAgICAgIGJpbmRpbmdzID0gd2FzaUNvbmZpZy5iaW5kaW5ncztcbiAgICAgICAgfVxuICAgICAgICAvLyBAdHMtaWdub3JlXG4gICAgICAgIHRoaXMubWVtb3J5ID0gdW5kZWZpbmVkO1xuICAgICAgICAvLyBAdHMtaWdub3JlXG4gICAgICAgIHRoaXMudmlldyA9IHVuZGVmaW5lZDtcbiAgICAgICAgdGhpcy5iaW5kaW5ncyA9IGJpbmRpbmdzO1xuICAgICAgICB0aGlzLkZEX01BUCA9IG5ldyBNYXAoW1xuICAgICAgICAgICAgW1xuICAgICAgICAgICAgICAgIGNvbnN0YW50c18xLldBU0lfU1RESU5fRklMRU5PLFxuICAgICAgICAgICAgICAgIHtcbiAgICAgICAgICAgICAgICAgICAgcmVhbDogMCxcbiAgICAgICAgICAgICAgICAgICAgZmlsZXR5cGU6IGNvbnN0YW50c18xLldBU0lfRklMRVRZUEVfQ0hBUkFDVEVSX0RFVklDRSxcbiAgICAgICAgICAgICAgICAgICAgLy8gb2Zmc2V0OiBCaWdJbnQoMCksXG4gICAgICAgICAgICAgICAgICAgIHJpZ2h0czoge1xuICAgICAgICAgICAgICAgICAgICAgICAgYmFzZTogU1RESU5fREVGQVVMVF9SSUdIVFMsXG4gICAgICAgICAgICAgICAgICAgICAgICBpbmhlcml0aW5nOiBiaWdpbnRfMS5CaWdJbnRQb2x5ZmlsbCgwKVxuICAgICAgICAgICAgICAgICAgICB9LFxuICAgICAgICAgICAgICAgICAgICBwYXRoOiB1bmRlZmluZWRcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICBdLFxuICAgICAgICAgICAgW1xuICAgICAgICAgICAgICAgIGNvbnN0YW50c18xLldBU0lfU1RET1VUX0ZJTEVOTyxcbiAgICAgICAgICAgICAgICB7XG4gICAgICAgICAgICAgICAgICAgIHJlYWw6IDEsXG4gICAgICAgICAgICAgICAgICAgIGZpbGV0eXBlOiBjb25zdGFudHNfMS5XQVNJX0ZJTEVUWVBFX0NIQVJBQ1RFUl9ERVZJQ0UsXG4gICAgICAgICAgICAgICAgICAgIC8vIG9mZnNldDogQmlnSW50KDApLFxuICAgICAgICAgICAgICAgICAgICByaWdodHM6IHtcbiAgICAgICAgICAgICAgICAgICAgICAgIGJhc2U6IFNURE9VVF9ERUZBVUxUX1JJR0hUUyxcbiAgICAgICAgICAgICAgICAgICAgICAgIGluaGVyaXRpbmc6IGJpZ2ludF8xLkJpZ0ludFBvbHlmaWxsKDApXG4gICAgICAgICAgICAgICAgICAgIH0sXG4gICAgICAgICAgICAgICAgICAgIHBhdGg6IHVuZGVmaW5lZFxuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIF0sXG4gICAgICAgICAgICBbXG4gICAgICAgICAgICAgICAgY29uc3RhbnRzXzEuV0FTSV9TVERFUlJfRklMRU5PLFxuICAgICAgICAgICAgICAgIHtcbiAgICAgICAgICAgICAgICAgICAgcmVhbDogMixcbiAgICAgICAgICAgICAgICAgICAgZmlsZXR5cGU6IGNvbnN0YW50c18xLldBU0lfRklMRVRZUEVfQ0hBUkFDVEVSX0RFVklDRSxcbiAgICAgICAgICAgICAgICAgICAgLy8gb2Zmc2V0OiBCaWdJbnQoMCksXG4gICAgICAgICAgICAgICAgICAgIHJpZ2h0czoge1xuICAgICAgICAgICAgICAgICAgICAgICAgYmFzZTogU1RERVJSX0RFRkFVTFRfUklHSFRTLFxuICAgICAgICAgICAgICAgICAgICAgICAgaW5oZXJpdGluZzogYmlnaW50XzEuQmlnSW50UG9seWZpbGwoMClcbiAgICAgICAgICAgICAgICAgICAgfSxcbiAgICAgICAgICAgICAgICAgICAgcGF0aDogdW5kZWZpbmVkXG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgXVxuICAgICAgICBdKTtcbiAgICAgICAgbGV0IGZzID0gdGhpcy5iaW5kaW5ncy5mcztcbiAgICAgICAgbGV0IHBhdGggPSB0aGlzLmJpbmRpbmdzLnBhdGg7XG4gICAgICAgIGZvciAoY29uc3QgW2ssIHZdIG9mIE9iamVjdC5lbnRyaWVzKHByZW9wZW5zKSkge1xuICAgICAgICAgICAgY29uc3QgcmVhbCA9IGZzLm9wZW5TeW5jKHYsIGZzLmNvbnN0YW50cy5PX1JET05MWSk7XG4gICAgICAgICAgICBjb25zdCBuZXdmZCA9IFsuLi50aGlzLkZEX01BUC5rZXlzKCldLnJldmVyc2UoKVswXSArIDE7XG4gICAgICAgICAgICB0aGlzLkZEX01BUC5zZXQobmV3ZmQsIHtcbiAgICAgICAgICAgICAgICByZWFsLFxuICAgICAgICAgICAgICAgIGZpbGV0eXBlOiBjb25zdGFudHNfMS5XQVNJX0ZJTEVUWVBFX0RJUkVDVE9SWSxcbiAgICAgICAgICAgICAgICAvLyBvZmZzZXQ6IEJpZ0ludCgwKSxcbiAgICAgICAgICAgICAgICByaWdodHM6IHtcbiAgICAgICAgICAgICAgICAgICAgYmFzZTogY29uc3RhbnRzXzEuUklHSFRTX0RJUkVDVE9SWV9CQVNFLFxuICAgICAgICAgICAgICAgICAgICBpbmhlcml0aW5nOiBjb25zdGFudHNfMS5SSUdIVFNfRElSRUNUT1JZX0lOSEVSSVRJTkdcbiAgICAgICAgICAgICAgICB9LFxuICAgICAgICAgICAgICAgIGZha2VQYXRoOiBrLFxuICAgICAgICAgICAgICAgIHBhdGg6IHZcbiAgICAgICAgICAgIH0pO1xuICAgICAgICB9XG4gICAgICAgIGNvbnN0IGdldGlvdnMgPSAoaW92cywgaW92c0xlbikgPT4ge1xuICAgICAgICAgICAgLy8gaW92cyogLT4gW2lvdiwgaW92LCAuLi5dXG4gICAgICAgICAgICAvLyBfX3dhc2lfY2lvdmVjX3Qge1xuICAgICAgICAgICAgLy8gICB2b2lkKiBidWYsXG4gICAgICAgICAgICAvLyAgIHNpemVfdCBidWZfbGVuLFxuICAgICAgICAgICAgLy8gfVxuICAgICAgICAgICAgdGhpcy5yZWZyZXNoTWVtb3J5KCk7XG4gICAgICAgICAgICBjb25zdCBidWZmZXJzID0gQXJyYXkuZnJvbSh7IGxlbmd0aDogaW92c0xlbiB9LCAoXywgaSkgPT4ge1xuICAgICAgICAgICAgICAgIGNvbnN0IHB0ciA9IGlvdnMgKyBpICogODtcbiAgICAgICAgICAgICAgICBjb25zdCBidWYgPSB0aGlzLnZpZXcuZ2V0VWludDMyKHB0ciwgdHJ1ZSk7XG4gICAgICAgICAgICAgICAgY29uc3QgYnVmTGVuID0gdGhpcy52aWV3LmdldFVpbnQzMihwdHIgKyA0LCB0cnVlKTtcbiAgICAgICAgICAgICAgICByZXR1cm4gbmV3IFVpbnQ4QXJyYXkodGhpcy5tZW1vcnkuYnVmZmVyLCBidWYsIGJ1Zkxlbik7XG4gICAgICAgICAgICB9KTtcbiAgICAgICAgICAgIHJldHVybiBidWZmZXJzO1xuICAgICAgICB9O1xuICAgICAgICBjb25zdCBDSEVDS19GRCA9IChmZCwgcmlnaHRzKSA9PiB7XG4gICAgICAgICAgICBjb25zdCBzdGF0cyA9IHN0YXQodGhpcywgZmQpO1xuICAgICAgICAgICAgLy8gY29uc29sZS5sb2coYENIRUNLX0ZEOiBzdGF0cy5yZWFsOiAke3N0YXRzLnJlYWx9LCBzdGF0cy5wYXRoOmAsIHN0YXRzLnBhdGgpO1xuICAgICAgICAgICAgaWYgKHJpZ2h0cyAhPT0gYmlnaW50XzEuQmlnSW50UG9seWZpbGwoMCkgJiYgKHN0YXRzLnJpZ2h0cy5iYXNlICYgcmlnaHRzKSA9PT0gYmlnaW50XzEuQmlnSW50UG9seWZpbGwoMCkpIHtcbiAgICAgICAgICAgICAgICB0aHJvdyBuZXcgV0FTSUVycm9yKGNvbnN0YW50c18xLldBU0lfRVBFUk0pO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgcmV0dXJuIHN0YXRzO1xuICAgICAgICB9O1xuICAgICAgICBjb25zdCBDUFVUSU1FX1NUQVJUID0gYmluZGluZ3MuaHJ0aW1lKCk7XG4gICAgICAgIGNvbnN0IG5vdyA9IChjbG9ja0lkKSA9PiB7XG4gICAgICAgICAgICBzd2l0Y2ggKGNsb2NrSWQpIHtcbiAgICAgICAgICAgICAgICBjYXNlIGNvbnN0YW50c18xLldBU0lfQ0xPQ0tfTU9OT1RPTklDOlxuICAgICAgICAgICAgICAgICAgICByZXR1cm4gYmluZGluZ3MuaHJ0aW1lKCk7XG4gICAgICAgICAgICAgICAgY2FzZSBjb25zdGFudHNfMS5XQVNJX0NMT0NLX1JFQUxUSU1FOlxuICAgICAgICAgICAgICAgICAgICByZXR1cm4gbXNUb05zKERhdGUubm93KCkpO1xuICAgICAgICAgICAgICAgIGNhc2UgY29uc3RhbnRzXzEuV0FTSV9DTE9DS19QUk9DRVNTX0NQVVRJTUVfSUQ6XG4gICAgICAgICAgICAgICAgY2FzZSBjb25zdGFudHNfMS5XQVNJX0NMT0NLX1RIUkVBRF9DUFVUSU1FX0lEOlxuICAgICAgICAgICAgICAgICAgICAvLyByZXR1cm4gYmluZGluZ3MuaHJ0aW1lKENQVVRJTUVfU1RBUlQpXG4gICAgICAgICAgICAgICAgICAgIHJldHVybiBiaW5kaW5ncy5ocnRpbWUoKSAtIENQVVRJTUVfU1RBUlQ7XG4gICAgICAgICAgICAgICAgZGVmYXVsdDpcbiAgICAgICAgICAgICAgICAgICAgcmV0dXJuIG51bGw7XG4gICAgICAgICAgICB9XG4gICAgICAgIH07XG4gICAgICAgIHRoaXMud2FzaUltcG9ydCA9IHtcbiAgICAgICAgICAgIGFyZ3NfZ2V0OiAoYXJndiwgYXJndkJ1ZikgPT4ge1xuICAgICAgICAgICAgICAgIHRoaXMucmVmcmVzaE1lbW9yeSgpO1xuICAgICAgICAgICAgICAgIGxldCBjb2Zmc2V0ID0gYXJndjtcbiAgICAgICAgICAgICAgICBsZXQgb2Zmc2V0ID0gYXJndkJ1ZjtcbiAgICAgICAgICAgICAgICBhcmdzLmZvckVhY2goYSA9PiB7XG4gICAgICAgICAgICAgICAgICAgIHRoaXMudmlldy5zZXRVaW50MzIoY29mZnNldCwgb2Zmc2V0LCB0cnVlKTtcbiAgICAgICAgICAgICAgICAgICAgY29mZnNldCArPSA0O1xuICAgICAgICAgICAgICAgICAgICBvZmZzZXQgKz0gYnVmZmVyXzEuZGVmYXVsdC5mcm9tKHRoaXMubWVtb3J5LmJ1ZmZlcikud3JpdGUoYCR7YX1cXDBgLCBvZmZzZXQpO1xuICAgICAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgICAgIHJldHVybiBjb25zdGFudHNfMS5XQVNJX0VTVUNDRVNTO1xuICAgICAgICAgICAgfSxcbiAgICAgICAgICAgIGFyZ3Nfc2l6ZXNfZ2V0OiAoYXJnYywgYXJndkJ1ZlNpemUpID0+IHtcbiAgICAgICAgICAgICAgICB0aGlzLnJlZnJlc2hNZW1vcnkoKTtcbiAgICAgICAgICAgICAgICB0aGlzLnZpZXcuc2V0VWludDMyKGFyZ2MsIGFyZ3MubGVuZ3RoLCB0cnVlKTtcbiAgICAgICAgICAgICAgICBjb25zdCBzaXplID0gYXJncy5yZWR1Y2UoKGFjYywgYSkgPT4gYWNjICsgYnVmZmVyXzEuZGVmYXVsdC5ieXRlTGVuZ3RoKGEpICsgMSwgMCk7XG4gICAgICAgICAgICAgICAgdGhpcy52aWV3LnNldFVpbnQzMihhcmd2QnVmU2l6ZSwgc2l6ZSwgdHJ1ZSk7XG4gICAgICAgICAgICAgICAgcmV0dXJuIGNvbnN0YW50c18xLldBU0lfRVNVQ0NFU1M7XG4gICAgICAgICAgICB9LFxuICAgICAgICAgICAgZW52aXJvbl9nZXQ6IChlbnZpcm9uLCBlbnZpcm9uQnVmKSA9PiB7XG4gICAgICAgICAgICAgICAgdGhpcy5yZWZyZXNoTWVtb3J5KCk7XG4gICAgICAgICAgICAgICAgbGV0IGNvZmZzZXQgPSBlbnZpcm9uO1xuICAgICAgICAgICAgICAgIGxldCBvZmZzZXQgPSBlbnZpcm9uQnVmO1xuICAgICAgICAgICAgICAgIE9iamVjdC5lbnRyaWVzKGVudikuZm9yRWFjaCgoW2tleSwgdmFsdWVdKSA9PiB7XG4gICAgICAgICAgICAgICAgICAgIHRoaXMudmlldy5zZXRVaW50MzIoY29mZnNldCwgb2Zmc2V0LCB0cnVlKTtcbiAgICAgICAgICAgICAgICAgICAgY29mZnNldCArPSA0O1xuICAgICAgICAgICAgICAgICAgICBvZmZzZXQgKz0gYnVmZmVyXzEuZGVmYXVsdC5mcm9tKHRoaXMubWVtb3J5LmJ1ZmZlcikud3JpdGUoYCR7a2V5fT0ke3ZhbHVlfVxcMGAsIG9mZnNldCk7XG4gICAgICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICAgICAgcmV0dXJuIGNvbnN0YW50c18xLldBU0lfRVNVQ0NFU1M7XG4gICAgICAgICAgICB9LFxuICAgICAgICAgICAgZW52aXJvbl9zaXplc19nZXQ6IChlbnZpcm9uQ291bnQsIGVudmlyb25CdWZTaXplKSA9PiB7XG4gICAgICAgICAgICAgICAgdGhpcy5yZWZyZXNoTWVtb3J5KCk7XG4gICAgICAgICAgICAgICAgY29uc3QgZW52UHJvY2Vzc2VkID0gT2JqZWN0LmVudHJpZXMoZW52KS5tYXAoKFtrZXksIHZhbHVlXSkgPT4gYCR7a2V5fT0ke3ZhbHVlfVxcMGApO1xuICAgICAgICAgICAgICAgIGNvbnN0IHNpemUgPSBlbnZQcm9jZXNzZWQucmVkdWNlKChhY2MsIGUpID0+IGFjYyArIGJ1ZmZlcl8xLmRlZmF1bHQuYnl0ZUxlbmd0aChlKSwgMCk7XG4gICAgICAgICAgICAgICAgdGhpcy52aWV3LnNldFVpbnQzMihlbnZpcm9uQ291bnQsIGVudlByb2Nlc3NlZC5sZW5ndGgsIHRydWUpO1xuICAgICAgICAgICAgICAgIHRoaXMudmlldy5zZXRVaW50MzIoZW52aXJvbkJ1ZlNpemUsIHNpemUsIHRydWUpO1xuICAgICAgICAgICAgICAgIHJldHVybiBjb25zdGFudHNfMS5XQVNJX0VTVUNDRVNTO1xuICAgICAgICAgICAgfSxcbiAgICAgICAgICAgIGNsb2NrX3Jlc19nZXQ6IChjbG9ja0lkLCByZXNvbHV0aW9uKSA9PiB7XG4gICAgICAgICAgICAgICAgbGV0IHJlcztcbiAgICAgICAgICAgICAgICBzd2l0Y2ggKGNsb2NrSWQpIHtcbiAgICAgICAgICAgICAgICAgICAgY2FzZSBjb25zdGFudHNfMS5XQVNJX0NMT0NLX01PTk9UT05JQzpcbiAgICAgICAgICAgICAgICAgICAgY2FzZSBjb25zdGFudHNfMS5XQVNJX0NMT0NLX1BST0NFU1NfQ1BVVElNRV9JRDpcbiAgICAgICAgICAgICAgICAgICAgY2FzZSBjb25zdGFudHNfMS5XQVNJX0NMT0NLX1RIUkVBRF9DUFVUSU1FX0lEOiB7XG4gICAgICAgICAgICAgICAgICAgICAgICByZXMgPSBiaWdpbnRfMS5CaWdJbnRQb2x5ZmlsbCgxKTtcbiAgICAgICAgICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgIGNhc2UgY29uc3RhbnRzXzEuV0FTSV9DTE9DS19SRUFMVElNRToge1xuICAgICAgICAgICAgICAgICAgICAgICAgcmVzID0gYmlnaW50XzEuQmlnSW50UG9seWZpbGwoMTAwMCk7XG4gICAgICAgICAgICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICB0aGlzLnZpZXcuc2V0QmlnVWludDY0KHJlc29sdXRpb24sIHJlcyk7XG4gICAgICAgICAgICAgICAgcmV0dXJuIGNvbnN0YW50c18xLldBU0lfRVNVQ0NFU1M7XG4gICAgICAgICAgICB9LFxuICAgICAgICAgICAgY2xvY2tfdGltZV9nZXQ6IChjbG9ja0lkLCBwcmVjaXNpb24sIHRpbWUpID0+IHtcbiAgICAgICAgICAgICAgICB0aGlzLnJlZnJlc2hNZW1vcnkoKTtcbiAgICAgICAgICAgICAgICBjb25zdCBuID0gbm93KGNsb2NrSWQpO1xuICAgICAgICAgICAgICAgIGlmIChuID09PSBudWxsKSB7XG4gICAgICAgICAgICAgICAgICAgIHJldHVybiBjb25zdGFudHNfMS5XQVNJX0VJTlZBTDtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgdGhpcy52aWV3LnNldEJpZ1VpbnQ2NCh0aW1lLCBiaWdpbnRfMS5CaWdJbnRQb2x5ZmlsbChuKSwgdHJ1ZSk7XG4gICAgICAgICAgICAgICAgcmV0dXJuIGNvbnN0YW50c18xLldBU0lfRVNVQ0NFU1M7XG4gICAgICAgICAgICB9LFxuICAgICAgICAgICAgZmRfYWR2aXNlOiB3cmFwKChmZCwgb2Zmc2V0LCBsZW4sIGFkdmljZSkgPT4ge1xuICAgICAgICAgICAgICAgIENIRUNLX0ZEKGZkLCBjb25zdGFudHNfMS5XQVNJX1JJR0hUX0ZEX0FEVklTRSk7XG4gICAgICAgICAgICAgICAgcmV0dXJuIGNvbnN0YW50c18xLldBU0lfRU5PU1lTO1xuICAgICAgICAgICAgfSksXG4gICAgICAgICAgICBmZF9hbGxvY2F0ZTogd3JhcCgoZmQsIG9mZnNldCwgbGVuKSA9PiB7XG4gICAgICAgICAgICAgICAgQ0hFQ0tfRkQoZmQsIGNvbnN0YW50c18xLldBU0lfUklHSFRfRkRfQUxMT0NBVEUpO1xuICAgICAgICAgICAgICAgIHJldHVybiBjb25zdGFudHNfMS5XQVNJX0VOT1NZUztcbiAgICAgICAgICAgIH0pLFxuICAgICAgICAgICAgZmRfY2xvc2U6IHdyYXAoKGZkKSA9PiB7XG4gICAgICAgICAgICAgICAgY29uc3Qgc3RhdHMgPSBDSEVDS19GRChmZCwgYmlnaW50XzEuQmlnSW50UG9seWZpbGwoMCkpO1xuICAgICAgICAgICAgICAgIGZzLmNsb3NlU3luYyhzdGF0cy5yZWFsKTtcbiAgICAgICAgICAgICAgICB0aGlzLkZEX01BUC5kZWxldGUoZmQpO1xuICAgICAgICAgICAgICAgIHJldHVybiBjb25zdGFudHNfMS5XQVNJX0VTVUNDRVNTO1xuICAgICAgICAgICAgfSksXG4gICAgICAgICAgICBmZF9kYXRhc3luYzogd3JhcCgoZmQpID0+IHtcbiAgICAgICAgICAgICAgICBjb25zdCBzdGF0cyA9IENIRUNLX0ZEKGZkLCBjb25zdGFudHNfMS5XQVNJX1JJR0hUX0ZEX0RBVEFTWU5DKTtcbiAgICAgICAgICAgICAgICBmcy5mZGF0YXN5bmNTeW5jKHN0YXRzLnJlYWwpO1xuICAgICAgICAgICAgICAgIHJldHVybiBjb25zdGFudHNfMS5XQVNJX0VTVUNDRVNTO1xuICAgICAgICAgICAgfSksXG4gICAgICAgICAgICBmZF9mZHN0YXRfZ2V0OiB3cmFwKChmZCwgYnVmUHRyKSA9PiB7XG4gICAgICAgICAgICAgICAgY29uc3Qgc3RhdHMgPSBDSEVDS19GRChmZCwgYmlnaW50XzEuQmlnSW50UG9seWZpbGwoMCkpO1xuICAgICAgICAgICAgICAgIHRoaXMucmVmcmVzaE1lbW9yeSgpO1xuICAgICAgICAgICAgICAgIHRoaXMudmlldy5zZXRVaW50OChidWZQdHIsIHN0YXRzLmZpbGV0eXBlKTsgLy8gRklMRVRZUEUgdThcbiAgICAgICAgICAgICAgICB0aGlzLnZpZXcuc2V0VWludDE2KGJ1ZlB0ciArIDIsIDAsIHRydWUpOyAvLyBGREZMQUcgdTE2XG4gICAgICAgICAgICAgICAgdGhpcy52aWV3LnNldFVpbnQxNihidWZQdHIgKyA0LCAwLCB0cnVlKTsgLy8gRkRGTEFHIHUxNlxuICAgICAgICAgICAgICAgIHRoaXMudmlldy5zZXRCaWdVaW50NjQoYnVmUHRyICsgOCwgYmlnaW50XzEuQmlnSW50UG9seWZpbGwoc3RhdHMucmlnaHRzLmJhc2UpLCB0cnVlKTsgLy8gdTY0XG4gICAgICAgICAgICAgICAgdGhpcy52aWV3LnNldEJpZ1VpbnQ2NChidWZQdHIgKyA4ICsgOCwgYmlnaW50XzEuQmlnSW50UG9seWZpbGwoc3RhdHMucmlnaHRzLmluaGVyaXRpbmcpLCB0cnVlKTsgLy8gdTY0XG4gICAgICAgICAgICAgICAgcmV0dXJuIGNvbnN0YW50c18xLldBU0lfRVNVQ0NFU1M7XG4gICAgICAgICAgICB9KSxcbiAgICAgICAgICAgIGZkX2Zkc3RhdF9zZXRfZmxhZ3M6IHdyYXAoKGZkLCBmbGFncykgPT4ge1xuICAgICAgICAgICAgICAgIENIRUNLX0ZEKGZkLCBjb25zdGFudHNfMS5XQVNJX1JJR0hUX0ZEX0ZEU1RBVF9TRVRfRkxBR1MpO1xuICAgICAgICAgICAgICAgIHJldHVybiBjb25zdGFudHNfMS5XQVNJX0VOT1NZUztcbiAgICAgICAgICAgIH0pLFxuICAgICAgICAgICAgZmRfZmRzdGF0X3NldF9yaWdodHM6IHdyYXAoKGZkLCBmc1JpZ2h0c0Jhc2UsIGZzUmlnaHRzSW5oZXJpdGluZykgPT4ge1xuICAgICAgICAgICAgICAgIGNvbnN0IHN0YXRzID0gQ0hFQ0tfRkQoZmQsIGJpZ2ludF8xLkJpZ0ludFBvbHlmaWxsKDApKTtcbiAgICAgICAgICAgICAgICBjb25zdCBucmIgPSBzdGF0cy5yaWdodHMuYmFzZSB8IGZzUmlnaHRzQmFzZTtcbiAgICAgICAgICAgICAgICBpZiAobnJiID4gc3RhdHMucmlnaHRzLmJhc2UpIHtcbiAgICAgICAgICAgICAgICAgICAgcmV0dXJuIGNvbnN0YW50c18xLldBU0lfRVBFUk07XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIGNvbnN0IG5yaSA9IHN0YXRzLnJpZ2h0cy5pbmhlcml0aW5nIHwgZnNSaWdodHNJbmhlcml0aW5nO1xuICAgICAgICAgICAgICAgIGlmIChucmkgPiBzdGF0cy5yaWdodHMuaW5oZXJpdGluZykge1xuICAgICAgICAgICAgICAgICAgICByZXR1cm4gY29uc3RhbnRzXzEuV0FTSV9FUEVSTTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgc3RhdHMucmlnaHRzLmJhc2UgPSBmc1JpZ2h0c0Jhc2U7XG4gICAgICAgICAgICAgICAgc3RhdHMucmlnaHRzLmluaGVyaXRpbmcgPSBmc1JpZ2h0c0luaGVyaXRpbmc7XG4gICAgICAgICAgICAgICAgcmV0dXJuIGNvbnN0YW50c18xLldBU0lfRVNVQ0NFU1M7XG4gICAgICAgICAgICB9KSxcbiAgICAgICAgICAgIGZkX2ZpbGVzdGF0X2dldDogd3JhcCgoZmQsIGJ1ZlB0cikgPT4ge1xuICAgICAgICAgICAgICAgIGNvbnN0IHN0YXRzID0gQ0hFQ0tfRkQoZmQsIGNvbnN0YW50c18xLldBU0lfUklHSFRfRkRfRklMRVNUQVRfR0VUKTtcbiAgICAgICAgICAgICAgICBjb25zdCByc3RhdHMgPSBmcy5mc3RhdFN5bmMoc3RhdHMucmVhbCk7XG4gICAgICAgICAgICAgICAgdGhpcy5yZWZyZXNoTWVtb3J5KCk7XG4gICAgICAgICAgICAgICAgdGhpcy52aWV3LnNldEJpZ1VpbnQ2NChidWZQdHIsIGJpZ2ludF8xLkJpZ0ludFBvbHlmaWxsKHJzdGF0cy5kZXYpLCB0cnVlKTtcbiAgICAgICAgICAgICAgICBidWZQdHIgKz0gODtcbiAgICAgICAgICAgICAgICB0aGlzLnZpZXcuc2V0QmlnVWludDY0KGJ1ZlB0ciwgYmlnaW50XzEuQmlnSW50UG9seWZpbGwocnN0YXRzLmlubyksIHRydWUpO1xuICAgICAgICAgICAgICAgIGJ1ZlB0ciArPSA4O1xuICAgICAgICAgICAgICAgIHRoaXMudmlldy5zZXRVaW50OChidWZQdHIsIHN0YXRzLmZpbGV0eXBlKTtcbiAgICAgICAgICAgICAgICBidWZQdHIgKz0gODtcbiAgICAgICAgICAgICAgICB0aGlzLnZpZXcuc2V0QmlnVWludDY0KGJ1ZlB0ciwgYmlnaW50XzEuQmlnSW50UG9seWZpbGwocnN0YXRzLm5saW5rKSwgdHJ1ZSk7XG4gICAgICAgICAgICAgICAgYnVmUHRyICs9IDg7XG4gICAgICAgICAgICAgICAgdGhpcy52aWV3LnNldEJpZ1VpbnQ2NChidWZQdHIsIGJpZ2ludF8xLkJpZ0ludFBvbHlmaWxsKHJzdGF0cy5zaXplKSwgdHJ1ZSk7XG4gICAgICAgICAgICAgICAgYnVmUHRyICs9IDg7XG4gICAgICAgICAgICAgICAgdGhpcy52aWV3LnNldEJpZ1VpbnQ2NChidWZQdHIsIG1zVG9Ocyhyc3RhdHMuYXRpbWVNcyksIHRydWUpO1xuICAgICAgICAgICAgICAgIGJ1ZlB0ciArPSA4O1xuICAgICAgICAgICAgICAgIHRoaXMudmlldy5zZXRCaWdVaW50NjQoYnVmUHRyLCBtc1RvTnMocnN0YXRzLm10aW1lTXMpLCB0cnVlKTtcbiAgICAgICAgICAgICAgICBidWZQdHIgKz0gODtcbiAgICAgICAgICAgICAgICB0aGlzLnZpZXcuc2V0QmlnVWludDY0KGJ1ZlB0ciwgbXNUb05zKHJzdGF0cy5jdGltZU1zKSwgdHJ1ZSk7XG4gICAgICAgICAgICAgICAgcmV0dXJuIGNvbnN0YW50c18xLldBU0lfRVNVQ0NFU1M7XG4gICAgICAgICAgICB9KSxcbiAgICAgICAgICAgIGZkX2ZpbGVzdGF0X3NldF9zaXplOiB3cmFwKChmZCwgc3RTaXplKSA9PiB7XG4gICAgICAgICAgICAgICAgY29uc3Qgc3RhdHMgPSBDSEVDS19GRChmZCwgY29uc3RhbnRzXzEuV0FTSV9SSUdIVF9GRF9GSUxFU1RBVF9TRVRfU0laRSk7XG4gICAgICAgICAgICAgICAgZnMuZnRydW5jYXRlU3luYyhzdGF0cy5yZWFsLCBOdW1iZXIoc3RTaXplKSk7XG4gICAgICAgICAgICAgICAgcmV0dXJuIGNvbnN0YW50c18xLldBU0lfRVNVQ0NFU1M7XG4gICAgICAgICAgICB9KSxcbiAgICAgICAgICAgIGZkX2ZpbGVzdGF0X3NldF90aW1lczogd3JhcCgoZmQsIHN0QXRpbSwgc3RNdGltLCBmc3RmbGFncykgPT4ge1xuICAgICAgICAgICAgICAgIGNvbnN0IHN0YXRzID0gQ0hFQ0tfRkQoZmQsIGNvbnN0YW50c18xLldBU0lfUklHSFRfRkRfRklMRVNUQVRfU0VUX1RJTUVTKTtcbiAgICAgICAgICAgICAgICBjb25zdCByc3RhdHMgPSBmcy5mc3RhdFN5bmMoc3RhdHMucmVhbCk7XG4gICAgICAgICAgICAgICAgbGV0IGF0aW0gPSByc3RhdHMuYXRpbWU7XG4gICAgICAgICAgICAgICAgbGV0IG10aW0gPSByc3RhdHMubXRpbWU7XG4gICAgICAgICAgICAgICAgY29uc3QgbiA9IG5zVG9Ncyhub3coY29uc3RhbnRzXzEuV0FTSV9DTE9DS19SRUFMVElNRSkpO1xuICAgICAgICAgICAgICAgIGNvbnN0IGF0aW1mbGFncyA9IGNvbnN0YW50c18xLldBU0lfRklMRVNUQVRfU0VUX0FUSU0gfCBjb25zdGFudHNfMS5XQVNJX0ZJTEVTVEFUX1NFVF9BVElNX05PVztcbiAgICAgICAgICAgICAgICBpZiAoKGZzdGZsYWdzICYgYXRpbWZsYWdzKSA9PT0gYXRpbWZsYWdzKSB7XG4gICAgICAgICAgICAgICAgICAgIHJldHVybiBjb25zdGFudHNfMS5XQVNJX0VJTlZBTDtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgY29uc3QgbXRpbWZsYWdzID0gY29uc3RhbnRzXzEuV0FTSV9GSUxFU1RBVF9TRVRfTVRJTSB8IGNvbnN0YW50c18xLldBU0lfRklMRVNUQVRfU0VUX01USU1fTk9XO1xuICAgICAgICAgICAgICAgIGlmICgoZnN0ZmxhZ3MgJiBtdGltZmxhZ3MpID09PSBtdGltZmxhZ3MpIHtcbiAgICAgICAgICAgICAgICAgICAgcmV0dXJuIGNvbnN0YW50c18xLldBU0lfRUlOVkFMO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICBpZiAoKGZzdGZsYWdzICYgY29uc3RhbnRzXzEuV0FTSV9GSUxFU1RBVF9TRVRfQVRJTSkgPT09IGNvbnN0YW50c18xLldBU0lfRklMRVNUQVRfU0VUX0FUSU0pIHtcbiAgICAgICAgICAgICAgICAgICAgYXRpbSA9IG5zVG9NcyhzdEF0aW0pO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICBlbHNlIGlmICgoZnN0ZmxhZ3MgJiBjb25zdGFudHNfMS5XQVNJX0ZJTEVTVEFUX1NFVF9BVElNX05PVykgPT09IGNvbnN0YW50c18xLldBU0lfRklMRVNUQVRfU0VUX0FUSU1fTk9XKSB7XG4gICAgICAgICAgICAgICAgICAgIGF0aW0gPSBuO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICBpZiAoKGZzdGZsYWdzICYgY29uc3RhbnRzXzEuV0FTSV9GSUxFU1RBVF9TRVRfTVRJTSkgPT09IGNvbnN0YW50c18xLldBU0lfRklMRVNUQVRfU0VUX01USU0pIHtcbiAgICAgICAgICAgICAgICAgICAgbXRpbSA9IG5zVG9NcyhzdE10aW0pO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICBlbHNlIGlmICgoZnN0ZmxhZ3MgJiBjb25zdGFudHNfMS5XQVNJX0ZJTEVTVEFUX1NFVF9NVElNX05PVykgPT09IGNvbnN0YW50c18xLldBU0lfRklMRVNUQVRfU0VUX01USU1fTk9XKSB7XG4gICAgICAgICAgICAgICAgICAgIG10aW0gPSBuO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICBmcy5mdXRpbWVzU3luYyhzdGF0cy5yZWFsLCBuZXcgRGF0ZShhdGltKSwgbmV3IERhdGUobXRpbSkpO1xuICAgICAgICAgICAgICAgIHJldHVybiBjb25zdGFudHNfMS5XQVNJX0VTVUNDRVNTO1xuICAgICAgICAgICAgfSksXG4gICAgICAgICAgICBmZF9wcmVzdGF0X2dldDogd3JhcCgoZmQsIGJ1ZlB0cikgPT4ge1xuICAgICAgICAgICAgICAgIGNvbnN0IHN0YXRzID0gQ0hFQ0tfRkQoZmQsIGJpZ2ludF8xLkJpZ0ludFBvbHlmaWxsKDApKTtcbiAgICAgICAgICAgICAgICBpZiAoIXN0YXRzLnBhdGgpIHtcbiAgICAgICAgICAgICAgICAgICAgcmV0dXJuIGNvbnN0YW50c18xLldBU0lfRUlOVkFMO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICB0aGlzLnJlZnJlc2hNZW1vcnkoKTtcbiAgICAgICAgICAgICAgICB0aGlzLnZpZXcuc2V0VWludDgoYnVmUHRyLCBjb25zdGFudHNfMS5XQVNJX1BSRU9QRU5UWVBFX0RJUik7XG4gICAgICAgICAgICAgICAgdGhpcy52aWV3LnNldFVpbnQzMihidWZQdHIgKyA0LCBidWZmZXJfMS5kZWZhdWx0LmJ5dGVMZW5ndGgoc3RhdHMuZmFrZVBhdGgpLCB0cnVlKTtcbiAgICAgICAgICAgICAgICByZXR1cm4gY29uc3RhbnRzXzEuV0FTSV9FU1VDQ0VTUztcbiAgICAgICAgICAgIH0pLFxuICAgICAgICAgICAgZmRfcHJlc3RhdF9kaXJfbmFtZTogd3JhcCgoZmQsIHBhdGhQdHIsIHBhdGhMZW4pID0+IHtcbiAgICAgICAgICAgICAgICBjb25zdCBzdGF0cyA9IENIRUNLX0ZEKGZkLCBiaWdpbnRfMS5CaWdJbnRQb2x5ZmlsbCgwKSk7XG4gICAgICAgICAgICAgICAgaWYgKCFzdGF0cy5wYXRoKSB7XG4gICAgICAgICAgICAgICAgICAgIHJldHVybiBjb25zdGFudHNfMS5XQVNJX0VJTlZBTDtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgdGhpcy5yZWZyZXNoTWVtb3J5KCk7XG4gICAgICAgICAgICAgICAgYnVmZmVyXzEuZGVmYXVsdC5mcm9tKHRoaXMubWVtb3J5LmJ1ZmZlcikud3JpdGUoc3RhdHMuZmFrZVBhdGgsIHBhdGhQdHIsIHBhdGhMZW4sIFwidXRmOFwiKTtcbiAgICAgICAgICAgICAgICByZXR1cm4gY29uc3RhbnRzXzEuV0FTSV9FU1VDQ0VTUztcbiAgICAgICAgICAgIH0pLFxuICAgICAgICAgICAgZmRfcHdyaXRlOiB3cmFwKChmZCwgaW92cywgaW92c0xlbiwgb2Zmc2V0LCBud3JpdHRlbikgPT4ge1xuICAgICAgICAgICAgICAgIGNvbnN0IHN0YXRzID0gQ0hFQ0tfRkQoZmQsIGNvbnN0YW50c18xLldBU0lfUklHSFRfRkRfV1JJVEUgfCBjb25zdGFudHNfMS5XQVNJX1JJR0hUX0ZEX1NFRUspO1xuICAgICAgICAgICAgICAgIGxldCB3cml0dGVuID0gMDtcbiAgICAgICAgICAgICAgICBnZXRpb3ZzKGlvdnMsIGlvdnNMZW4pLmZvckVhY2goaW92ID0+IHtcbiAgICAgICAgICAgICAgICAgICAgbGV0IHcgPSAwO1xuICAgICAgICAgICAgICAgICAgICB3aGlsZSAodyA8IGlvdi5ieXRlTGVuZ3RoKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICB3ICs9IGZzLndyaXRlU3luYyhzdGF0cy5yZWFsLCBpb3YsIHcsIGlvdi5ieXRlTGVuZ3RoIC0gdywgTnVtYmVyKG9mZnNldCkgKyB3cml0dGVuICsgdyk7XG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgd3JpdHRlbiArPSB3O1xuICAgICAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgICAgIHRoaXMudmlldy5zZXRVaW50MzIobndyaXR0ZW4sIHdyaXR0ZW4sIHRydWUpO1xuICAgICAgICAgICAgICAgIHJldHVybiBjb25zdGFudHNfMS5XQVNJX0VTVUNDRVNTO1xuICAgICAgICAgICAgfSksXG4gICAgICAgICAgICBmZF93cml0ZTogd3JhcCgoZmQsIGlvdnMsIGlvdnNMZW4sIG53cml0dGVuKSA9PiB7XG4gICAgICAgICAgICAgICAgY29uc3Qgc3RhdHMgPSBDSEVDS19GRChmZCwgY29uc3RhbnRzXzEuV0FTSV9SSUdIVF9GRF9XUklURSk7XG4gICAgICAgICAgICAgICAgbGV0IHdyaXR0ZW4gPSAwO1xuICAgICAgICAgICAgICAgIGdldGlvdnMoaW92cywgaW92c0xlbikuZm9yRWFjaChpb3YgPT4ge1xuICAgICAgICAgICAgICAgICAgICBsZXQgdyA9IDA7XG4gICAgICAgICAgICAgICAgICAgIHdoaWxlICh3IDwgaW92LmJ5dGVMZW5ndGgpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIGNvbnN0IGkgPSBmcy53cml0ZVN5bmMoc3RhdHMucmVhbCwgaW92LCB3LCBpb3YuYnl0ZUxlbmd0aCAtIHcsIHN0YXRzLm9mZnNldCA/IE51bWJlcihzdGF0cy5vZmZzZXQpIDogbnVsbCk7XG4gICAgICAgICAgICAgICAgICAgICAgICBpZiAoc3RhdHMub2Zmc2V0KVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHN0YXRzLm9mZnNldCArPSBiaWdpbnRfMS5CaWdJbnRQb2x5ZmlsbChpKTtcbiAgICAgICAgICAgICAgICAgICAgICAgIHcgKz0gaTtcbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICB3cml0dGVuICs9IHc7XG4gICAgICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICAgICAgdGhpcy52aWV3LnNldFVpbnQzMihud3JpdHRlbiwgd3JpdHRlbiwgdHJ1ZSk7XG4gICAgICAgICAgICAgICAgcmV0dXJuIGNvbnN0YW50c18xLldBU0lfRVNVQ0NFU1M7XG4gICAgICAgICAgICB9KSxcbiAgICAgICAgICAgIGZkX3ByZWFkOiB3cmFwKChmZCwgaW92cywgaW92c0xlbiwgb2Zmc2V0LCBucmVhZCkgPT4ge1xuICAgICAgICAgICAgICAgIGNvbnN0IHN0YXRzID0gQ0hFQ0tfRkQoZmQsIGNvbnN0YW50c18xLldBU0lfUklHSFRfRkRfUkVBRCB8IGNvbnN0YW50c18xLldBU0lfUklHSFRfRkRfU0VFSyk7XG4gICAgICAgICAgICAgICAgbGV0IHJlYWQgPSAwO1xuICAgICAgICAgICAgICAgIG91dGVyOiBmb3IgKGNvbnN0IGlvdiBvZiBnZXRpb3ZzKGlvdnMsIGlvdnNMZW4pKSB7XG4gICAgICAgICAgICAgICAgICAgIGxldCByID0gMDtcbiAgICAgICAgICAgICAgICAgICAgd2hpbGUgKHIgPCBpb3YuYnl0ZUxlbmd0aCkge1xuICAgICAgICAgICAgICAgICAgICAgICAgY29uc3QgbGVuZ3RoID0gaW92LmJ5dGVMZW5ndGggLSByO1xuICAgICAgICAgICAgICAgICAgICAgICAgY29uc3QgcnIgPSBmcy5yZWFkU3luYyhzdGF0cy5yZWFsLCBpb3YsIHIsIGlvdi5ieXRlTGVuZ3RoIC0gciwgTnVtYmVyKG9mZnNldCkgKyByZWFkICsgcik7XG4gICAgICAgICAgICAgICAgICAgICAgICByICs9IHJyO1xuICAgICAgICAgICAgICAgICAgICAgICAgcmVhZCArPSBycjtcbiAgICAgICAgICAgICAgICAgICAgICAgIC8vIElmIHdlIGRvbid0IHJlYWQgYW55dGhpbmcsIG9yIHdlIHJlY2VpdmUgbGVzcyB0aGFuIHJlcXVlc3RlZFxuICAgICAgICAgICAgICAgICAgICAgICAgaWYgKHJyID09PSAwIHx8IHJyIDwgbGVuZ3RoKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgYnJlYWsgb3V0ZXI7XG4gICAgICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgcmVhZCArPSByO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICA7XG4gICAgICAgICAgICAgICAgdGhpcy52aWV3LnNldFVpbnQzMihucmVhZCwgcmVhZCwgdHJ1ZSk7XG4gICAgICAgICAgICAgICAgcmV0dXJuIGNvbnN0YW50c18xLldBU0lfRVNVQ0NFU1M7XG4gICAgICAgICAgICB9KSxcbiAgICAgICAgICAgIGZkX3JlYWQ6IHdyYXAoKGZkLCBpb3ZzLCBpb3ZzTGVuLCBucmVhZCkgPT4ge1xuICAgICAgICAgICAgICAgIGNvbnN0IHN0YXRzID0gQ0hFQ0tfRkQoZmQsIGNvbnN0YW50c18xLldBU0lfUklHSFRfRkRfUkVBRCk7XG4gICAgICAgICAgICAgICAgY29uc3QgSVNfU1RESU4gPSBzdGF0cy5yZWFsID09PSAwO1xuICAgICAgICAgICAgICAgIGxldCByZWFkID0gMDtcbiAgICAgICAgICAgICAgICBvdXRlcjogZm9yIChjb25zdCBpb3Ygb2YgZ2V0aW92cyhpb3ZzLCBpb3ZzTGVuKSkge1xuICAgICAgICAgICAgICAgICAgICBsZXQgciA9IDA7XG4gICAgICAgICAgICAgICAgICAgIHdoaWxlIChyIDwgaW92LmJ5dGVMZW5ndGgpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIGxldCBsZW5ndGggPSBpb3YuYnl0ZUxlbmd0aCAtIHI7XG4gICAgICAgICAgICAgICAgICAgICAgICBsZXQgcG9zaXRpb24gPSBJU19TVERJTiB8fCBzdGF0cy5vZmZzZXQgPT09IHVuZGVmaW5lZFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgID8gbnVsbFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIDogTnVtYmVyKHN0YXRzLm9mZnNldCk7XG4gICAgICAgICAgICAgICAgICAgICAgICBsZXQgcnIgPSBmcy5yZWFkU3luYyhzdGF0cy5yZWFsLCAvLyBmZFxuICAgICAgICAgICAgICAgICAgICAgICAgaW92LCAvLyBidWZmZXJcbiAgICAgICAgICAgICAgICAgICAgICAgIHIsIC8vIG9mZnNldFxuICAgICAgICAgICAgICAgICAgICAgICAgbGVuZ3RoLCAvLyBsZW5ndGhcbiAgICAgICAgICAgICAgICAgICAgICAgIHBvc2l0aW9uIC8vIHBvc2l0aW9uXG4gICAgICAgICAgICAgICAgICAgICAgICApO1xuICAgICAgICAgICAgICAgICAgICAgICAgaWYgKCFJU19TVERJTikge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHN0YXRzLm9mZnNldCA9XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIChzdGF0cy5vZmZzZXQgPyBzdGF0cy5vZmZzZXQgOiBiaWdpbnRfMS5CaWdJbnRQb2x5ZmlsbCgwKSkgKyBiaWdpbnRfMS5CaWdJbnRQb2x5ZmlsbChycik7XG4gICAgICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgICAgICByICs9IHJyO1xuICAgICAgICAgICAgICAgICAgICAgICAgcmVhZCArPSBycjtcbiAgICAgICAgICAgICAgICAgICAgICAgIC8vIElmIHdlIGRvbid0IHJlYWQgYW55dGhpbmcsIG9yIHdlIHJlY2VpdmUgbGVzcyB0aGFuIHJlcXVlc3RlZFxuICAgICAgICAgICAgICAgICAgICAgICAgaWYgKHJyID09PSAwIHx8IHJyIDwgbGVuZ3RoKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgYnJlYWsgb3V0ZXI7XG4gICAgICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgLy8gV2Ugc2hvdWxkIG5vdCBtb2RpZnkgdGhlIG9mZnNldCBvZiBzdGRpblxuICAgICAgICAgICAgICAgIHRoaXMudmlldy5zZXRVaW50MzIobnJlYWQsIHJlYWQsIHRydWUpO1xuICAgICAgICAgICAgICAgIHJldHVybiBjb25zdGFudHNfMS5XQVNJX0VTVUNDRVNTO1xuICAgICAgICAgICAgfSksXG4gICAgICAgICAgICBmZF9yZWFkZGlyOiB3cmFwKChmZCwgYnVmUHRyLCBidWZMZW4sIGNvb2tpZSwgYnVmdXNlZFB0cikgPT4ge1xuICAgICAgICAgICAgICAgIGNvbnN0IHN0YXRzID0gQ0hFQ0tfRkQoZmQsIGNvbnN0YW50c18xLldBU0lfUklHSFRfRkRfUkVBRERJUik7XG4gICAgICAgICAgICAgICAgdGhpcy5yZWZyZXNoTWVtb3J5KCk7XG4gICAgICAgICAgICAgICAgY29uc3QgZW50cmllcyA9IGZzLnJlYWRkaXJTeW5jKHN0YXRzLnBhdGgsIHsgd2l0aEZpbGVUeXBlczogdHJ1ZSB9KTtcbiAgICAgICAgICAgICAgICBjb25zdCBzdGFydFB0ciA9IGJ1ZlB0cjtcbiAgICAgICAgICAgICAgICBmb3IgKGxldCBpID0gTnVtYmVyKGNvb2tpZSk7IGkgPCBlbnRyaWVzLmxlbmd0aDsgaSArPSAxKSB7XG4gICAgICAgICAgICAgICAgICAgIGNvbnN0IGVudHJ5ID0gZW50cmllc1tpXTtcbiAgICAgICAgICAgICAgICAgICAgbGV0IG5hbWVMZW5ndGggPSBidWZmZXJfMS5kZWZhdWx0LmJ5dGVMZW5ndGgoZW50cnkubmFtZSk7XG4gICAgICAgICAgICAgICAgICAgIGlmIChidWZQdHIgLSBzdGFydFB0ciA+IGJ1Zkxlbikge1xuICAgICAgICAgICAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgdGhpcy52aWV3LnNldEJpZ1VpbnQ2NChidWZQdHIsIGJpZ2ludF8xLkJpZ0ludFBvbHlmaWxsKGkgKyAxKSwgdHJ1ZSk7XG4gICAgICAgICAgICAgICAgICAgIGJ1ZlB0ciArPSA4O1xuICAgICAgICAgICAgICAgICAgICBpZiAoYnVmUHRyIC0gc3RhcnRQdHIgPiBidWZMZW4pIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgIGNvbnN0IHJzdGF0cyA9IGZzLnN0YXRTeW5jKHBhdGgucmVzb2x2ZShzdGF0cy5wYXRoLCBlbnRyeS5uYW1lKSk7XG4gICAgICAgICAgICAgICAgICAgIHRoaXMudmlldy5zZXRCaWdVaW50NjQoYnVmUHRyLCBiaWdpbnRfMS5CaWdJbnRQb2x5ZmlsbChyc3RhdHMuaW5vKSwgdHJ1ZSk7XG4gICAgICAgICAgICAgICAgICAgIGJ1ZlB0ciArPSA4O1xuICAgICAgICAgICAgICAgICAgICBpZiAoYnVmUHRyIC0gc3RhcnRQdHIgPiBidWZMZW4pIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgIHRoaXMudmlldy5zZXRVaW50MzIoYnVmUHRyLCBuYW1lTGVuZ3RoLCB0cnVlKTtcbiAgICAgICAgICAgICAgICAgICAgYnVmUHRyICs9IDQ7XG4gICAgICAgICAgICAgICAgICAgIGlmIChidWZQdHIgLSBzdGFydFB0ciA+IGJ1Zkxlbikge1xuICAgICAgICAgICAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgbGV0IGZpbGV0eXBlO1xuICAgICAgICAgICAgICAgICAgICBzd2l0Y2ggKHRydWUpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIGNhc2UgcnN0YXRzLmlzQmxvY2tEZXZpY2UoKTpcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBmaWxldHlwZSA9IGNvbnN0YW50c18xLldBU0lfRklMRVRZUEVfQkxPQ0tfREVWSUNFO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgICAgICAgICAgICAgY2FzZSByc3RhdHMuaXNDaGFyYWN0ZXJEZXZpY2UoKTpcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBmaWxldHlwZSA9IGNvbnN0YW50c18xLldBU0lfRklMRVRZUEVfQ0hBUkFDVEVSX0RFVklDRTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICAgICAgICAgICAgICAgIGNhc2UgcnN0YXRzLmlzRGlyZWN0b3J5KCk6XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgZmlsZXR5cGUgPSBjb25zdGFudHNfMS5XQVNJX0ZJTEVUWVBFX0RJUkVDVE9SWTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICAgICAgICAgICAgICAgIGNhc2UgcnN0YXRzLmlzRklGTygpOlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGZpbGV0eXBlID0gY29uc3RhbnRzXzEuV0FTSV9GSUxFVFlQRV9TT0NLRVRfU1RSRUFNO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgICAgICAgICAgICAgY2FzZSByc3RhdHMuaXNGaWxlKCk6XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgZmlsZXR5cGUgPSBjb25zdGFudHNfMS5XQVNJX0ZJTEVUWVBFX1JFR1VMQVJfRklMRTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICAgICAgICAgICAgICAgIGNhc2UgcnN0YXRzLmlzU29ja2V0KCk6XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgZmlsZXR5cGUgPSBjb25zdGFudHNfMS5XQVNJX0ZJTEVUWVBFX1NPQ0tFVF9TVFJFQU07XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgICAgICAgICAgICAgICBjYXNlIHJzdGF0cy5pc1N5bWJvbGljTGluaygpOlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGZpbGV0eXBlID0gY29uc3RhbnRzXzEuV0FTSV9GSUxFVFlQRV9TWU1CT0xJQ19MSU5LO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgICAgICAgICAgICAgZGVmYXVsdDpcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBmaWxldHlwZSA9IGNvbnN0YW50c18xLldBU0lfRklMRVRZUEVfVU5LTk9XTjtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICB0aGlzLnZpZXcuc2V0VWludDgoYnVmUHRyLCBmaWxldHlwZSk7XG4gICAgICAgICAgICAgICAgICAgIGJ1ZlB0ciArPSAxO1xuICAgICAgICAgICAgICAgICAgICBidWZQdHIgKz0gMzsgLy8gcGFkZGluZ1xuICAgICAgICAgICAgICAgICAgICBpZiAoYnVmUHRyICsgbmFtZUxlbmd0aCA+PSBzdGFydFB0ciArIGJ1Zkxlbikge1xuICAgICAgICAgICAgICAgICAgICAgICAgLy8gSXQgZG9lc24ndCBmaXQgaW4gdGhlIGJ1ZmZlclxuICAgICAgICAgICAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgbGV0IG1lbW9yeV9idWZmZXIgPSBidWZmZXJfMS5kZWZhdWx0LmZyb20odGhpcy5tZW1vcnkuYnVmZmVyKTtcbiAgICAgICAgICAgICAgICAgICAgbWVtb3J5X2J1ZmZlci53cml0ZShlbnRyeS5uYW1lLCBidWZQdHIpO1xuICAgICAgICAgICAgICAgICAgICBidWZQdHIgKz0gbmFtZUxlbmd0aDtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgY29uc3QgYnVmdXNlZCA9IGJ1ZlB0ciAtIHN0YXJ0UHRyO1xuICAgICAgICAgICAgICAgIHRoaXMudmlldy5zZXRVaW50MzIoYnVmdXNlZFB0ciwgTWF0aC5taW4oYnVmdXNlZCwgYnVmTGVuKSwgdHJ1ZSk7XG4gICAgICAgICAgICAgICAgcmV0dXJuIGNvbnN0YW50c18xLldBU0lfRVNVQ0NFU1M7XG4gICAgICAgICAgICB9KSxcbiAgICAgICAgICAgIGZkX3JlbnVtYmVyOiB3cmFwKChmcm9tLCB0bykgPT4ge1xuICAgICAgICAgICAgICAgIENIRUNLX0ZEKGZyb20sIGJpZ2ludF8xLkJpZ0ludFBvbHlmaWxsKDApKTtcbiAgICAgICAgICAgICAgICBDSEVDS19GRCh0bywgYmlnaW50XzEuQmlnSW50UG9seWZpbGwoMCkpO1xuICAgICAgICAgICAgICAgIGZzLmNsb3NlU3luYyh0aGlzLkZEX01BUC5nZXQoZnJvbSkucmVhbCk7XG4gICAgICAgICAgICAgICAgdGhpcy5GRF9NQVAuc2V0KGZyb20sIHRoaXMuRkRfTUFQLmdldCh0bykpO1xuICAgICAgICAgICAgICAgIHRoaXMuRkRfTUFQLmRlbGV0ZSh0byk7XG4gICAgICAgICAgICAgICAgcmV0dXJuIGNvbnN0YW50c18xLldBU0lfRVNVQ0NFU1M7XG4gICAgICAgICAgICB9KSxcbiAgICAgICAgICAgIGZkX3NlZWs6IHdyYXAoKGZkLCBvZmZzZXQsIHdoZW5jZSwgbmV3T2Zmc2V0UHRyKSA9PiB7XG4gICAgICAgICAgICAgICAgY29uc3Qgc3RhdHMgPSBDSEVDS19GRChmZCwgY29uc3RhbnRzXzEuV0FTSV9SSUdIVF9GRF9TRUVLKTtcbiAgICAgICAgICAgICAgICB0aGlzLnJlZnJlc2hNZW1vcnkoKTtcbiAgICAgICAgICAgICAgICBzd2l0Y2ggKHdoZW5jZSkge1xuICAgICAgICAgICAgICAgICAgICBjYXNlIGNvbnN0YW50c18xLldBU0lfV0hFTkNFX0NVUjpcbiAgICAgICAgICAgICAgICAgICAgICAgIHN0YXRzLm9mZnNldCA9XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgKHN0YXRzLm9mZnNldCA/IHN0YXRzLm9mZnNldCA6IGJpZ2ludF8xLkJpZ0ludFBvbHlmaWxsKDApKSArIGJpZ2ludF8xLkJpZ0ludFBvbHlmaWxsKG9mZnNldCk7XG4gICAgICAgICAgICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICAgICAgICAgICAgY2FzZSBjb25zdGFudHNfMS5XQVNJX1dIRU5DRV9FTkQ6XG4gICAgICAgICAgICAgICAgICAgICAgICBjb25zdCB7IHNpemUgfSA9IGZzLmZzdGF0U3luYyhzdGF0cy5yZWFsKTtcbiAgICAgICAgICAgICAgICAgICAgICAgIHN0YXRzLm9mZnNldCA9IGJpZ2ludF8xLkJpZ0ludFBvbHlmaWxsKHNpemUpICsgYmlnaW50XzEuQmlnSW50UG9seWZpbGwob2Zmc2V0KTtcbiAgICAgICAgICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgICAgICAgICBjYXNlIGNvbnN0YW50c18xLldBU0lfV0hFTkNFX1NFVDpcbiAgICAgICAgICAgICAgICAgICAgICAgIHN0YXRzLm9mZnNldCA9IGJpZ2ludF8xLkJpZ0ludFBvbHlmaWxsKG9mZnNldCk7XG4gICAgICAgICAgICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgdGhpcy52aWV3LnNldEJpZ1VpbnQ2NChuZXdPZmZzZXRQdHIsIHN0YXRzLm9mZnNldCwgdHJ1ZSk7XG4gICAgICAgICAgICAgICAgcmV0dXJuIGNvbnN0YW50c18xLldBU0lfRVNVQ0NFU1M7XG4gICAgICAgICAgICB9KSxcbiAgICAgICAgICAgIGZkX3RlbGw6IHdyYXAoKGZkLCBvZmZzZXRQdHIpID0+IHtcbiAgICAgICAgICAgICAgICBjb25zdCBzdGF0cyA9IENIRUNLX0ZEKGZkLCBjb25zdGFudHNfMS5XQVNJX1JJR0hUX0ZEX1RFTEwpO1xuICAgICAgICAgICAgICAgIHRoaXMucmVmcmVzaE1lbW9yeSgpO1xuICAgICAgICAgICAgICAgIGlmICghc3RhdHMub2Zmc2V0KSB7XG4gICAgICAgICAgICAgICAgICAgIHN0YXRzLm9mZnNldCA9IGJpZ2ludF8xLkJpZ0ludFBvbHlmaWxsKDApO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICB0aGlzLnZpZXcuc2V0QmlnVWludDY0KG9mZnNldFB0ciwgc3RhdHMub2Zmc2V0LCB0cnVlKTtcbiAgICAgICAgICAgICAgICByZXR1cm4gY29uc3RhbnRzXzEuV0FTSV9FU1VDQ0VTUztcbiAgICAgICAgICAgIH0pLFxuICAgICAgICAgICAgZmRfc3luYzogd3JhcCgoZmQpID0+IHtcbiAgICAgICAgICAgICAgICBjb25zdCBzdGF0cyA9IENIRUNLX0ZEKGZkLCBjb25zdGFudHNfMS5XQVNJX1JJR0hUX0ZEX1NZTkMpO1xuICAgICAgICAgICAgICAgIGZzLmZzeW5jU3luYyhzdGF0cy5yZWFsKTtcbiAgICAgICAgICAgICAgICByZXR1cm4gY29uc3RhbnRzXzEuV0FTSV9FU1VDQ0VTUztcbiAgICAgICAgICAgIH0pLFxuICAgICAgICAgICAgcGF0aF9jcmVhdGVfZGlyZWN0b3J5OiB3cmFwKChmZCwgcGF0aFB0ciwgcGF0aExlbikgPT4ge1xuICAgICAgICAgICAgICAgIGNvbnN0IHN0YXRzID0gQ0hFQ0tfRkQoZmQsIGNvbnN0YW50c18xLldBU0lfUklHSFRfUEFUSF9DUkVBVEVfRElSRUNUT1JZKTtcbiAgICAgICAgICAgICAgICBpZiAoIXN0YXRzLnBhdGgpIHtcbiAgICAgICAgICAgICAgICAgICAgcmV0dXJuIGNvbnN0YW50c18xLldBU0lfRUlOVkFMO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICB0aGlzLnJlZnJlc2hNZW1vcnkoKTtcbiAgICAgICAgICAgICAgICBjb25zdCBwID0gYnVmZmVyXzEuZGVmYXVsdC5mcm9tKHRoaXMubWVtb3J5LmJ1ZmZlciwgcGF0aFB0ciwgcGF0aExlbikudG9TdHJpbmcoKTtcbiAgICAgICAgICAgICAgICBmcy5ta2RpclN5bmMocGF0aC5yZXNvbHZlKHN0YXRzLnBhdGgsIHApKTtcbiAgICAgICAgICAgICAgICByZXR1cm4gY29uc3RhbnRzXzEuV0FTSV9FU1VDQ0VTUztcbiAgICAgICAgICAgIH0pLFxuICAgICAgICAgICAgcGF0aF9maWxlc3RhdF9nZXQ6IHdyYXAoKGZkLCBmbGFncywgcGF0aFB0ciwgcGF0aExlbiwgYnVmUHRyKSA9PiB7XG4gICAgICAgICAgICAgICAgY29uc3Qgc3RhdHMgPSBDSEVDS19GRChmZCwgY29uc3RhbnRzXzEuV0FTSV9SSUdIVF9QQVRIX0ZJTEVTVEFUX0dFVCk7XG4gICAgICAgICAgICAgICAgaWYgKCFzdGF0cy5wYXRoKSB7XG4gICAgICAgICAgICAgICAgICAgIHJldHVybiBjb25zdGFudHNfMS5XQVNJX0VJTlZBTDtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgdGhpcy5yZWZyZXNoTWVtb3J5KCk7XG4gICAgICAgICAgICAgICAgY29uc3QgcCA9IGJ1ZmZlcl8xLmRlZmF1bHQuZnJvbSh0aGlzLm1lbW9yeS5idWZmZXIsIHBhdGhQdHIsIHBhdGhMZW4pLnRvU3RyaW5nKCk7XG4gICAgICAgICAgICAgICAgY29uc3QgcnN0YXRzID0gZnMuc3RhdFN5bmMocGF0aC5yZXNvbHZlKHN0YXRzLnBhdGgsIHApKTtcbiAgICAgICAgICAgICAgICB0aGlzLnZpZXcuc2V0QmlnVWludDY0KGJ1ZlB0ciwgYmlnaW50XzEuQmlnSW50UG9seWZpbGwocnN0YXRzLmRldiksIHRydWUpO1xuICAgICAgICAgICAgICAgIGJ1ZlB0ciArPSA4O1xuICAgICAgICAgICAgICAgIHRoaXMudmlldy5zZXRCaWdVaW50NjQoYnVmUHRyLCBiaWdpbnRfMS5CaWdJbnRQb2x5ZmlsbChyc3RhdHMuaW5vKSwgdHJ1ZSk7XG4gICAgICAgICAgICAgICAgYnVmUHRyICs9IDg7XG4gICAgICAgICAgICAgICAgdGhpcy52aWV3LnNldFVpbnQ4KGJ1ZlB0ciwgdHJhbnNsYXRlRmlsZUF0dHJpYnV0ZXModGhpcywgdW5kZWZpbmVkLCByc3RhdHMpLmZpbGV0eXBlKTtcbiAgICAgICAgICAgICAgICBidWZQdHIgKz0gODtcbiAgICAgICAgICAgICAgICB0aGlzLnZpZXcuc2V0QmlnVWludDY0KGJ1ZlB0ciwgYmlnaW50XzEuQmlnSW50UG9seWZpbGwocnN0YXRzLm5saW5rKSwgdHJ1ZSk7XG4gICAgICAgICAgICAgICAgYnVmUHRyICs9IDg7XG4gICAgICAgICAgICAgICAgdGhpcy52aWV3LnNldEJpZ1VpbnQ2NChidWZQdHIsIGJpZ2ludF8xLkJpZ0ludFBvbHlmaWxsKHJzdGF0cy5zaXplKSwgdHJ1ZSk7XG4gICAgICAgICAgICAgICAgYnVmUHRyICs9IDg7XG4gICAgICAgICAgICAgICAgdGhpcy52aWV3LnNldEJpZ1VpbnQ2NChidWZQdHIsIG1zVG9Ocyhyc3RhdHMuYXRpbWVNcyksIHRydWUpO1xuICAgICAgICAgICAgICAgIGJ1ZlB0ciArPSA4O1xuICAgICAgICAgICAgICAgIHRoaXMudmlldy5zZXRCaWdVaW50NjQoYnVmUHRyLCBtc1RvTnMocnN0YXRzLm10aW1lTXMpLCB0cnVlKTtcbiAgICAgICAgICAgICAgICBidWZQdHIgKz0gODtcbiAgICAgICAgICAgICAgICB0aGlzLnZpZXcuc2V0QmlnVWludDY0KGJ1ZlB0ciwgbXNUb05zKHJzdGF0cy5jdGltZU1zKSwgdHJ1ZSk7XG4gICAgICAgICAgICAgICAgcmV0dXJuIGNvbnN0YW50c18xLldBU0lfRVNVQ0NFU1M7XG4gICAgICAgICAgICB9KSxcbiAgICAgICAgICAgIHBhdGhfZmlsZXN0YXRfc2V0X3RpbWVzOiB3cmFwKChmZCwgZGlyZmxhZ3MsIHBhdGhQdHIsIHBhdGhMZW4sIHN0QXRpbSwgc3RNdGltLCBmc3RmbGFncykgPT4ge1xuICAgICAgICAgICAgICAgIGNvbnN0IHN0YXRzID0gQ0hFQ0tfRkQoZmQsIGNvbnN0YW50c18xLldBU0lfUklHSFRfUEFUSF9GSUxFU1RBVF9TRVRfVElNRVMpO1xuICAgICAgICAgICAgICAgIGlmICghc3RhdHMucGF0aCkge1xuICAgICAgICAgICAgICAgICAgICByZXR1cm4gY29uc3RhbnRzXzEuV0FTSV9FSU5WQUw7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIHRoaXMucmVmcmVzaE1lbW9yeSgpO1xuICAgICAgICAgICAgICAgIGNvbnN0IHJzdGF0cyA9IGZzLmZzdGF0U3luYyhzdGF0cy5yZWFsKTtcbiAgICAgICAgICAgICAgICBsZXQgYXRpbSA9IHJzdGF0cy5hdGltZTtcbiAgICAgICAgICAgICAgICBsZXQgbXRpbSA9IHJzdGF0cy5tdGltZTtcbiAgICAgICAgICAgICAgICBjb25zdCBuID0gbnNUb01zKG5vdyhjb25zdGFudHNfMS5XQVNJX0NMT0NLX1JFQUxUSU1FKSk7XG4gICAgICAgICAgICAgICAgY29uc3QgYXRpbWZsYWdzID0gY29uc3RhbnRzXzEuV0FTSV9GSUxFU1RBVF9TRVRfQVRJTSB8IGNvbnN0YW50c18xLldBU0lfRklMRVNUQVRfU0VUX0FUSU1fTk9XO1xuICAgICAgICAgICAgICAgIGlmICgoZnN0ZmxhZ3MgJiBhdGltZmxhZ3MpID09PSBhdGltZmxhZ3MpIHtcbiAgICAgICAgICAgICAgICAgICAgcmV0dXJuIGNvbnN0YW50c18xLldBU0lfRUlOVkFMO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICBjb25zdCBtdGltZmxhZ3MgPSBjb25zdGFudHNfMS5XQVNJX0ZJTEVTVEFUX1NFVF9NVElNIHwgY29uc3RhbnRzXzEuV0FTSV9GSUxFU1RBVF9TRVRfTVRJTV9OT1c7XG4gICAgICAgICAgICAgICAgaWYgKChmc3RmbGFncyAmIG10aW1mbGFncykgPT09IG10aW1mbGFncykge1xuICAgICAgICAgICAgICAgICAgICByZXR1cm4gY29uc3RhbnRzXzEuV0FTSV9FSU5WQUw7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIGlmICgoZnN0ZmxhZ3MgJiBjb25zdGFudHNfMS5XQVNJX0ZJTEVTVEFUX1NFVF9BVElNKSA9PT0gY29uc3RhbnRzXzEuV0FTSV9GSUxFU1RBVF9TRVRfQVRJTSkge1xuICAgICAgICAgICAgICAgICAgICBhdGltID0gbnNUb01zKHN0QXRpbSk7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIGVsc2UgaWYgKChmc3RmbGFncyAmIGNvbnN0YW50c18xLldBU0lfRklMRVNUQVRfU0VUX0FUSU1fTk9XKSA9PT0gY29uc3RhbnRzXzEuV0FTSV9GSUxFU1RBVF9TRVRfQVRJTV9OT1cpIHtcbiAgICAgICAgICAgICAgICAgICAgYXRpbSA9IG47XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIGlmICgoZnN0ZmxhZ3MgJiBjb25zdGFudHNfMS5XQVNJX0ZJTEVTVEFUX1NFVF9NVElNKSA9PT0gY29uc3RhbnRzXzEuV0FTSV9GSUxFU1RBVF9TRVRfTVRJTSkge1xuICAgICAgICAgICAgICAgICAgICBtdGltID0gbnNUb01zKHN0TXRpbSk7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIGVsc2UgaWYgKChmc3RmbGFncyAmIGNvbnN0YW50c18xLldBU0lfRklMRVNUQVRfU0VUX01USU1fTk9XKSA9PT0gY29uc3RhbnRzXzEuV0FTSV9GSUxFU1RBVF9TRVRfTVRJTV9OT1cpIHtcbiAgICAgICAgICAgICAgICAgICAgbXRpbSA9IG47XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIGNvbnN0IHAgPSBidWZmZXJfMS5kZWZhdWx0LmZyb20odGhpcy5tZW1vcnkuYnVmZmVyLCBwYXRoUHRyLCBwYXRoTGVuKS50b1N0cmluZygpO1xuICAgICAgICAgICAgICAgIGZzLnV0aW1lc1N5bmMocGF0aC5yZXNvbHZlKHN0YXRzLnBhdGgsIHApLCBuZXcgRGF0ZShhdGltKSwgbmV3IERhdGUobXRpbSkpO1xuICAgICAgICAgICAgICAgIHJldHVybiBjb25zdGFudHNfMS5XQVNJX0VTVUNDRVNTO1xuICAgICAgICAgICAgfSksXG4gICAgICAgICAgICBwYXRoX2xpbms6IHdyYXAoKG9sZEZkLCBvbGRGbGFncywgb2xkUGF0aCwgb2xkUGF0aExlbiwgbmV3RmQsIG5ld1BhdGgsIG5ld1BhdGhMZW4pID0+IHtcbiAgICAgICAgICAgICAgICBjb25zdCBvc3RhdHMgPSBDSEVDS19GRChvbGRGZCwgY29uc3RhbnRzXzEuV0FTSV9SSUdIVF9QQVRIX0xJTktfU09VUkNFKTtcbiAgICAgICAgICAgICAgICBjb25zdCBuc3RhdHMgPSBDSEVDS19GRChuZXdGZCwgY29uc3RhbnRzXzEuV0FTSV9SSUdIVF9QQVRIX0xJTktfVEFSR0VUKTtcbiAgICAgICAgICAgICAgICBpZiAoIW9zdGF0cy5wYXRoIHx8ICFuc3RhdHMucGF0aCkge1xuICAgICAgICAgICAgICAgICAgICByZXR1cm4gY29uc3RhbnRzXzEuV0FTSV9FSU5WQUw7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIHRoaXMucmVmcmVzaE1lbW9yeSgpO1xuICAgICAgICAgICAgICAgIGNvbnN0IG9wID0gYnVmZmVyXzEuZGVmYXVsdC5mcm9tKHRoaXMubWVtb3J5LmJ1ZmZlciwgb2xkUGF0aCwgb2xkUGF0aExlbikudG9TdHJpbmcoKTtcbiAgICAgICAgICAgICAgICBjb25zdCBucCA9IGJ1ZmZlcl8xLmRlZmF1bHQuZnJvbSh0aGlzLm1lbW9yeS5idWZmZXIsIG5ld1BhdGgsIG5ld1BhdGhMZW4pLnRvU3RyaW5nKCk7XG4gICAgICAgICAgICAgICAgZnMubGlua1N5bmMocGF0aC5yZXNvbHZlKG9zdGF0cy5wYXRoLCBvcCksIHBhdGgucmVzb2x2ZShuc3RhdHMucGF0aCwgbnApKTtcbiAgICAgICAgICAgICAgICByZXR1cm4gY29uc3RhbnRzXzEuV0FTSV9FU1VDQ0VTUztcbiAgICAgICAgICAgIH0pLFxuICAgICAgICAgICAgcGF0aF9vcGVuOiB3cmFwKChkaXJmZCwgZGlyZmxhZ3MsIHBhdGhQdHIsIHBhdGhMZW4sIG9mbGFncywgZnNSaWdodHNCYXNlLCBmc1JpZ2h0c0luaGVyaXRpbmcsIGZzRmxhZ3MsIGZkKSA9PiB7XG4gICAgICAgICAgICAgICAgY29uc3Qgc3RhdHMgPSBDSEVDS19GRChkaXJmZCwgY29uc3RhbnRzXzEuV0FTSV9SSUdIVF9QQVRIX09QRU4pO1xuICAgICAgICAgICAgICAgIGZzUmlnaHRzQmFzZSA9IGJpZ2ludF8xLkJpZ0ludFBvbHlmaWxsKGZzUmlnaHRzQmFzZSk7XG4gICAgICAgICAgICAgICAgZnNSaWdodHNJbmhlcml0aW5nID0gYmlnaW50XzEuQmlnSW50UG9seWZpbGwoZnNSaWdodHNJbmhlcml0aW5nKTtcbiAgICAgICAgICAgICAgICBjb25zdCByZWFkID0gKGZzUmlnaHRzQmFzZSAmIChjb25zdGFudHNfMS5XQVNJX1JJR0hUX0ZEX1JFQUQgfCBjb25zdGFudHNfMS5XQVNJX1JJR0hUX0ZEX1JFQURESVIpKSAhPT1cbiAgICAgICAgICAgICAgICAgICAgYmlnaW50XzEuQmlnSW50UG9seWZpbGwoMCk7XG4gICAgICAgICAgICAgICAgY29uc3Qgd3JpdGUgPSAoZnNSaWdodHNCYXNlICZcbiAgICAgICAgICAgICAgICAgICAgKGNvbnN0YW50c18xLldBU0lfUklHSFRfRkRfREFUQVNZTkMgfFxuICAgICAgICAgICAgICAgICAgICAgICAgY29uc3RhbnRzXzEuV0FTSV9SSUdIVF9GRF9XUklURSB8XG4gICAgICAgICAgICAgICAgICAgICAgICBjb25zdGFudHNfMS5XQVNJX1JJR0hUX0ZEX0FMTE9DQVRFIHxcbiAgICAgICAgICAgICAgICAgICAgICAgIGNvbnN0YW50c18xLldBU0lfUklHSFRfRkRfRklMRVNUQVRfU0VUX1NJWkUpKSAhPT1cbiAgICAgICAgICAgICAgICAgICAgYmlnaW50XzEuQmlnSW50UG9seWZpbGwoMCk7XG4gICAgICAgICAgICAgICAgbGV0IG5vZmxhZ3M7XG4gICAgICAgICAgICAgICAgaWYgKHdyaXRlICYmIHJlYWQpIHtcbiAgICAgICAgICAgICAgICAgICAgbm9mbGFncyA9IGZzLmNvbnN0YW50cy5PX1JEV1I7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIGVsc2UgaWYgKHJlYWQpIHtcbiAgICAgICAgICAgICAgICAgICAgbm9mbGFncyA9IGZzLmNvbnN0YW50cy5PX1JET05MWTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgZWxzZSBpZiAod3JpdGUpIHtcbiAgICAgICAgICAgICAgICAgICAgbm9mbGFncyA9IGZzLmNvbnN0YW50cy5PX1dST05MWTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgLy8gZnNSaWdodHNCYXNlIGlzIG5lZWRlZCBoZXJlIGJ1dCBwZXJoYXBzIHdlIHNob3VsZCBkbyBpdCBpbiBuZWVkZWRJbmhlcml0aW5nXG4gICAgICAgICAgICAgICAgbGV0IG5lZWRlZEJhc2UgPSBmc1JpZ2h0c0Jhc2UgfCBjb25zdGFudHNfMS5XQVNJX1JJR0hUX1BBVEhfT1BFTjtcbiAgICAgICAgICAgICAgICBsZXQgbmVlZGVkSW5oZXJpdGluZyA9IGZzUmlnaHRzQmFzZSB8IGZzUmlnaHRzSW5oZXJpdGluZztcbiAgICAgICAgICAgICAgICBpZiAoKG9mbGFncyAmIGNvbnN0YW50c18xLldBU0lfT19DUkVBVCkgIT09IDApIHtcbiAgICAgICAgICAgICAgICAgICAgbm9mbGFncyB8PSBmcy5jb25zdGFudHMuT19DUkVBVDtcbiAgICAgICAgICAgICAgICAgICAgbmVlZGVkQmFzZSB8PSBjb25zdGFudHNfMS5XQVNJX1JJR0hUX1BBVEhfQ1JFQVRFX0ZJTEU7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIGlmICgob2ZsYWdzICYgY29uc3RhbnRzXzEuV0FTSV9PX0RJUkVDVE9SWSkgIT09IDApIHtcbiAgICAgICAgICAgICAgICAgICAgbm9mbGFncyB8PSBmcy5jb25zdGFudHMuT19ESVJFQ1RPUlk7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIGlmICgob2ZsYWdzICYgY29uc3RhbnRzXzEuV0FTSV9PX0VYQ0wpICE9PSAwKSB7XG4gICAgICAgICAgICAgICAgICAgIG5vZmxhZ3MgfD0gZnMuY29uc3RhbnRzLk9fRVhDTDtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgaWYgKChvZmxhZ3MgJiBjb25zdGFudHNfMS5XQVNJX09fVFJVTkMpICE9PSAwKSB7XG4gICAgICAgICAgICAgICAgICAgIG5vZmxhZ3MgfD0gZnMuY29uc3RhbnRzLk9fVFJVTkM7XG4gICAgICAgICAgICAgICAgICAgIG5lZWRlZEJhc2UgfD0gY29uc3RhbnRzXzEuV0FTSV9SSUdIVF9QQVRIX0ZJTEVTVEFUX1NFVF9TSVpFO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAvLyBDb252ZXJ0IGZpbGUgZGVzY3JpcHRvciBmbGFncy5cbiAgICAgICAgICAgICAgICBpZiAoKGZzRmxhZ3MgJiBjb25zdGFudHNfMS5XQVNJX0ZERkxBR19BUFBFTkQpICE9PSAwKSB7XG4gICAgICAgICAgICAgICAgICAgIG5vZmxhZ3MgfD0gZnMuY29uc3RhbnRzLk9fQVBQRU5EO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICBpZiAoKGZzRmxhZ3MgJiBjb25zdGFudHNfMS5XQVNJX0ZERkxBR19EU1lOQykgIT09IDApIHtcbiAgICAgICAgICAgICAgICAgICAgaWYgKGZzLmNvbnN0YW50cy5PX0RTWU5DKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICBub2ZsYWdzIHw9IGZzLmNvbnN0YW50cy5PX0RTWU5DO1xuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgIGVsc2Uge1xuICAgICAgICAgICAgICAgICAgICAgICAgbm9mbGFncyB8PSBmcy5jb25zdGFudHMuT19TWU5DO1xuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgIG5lZWRlZEluaGVyaXRpbmcgfD0gY29uc3RhbnRzXzEuV0FTSV9SSUdIVF9GRF9EQVRBU1lOQztcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgaWYgKChmc0ZsYWdzICYgY29uc3RhbnRzXzEuV0FTSV9GREZMQUdfTk9OQkxPQ0spICE9PSAwKSB7XG4gICAgICAgICAgICAgICAgICAgIG5vZmxhZ3MgfD0gZnMuY29uc3RhbnRzLk9fTk9OQkxPQ0s7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIGlmICgoZnNGbGFncyAmIGNvbnN0YW50c18xLldBU0lfRkRGTEFHX1JTWU5DKSAhPT0gMCkge1xuICAgICAgICAgICAgICAgICAgICBpZiAoZnMuY29uc3RhbnRzLk9fUlNZTkMpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIG5vZmxhZ3MgfD0gZnMuY29uc3RhbnRzLk9fUlNZTkM7XG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgZWxzZSB7XG4gICAgICAgICAgICAgICAgICAgICAgICBub2ZsYWdzIHw9IGZzLmNvbnN0YW50cy5PX1NZTkM7XG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgbmVlZGVkSW5oZXJpdGluZyB8PSBjb25zdGFudHNfMS5XQVNJX1JJR0hUX0ZEX1NZTkM7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIGlmICgoZnNGbGFncyAmIGNvbnN0YW50c18xLldBU0lfRkRGTEFHX1NZTkMpICE9PSAwKSB7XG4gICAgICAgICAgICAgICAgICAgIG5vZmxhZ3MgfD0gZnMuY29uc3RhbnRzLk9fU1lOQztcbiAgICAgICAgICAgICAgICAgICAgbmVlZGVkSW5oZXJpdGluZyB8PSBjb25zdGFudHNfMS5XQVNJX1JJR0hUX0ZEX1NZTkM7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIGlmICh3cml0ZSAmJlxuICAgICAgICAgICAgICAgICAgICAobm9mbGFncyAmIChmcy5jb25zdGFudHMuT19BUFBFTkQgfCBmcy5jb25zdGFudHMuT19UUlVOQykpID09PSAwKSB7XG4gICAgICAgICAgICAgICAgICAgIG5lZWRlZEluaGVyaXRpbmcgfD0gY29uc3RhbnRzXzEuV0FTSV9SSUdIVF9GRF9TRUVLO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICB0aGlzLnJlZnJlc2hNZW1vcnkoKTtcbiAgICAgICAgICAgICAgICBjb25zdCBwID0gYnVmZmVyXzEuZGVmYXVsdC5mcm9tKHRoaXMubWVtb3J5LmJ1ZmZlciwgcGF0aFB0ciwgcGF0aExlbikudG9TdHJpbmcoKTtcbiAgICAgICAgICAgICAgICBjb25zdCBmdWxsVW5yZXNvbHZlZCA9IHBhdGgucmVzb2x2ZShzdGF0cy5wYXRoLCBwKTtcbiAgICAgICAgICAgICAgICBpZiAocGF0aC5yZWxhdGl2ZShzdGF0cy5wYXRoLCBmdWxsVW5yZXNvbHZlZCkuc3RhcnRzV2l0aChcIi4uXCIpKSB7XG4gICAgICAgICAgICAgICAgICAgIHJldHVybiBjb25zdGFudHNfMS5XQVNJX0VOT1RDQVBBQkxFO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICBsZXQgZnVsbDtcbiAgICAgICAgICAgICAgICB0cnkge1xuICAgICAgICAgICAgICAgICAgICBmdWxsID0gZnMucmVhbHBhdGhTeW5jKGZ1bGxVbnJlc29sdmVkKTtcbiAgICAgICAgICAgICAgICAgICAgaWYgKHBhdGgucmVsYXRpdmUoc3RhdHMucGF0aCwgZnVsbCkuc3RhcnRzV2l0aChcIi4uXCIpKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICByZXR1cm4gY29uc3RhbnRzXzEuV0FTSV9FTk9UQ0FQQUJMRTtcbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICBjYXRjaCAoZSkge1xuICAgICAgICAgICAgICAgICAgICBpZiAoZS5jb2RlID09PSBcIkVOT0VOVFwiKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICBmdWxsID0gZnVsbFVucmVzb2x2ZWQ7XG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgZWxzZSB7XG4gICAgICAgICAgICAgICAgICAgICAgICB0aHJvdyBlO1xuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIC8qIGNoZWNrIGlmIHRoZSBmaWxlIGlzIGEgZGlyZWN0b3J5ICh1bmxlc3Mgb3BlbmluZyBmb3Igd3JpdGUsXG4gICAgICAgICAgICAgICAgICogaW4gd2hpY2ggY2FzZSB0aGUgZmlsZSBtYXkgbm90IGV4aXN0IGFuZCBzaG91bGQgYmUgY3JlYXRlZCkgKi9cbiAgICAgICAgICAgICAgICBsZXQgaXNEaXJlY3Rvcnk7XG4gICAgICAgICAgICAgICAgdHJ5IHtcbiAgICAgICAgICAgICAgICAgICAgaXNEaXJlY3RvcnkgPSBmcy5zdGF0U3luYyhmdWxsKS5pc0RpcmVjdG9yeSgpO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICBjYXRjaCAoZSkgeyB9XG4gICAgICAgICAgICAgICAgbGV0IHJlYWxmZDtcbiAgICAgICAgICAgICAgICBpZiAoIXdyaXRlICYmIGlzRGlyZWN0b3J5KSB7XG4gICAgICAgICAgICAgICAgICAgIHJlYWxmZCA9IGZzLm9wZW5TeW5jKGZ1bGwsIGZzLmNvbnN0YW50cy5PX1JET05MWSk7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIGVsc2Uge1xuICAgICAgICAgICAgICAgICAgICByZWFsZmQgPSBmcy5vcGVuU3luYyhmdWxsLCBub2ZsYWdzKTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgY29uc3QgbmV3ZmQgPSBbLi4udGhpcy5GRF9NQVAua2V5cygpXS5yZXZlcnNlKClbMF0gKyAxO1xuICAgICAgICAgICAgICAgIHRoaXMuRkRfTUFQLnNldChuZXdmZCwge1xuICAgICAgICAgICAgICAgICAgICByZWFsOiByZWFsZmQsXG4gICAgICAgICAgICAgICAgICAgIGZpbGV0eXBlOiB1bmRlZmluZWQsXG4gICAgICAgICAgICAgICAgICAgIC8vIG9mZnNldDogQmlnSW50KDApLFxuICAgICAgICAgICAgICAgICAgICByaWdodHM6IHtcbiAgICAgICAgICAgICAgICAgICAgICAgIGJhc2U6IG5lZWRlZEJhc2UsXG4gICAgICAgICAgICAgICAgICAgICAgICBpbmhlcml0aW5nOiBuZWVkZWRJbmhlcml0aW5nXG4gICAgICAgICAgICAgICAgICAgIH0sXG4gICAgICAgICAgICAgICAgICAgIHBhdGg6IGZ1bGxcbiAgICAgICAgICAgICAgICB9KTtcbiAgICAgICAgICAgICAgICBzdGF0KHRoaXMsIG5ld2ZkKTtcbiAgICAgICAgICAgICAgICB0aGlzLnZpZXcuc2V0VWludDMyKGZkLCBuZXdmZCwgdHJ1ZSk7XG4gICAgICAgICAgICAgICAgcmV0dXJuIGNvbnN0YW50c18xLldBU0lfRVNVQ0NFU1M7XG4gICAgICAgICAgICB9KSxcbiAgICAgICAgICAgIHBhdGhfcmVhZGxpbms6IHdyYXAoKGZkLCBwYXRoUHRyLCBwYXRoTGVuLCBidWYsIGJ1ZkxlbiwgYnVmdXNlZCkgPT4ge1xuICAgICAgICAgICAgICAgIGNvbnN0IHN0YXRzID0gQ0hFQ0tfRkQoZmQsIGNvbnN0YW50c18xLldBU0lfUklHSFRfUEFUSF9SRUFETElOSyk7XG4gICAgICAgICAgICAgICAgaWYgKCFzdGF0cy5wYXRoKSB7XG4gICAgICAgICAgICAgICAgICAgIHJldHVybiBjb25zdGFudHNfMS5XQVNJX0VJTlZBTDtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgdGhpcy5yZWZyZXNoTWVtb3J5KCk7XG4gICAgICAgICAgICAgICAgY29uc3QgcCA9IGJ1ZmZlcl8xLmRlZmF1bHQuZnJvbSh0aGlzLm1lbW9yeS5idWZmZXIsIHBhdGhQdHIsIHBhdGhMZW4pLnRvU3RyaW5nKCk7XG4gICAgICAgICAgICAgICAgY29uc3QgZnVsbCA9IHBhdGgucmVzb2x2ZShzdGF0cy5wYXRoLCBwKTtcbiAgICAgICAgICAgICAgICBjb25zdCByID0gZnMucmVhZGxpbmtTeW5jKGZ1bGwpO1xuICAgICAgICAgICAgICAgIGNvbnN0IHVzZWQgPSBidWZmZXJfMS5kZWZhdWx0LmZyb20odGhpcy5tZW1vcnkuYnVmZmVyKS53cml0ZShyLCBidWYsIGJ1Zkxlbik7XG4gICAgICAgICAgICAgICAgdGhpcy52aWV3LnNldFVpbnQzMihidWZ1c2VkLCB1c2VkLCB0cnVlKTtcbiAgICAgICAgICAgICAgICByZXR1cm4gY29uc3RhbnRzXzEuV0FTSV9FU1VDQ0VTUztcbiAgICAgICAgICAgIH0pLFxuICAgICAgICAgICAgcGF0aF9yZW1vdmVfZGlyZWN0b3J5OiB3cmFwKChmZCwgcGF0aFB0ciwgcGF0aExlbikgPT4ge1xuICAgICAgICAgICAgICAgIGNvbnN0IHN0YXRzID0gQ0hFQ0tfRkQoZmQsIGNvbnN0YW50c18xLldBU0lfUklHSFRfUEFUSF9SRU1PVkVfRElSRUNUT1JZKTtcbiAgICAgICAgICAgICAgICBpZiAoIXN0YXRzLnBhdGgpIHtcbiAgICAgICAgICAgICAgICAgICAgcmV0dXJuIGNvbnN0YW50c18xLldBU0lfRUlOVkFMO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICB0aGlzLnJlZnJlc2hNZW1vcnkoKTtcbiAgICAgICAgICAgICAgICBjb25zdCBwID0gYnVmZmVyXzEuZGVmYXVsdC5mcm9tKHRoaXMubWVtb3J5LmJ1ZmZlciwgcGF0aFB0ciwgcGF0aExlbikudG9TdHJpbmcoKTtcbiAgICAgICAgICAgICAgICBmcy5ybWRpclN5bmMocGF0aC5yZXNvbHZlKHN0YXRzLnBhdGgsIHApKTtcbiAgICAgICAgICAgICAgICByZXR1cm4gY29uc3RhbnRzXzEuV0FTSV9FU1VDQ0VTUztcbiAgICAgICAgICAgIH0pLFxuICAgICAgICAgICAgcGF0aF9yZW5hbWU6IHdyYXAoKG9sZEZkLCBvbGRQYXRoLCBvbGRQYXRoTGVuLCBuZXdGZCwgbmV3UGF0aCwgbmV3UGF0aExlbikgPT4ge1xuICAgICAgICAgICAgICAgIGNvbnN0IG9zdGF0cyA9IENIRUNLX0ZEKG9sZEZkLCBjb25zdGFudHNfMS5XQVNJX1JJR0hUX1BBVEhfUkVOQU1FX1NPVVJDRSk7XG4gICAgICAgICAgICAgICAgY29uc3QgbnN0YXRzID0gQ0hFQ0tfRkQobmV3RmQsIGNvbnN0YW50c18xLldBU0lfUklHSFRfUEFUSF9SRU5BTUVfVEFSR0VUKTtcbiAgICAgICAgICAgICAgICBpZiAoIW9zdGF0cy5wYXRoIHx8ICFuc3RhdHMucGF0aCkge1xuICAgICAgICAgICAgICAgICAgICByZXR1cm4gY29uc3RhbnRzXzEuV0FTSV9FSU5WQUw7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIHRoaXMucmVmcmVzaE1lbW9yeSgpO1xuICAgICAgICAgICAgICAgIGNvbnN0IG9wID0gYnVmZmVyXzEuZGVmYXVsdC5mcm9tKHRoaXMubWVtb3J5LmJ1ZmZlciwgb2xkUGF0aCwgb2xkUGF0aExlbikudG9TdHJpbmcoKTtcbiAgICAgICAgICAgICAgICBjb25zdCBucCA9IGJ1ZmZlcl8xLmRlZmF1bHQuZnJvbSh0aGlzLm1lbW9yeS5idWZmZXIsIG5ld1BhdGgsIG5ld1BhdGhMZW4pLnRvU3RyaW5nKCk7XG4gICAgICAgICAgICAgICAgZnMucmVuYW1lU3luYyhwYXRoLnJlc29sdmUob3N0YXRzLnBhdGgsIG9wKSwgcGF0aC5yZXNvbHZlKG5zdGF0cy5wYXRoLCBucCkpO1xuICAgICAgICAgICAgICAgIHJldHVybiBjb25zdGFudHNfMS5XQVNJX0VTVUNDRVNTO1xuICAgICAgICAgICAgfSksXG4gICAgICAgICAgICBwYXRoX3N5bWxpbms6IHdyYXAoKG9sZFBhdGgsIG9sZFBhdGhMZW4sIGZkLCBuZXdQYXRoLCBuZXdQYXRoTGVuKSA9PiB7XG4gICAgICAgICAgICAgICAgY29uc3Qgc3RhdHMgPSBDSEVDS19GRChmZCwgY29uc3RhbnRzXzEuV0FTSV9SSUdIVF9QQVRIX1NZTUxJTkspO1xuICAgICAgICAgICAgICAgIGlmICghc3RhdHMucGF0aCkge1xuICAgICAgICAgICAgICAgICAgICByZXR1cm4gY29uc3RhbnRzXzEuV0FTSV9FSU5WQUw7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIHRoaXMucmVmcmVzaE1lbW9yeSgpO1xuICAgICAgICAgICAgICAgIGNvbnN0IG9wID0gYnVmZmVyXzEuZGVmYXVsdC5mcm9tKHRoaXMubWVtb3J5LmJ1ZmZlciwgb2xkUGF0aCwgb2xkUGF0aExlbikudG9TdHJpbmcoKTtcbiAgICAgICAgICAgICAgICBjb25zdCBucCA9IGJ1ZmZlcl8xLmRlZmF1bHQuZnJvbSh0aGlzLm1lbW9yeS5idWZmZXIsIG5ld1BhdGgsIG5ld1BhdGhMZW4pLnRvU3RyaW5nKCk7XG4gICAgICAgICAgICAgICAgZnMuc3ltbGlua1N5bmMob3AsIHBhdGgucmVzb2x2ZShzdGF0cy5wYXRoLCBucCkpO1xuICAgICAgICAgICAgICAgIHJldHVybiBjb25zdGFudHNfMS5XQVNJX0VTVUNDRVNTO1xuICAgICAgICAgICAgfSksXG4gICAgICAgICAgICBwYXRoX3VubGlua19maWxlOiB3cmFwKChmZCwgcGF0aFB0ciwgcGF0aExlbikgPT4ge1xuICAgICAgICAgICAgICAgIGNvbnN0IHN0YXRzID0gQ0hFQ0tfRkQoZmQsIGNvbnN0YW50c18xLldBU0lfUklHSFRfUEFUSF9VTkxJTktfRklMRSk7XG4gICAgICAgICAgICAgICAgaWYgKCFzdGF0cy5wYXRoKSB7XG4gICAgICAgICAgICAgICAgICAgIHJldHVybiBjb25zdGFudHNfMS5XQVNJX0VJTlZBTDtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgdGhpcy5yZWZyZXNoTWVtb3J5KCk7XG4gICAgICAgICAgICAgICAgY29uc3QgcCA9IGJ1ZmZlcl8xLmRlZmF1bHQuZnJvbSh0aGlzLm1lbW9yeS5idWZmZXIsIHBhdGhQdHIsIHBhdGhMZW4pLnRvU3RyaW5nKCk7XG4gICAgICAgICAgICAgICAgZnMudW5saW5rU3luYyhwYXRoLnJlc29sdmUoc3RhdHMucGF0aCwgcCkpO1xuICAgICAgICAgICAgICAgIHJldHVybiBjb25zdGFudHNfMS5XQVNJX0VTVUNDRVNTO1xuICAgICAgICAgICAgfSksXG4gICAgICAgICAgICBwb2xsX29uZW9mZjogKHNpbiwgc291dCwgbnN1YnNjcmlwdGlvbnMsIG5ldmVudHMpID0+IHtcbiAgICAgICAgICAgICAgICBsZXQgZXZlbnRjID0gMDtcbiAgICAgICAgICAgICAgICBsZXQgd2FpdEVuZCA9IDA7XG4gICAgICAgICAgICAgICAgdGhpcy5yZWZyZXNoTWVtb3J5KCk7XG4gICAgICAgICAgICAgICAgZm9yIChsZXQgaSA9IDA7IGkgPCBuc3Vic2NyaXB0aW9uczsgaSArPSAxKSB7XG4gICAgICAgICAgICAgICAgICAgIGNvbnN0IHVzZXJkYXRhID0gdGhpcy52aWV3LmdldEJpZ1VpbnQ2NChzaW4sIHRydWUpO1xuICAgICAgICAgICAgICAgICAgICBzaW4gKz0gODtcbiAgICAgICAgICAgICAgICAgICAgY29uc3QgdHlwZSA9IHRoaXMudmlldy5nZXRVaW50OChzaW4pO1xuICAgICAgICAgICAgICAgICAgICBzaW4gKz0gMTtcbiAgICAgICAgICAgICAgICAgICAgc3dpdGNoICh0eXBlKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICBjYXNlIGNvbnN0YW50c18xLldBU0lfRVZFTlRUWVBFX0NMT0NLOiB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgc2luICs9IDc7IC8vIHBhZGRpbmdcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBjb25zdCBpZGVudGlmaWVyID0gdGhpcy52aWV3LmdldEJpZ1VpbnQ2NChzaW4sIHRydWUpO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHNpbiArPSA4O1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGNvbnN0IGNsb2NraWQgPSB0aGlzLnZpZXcuZ2V0VWludDMyKHNpbiwgdHJ1ZSk7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgc2luICs9IDQ7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgc2luICs9IDQ7IC8vIHBhZGRpbmdcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBjb25zdCB0aW1lc3RhbXAgPSB0aGlzLnZpZXcuZ2V0QmlnVWludDY0KHNpbiwgdHJ1ZSk7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgc2luICs9IDg7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgY29uc3QgcHJlY2lzaW9uID0gdGhpcy52aWV3LmdldEJpZ1VpbnQ2NChzaW4sIHRydWUpO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHNpbiArPSA4O1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGNvbnN0IHN1YmNsb2NrZmxhZ3MgPSB0aGlzLnZpZXcuZ2V0VWludDE2KHNpbiwgdHJ1ZSk7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgc2luICs9IDI7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgc2luICs9IDY7IC8vIHBhZGRpbmdcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBjb25zdCBhYnNvbHV0ZSA9IHN1YmNsb2NrZmxhZ3MgPT09IDE7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgbGV0IGUgPSBjb25zdGFudHNfMS5XQVNJX0VTVUNDRVNTO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGNvbnN0IG4gPSBiaWdpbnRfMS5CaWdJbnRQb2x5ZmlsbChub3coY2xvY2tpZCkpO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGlmIChuID09PSBudWxsKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGUgPSBjb25zdGFudHNfMS5XQVNJX0VJTlZBTDtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgZWxzZSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGNvbnN0IGVuZCA9IGFic29sdXRlID8gdGltZXN0YW1wIDogbiArIHRpbWVzdGFtcDtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgd2FpdEVuZCA9XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBlbmQgPiB3YWl0RW5kID8gZW5kIDogd2FpdEVuZDtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgdGhpcy52aWV3LnNldEJpZ1VpbnQ2NChzb3V0LCB1c2VyZGF0YSwgdHJ1ZSk7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgc291dCArPSA4O1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHRoaXMudmlldy5zZXRVaW50MTYoc291dCwgZSwgdHJ1ZSk7IC8vIGVycm9yXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgc291dCArPSAyOyAvLyBwYWQgb2Zmc2V0IDJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB0aGlzLnZpZXcuc2V0VWludDgoc291dCwgY29uc3RhbnRzXzEuV0FTSV9FVkVOVFRZUEVfQ0xPQ0spO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHNvdXQgKz0gMTsgLy8gcGFkIG9mZnNldCAzXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgc291dCArPSA1OyAvLyBwYWRkaW5nIHRvIDhcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBldmVudGMgKz0gMTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgICAgIGNhc2UgY29uc3RhbnRzXzEuV0FTSV9FVkVOVFRZUEVfRkRfUkVBRDpcbiAgICAgICAgICAgICAgICAgICAgICAgIGNhc2UgY29uc3RhbnRzXzEuV0FTSV9FVkVOVFRZUEVfRkRfV1JJVEU6IHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBzaW4gKz0gMzsgLy8gcGFkZGluZ1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGNvbnN0IGZkID0gdGhpcy52aWV3LmdldFVpbnQzMihzaW4sIHRydWUpO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHNpbiArPSA0O1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHRoaXMudmlldy5zZXRCaWdVaW50NjQoc291dCwgdXNlcmRhdGEsIHRydWUpO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHNvdXQgKz0gODtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB0aGlzLnZpZXcuc2V0VWludDE2KHNvdXQsIGNvbnN0YW50c18xLldBU0lfRU5PU1lTLCB0cnVlKTsgLy8gZXJyb3JcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBzb3V0ICs9IDI7IC8vIHBhZCBvZmZzZXQgMlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHRoaXMudmlldy5zZXRVaW50OChzb3V0LCB0eXBlKTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBzb3V0ICs9IDE7IC8vIHBhZCBvZmZzZXQgM1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHNvdXQgKz0gNTsgLy8gcGFkZGluZyB0byA4XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgZXZlbnRjICs9IDE7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgICAgICBkZWZhdWx0OlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHJldHVybiBjb25zdGFudHNfMS5XQVNJX0VJTlZBTDtcbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICB0aGlzLnZpZXcuc2V0VWludDMyKG5ldmVudHMsIGV2ZW50YywgdHJ1ZSk7XG4gICAgICAgICAgICAgICAgd2hpbGUgKGJpbmRpbmdzLmhydGltZSgpIDwgd2FpdEVuZCkge1xuICAgICAgICAgICAgICAgICAgICAvLyBub3RoaW5nXG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIHJldHVybiBjb25zdGFudHNfMS5XQVNJX0VTVUNDRVNTO1xuICAgICAgICAgICAgfSxcbiAgICAgICAgICAgIHByb2NfZXhpdDogKHJ2YWwpID0+IHtcbiAgICAgICAgICAgICAgICBiaW5kaW5ncy5leGl0KHJ2YWwpO1xuICAgICAgICAgICAgICAgIHJldHVybiBjb25zdGFudHNfMS5XQVNJX0VTVUNDRVNTO1xuICAgICAgICAgICAgfSxcbiAgICAgICAgICAgIHByb2NfcmFpc2U6IChzaWcpID0+IHtcbiAgICAgICAgICAgICAgICBpZiAoIShzaWcgaW4gY29uc3RhbnRzXzEuU0lHTkFMX01BUCkpIHtcbiAgICAgICAgICAgICAgICAgICAgcmV0dXJuIGNvbnN0YW50c18xLldBU0lfRUlOVkFMO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICBiaW5kaW5ncy5raWxsKGNvbnN0YW50c18xLlNJR05BTF9NQVBbc2lnXSk7XG4gICAgICAgICAgICAgICAgcmV0dXJuIGNvbnN0YW50c18xLldBU0lfRVNVQ0NFU1M7XG4gICAgICAgICAgICB9LFxuICAgICAgICAgICAgcmFuZG9tX2dldDogKGJ1ZlB0ciwgYnVmTGVuKSA9PiB7XG4gICAgICAgICAgICAgICAgdGhpcy5yZWZyZXNoTWVtb3J5KCk7XG4gICAgICAgICAgICAgICAgYmluZGluZ3MucmFuZG9tRmlsbFN5bmMobmV3IFVpbnQ4QXJyYXkodGhpcy5tZW1vcnkuYnVmZmVyKSwgYnVmUHRyLCBidWZMZW4pO1xuICAgICAgICAgICAgICAgIHJldHVybiBjb25zdGFudHNfMS5XQVNJX0VTVUNDRVNTO1xuICAgICAgICAgICAgfSxcbiAgICAgICAgICAgIHNjaGVkX3lpZWxkKCkge1xuICAgICAgICAgICAgICAgIC8vIFNpbmdsZSB0aHJlYWRlZCBlbnZpcm9ubWVudFxuICAgICAgICAgICAgICAgIC8vIFRoaXMgaXMgYSBuby1vcCBpbiBKU1xuICAgICAgICAgICAgICAgIHJldHVybiBjb25zdGFudHNfMS5XQVNJX0VTVUNDRVNTO1xuICAgICAgICAgICAgfSxcbiAgICAgICAgICAgIHNvY2tfcmVjdigpIHtcbiAgICAgICAgICAgICAgICByZXR1cm4gY29uc3RhbnRzXzEuV0FTSV9FTk9TWVM7XG4gICAgICAgICAgICB9LFxuICAgICAgICAgICAgc29ja19zZW5kKCkge1xuICAgICAgICAgICAgICAgIHJldHVybiBjb25zdGFudHNfMS5XQVNJX0VOT1NZUztcbiAgICAgICAgICAgIH0sXG4gICAgICAgICAgICBzb2NrX3NodXRkb3duKCkge1xuICAgICAgICAgICAgICAgIHJldHVybiBjb25zdGFudHNfMS5XQVNJX0VOT1NZUztcbiAgICAgICAgICAgIH1cbiAgICAgICAgfTtcbiAgICAgICAgLy8gV3JhcCBlYWNoIG9mIHRoZSBpbXBvcnRzIHRvIHNob3cgdGhlIGNhbGxzIGluIHRoZSBjb25zb2xlXG4gICAgICAgIGlmICh3YXNpQ29uZmlnLnRyYWNlU3lzY2FsbHMpIHtcbiAgICAgICAgICAgIE9iamVjdC5rZXlzKHRoaXMud2FzaUltcG9ydCkuZm9yRWFjaCgoa2V5KSA9PiB7XG4gICAgICAgICAgICAgICAgY29uc3QgcHJldkltcG9ydCA9IHRoaXMud2FzaUltcG9ydFtrZXldO1xuICAgICAgICAgICAgICAgIHRoaXMud2FzaUltcG9ydFtrZXldID0gZnVuY3Rpb24gKC4uLmFyZ3MpIHtcbiAgICAgICAgICAgICAgICAgICAgY29uc29sZS5sb2coYFdBU0k6IHdhc2lJbXBvcnQgY2FsbGVkOiAke2tleX0gKCR7YXJnc30pYCk7XG4gICAgICAgICAgICAgICAgICAgIHRyeSB7XG4gICAgICAgICAgICAgICAgICAgICAgICBsZXQgcmVzdWx0ID0gcHJldkltcG9ydCguLi5hcmdzKTtcbiAgICAgICAgICAgICAgICAgICAgICAgIGNvbnNvbGUubG9nKGBXQVNJOiAgPT4gJHtyZXN1bHR9YCk7XG4gICAgICAgICAgICAgICAgICAgICAgICByZXR1cm4gcmVzdWx0O1xuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgIGNhdGNoIChlKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICBjb25zb2xlLmxvZyhgQ2F0Y2hlZCBlcnJvcjogJHtlfWApO1xuICAgICAgICAgICAgICAgICAgICAgICAgdGhyb3cgZTtcbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIH07XG4gICAgICAgICAgICB9KTtcbiAgICAgICAgfVxuICAgIH1cbiAgICByZWZyZXNoTWVtb3J5KCkge1xuICAgICAgICAvLyBAdHMtaWdub3JlXG4gICAgICAgIGlmICghdGhpcy52aWV3IHx8IHRoaXMudmlldy5idWZmZXIuYnl0ZUxlbmd0aCA9PT0gMCkge1xuICAgICAgICAgICAgdGhpcy52aWV3ID0gbmV3IGRhdGF2aWV3XzEuRGF0YVZpZXdQb2x5ZmlsbCh0aGlzLm1lbW9yeS5idWZmZXIpO1xuICAgICAgICB9XG4gICAgfVxuICAgIHNldE1lbW9yeShtZW1vcnkpIHtcbiAgICAgICAgdGhpcy5tZW1vcnkgPSBtZW1vcnk7XG4gICAgfVxuICAgIHN0YXJ0KGluc3RhbmNlKSB7XG4gICAgICAgIGNvbnN0IGV4cG9ydHMgPSBpbnN0YW5jZS5leHBvcnRzO1xuICAgICAgICBpZiAoZXhwb3J0cyA9PT0gbnVsbCB8fCB0eXBlb2YgZXhwb3J0cyAhPT0gXCJvYmplY3RcIikge1xuICAgICAgICAgICAgdGhyb3cgbmV3IEVycm9yKGBpbnN0YW5jZS5leHBvcnRzIG11c3QgYmUgYW4gT2JqZWN0LiBSZWNlaXZlZCAke2V4cG9ydHN9LmApO1xuICAgICAgICB9XG4gICAgICAgIGNvbnN0IHsgbWVtb3J5IH0gPSBleHBvcnRzO1xuICAgICAgICBpZiAoIShtZW1vcnkgaW5zdGFuY2VvZiBXZWJBc3NlbWJseS5NZW1vcnkpKSB7XG4gICAgICAgICAgICB0aHJvdyBuZXcgRXJyb3IoYGluc3RhbmNlLmV4cG9ydHMubWVtb3J5IG11c3QgYmUgYSBXZWJBc3NlbWJseS5NZW1vcnkuIFJlY2NlaXZlZCAke21lbW9yeX0uYCk7XG4gICAgICAgIH1cbiAgICAgICAgdGhpcy5zZXRNZW1vcnkobWVtb3J5KTtcbiAgICAgICAgaWYgKGV4cG9ydHMuX3N0YXJ0KSB7XG4gICAgICAgICAgICBleHBvcnRzLl9zdGFydCgpO1xuICAgICAgICB9XG4gICAgfVxuICAgIGdldEltcG9ydE5hbWVzcGFjZShtb2R1bGUpIHtcbiAgICAgICAgbGV0IG5hbWVzcGFjZSA9IG51bGw7XG4gICAgICAgIGZvciAobGV0IGltcCBvZiBXZWJBc3NlbWJseS5Nb2R1bGUuaW1wb3J0cyhtb2R1bGUpKSB7XG4gICAgICAgICAgICAvLyBXZSBvbmx5IGNoZWNrIGZvciB0aGUgZnVuY3Rpb25zXG4gICAgICAgICAgICBpZiAoaW1wLmtpbmQgIT09IFwiZnVuY3Rpb25cIikge1xuICAgICAgICAgICAgICAgIGNvbnRpbnVlO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgLy8gV2UgYWxsb3cgZnVuY3Rpb25zIGluIG90aGVyIG5hbWVzcGFjZXMgb3RoZXIgdGhhbiB3YXNpXG4gICAgICAgICAgICBpZiAoIWltcC5tb2R1bGUuc3RhcnRzV2l0aChcIndhc2lfXCIpKSB7XG4gICAgICAgICAgICAgICAgY29udGludWU7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBpZiAoIW5hbWVzcGFjZSkge1xuICAgICAgICAgICAgICAgIG5hbWVzcGFjZSA9IGltcC5tb2R1bGU7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBlbHNlIHtcbiAgICAgICAgICAgICAgICBpZiAobmFtZXNwYWNlICE9PSBpbXAubW9kdWxlKSB7XG4gICAgICAgICAgICAgICAgICAgIHRocm93IG5ldyBFcnJvcihcIk11bHRpcGxlIG5hbWVzcGFjZXMgZGV0ZWN0ZWQuXCIpO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgICByZXR1cm4gbmFtZXNwYWNlO1xuICAgIH1cbiAgICBnZXRJbXBvcnRzKG1vZHVsZSkge1xuICAgICAgICBsZXQgbmFtZXNwYWNlID0gdGhpcy5nZXRJbXBvcnROYW1lc3BhY2UobW9kdWxlKTtcbiAgICAgICAgc3dpdGNoIChuYW1lc3BhY2UpIHtcbiAgICAgICAgICAgIGNhc2UgXCJ3YXNpX3Vuc3RhYmxlXCI6XG4gICAgICAgICAgICAgICAgcmV0dXJuIHtcbiAgICAgICAgICAgICAgICAgICAgd2FzaV91bnN0YWJsZTogdGhpcy53YXNpSW1wb3J0XG4gICAgICAgICAgICAgICAgfTtcbiAgICAgICAgICAgIGNhc2UgXCJ3YXNpX3NuYXBzaG90X3ByZXZpZXcxXCI6XG4gICAgICAgICAgICAgICAgcmV0dXJuIHtcbiAgICAgICAgICAgICAgICAgICAgd2FzaV9zbmFwc2hvdF9wcmV2aWV3MTogdGhpcy53YXNpSW1wb3J0XG4gICAgICAgICAgICAgICAgfTtcbiAgICAgICAgICAgIGRlZmF1bHQ6XG4gICAgICAgICAgICAgICAgdGhyb3cgbmV3IEVycm9yKFwiQ2FuJ3QgZGV0ZWN0IGEgV0FTSSBuYW1lc3BhY2UgZm9yIHRoZSBXZWJBc3NlbWJseSBNb2R1bGVcIik7XG4gICAgICAgIH1cbiAgICB9XG59XG5leHBvcnRzLmRlZmF1bHQgPSBXQVNJRGVmYXVsdDtcbldBU0lEZWZhdWx0LmRlZmF1bHRCaW5kaW5ncyA9IGRlZmF1bHRCaW5kaW5ncztcbi8vIEFsc28gZXhwb3J0IGl0IGFzIGEgZmllbGQgaW4gdGhlIGV4cG9ydCBvYmplY3RcbmV4cG9ydHMuV0FTSSA9IFdBU0lEZWZhdWx0O1xuIiwgIlwidXNlIHN0cmljdFwiO1xuT2JqZWN0LmRlZmluZVByb3BlcnR5KGV4cG9ydHMsIFwiX19lc01vZHVsZVwiLCB7IHZhbHVlOiB0cnVlIH0pO1xuY29uc3Qgbm9kZV8xID0gcmVxdWlyZShcIm1lbWZzL2xpYi9ub2RlXCIpO1xuLy8gTWFrZSBlbWl0IHN5bmNocm9ub3VzXG5ub2RlXzEuTm9kZS5wcm90b3R5cGUuZW1pdCA9IGZ1bmN0aW9uIChldmVudCwgLi4uYXJncykge1xuICAgIGNvbnN0IGxpc3RlbmVycyA9IHRoaXMubGlzdGVuZXJzKGV2ZW50KTtcbiAgICBmb3IgKGxldCBsaXN0ZW5lciBvZiBsaXN0ZW5lcnMpIHtcbiAgICAgICAgdHJ5IHtcbiAgICAgICAgICAgIGxpc3RlbmVyKC4uLmFyZ3MpO1xuICAgICAgICB9XG4gICAgICAgIGNhdGNoIChlKSB7XG4gICAgICAgICAgICBjb25zb2xlLmVycm9yKGUpO1xuICAgICAgICB9XG4gICAgfVxuICAgIHJldHVybiBsaXN0ZW5lcnMubGVuZ3RoID4gMDtcbn07XG4iLCAiXCJ1c2Ugc3RyaWN0XCI7XG5PYmplY3QuZGVmaW5lUHJvcGVydHkoZXhwb3J0cywgXCJfX2VzTW9kdWxlXCIsIHsgdmFsdWU6IHRydWUgfSk7XG4vLyBBbiBhbHRlcm5hdGl2ZSBmcyBmb3IgdGhlIGJyb3dzZXIgYW5kIHRlc3RpbmdcbmNvbnN0IG1lbWZzXzEgPSByZXF1aXJlKFwibWVtZnNcIik7XG5jb25zdCB2b2x1bWVfMSA9IHJlcXVpcmUoXCJtZW1mcy9saWIvdm9sdW1lXCIpO1xuY29uc3QgcGF0aF8xID0gcmVxdWlyZShcInBhdGhcIik7XG5yZXF1aXJlKFwiLi9ub2RlX3N5bmNfZW1pdFwiKTtcbmNvbnN0IGFzc2VydCA9IChjb25kLCBtZXNzYWdlKSA9PiB7XG4gICAgaWYgKCFjb25kKSB7XG4gICAgICAgIHRocm93IG5ldyBFcnJvcihtZXNzYWdlKTtcbiAgICB9XG59O1xuY2xhc3MgV2FzbUZzRGVmYXVsdCB7XG4gICAgY29uc3RydWN0b3IoKSB7XG4gICAgICAgIHRoaXMudm9sdW1lID0gbmV3IHZvbHVtZV8xLlZvbHVtZSgpO1xuICAgICAgICB0aGlzLmZzID0gbWVtZnNfMS5jcmVhdGVGc0Zyb21Wb2x1bWUodGhpcy52b2x1bWUpO1xuICAgICAgICB0aGlzLmZyb21KU09OKHtcbiAgICAgICAgICAgIFwiL2Rldi9zdGRpblwiOiBcIlwiLFxuICAgICAgICAgICAgXCIvZGV2L3N0ZG91dFwiOiBcIlwiLFxuICAgICAgICAgICAgXCIvZGV2L3N0ZGVyclwiOiBcIlwiXG4gICAgICAgIH0pO1xuICAgIH1cbiAgICBfdG9KU09OKGxpbmssIGpzb24gPSB7fSwgcGF0aCkge1xuICAgICAgICBsZXQgaXNFbXB0eSA9IHRydWU7XG4gICAgICAgIGZvciAoY29uc3QgbmFtZSBpbiBsaW5rLmNoaWxkcmVuKSB7XG4gICAgICAgICAgICBpc0VtcHR5ID0gZmFsc2U7XG4gICAgICAgICAgICBjb25zdCBjaGlsZCA9IGxpbmsuZ2V0Q2hpbGQobmFtZSk7XG4gICAgICAgICAgICBpZiAoY2hpbGQpIHtcbiAgICAgICAgICAgICAgICBjb25zdCBub2RlID0gY2hpbGQuZ2V0Tm9kZSgpO1xuICAgICAgICAgICAgICAgIGlmIChub2RlICYmIG5vZGUuaXNGaWxlKCkpIHtcbiAgICAgICAgICAgICAgICAgICAgbGV0IGZpbGVuYW1lID0gY2hpbGQuZ2V0UGF0aCgpO1xuICAgICAgICAgICAgICAgICAgICBpZiAocGF0aClcbiAgICAgICAgICAgICAgICAgICAgICAgIGZpbGVuYW1lID0gcGF0aF8xLnJlbGF0aXZlKHBhdGgsIGZpbGVuYW1lKTtcbiAgICAgICAgICAgICAgICAgICAganNvbltmaWxlbmFtZV0gPSBub2RlLmdldEJ1ZmZlcigpO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICBlbHNlIGlmIChub2RlICYmIG5vZGUuaXNEaXJlY3RvcnkoKSkge1xuICAgICAgICAgICAgICAgICAgICB0aGlzLl90b0pTT04oY2hpbGQsIGpzb24sIHBhdGgpO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgICBsZXQgZGlyUGF0aCA9IGxpbmsuZ2V0UGF0aCgpO1xuICAgICAgICBpZiAocGF0aClcbiAgICAgICAgICAgIGRpclBhdGggPSBwYXRoXzEucmVsYXRpdmUocGF0aCwgZGlyUGF0aCk7XG4gICAgICAgIGlmIChkaXJQYXRoICYmIGlzRW1wdHkpIHtcbiAgICAgICAgICAgIGpzb25bZGlyUGF0aF0gPSBudWxsO1xuICAgICAgICB9XG4gICAgICAgIHJldHVybiBqc29uO1xuICAgIH1cbiAgICB0b0pTT04ocGF0aHMsIGpzb24gPSB7fSwgaXNSZWxhdGl2ZSA9IGZhbHNlKSB7XG4gICAgICAgIGNvbnN0IGxpbmtzID0gW107XG4gICAgICAgIGlmIChwYXRocykge1xuICAgICAgICAgICAgaWYgKCEocGF0aHMgaW5zdGFuY2VvZiBBcnJheSkpXG4gICAgICAgICAgICAgICAgcGF0aHMgPSBbcGF0aHNdO1xuICAgICAgICAgICAgZm9yIChjb25zdCBwYXRoIG9mIHBhdGhzKSB7XG4gICAgICAgICAgICAgICAgY29uc3QgZmlsZW5hbWUgPSB2b2x1bWVfMS5wYXRoVG9GaWxlbmFtZShwYXRoKTtcbiAgICAgICAgICAgICAgICBjb25zdCBsaW5rID0gdGhpcy52b2x1bWUuZ2V0UmVzb2x2ZWRMaW5rKGZpbGVuYW1lKTtcbiAgICAgICAgICAgICAgICBpZiAoIWxpbmspXG4gICAgICAgICAgICAgICAgICAgIGNvbnRpbnVlO1xuICAgICAgICAgICAgICAgIGxpbmtzLnB1c2gobGluayk7XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgICAgZWxzZSB7XG4gICAgICAgICAgICBsaW5rcy5wdXNoKHRoaXMudm9sdW1lLnJvb3QpO1xuICAgICAgICB9XG4gICAgICAgIGlmICghbGlua3MubGVuZ3RoKVxuICAgICAgICAgICAgcmV0dXJuIGpzb247XG4gICAgICAgIGZvciAoY29uc3QgbGluayBvZiBsaW5rcylcbiAgICAgICAgICAgIHRoaXMuX3RvSlNPTihsaW5rLCBqc29uLCBpc1JlbGF0aXZlID8gbGluay5nZXRQYXRoKCkgOiBcIlwiKTtcbiAgICAgICAgcmV0dXJuIGpzb247XG4gICAgfVxuICAgIGZyb21KU09ORml4ZWQodm9sLCBqc29uKSB7XG4gICAgICAgIGNvbnN0IHNlcCA9IFwiL1wiO1xuICAgICAgICBmb3IgKGxldCBmaWxlbmFtZSBpbiBqc29uKSB7XG4gICAgICAgICAgICBjb25zdCBkYXRhID0ganNvbltmaWxlbmFtZV07XG4gICAgICAgICAgICBjb25zdCBpc0RpciA9IGRhdGEgPyBPYmplY3QuZ2V0UHJvdG90eXBlT2YoZGF0YSkgPT09IG51bGwgOiBkYXRhID09PSBudWxsO1xuICAgICAgICAgICAgLy8gY29uc3QgaXNEaXIgPSB0eXBlb2YgZGF0YSA9PT0gXCJzdHJpbmdcIiB8fCAoKGRhdGEgYXMgYW55KSBpbnN0YW5jZW9mIEJ1ZmZlciAmJiBkYXRhICE9PSBudWxsKTtcbiAgICAgICAgICAgIGlmICghaXNEaXIpIHtcbiAgICAgICAgICAgICAgICBjb25zdCBzdGVwcyA9IHZvbHVtZV8xLmZpbGVuYW1lVG9TdGVwcyhmaWxlbmFtZSk7XG4gICAgICAgICAgICAgICAgaWYgKHN0ZXBzLmxlbmd0aCA+IDEpIHtcbiAgICAgICAgICAgICAgICAgICAgY29uc3QgZGlybmFtZSA9IHNlcCArIHN0ZXBzLnNsaWNlKDAsIHN0ZXBzLmxlbmd0aCAtIDEpLmpvaW4oc2VwKTtcbiAgICAgICAgICAgICAgICAgICAgLy8gQHRzLWlnbm9yZVxuICAgICAgICAgICAgICAgICAgICB2b2wubWtkaXJwQmFzZShkaXJuYW1lLCAwbzc3Nyk7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIHZvbC53cml0ZUZpbGVTeW5jKGZpbGVuYW1lLCBkYXRhIHx8IFwiXCIpO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgZWxzZSB7XG4gICAgICAgICAgICAgICAgLy8gQHRzLWlnbm9yZVxuICAgICAgICAgICAgICAgIHZvbC5ta2RpcnBCYXNlKGZpbGVuYW1lLCAwbzc3Nyk7XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICB9XG4gICAgZnJvbUpTT04oZnNKc29uKSB7XG4gICAgICAgIHRoaXMudm9sdW1lID0gbmV3IHZvbHVtZV8xLlZvbHVtZSgpO1xuICAgICAgICB0aGlzLmZyb21KU09ORml4ZWQodGhpcy52b2x1bWUsIGZzSnNvbik7XG4gICAgICAgIC8vIEB0cy1pZ25vcmVcbiAgICAgICAgdGhpcy5mcyA9IG1lbWZzXzEuY3JlYXRlRnNGcm9tVm9sdW1lKHRoaXMudm9sdW1lKTtcbiAgICAgICAgdGhpcy52b2x1bWUucmVsZWFzZWRGZHMgPSBbMCwgMSwgMl07XG4gICAgICAgIGNvbnN0IGZkRXJyID0gdGhpcy52b2x1bWUub3BlblN5bmMoXCIvZGV2L3N0ZGVyclwiLCBcIndcIik7XG4gICAgICAgIGNvbnN0IGZkT3V0ID0gdGhpcy52b2x1bWUub3BlblN5bmMoXCIvZGV2L3N0ZG91dFwiLCBcIndcIik7XG4gICAgICAgIGNvbnN0IGZkSW4gPSB0aGlzLnZvbHVtZS5vcGVuU3luYyhcIi9kZXYvc3RkaW5cIiwgXCJyXCIpO1xuICAgICAgICBhc3NlcnQoZmRFcnIgPT09IDIsIGBpbnZhbGlkIGhhbmRsZSBmb3Igc3RkZXJyOiAke2ZkRXJyfWApO1xuICAgICAgICBhc3NlcnQoZmRPdXQgPT09IDEsIGBpbnZhbGlkIGhhbmRsZSBmb3Igc3Rkb3V0OiAke2ZkT3V0fWApO1xuICAgICAgICBhc3NlcnQoZmRJbiA9PT0gMCwgYGludmFsaWQgaGFuZGxlIGZvciBzdGRpbjogJHtmZElufWApO1xuICAgIH1cbiAgICBhc3luYyBnZXRTdGRPdXQoKSB7XG4gICAgICAgIGxldCBwcm9taXNlID0gbmV3IFByb21pc2UocmVzb2x2ZSA9PiB7XG4gICAgICAgICAgICByZXNvbHZlKHRoaXMuZnMucmVhZEZpbGVTeW5jKFwiL2Rldi9zdGRvdXRcIiwgXCJ1dGY4XCIpKTtcbiAgICAgICAgfSk7XG4gICAgICAgIHJldHVybiBwcm9taXNlO1xuICAgIH1cbn1cbmV4cG9ydHMuZGVmYXVsdCA9IFdhc21Gc0RlZmF1bHQ7XG5leHBvcnRzLldhc21GcyA9IFdhc21Gc0RlZmF1bHQ7XG4iLCAiaW1wb3J0IHsgRXZlbnRFbWl0dGVyIH0gZnJvbSAnZXZlbnRzJztcbmltcG9ydCB7IEV4ZWNDb3JlIH0gZnJvbSBcIi4uL2V4ZWNcIjtcblxuXG5cbmNsYXNzIFR0eSBleHRlbmRzIEV2ZW50RW1pdHRlciB7XG5cbiAgICBjb3JlOiBFeGVjQ29yZVxuICAgIGZkczogbnVtYmVyW11cbiAgICBzdGRpbl9mbDogbnVtYmVyXG4gICAgdGVybWlvczoge2ZsYWdzOiBpMzJbXSwgd2luOiBVaW50MTZBcnJheX1cblxuICAgIGRlYnVnOiAoLi4uYXJnczogYW55KSA9PiB2b2lkO1xuXG4gICAgY29uc3RydWN0b3IoY29yZTogRXhlY0NvcmUpIHtcbiAgICAgICAgc3VwZXIoKTtcbiAgICAgICAgdGhpcy5jb3JlID0gY29yZTtcbiAgICAgICAgdGhpcy5mZHMgPSBbXTtcbiAgICAgICAgdGhpcy5zdGRpbl9mbCA9IDA7XG4gICAgICAgIHRoaXMudGVybWlvcyA9IHtcbiAgICAgICAgICAgIGZsYWdzOiBbMG80MDIsIDBvMywgMCwgMG8xMl0sICAvKiBzZWUgaW5jbHVkZS9iaXRzL3Rlcm1pb3MuaCAqL1xuICAgICAgICAgICAgd2luOiB0aGlzLmRlZmF1bHRXaW5kb3coKVxuICAgICAgICB9O1xuXG4gICAgICAgIHRoaXMuY29yZS5vbignc3RyZWFtOm91dCcsIGV2ID0+IHtcbiAgICAgICAgICAgIGlmICh0aGlzLmZkcy5pbmNsdWRlcyhldi5mZCkpXG4gICAgICAgICAgICAgICAgdGhpcy5lbWl0KCdkYXRhJywgZXYuZGF0YSk7XG4gICAgICAgIH0pO1xuXG4gICAgICAgIHRoaXMuZGVidWcgPSAoKSA9PiB7fTtcbiAgICB9XG5cbiAgICB0bygpOiBUdHlQcm9wcyB7IHJldHVybiB7dGVybWlvczoge3dpbjogdGhpcy50ZXJtaW9zLndpbn19OyB9XG5cbiAgICBtYWtlVHR5KGZkOiBudW1iZXIpIHtcbiAgICAgICAgLy8gTWFrZSBpc2F0dHkoZmQpIHJldHVybiBgdHJ1ZWBcbiAgICAgICAgdGhpcy5jb3JlLndhc2kuRkRfTUFQLmdldChmZCkuZmlsZXR5cGUgPSAyO1xuICAgICAgICB0aGlzLmNvcmUud2FzaS5GRF9NQVAuZ2V0KGZkKS5yaWdodHMuYmFzZSAmPSB+QmlnSW50KDB4MjQpO1xuICAgIH1cblxuICAgIHdyaXRlKGRhdGE6IGFueSkge1xuICAgICAgICB0aGlzLmNvcmUuc3RkaW4ud3JpdGUoZGF0YSk7XG4gICAgfVxuXG4gICAgLy8gLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tXG4gICAgLy8gT3ZlcnJpZGVzIGZvciBXQVNJLndhc2lJbXBvcnRzXG4gICAgLy8gLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tXG5cbiAgICBmZF9mZHN0YXRfc2V0X2ZsYWdzKGZkOiBudW1iZXIsIGZsYWdzOiBudW1iZXIpIHtcbiAgICAgICAgdGhpcy5kZWJ1ZyhgZmRzdGF0X3NldF9mbGFncygke2ZkfSwgJHtmbGFnc30pXFxuYCk7XG4gICAgICAgIGlmIChmZCA9PT0gMCkge1xuICAgICAgICAgICAgdGhpcy5zdGRpbl9mbCA9IGZsYWdzO1xuICAgICAgICAgICAgdGhpcy5jb3JlLnN0ZGluLmJsb2NraW5nID0gIShmbGFncyAmIDB4NCk7XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuIDA7XG4gICAgfVxuXG4gICAgZmRfZmRzdGF0X2dldChmZDogbnVtYmVyLCBidWZQdHI6IG51bWJlcikge1xuICAgICAgICB2YXIgcmV0ID0gdGhpcy5jb3JlLndhc2kud2FzaUltcG9ydC5mZF9mZHN0YXRfZ2V0KGZkLCBidWZQdHIpO1xuICAgICAgICBpZiAoZmQgPT09IDApIHtcbiAgICAgICAgICAgIC8vIG92ZXJ3cml0ZTogc3RhdHMgRkRGTEFHIHUxNlxuICAgICAgICAgICAgdGhpcy5jb3JlLnByb2MubWVtLnNldFVpbnQxNihidWZQdHIgKyAyLCB0aGlzLnN0ZGluX2ZsLCB0cnVlKTtcbiAgICAgICAgfVxuICAgICAgICByZXR1cm4gcmV0O1xuICAgIH1cblxuICAgIGRlZmF1bHRXaW5kb3coKSB7XG4gICAgICAgIHZhciB3aW4gPSBuZXcgVWludDE2QXJyYXkobmV3IFNoYXJlZEFycmF5QnVmZmVyKDQpKTtcbiAgICAgICAgd2luWzBdID0gMjQ7ICAvLyByb3dzXG4gICAgICAgIHdpblsxXSA9IDgwOyAgLy8gY29sc1xuICAgICAgICByZXR1cm4gd2luO1xuICAgIH1cblxuICAgIGdldCBvdmVycmlkZUltcG9ydCgpIHtcbiAgICAgICAgcmV0dXJuIGJpbmRBbGwodGhpcywgWydmZF9mZHN0YXRfZ2V0JywgJ2ZkX2Zkc3RhdF9zZXRfZmxhZ3MnXSk7XG4gICAgfVxuXG4gICAgZ2V0IGltcG9ydCgpIHtcbiAgICAgICAgcmV0dXJuIGJpbmRBbGwodGhpcywgWyd0Y2dldGF0dHInLCAndGNzZXRhdHRyJywgJ3RnZXRlbnQnXSk7XG4gICAgfVxuXG4gICAgZ2V0IGV4dGxpYigpIHtcbiAgICAgICAgcmV0dXJuIGJpbmRBbGwodGhpcywgWyd0dHlfaW9jdGwnXSk7XG4gICAgfVxuXG4gICAgLy8gLS0tLS0tLS0tLS0tXG4gICAgLy8gVGVybW9pcyBQYXJ0XG4gICAgLy8gLS0tLS0tLS0tLS0tXG5cbiAgICB0Y2dldGF0dHIoZmQ6IGkzMiwgdGVybWlvc19wOiBpMzIpIHtcbiAgICAgICAgdGhpcy5kZWJ1ZyhgdGNnZXRhdHRyKCR7ZmR9LCAke3Rlcm1pb3NfcH0pYCk7XG4gICAgICAgIGxldCBtZW0gPSB0aGlzLmNvcmUucHJvYy5tZW07XG4gICAgICAgIHRoaXMudGVybWlvcy5mbGFncy5mb3JFYWNoKChmbCwgaSkgPT4ge1xuICAgICAgICAgICAgbWVtLnNldFVpbnQzMih0ZXJtaW9zX3AgKyA0ICogaSwgZmwsIHRydWUpO1xuICAgICAgICB9KTtcblxuICAgICAgICBtZW0uc2V0VWludDgodGVybWlvc19wICsgKDQgKiA0KSArIDEgKyA1LCAwKTsgIC8vIFZUSU1FXG4gICAgICAgIG1lbS5zZXRVaW50OCh0ZXJtaW9zX3AgKyAoNCAqIDQpICsgMSArIDYsIDEpOyAgLy8gVk1JTlxuXG4gICAgICAgIC8qIHNwZWVkIG90aGVyIGNvbnRyb2wgY2hhcmFjdGVycyBhcmUgc2tpcHBlZCA6XFwgKi9cbiAgICAgICAgcmV0dXJuIDA7XG4gICAgfVxuXG4gICAgdGNzZXRhdHRyKGZkOiBpMzIsIHdoZW46IGkzMiwgdGVybWlvc19wOiBpMzIpIHtcbiAgICAgICAgdGhpcy5kZWJ1ZyhgdGNzZXRhdHRyKCR7ZmR9LCAke3doZW59LCAke3Rlcm1pb3NfcH0pYCk7XG4gICAgICAgIGxldCBtZW0gPSB0aGlzLmNvcmUucHJvYy5tZW0sXG4gICAgICAgICAgICBmbGFncyA9IHJhbmdlKDQpLm1hcChpID0+IG1lbS5nZXRVaW50MzIodGVybWlvc19wICsgNCAqIGksIHRydWUpKSxcbiAgICAgICAgICAgIGNjID0gcmFuZ2UoMzIpLm1hcChpID0+IG1lbS5nZXRVaW50OCh0ZXJtaW9zX3AgKyAoNCAqIDQpICsgMSArIGkpKTtcbiAgICAgICAgdGhpcy5kZWJ1ZyhgICBbJHtmbGFncy5tYXAoaSA9PiAnMCcraS50b1N0cmluZyg4KSkuam9pbignLCAnKX1dIFske2NjfV1gKTtcbiAgICAgICAgdGhpcy50ZXJtaW9zLmZsYWdzID0gZmxhZ3M7XG4gICAgICAgIHRoaXMuY29yZS5zdGRpbi5ibG9ja2luZyA9IGNjWzZdID4gMDsgICAvLyBWTUlOXG4gICAgICAgIHRoaXMuY29yZS5wcm9jLmVtaXQoJ3N5c2NhbGwnLCB7XG4gICAgICAgICAgICBmdW5jOiAnaW9jdGw6dHR5JyxcbiAgICAgICAgICAgIGRhdGE6IHtmZCwgd2hlbiwgZmxhZ3N9XG4gICAgICAgIH0pXG4gICAgICAgIHJldHVybiAwO1xuICAgIH1cblxuICAgIHRnZXRlbnQoYnA6IGkzMiwgbmFtZTogaTMyKSB7XG4gICAgICAgIHRoaXMuZGVidWcoYHRnZXRlbnQoXywgJyR7dGhpcy5jb3JlLnByb2MudXNlckdldENTdHJpbmcobmFtZSl9JylgKTtcbiAgICAgICAgcmV0dXJuIDE7XG4gICAgfVxuXG4gICAgdHR5X2lvY3RsKGZkOiBpMzIsIHJlcXVlc3Q6IGkzMiwgYnVmOiBpMzIpIHtcbiAgICAgICAgY29uc29sZS53YXJuKCd0dHlfaW9jdGwnLCBmZCwgcmVxdWVzdCwgYnVmKTtcbiAgICAgICAgaWYgKGZkID09IDEpIHtcbiAgICAgICAgICAgIHZhciBtZW0gPSB0aGlzLmNvcmUucHJvYy5tZW0sIHdpbiA9IHRoaXMudGVybWlvcy53aW47XG5cbiAgICAgICAgICAgIHN3aXRjaCAocmVxdWVzdCkge1xuICAgICAgICAgICAgY2FzZSBUdHlJb2N0bHMuVElPQ0dXSU5TWjpcbiAgICAgICAgICAgICAgICBmb3IgKGxldCBpID0gMDsgaSA8IHdpbi5sZW5ndGg7IGkrKylcbiAgICAgICAgICAgICAgICAgICAgbWVtLnNldFVpbnQxNihidWYgKyAyICogaSwgd2luW2ldLCB0cnVlKTtcbiAgICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICAgIGNhc2UgVHR5SW9jdGxzLlRJT0NTV0lOU1o6XG4gICAgICAgICAgICAgICAgdmFyIHNldHRpbmcgPSB3aW4ubWFwKChfLGkpID0+IG1lbS5nZXRVaW50MTYoYnVmICsgMiAqIGkpKTtcbiAgICAgICAgICAgICAgICB0aGlzLmNvcmUucHJvYy5lbWl0KCdzeXNjYWxsJywge1xuICAgICAgICAgICAgICAgICAgICBmdW5jOiAnaW9jdGw6dHR5JyxcbiAgICAgICAgICAgICAgICAgICAgZGF0YToge2ZkLCByZXF1ZXN0LCB3aW46IHNldHRpbmd9XG4gICAgICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICB9XG5cbn1cblxuXG50eXBlIGkzMiA9IG51bWJlcjtcblxudHlwZSBUdHlQcm9wcyA9IHtcbiAgICB0ZXJtaW9zOiB7IHdpbjogVWludDE2QXJyYXkgfVxufTtcblxuZW51bSBUdHlJb2N0bHMge1xuICAgIFRDU0VURkwgPSAxLFxuICAgIFRJT0NHV0lOU1ogPSAweDU0MTMsXG4gICAgVElPQ1NXSU5TWiA9IDB4NTQxNFxufTtcblxuZnVuY3Rpb24gYmluZEFsbChpbnN0YW5jZTogYW55LCBtZXRob2RzOiBzdHJpbmdbXSkge1xuICAgIHJldHVybiBtZXRob2RzLnJlZHVjZSgoZCwgbSkgPT5cbiAgICAgICAgT2JqZWN0LmFzc2lnbihkLCB7W21dOiBpbnN0YW5jZVttXS5iaW5kKGluc3RhbmNlKX0pLCB7fSk7XG59XG5cbmZ1bmN0aW9uIHJhbmdlKG46IG51bWJlcikgOiBudW1iZXJbXSB7XG4gICAgcmV0dXJuIFsuLi5BcnJheShuKS5rZXlzKCldO1xufVxuXG5cbmV4cG9ydCB7IFR0eSwgVHR5UHJvcHMgfVxuIiwgIid1c2Ugc3RyaWN0J1xuXG4vLyBsaW1pdCBvZiBDcnlwdG8uZ2V0UmFuZG9tVmFsdWVzKClcbi8vIGh0dHBzOi8vZGV2ZWxvcGVyLm1vemlsbGEub3JnL2VuLVVTL2RvY3MvV2ViL0FQSS9DcnlwdG8vZ2V0UmFuZG9tVmFsdWVzXG52YXIgTUFYX0JZVEVTID0gNjU1MzZcblxuLy8gTm9kZSBzdXBwb3J0cyByZXF1ZXN0aW5nIHVwIHRvIHRoaXMgbnVtYmVyIG9mIGJ5dGVzXG4vLyBodHRwczovL2dpdGh1Yi5jb20vbm9kZWpzL25vZGUvYmxvYi9tYXN0ZXIvbGliL2ludGVybmFsL2NyeXB0by9yYW5kb20uanMjTDQ4XG52YXIgTUFYX1VJTlQzMiA9IDQyOTQ5NjcyOTVcblxuZnVuY3Rpb24gb2xkQnJvd3NlciAoKSB7XG4gIHRocm93IG5ldyBFcnJvcignU2VjdXJlIHJhbmRvbSBudW1iZXIgZ2VuZXJhdGlvbiBpcyBub3Qgc3VwcG9ydGVkIGJ5IHRoaXMgYnJvd3Nlci5cXG5Vc2UgQ2hyb21lLCBGaXJlZm94IG9yIEludGVybmV0IEV4cGxvcmVyIDExJylcbn1cblxudmFyIEJ1ZmZlciA9IHJlcXVpcmUoJ3NhZmUtYnVmZmVyJykuQnVmZmVyXG52YXIgY3J5cHRvID0gZ2xvYmFsLmNyeXB0byB8fCBnbG9iYWwubXNDcnlwdG9cblxuaWYgKGNyeXB0byAmJiBjcnlwdG8uZ2V0UmFuZG9tVmFsdWVzKSB7XG4gIG1vZHVsZS5leHBvcnRzID0gcmFuZG9tQnl0ZXNcbn0gZWxzZSB7XG4gIG1vZHVsZS5leHBvcnRzID0gb2xkQnJvd3NlclxufVxuXG5mdW5jdGlvbiByYW5kb21CeXRlcyAoc2l6ZSwgY2IpIHtcbiAgLy8gcGhhbnRvbWpzIG5lZWRzIHRvIHRocm93XG4gIGlmIChzaXplID4gTUFYX1VJTlQzMikgdGhyb3cgbmV3IFJhbmdlRXJyb3IoJ3JlcXVlc3RlZCB0b28gbWFueSByYW5kb20gYnl0ZXMnKVxuXG4gIHZhciBieXRlcyA9IEJ1ZmZlci5hbGxvY1Vuc2FmZShzaXplKVxuXG4gIGlmIChzaXplID4gMCkgeyAgLy8gZ2V0UmFuZG9tVmFsdWVzIGZhaWxzIG9uIElFIGlmIHNpemUgPT0gMFxuICAgIGlmIChzaXplID4gTUFYX0JZVEVTKSB7IC8vIHRoaXMgaXMgdGhlIG1heCBieXRlcyBjcnlwdG8uZ2V0UmFuZG9tVmFsdWVzXG4gICAgICAvLyBjYW4gZG8gYXQgb25jZSBzZWUgaHR0cHM6Ly9kZXZlbG9wZXIubW96aWxsYS5vcmcvZW4tVVMvZG9jcy9XZWIvQVBJL3dpbmRvdy5jcnlwdG8uZ2V0UmFuZG9tVmFsdWVzXG4gICAgICBmb3IgKHZhciBnZW5lcmF0ZWQgPSAwOyBnZW5lcmF0ZWQgPCBzaXplOyBnZW5lcmF0ZWQgKz0gTUFYX0JZVEVTKSB7XG4gICAgICAgIC8vIGJ1ZmZlci5zbGljZSBhdXRvbWF0aWNhbGx5IGNoZWNrcyBpZiB0aGUgZW5kIGlzIHBhc3QgdGhlIGVuZCBvZlxuICAgICAgICAvLyB0aGUgYnVmZmVyIHNvIHdlIGRvbid0IGhhdmUgdG8gaGVyZVxuICAgICAgICBjcnlwdG8uZ2V0UmFuZG9tVmFsdWVzKGJ5dGVzLnNsaWNlKGdlbmVyYXRlZCwgZ2VuZXJhdGVkICsgTUFYX0JZVEVTKSlcbiAgICAgIH1cbiAgICB9IGVsc2Uge1xuICAgICAgY3J5cHRvLmdldFJhbmRvbVZhbHVlcyhieXRlcylcbiAgICB9XG4gIH1cblxuICBpZiAodHlwZW9mIGNiID09PSAnZnVuY3Rpb24nKSB7XG4gICAgcmV0dXJuIHByb2Nlc3MubmV4dFRpY2soZnVuY3Rpb24gKCkge1xuICAgICAgY2IobnVsbCwgYnl0ZXMpXG4gICAgfSlcbiAgfVxuXG4gIHJldHVybiBieXRlc1xufVxuIiwgIid1c2Ugc3RyaWN0J1xuXG5mdW5jdGlvbiBvbGRCcm93c2VyICgpIHtcbiAgdGhyb3cgbmV3IEVycm9yKCdzZWN1cmUgcmFuZG9tIG51bWJlciBnZW5lcmF0aW9uIG5vdCBzdXBwb3J0ZWQgYnkgdGhpcyBicm93c2VyXFxudXNlIGNocm9tZSwgRmlyZUZveCBvciBJbnRlcm5ldCBFeHBsb3JlciAxMScpXG59XG52YXIgc2FmZUJ1ZmZlciA9IHJlcXVpcmUoJ3NhZmUtYnVmZmVyJylcbnZhciByYW5kb21ieXRlcyA9IHJlcXVpcmUoJ3JhbmRvbWJ5dGVzJylcbnZhciBCdWZmZXIgPSBzYWZlQnVmZmVyLkJ1ZmZlclxudmFyIGtCdWZmZXJNYXhMZW5ndGggPSBzYWZlQnVmZmVyLmtNYXhMZW5ndGhcbnZhciBjcnlwdG8gPSBnbG9iYWwuY3J5cHRvIHx8IGdsb2JhbC5tc0NyeXB0b1xudmFyIGtNYXhVaW50MzIgPSBNYXRoLnBvdygyLCAzMikgLSAxXG5mdW5jdGlvbiBhc3NlcnRPZmZzZXQgKG9mZnNldCwgbGVuZ3RoKSB7XG4gIGlmICh0eXBlb2Ygb2Zmc2V0ICE9PSAnbnVtYmVyJyB8fCBvZmZzZXQgIT09IG9mZnNldCkgeyAvLyBlc2xpbnQtZGlzYWJsZS1saW5lIG5vLXNlbGYtY29tcGFyZVxuICAgIHRocm93IG5ldyBUeXBlRXJyb3IoJ29mZnNldCBtdXN0IGJlIGEgbnVtYmVyJylcbiAgfVxuXG4gIGlmIChvZmZzZXQgPiBrTWF4VWludDMyIHx8IG9mZnNldCA8IDApIHtcbiAgICB0aHJvdyBuZXcgVHlwZUVycm9yKCdvZmZzZXQgbXVzdCBiZSBhIHVpbnQzMicpXG4gIH1cblxuICBpZiAob2Zmc2V0ID4ga0J1ZmZlck1heExlbmd0aCB8fCBvZmZzZXQgPiBsZW5ndGgpIHtcbiAgICB0aHJvdyBuZXcgUmFuZ2VFcnJvcignb2Zmc2V0IG91dCBvZiByYW5nZScpXG4gIH1cbn1cblxuZnVuY3Rpb24gYXNzZXJ0U2l6ZSAoc2l6ZSwgb2Zmc2V0LCBsZW5ndGgpIHtcbiAgaWYgKHR5cGVvZiBzaXplICE9PSAnbnVtYmVyJyB8fCBzaXplICE9PSBzaXplKSB7IC8vIGVzbGludC1kaXNhYmxlLWxpbmUgbm8tc2VsZi1jb21wYXJlXG4gICAgdGhyb3cgbmV3IFR5cGVFcnJvcignc2l6ZSBtdXN0IGJlIGEgbnVtYmVyJylcbiAgfVxuXG4gIGlmIChzaXplID4ga01heFVpbnQzMiB8fCBzaXplIDwgMCkge1xuICAgIHRocm93IG5ldyBUeXBlRXJyb3IoJ3NpemUgbXVzdCBiZSBhIHVpbnQzMicpXG4gIH1cblxuICBpZiAoc2l6ZSArIG9mZnNldCA+IGxlbmd0aCB8fCBzaXplID4ga0J1ZmZlck1heExlbmd0aCkge1xuICAgIHRocm93IG5ldyBSYW5nZUVycm9yKCdidWZmZXIgdG9vIHNtYWxsJylcbiAgfVxufVxuaWYgKChjcnlwdG8gJiYgY3J5cHRvLmdldFJhbmRvbVZhbHVlcykgfHwgIXByb2Nlc3MuYnJvd3Nlcikge1xuICBleHBvcnRzLnJhbmRvbUZpbGwgPSByYW5kb21GaWxsXG4gIGV4cG9ydHMucmFuZG9tRmlsbFN5bmMgPSByYW5kb21GaWxsU3luY1xufSBlbHNlIHtcbiAgZXhwb3J0cy5yYW5kb21GaWxsID0gb2xkQnJvd3NlclxuICBleHBvcnRzLnJhbmRvbUZpbGxTeW5jID0gb2xkQnJvd3NlclxufVxuZnVuY3Rpb24gcmFuZG9tRmlsbCAoYnVmLCBvZmZzZXQsIHNpemUsIGNiKSB7XG4gIGlmICghQnVmZmVyLmlzQnVmZmVyKGJ1ZikgJiYgIShidWYgaW5zdGFuY2VvZiBnbG9iYWwuVWludDhBcnJheSkpIHtcbiAgICB0aHJvdyBuZXcgVHlwZUVycm9yKCdcImJ1ZlwiIGFyZ3VtZW50IG11c3QgYmUgYSBCdWZmZXIgb3IgVWludDhBcnJheScpXG4gIH1cblxuICBpZiAodHlwZW9mIG9mZnNldCA9PT0gJ2Z1bmN0aW9uJykge1xuICAgIGNiID0gb2Zmc2V0XG4gICAgb2Zmc2V0ID0gMFxuICAgIHNpemUgPSBidWYubGVuZ3RoXG4gIH0gZWxzZSBpZiAodHlwZW9mIHNpemUgPT09ICdmdW5jdGlvbicpIHtcbiAgICBjYiA9IHNpemVcbiAgICBzaXplID0gYnVmLmxlbmd0aCAtIG9mZnNldFxuICB9IGVsc2UgaWYgKHR5cGVvZiBjYiAhPT0gJ2Z1bmN0aW9uJykge1xuICAgIHRocm93IG5ldyBUeXBlRXJyb3IoJ1wiY2JcIiBhcmd1bWVudCBtdXN0IGJlIGEgZnVuY3Rpb24nKVxuICB9XG4gIGFzc2VydE9mZnNldChvZmZzZXQsIGJ1Zi5sZW5ndGgpXG4gIGFzc2VydFNpemUoc2l6ZSwgb2Zmc2V0LCBidWYubGVuZ3RoKVxuICByZXR1cm4gYWN0dWFsRmlsbChidWYsIG9mZnNldCwgc2l6ZSwgY2IpXG59XG5cbmZ1bmN0aW9uIGFjdHVhbEZpbGwgKGJ1Ziwgb2Zmc2V0LCBzaXplLCBjYikge1xuICBpZiAocHJvY2Vzcy5icm93c2VyKSB7XG4gICAgdmFyIG91ckJ1ZiA9IGJ1Zi5idWZmZXJcbiAgICB2YXIgdWludCA9IG5ldyBVaW50OEFycmF5KG91ckJ1Ziwgb2Zmc2V0LCBzaXplKVxuICAgIGNyeXB0by5nZXRSYW5kb21WYWx1ZXModWludClcbiAgICBpZiAoY2IpIHtcbiAgICAgIHByb2Nlc3MubmV4dFRpY2soZnVuY3Rpb24gKCkge1xuICAgICAgICBjYihudWxsLCBidWYpXG4gICAgICB9KVxuICAgICAgcmV0dXJuXG4gICAgfVxuICAgIHJldHVybiBidWZcbiAgfVxuICBpZiAoY2IpIHtcbiAgICByYW5kb21ieXRlcyhzaXplLCBmdW5jdGlvbiAoZXJyLCBieXRlcykge1xuICAgICAgaWYgKGVycikge1xuICAgICAgICByZXR1cm4gY2IoZXJyKVxuICAgICAgfVxuICAgICAgYnl0ZXMuY29weShidWYsIG9mZnNldClcbiAgICAgIGNiKG51bGwsIGJ1ZilcbiAgICB9KVxuICAgIHJldHVyblxuICB9XG4gIHZhciBieXRlcyA9IHJhbmRvbWJ5dGVzKHNpemUpXG4gIGJ5dGVzLmNvcHkoYnVmLCBvZmZzZXQpXG4gIHJldHVybiBidWZcbn1cbmZ1bmN0aW9uIHJhbmRvbUZpbGxTeW5jIChidWYsIG9mZnNldCwgc2l6ZSkge1xuICBpZiAodHlwZW9mIG9mZnNldCA9PT0gJ3VuZGVmaW5lZCcpIHtcbiAgICBvZmZzZXQgPSAwXG4gIH1cbiAgaWYgKCFCdWZmZXIuaXNCdWZmZXIoYnVmKSAmJiAhKGJ1ZiBpbnN0YW5jZW9mIGdsb2JhbC5VaW50OEFycmF5KSkge1xuICAgIHRocm93IG5ldyBUeXBlRXJyb3IoJ1wiYnVmXCIgYXJndW1lbnQgbXVzdCBiZSBhIEJ1ZmZlciBvciBVaW50OEFycmF5JylcbiAgfVxuXG4gIGFzc2VydE9mZnNldChvZmZzZXQsIGJ1Zi5sZW5ndGgpXG5cbiAgaWYgKHNpemUgPT09IHVuZGVmaW5lZCkgc2l6ZSA9IGJ1Zi5sZW5ndGggLSBvZmZzZXRcblxuICBhc3NlcnRTaXplKHNpemUsIG9mZnNldCwgYnVmLmxlbmd0aClcblxuICByZXR1cm4gYWN0dWFsRmlsbChidWYsIG9mZnNldCwgc2l6ZSlcbn1cbiIsICJcInVzZSBzdHJpY3RcIjtcbi8vIGhydGltZSBwb2x5ZmlsbCBmb3IgdGhlIGJyb3dzZXJcbk9iamVjdC5kZWZpbmVQcm9wZXJ0eShleHBvcnRzLCBcIl9fZXNNb2R1bGVcIiwgeyB2YWx1ZTogdHJ1ZSB9KTtcbmNvbnN0IGJhc2VOb3cgPSBNYXRoLmZsb29yKChEYXRlLm5vdygpIC0gcGVyZm9ybWFuY2Uubm93KCkpICogMWUtMyk7XG5mdW5jdGlvbiBocnRpbWUocHJldmlvdXNUaW1lc3RhbXApIHtcbiAgICAvLyBpbml0aWxhaXplIG91ciB2YXJpYWJsZXNcbiAgICBsZXQgY2xvY2t0aW1lID0gcGVyZm9ybWFuY2Uubm93KCkgKiAxZS0zO1xuICAgIGxldCBzZWNvbmRzID0gTWF0aC5mbG9vcihjbG9ja3RpbWUpICsgYmFzZU5vdztcbiAgICBsZXQgbmFub3NlY29uZHMgPSBNYXRoLmZsb29yKChjbG9ja3RpbWUgJSAxKSAqIDFlOSk7XG4gICAgLy8gQ29tcGFyZSB0byB0aGUgcHJ2aW91cyB0aW1lc3RhbXAgaWYgd2UgaGF2ZSBvbmVcbiAgICBpZiAocHJldmlvdXNUaW1lc3RhbXApIHtcbiAgICAgICAgc2Vjb25kcyA9IHNlY29uZHMgLSBwcmV2aW91c1RpbWVzdGFtcFswXTtcbiAgICAgICAgbmFub3NlY29uZHMgPSBuYW5vc2Vjb25kcyAtIHByZXZpb3VzVGltZXN0YW1wWzFdO1xuICAgICAgICBpZiAobmFub3NlY29uZHMgPCAwKSB7XG4gICAgICAgICAgICBzZWNvbmRzLS07XG4gICAgICAgICAgICBuYW5vc2Vjb25kcyArPSAxZTk7XG4gICAgICAgIH1cbiAgICB9XG4gICAgLy8gUmV0dXJuIG91ciBzZWNvbmRzIHR1cGxlXG4gICAgcmV0dXJuIFtzZWNvbmRzLCBuYW5vc2Vjb25kc107XG59XG5leHBvcnRzLmRlZmF1bHQgPSBocnRpbWU7XG4iLCAiXCJ1c2Ugc3RyaWN0XCI7XG4vLyBTaW1wbHkgcG9seWZpbGwgZm9yIGhydGltZVxuLy8gaHR0cHM6Ly9ub2RlanMub3JnL2FwaS9wcm9jZXNzLmh0bWwjcHJvY2Vzc19wcm9jZXNzX2hydGltZV90aW1lXG5PYmplY3QuZGVmaW5lUHJvcGVydHkoZXhwb3J0cywgXCJfX2VzTW9kdWxlXCIsIHsgdmFsdWU6IHRydWUgfSk7XG5jb25zdCBOU19QRVJfU0VDID0gMWU5O1xuY29uc3QgZ2V0QmlnSW50SHJ0aW1lID0gKG5hdGl2ZUhydGltZSkgPT4ge1xuICAgIHJldHVybiAodGltZSkgPT4ge1xuICAgICAgICBjb25zdCBkaWZmID0gbmF0aXZlSHJ0aW1lKHRpbWUpO1xuICAgICAgICAvLyBSZXR1cm4gdGhlIHRpbWVcbiAgICAgICAgcmV0dXJuIChkaWZmWzBdICogTlNfUEVSX1NFQyArIGRpZmZbMV0pO1xuICAgIH07XG59O1xuZXhwb3J0cy5kZWZhdWx0ID0gZ2V0QmlnSW50SHJ0aW1lO1xuIiwgIlwidXNlIHN0cmljdFwiO1xuT2JqZWN0LmRlZmluZVByb3BlcnR5KGV4cG9ydHMsIFwiX19lc01vZHVsZVwiLCB7IHZhbHVlOiB0cnVlIH0pO1xuLy8gQHRzLWlnbm9yZVxuY29uc3QgcmFuZG9tZmlsbCA9IHJlcXVpcmUoXCJyYW5kb21maWxsXCIpO1xuY29uc3QgYnJvd3Nlcl9ocnRpbWVfMSA9IHJlcXVpcmUoXCIuLi9wb2x5ZmlsbHMvYnJvd3Nlci1ocnRpbWVcIik7XG4vLyBAdHMtaWdub3JlXG5jb25zdCBwYXRoID0gcmVxdWlyZShcInBhdGgtYnJvd3NlcmlmeVwiKTtcbmNvbnN0IGluZGV4XzEgPSByZXF1aXJlKFwiLi4vaW5kZXhcIik7XG5jb25zdCBocnRpbWVfYmlnaW50XzEgPSByZXF1aXJlKFwiLi4vcG9seWZpbGxzL2hydGltZS5iaWdpbnRcIik7XG5jb25zdCBiaW5kaW5ncyA9IHtcbiAgICBocnRpbWU6IGhydGltZV9iaWdpbnRfMS5kZWZhdWx0KGJyb3dzZXJfaHJ0aW1lXzEuZGVmYXVsdCksXG4gICAgZXhpdDogKGNvZGUpID0+IHtcbiAgICAgICAgdGhyb3cgbmV3IGluZGV4XzEuV0FTSUV4aXRFcnJvcihjb2RlKTtcbiAgICB9LFxuICAgIGtpbGw6IChzaWduYWwpID0+IHtcbiAgICAgICAgdGhyb3cgbmV3IGluZGV4XzEuV0FTSUtpbGxFcnJvcihzaWduYWwpO1xuICAgIH0sXG4gICAgLy8gQHRzLWlnbm9yZVxuICAgIHJhbmRvbUZpbGxTeW5jOiByYW5kb21maWxsLnJhbmRvbUZpbGxTeW5jLFxuICAgIGlzVFRZOiAoKSA9PiB0cnVlLFxuICAgIHBhdGg6IHBhdGgsXG4gICAgLy8gTGV0IHRoZSB1c2VyIGF0dGFjaCB0aGUgZnMgYXQgcnVudGltZVxuICAgIGZzOiBudWxsXG59O1xuZXhwb3J0cy5kZWZhdWx0ID0gYmluZGluZ3M7XG4iLCAiXCJ1c2Ugc3RyaWN0XCI7XG5PYmplY3QuZGVmaW5lUHJvcGVydHkoZXhwb3J0cywgXCJfX2VzTW9kdWxlXCIsIHsgdmFsdWU6IHRydWUgfSk7XG5jb25zdCBjcnlwdG8gPSByZXF1aXJlKFwiY3J5cHRvXCIpO1xuY29uc3QgZnMgPSByZXF1aXJlKFwiZnNcIik7XG5jb25zdCB7IGlzYXR0eTogaXNUVFkgfSA9IHJlcXVpcmUoXCJ0dHlcIik7XG5jb25zdCBwYXRoID0gcmVxdWlyZShcInBhdGhcIik7XG5jb25zdCBocnRpbWVfYmlnaW50XzEgPSByZXF1aXJlKFwiLi4vcG9seWZpbGxzL2hydGltZS5iaWdpbnRcIik7XG5sZXQgYmlnSW50SHJ0aW1lID0gaHJ0aW1lX2JpZ2ludF8xLmRlZmF1bHQocHJvY2Vzcy5ocnRpbWUpO1xuaWYgKHByb2Nlc3MuaHJ0aW1lICYmIHByb2Nlc3MuaHJ0aW1lLmJpZ2ludCkge1xuICAgIGJpZ0ludEhydGltZSA9IHByb2Nlc3MuaHJ0aW1lLmJpZ2ludDtcbn1cbmNvbnN0IGJpbmRpbmdzID0ge1xuICAgIGhydGltZTogYmlnSW50SHJ0aW1lLFxuICAgIGV4aXQ6IChjb2RlKSA9PiB7XG4gICAgICAgIHByb2Nlc3MuZXhpdChjb2RlKTtcbiAgICB9LFxuICAgIGtpbGw6IChzaWduYWwpID0+IHtcbiAgICAgICAgcHJvY2Vzcy5raWxsKHByb2Nlc3MucGlkLCBzaWduYWwpO1xuICAgIH0sXG4gICAgcmFuZG9tRmlsbFN5bmM6IGNyeXB0by5yYW5kb21GaWxsU3luYyxcbiAgICBpc1RUWTogaXNUVFksXG4gICAgZnM6IGZzLFxuICAgIHBhdGg6IHBhdGhcbn07XG5leHBvcnRzLmRlZmF1bHQgPSBiaW5kaW5ncztcbiIsICJpbXBvcnQgeyBFdmVudEVtaXR0ZXIgfSBmcm9tICdldmVudHMnO1xuaW1wb3J0IGFzc2VydCBmcm9tICdhc3NlcnQnO1xuaW1wb3J0IHsgSUZzLCBjcmVhdGVGc0Zyb21Wb2x1bWUgfSBmcm9tICdtZW1mcyc7XG5cbi8vIEltcG9ydGluZyBXYXNtZXItanMgZnJvbSBgL2xpYmAgYXZvaWRzIHNvbWUgY29kZSBkdXBsaWNhdGlvbiBpblxuLy8gZ2VuZXJhdGVkIGJ1bmRsZSAoZXNwLiBgbWVtZnNgKS5cbmltcG9ydCB7IFdBU0ksIFdBU0lDb25maWcgfSBmcm9tICdAd2FzbWVyL3dhc2kvbGliJztcbmltcG9ydCB7IFdhc21GcyB9IGZyb20gJ0B3YXNtZXIvd2FzbWZzL2xpYic7XG4vL2ltcG9ydCAqIGFzIHRyYW5zZm9ybWVyIGZyb20gJ0B3YXNtZXIvd2FzbS10cmFuc2Zvcm1lcic7XG5cbmltcG9ydCB7IFNpbXBsZXhTdHJlYW0gfSBmcm9tICcuL3N0cmVhbXMnO1xuaW1wb3J0IHsgVHR5IH0gZnJvbSAnLi9iaXRzL3R0eSc7XG5pbXBvcnQgeyBQcm9jLCBQcm9jT3B0aW9ucyB9IGZyb20gJy4vYml0cy9wcm9jJztcbmltcG9ydCBzdHVicyBmcm9tICcuL2JpdHMvc3R1YnMnO1xuXG5pbXBvcnQgeyB1dGY4ZW5jb2RlLCB1dGY4ZGVjb2RlIH0gZnJvbSAnLi9iaW5kaW5ncy91dGY4JztcbmltcG9ydCB7IGlzQnJvd3NlciB9IGZyb20gJy4uL2luZnJhL2FyY2gnO1xuaW1wb3J0IHsgU2hhcmVkVm9sdW1lIH0gZnJvbSAnLi9zZXJ2aWNlcy9zaGFyZWQtZnMnO1xuXG5XQVNJLmRlZmF1bHRCaW5kaW5ncyA9XG4gICAgaXNCcm93c2VyID8gcmVxdWlyZShcIkB3YXNtZXIvd2FzaS9saWIvYmluZGluZ3MvYnJvd3NlclwiKS5kZWZhdWx0XG4gICAgICAgICAgICAgIDogcmVxdWlyZShcIkB3YXNtZXIvd2FzaS9saWIvYmluZGluZ3Mvbm9kZVwiKS5kZWZhdWx0O1xuXG5cblxuY2xhc3MgRXhlY0NvcmUgZXh0ZW5kcyBFdmVudEVtaXR0ZXIge1xuXG4gICAgb3B0czogRXhlY0NvcmVPcHRpb25zXG4gICAgc3RkaW46IFNpbXBsZXhTdHJlYW1cbiAgICB3YXNtRnM6IFdhc21Gc1xuICAgIGVudjogRW52aXJvblxuICAgIGFyZ3Y6IHN0cmluZ1tdXG4gICAgd2FzaTogV0FTSVxuICAgIHdhc206IFdlYkFzc2VtYmx5LldlYkFzc2VtYmx5SW5zdGFudGlhdGVkU291cmNlXG4gICAgc3RkaW9GZHM6IGFueVtdXG5cbiAgICB0dHk6IFR0eVxuICAgIHByb2M6IFByb2NcblxuICAgIGV4aXRlZDogYm9vbGVhblxuXG4gICAgY2FjaGVkOiBNYXA8c3RyaW5nLCBQcm9taXNlPFdlYkFzc2VtYmx5Lk1vZHVsZT4+IC8qIGNhY2hlZCBiaW5hcmllcyAqL1xuXG4gICAgZGVidWc6ICguLi5hcmdzOiBhbnkpID0+IHZvaWQgPSBub3BcbiAgICB0cmFjZToge3VzZXI6ICh1aThhOiBVaW50OEFycmF5KSA9PiB2b2lkLFxuICAgICAgICAgICAgc3lzY2FsbHM6ICguLi5hcmdzOiBhbnkpID0+IHZvaWR9ID0ge3VzZXI6IG5vcCwgc3lzY2FsbHM6IG5vcH1cblxuICAgIGNvbnN0cnVjdG9yKG9wdHM6IEV4ZWNDb3JlT3B0aW9ucyA9IHt9KSB7XG4gICAgICAgIHN1cGVyKCk7XG4gICAgICAgIHRoaXMub3B0cyA9IG9wdHMgPSBPYmplY3QuYXNzaWduKHt9LCBkZWZhdWx0cywgb3B0cyk7XG4gICAgICAgIFxuICAgICAgICAvLyBDb25maWd1cmUgZW52cmlvbm1lbnRcbiAgICAgICAgdGhpcy5zdGRpbiA9IG9wdHMuc3RkaW4gPyBuZXcgU2ltcGxleFN0cmVhbSgpIDogbnVsbDtcbiAgICAgICAgdGhpcy53YXNtRnMgPSBuZXcgV2FzbUZzKCk7XG5cbiAgICAgICAgdGhpcy5wb3B1bGF0ZVJvb3RGcygpO1xuXG4gICAgICAgIHRoaXMucHJvYyA9IG5ldyBQcm9jKHRoaXMsIG9wdHMucHJvYyk7XG4gICAgICAgIHRoaXMudHR5ID0gb3B0cy50dHkgPyBuZXcgVHR5KHRoaXMpIDogbnVsbDtcbiAgICAgICAgdGhpcy5jYWNoZWQgPSAob3B0cy5jYWNoZUJpbnMgIT09IGZhbHNlKSA/IG5ldyBNYXAoKSA6IG51bGw7XG5cbiAgICAgICAgdGhpcy5pbml0KCk7XG4gICAgfVxuXG4gICAgaW5pdFRyYWNlcygpIHtcbiAgICAgICAgLy8gRGVidWcgcHJpbnRzXG4gICAgICAgIGlmICh0aGlzLm9wdHMuZGVidWcpIHtcbiAgICAgICAgICAgIHRoaXMuZGVidWcgPSB0aGlzLl9kZWJ1Z1ByaW50KCk7XG4gICAgICAgICAgICB0aGlzLnRyYWNlLnVzZXIgPSB0aGlzLl90cmFjZVByaW50KCk7XG4gICAgICAgIH1cbiAgICAgICAgaWYgKHRoaXMub3B0cy50cmFjZT8uc3lzY2FsbHMpIHtcbiAgICAgICAgICAgIHRoaXMudHJhY2Uuc3lzY2FsbHMgPSB0aGlzLl90cmFjZVByaW50QW55KCk7XG4gICAgICAgIH1cbiAgICAgICAgaWYgKHRoaXMudHR5KVxuICAgICAgICAgICAgdGhpcy50dHkuZGVidWcgPSAoLi4uYSkgPT4gdGhpcy5kZWJ1ZyguLi5hKTtcbiAgICAgICAgdGhpcy5wcm9jLmRlYnVnID0gKC4uLmEpID0+IHRoaXMuZGVidWcoLi4uYSk7XG5cbiAgICAgICAgc3R1YnMuZGVidWcgPSB0aGlzLmRlYnVnOyAvLyBnbG9iYWwgOihcbiAgICB9XG5cbiAgICBpbml0KCkge1xuICAgICAgICB0aGlzLmFyZ3YgPSBbJy4nXTtcbiAgICAgICAgdGhpcy5lbnYgPSB0aGlzLmluaXRpYWxFbnYoKTtcblxuICAgICAgICAvLyBJbnN0YW50aWF0ZSBhIG5ldyBXQVNJIEluc3RhbmNlXG4gICAgICAgIHRoaXMud2FzaSA9IG5ldyBXQVNJKHtcbiAgICAgICAgICAgIGFyZ3M6IHRoaXMuYXJndixcbiAgICAgICAgICAgIGVudjogdGhpcy5lbnYsXG4gICAgICAgICAgICBiaW5kaW5nczoge1xuICAgICAgICAgICAgICAgIC4uLldBU0kuZGVmYXVsdEJpbmRpbmdzLFxuICAgICAgICAgICAgICAgIGV4aXQ6IGNvZGUgPT4geyB0aHJvdyBuZXcgV0FTSUV4aXRFcnJvcihjb2RlKSB9LFxuICAgICAgICAgICAgICAgIGZzOiB0aGlzLndhc21Gcy5mcyxcbiAgICAgICAgICAgICAgICBwYXRoOiB0aGlzLnByb2MucGF0aFxuICAgICAgICAgICAgfSxcbiAgICAgICAgICAgIHByZW9wZW5zOiB7Jy8nOiAnLyd9LFxuICAgICAgICAgICAgLi4udGhpcy5leHRyYVdBU0lDb25maWcoKVxuICAgICAgICB9KTtcbiAgICAgICAgdGhpcy5leGl0ZWQgPSBmYWxzZTtcblxuICAgICAgICB0aGlzLnJlZ2lzdGVyU3RkaW8oKTtcbiAgICAgICAgdGhpcy5wcm9jLmluaXQoKTtcblxuICAgICAgICAvLyBJbml0aWFsaXplIHR0eSAoZm9yIHN0cmVhbWluZyBzdGRpbilcbiAgICAgICAgbGV0IHR0eSA9IHRoaXMub3B0cy50dHk7XG4gICAgICAgIGlmICh0dHkpIHtcbiAgICAgICAgICAgIHZhciBmZHMgPSAodHlwZW9mIHR0eSA9PSAnbnVtYmVyJykgPyBbdHR5XVxuICAgICAgICAgICAgICAgICAgICA6ICh0eXBlb2YgdHR5ID09ICdib29sZWFuJykgPyBbMCwxLDJdIDogdHR5O1xuICAgICAgICAgICAgdGhpcy50dHkuZmRzID0gZmRzO1xuICAgICAgICAgICAgZm9yIChsZXQgZmQgb2YgZmRzKVxuICAgICAgICAgICAgICAgIHRoaXMudHR5Lm1ha2VUdHkoZmQpO1xuICAgICAgICB9XG4gICAgfVxuXG4gICAgY29uZmlndXJlKG9wdHM6IEV4ZWNDb3JlT3B0aW9ucykge1xuICAgICAgICAvKiogQHRvZG8gcmVzZXQgaWYgbmVlZGVkICovXG4gICAgICAgIE9iamVjdC5hc3NpZ24odGhpcy5vcHRzLCBvcHRzKTtcbiAgICB9XG5cbiAgICByZXNldCgpIHtcbiAgICAgICAgaWYgKHRoaXMuc3RkaW4pIHRoaXMuc3RkaW4ucmVzZXQoKTtcbiAgICAgICAgdGhpcy5pbml0KCk7XG4gICAgfVxuXG4gICAgYXN5bmMgc3RhcnQod2FzbVVyaTogc3RyaW5nLCBhcmd2Pzogc3RyaW5nW10sIGVudj86IHt9KSB7XG4gICAgICAgIGlmICh0aGlzLmV4aXRlZCkgdGhpcy5yZXNldCgpO1xuXG4gICAgICAgIGlmIChhcmd2KSB0aGlzLmFyZ3Yuc3BsaWNlKDAsIEluZmluaXR5LCAuLi5hcmd2KTtcbiAgICAgICAgaWYgKGVudikgIE9iamVjdC5hc3NpZ24odGhpcy5lbnYsIGVudik7XG4gICAgICAgIHRoaXMucHJvYy5vcHRzID0gdGhpcy5vcHRzLnByb2MgfHwge307IC8vIGluIGNhc2UgbmV3IG9wdGlvbnMgd2hlcmUgc2V0XG4gICAgICAgIHRoaXMuaW5pdFRyYWNlcygpO1xuXG4gICAgICAgIC8vIEZldGNoIFdhc20gYmluYXJ5IGFuZCBpbnN0YW50aWF0ZSBXZWJBc3NlbWJseSBpbnN0YW5jZVxuICAgICAgICB2YXIgd2Ftb2R1bGUgPSBhd2FpdCB0aGlzLmZldGNoQ29tcGlsZSh3YXNtVXJpKSxcbiAgICAgICAgICAgIHdhaW5zdGFuY2UgPSBhd2FpdCBXZWJBc3NlbWJseS5pbnN0YW50aWF0ZSh3YW1vZHVsZSxcbiAgICAgICAgICAgICAgICB0aGlzLmdldEltcG9ydHMod2Ftb2R1bGUpKTtcbiAgICAgICAgXG4gICAgICAgIHRoaXMud2FzbSA9IHttb2R1bGU6IHdhbW9kdWxlLCBpbnN0YW5jZTogd2FpbnN0YW5jZX07XG4gICAgXG4gICAgICAgIC8vIFN0YXJ0IHRoZSBXZWJBc3NlbWJseSBXQVNJIGluc3RhbmNlXG4gICAgICAgIHRyeSB7XG4gICAgICAgICAgICB0aGlzLndhc2kuc3RhcnQodGhpcy53YXNtLmluc3RhbmNlKTtcbiAgICAgICAgICAgIHJldHVybiAwO1xuICAgICAgICB9XG4gICAgICAgIGNhdGNoIChlKSB7XG4gICAgICAgICAgICBpZiAoZSBpbnN0YW5jZW9mIFdBU0lFeGl0RXJyb3IpIHJldHVybiBlLmNvZGU7XG4gICAgICAgICAgICBlbHNlIHRocm93IGU7XG4gICAgICAgIH1cbiAgICAgICAgZmluYWxseSB7XG4gICAgICAgICAgICB0aGlzLmV4aXRlZCA9IHRydWU7XG4gICAgICAgIH1cbiAgICB9XG5cbiAgICBnZXQgZnMoKTogSUZzIHsgcmV0dXJuIHRoaXMud2FzbUZzLmZzOyB9XG5cbiAgICBhc3luYyBmZXRjaCh1cmk6IHN0cmluZykge1xuICAgICAgICBpZiAodHlwZW9mIGZldGNoICE9PSAndW5kZWZpbmVkJykge1xuICAgICAgICAgICAgY29uc3QgcmVzcG9uc2UgPSBhd2FpdCBmZXRjaCh1cmkpO1xuICAgICAgICAgICAgcmV0dXJuIG5ldyBVaW50OEFycmF5KGF3YWl0IHJlc3BvbnNlLmFycmF5QnVmZmVyKCkpO1xuICAgICAgICB9XG4gICAgICAgIGVsc2Uge1xuICAgICAgICAgICAgY29uc3QgZnMgPSByZXF1aXJlKCdmcycpO1xuICAgICAgICAgICAgcmV0dXJuICgwfHxmcy5yZWFkRmlsZVN5bmMpKHVyaSk7ICAvLyBieXBhc3MgUGFyY2VsXG4gICAgICAgIH1cbiAgICB9XG5cbiAgICBhc3luYyBmZXRjaENvbXBpbGUodXJpOiBzdHJpbmcpIHtcbiAgICAgICAgcmV0dXJuIG1lbW9pemVNYXliZSh0aGlzLmNhY2hlZCwgdXJpLCBhc3luYyAodXJpOiBzdHJpbmcpID0+IHtcbiAgICAgICAgICAgIHZhciBieXRlcyA9IGF3YWl0IHRoaXMuZmV0Y2godXJpKTtcbiAgICAgICAgICAgIC8qKiBAdG9kbyBtYXliZSB1c2UgYHdhc20tZmVhdHVyZS1kZXRlY3RgIHRvIHJ1biB0aGUgdHJhbnNmb3JtZXIgKi9cbiAgICAgICAgICAgIC8qKiBvbiBkZW1hbmQgZGVwZW5kaW5nIG9uIHJ1bnRpbWUgc3VwcG9ydD8gKi9cbiAgICAgICAgICAgIC8vYnl0ZXMgPSBhd2FpdCB0cmFuc2Zvcm1lci5sb3dlckk2NEltcG9ydHMoYnl0ZXMpO1xuICAgICAgICAgICAgcmV0dXJuIFdlYkFzc2VtYmx5LmNvbXBpbGUoYnl0ZXMpO1xuICAgICAgICB9KTtcbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBAdG9kbyB3YXJuIGFib3V0IHVucmVzb2x2ZWQgc3ltYm9scyBzdWNoIGFzIGBfX1NJR19JR05gIHRoYXQgc3RlbVxuICAgICAqICAgIGZyb20gbm90IGxpbmtpbmcgc29tZSB3YXNpLXNkayBlbXVsYXRpb24gbGliIChgLWx3YXNpLWVtdWxhdGVkLXNpZ25hbGApLlxuICAgICAqL1xuICAgIGdldEltcG9ydHMod2Ftb2R1bGU6IFdlYkFzc2VtYmx5Lk1vZHVsZSkge1xuICAgICAgICByZXR1cm4ge1xuICAgICAgICAgICAgLi4udGhpcy53YXNpLmdldEltcG9ydHMod2Ftb2R1bGUpLFxuICAgICAgICAgICAgd2FzaWtfZXh0OiB7Li4udGhpcy5wcm9jLmV4dGxpYiwgLi4udGhpcy50dHk/LmV4dGxpYn0sXG4gICAgICAgICAgICBlbnY6IHsuLi50aGlzLnByb2MuaW1wb3J0LCAuLi50aGlzLnR0eT8uaW1wb3J0fVxuICAgICAgICB9O1xuICAgIH1cblxuICAgIC8qKlxuICAgICAqIFJldHVybnMgYW4gb2JqZWN0IHRoYXQgY2FuIGJlIHNoYXJlZCB3aXRoIGEgcGFyZW50IHRocmVhZFxuICAgICAqICh2aWEgZS5nLiBgV29ya2VyLnBvc3RNZXNzYWdlYCkgdG8gY29tbXVuaWNhdGUgd2l0aCB0aGlzIGNvcmUuXG4gICAgICovXG4gICAgc2hhcmUoKTogYW55IHtcbiAgICAgICAgcmV0dXJuIHtcbiAgICAgICAgICAgIHN0ZGluOiB0aGlzLnN0ZGluLnRvKCksXG4gICAgICAgICAgICB0dHk6IHRoaXMudHR5LnRvKCksXG4gICAgICAgICAgICBzaWd2ZWM6IHRoaXMucHJvYy5zaWd2ZWMudG8oKSxcbiAgICAgICAgICAgIGNoaWxkcTogdGhpcy5wcm9jLmNoaWxkcS50bygpXG4gICAgICAgIH07XG4gICAgfVxuICAgIFxuICAgIGVtaXRXcml0ZShmZDogbnVtYmVyLCBidWZmZXI6IEJ1ZmZlciB8IFVpbnQ4QXJyYXkpIHtcbiAgICAgICAgdGhpcy5lbWl0KCdzdHJlYW06b3V0Jywge2ZkOiBmZCwgZGF0YTogYnVmZmVyfSk7XG4gICAgICAgIHJldHVybiBidWZmZXIubGVuZ3RoO1xuICAgIH1cblxuICAgIC8qKlxuICAgICAqIEluaXRpYWwgZW52aXJvbm1lbnQgdmFyaWFibGVzXG4gICAgICovXG4gICAgaW5pdGlhbEVudigpIHtcbiAgICAgICAgcmV0dXJuIHRoaXMub3B0cy5lbnYgPyBPYmplY3QuYXNzaWduKHt9LCB0aGlzLm9wdHMuZW52KSBcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgOiB0aGlzLmRlZmF1bHRFbnYoKTtcbiAgICB9XG5cbiAgICBkZWZhdWx0RW52KCkge1xuICAgICAgICByZXR1cm4ge1BBVEg6ICcvYmluJywgUFdEOiAnL2hvbWUnfTtcbiAgICB9XG5cbiAgICBleHRyYVdBU0lDb25maWcoKTogV0FTSUNvbmZpZyB7XG4gICAgICAgIGxldCBvID0gdGhpcy5vcHRzO1xuICAgICAgICByZXR1cm4ge3RyYWNlU3lzY2FsbHM6IG8udHJhY2UgJiYgby50cmFjZS5zeXNjYWxsc31cbiAgICB9XG5cbiAgICByZWdpc3RlclN0ZGlvKCkge1xuICAgICAgICB2YXIgdm9sdW1lID0gdGhpcy53YXNtRnMudm9sdW1lO1xuXG4gICAgICAgIGlmICghKHZvbHVtZS5mZHNbMF0gJiYgdm9sdW1lLmZkc1sxXSAmJiB2b2x1bWUuZmRzWzJdKSkge1xuICAgICAgICAgICAgLy8gc3RkaW8gZmRzIGhhdmUgYmVlbiBjbG9zZWQuIHJlLWluaXRcbiAgICAgICAgICAgIHZvbHVtZS5yZWxlYXNlZEZkcyA9IFswLCAxLCAyXTtcbiAgICAgICAgICAgIGNvbnN0IGZkRXJyID0gdm9sdW1lLm9wZW5TeW5jKFwiL2Rldi9zdGRlcnJcIiwgXCJ3XCIpLFxuICAgICAgICAgICAgICAgICAgZmRPdXQgPSB2b2x1bWUub3BlblN5bmMoXCIvZGV2L3N0ZG91dFwiLCBcIndcIiksXG4gICAgICAgICAgICAgICAgICBmZEluID0gdm9sdW1lLm9wZW5TeW5jKFwiL2Rldi9zdGRpblwiLCBcInJcIik7XG4gICAgICAgICAgICBhc3NlcnQoZmRJbiA9PSAwICYmIGZkT3V0ID09IDEgJiYgZmRFcnIgPT0gMik7XG4gICAgICAgIH1cblxuICAgICAgICBpZiAodGhpcy5zdGRpbilcbiAgICAgICAgICAgIHZvbHVtZS5mZHNbMF0ucmVhZCA9IHRoaXMuc3RkaW4ucmVhZC5iaW5kKHRoaXMuc3RkaW4pO1xuICAgICAgICB2b2x1bWUuZmRzWzFdLndyaXRlID0gZCA9PiB0aGlzLmVtaXRXcml0ZSgxLCBkKTtcbiAgICAgICAgdm9sdW1lLmZkc1syXS53cml0ZSA9IGQgPT4gdGhpcy5lbWl0V3JpdGUoMiwgZCk7XG4gICAgfVxuXG4gICAgbW91bnRGcyh2b2x1bWU6IFNoYXJlZFZvbHVtZSkge1xuICAgICAgICB2b2x1bWUuZnJvbUpTT04odGhpcy53YXNtRnMudm9sdW1lLnRvSlNPTigpKTtcbiAgICAgICAgdGhpcy53YXNtRnMudm9sdW1lID0gdm9sdW1lO1xuICAgICAgICB0aGlzLndhc21Gcy5mcyA9IGNyZWF0ZUZzRnJvbVZvbHVtZSh2b2x1bWUpO1xuICAgICAgICAvLyBtdXN0IHJlY3JlYXRlIFdBU0kgbm93XG4gICAgICAgIHRoaXMuaW5pdCgpO1xuICAgIH1cblxuICAgIC8qKlxuICAgICAqIEJvb3RzdHJhcHBpbmcgZmlsZXN5c3RlbSBjb250ZW50c1xuICAgICAqL1xuICAgIHBvcHVsYXRlUm9vdEZzKCkge1xuICAgICAgICB0aGlzLndhc21Gcy5mcy5ta2RpclN5bmMoXCIvaG9tZVwiKTtcbiAgICAgICAgdGhpcy53YXNtRnMuZnMubWtkaXJTeW5jKFwiL2JpblwiKTtcbiAgICB9XG5cbiAgICBfZGVidWdQcmludCgpIHtcbiAgICAgICAgcmV0dXJuIChnbG9iYWwucHJvY2VzcykgPyAvKiBjb25zb2xlIGlzIGZ1bmt5IGluIE5vZGUgd29ya2VyIHRocmVhZHMgKi9cbiAgICAgICAgICAgICguLi5hcmdzOiBhbnkpID0+IHRoaXMuZW1pdFdyaXRlKDIsIHV0ZjhlbmNvZGUoYXJncy5qb2luKFwiIFwiKSsnXFxuJykpXG4gICAgICAgICAgOiBjb25zb2xlLmxvZztcbiAgICB9XG5cbiAgICBfdHJhY2VQcmludCgpIHtcbiAgICAgICAgcmV0dXJuIChnbG9iYWwucHJvY2VzcykgPyAvKiBjb25zb2xlIGlzIGZ1bmt5IGluIE5vZGUgd29ya2VyIHRocmVhZHMgKi9cbiAgICAgICAgICAgICh1aThhOiBVaW50OEFycmF5KSA9PiB0aGlzLmVtaXRXcml0ZSgyLCB1aThhKVxuICAgICAgICAgIDogKHVpOGE6IFVpbnQ4QXJyYXkpID0+IGNvbnNvbGUud2FybignW3RyYWNlXScsIHV0ZjhkZWNvZGUodWk4YSksIHVpOGEpO1xuICAgIH1cblxuICAgIF90cmFjZVByaW50QW55KCkge1xuICAgICAgICByZXR1cm4gKGdsb2JhbC5wcm9jZXNzKSA/IC8qIGNvbnNvbGUgaXMgZnVua3kgaW4gTm9kZSB3b3JrZXIgdGhyZWFkcyAqL1xuICAgICAgICAgICAgKC4uLmFyZ3M6IGFueSkgPT4gdGhpcy5lbWl0V3JpdGUoMiwgdXRmOGVuY29kZShhcmdzLnRvU3RyaW5nKCkpKVxuICAgICAgICAgIDogKC4uLmFyZ3M6IGFueSkgPT4gY29uc29sZS53YXJuKCdbdHJhY2VdJywgLi4uYXJncyk7XG4gICAgfVxufVxuXG50eXBlIEV4ZWNDb3JlT3B0aW9ucyA9IHtcbiAgICBzdGRpbj8gOiBib29sZWFuLFxuICAgIHR0eT8gOiBib29sZWFuIHwgbnVtYmVyIHwgW251bWJlcl0sXG4gICAgcHJvYz86IFByb2NPcHRpb25zLFxuICAgIGVudj86IEVudmlyb24sXG4gICAgY2FjaGVCaW5zPzogYm9vbGVhbixcbiAgICBkZWJ1Zz86IGJvb2xlYW4sXG4gICAgdHJhY2U/OiB7c3lzY2FsbHM/OiBib29sZWFufVxufTtcblxudHlwZSBFbnZpcm9uID0ge1trOiBzdHJpbmddOiBzdHJpbmd9O1xuXG5jb25zdCBkZWZhdWx0czogRXhlY0NvcmVPcHRpb25zID0ge3N0ZGluOiB0cnVlfTtcblxuY29uc3Qgbm9wID0gKCkgPT4ge307XG5cblxuZnVuY3Rpb24gbWVtb2l6ZTxLLCBWPihjYWNoZTogTWFwPEssIFY+LCBrOiBLLCBmOiAoazogSykgPT4gVikge1xuICAgIGxldCB2ID0gY2FjaGUuZ2V0KGspO1xuICAgIGlmICghdikge1xuICAgICAgICB2ID0gZihrKTtcbiAgICAgICAgY2FjaGUuc2V0KGssIHYpO1xuICAgIH1cbiAgICByZXR1cm4gdjtcbn1cblxuZnVuY3Rpb24gbWVtb2l6ZU1heWJlPEssIFY+KGNhY2hlOiBNYXA8SywgVj4sIGs6IEssIGY6IChrOiBLKSA9PiBWKSB7XG4gICAgcmV0dXJuIGNhY2hlID8gbWVtb2l6ZShjYWNoZSwgaywgZikgOiBmKGspO1xufVxuXG5cbi8qKlxuICogYEB3YXNtZXIvd2FzaWAgZXhwb3J0cyB0aGlzIGNsYXNzIGFzIEVTNSAgOi9cbiAqIFRoaXMga2lsbHMgaW5zdGFuY2VvZi4gU28gcmVkZWZpbmluZyBpdCBoZXJlLiAtXy1cbiAqL1xuZXhwb3J0IGNsYXNzIFdBU0lFeGl0RXJyb3IgLyogZXh0ZW5kcyBFcnJvciovIHtcbiAgICBjb2RlOiBudW1iZXIgfCBudWxsO1xuICAgIGNvbnN0cnVjdG9yKGNvZGU6IG51bWJlciB8IG51bGwpIHtcbiAgICAgICAgLy9zdXBlcihgV0FTSSBFeGl0IGVycm9yOiAke2NvZGV9YCk7XG4gICAgICAgIHRoaXMuY29kZSA9IGNvZGU7XG4gICAgfVxufVxuXG5cbmV4cG9ydCB7RXhlY0NvcmUsIEVudmlyb24sIEV4ZWNDb3JlT3B0aW9uc31cbiIsICJpbXBvcnQgeyBJY29xUG9kIH0gZnJvbSAnLi9jb3JlJztcblxuZnVuY3Rpb24gcG9zdE1lc3NhZ2UobXNnKSB7XG4gICAgKDxhbnk+c2VsZikucG9zdE1lc3NhZ2UobXNnKTtcbn1cblxuYXN5bmMgZnVuY3Rpb24gbWFpbihiYXNlVVJJIDogc3RyaW5nKSB7XG5cbiAgICAvLyBXZSBjYW4gb25seSByZWFsbHkgc3RhcnQgd2hlbiB3ZSBnZXQgdGhlIHJlYWwgYmFzZVVSSSBmcm9tIHRoZSBleHRlbnNpb24gc2lkZS5cbiAgICBsZXQgYmluRGlyID0gYmFzZVVSSSArIFwiL2NvbnRyb2xsZXItd2FzbS9vdXQvXCI7XG4gICAgbGV0IG5tRGlyID0gYmFzZVVSSSArIFwiL2NvbnRyb2xsZXItd2FzbS9ub2RlX21vZHVsZXMvXCI7XG5cbiAgICBsZXQgYXJyID0gW107XG5cbiAgICAvLyBXZSBidWZmZXIgaW5pdCBtZXNzYWdlc1xuICAgIGNvbnN0IHB1c2hNc2cgPSAobXNnKSA9PiB7XG4gICAgICAgIGFyci5wdXNoKG1zZy5kYXRhKTtcbiAgICB9XG4gICAgYWRkRXZlbnRMaXN0ZW5lcignbWVzc2FnZScsIHB1c2hNc2cpO1xuXG4gICAgLy8gc3RhcnQgSUNvcVxuICAgIHZhciBpY29xID0gbmV3IEljb3FQb2QoYmluRGlyLCBubURpcik7XG5cbiAgICBpY29xLm9uKCdtZXNzYWdlJywgcG9zdE1lc3NhZ2UpO1xuXG4gICAgYXdhaXQgaWNvcS5ib290KCk7XG5cbiAgICBhcnIuZm9yRWFjaCgoYSkgPT4ge1xuICAgICAgaWNvcS5jb21tYW5kKGEpXG4gICAgfSk7XG5cbiAgICAvLyBSZW1vdmUgdGhlIHByZXZpb3VzIG9uZVxuICAgIGFkZEV2ZW50TGlzdGVuZXIoJ21lc3NhZ2UnLCAobXNnKSA9PiB7XG4gICAgICAgIGljb3EuY29tbWFuZChtc2cuZGF0YSk7XG4gICAgfSk7XG5cbiAgICByZW1vdmVFdmVudExpc3RlbmVyKCdtZXNzYWdlJywgcHVzaE1zZyk7XG5cbiAgICAvLyBJZGxlIGxvb3BcbiAgICBzZXRJbnRlcnZhbCgoKSA9PiB7XG4gICAgICAgIGljb3EuaWRsZSgpO1xuICAgIH0sIDIwMCk7XG5cbiAgICBPYmplY3QuYXNzaWduKGdsb2JhbCwge2ljb3F9KTtcbn1cblxuYXN5bmMgZnVuY3Rpb24gbWFpbl9nZXRfZGlyKCkge1xuXG4gIC8vIEZpcnN0IG1lc3NhZ2VzIF9tdXN0XyBiZSB0aGUgYmFzZVVyaVxuICBhZGRFdmVudExpc3RlbmVyKCdtZXNzYWdlJywgKGV2ZW50KSA9PiB7XG4gICAgbWFpbihldmVudC5kYXRhKTtcbiAgfSwgeyBvbmNlOiB0cnVlIH0gKTtcblxufVxuXG5tYWluX2dldF9kaXIoKTtcblxuLy8gTG9jYWwgVmFyaWFibGVzOlxuLy8gdHlwZXNjcmlwdC1pbmRlbnQtbGV2ZWw6IDRcbi8vIEVuZDpcbiIsICJpbXBvcnQgeyBFdmVudEVtaXR0ZXIgfSBmcm9tICdldmVudHMnO1xuaW1wb3J0IHsgdW56aXBTeW5jIH0gZnJvbSAnZmZsYXRlJztcbmltcG9ydCB7IGlzQnJvd3NlciwgaXNXZWJXb3JrZXIgfSBmcm9tICdicm93c2VyLW9yLW5vZGUnO1xuaW1wb3J0IHsgT0NhbWxFeGVjdXRhYmxlLCBPQ2FtbEV4ZWN1dGFibGVPcHRpb25zLCBPQ2FtbENBUEkgfSBmcm9tICcuL29jYW1sX2V4ZWMnO1xuaW1wb3J0IHsgV29ya2VySW50ZXJydXB0cyB9IGZyb20gJy4vaW50ZXJydXB0JztcblxuY2xhc3MgSWNvcVBvZCBleHRlbmRzIEV2ZW50RW1pdHRlciB7XG5cbiAgICBjb3JlOiBPQ2FtbEV4ZWN1dGFibGVcbiAgICBpbnRyOiBXb3JrZXJJbnRlcnJ1cHRzXG5cbiAgICBiaW5EaXI6IHN0cmluZ1xuICAgIG5tRGlyOiBzdHJpbmdcbiAgICBpbzogSU9cblxuICAgIGNvbnN0cnVjdG9yKGJpbkRpcj86IHN0cmluZywgbm1EaXI/OiBzdHJpbmcsIGZldGNoTW9kZTogRmV0Y2hNb2RlID0gREVGQVVMVF9GRVRDSF9NT0RFKSB7XG4gICAgICAgIHN1cGVyKCk7XG4gICAgICAgIGJpbkRpciA9IGJpbkRpciB8fCAoZmV0Y2hNb2RlID09PSAnZnMnID8gJy4vYmluJyA6ICcuLi9iaW4nKTtcbiAgICAgICAgdGhpcy5iaW5EaXIgPSBiaW5EaXI7XG4gICAgICAgIHRoaXMubm1EaXIgPSBubURpciA/PyAnLi4vbm9kZV9tb2R1bGVzJztcblxuICAgICAgICBsZXQgb3B0aW9ucyA6IE9DYW1sRXhlY3V0YWJsZU9wdGlvbnMgPSB7XG4gICAgICAgICAgICBzdGRpbjogZmFsc2UsXG4gICAgICAgICAgICB0dHk6IGZhbHNlLFxuICAgICAgICAgICAgYmluRGlyOiBgJHtubURpcn0vb2NhbWwtd2FzbS9iaW5gLFxuICAgICAgICAgICAgZGVidWc6IGZhbHNlLFxuICAgICAgICAgICAgLy8gZGVidWc6IHRydWUsXG4gICAgICAgICAgICAvLyB0cmFjZTogeyBzeXNjYWxsczogdHJ1ZX1cbiAgICAgICAgfTtcblxuICAgICAgICB0aGlzLmNvcmUgPSBuZXcgT0NhbWxFeGVjdXRhYmxlKG9wdGlvbnMpO1xuXG4gICAgICAgIHZhciB1dGY4ID0gbmV3IFRleHREZWNvZGVyKCk7XG4gICAgICAgIHRoaXMuY29yZS5vbignc3RyZWFtOm91dCcsIGV2ID0+IGNvbnNvbGUubG9nKHV0ZjguZGVjb2RlKGV2LmRhdGEpKSk7XG5cbiAgICAgICAgdGhpcy5pbyA9IG5ldyBJTyhmZXRjaE1vZGUpO1xuICAgICAgICB0aGlzLmludHIgPSBuZXcgV29ya2VySW50ZXJydXB0cygpO1xuICAgIH1cblxuICAgIGFzeW5jIGZpbmRsaWJTdGFydHVwKCkge1xuICAgICAgICAvLyB0aGlzLnB1dEZpbGUoJy9saWIvZmluZGxpYi5jb25mJywgYHBhdGg9XCIvbGliL29jYW1sXCJgKTtcblxuICAgICAgICAvLyBCYXNlIGZpbGVzeXN0ZW0gd2l0aCBSb2NxJ3MgQ29yZWxpYiBhbmQgT0NhbWwgZHlubGluayBpbmZvXG4gICAgICAgIC8vIGFuZCBwbHVnaW5zXG4gICAgICAgIGF3YWl0IHRoaXMudW56aXAodGhpcy5iaW5EaXIgKyAnY29yZS1mcy56aXAnLCAnLycpO1xuICAgIH1cblxuICAgIGdldCBmcygpIHsgcmV0dXJuIHRoaXMuY29yZS5mczsgfVxuXG4gICAgYXN5bmMgYm9vdCgpIHtcbiAgICAgICAgYXdhaXQgdGhpcy51cGxvYWQoYCR7dGhpcy5iaW5EaXJ9L3dhY29xX3dvcmtlci5iY2AsICcvbGliL2ljb3EuYmMnKTtcbiAgICAgICAgYXdhaXQgdGhpcy5maW5kbGliU3RhcnR1cCgpOyAvKiBAdG9kbyAqL1xuXG4gICAgICAgIGF3YWl0IHRoaXMuX3ByZWxvYWRTdHViKCk7XG5cbiAgICAgICAgYXdhaXQgdGhpcy5jb3JlLnJ1bignL2xpYi9pY29xLmJjJywgW10sIFsnd2Fjb3FfcG9zdCcsICd3YWNvcV9pZGxlJ10pO1xuICAgIH1cblxuICAgIGFzeW5jIHVwbG9hZChmcm9tVXJpOiBzdHJpbmcsIHRvUGF0aDogc3RyaW5nKSB7XG4gICAgICAgIHZhciBjb250ZW50ID0gYXdhaXQgdGhpcy5pby5fZmV0Y2goZnJvbVVyaSk7XG4gICAgICAgIHRoaXMucHV0RmlsZSh0b1BhdGgsIGNvbnRlbnQpO1xuICAgIH1cblxuICAgIGxvYWRQYWNrYWdlKHVyaTogc3RyaW5nLCByZWZyZXNoOiBib29sZWFuID0gdHJ1ZSkge1xuICAgICAgICByZXR1cm4gdGhpcy5sb2FkUGFja2FnZXMoW3VyaV0sIHJlZnJlc2gpO1xuICAgIH1cblxuICAgIGFzeW5jIGxvYWRQYWNrYWdlcyh1cmlzOiBzdHJpbmcgfCBzdHJpbmdbXSwgcmVmcmVzaDogYm9vbGVhbiA9IHRydWUpIHtcbiAgICAgICAgaWYgKHR5cGVvZiB1cmlzID09ICdzdHJpbmcnKSB1cmlzID0gW3VyaXNdO1xuXG4gICAgICAgIGF3YWl0IFByb21pc2UuYWxsKHVyaXMubWFwKGFzeW5jIHVyaSA9PiB7XG4gICAgICAgICAgICB0cnkge1xuICAgICAgICAgICAgICAgIGF3YWl0IHRoaXMudW56aXAodXJpLCAnLycpO1xuICAgICAgICAgICAgICAgIHRoaXMuYW5zd2VyKFtbJ0xpYkxvYWRlZCcsIHVyaV1dKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGNhdGNoIChlKSB7XG4gICAgICAgICAgICAgICAgdGhpcy5hbnN3ZXIoW1snTGliRXJyb3InLCB1cmksIGUudG9TdHJpbmcoKV1dKTtcbiAgICAgICAgICAgICAgICB0aHJvdyBlO1xuICAgICAgICAgICAgfVxuICAgICAgICB9KSk7XG5cbiAgICAgICAgLy8gaWYgKHJlZnJlc2gpXG4gICAgICAgIC8vICAgIHRoaXMuY29tbWFuZChbJ1JlZnJlc2hMb2FkUGF0aCddKTtcblxuICAgICAgICB0aGlzLmFuc3dlcihbWydMb2FkZWRQa2cnLCB1cmlzXV0pO1xuICAgIH1cblxuICAgIGFzeW5jIGxvYWRTb3VyY2VzKHVyaTogc3RyaW5nLCBkaXJwYXRoOiBzdHJpbmcpIHtcbiAgICAgICAgdmFyIHN1YmRpciA9IGRpcnBhdGgucmVwbGFjZSgvWy5dfChbXi9dKSQvZywgJyQxLycpO1xuICAgICAgICB0aGlzLnVuemlwKHVyaSwgYC9zcmMvJHtzdWJkaXJ9YCk7XG4gICAgfVxuXG4gICAgdW56aXAodXJpOiBzdHJpbmcsIGRpcjogc3RyaW5nKSB7XG4gICAgICAgIHJldHVybiB0aGlzLmlvLnVuemlwKHRoaXMuX3BrZ1VyaSh1cmkpLFxuICAgICAgICAgICAgICAgICAgICAoZm4sIHVpOGEpID0+IHRoaXMucHV0RmlsZShgJHtkaXJ9LyR7Zm59YCwgdWk4YSksXG4gICAgICAgICAgICAgICAgICAgIHAgPT4gdGhpcy5fcHJvZ3Jlc3ModXJpLCBwKSk7XG4gICAgfVxuXG4gICAgX3BrZ1VyaSh1cmk6IHN0cmluZykge1xuICAgICAgICByZXR1cm4gKHVyaVswXSA9PSAnKycpID9cbiAgICAgICAgICAgIGAke3RoaXMuYmluRGlyfS9jb3EvJHt1cmkuc3Vic3RyaW5nKDEpfS5jb3EtcGtnYCA6IHVyaTtcbiAgICB9XG5cbiAgICBfcHJvZ3Jlc3ModXJpOiBzdHJpbmcsIGRvd25sb2FkOiBEb3dubG9hZFByb2dyZXNzKSB7XG4gICAgICAgIHRoaXMuZW1pdCgncHJvZ3Jlc3MnLCB7dXJpLCBkb3dubG9hZH0pO1xuICAgIH1cblxuICAgIHB1dEZpbGUoZmlsZW5hbWU6IHN0cmluZywgY29udGVudDogVWludDhBcnJheSB8IHN0cmluZykge1xuICAgICAgICBpZiAoIWZpbGVuYW1lLnN0YXJ0c1dpdGgoJy8nKSkgZmlsZW5hbWUgPSBgL2xpYi8ke2ZpbGVuYW1lfWA7XG4gICAgICAgIC8vIG5lZWRzIHRvIGJlIHN5bmNocm9ub3VzXG4gICAgICAgIHRoaXMuZnMubWtkaXJwU3luYyhmaWxlbmFtZS5yZXBsYWNlKC9bL11bXi9dKyQvLCAnJykpXG4gICAgICAgIHRoaXMuZnMud3JpdGVGaWxlU3luYyhmaWxlbmFtZSwgY29udGVudCk7XG4gICAgfVxuXG4gICAgZ2V0RmlsZShmaWxlbmFtZTogc3RyaW5nKSB7XG4gICAgICAgIGlmICghZmlsZW5hbWUuc3RhcnRzV2l0aCgnLycpKSBmaWxlbmFtZSA9IGAvbGliLyR7ZmlsZW5hbWV9YDtcbiAgICAgICAgdmFyIGJ1ZjogVWludDhBcnJheSA9IG51bGw7XG4gICAgICAgIHRyeSB7IGJ1ZiA9IDxhbnk+dGhpcy5mcy5yZWFkRmlsZVN5bmMoZmlsZW5hbWUpOyB9IGNhdGNoIHsgfVxuICAgICAgICB0aGlzLmFuc3dlcihbWydHb3QnLCBmaWxlbmFtZSwgYnVmXV0pO1xuICAgIH1cblxuICAgIGNvbW1hbmQoY21kOiBhbnlbXSkge1xuICAgICAgICAvLyBEb24ndCBkZWJ1ZyBtZXNzYWdlc1xuICAgICAgICAvLyBjb25zb2xlLmxvZyhjbWQpO1xuICAgICAgICBzd2l0Y2ggKGNtZFswXSkge1xuICAgICAgICBjYXNlICdMb2FkUGtnJzogICAgICAgIHRoaXMubG9hZFBhY2thZ2VzKGNtZFsxXSk7ICAgICAgICAgIHJldHVybjtcbiAgICAgICAgY2FzZSAnUHV0JzogICAgICAgICAgICB0aGlzLnB1dEZpbGUoY21kWzFdLCBjbWRbMl0pOyAgICAgICByZXR1cm47XG4gICAgICAgIGNhc2UgJ0dldCc6ICAgICAgICAgICAgdGhpcy5nZXRGaWxlKGNtZFsxXSk7ICAgICAgICAgICAgICAgcmV0dXJuO1xuICAgICAgICBjYXNlICdJbnRlcnJ1cHRTZXR1cCc6IHRoaXMuaW50ci5zZXR1cChjbWRbMV0pOyAgICAgICAgICAgIHJldHVybjtcbiAgICAgICAgfVxuXG4gICAgICAgIGNvbnN0IHdhY29xX3Bvc3QgPSB0aGlzLmNvcmUuY2FsbGJhY2tzICYmIHRoaXMuY29yZS5jYWxsYmFja3Mud2Fjb3FfcG9zdDtcbiAgICAgICAgaWYgKCF3YWNvcV9wb3N0KSByZXR1cm47XG5cbiAgICAgICAgdmFyIGpzb24gPSAodHlwZW9mIGNtZCA9PT0gJ3N0cmluZycpID8gY21kIDogSlNPTi5zdHJpbmdpZnkoY21kKTtcblxuICAgICAgICAvLyBObyBtb3JlIHN5bmMgXCJyZXR1cm5cIiB0eXBlIGZyb20gY2FsbHNcbiAgICAgICAgd2Fjb3FfcG9zdCh0aGlzLmNvcmUudG9fY2FtbF9zdHJpbmcoanNvbikpO1xuXG4gICAgICAgIHJldHVybjtcbiAgICB9XG5cbiAgICBpZGxlKCkge1xuICAgICAgICBjb25zdCB3YWNvcV9pZGxlID0gdGhpcy5jb3JlLmNhbGxiYWNrcyAmJiB0aGlzLmNvcmUuY2FsbGJhY2tzLndhY29xX2lkbGU7XG5cbiAgICAgICAgaWYgKCF3YWNvcV9pZGxlKSByZXR1cm47XG5cbiAgICAgICAgd2Fjb3FfaWRsZSgwKTtcblxuICAgICAgICByZXR1cm47XG4gICAgfVxuXG4gICAgYW5zd2VyKG1zZ3M6IGFueVtdW10pIHtcbiAgICAgICAgaWYgKEFycmF5LmlzQXJyYXkobXNncykpIHtcbiAgICAgICAgICBmb3IgKGxldCBtc2cgb2YgbXNncykgdGhpcy5lbWl0KCdtZXNzYWdlJywgbXNnKTtcbiAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICB0aGlzLmVtaXQoJ21lc3NhZ2UnLCBtc2dzKTtcbiAgICAgICAgfVxuICAgIH1cblxuICAgIF9hbnN3ZXIocHRyOiBudW1iZXIpIHtcbiAgICAgICAgdmFyIGNzdHIgPSB0aGlzLmNvcmUucHJvYy51c2VyR2V0Q1N0cmluZyhwdHIpO1xuICAgICAgICB0aGlzLmFuc3dlcihKU09OLnBhcnNlKDxhbnk+Y3N0cikpO1xuICAgIH1cblxuICAgIF9pbnRlcnJ1cHRfcGVuZGluZygpIHtcbiAgICAgICAgcmV0dXJuIE9DYW1sQ0FQSS5WYWxfYm9vbCh0aGlzLmludHIucGVuZGluZygpKTtcbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiAoaW50ZXJuYWwpIEluaXRpYWxpemVzIHRoZSBkbGxjb3FydW5fc3R1YiBzaGFyZWQgbGlicmFyeS5cbiAgICAgKi9cbiAgICBhc3luYyBfcHJlbG9hZFN0dWIoKSB7XG4gICAgICAgIGF3YWl0IHRoaXMuY29yZS5wcm9jLmR5bGQucHJlbG9hZChcbiAgICAgICAgICAgICdkbGx6YXJpdGguc28nLCBgJHt0aGlzLm5tRGlyfS9Ab2NhbWwtd2FzbS80LjEyLS16YXJpdGgvYmluL2RsbHphcml0aC53YXNtYCk7XG4gICAgICAgIGF3YWl0IHRoaXMuY29yZS5wcm9jLmR5bGQucHJlbG9hZChcbiAgICAgICAgICAgICdkbGxiYXNlX3N0dWJzLnNvJywgYCR7dGhpcy5ubURpcn0vQG9jYW1sLXdhc20vNC4xMi0tamFuZXN0cmVldC1iYXNlL2Jpbi9kbGxiYXNlX3N0dWJzLndhc21gKTtcbiAgICAgICAgYXdhaXQgdGhpcy5jb3JlLnByb2MuZHlsZC5wcmVsb2FkKFxuICAgICAgICAgICAgJ2RsbGJhc2VfaW50ZXJuYWxoYXNoX3R5cGVzX3N0dWJzLnNvJywgYCR7dGhpcy5ubURpcn0vQG9jYW1sLXdhc20vNC4xMi0tamFuZXN0cmVldC1iYXNlL2Jpbi9kbGxiYXNlX2ludGVybmFsaGFzaF90eXBlc19zdHVicy53YXNtYCk7XG4gICAgICAgIGF3YWl0IHRoaXMuY29yZS5wcm9jLmR5bGQucHJlbG9hZChcbiAgICAgICAgICAgICdkbGxjb3FydW5fc3R1YnMuc28nLCBgJHt0aGlzLmJpbkRpcn0vZGxsY29xcnVuX3N0dWJzLndhc21gKTtcbiAgICAgICAgYXdhaXQgdGhpcy5jb3JlLnByb2MuZHlsZC5wcmVsb2FkKFxuICAgICAgICAgICAgJ2RsbGNvcXBlcmZfc3R1YnMuc28nLCBgJHt0aGlzLmJpbkRpcn0vZGxsY29xcGVyZl9zdHVicy53YXNtYCk7XG4gICAgICAgIC8qKiBAb3VjaCB0aGVzZSBudWxsIHN0dWJzIGFyZSBuZWVkZWQgYmVjYXVzZSBvZiBzb21lIHNwdXJpb3VzIGRlcGVuZGVuY3kgKi9cbiAgICAgICAgYXdhaXQgdGhpcy5jb3JlLnByb2MuZHlsZC5wcmVsb2FkKFxuICAgICAgICAgICAgJ2RsbGJpZ3N0cmluZ2FmX3N0dWJzLnNvJywgYCR7dGhpcy5iaW5EaXJ9L2RsbGxpYl9zdHVicy53YXNtYCxcbiAgICAgICAgICAgIHtcbiAgICAgICAgICAgICAgICBqczoge1xuICAgICAgICAgICAgICAgICAgICBiaWdzdHJpbmdhZl9ibGl0X3RvX2J5dGVzOiAodnNyYywgdnNyY19vZmYsIHZkc3QsIHZkc3Rfb2ZmLCB2bGVuKSA9PlxuICAgICAgICAgICAgICAgICAgICAgICAgeyBjb25zb2xlLmxvZyhcImJzX3N0dWJzOiBiaWdzdHJpbmdhZl9ibGl0X3RvX2J5dGVzXCIpOyB9LFxuICAgICAgICAgICAgICAgICAgICBiaWdzdHJpbmdhZl9ibGl0X3RvX2JpZ3N0cmluZzogKHZzcmMsIHZzcmNfb2ZmLCB2ZHN0LCB2ZHN0X29mZiwgdmxlbikgPT5cbiAgICAgICAgICAgICAgICAgICAgICAgIHsgY29uc29sZS5sb2coXCJic19zdHViczogYmlnc3RyaW5nYWZfYmxpdF90b19iaWdzdHJpbmdcIik7IH0sXG4gICAgICAgICAgICAgICAgICAgIGJpZ3N0cmluZ2FmX2JsaXRfZnJvbV9ieXRlczogKHZzcmMsIHZzcmNfb2ZmLCB2ZHN0LCB2ZHN0X29mZiwgdmxlbikgPT5cbiAgICAgICAgICAgICAgICAgICAgICAgIHsgY29uc29sZS5sb2coXCJic19zdHViczogYmlnc3RyaW5nYWZfYmxpdF9mcm9tX2J5dGVzXCIpOyB9LFxuICAgICAgICAgICAgICAgICAgICBiaWdzdHJpbmdhZl9tZW1jbXBfYmlnc3RyaW5nOiAodmJhMSwgdmJhMV9vZmYsIHZiYTIsIHZiYTJfb2ZmLCB2bGVuKSA9PlxuICAgICAgICAgICAgICAgICAgICAgICAgeyBjb25zb2xlLmxvZyhcImJzX3N0dWJzOiBiaWdzdHJpbmdhZl9tZW1jbXBfYmlnc3RyaW5nXCIpOyB9LFxuICAgICAgICAgICAgICAgICAgICBiaWdzdHJpbmdhZl9tZW1jbXBfc3RyaW5nOiAodmJhLCB2YmFfb2ZmLCB2c3RyLCB2c3RyX29mZiwgdmxlbikgPT5cbiAgICAgICAgICAgICAgICAgICAgICAgIHsgY29uc29sZS5sb2coXCJic19zdHViczogYmlnc3RyaW5nYWZfbWVtY21wX3N0cmluZ1wiKTsgfSxcbiAgICAgICAgICAgICAgICAgICAgYmlnc3RyaW5nYWZfbWVtY2hyOiAodmJhLCB2YmFfb2ZmLCB2Y2hyLCB2bGVuKSA9PlxuICAgICAgICAgICAgICAgICAgICAgICAgeyBjb25zb2xlLmxvZyhcImJzX3N0dWJzOiBiaWdzdHJpbmdhZl9tZW1jaHJcIik7IH0sXG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfSk7XG4gICAgICAgIGF3YWl0IHRoaXMuY29yZS5wcm9jLmR5bGQucHJlbG9hZChcbiAgICAgICAgICAgICdkbGxsaWJfc3R1YnMuc28nLCBgJHt0aGlzLmJpbkRpcn0vZGxsbGliX3N0dWJzLndhc21gLFxuICAgICAgICAgICAge1xuICAgICAgICAgICAgICAgIGpzOiB7XG4gICAgICAgICAgICAgICAgICAgIHdhY29xX2VtaXQ6IChzOm51bWJlcikgPT4gdGhpcy5fYW5zd2VyKHMpLFxuICAgICAgICAgICAgICAgICAgICBpbnRlcnJ1cHRfcGVuZGluZzogKF86bnVtYmVyKSA9PiB0aGlzLl9pbnRlcnJ1cHRfcGVuZGluZygpLFxuICAgICAgICAgICAgICAgICAgICByb2NxX3ZtX3RyYXA6ICh1OnZvaWQpID0+IGNvbnNvbGUud2Fybigncm9jcSB2bSB0cmFwIScpXG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfVxuICAgICAgICApO1xuICAgIH1cbn1cblxuXG5jbGFzcyBJTyB7XG5cbiAgICBwZW5kaW5nID0gbmV3IFNldDxSZWFkYWJsZVN0cmVhbURlZmF1bHRSZWFkZXI8VWludDhBcnJheT4+KClcblxuICAgIGNvbnN0cnVjdG9yKHB1YmxpYyBmZXRjaE1vZGU6IEZldGNoTW9kZSkgeyB9XG5cbiAgICBhc3luYyB1bnppcCh1cmk6IHN0cmluZywgcHV0OiAoZmlsZW5hbWU6IHN0cmluZywgY29udGVudDogVWludDhBcnJheSkgPT4gdm9pZCwgcHJvZ3Jlc3M/OiAocDogYW55KSA9PiB2b2lkKSB7XG4gICAgICAgIHZhciB6aXAgPSB1bnppcFN5bmMoYXdhaXQgdGhpcy5fZmV0Y2godXJpLCBwcm9ncmVzcykpO1xuXG4gICAgICAgIGZvciAobGV0IFtmaWxlbmFtZSwgZGF0YV0gb2YgT2JqZWN0LmVudHJpZXMoemlwKSkge1xuICAgICAgICAgICAgaWYgKGRhdGEubGVuZ3RoID4gMCkgIC8qIHJlZ3VsYXIgZmlsZTsgYXNzdW1lcyBubyBlbXB0eSBmaWxlcz8gKi9cbiAgICAgICAgICAgICAgICBwdXQoZmlsZW5hbWUsIGRhdGEpO1xuICAgICAgICB9XG4gICAgfVxuXG4gICAgYXN5bmMgX2ZldGNoKHVyaTogc3RyaW5nLCBwcm9ncmVzcz86IChwOiBhbnkpID0+IHZvaWQpIDogUHJvbWlzZTxVaW50OEFycmF5PiB7XG4gICAgICAgIGlmIChwcm9ncmVzcyAmJiB0aGlzLmZldGNoTW9kZSA9PT0gJ2Jyb3dzZXInKSB7XG4gICAgICAgICAgICByZXR1cm4gdGhpcy5fdG9VOEEodGhpcy5fZmV0Y2hXaXRoUHJvZ3Jlc3ModXJpLCBwcm9ncmVzcykpO1xuICAgICAgICB9XG4gICAgICAgIGVsc2UgcmV0dXJuIHRoaXMuX2ZldGNoU2ltcGxlKHVyaSk7XG4gICAgfVxuXG4gICAgYXN5bmMgX3RvVThBKGJsb2I6IFByb21pc2U8QmxvYj4pIHtcbiAgICAgICAgcmV0dXJuIG5ldyBVaW50OEFycmF5KGF3YWl0IChhd2FpdCBibG9iKS5hcnJheUJ1ZmZlcigpKTtcbiAgICB9XG5cbiAgICBhc3luYyBfZmV0Y2hTaW1wbGUodXJpOiBzdHJpbmcpIHtcbiAgICAgICAgc3dpdGNoICh0aGlzLmZldGNoTW9kZSkge1xuICAgICAgICBjYXNlICdicm93c2VyJzpcbiAgICAgICAgICAgIHJldHVybiBuZXcgVWludDhBcnJheShhd2FpdCAoYXdhaXQgZmV0Y2godXJpKSkuYXJyYXlCdWZmZXIoKSk7XG4gICAgICAgIGNhc2UgJ2ZzJzpcbiAgICAgICAgICAgIGNvbnN0IGZzID0gcmVxdWlyZSgnZnMnKTtcbiAgICAgICAgICAgIHJldHVybiAoMHx8ZnMucmVhZEZpbGVTeW5jKSh1cmkpO1xuICAgICAgICB9XG4gICAgfVxuXG4gICAgLy8gYm9pbGVycGxhdGVcbiAgICBhc3luYyBfZmV0Y2hXaXRoUHJvZ3Jlc3ModXJpOiBzdHJpbmcsIHByb2dyZXNzOiAocDogYW55KSA9PiB2b2lkKSB7XG4gICAgICAgIHZhciByZXNwb25zZSA9IGF3YWl0IGZldGNoKHVyaSksXG4gICAgICAgICAgICB0b3RhbCA9ICtyZXNwb25zZS5oZWFkZXJzLmdldCgnQ29udGVudC1MZW5ndGgnKSB8fCAxMDAwLFxuICAgICAgICAgICAgciA9IHJlc3BvbnNlLmJvZHkuZ2V0UmVhZGVyKCksIGNodW5rcyA9IFtdLCBkb3dubG9hZGVkID0gMDtcbiAgICAgICAgdGhpcy5wZW5kaW5nLmFkZChyKTsgLy8gcHJldmVudCByZWFkZXIgZnJvbSBiZWluZyBkaXNwb3NlZFxuICAgICAgICB0cnkge1xuICAgICAgICAgICAgZm9yKDs7KSB7XG4gICAgICAgICAgICAgICAgdmFyIHt2YWx1ZSwgZG9uZX0gPSBhd2FpdCByLnJlYWQoKTtcbiAgICAgICAgICAgICAgICBpZiAoZG9uZSkgYnJlYWs7XG4gICAgICAgICAgICAgICAgY2h1bmtzLnB1c2godmFsdWUpO1xuICAgICAgICAgICAgICAgIGRvd25sb2FkZWQgKz0gdmFsdWUubGVuZ3RoO1xuICAgICAgICAgICAgICAgIHByb2dyZXNzKHt0b3RhbCwgZG93bmxvYWRlZH0pXG4gICAgICAgICAgICB9XG4gICAgICAgICAgICByZXR1cm4gbmV3IEJsb2IoY2h1bmtzKTtcbiAgICAgICAgfVxuICAgICAgICBmaW5hbGx5IHsgdGhpcy5wZW5kaW5nLmRlbGV0ZShyKTsgfVxuICAgIH1cblxufVxuXG5cbnR5cGUgRmV0Y2hNb2RlID0gJ2Jyb3dzZXInIHwgJ2ZzJztcbnR5cGUgRG93bmxvYWRQcm9ncmVzcyA9IHsgdG90YWw6IG51bWJlciwgZG93bmxvYWRlZDogbnVtYmVyIH07XG5cbmNvbnN0IERFRkFVTFRfRkVUQ0hfTU9ERTogRmV0Y2hNb2RlID0gKGlzQnJvd3NlciB8fCBpc1dlYldvcmtlcikgPyAnYnJvd3NlcicgOiAnZnMnO1xuXG5cbmV4cG9ydCAgeyBJY29xUG9kLCBEb3dubG9hZFByb2dyZXNzIH1cblxuLy8gTG9jYWwgVmFyaWFibGVzOlxuLy8gdHlwZXNjcmlwdC1pbmRlbnQtbGV2ZWw6IDRcbi8vIEVuZDpcbiIsICIvLyBERUZMQVRFIGlzIGEgY29tcGxleCBmb3JtYXQ7IHRvIHJlYWQgdGhpcyBjb2RlLCB5b3Ugc2hvdWxkIHByb2JhYmx5IGNoZWNrIHRoZSBSRkMgZmlyc3Q6XG4vLyBodHRwczovL3Rvb2xzLmlldGYub3JnL2h0bWwvcmZjMTk1MVxuLy8gWW91IG1heSBhbHNvIHdpc2ggdG8gdGFrZSBhIGxvb2sgYXQgdGhlIGd1aWRlIEkgbWFkZSBhYm91dCB0aGlzIHByb2dyYW06XG4vLyBodHRwczovL2dpc3QuZ2l0aHViLmNvbS8xMDFhcnJvd3ovMjUzZjMxZWI1YWJjM2Q5Mjc1YWI5NDMwMDNmZmVjYWRcbi8vIFNvbWUgb2YgdGhlIGZvbGxvd2luZyBjb2RlIGlzIHNpbWlsYXIgdG8gdGhhdCBvZiBVWklQLmpzOlxuLy8gaHR0cHM6Ly9naXRodWIuY29tL3Bob3RvcGVhL1VaSVAuanNcbi8vIEhvd2V2ZXIsIHRoZSB2YXN0IG1ham9yaXR5IG9mIHRoZSBjb2RlYmFzZSBoYXMgZGl2ZXJnZWQgZnJvbSBVWklQLmpzIHRvIGluY3JlYXNlIHBlcmZvcm1hbmNlIGFuZCByZWR1Y2UgYnVuZGxlIHNpemUuXG4vLyBTb21ldGltZXMgMCB3aWxsIGFwcGVhciB3aGVyZSAtMSB3b3VsZCBiZSBtb3JlIGFwcHJvcHJpYXRlLiBUaGlzIGlzIGJlY2F1c2UgdXNpbmcgYSB1aW50XG4vLyBpcyBiZXR0ZXIgZm9yIG1lbW9yeSBpbiBtb3N0IGVuZ2luZXMgKEkgKnRoaW5rKikuXG52YXIgY2gyID0ge307XG52YXIgd2sgPSAoZnVuY3Rpb24gKGMsIGlkLCBtc2csIHRyYW5zZmVyLCBjYikge1xuICAgIHZhciB3ID0gbmV3IFdvcmtlcihjaDJbaWRdIHx8IChjaDJbaWRdID0gVVJMLmNyZWF0ZU9iamVjdFVSTChuZXcgQmxvYihbXG4gICAgICAgIGMgKyAnO2FkZEV2ZW50TGlzdGVuZXIoXCJlcnJvclwiLGZ1bmN0aW9uKGUpe2U9ZS5lcnJvcjtwb3N0TWVzc2FnZSh7JGUkOltlLm1lc3NhZ2UsZS5jb2RlLGUuc3RhY2tdfSl9KSdcbiAgICBdLCB7IHR5cGU6ICd0ZXh0L2phdmFzY3JpcHQnIH0pKSkpO1xuICAgIHcub25tZXNzYWdlID0gZnVuY3Rpb24gKGUpIHtcbiAgICAgICAgdmFyIGQgPSBlLmRhdGEsIGVkID0gZC4kZSQ7XG4gICAgICAgIGlmIChlZCkge1xuICAgICAgICAgICAgdmFyIGVyciA9IG5ldyBFcnJvcihlZFswXSk7XG4gICAgICAgICAgICBlcnJbJ2NvZGUnXSA9IGVkWzFdO1xuICAgICAgICAgICAgZXJyLnN0YWNrID0gZWRbMl07XG4gICAgICAgICAgICBjYihlcnIsIG51bGwpO1xuICAgICAgICB9XG4gICAgICAgIGVsc2VcbiAgICAgICAgICAgIGNiKG51bGwsIGQpO1xuICAgIH07XG4gICAgdy5wb3N0TWVzc2FnZShtc2csIHRyYW5zZmVyKTtcbiAgICByZXR1cm4gdztcbn0pO1xuXG4vLyBhbGlhc2VzIGZvciBzaG9ydGVyIGNvbXByZXNzZWQgY29kZSAobW9zdCBtaW5pZmVycyBkb24ndCBkbyB0aGlzKVxudmFyIHU4ID0gVWludDhBcnJheSwgdTE2ID0gVWludDE2QXJyYXksIHUzMiA9IFVpbnQzMkFycmF5O1xuLy8gZml4ZWQgbGVuZ3RoIGV4dHJhIGJpdHNcbnZhciBmbGViID0gbmV3IHU4KFswLCAwLCAwLCAwLCAwLCAwLCAwLCAwLCAxLCAxLCAxLCAxLCAyLCAyLCAyLCAyLCAzLCAzLCAzLCAzLCA0LCA0LCA0LCA0LCA1LCA1LCA1LCA1LCAwLCAvKiB1bnVzZWQgKi8gMCwgMCwgLyogaW1wb3NzaWJsZSAqLyAwXSk7XG4vLyBmaXhlZCBkaXN0YW5jZSBleHRyYSBiaXRzXG4vLyBzZWUgZmxlYiBub3RlXG52YXIgZmRlYiA9IG5ldyB1OChbMCwgMCwgMCwgMCwgMSwgMSwgMiwgMiwgMywgMywgNCwgNCwgNSwgNSwgNiwgNiwgNywgNywgOCwgOCwgOSwgOSwgMTAsIDEwLCAxMSwgMTEsIDEyLCAxMiwgMTMsIDEzLCAvKiB1bnVzZWQgKi8gMCwgMF0pO1xuLy8gY29kZSBsZW5ndGggaW5kZXggbWFwXG52YXIgY2xpbSA9IG5ldyB1OChbMTYsIDE3LCAxOCwgMCwgOCwgNywgOSwgNiwgMTAsIDUsIDExLCA0LCAxMiwgMywgMTMsIDIsIDE0LCAxLCAxNV0pO1xuLy8gZ2V0IGJhc2UsIHJldmVyc2UgaW5kZXggbWFwIGZyb20gZXh0cmEgYml0c1xudmFyIGZyZWIgPSBmdW5jdGlvbiAoZWIsIHN0YXJ0KSB7XG4gICAgdmFyIGIgPSBuZXcgdTE2KDMxKTtcbiAgICBmb3IgKHZhciBpID0gMDsgaSA8IDMxOyArK2kpIHtcbiAgICAgICAgYltpXSA9IHN0YXJ0ICs9IDEgPDwgZWJbaSAtIDFdO1xuICAgIH1cbiAgICAvLyBudW1iZXJzIGhlcmUgYXJlIGF0IG1heCAxOCBiaXRzXG4gICAgdmFyIHIgPSBuZXcgdTMyKGJbMzBdKTtcbiAgICBmb3IgKHZhciBpID0gMTsgaSA8IDMwOyArK2kpIHtcbiAgICAgICAgZm9yICh2YXIgaiA9IGJbaV07IGogPCBiW2kgKyAxXTsgKytqKSB7XG4gICAgICAgICAgICByW2pdID0gKChqIC0gYltpXSkgPDwgNSkgfCBpO1xuICAgICAgICB9XG4gICAgfVxuICAgIHJldHVybiBbYiwgcl07XG59O1xudmFyIF9hID0gZnJlYihmbGViLCAyKSwgZmwgPSBfYVswXSwgcmV2ZmwgPSBfYVsxXTtcbi8vIHdlIGNhbiBpZ25vcmUgdGhlIGZhY3QgdGhhdCB0aGUgb3RoZXIgbnVtYmVycyBhcmUgd3Jvbmc7IHRoZXkgbmV2ZXIgaGFwcGVuIGFueXdheVxuZmxbMjhdID0gMjU4LCByZXZmbFsyNThdID0gMjg7XG52YXIgX2IgPSBmcmViKGZkZWIsIDApLCBmZCA9IF9iWzBdLCByZXZmZCA9IF9iWzFdO1xuLy8gbWFwIG9mIHZhbHVlIHRvIHJldmVyc2UgKGFzc3VtaW5nIDE2IGJpdHMpXG52YXIgcmV2ID0gbmV3IHUxNigzMjc2OCk7XG5mb3IgKHZhciBpID0gMDsgaSA8IDMyNzY4OyArK2kpIHtcbiAgICAvLyByZXZlcnNlIHRhYmxlIGFsZ29yaXRobSBmcm9tIFNPXG4gICAgdmFyIHggPSAoKGkgJiAweEFBQUEpID4+PiAxKSB8ICgoaSAmIDB4NTU1NSkgPDwgMSk7XG4gICAgeCA9ICgoeCAmIDB4Q0NDQykgPj4+IDIpIHwgKCh4ICYgMHgzMzMzKSA8PCAyKTtcbiAgICB4ID0gKCh4ICYgMHhGMEYwKSA+Pj4gNCkgfCAoKHggJiAweDBGMEYpIDw8IDQpO1xuICAgIHJldltpXSA9ICgoKHggJiAweEZGMDApID4+PiA4KSB8ICgoeCAmIDB4MDBGRikgPDwgOCkpID4+PiAxO1xufVxuLy8gY3JlYXRlIGh1ZmZtYW4gdHJlZSBmcm9tIHU4IFwibWFwXCI6IGluZGV4IC0+IGNvZGUgbGVuZ3RoIGZvciBjb2RlIGluZGV4XG4vLyBtYiAobWF4IGJpdHMpIG11c3QgYmUgYXQgbW9zdCAxNVxuLy8gVE9ETzogb3B0aW1pemUvc3BsaXQgdXA/XG52YXIgaE1hcCA9IChmdW5jdGlvbiAoY2QsIG1iLCByKSB7XG4gICAgdmFyIHMgPSBjZC5sZW5ndGg7XG4gICAgLy8gaW5kZXhcbiAgICB2YXIgaSA9IDA7XG4gICAgLy8gdTE2IFwibWFwXCI6IGluZGV4IC0+ICMgb2YgY29kZXMgd2l0aCBiaXQgbGVuZ3RoID0gaW5kZXhcbiAgICB2YXIgbCA9IG5ldyB1MTYobWIpO1xuICAgIC8vIGxlbmd0aCBvZiBjZCBtdXN0IGJlIDI4OCAodG90YWwgIyBvZiBjb2RlcylcbiAgICBmb3IgKDsgaSA8IHM7ICsraSkge1xuICAgICAgICBpZiAoY2RbaV0pXG4gICAgICAgICAgICArK2xbY2RbaV0gLSAxXTtcbiAgICB9XG4gICAgLy8gdTE2IFwibWFwXCI6IGluZGV4IC0+IG1pbmltdW0gY29kZSBmb3IgYml0IGxlbmd0aCA9IGluZGV4XG4gICAgdmFyIGxlID0gbmV3IHUxNihtYik7XG4gICAgZm9yIChpID0gMDsgaSA8IG1iOyArK2kpIHtcbiAgICAgICAgbGVbaV0gPSAobGVbaSAtIDFdICsgbFtpIC0gMV0pIDw8IDE7XG4gICAgfVxuICAgIHZhciBjbztcbiAgICBpZiAocikge1xuICAgICAgICAvLyB1MTYgXCJtYXBcIjogaW5kZXggLT4gbnVtYmVyIG9mIGFjdHVhbCBiaXRzLCBzeW1ib2wgZm9yIGNvZGVcbiAgICAgICAgY28gPSBuZXcgdTE2KDEgPDwgbWIpO1xuICAgICAgICAvLyBiaXRzIHRvIHJlbW92ZSBmb3IgcmV2ZXJzZXJcbiAgICAgICAgdmFyIHJ2YiA9IDE1IC0gbWI7XG4gICAgICAgIGZvciAoaSA9IDA7IGkgPCBzOyArK2kpIHtcbiAgICAgICAgICAgIC8vIGlnbm9yZSAwIGxlbmd0aHNcbiAgICAgICAgICAgIGlmIChjZFtpXSkge1xuICAgICAgICAgICAgICAgIC8vIG51bSBlbmNvZGluZyBib3RoIHN5bWJvbCBhbmQgYml0cyByZWFkXG4gICAgICAgICAgICAgICAgdmFyIHN2ID0gKGkgPDwgNCkgfCBjZFtpXTtcbiAgICAgICAgICAgICAgICAvLyBmcmVlIGJpdHNcbiAgICAgICAgICAgICAgICB2YXIgcl8xID0gbWIgLSBjZFtpXTtcbiAgICAgICAgICAgICAgICAvLyBzdGFydCB2YWx1ZVxuICAgICAgICAgICAgICAgIHZhciB2ID0gbGVbY2RbaV0gLSAxXSsrIDw8IHJfMTtcbiAgICAgICAgICAgICAgICAvLyBtIGlzIGVuZCB2YWx1ZVxuICAgICAgICAgICAgICAgIGZvciAodmFyIG0gPSB2IHwgKCgxIDw8IHJfMSkgLSAxKTsgdiA8PSBtOyArK3YpIHtcbiAgICAgICAgICAgICAgICAgICAgLy8gZXZlcnkgMTYgYml0IHZhbHVlIHN0YXJ0aW5nIHdpdGggdGhlIGNvZGUgeWllbGRzIHRoZSBzYW1lIHJlc3VsdFxuICAgICAgICAgICAgICAgICAgICBjb1tyZXZbdl0gPj4+IHJ2Yl0gPSBzdjtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICB9XG4gICAgZWxzZSB7XG4gICAgICAgIGNvID0gbmV3IHUxNihzKTtcbiAgICAgICAgZm9yIChpID0gMDsgaSA8IHM7ICsraSkge1xuICAgICAgICAgICAgaWYgKGNkW2ldKSB7XG4gICAgICAgICAgICAgICAgY29baV0gPSByZXZbbGVbY2RbaV0gLSAxXSsrXSA+Pj4gKDE1IC0gY2RbaV0pO1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgfVxuICAgIHJldHVybiBjbztcbn0pO1xuLy8gZml4ZWQgbGVuZ3RoIHRyZWVcbnZhciBmbHQgPSBuZXcgdTgoMjg4KTtcbmZvciAodmFyIGkgPSAwOyBpIDwgMTQ0OyArK2kpXG4gICAgZmx0W2ldID0gODtcbmZvciAodmFyIGkgPSAxNDQ7IGkgPCAyNTY7ICsraSlcbiAgICBmbHRbaV0gPSA5O1xuZm9yICh2YXIgaSA9IDI1NjsgaSA8IDI4MDsgKytpKVxuICAgIGZsdFtpXSA9IDc7XG5mb3IgKHZhciBpID0gMjgwOyBpIDwgMjg4OyArK2kpXG4gICAgZmx0W2ldID0gODtcbi8vIGZpeGVkIGRpc3RhbmNlIHRyZWVcbnZhciBmZHQgPSBuZXcgdTgoMzIpO1xuZm9yICh2YXIgaSA9IDA7IGkgPCAzMjsgKytpKVxuICAgIGZkdFtpXSA9IDU7XG4vLyBmaXhlZCBsZW5ndGggbWFwXG52YXIgZmxtID0gLyojX19QVVJFX18qLyBoTWFwKGZsdCwgOSwgMCksIGZscm0gPSAvKiNfX1BVUkVfXyovIGhNYXAoZmx0LCA5LCAxKTtcbi8vIGZpeGVkIGRpc3RhbmNlIG1hcFxudmFyIGZkbSA9IC8qI19fUFVSRV9fKi8gaE1hcChmZHQsIDUsIDApLCBmZHJtID0gLyojX19QVVJFX18qLyBoTWFwKGZkdCwgNSwgMSk7XG4vLyBmaW5kIG1heCBvZiBhcnJheVxudmFyIG1heCA9IGZ1bmN0aW9uIChhKSB7XG4gICAgdmFyIG0gPSBhWzBdO1xuICAgIGZvciAodmFyIGkgPSAxOyBpIDwgYS5sZW5ndGg7ICsraSkge1xuICAgICAgICBpZiAoYVtpXSA+IG0pXG4gICAgICAgICAgICBtID0gYVtpXTtcbiAgICB9XG4gICAgcmV0dXJuIG07XG59O1xuLy8gcmVhZCBkLCBzdGFydGluZyBhdCBiaXQgcCBhbmQgbWFzayB3aXRoIG1cbnZhciBiaXRzID0gZnVuY3Rpb24gKGQsIHAsIG0pIHtcbiAgICB2YXIgbyA9IChwIC8gOCkgfCAwO1xuICAgIHJldHVybiAoKGRbb10gfCAoZFtvICsgMV0gPDwgOCkpID4+IChwICYgNykpICYgbTtcbn07XG4vLyByZWFkIGQsIHN0YXJ0aW5nIGF0IGJpdCBwIGNvbnRpbnVpbmcgZm9yIGF0IGxlYXN0IDE2IGJpdHNcbnZhciBiaXRzMTYgPSBmdW5jdGlvbiAoZCwgcCkge1xuICAgIHZhciBvID0gKHAgLyA4KSB8IDA7XG4gICAgcmV0dXJuICgoZFtvXSB8IChkW28gKyAxXSA8PCA4KSB8IChkW28gKyAyXSA8PCAxNikpID4+IChwICYgNykpO1xufTtcbi8vIGdldCBlbmQgb2YgYnl0ZVxudmFyIHNoZnQgPSBmdW5jdGlvbiAocCkgeyByZXR1cm4gKChwICsgNykgLyA4KSB8IDA7IH07XG4vLyB0eXBlZCBhcnJheSBzbGljZSAtIGFsbG93cyBnYXJiYWdlIGNvbGxlY3RvciB0byBmcmVlIG9yaWdpbmFsIHJlZmVyZW5jZSxcbi8vIHdoaWxlIGJlaW5nIG1vcmUgY29tcGF0aWJsZSB0aGFuIC5zbGljZVxudmFyIHNsYyA9IGZ1bmN0aW9uICh2LCBzLCBlKSB7XG4gICAgaWYgKHMgPT0gbnVsbCB8fCBzIDwgMClcbiAgICAgICAgcyA9IDA7XG4gICAgaWYgKGUgPT0gbnVsbCB8fCBlID4gdi5sZW5ndGgpXG4gICAgICAgIGUgPSB2Lmxlbmd0aDtcbiAgICAvLyBjYW4ndCB1c2UgLmNvbnN0cnVjdG9yIGluIGNhc2UgdXNlci1zdXBwbGllZFxuICAgIHZhciBuID0gbmV3ICh2LkJZVEVTX1BFUl9FTEVNRU5UID09IDIgPyB1MTYgOiB2LkJZVEVTX1BFUl9FTEVNRU5UID09IDQgPyB1MzIgOiB1OCkoZSAtIHMpO1xuICAgIG4uc2V0KHYuc3ViYXJyYXkocywgZSkpO1xuICAgIHJldHVybiBuO1xufTtcbi8qKlxuICogQ29kZXMgZm9yIGVycm9ycyBnZW5lcmF0ZWQgd2l0aGluIHRoaXMgbGlicmFyeVxuICovXG5leHBvcnQgdmFyIEZsYXRlRXJyb3JDb2RlID0ge1xuICAgIFVuZXhwZWN0ZWRFT0Y6IDAsXG4gICAgSW52YWxpZEJsb2NrVHlwZTogMSxcbiAgICBJbnZhbGlkTGVuZ3RoTGl0ZXJhbDogMixcbiAgICBJbnZhbGlkRGlzdGFuY2U6IDMsXG4gICAgU3RyZWFtRmluaXNoZWQ6IDQsXG4gICAgTm9TdHJlYW1IYW5kbGVyOiA1LFxuICAgIEludmFsaWRIZWFkZXI6IDYsXG4gICAgTm9DYWxsYmFjazogNyxcbiAgICBJbnZhbGlkVVRGODogOCxcbiAgICBFeHRyYUZpZWxkVG9vTG9uZzogOSxcbiAgICBJbnZhbGlkRGF0ZTogMTAsXG4gICAgRmlsZW5hbWVUb29Mb25nOiAxMSxcbiAgICBTdHJlYW1GaW5pc2hpbmc6IDEyLFxuICAgIEludmFsaWRaaXBEYXRhOiAxMyxcbiAgICBVbmtub3duQ29tcHJlc3Npb25NZXRob2Q6IDE0XG59O1xuLy8gZXJyb3IgY29kZXNcbnZhciBlYyA9IFtcbiAgICAndW5leHBlY3RlZCBFT0YnLFxuICAgICdpbnZhbGlkIGJsb2NrIHR5cGUnLFxuICAgICdpbnZhbGlkIGxlbmd0aC9saXRlcmFsJyxcbiAgICAnaW52YWxpZCBkaXN0YW5jZScsXG4gICAgJ3N0cmVhbSBmaW5pc2hlZCcsXG4gICAgJ25vIHN0cmVhbSBoYW5kbGVyJyxcbiAgICAsXG4gICAgJ25vIGNhbGxiYWNrJyxcbiAgICAnaW52YWxpZCBVVEYtOCBkYXRhJyxcbiAgICAnZXh0cmEgZmllbGQgdG9vIGxvbmcnLFxuICAgICdkYXRlIG5vdCBpbiByYW5nZSAxOTgwLTIwOTknLFxuICAgICdmaWxlbmFtZSB0b28gbG9uZycsXG4gICAgJ3N0cmVhbSBmaW5pc2hpbmcnLFxuICAgICdpbnZhbGlkIHppcCBkYXRhJ1xuICAgIC8vIGRldGVybWluZWQgYnkgdW5rbm93biBjb21wcmVzc2lvbiBtZXRob2Rcbl07XG47XG52YXIgZXJyID0gZnVuY3Rpb24gKGluZCwgbXNnLCBudCkge1xuICAgIHZhciBlID0gbmV3IEVycm9yKG1zZyB8fCBlY1tpbmRdKTtcbiAgICBlLmNvZGUgPSBpbmQ7XG4gICAgaWYgKEVycm9yLmNhcHR1cmVTdGFja1RyYWNlKVxuICAgICAgICBFcnJvci5jYXB0dXJlU3RhY2tUcmFjZShlLCBlcnIpO1xuICAgIGlmICghbnQpXG4gICAgICAgIHRocm93IGU7XG4gICAgcmV0dXJuIGU7XG59O1xuLy8gZXhwYW5kcyByYXcgREVGTEFURSBkYXRhXG52YXIgaW5mbHQgPSBmdW5jdGlvbiAoZGF0LCBidWYsIHN0KSB7XG4gICAgLy8gc291cmNlIGxlbmd0aFxuICAgIHZhciBzbCA9IGRhdC5sZW5ndGg7XG4gICAgaWYgKCFzbCB8fCAoc3QgJiYgc3QuZiAmJiAhc3QubCkpXG4gICAgICAgIHJldHVybiBidWYgfHwgbmV3IHU4KDApO1xuICAgIC8vIGhhdmUgdG8gZXN0aW1hdGUgc2l6ZVxuICAgIHZhciBub0J1ZiA9ICFidWYgfHwgc3Q7XG4gICAgLy8gbm8gc3RhdGVcbiAgICB2YXIgbm9TdCA9ICFzdCB8fCBzdC5pO1xuICAgIGlmICghc3QpXG4gICAgICAgIHN0ID0ge307XG4gICAgLy8gQXNzdW1lcyByb3VnaGx5IDMzJSBjb21wcmVzc2lvbiByYXRpbyBhdmVyYWdlXG4gICAgaWYgKCFidWYpXG4gICAgICAgIGJ1ZiA9IG5ldyB1OChzbCAqIDMpO1xuICAgIC8vIGVuc3VyZSBidWZmZXIgY2FuIGZpdCBhdCBsZWFzdCBsIGVsZW1lbnRzXG4gICAgdmFyIGNidWYgPSBmdW5jdGlvbiAobCkge1xuICAgICAgICB2YXIgYmwgPSBidWYubGVuZ3RoO1xuICAgICAgICAvLyBuZWVkIHRvIGluY3JlYXNlIHNpemUgdG8gZml0XG4gICAgICAgIGlmIChsID4gYmwpIHtcbiAgICAgICAgICAgIC8vIERvdWJsZSBvciBzZXQgdG8gbmVjZXNzYXJ5LCB3aGljaGV2ZXIgaXMgZ3JlYXRlclxuICAgICAgICAgICAgdmFyIG5idWYgPSBuZXcgdTgoTWF0aC5tYXgoYmwgKiAyLCBsKSk7XG4gICAgICAgICAgICBuYnVmLnNldChidWYpO1xuICAgICAgICAgICAgYnVmID0gbmJ1ZjtcbiAgICAgICAgfVxuICAgIH07XG4gICAgLy8gIGxhc3QgY2h1bmsgICAgICAgICBiaXRwb3MgICAgICAgICAgIGJ5dGVzXG4gICAgdmFyIGZpbmFsID0gc3QuZiB8fCAwLCBwb3MgPSBzdC5wIHx8IDAsIGJ0ID0gc3QuYiB8fCAwLCBsbSA9IHN0LmwsIGRtID0gc3QuZCwgbGJ0ID0gc3QubSwgZGJ0ID0gc3QubjtcbiAgICAvLyB0b3RhbCBiaXRzXG4gICAgdmFyIHRidHMgPSBzbCAqIDg7XG4gICAgZG8ge1xuICAgICAgICBpZiAoIWxtKSB7XG4gICAgICAgICAgICAvLyBCRklOQUwgLSB0aGlzIGlzIG9ubHkgMSB3aGVuIGxhc3QgY2h1bmsgaXMgbmV4dFxuICAgICAgICAgICAgZmluYWwgPSBiaXRzKGRhdCwgcG9zLCAxKTtcbiAgICAgICAgICAgIC8vIHR5cGU6IDAgPSBubyBjb21wcmVzc2lvbiwgMSA9IGZpeGVkIGh1ZmZtYW4sIDIgPSBkeW5hbWljIGh1ZmZtYW5cbiAgICAgICAgICAgIHZhciB0eXBlID0gYml0cyhkYXQsIHBvcyArIDEsIDMpO1xuICAgICAgICAgICAgcG9zICs9IDM7XG4gICAgICAgICAgICBpZiAoIXR5cGUpIHtcbiAgICAgICAgICAgICAgICAvLyBnbyB0byBlbmQgb2YgYnl0ZSBib3VuZGFyeVxuICAgICAgICAgICAgICAgIHZhciBzID0gc2hmdChwb3MpICsgNCwgbCA9IGRhdFtzIC0gNF0gfCAoZGF0W3MgLSAzXSA8PCA4KSwgdCA9IHMgKyBsO1xuICAgICAgICAgICAgICAgIGlmICh0ID4gc2wpIHtcbiAgICAgICAgICAgICAgICAgICAgaWYgKG5vU3QpXG4gICAgICAgICAgICAgICAgICAgICAgICBlcnIoMCk7XG4gICAgICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAvLyBlbnN1cmUgc2l6ZVxuICAgICAgICAgICAgICAgIGlmIChub0J1ZilcbiAgICAgICAgICAgICAgICAgICAgY2J1ZihidCArIGwpO1xuICAgICAgICAgICAgICAgIC8vIENvcHkgb3ZlciB1bmNvbXByZXNzZWQgZGF0YVxuICAgICAgICAgICAgICAgIGJ1Zi5zZXQoZGF0LnN1YmFycmF5KHMsIHQpLCBidCk7XG4gICAgICAgICAgICAgICAgLy8gR2V0IG5ldyBiaXRwb3MsIHVwZGF0ZSBieXRlIGNvdW50XG4gICAgICAgICAgICAgICAgc3QuYiA9IGJ0ICs9IGwsIHN0LnAgPSBwb3MgPSB0ICogOCwgc3QuZiA9IGZpbmFsO1xuICAgICAgICAgICAgICAgIGNvbnRpbnVlO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgZWxzZSBpZiAodHlwZSA9PSAxKVxuICAgICAgICAgICAgICAgIGxtID0gZmxybSwgZG0gPSBmZHJtLCBsYnQgPSA5LCBkYnQgPSA1O1xuICAgICAgICAgICAgZWxzZSBpZiAodHlwZSA9PSAyKSB7XG4gICAgICAgICAgICAgICAgLy8gIGxpdGVyYWwgICAgICAgICAgICAgICAgICAgICAgICAgICAgbGVuZ3Roc1xuICAgICAgICAgICAgICAgIHZhciBoTGl0ID0gYml0cyhkYXQsIHBvcywgMzEpICsgMjU3LCBoY0xlbiA9IGJpdHMoZGF0LCBwb3MgKyAxMCwgMTUpICsgNDtcbiAgICAgICAgICAgICAgICB2YXIgdGwgPSBoTGl0ICsgYml0cyhkYXQsIHBvcyArIDUsIDMxKSArIDE7XG4gICAgICAgICAgICAgICAgcG9zICs9IDE0O1xuICAgICAgICAgICAgICAgIC8vIGxlbmd0aCtkaXN0YW5jZSB0cmVlXG4gICAgICAgICAgICAgICAgdmFyIGxkdCA9IG5ldyB1OCh0bCk7XG4gICAgICAgICAgICAgICAgLy8gY29kZSBsZW5ndGggdHJlZVxuICAgICAgICAgICAgICAgIHZhciBjbHQgPSBuZXcgdTgoMTkpO1xuICAgICAgICAgICAgICAgIGZvciAodmFyIGkgPSAwOyBpIDwgaGNMZW47ICsraSkge1xuICAgICAgICAgICAgICAgICAgICAvLyB1c2UgaW5kZXggbWFwIHRvIGdldCByZWFsIGNvZGVcbiAgICAgICAgICAgICAgICAgICAgY2x0W2NsaW1baV1dID0gYml0cyhkYXQsIHBvcyArIGkgKiAzLCA3KTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgcG9zICs9IGhjTGVuICogMztcbiAgICAgICAgICAgICAgICAvLyBjb2RlIGxlbmd0aHMgYml0c1xuICAgICAgICAgICAgICAgIHZhciBjbGIgPSBtYXgoY2x0KSwgY2xibXNrID0gKDEgPDwgY2xiKSAtIDE7XG4gICAgICAgICAgICAgICAgLy8gY29kZSBsZW5ndGhzIG1hcFxuICAgICAgICAgICAgICAgIHZhciBjbG0gPSBoTWFwKGNsdCwgY2xiLCAxKTtcbiAgICAgICAgICAgICAgICBmb3IgKHZhciBpID0gMDsgaSA8IHRsOykge1xuICAgICAgICAgICAgICAgICAgICB2YXIgciA9IGNsbVtiaXRzKGRhdCwgcG9zLCBjbGJtc2spXTtcbiAgICAgICAgICAgICAgICAgICAgLy8gYml0cyByZWFkXG4gICAgICAgICAgICAgICAgICAgIHBvcyArPSByICYgMTU7XG4gICAgICAgICAgICAgICAgICAgIC8vIHN5bWJvbFxuICAgICAgICAgICAgICAgICAgICB2YXIgcyA9IHIgPj4+IDQ7XG4gICAgICAgICAgICAgICAgICAgIC8vIGNvZGUgbGVuZ3RoIHRvIGNvcHlcbiAgICAgICAgICAgICAgICAgICAgaWYgKHMgPCAxNikge1xuICAgICAgICAgICAgICAgICAgICAgICAgbGR0W2krK10gPSBzO1xuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgIGVsc2Uge1xuICAgICAgICAgICAgICAgICAgICAgICAgLy8gIGNvcHkgICBjb3VudFxuICAgICAgICAgICAgICAgICAgICAgICAgdmFyIGMgPSAwLCBuID0gMDtcbiAgICAgICAgICAgICAgICAgICAgICAgIGlmIChzID09IDE2KVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIG4gPSAzICsgYml0cyhkYXQsIHBvcywgMyksIHBvcyArPSAyLCBjID0gbGR0W2kgLSAxXTtcbiAgICAgICAgICAgICAgICAgICAgICAgIGVsc2UgaWYgKHMgPT0gMTcpXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgbiA9IDMgKyBiaXRzKGRhdCwgcG9zLCA3KSwgcG9zICs9IDM7XG4gICAgICAgICAgICAgICAgICAgICAgICBlbHNlIGlmIChzID09IDE4KVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIG4gPSAxMSArIGJpdHMoZGF0LCBwb3MsIDEyNyksIHBvcyArPSA3O1xuICAgICAgICAgICAgICAgICAgICAgICAgd2hpbGUgKG4tLSlcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBsZHRbaSsrXSA9IGM7XG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgLy8gICAgbGVuZ3RoIHRyZWUgICAgICAgICAgICAgICAgIGRpc3RhbmNlIHRyZWVcbiAgICAgICAgICAgICAgICB2YXIgbHQgPSBsZHQuc3ViYXJyYXkoMCwgaExpdCksIGR0ID0gbGR0LnN1YmFycmF5KGhMaXQpO1xuICAgICAgICAgICAgICAgIC8vIG1heCBsZW5ndGggYml0c1xuICAgICAgICAgICAgICAgIGxidCA9IG1heChsdCk7XG4gICAgICAgICAgICAgICAgLy8gbWF4IGRpc3QgYml0c1xuICAgICAgICAgICAgICAgIGRidCA9IG1heChkdCk7XG4gICAgICAgICAgICAgICAgbG0gPSBoTWFwKGx0LCBsYnQsIDEpO1xuICAgICAgICAgICAgICAgIGRtID0gaE1hcChkdCwgZGJ0LCAxKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGVsc2VcbiAgICAgICAgICAgICAgICBlcnIoMSk7XG4gICAgICAgICAgICBpZiAocG9zID4gdGJ0cykge1xuICAgICAgICAgICAgICAgIGlmIChub1N0KVxuICAgICAgICAgICAgICAgICAgICBlcnIoMCk7XG4gICAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgICAgLy8gTWFrZSBzdXJlIHRoZSBidWZmZXIgY2FuIGhvbGQgdGhpcyArIHRoZSBsYXJnZXN0IHBvc3NpYmxlIGFkZGl0aW9uXG4gICAgICAgIC8vIE1heGltdW0gY2h1bmsgc2l6ZSAocHJhY3RpY2FsbHksIHRoZW9yZXRpY2FsbHkgaW5maW5pdGUpIGlzIDJeMTc7XG4gICAgICAgIGlmIChub0J1ZilcbiAgICAgICAgICAgIGNidWYoYnQgKyAxMzEwNzIpO1xuICAgICAgICB2YXIgbG1zID0gKDEgPDwgbGJ0KSAtIDEsIGRtcyA9ICgxIDw8IGRidCkgLSAxO1xuICAgICAgICB2YXIgbHBvcyA9IHBvcztcbiAgICAgICAgZm9yICg7OyBscG9zID0gcG9zKSB7XG4gICAgICAgICAgICAvLyBiaXRzIHJlYWQsIGNvZGVcbiAgICAgICAgICAgIHZhciBjID0gbG1bYml0czE2KGRhdCwgcG9zKSAmIGxtc10sIHN5bSA9IGMgPj4+IDQ7XG4gICAgICAgICAgICBwb3MgKz0gYyAmIDE1O1xuICAgICAgICAgICAgaWYgKHBvcyA+IHRidHMpIHtcbiAgICAgICAgICAgICAgICBpZiAobm9TdClcbiAgICAgICAgICAgICAgICAgICAgZXJyKDApO1xuICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgaWYgKCFjKVxuICAgICAgICAgICAgICAgIGVycigyKTtcbiAgICAgICAgICAgIGlmIChzeW0gPCAyNTYpXG4gICAgICAgICAgICAgICAgYnVmW2J0KytdID0gc3ltO1xuICAgICAgICAgICAgZWxzZSBpZiAoc3ltID09IDI1Nikge1xuICAgICAgICAgICAgICAgIGxwb3MgPSBwb3MsIGxtID0gbnVsbDtcbiAgICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGVsc2Uge1xuICAgICAgICAgICAgICAgIHZhciBhZGQgPSBzeW0gLSAyNTQ7XG4gICAgICAgICAgICAgICAgLy8gbm8gZXh0cmEgYml0cyBuZWVkZWQgaWYgbGVzc1xuICAgICAgICAgICAgICAgIGlmIChzeW0gPiAyNjQpIHtcbiAgICAgICAgICAgICAgICAgICAgLy8gaW5kZXhcbiAgICAgICAgICAgICAgICAgICAgdmFyIGkgPSBzeW0gLSAyNTcsIGIgPSBmbGViW2ldO1xuICAgICAgICAgICAgICAgICAgICBhZGQgPSBiaXRzKGRhdCwgcG9zLCAoMSA8PCBiKSAtIDEpICsgZmxbaV07XG4gICAgICAgICAgICAgICAgICAgIHBvcyArPSBiO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAvLyBkaXN0XG4gICAgICAgICAgICAgICAgdmFyIGQgPSBkbVtiaXRzMTYoZGF0LCBwb3MpICYgZG1zXSwgZHN5bSA9IGQgPj4+IDQ7XG4gICAgICAgICAgICAgICAgaWYgKCFkKVxuICAgICAgICAgICAgICAgICAgICBlcnIoMyk7XG4gICAgICAgICAgICAgICAgcG9zICs9IGQgJiAxNTtcbiAgICAgICAgICAgICAgICB2YXIgZHQgPSBmZFtkc3ltXTtcbiAgICAgICAgICAgICAgICBpZiAoZHN5bSA+IDMpIHtcbiAgICAgICAgICAgICAgICAgICAgdmFyIGIgPSBmZGViW2RzeW1dO1xuICAgICAgICAgICAgICAgICAgICBkdCArPSBiaXRzMTYoZGF0LCBwb3MpICYgKCgxIDw8IGIpIC0gMSksIHBvcyArPSBiO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICBpZiAocG9zID4gdGJ0cykge1xuICAgICAgICAgICAgICAgICAgICBpZiAobm9TdClcbiAgICAgICAgICAgICAgICAgICAgICAgIGVycigwKTtcbiAgICAgICAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIGlmIChub0J1ZilcbiAgICAgICAgICAgICAgICAgICAgY2J1ZihidCArIDEzMTA3Mik7XG4gICAgICAgICAgICAgICAgdmFyIGVuZCA9IGJ0ICsgYWRkO1xuICAgICAgICAgICAgICAgIGZvciAoOyBidCA8IGVuZDsgYnQgKz0gNCkge1xuICAgICAgICAgICAgICAgICAgICBidWZbYnRdID0gYnVmW2J0IC0gZHRdO1xuICAgICAgICAgICAgICAgICAgICBidWZbYnQgKyAxXSA9IGJ1ZltidCArIDEgLSBkdF07XG4gICAgICAgICAgICAgICAgICAgIGJ1ZltidCArIDJdID0gYnVmW2J0ICsgMiAtIGR0XTtcbiAgICAgICAgICAgICAgICAgICAgYnVmW2J0ICsgM10gPSBidWZbYnQgKyAzIC0gZHRdO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICBidCA9IGVuZDtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgICBzdC5sID0gbG0sIHN0LnAgPSBscG9zLCBzdC5iID0gYnQsIHN0LmYgPSBmaW5hbDtcbiAgICAgICAgaWYgKGxtKVxuICAgICAgICAgICAgZmluYWwgPSAxLCBzdC5tID0gbGJ0LCBzdC5kID0gZG0sIHN0Lm4gPSBkYnQ7XG4gICAgfSB3aGlsZSAoIWZpbmFsKTtcbiAgICByZXR1cm4gYnQgPT0gYnVmLmxlbmd0aCA/IGJ1ZiA6IHNsYyhidWYsIDAsIGJ0KTtcbn07XG4vLyBzdGFydGluZyBhdCBwLCB3cml0ZSB0aGUgbWluaW11bSBudW1iZXIgb2YgYml0cyB0aGF0IGNhbiBob2xkIHYgdG8gZFxudmFyIHdiaXRzID0gZnVuY3Rpb24gKGQsIHAsIHYpIHtcbiAgICB2IDw8PSBwICYgNztcbiAgICB2YXIgbyA9IChwIC8gOCkgfCAwO1xuICAgIGRbb10gfD0gdjtcbiAgICBkW28gKyAxXSB8PSB2ID4+PiA4O1xufTtcbi8vIHN0YXJ0aW5nIGF0IHAsIHdyaXRlIHRoZSBtaW5pbXVtIG51bWJlciBvZiBiaXRzICg+OCkgdGhhdCBjYW4gaG9sZCB2IHRvIGRcbnZhciB3Yml0czE2ID0gZnVuY3Rpb24gKGQsIHAsIHYpIHtcbiAgICB2IDw8PSBwICYgNztcbiAgICB2YXIgbyA9IChwIC8gOCkgfCAwO1xuICAgIGRbb10gfD0gdjtcbiAgICBkW28gKyAxXSB8PSB2ID4+PiA4O1xuICAgIGRbbyArIDJdIHw9IHYgPj4+IDE2O1xufTtcbi8vIGNyZWF0ZXMgY29kZSBsZW5ndGhzIGZyb20gYSBmcmVxdWVuY3kgdGFibGVcbnZhciBoVHJlZSA9IGZ1bmN0aW9uIChkLCBtYikge1xuICAgIC8vIE5lZWQgZXh0cmEgaW5mbyB0byBtYWtlIGEgdHJlZVxuICAgIHZhciB0ID0gW107XG4gICAgZm9yICh2YXIgaSA9IDA7IGkgPCBkLmxlbmd0aDsgKytpKSB7XG4gICAgICAgIGlmIChkW2ldKVxuICAgICAgICAgICAgdC5wdXNoKHsgczogaSwgZjogZFtpXSB9KTtcbiAgICB9XG4gICAgdmFyIHMgPSB0Lmxlbmd0aDtcbiAgICB2YXIgdDIgPSB0LnNsaWNlKCk7XG4gICAgaWYgKCFzKVxuICAgICAgICByZXR1cm4gW2V0LCAwXTtcbiAgICBpZiAocyA9PSAxKSB7XG4gICAgICAgIHZhciB2ID0gbmV3IHU4KHRbMF0ucyArIDEpO1xuICAgICAgICB2W3RbMF0uc10gPSAxO1xuICAgICAgICByZXR1cm4gW3YsIDFdO1xuICAgIH1cbiAgICB0LnNvcnQoZnVuY3Rpb24gKGEsIGIpIHsgcmV0dXJuIGEuZiAtIGIuZjsgfSk7XG4gICAgLy8gYWZ0ZXIgaTIgcmVhY2hlcyBsYXN0IGluZCwgd2lsbCBiZSBzdG9wcGVkXG4gICAgLy8gZnJlcSBtdXN0IGJlIGdyZWF0ZXIgdGhhbiBsYXJnZXN0IHBvc3NpYmxlIG51bWJlciBvZiBzeW1ib2xzXG4gICAgdC5wdXNoKHsgczogLTEsIGY6IDI1MDAxIH0pO1xuICAgIHZhciBsID0gdFswXSwgciA9IHRbMV0sIGkwID0gMCwgaTEgPSAxLCBpMiA9IDI7XG4gICAgdFswXSA9IHsgczogLTEsIGY6IGwuZiArIHIuZiwgbDogbCwgcjogciB9O1xuICAgIC8vIGVmZmljaWVudCBhbGdvcml0aG0gZnJvbSBVWklQLmpzXG4gICAgLy8gaTAgaXMgbG9va2JlaGluZCwgaTIgaXMgbG9va2FoZWFkIC0gYWZ0ZXIgcHJvY2Vzc2luZyB0d28gbG93LWZyZXFcbiAgICAvLyBzeW1ib2xzIHRoYXQgY29tYmluZWQgaGF2ZSBoaWdoIGZyZXEsIHdpbGwgc3RhcnQgcHJvY2Vzc2luZyBpMiAoaGlnaC1mcmVxLFxuICAgIC8vIG5vbi1jb21wb3NpdGUpIHN5bWJvbHMgaW5zdGVhZFxuICAgIC8vIHNlZSBodHRwczovL3JlZGRpdC5jb20vci9waG90b3BlYS9jb21tZW50cy9pa2VraHQvdXppcGpzX3F1ZXN0aW9ucy9cbiAgICB3aGlsZSAoaTEgIT0gcyAtIDEpIHtcbiAgICAgICAgbCA9IHRbdFtpMF0uZiA8IHRbaTJdLmYgPyBpMCsrIDogaTIrK107XG4gICAgICAgIHIgPSB0W2kwICE9IGkxICYmIHRbaTBdLmYgPCB0W2kyXS5mID8gaTArKyA6IGkyKytdO1xuICAgICAgICB0W2kxKytdID0geyBzOiAtMSwgZjogbC5mICsgci5mLCBsOiBsLCByOiByIH07XG4gICAgfVxuICAgIHZhciBtYXhTeW0gPSB0MlswXS5zO1xuICAgIGZvciAodmFyIGkgPSAxOyBpIDwgczsgKytpKSB7XG4gICAgICAgIGlmICh0MltpXS5zID4gbWF4U3ltKVxuICAgICAgICAgICAgbWF4U3ltID0gdDJbaV0ucztcbiAgICB9XG4gICAgLy8gY29kZSBsZW5ndGhzXG4gICAgdmFyIHRyID0gbmV3IHUxNihtYXhTeW0gKyAxKTtcbiAgICAvLyBtYXggYml0cyBpbiB0cmVlXG4gICAgdmFyIG1idCA9IGxuKHRbaTEgLSAxXSwgdHIsIDApO1xuICAgIGlmIChtYnQgPiBtYikge1xuICAgICAgICAvLyBtb3JlIGFsZ29yaXRobXMgZnJvbSBVWklQLmpzXG4gICAgICAgIC8vIFRPRE86IGZpbmQgb3V0IGhvdyB0aGlzIGNvZGUgd29ya3MgKGRlYnQpXG4gICAgICAgIC8vICBpbmQgICAgZGVidFxuICAgICAgICB2YXIgaSA9IDAsIGR0ID0gMDtcbiAgICAgICAgLy8gICAgbGVmdCAgICAgICAgICAgIGNvc3RcbiAgICAgICAgdmFyIGxmdCA9IG1idCAtIG1iLCBjc3QgPSAxIDw8IGxmdDtcbiAgICAgICAgdDIuc29ydChmdW5jdGlvbiAoYSwgYikgeyByZXR1cm4gdHJbYi5zXSAtIHRyW2Euc10gfHwgYS5mIC0gYi5mOyB9KTtcbiAgICAgICAgZm9yICg7IGkgPCBzOyArK2kpIHtcbiAgICAgICAgICAgIHZhciBpMl8xID0gdDJbaV0ucztcbiAgICAgICAgICAgIGlmICh0cltpMl8xXSA+IG1iKSB7XG4gICAgICAgICAgICAgICAgZHQgKz0gY3N0IC0gKDEgPDwgKG1idCAtIHRyW2kyXzFdKSk7XG4gICAgICAgICAgICAgICAgdHJbaTJfMV0gPSBtYjtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGVsc2VcbiAgICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgfVxuICAgICAgICBkdCA+Pj49IGxmdDtcbiAgICAgICAgd2hpbGUgKGR0ID4gMCkge1xuICAgICAgICAgICAgdmFyIGkyXzIgPSB0MltpXS5zO1xuICAgICAgICAgICAgaWYgKHRyW2kyXzJdIDwgbWIpXG4gICAgICAgICAgICAgICAgZHQgLT0gMSA8PCAobWIgLSB0cltpMl8yXSsrIC0gMSk7XG4gICAgICAgICAgICBlbHNlXG4gICAgICAgICAgICAgICAgKytpO1xuICAgICAgICB9XG4gICAgICAgIGZvciAoOyBpID49IDAgJiYgZHQ7IC0taSkge1xuICAgICAgICAgICAgdmFyIGkyXzMgPSB0MltpXS5zO1xuICAgICAgICAgICAgaWYgKHRyW2kyXzNdID09IG1iKSB7XG4gICAgICAgICAgICAgICAgLS10cltpMl8zXTtcbiAgICAgICAgICAgICAgICArK2R0O1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICAgIG1idCA9IG1iO1xuICAgIH1cbiAgICByZXR1cm4gW25ldyB1OCh0ciksIG1idF07XG59O1xuLy8gZ2V0IHRoZSBtYXggbGVuZ3RoIGFuZCBhc3NpZ24gbGVuZ3RoIGNvZGVzXG52YXIgbG4gPSBmdW5jdGlvbiAobiwgbCwgZCkge1xuICAgIHJldHVybiBuLnMgPT0gLTFcbiAgICAgICAgPyBNYXRoLm1heChsbihuLmwsIGwsIGQgKyAxKSwgbG4obi5yLCBsLCBkICsgMSkpXG4gICAgICAgIDogKGxbbi5zXSA9IGQpO1xufTtcbi8vIGxlbmd0aCBjb2RlcyBnZW5lcmF0aW9uXG52YXIgbGMgPSBmdW5jdGlvbiAoYykge1xuICAgIHZhciBzID0gYy5sZW5ndGg7XG4gICAgLy8gTm90ZSB0aGF0IHRoZSBzZW1pY29sb24gd2FzIGludGVudGlvbmFsXG4gICAgd2hpbGUgKHMgJiYgIWNbLS1zXSlcbiAgICAgICAgO1xuICAgIHZhciBjbCA9IG5ldyB1MTYoKytzKTtcbiAgICAvLyAgaW5kICAgICAgbnVtICAgICAgICAgc3RyZWFrXG4gICAgdmFyIGNsaSA9IDAsIGNsbiA9IGNbMF0sIGNscyA9IDE7XG4gICAgdmFyIHcgPSBmdW5jdGlvbiAodikgeyBjbFtjbGkrK10gPSB2OyB9O1xuICAgIGZvciAodmFyIGkgPSAxOyBpIDw9IHM7ICsraSkge1xuICAgICAgICBpZiAoY1tpXSA9PSBjbG4gJiYgaSAhPSBzKVxuICAgICAgICAgICAgKytjbHM7XG4gICAgICAgIGVsc2Uge1xuICAgICAgICAgICAgaWYgKCFjbG4gJiYgY2xzID4gMikge1xuICAgICAgICAgICAgICAgIGZvciAoOyBjbHMgPiAxMzg7IGNscyAtPSAxMzgpXG4gICAgICAgICAgICAgICAgICAgIHcoMzI3NTQpO1xuICAgICAgICAgICAgICAgIGlmIChjbHMgPiAyKSB7XG4gICAgICAgICAgICAgICAgICAgIHcoY2xzID4gMTAgPyAoKGNscyAtIDExKSA8PCA1KSB8IDI4NjkwIDogKChjbHMgLSAzKSA8PCA1KSB8IDEyMzA1KTtcbiAgICAgICAgICAgICAgICAgICAgY2xzID0gMDtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBlbHNlIGlmIChjbHMgPiAzKSB7XG4gICAgICAgICAgICAgICAgdyhjbG4pLCAtLWNscztcbiAgICAgICAgICAgICAgICBmb3IgKDsgY2xzID4gNjsgY2xzIC09IDYpXG4gICAgICAgICAgICAgICAgICAgIHcoODMwNCk7XG4gICAgICAgICAgICAgICAgaWYgKGNscyA+IDIpXG4gICAgICAgICAgICAgICAgICAgIHcoKChjbHMgLSAzKSA8PCA1KSB8IDgyMDgpLCBjbHMgPSAwO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgd2hpbGUgKGNscy0tKVxuICAgICAgICAgICAgICAgIHcoY2xuKTtcbiAgICAgICAgICAgIGNscyA9IDE7XG4gICAgICAgICAgICBjbG4gPSBjW2ldO1xuICAgICAgICB9XG4gICAgfVxuICAgIHJldHVybiBbY2wuc3ViYXJyYXkoMCwgY2xpKSwgc107XG59O1xuLy8gY2FsY3VsYXRlIHRoZSBsZW5ndGggb2Ygb3V0cHV0IGZyb20gdHJlZSwgY29kZSBsZW5ndGhzXG52YXIgY2xlbiA9IGZ1bmN0aW9uIChjZiwgY2wpIHtcbiAgICB2YXIgbCA9IDA7XG4gICAgZm9yICh2YXIgaSA9IDA7IGkgPCBjbC5sZW5ndGg7ICsraSlcbiAgICAgICAgbCArPSBjZltpXSAqIGNsW2ldO1xuICAgIHJldHVybiBsO1xufTtcbi8vIHdyaXRlcyBhIGZpeGVkIGJsb2NrXG4vLyByZXR1cm5zIHRoZSBuZXcgYml0IHBvc1xudmFyIHdmYmxrID0gZnVuY3Rpb24gKG91dCwgcG9zLCBkYXQpIHtcbiAgICAvLyBubyBuZWVkIHRvIHdyaXRlIDAwIGFzIHR5cGU6IFR5cGVkQXJyYXkgZGVmYXVsdHMgdG8gMFxuICAgIHZhciBzID0gZGF0Lmxlbmd0aDtcbiAgICB2YXIgbyA9IHNoZnQocG9zICsgMik7XG4gICAgb3V0W29dID0gcyAmIDI1NTtcbiAgICBvdXRbbyArIDFdID0gcyA+Pj4gODtcbiAgICBvdXRbbyArIDJdID0gb3V0W29dIF4gMjU1O1xuICAgIG91dFtvICsgM10gPSBvdXRbbyArIDFdIF4gMjU1O1xuICAgIGZvciAodmFyIGkgPSAwOyBpIDwgczsgKytpKVxuICAgICAgICBvdXRbbyArIGkgKyA0XSA9IGRhdFtpXTtcbiAgICByZXR1cm4gKG8gKyA0ICsgcykgKiA4O1xufTtcbi8vIHdyaXRlcyBhIGJsb2NrXG52YXIgd2JsayA9IGZ1bmN0aW9uIChkYXQsIG91dCwgZmluYWwsIHN5bXMsIGxmLCBkZiwgZWIsIGxpLCBicywgYmwsIHApIHtcbiAgICB3Yml0cyhvdXQsIHArKywgZmluYWwpO1xuICAgICsrbGZbMjU2XTtcbiAgICB2YXIgX2EgPSBoVHJlZShsZiwgMTUpLCBkbHQgPSBfYVswXSwgbWxiID0gX2FbMV07XG4gICAgdmFyIF9iID0gaFRyZWUoZGYsIDE1KSwgZGR0ID0gX2JbMF0sIG1kYiA9IF9iWzFdO1xuICAgIHZhciBfYyA9IGxjKGRsdCksIGxjbHQgPSBfY1swXSwgbmxjID0gX2NbMV07XG4gICAgdmFyIF9kID0gbGMoZGR0KSwgbGNkdCA9IF9kWzBdLCBuZGMgPSBfZFsxXTtcbiAgICB2YXIgbGNmcmVxID0gbmV3IHUxNigxOSk7XG4gICAgZm9yICh2YXIgaSA9IDA7IGkgPCBsY2x0Lmxlbmd0aDsgKytpKVxuICAgICAgICBsY2ZyZXFbbGNsdFtpXSAmIDMxXSsrO1xuICAgIGZvciAodmFyIGkgPSAwOyBpIDwgbGNkdC5sZW5ndGg7ICsraSlcbiAgICAgICAgbGNmcmVxW2xjZHRbaV0gJiAzMV0rKztcbiAgICB2YXIgX2UgPSBoVHJlZShsY2ZyZXEsIDcpLCBsY3QgPSBfZVswXSwgbWxjYiA9IF9lWzFdO1xuICAgIHZhciBubGNjID0gMTk7XG4gICAgZm9yICg7IG5sY2MgPiA0ICYmICFsY3RbY2xpbVtubGNjIC0gMV1dOyAtLW5sY2MpXG4gICAgICAgIDtcbiAgICB2YXIgZmxlbiA9IChibCArIDUpIDw8IDM7XG4gICAgdmFyIGZ0bGVuID0gY2xlbihsZiwgZmx0KSArIGNsZW4oZGYsIGZkdCkgKyBlYjtcbiAgICB2YXIgZHRsZW4gPSBjbGVuKGxmLCBkbHQpICsgY2xlbihkZiwgZGR0KSArIGViICsgMTQgKyAzICogbmxjYyArIGNsZW4obGNmcmVxLCBsY3QpICsgKDIgKiBsY2ZyZXFbMTZdICsgMyAqIGxjZnJlcVsxN10gKyA3ICogbGNmcmVxWzE4XSk7XG4gICAgaWYgKGZsZW4gPD0gZnRsZW4gJiYgZmxlbiA8PSBkdGxlbilcbiAgICAgICAgcmV0dXJuIHdmYmxrKG91dCwgcCwgZGF0LnN1YmFycmF5KGJzLCBicyArIGJsKSk7XG4gICAgdmFyIGxtLCBsbCwgZG0sIGRsO1xuICAgIHdiaXRzKG91dCwgcCwgMSArIChkdGxlbiA8IGZ0bGVuKSksIHAgKz0gMjtcbiAgICBpZiAoZHRsZW4gPCBmdGxlbikge1xuICAgICAgICBsbSA9IGhNYXAoZGx0LCBtbGIsIDApLCBsbCA9IGRsdCwgZG0gPSBoTWFwKGRkdCwgbWRiLCAwKSwgZGwgPSBkZHQ7XG4gICAgICAgIHZhciBsbG0gPSBoTWFwKGxjdCwgbWxjYiwgMCk7XG4gICAgICAgIHdiaXRzKG91dCwgcCwgbmxjIC0gMjU3KTtcbiAgICAgICAgd2JpdHMob3V0LCBwICsgNSwgbmRjIC0gMSk7XG4gICAgICAgIHdiaXRzKG91dCwgcCArIDEwLCBubGNjIC0gNCk7XG4gICAgICAgIHAgKz0gMTQ7XG4gICAgICAgIGZvciAodmFyIGkgPSAwOyBpIDwgbmxjYzsgKytpKVxuICAgICAgICAgICAgd2JpdHMob3V0LCBwICsgMyAqIGksIGxjdFtjbGltW2ldXSk7XG4gICAgICAgIHAgKz0gMyAqIG5sY2M7XG4gICAgICAgIHZhciBsY3RzID0gW2xjbHQsIGxjZHRdO1xuICAgICAgICBmb3IgKHZhciBpdCA9IDA7IGl0IDwgMjsgKytpdCkge1xuICAgICAgICAgICAgdmFyIGNsY3QgPSBsY3RzW2l0XTtcbiAgICAgICAgICAgIGZvciAodmFyIGkgPSAwOyBpIDwgY2xjdC5sZW5ndGg7ICsraSkge1xuICAgICAgICAgICAgICAgIHZhciBsZW4gPSBjbGN0W2ldICYgMzE7XG4gICAgICAgICAgICAgICAgd2JpdHMob3V0LCBwLCBsbG1bbGVuXSksIHAgKz0gbGN0W2xlbl07XG4gICAgICAgICAgICAgICAgaWYgKGxlbiA+IDE1KVxuICAgICAgICAgICAgICAgICAgICB3Yml0cyhvdXQsIHAsIChjbGN0W2ldID4+PiA1KSAmIDEyNyksIHAgKz0gY2xjdFtpXSA+Pj4gMTI7XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICB9XG4gICAgZWxzZSB7XG4gICAgICAgIGxtID0gZmxtLCBsbCA9IGZsdCwgZG0gPSBmZG0sIGRsID0gZmR0O1xuICAgIH1cbiAgICBmb3IgKHZhciBpID0gMDsgaSA8IGxpOyArK2kpIHtcbiAgICAgICAgaWYgKHN5bXNbaV0gPiAyNTUpIHtcbiAgICAgICAgICAgIHZhciBsZW4gPSAoc3ltc1tpXSA+Pj4gMTgpICYgMzE7XG4gICAgICAgICAgICB3Yml0czE2KG91dCwgcCwgbG1bbGVuICsgMjU3XSksIHAgKz0gbGxbbGVuICsgMjU3XTtcbiAgICAgICAgICAgIGlmIChsZW4gPiA3KVxuICAgICAgICAgICAgICAgIHdiaXRzKG91dCwgcCwgKHN5bXNbaV0gPj4+IDIzKSAmIDMxKSwgcCArPSBmbGViW2xlbl07XG4gICAgICAgICAgICB2YXIgZHN0ID0gc3ltc1tpXSAmIDMxO1xuICAgICAgICAgICAgd2JpdHMxNihvdXQsIHAsIGRtW2RzdF0pLCBwICs9IGRsW2RzdF07XG4gICAgICAgICAgICBpZiAoZHN0ID4gMylcbiAgICAgICAgICAgICAgICB3Yml0czE2KG91dCwgcCwgKHN5bXNbaV0gPj4+IDUpICYgODE5MSksIHAgKz0gZmRlYltkc3RdO1xuICAgICAgICB9XG4gICAgICAgIGVsc2Uge1xuICAgICAgICAgICAgd2JpdHMxNihvdXQsIHAsIGxtW3N5bXNbaV1dKSwgcCArPSBsbFtzeW1zW2ldXTtcbiAgICAgICAgfVxuICAgIH1cbiAgICB3Yml0czE2KG91dCwgcCwgbG1bMjU2XSk7XG4gICAgcmV0dXJuIHAgKyBsbFsyNTZdO1xufTtcbi8vIGRlZmxhdGUgb3B0aW9ucyAobmljZSA8PCAxMykgfCBjaGFpblxudmFyIGRlbyA9IC8qI19fUFVSRV9fKi8gbmV3IHUzMihbNjU1NDAsIDEzMTA4MCwgMTMxMDg4LCAxMzExMDQsIDI2MjE3NiwgMTA0ODcwNCwgMTA0ODgzMiwgMjExNDU2MCwgMjExNzYzMl0pO1xuLy8gZW1wdHlcbnZhciBldCA9IC8qI19fUFVSRV9fKi8gbmV3IHU4KDApO1xuLy8gY29tcHJlc3NlcyBkYXRhIGludG8gYSByYXcgREVGTEFURSBidWZmZXJcbnZhciBkZmx0ID0gZnVuY3Rpb24gKGRhdCwgbHZsLCBwbHZsLCBwcmUsIHBvc3QsIGxzdCkge1xuICAgIHZhciBzID0gZGF0Lmxlbmd0aDtcbiAgICB2YXIgbyA9IG5ldyB1OChwcmUgKyBzICsgNSAqICgxICsgTWF0aC5jZWlsKHMgLyA3MDAwKSkgKyBwb3N0KTtcbiAgICAvLyB3cml0aW5nIHRvIHRoaXMgd3JpdGVzIHRvIHRoZSBvdXRwdXQgYnVmZmVyXG4gICAgdmFyIHcgPSBvLnN1YmFycmF5KHByZSwgby5sZW5ndGggLSBwb3N0KTtcbiAgICB2YXIgcG9zID0gMDtcbiAgICBpZiAoIWx2bCB8fCBzIDwgOCkge1xuICAgICAgICBmb3IgKHZhciBpID0gMDsgaSA8PSBzOyBpICs9IDY1NTM1KSB7XG4gICAgICAgICAgICAvLyBlbmRcbiAgICAgICAgICAgIHZhciBlID0gaSArIDY1NTM1O1xuICAgICAgICAgICAgaWYgKGUgPj0gcykge1xuICAgICAgICAgICAgICAgIC8vIHdyaXRlIGZpbmFsIGJsb2NrXG4gICAgICAgICAgICAgICAgd1twb3MgPj4gM10gPSBsc3Q7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBwb3MgPSB3ZmJsayh3LCBwb3MgKyAxLCBkYXQuc3ViYXJyYXkoaSwgZSkpO1xuICAgICAgICB9XG4gICAgfVxuICAgIGVsc2Uge1xuICAgICAgICB2YXIgb3B0ID0gZGVvW2x2bCAtIDFdO1xuICAgICAgICB2YXIgbiA9IG9wdCA+Pj4gMTMsIGMgPSBvcHQgJiA4MTkxO1xuICAgICAgICB2YXIgbXNrXzEgPSAoMSA8PCBwbHZsKSAtIDE7XG4gICAgICAgIC8vICAgIHByZXYgMi1ieXRlIHZhbCBtYXAgICAgY3VyciAyLWJ5dGUgdmFsIG1hcFxuICAgICAgICB2YXIgcHJldiA9IG5ldyB1MTYoMzI3NjgpLCBoZWFkID0gbmV3IHUxNihtc2tfMSArIDEpO1xuICAgICAgICB2YXIgYnMxXzEgPSBNYXRoLmNlaWwocGx2bCAvIDMpLCBiczJfMSA9IDIgKiBiczFfMTtcbiAgICAgICAgdmFyIGhzaCA9IGZ1bmN0aW9uIChpKSB7IHJldHVybiAoZGF0W2ldIF4gKGRhdFtpICsgMV0gPDwgYnMxXzEpIF4gKGRhdFtpICsgMl0gPDwgYnMyXzEpKSAmIG1za18xOyB9O1xuICAgICAgICAvLyAyNDU3NiBpcyBhbiBhcmJpdHJhcnkgbnVtYmVyIG9mIG1heGltdW0gc3ltYm9scyBwZXIgYmxvY2tcbiAgICAgICAgLy8gNDI0IGJ1ZmZlciBmb3IgbGFzdCBibG9ja1xuICAgICAgICB2YXIgc3ltcyA9IG5ldyB1MzIoMjUwMDApO1xuICAgICAgICAvLyBsZW5ndGgvbGl0ZXJhbCBmcmVxICAgZGlzdGFuY2UgZnJlcVxuICAgICAgICB2YXIgbGYgPSBuZXcgdTE2KDI4OCksIGRmID0gbmV3IHUxNigzMik7XG4gICAgICAgIC8vICBsL2xjbnQgIGV4Yml0cyAgaW5kZXggIGwvbGluZCAgd2FpdGR4ICBiaXRwb3NcbiAgICAgICAgdmFyIGxjXzEgPSAwLCBlYiA9IDAsIGkgPSAwLCBsaSA9IDAsIHdpID0gMCwgYnMgPSAwO1xuICAgICAgICBmb3IgKDsgaSA8IHM7ICsraSkge1xuICAgICAgICAgICAgLy8gaGFzaCB2YWx1ZVxuICAgICAgICAgICAgLy8gZGVvcHQgd2hlbiBpID4gcyAtIDMgLSBhdCBlbmQsIGRlb3B0IGFjY2VwdGFibGVcbiAgICAgICAgICAgIHZhciBodiA9IGhzaChpKTtcbiAgICAgICAgICAgIC8vIGluZGV4IG1vZCAzMjc2OCAgICBwcmV2aW91cyBpbmRleCBtb2RcbiAgICAgICAgICAgIHZhciBpbW9kID0gaSAmIDMyNzY3LCBwaW1vZCA9IGhlYWRbaHZdO1xuICAgICAgICAgICAgcHJldltpbW9kXSA9IHBpbW9kO1xuICAgICAgICAgICAgaGVhZFtodl0gPSBpbW9kO1xuICAgICAgICAgICAgLy8gV2UgYWx3YXlzIHNob3VsZCBtb2RpZnkgaGVhZCBhbmQgcHJldiwgYnV0IG9ubHkgYWRkIHN5bWJvbHMgaWZcbiAgICAgICAgICAgIC8vIHRoaXMgZGF0YSBpcyBub3QgeWV0IHByb2Nlc3NlZCAoXCJ3YWl0XCIgZm9yIHdhaXQgaW5kZXgpXG4gICAgICAgICAgICBpZiAod2kgPD0gaSkge1xuICAgICAgICAgICAgICAgIC8vIGJ5dGVzIHJlbWFpbmluZ1xuICAgICAgICAgICAgICAgIHZhciByZW0gPSBzIC0gaTtcbiAgICAgICAgICAgICAgICBpZiAoKGxjXzEgPiA3MDAwIHx8IGxpID4gMjQ1NzYpICYmIHJlbSA+IDQyMykge1xuICAgICAgICAgICAgICAgICAgICBwb3MgPSB3YmxrKGRhdCwgdywgMCwgc3ltcywgbGYsIGRmLCBlYiwgbGksIGJzLCBpIC0gYnMsIHBvcyk7XG4gICAgICAgICAgICAgICAgICAgIGxpID0gbGNfMSA9IGViID0gMCwgYnMgPSBpO1xuICAgICAgICAgICAgICAgICAgICBmb3IgKHZhciBqID0gMDsgaiA8IDI4NjsgKytqKVxuICAgICAgICAgICAgICAgICAgICAgICAgbGZbal0gPSAwO1xuICAgICAgICAgICAgICAgICAgICBmb3IgKHZhciBqID0gMDsgaiA8IDMwOyArK2opXG4gICAgICAgICAgICAgICAgICAgICAgICBkZltqXSA9IDA7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIC8vICBsZW4gICAgZGlzdCAgIGNoYWluXG4gICAgICAgICAgICAgICAgdmFyIGwgPSAyLCBkID0gMCwgY2hfMSA9IGMsIGRpZiA9IChpbW9kIC0gcGltb2QpICYgMzI3Njc7XG4gICAgICAgICAgICAgICAgaWYgKHJlbSA+IDIgJiYgaHYgPT0gaHNoKGkgLSBkaWYpKSB7XG4gICAgICAgICAgICAgICAgICAgIHZhciBtYXhuID0gTWF0aC5taW4obiwgcmVtKSAtIDE7XG4gICAgICAgICAgICAgICAgICAgIHZhciBtYXhkID0gTWF0aC5taW4oMzI3NjcsIGkpO1xuICAgICAgICAgICAgICAgICAgICAvLyBtYXggcG9zc2libGUgbGVuZ3RoXG4gICAgICAgICAgICAgICAgICAgIC8vIG5vdCBjYXBwZWQgYXQgZGlmIGJlY2F1c2UgZGVjb21wcmVzc29ycyBpbXBsZW1lbnQgXCJyb2xsaW5nXCIgaW5kZXggcG9wdWxhdGlvblxuICAgICAgICAgICAgICAgICAgICB2YXIgbWwgPSBNYXRoLm1pbigyNTgsIHJlbSk7XG4gICAgICAgICAgICAgICAgICAgIHdoaWxlIChkaWYgPD0gbWF4ZCAmJiAtLWNoXzEgJiYgaW1vZCAhPSBwaW1vZCkge1xuICAgICAgICAgICAgICAgICAgICAgICAgaWYgKGRhdFtpICsgbF0gPT0gZGF0W2kgKyBsIC0gZGlmXSkge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHZhciBubCA9IDA7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgZm9yICg7IG5sIDwgbWwgJiYgZGF0W2kgKyBubF0gPT0gZGF0W2kgKyBubCAtIGRpZl07ICsrbmwpXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBpZiAobmwgPiBsKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGwgPSBubCwgZCA9IGRpZjtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgLy8gYnJlYWsgb3V0IGVhcmx5IHdoZW4gd2UgcmVhY2ggXCJuaWNlXCIgKHdlIGFyZSBzYXRpc2ZpZWQgZW5vdWdoKVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBpZiAobmwgPiBtYXhuKVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIC8vIG5vdywgZmluZCB0aGUgcmFyZXN0IDItYnl0ZSBzZXF1ZW5jZSB3aXRoaW4gdGhpc1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAvLyBsZW5ndGggb2YgbGl0ZXJhbHMgYW5kIHNlYXJjaCBmb3IgdGhhdCBpbnN0ZWFkLlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAvLyBNdWNoIGZhc3RlciB0aGFuIGp1c3QgdXNpbmcgdGhlIHN0YXJ0XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHZhciBtbWQgPSBNYXRoLm1pbihkaWYsIG5sIC0gMik7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHZhciBtZCA9IDA7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGZvciAodmFyIGogPSAwOyBqIDwgbW1kOyArK2opIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHZhciB0aSA9IChpIC0gZGlmICsgaiArIDMyNzY4KSAmIDMyNzY3O1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgdmFyIHB0aSA9IHByZXZbdGldO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgdmFyIGNkID0gKHRpIC0gcHRpICsgMzI3NjgpICYgMzI3Njc7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBpZiAoY2QgPiBtZClcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBtZCA9IGNkLCBwaW1vZCA9IHRpO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICAgICAgLy8gY2hlY2sgdGhlIHByZXZpb3VzIG1hdGNoXG4gICAgICAgICAgICAgICAgICAgICAgICBpbW9kID0gcGltb2QsIHBpbW9kID0gcHJldltpbW9kXTtcbiAgICAgICAgICAgICAgICAgICAgICAgIGRpZiArPSAoaW1vZCAtIHBpbW9kICsgMzI3NjgpICYgMzI3Njc7XG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgLy8gZCB3aWxsIGJlIG5vbnplcm8gb25seSB3aGVuIGEgbWF0Y2ggd2FzIGZvdW5kXG4gICAgICAgICAgICAgICAgaWYgKGQpIHtcbiAgICAgICAgICAgICAgICAgICAgLy8gc3RvcmUgYm90aCBkaXN0IGFuZCBsZW4gZGF0YSBpbiBvbmUgVWludDMyXG4gICAgICAgICAgICAgICAgICAgIC8vIE1ha2Ugc3VyZSB0aGlzIGlzIHJlY29nbml6ZWQgYXMgYSBsZW4vZGlzdCB3aXRoIDI4dGggYml0ICgyXjI4KVxuICAgICAgICAgICAgICAgICAgICBzeW1zW2xpKytdID0gMjY4NDM1NDU2IHwgKHJldmZsW2xdIDw8IDE4KSB8IHJldmZkW2RdO1xuICAgICAgICAgICAgICAgICAgICB2YXIgbGluID0gcmV2ZmxbbF0gJiAzMSwgZGluID0gcmV2ZmRbZF0gJiAzMTtcbiAgICAgICAgICAgICAgICAgICAgZWIgKz0gZmxlYltsaW5dICsgZmRlYltkaW5dO1xuICAgICAgICAgICAgICAgICAgICArK2xmWzI1NyArIGxpbl07XG4gICAgICAgICAgICAgICAgICAgICsrZGZbZGluXTtcbiAgICAgICAgICAgICAgICAgICAgd2kgPSBpICsgbDtcbiAgICAgICAgICAgICAgICAgICAgKytsY18xO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICBlbHNlIHtcbiAgICAgICAgICAgICAgICAgICAgc3ltc1tsaSsrXSA9IGRhdFtpXTtcbiAgICAgICAgICAgICAgICAgICAgKytsZltkYXRbaV1dO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgICBwb3MgPSB3YmxrKGRhdCwgdywgbHN0LCBzeW1zLCBsZiwgZGYsIGViLCBsaSwgYnMsIGkgLSBicywgcG9zKTtcbiAgICAgICAgLy8gdGhpcyBpcyB0aGUgZWFzaWVzdCB3YXkgdG8gYXZvaWQgbmVlZGluZyB0byBtYWludGFpbiBzdGF0ZVxuICAgICAgICBpZiAoIWxzdCAmJiBwb3MgJiA3KVxuICAgICAgICAgICAgcG9zID0gd2ZibGsodywgcG9zICsgMSwgZXQpO1xuICAgIH1cbiAgICByZXR1cm4gc2xjKG8sIDAsIHByZSArIHNoZnQocG9zKSArIHBvc3QpO1xufTtcbi8vIENSQzMyIHRhYmxlXG52YXIgY3JjdCA9IC8qI19fUFVSRV9fKi8gKGZ1bmN0aW9uICgpIHtcbiAgICB2YXIgdCA9IG5ldyBJbnQzMkFycmF5KDI1Nik7XG4gICAgZm9yICh2YXIgaSA9IDA7IGkgPCAyNTY7ICsraSkge1xuICAgICAgICB2YXIgYyA9IGksIGsgPSA5O1xuICAgICAgICB3aGlsZSAoLS1rKVxuICAgICAgICAgICAgYyA9ICgoYyAmIDEpICYmIC0zMDY2NzQ5MTIpIF4gKGMgPj4+IDEpO1xuICAgICAgICB0W2ldID0gYztcbiAgICB9XG4gICAgcmV0dXJuIHQ7XG59KSgpO1xuLy8gQ1JDMzJcbnZhciBjcmMgPSBmdW5jdGlvbiAoKSB7XG4gICAgdmFyIGMgPSAtMTtcbiAgICByZXR1cm4ge1xuICAgICAgICBwOiBmdW5jdGlvbiAoZCkge1xuICAgICAgICAgICAgLy8gY2xvc3VyZXMgaGF2ZSBhd2Z1bCBwZXJmb3JtYW5jZVxuICAgICAgICAgICAgdmFyIGNyID0gYztcbiAgICAgICAgICAgIGZvciAodmFyIGkgPSAwOyBpIDwgZC5sZW5ndGg7ICsraSlcbiAgICAgICAgICAgICAgICBjciA9IGNyY3RbKGNyICYgMjU1KSBeIGRbaV1dIF4gKGNyID4+PiA4KTtcbiAgICAgICAgICAgIGMgPSBjcjtcbiAgICAgICAgfSxcbiAgICAgICAgZDogZnVuY3Rpb24gKCkgeyByZXR1cm4gfmM7IH1cbiAgICB9O1xufTtcbi8vIEFsZGVyMzJcbnZhciBhZGxlciA9IGZ1bmN0aW9uICgpIHtcbiAgICB2YXIgYSA9IDEsIGIgPSAwO1xuICAgIHJldHVybiB7XG4gICAgICAgIHA6IGZ1bmN0aW9uIChkKSB7XG4gICAgICAgICAgICAvLyBjbG9zdXJlcyBoYXZlIGF3ZnVsIHBlcmZvcm1hbmNlXG4gICAgICAgICAgICB2YXIgbiA9IGEsIG0gPSBiO1xuICAgICAgICAgICAgdmFyIGwgPSBkLmxlbmd0aCB8IDA7XG4gICAgICAgICAgICBmb3IgKHZhciBpID0gMDsgaSAhPSBsOykge1xuICAgICAgICAgICAgICAgIHZhciBlID0gTWF0aC5taW4oaSArIDI2NTUsIGwpO1xuICAgICAgICAgICAgICAgIGZvciAoOyBpIDwgZTsgKytpKVxuICAgICAgICAgICAgICAgICAgICBtICs9IG4gKz0gZFtpXTtcbiAgICAgICAgICAgICAgICBuID0gKG4gJiA2NTUzNSkgKyAxNSAqIChuID4+IDE2KSwgbSA9IChtICYgNjU1MzUpICsgMTUgKiAobSA+PiAxNik7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBhID0gbiwgYiA9IG07XG4gICAgICAgIH0sXG4gICAgICAgIGQ6IGZ1bmN0aW9uICgpIHtcbiAgICAgICAgICAgIGEgJT0gNjU1MjEsIGIgJT0gNjU1MjE7XG4gICAgICAgICAgICByZXR1cm4gKGEgJiAyNTUpIDw8IDI0IHwgKGEgPj4+IDgpIDw8IDE2IHwgKGIgJiAyNTUpIDw8IDggfCAoYiA+Pj4gOCk7XG4gICAgICAgIH1cbiAgICB9O1xufTtcbjtcbi8vIGRlZmxhdGUgd2l0aCBvcHRzXG52YXIgZG9wdCA9IGZ1bmN0aW9uIChkYXQsIG9wdCwgcHJlLCBwb3N0LCBzdCkge1xuICAgIHJldHVybiBkZmx0KGRhdCwgb3B0LmxldmVsID09IG51bGwgPyA2IDogb3B0LmxldmVsLCBvcHQubWVtID09IG51bGwgPyBNYXRoLmNlaWwoTWF0aC5tYXgoOCwgTWF0aC5taW4oMTMsIE1hdGgubG9nKGRhdC5sZW5ndGgpKSkgKiAxLjUpIDogKDEyICsgb3B0Lm1lbSksIHByZSwgcG9zdCwgIXN0KTtcbn07XG4vLyBXYWxtYXJ0IG9iamVjdCBzcHJlYWRcbnZhciBtcmcgPSBmdW5jdGlvbiAoYSwgYikge1xuICAgIHZhciBvID0ge307XG4gICAgZm9yICh2YXIgayBpbiBhKVxuICAgICAgICBvW2tdID0gYVtrXTtcbiAgICBmb3IgKHZhciBrIGluIGIpXG4gICAgICAgIG9ba10gPSBiW2tdO1xuICAgIHJldHVybiBvO1xufTtcbi8vIHdvcmtlciBjbG9uZVxuLy8gVGhpcyBpcyBwb3NzaWJseSB0aGUgY3Jhemllc3QgcGFydCBvZiB0aGUgZW50aXJlIGNvZGViYXNlLCBkZXNwaXRlIGhvdyBzaW1wbGUgaXQgbWF5IHNlZW0uXG4vLyBUaGUgb25seSBwYXJhbWV0ZXIgdG8gdGhpcyBmdW5jdGlvbiBpcyBhIGNsb3N1cmUgdGhhdCByZXR1cm5zIGFuIGFycmF5IG9mIHZhcmlhYmxlcyBvdXRzaWRlIG9mIHRoZSBmdW5jdGlvbiBzY29wZS5cbi8vIFdlJ3JlIGdvaW5nIHRvIHRyeSB0byBmaWd1cmUgb3V0IHRoZSB2YXJpYWJsZSBuYW1lcyB1c2VkIGluIHRoZSBjbG9zdXJlIGFzIHN0cmluZ3MgYmVjYXVzZSB0aGF0IGlzIGNydWNpYWwgZm9yIHdvcmtlcml6YXRpb24uXG4vLyBXZSB3aWxsIHJldHVybiBhbiBvYmplY3QgbWFwcGluZyBvZiB0cnVlIHZhcmlhYmxlIG5hbWUgdG8gdmFsdWUgKGJhc2ljYWxseSwgdGhlIGN1cnJlbnQgc2NvcGUgYXMgYSBKUyBvYmplY3QpLlxuLy8gVGhlIHJlYXNvbiB3ZSBjYW4ndCBqdXN0IHVzZSB0aGUgb3JpZ2luYWwgdmFyaWFibGUgbmFtZXMgaXMgbWluaWZpZXJzIG1hbmdsaW5nIHRoZSB0b3BsZXZlbCBzY29wZS5cbi8vIFRoaXMgdG9vayBtZSB0aHJlZSB3ZWVrcyB0byBmaWd1cmUgb3V0IGhvdyB0byBkby5cbnZhciB3Y2xuID0gZnVuY3Rpb24gKGZuLCBmblN0ciwgdGQpIHtcbiAgICB2YXIgZHQgPSBmbigpO1xuICAgIHZhciBzdCA9IGZuLnRvU3RyaW5nKCk7XG4gICAgdmFyIGtzID0gc3Quc2xpY2Uoc3QuaW5kZXhPZignWycpICsgMSwgc3QubGFzdEluZGV4T2YoJ10nKSkucmVwbGFjZSgvXFxzKy9nLCAnJykuc3BsaXQoJywnKTtcbiAgICBmb3IgKHZhciBpID0gMDsgaSA8IGR0Lmxlbmd0aDsgKytpKSB7XG4gICAgICAgIHZhciB2ID0gZHRbaV0sIGsgPSBrc1tpXTtcbiAgICAgICAgaWYgKHR5cGVvZiB2ID09ICdmdW5jdGlvbicpIHtcbiAgICAgICAgICAgIGZuU3RyICs9ICc7JyArIGsgKyAnPSc7XG4gICAgICAgICAgICB2YXIgc3RfMSA9IHYudG9TdHJpbmcoKTtcbiAgICAgICAgICAgIGlmICh2LnByb3RvdHlwZSkge1xuICAgICAgICAgICAgICAgIC8vIGZvciBnbG9iYWwgb2JqZWN0c1xuICAgICAgICAgICAgICAgIGlmIChzdF8xLmluZGV4T2YoJ1tuYXRpdmUgY29kZV0nKSAhPSAtMSkge1xuICAgICAgICAgICAgICAgICAgICB2YXIgc3BJbmQgPSBzdF8xLmluZGV4T2YoJyAnLCA4KSArIDE7XG4gICAgICAgICAgICAgICAgICAgIGZuU3RyICs9IHN0XzEuc2xpY2Uoc3BJbmQsIHN0XzEuaW5kZXhPZignKCcsIHNwSW5kKSk7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIGVsc2Uge1xuICAgICAgICAgICAgICAgICAgICBmblN0ciArPSBzdF8xO1xuICAgICAgICAgICAgICAgICAgICBmb3IgKHZhciB0IGluIHYucHJvdG90eXBlKVxuICAgICAgICAgICAgICAgICAgICAgICAgZm5TdHIgKz0gJzsnICsgayArICcucHJvdG90eXBlLicgKyB0ICsgJz0nICsgdi5wcm90b3R5cGVbdF0udG9TdHJpbmcoKTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBlbHNlXG4gICAgICAgICAgICAgICAgZm5TdHIgKz0gc3RfMTtcbiAgICAgICAgfVxuICAgICAgICBlbHNlXG4gICAgICAgICAgICB0ZFtrXSA9IHY7XG4gICAgfVxuICAgIHJldHVybiBbZm5TdHIsIHRkXTtcbn07XG52YXIgY2ggPSBbXTtcbi8vIGNsb25lIGJ1ZnNcbnZhciBjYmZzID0gZnVuY3Rpb24gKHYpIHtcbiAgICB2YXIgdGwgPSBbXTtcbiAgICBmb3IgKHZhciBrIGluIHYpIHtcbiAgICAgICAgaWYgKHZba10uYnVmZmVyKSB7XG4gICAgICAgICAgICB0bC5wdXNoKCh2W2tdID0gbmV3IHZba10uY29uc3RydWN0b3IodltrXSkpLmJ1ZmZlcik7XG4gICAgICAgIH1cbiAgICB9XG4gICAgcmV0dXJuIHRsO1xufTtcbi8vIHVzZSBhIHdvcmtlciB0byBleGVjdXRlIGNvZGVcbnZhciB3cmtyID0gZnVuY3Rpb24gKGZucywgaW5pdCwgaWQsIGNiKSB7XG4gICAgdmFyIF9hO1xuICAgIGlmICghY2hbaWRdKSB7XG4gICAgICAgIHZhciBmblN0ciA9ICcnLCB0ZF8xID0ge30sIG0gPSBmbnMubGVuZ3RoIC0gMTtcbiAgICAgICAgZm9yICh2YXIgaSA9IDA7IGkgPCBtOyArK2kpXG4gICAgICAgICAgICBfYSA9IHdjbG4oZm5zW2ldLCBmblN0ciwgdGRfMSksIGZuU3RyID0gX2FbMF0sIHRkXzEgPSBfYVsxXTtcbiAgICAgICAgY2hbaWRdID0gd2NsbihmbnNbbV0sIGZuU3RyLCB0ZF8xKTtcbiAgICB9XG4gICAgdmFyIHRkID0gbXJnKHt9LCBjaFtpZF1bMV0pO1xuICAgIHJldHVybiB3ayhjaFtpZF1bMF0gKyAnO29ubWVzc2FnZT1mdW5jdGlvbihlKXtmb3IodmFyIGsgaW4gZS5kYXRhKXNlbGZba109ZS5kYXRhW2tdO29ubWVzc2FnZT0nICsgaW5pdC50b1N0cmluZygpICsgJ30nLCBpZCwgdGQsIGNiZnModGQpLCBjYik7XG59O1xuLy8gYmFzZSBhc3luYyBpbmZsYXRlIGZuXG52YXIgYkluZmx0ID0gZnVuY3Rpb24gKCkgeyByZXR1cm4gW3U4LCB1MTYsIHUzMiwgZmxlYiwgZmRlYiwgY2xpbSwgZmwsIGZkLCBmbHJtLCBmZHJtLCByZXYsIGVjLCBoTWFwLCBtYXgsIGJpdHMsIGJpdHMxNiwgc2hmdCwgc2xjLCBlcnIsIGluZmx0LCBpbmZsYXRlU3luYywgcGJmLCBndThdOyB9O1xudmFyIGJEZmx0ID0gZnVuY3Rpb24gKCkgeyByZXR1cm4gW3U4LCB1MTYsIHUzMiwgZmxlYiwgZmRlYiwgY2xpbSwgcmV2ZmwsIHJldmZkLCBmbG0sIGZsdCwgZmRtLCBmZHQsIHJldiwgZGVvLCBldCwgaE1hcCwgd2JpdHMsIHdiaXRzMTYsIGhUcmVlLCBsbiwgbGMsIGNsZW4sIHdmYmxrLCB3YmxrLCBzaGZ0LCBzbGMsIGRmbHQsIGRvcHQsIGRlZmxhdGVTeW5jLCBwYmZdOyB9O1xuLy8gZ3ppcCBleHRyYVxudmFyIGd6ZSA9IGZ1bmN0aW9uICgpIHsgcmV0dXJuIFtnemgsIGd6aGwsIHdieXRlcywgY3JjLCBjcmN0XTsgfTtcbi8vIGd1bnppcCBleHRyYVxudmFyIGd1emUgPSBmdW5jdGlvbiAoKSB7IHJldHVybiBbZ3pzLCBnemxdOyB9O1xuLy8gemxpYiBleHRyYVxudmFyIHpsZSA9IGZ1bmN0aW9uICgpIHsgcmV0dXJuIFt6bGgsIHdieXRlcywgYWRsZXJdOyB9O1xuLy8gdW56bGliIGV4dHJhXG52YXIgenVsZSA9IGZ1bmN0aW9uICgpIHsgcmV0dXJuIFt6bHZdOyB9O1xuLy8gcG9zdCBidWZcbnZhciBwYmYgPSBmdW5jdGlvbiAobXNnKSB7IHJldHVybiBwb3N0TWVzc2FnZShtc2csIFttc2cuYnVmZmVyXSk7IH07XG4vLyBnZXQgdThcbnZhciBndTggPSBmdW5jdGlvbiAobykgeyByZXR1cm4gbyAmJiBvLnNpemUgJiYgbmV3IHU4KG8uc2l6ZSk7IH07XG4vLyBhc3luYyBoZWxwZXJcbnZhciBjYmlmeSA9IGZ1bmN0aW9uIChkYXQsIG9wdHMsIGZucywgaW5pdCwgaWQsIGNiKSB7XG4gICAgdmFyIHcgPSB3cmtyKGZucywgaW5pdCwgaWQsIGZ1bmN0aW9uIChlcnIsIGRhdCkge1xuICAgICAgICB3LnRlcm1pbmF0ZSgpO1xuICAgICAgICBjYihlcnIsIGRhdCk7XG4gICAgfSk7XG4gICAgdy5wb3N0TWVzc2FnZShbZGF0LCBvcHRzXSwgb3B0cy5jb25zdW1lID8gW2RhdC5idWZmZXJdIDogW10pO1xuICAgIHJldHVybiBmdW5jdGlvbiAoKSB7IHcudGVybWluYXRlKCk7IH07XG59O1xuLy8gYXV0byBzdHJlYW1cbnZhciBhc3RybSA9IGZ1bmN0aW9uIChzdHJtKSB7XG4gICAgc3RybS5vbmRhdGEgPSBmdW5jdGlvbiAoZGF0LCBmaW5hbCkgeyByZXR1cm4gcG9zdE1lc3NhZ2UoW2RhdCwgZmluYWxdLCBbZGF0LmJ1ZmZlcl0pOyB9O1xuICAgIHJldHVybiBmdW5jdGlvbiAoZXYpIHsgcmV0dXJuIHN0cm0ucHVzaChldi5kYXRhWzBdLCBldi5kYXRhWzFdKTsgfTtcbn07XG4vLyBhc3luYyBzdHJlYW0gYXR0YWNoXG52YXIgYXN0cm1pZnkgPSBmdW5jdGlvbiAoZm5zLCBzdHJtLCBvcHRzLCBpbml0LCBpZCkge1xuICAgIHZhciB0O1xuICAgIHZhciB3ID0gd3JrcihmbnMsIGluaXQsIGlkLCBmdW5jdGlvbiAoZXJyLCBkYXQpIHtcbiAgICAgICAgaWYgKGVycilcbiAgICAgICAgICAgIHcudGVybWluYXRlKCksIHN0cm0ub25kYXRhLmNhbGwoc3RybSwgZXJyKTtcbiAgICAgICAgZWxzZSB7XG4gICAgICAgICAgICBpZiAoZGF0WzFdKVxuICAgICAgICAgICAgICAgIHcudGVybWluYXRlKCk7XG4gICAgICAgICAgICBzdHJtLm9uZGF0YS5jYWxsKHN0cm0sIGVyciwgZGF0WzBdLCBkYXRbMV0pO1xuICAgICAgICB9XG4gICAgfSk7XG4gICAgdy5wb3N0TWVzc2FnZShvcHRzKTtcbiAgICBzdHJtLnB1c2ggPSBmdW5jdGlvbiAoZCwgZikge1xuICAgICAgICBpZiAoIXN0cm0ub25kYXRhKVxuICAgICAgICAgICAgZXJyKDUpO1xuICAgICAgICBpZiAodClcbiAgICAgICAgICAgIHN0cm0ub25kYXRhKGVycig0LCAwLCAxKSwgbnVsbCwgISFmKTtcbiAgICAgICAgdy5wb3N0TWVzc2FnZShbZCwgdCA9IGZdLCBbZC5idWZmZXJdKTtcbiAgICB9O1xuICAgIHN0cm0udGVybWluYXRlID0gZnVuY3Rpb24gKCkgeyB3LnRlcm1pbmF0ZSgpOyB9O1xufTtcbi8vIHJlYWQgMiBieXRlc1xudmFyIGIyID0gZnVuY3Rpb24gKGQsIGIpIHsgcmV0dXJuIGRbYl0gfCAoZFtiICsgMV0gPDwgOCk7IH07XG4vLyByZWFkIDQgYnl0ZXNcbnZhciBiNCA9IGZ1bmN0aW9uIChkLCBiKSB7IHJldHVybiAoZFtiXSB8IChkW2IgKyAxXSA8PCA4KSB8IChkW2IgKyAyXSA8PCAxNikgfCAoZFtiICsgM10gPDwgMjQpKSA+Pj4gMDsgfTtcbnZhciBiOCA9IGZ1bmN0aW9uIChkLCBiKSB7IHJldHVybiBiNChkLCBiKSArIChiNChkLCBiICsgNCkgKiA0Mjk0OTY3Mjk2KTsgfTtcbi8vIHdyaXRlIGJ5dGVzXG52YXIgd2J5dGVzID0gZnVuY3Rpb24gKGQsIGIsIHYpIHtcbiAgICBmb3IgKDsgdjsgKytiKVxuICAgICAgICBkW2JdID0gdiwgdiA+Pj49IDg7XG59O1xuLy8gZ3ppcCBoZWFkZXJcbnZhciBnemggPSBmdW5jdGlvbiAoYywgbykge1xuICAgIHZhciBmbiA9IG8uZmlsZW5hbWU7XG4gICAgY1swXSA9IDMxLCBjWzFdID0gMTM5LCBjWzJdID0gOCwgY1s4XSA9IG8ubGV2ZWwgPCAyID8gNCA6IG8ubGV2ZWwgPT0gOSA/IDIgOiAwLCBjWzldID0gMzsgLy8gYXNzdW1lIFVuaXhcbiAgICBpZiAoby5tdGltZSAhPSAwKVxuICAgICAgICB3Ynl0ZXMoYywgNCwgTWF0aC5mbG9vcihuZXcgRGF0ZShvLm10aW1lIHx8IERhdGUubm93KCkpIC8gMTAwMCkpO1xuICAgIGlmIChmbikge1xuICAgICAgICBjWzNdID0gODtcbiAgICAgICAgZm9yICh2YXIgaSA9IDA7IGkgPD0gZm4ubGVuZ3RoOyArK2kpXG4gICAgICAgICAgICBjW2kgKyAxMF0gPSBmbi5jaGFyQ29kZUF0KGkpO1xuICAgIH1cbn07XG4vLyBnemlwIGZvb3RlcjogLTggdG8gLTQgPSBDUkMsIC00IHRvIC0wIGlzIGxlbmd0aFxuLy8gZ3ppcCBzdGFydFxudmFyIGd6cyA9IGZ1bmN0aW9uIChkKSB7XG4gICAgaWYgKGRbMF0gIT0gMzEgfHwgZFsxXSAhPSAxMzkgfHwgZFsyXSAhPSA4KVxuICAgICAgICBlcnIoNiwgJ2ludmFsaWQgZ3ppcCBkYXRhJyk7XG4gICAgdmFyIGZsZyA9IGRbM107XG4gICAgdmFyIHN0ID0gMTA7XG4gICAgaWYgKGZsZyAmIDQpXG4gICAgICAgIHN0ICs9IGRbMTBdIHwgKGRbMTFdIDw8IDgpICsgMjtcbiAgICBmb3IgKHZhciB6cyA9IChmbGcgPj4gMyAmIDEpICsgKGZsZyA+PiA0ICYgMSk7IHpzID4gMDsgenMgLT0gIWRbc3QrK10pXG4gICAgICAgIDtcbiAgICByZXR1cm4gc3QgKyAoZmxnICYgMik7XG59O1xuLy8gZ3ppcCBsZW5ndGhcbnZhciBnemwgPSBmdW5jdGlvbiAoZCkge1xuICAgIHZhciBsID0gZC5sZW5ndGg7XG4gICAgcmV0dXJuICgoZFtsIC0gNF0gfCBkW2wgLSAzXSA8PCA4IHwgZFtsIC0gMl0gPDwgMTYpIHwgKGRbbCAtIDFdIDw8IDI0KSkgPj4+IDA7XG59O1xuLy8gZ3ppcCBoZWFkZXIgbGVuZ3RoXG52YXIgZ3pobCA9IGZ1bmN0aW9uIChvKSB7IHJldHVybiAxMCArICgoby5maWxlbmFtZSAmJiAoby5maWxlbmFtZS5sZW5ndGggKyAxKSkgfHwgMCk7IH07XG4vLyB6bGliIGhlYWRlclxudmFyIHpsaCA9IGZ1bmN0aW9uIChjLCBvKSB7XG4gICAgdmFyIGx2ID0gby5sZXZlbCwgZmwgPSBsdiA9PSAwID8gMCA6IGx2IDwgNiA/IDEgOiBsdiA9PSA5ID8gMyA6IDI7XG4gICAgY1swXSA9IDEyMCwgY1sxXSA9IChmbCA8PCA2KSB8IChmbCA/ICgzMiAtIDIgKiBmbCkgOiAxKTtcbn07XG4vLyB6bGliIHZhbGlkXG52YXIgemx2ID0gZnVuY3Rpb24gKGQpIHtcbiAgICBpZiAoKGRbMF0gJiAxNSkgIT0gOCB8fCAoZFswXSA+Pj4gNCkgPiA3IHx8ICgoZFswXSA8PCA4IHwgZFsxXSkgJSAzMSkpXG4gICAgICAgIGVycig2LCAnaW52YWxpZCB6bGliIGRhdGEnKTtcbiAgICBpZiAoZFsxXSAmIDMyKVxuICAgICAgICBlcnIoNiwgJ2ludmFsaWQgemxpYiBkYXRhOiBwcmVzZXQgZGljdGlvbmFyaWVzIG5vdCBzdXBwb3J0ZWQnKTtcbn07XG5mdW5jdGlvbiBBc3luY0NtcFN0cm0ob3B0cywgY2IpIHtcbiAgICBpZiAoIWNiICYmIHR5cGVvZiBvcHRzID09ICdmdW5jdGlvbicpXG4gICAgICAgIGNiID0gb3B0cywgb3B0cyA9IHt9O1xuICAgIHRoaXMub25kYXRhID0gY2I7XG4gICAgcmV0dXJuIG9wdHM7XG59XG4vLyB6bGliIGZvb3RlcjogLTQgdG8gLTAgaXMgQWRsZXIzMlxuLyoqXG4gKiBTdHJlYW1pbmcgREVGTEFURSBjb21wcmVzc2lvblxuICovXG52YXIgRGVmbGF0ZSA9IC8qI19fUFVSRV9fKi8gKGZ1bmN0aW9uICgpIHtcbiAgICBmdW5jdGlvbiBEZWZsYXRlKG9wdHMsIGNiKSB7XG4gICAgICAgIGlmICghY2IgJiYgdHlwZW9mIG9wdHMgPT0gJ2Z1bmN0aW9uJylcbiAgICAgICAgICAgIGNiID0gb3B0cywgb3B0cyA9IHt9O1xuICAgICAgICB0aGlzLm9uZGF0YSA9IGNiO1xuICAgICAgICB0aGlzLm8gPSBvcHRzIHx8IHt9O1xuICAgIH1cbiAgICBEZWZsYXRlLnByb3RvdHlwZS5wID0gZnVuY3Rpb24gKGMsIGYpIHtcbiAgICAgICAgdGhpcy5vbmRhdGEoZG9wdChjLCB0aGlzLm8sIDAsIDAsICFmKSwgZik7XG4gICAgfTtcbiAgICAvKipcbiAgICAgKiBQdXNoZXMgYSBjaHVuayB0byBiZSBkZWZsYXRlZFxuICAgICAqIEBwYXJhbSBjaHVuayBUaGUgY2h1bmsgdG8gcHVzaFxuICAgICAqIEBwYXJhbSBmaW5hbCBXaGV0aGVyIHRoaXMgaXMgdGhlIGxhc3QgY2h1bmtcbiAgICAgKi9cbiAgICBEZWZsYXRlLnByb3RvdHlwZS5wdXNoID0gZnVuY3Rpb24gKGNodW5rLCBmaW5hbCkge1xuICAgICAgICBpZiAoIXRoaXMub25kYXRhKVxuICAgICAgICAgICAgZXJyKDUpO1xuICAgICAgICBpZiAodGhpcy5kKVxuICAgICAgICAgICAgZXJyKDQpO1xuICAgICAgICB0aGlzLmQgPSBmaW5hbDtcbiAgICAgICAgdGhpcy5wKGNodW5rLCBmaW5hbCB8fCBmYWxzZSk7XG4gICAgfTtcbiAgICByZXR1cm4gRGVmbGF0ZTtcbn0oKSk7XG5leHBvcnQgeyBEZWZsYXRlIH07XG4vKipcbiAqIEFzeW5jaHJvbm91cyBzdHJlYW1pbmcgREVGTEFURSBjb21wcmVzc2lvblxuICovXG52YXIgQXN5bmNEZWZsYXRlID0gLyojX19QVVJFX18qLyAoZnVuY3Rpb24gKCkge1xuICAgIGZ1bmN0aW9uIEFzeW5jRGVmbGF0ZShvcHRzLCBjYikge1xuICAgICAgICBhc3RybWlmeShbXG4gICAgICAgICAgICBiRGZsdCxcbiAgICAgICAgICAgIGZ1bmN0aW9uICgpIHsgcmV0dXJuIFthc3RybSwgRGVmbGF0ZV07IH1cbiAgICAgICAgXSwgdGhpcywgQXN5bmNDbXBTdHJtLmNhbGwodGhpcywgb3B0cywgY2IpLCBmdW5jdGlvbiAoZXYpIHtcbiAgICAgICAgICAgIHZhciBzdHJtID0gbmV3IERlZmxhdGUoZXYuZGF0YSk7XG4gICAgICAgICAgICBvbm1lc3NhZ2UgPSBhc3RybShzdHJtKTtcbiAgICAgICAgfSwgNik7XG4gICAgfVxuICAgIHJldHVybiBBc3luY0RlZmxhdGU7XG59KCkpO1xuZXhwb3J0IHsgQXN5bmNEZWZsYXRlIH07XG5leHBvcnQgZnVuY3Rpb24gZGVmbGF0ZShkYXRhLCBvcHRzLCBjYikge1xuICAgIGlmICghY2IpXG4gICAgICAgIGNiID0gb3B0cywgb3B0cyA9IHt9O1xuICAgIGlmICh0eXBlb2YgY2IgIT0gJ2Z1bmN0aW9uJylcbiAgICAgICAgZXJyKDcpO1xuICAgIHJldHVybiBjYmlmeShkYXRhLCBvcHRzLCBbXG4gICAgICAgIGJEZmx0LFxuICAgIF0sIGZ1bmN0aW9uIChldikgeyByZXR1cm4gcGJmKGRlZmxhdGVTeW5jKGV2LmRhdGFbMF0sIGV2LmRhdGFbMV0pKTsgfSwgMCwgY2IpO1xufVxuLyoqXG4gKiBDb21wcmVzc2VzIGRhdGEgd2l0aCBERUZMQVRFIHdpdGhvdXQgYW55IHdyYXBwZXJcbiAqIEBwYXJhbSBkYXRhIFRoZSBkYXRhIHRvIGNvbXByZXNzXG4gKiBAcGFyYW0gb3B0cyBUaGUgY29tcHJlc3Npb24gb3B0aW9uc1xuICogQHJldHVybnMgVGhlIGRlZmxhdGVkIHZlcnNpb24gb2YgdGhlIGRhdGFcbiAqL1xuZXhwb3J0IGZ1bmN0aW9uIGRlZmxhdGVTeW5jKGRhdGEsIG9wdHMpIHtcbiAgICByZXR1cm4gZG9wdChkYXRhLCBvcHRzIHx8IHt9LCAwLCAwKTtcbn1cbi8qKlxuICogU3RyZWFtaW5nIERFRkxBVEUgZGVjb21wcmVzc2lvblxuICovXG52YXIgSW5mbGF0ZSA9IC8qI19fUFVSRV9fKi8gKGZ1bmN0aW9uICgpIHtcbiAgICAvKipcbiAgICAgKiBDcmVhdGVzIGFuIGluZmxhdGlvbiBzdHJlYW1cbiAgICAgKiBAcGFyYW0gY2IgVGhlIGNhbGxiYWNrIHRvIGNhbGwgd2hlbmV2ZXIgZGF0YSBpcyBpbmZsYXRlZFxuICAgICAqL1xuICAgIGZ1bmN0aW9uIEluZmxhdGUoY2IpIHtcbiAgICAgICAgdGhpcy5zID0ge307XG4gICAgICAgIHRoaXMucCA9IG5ldyB1OCgwKTtcbiAgICAgICAgdGhpcy5vbmRhdGEgPSBjYjtcbiAgICB9XG4gICAgSW5mbGF0ZS5wcm90b3R5cGUuZSA9IGZ1bmN0aW9uIChjKSB7XG4gICAgICAgIGlmICghdGhpcy5vbmRhdGEpXG4gICAgICAgICAgICBlcnIoNSk7XG4gICAgICAgIGlmICh0aGlzLmQpXG4gICAgICAgICAgICBlcnIoNCk7XG4gICAgICAgIHZhciBsID0gdGhpcy5wLmxlbmd0aDtcbiAgICAgICAgdmFyIG4gPSBuZXcgdTgobCArIGMubGVuZ3RoKTtcbiAgICAgICAgbi5zZXQodGhpcy5wKSwgbi5zZXQoYywgbCksIHRoaXMucCA9IG47XG4gICAgfTtcbiAgICBJbmZsYXRlLnByb3RvdHlwZS5jID0gZnVuY3Rpb24gKGZpbmFsKSB7XG4gICAgICAgIHRoaXMuZCA9IHRoaXMucy5pID0gZmluYWwgfHwgZmFsc2U7XG4gICAgICAgIHZhciBidHMgPSB0aGlzLnMuYjtcbiAgICAgICAgdmFyIGR0ID0gaW5mbHQodGhpcy5wLCB0aGlzLm8sIHRoaXMucyk7XG4gICAgICAgIHRoaXMub25kYXRhKHNsYyhkdCwgYnRzLCB0aGlzLnMuYiksIHRoaXMuZCk7XG4gICAgICAgIHRoaXMubyA9IHNsYyhkdCwgdGhpcy5zLmIgLSAzMjc2OCksIHRoaXMucy5iID0gdGhpcy5vLmxlbmd0aDtcbiAgICAgICAgdGhpcy5wID0gc2xjKHRoaXMucCwgKHRoaXMucy5wIC8gOCkgfCAwKSwgdGhpcy5zLnAgJj0gNztcbiAgICB9O1xuICAgIC8qKlxuICAgICAqIFB1c2hlcyBhIGNodW5rIHRvIGJlIGluZmxhdGVkXG4gICAgICogQHBhcmFtIGNodW5rIFRoZSBjaHVuayB0byBwdXNoXG4gICAgICogQHBhcmFtIGZpbmFsIFdoZXRoZXIgdGhpcyBpcyB0aGUgZmluYWwgY2h1bmtcbiAgICAgKi9cbiAgICBJbmZsYXRlLnByb3RvdHlwZS5wdXNoID0gZnVuY3Rpb24gKGNodW5rLCBmaW5hbCkge1xuICAgICAgICB0aGlzLmUoY2h1bmspLCB0aGlzLmMoZmluYWwpO1xuICAgIH07XG4gICAgcmV0dXJuIEluZmxhdGU7XG59KCkpO1xuZXhwb3J0IHsgSW5mbGF0ZSB9O1xuLyoqXG4gKiBBc3luY2hyb25vdXMgc3RyZWFtaW5nIERFRkxBVEUgZGVjb21wcmVzc2lvblxuICovXG52YXIgQXN5bmNJbmZsYXRlID0gLyojX19QVVJFX18qLyAoZnVuY3Rpb24gKCkge1xuICAgIC8qKlxuICAgICAqIENyZWF0ZXMgYW4gYXN5bmNocm9ub3VzIGluZmxhdGlvbiBzdHJlYW1cbiAgICAgKiBAcGFyYW0gY2IgVGhlIGNhbGxiYWNrIHRvIGNhbGwgd2hlbmV2ZXIgZGF0YSBpcyBkZWZsYXRlZFxuICAgICAqL1xuICAgIGZ1bmN0aW9uIEFzeW5jSW5mbGF0ZShjYikge1xuICAgICAgICB0aGlzLm9uZGF0YSA9IGNiO1xuICAgICAgICBhc3RybWlmeShbXG4gICAgICAgICAgICBiSW5mbHQsXG4gICAgICAgICAgICBmdW5jdGlvbiAoKSB7IHJldHVybiBbYXN0cm0sIEluZmxhdGVdOyB9XG4gICAgICAgIF0sIHRoaXMsIDAsIGZ1bmN0aW9uICgpIHtcbiAgICAgICAgICAgIHZhciBzdHJtID0gbmV3IEluZmxhdGUoKTtcbiAgICAgICAgICAgIG9ubWVzc2FnZSA9IGFzdHJtKHN0cm0pO1xuICAgICAgICB9LCA3KTtcbiAgICB9XG4gICAgcmV0dXJuIEFzeW5jSW5mbGF0ZTtcbn0oKSk7XG5leHBvcnQgeyBBc3luY0luZmxhdGUgfTtcbmV4cG9ydCBmdW5jdGlvbiBpbmZsYXRlKGRhdGEsIG9wdHMsIGNiKSB7XG4gICAgaWYgKCFjYilcbiAgICAgICAgY2IgPSBvcHRzLCBvcHRzID0ge307XG4gICAgaWYgKHR5cGVvZiBjYiAhPSAnZnVuY3Rpb24nKVxuICAgICAgICBlcnIoNyk7XG4gICAgcmV0dXJuIGNiaWZ5KGRhdGEsIG9wdHMsIFtcbiAgICAgICAgYkluZmx0XG4gICAgXSwgZnVuY3Rpb24gKGV2KSB7IHJldHVybiBwYmYoaW5mbGF0ZVN5bmMoZXYuZGF0YVswXSwgZ3U4KGV2LmRhdGFbMV0pKSk7IH0sIDEsIGNiKTtcbn1cbi8qKlxuICogRXhwYW5kcyBERUZMQVRFIGRhdGEgd2l0aCBubyB3cmFwcGVyXG4gKiBAcGFyYW0gZGF0YSBUaGUgZGF0YSB0byBkZWNvbXByZXNzXG4gKiBAcGFyYW0gb3V0IFdoZXJlIHRvIHdyaXRlIHRoZSBkYXRhLiBTYXZlcyBtZW1vcnkgaWYgeW91IGtub3cgdGhlIGRlY29tcHJlc3NlZCBzaXplIGFuZCBwcm92aWRlIGFuIG91dHB1dCBidWZmZXIgb2YgdGhhdCBsZW5ndGguXG4gKiBAcmV0dXJucyBUaGUgZGVjb21wcmVzc2VkIHZlcnNpb24gb2YgdGhlIGRhdGFcbiAqL1xuZXhwb3J0IGZ1bmN0aW9uIGluZmxhdGVTeW5jKGRhdGEsIG91dCkge1xuICAgIHJldHVybiBpbmZsdChkYXRhLCBvdXQpO1xufVxuLy8gYmVmb3JlIHlvdSB5ZWxsIGF0IG1lIGZvciBub3QganVzdCB1c2luZyBleHRlbmRzLCBteSByZWFzb24gaXMgdGhhdCBUUyBpbmhlcml0YW5jZSBpcyBoYXJkIHRvIHdvcmtlcml6ZS5cbi8qKlxuICogU3RyZWFtaW5nIEdaSVAgY29tcHJlc3Npb25cbiAqL1xudmFyIEd6aXAgPSAvKiNfX1BVUkVfXyovIChmdW5jdGlvbiAoKSB7XG4gICAgZnVuY3Rpb24gR3ppcChvcHRzLCBjYikge1xuICAgICAgICB0aGlzLmMgPSBjcmMoKTtcbiAgICAgICAgdGhpcy5sID0gMDtcbiAgICAgICAgdGhpcy52ID0gMTtcbiAgICAgICAgRGVmbGF0ZS5jYWxsKHRoaXMsIG9wdHMsIGNiKTtcbiAgICB9XG4gICAgLyoqXG4gICAgICogUHVzaGVzIGEgY2h1bmsgdG8gYmUgR1pJUHBlZFxuICAgICAqIEBwYXJhbSBjaHVuayBUaGUgY2h1bmsgdG8gcHVzaFxuICAgICAqIEBwYXJhbSBmaW5hbCBXaGV0aGVyIHRoaXMgaXMgdGhlIGxhc3QgY2h1bmtcbiAgICAgKi9cbiAgICBHemlwLnByb3RvdHlwZS5wdXNoID0gZnVuY3Rpb24gKGNodW5rLCBmaW5hbCkge1xuICAgICAgICBEZWZsYXRlLnByb3RvdHlwZS5wdXNoLmNhbGwodGhpcywgY2h1bmssIGZpbmFsKTtcbiAgICB9O1xuICAgIEd6aXAucHJvdG90eXBlLnAgPSBmdW5jdGlvbiAoYywgZikge1xuICAgICAgICB0aGlzLmMucChjKTtcbiAgICAgICAgdGhpcy5sICs9IGMubGVuZ3RoO1xuICAgICAgICB2YXIgcmF3ID0gZG9wdChjLCB0aGlzLm8sIHRoaXMudiAmJiBnemhsKHRoaXMubyksIGYgJiYgOCwgIWYpO1xuICAgICAgICBpZiAodGhpcy52KVxuICAgICAgICAgICAgZ3poKHJhdywgdGhpcy5vKSwgdGhpcy52ID0gMDtcbiAgICAgICAgaWYgKGYpXG4gICAgICAgICAgICB3Ynl0ZXMocmF3LCByYXcubGVuZ3RoIC0gOCwgdGhpcy5jLmQoKSksIHdieXRlcyhyYXcsIHJhdy5sZW5ndGggLSA0LCB0aGlzLmwpO1xuICAgICAgICB0aGlzLm9uZGF0YShyYXcsIGYpO1xuICAgIH07XG4gICAgcmV0dXJuIEd6aXA7XG59KCkpO1xuZXhwb3J0IHsgR3ppcCB9O1xuLyoqXG4gKiBBc3luY2hyb25vdXMgc3RyZWFtaW5nIEdaSVAgY29tcHJlc3Npb25cbiAqL1xudmFyIEFzeW5jR3ppcCA9IC8qI19fUFVSRV9fKi8gKGZ1bmN0aW9uICgpIHtcbiAgICBmdW5jdGlvbiBBc3luY0d6aXAob3B0cywgY2IpIHtcbiAgICAgICAgYXN0cm1pZnkoW1xuICAgICAgICAgICAgYkRmbHQsXG4gICAgICAgICAgICBnemUsXG4gICAgICAgICAgICBmdW5jdGlvbiAoKSB7IHJldHVybiBbYXN0cm0sIERlZmxhdGUsIEd6aXBdOyB9XG4gICAgICAgIF0sIHRoaXMsIEFzeW5jQ21wU3RybS5jYWxsKHRoaXMsIG9wdHMsIGNiKSwgZnVuY3Rpb24gKGV2KSB7XG4gICAgICAgICAgICB2YXIgc3RybSA9IG5ldyBHemlwKGV2LmRhdGEpO1xuICAgICAgICAgICAgb25tZXNzYWdlID0gYXN0cm0oc3RybSk7XG4gICAgICAgIH0sIDgpO1xuICAgIH1cbiAgICByZXR1cm4gQXN5bmNHemlwO1xufSgpKTtcbmV4cG9ydCB7IEFzeW5jR3ppcCB9O1xuZXhwb3J0IGZ1bmN0aW9uIGd6aXAoZGF0YSwgb3B0cywgY2IpIHtcbiAgICBpZiAoIWNiKVxuICAgICAgICBjYiA9IG9wdHMsIG9wdHMgPSB7fTtcbiAgICBpZiAodHlwZW9mIGNiICE9ICdmdW5jdGlvbicpXG4gICAgICAgIGVycig3KTtcbiAgICByZXR1cm4gY2JpZnkoZGF0YSwgb3B0cywgW1xuICAgICAgICBiRGZsdCxcbiAgICAgICAgZ3plLFxuICAgICAgICBmdW5jdGlvbiAoKSB7IHJldHVybiBbZ3ppcFN5bmNdOyB9XG4gICAgXSwgZnVuY3Rpb24gKGV2KSB7IHJldHVybiBwYmYoZ3ppcFN5bmMoZXYuZGF0YVswXSwgZXYuZGF0YVsxXSkpOyB9LCAyLCBjYik7XG59XG4vKipcbiAqIENvbXByZXNzZXMgZGF0YSB3aXRoIEdaSVBcbiAqIEBwYXJhbSBkYXRhIFRoZSBkYXRhIHRvIGNvbXByZXNzXG4gKiBAcGFyYW0gb3B0cyBUaGUgY29tcHJlc3Npb24gb3B0aW9uc1xuICogQHJldHVybnMgVGhlIGd6aXBwZWQgdmVyc2lvbiBvZiB0aGUgZGF0YVxuICovXG5leHBvcnQgZnVuY3Rpb24gZ3ppcFN5bmMoZGF0YSwgb3B0cykge1xuICAgIGlmICghb3B0cylcbiAgICAgICAgb3B0cyA9IHt9O1xuICAgIHZhciBjID0gY3JjKCksIGwgPSBkYXRhLmxlbmd0aDtcbiAgICBjLnAoZGF0YSk7XG4gICAgdmFyIGQgPSBkb3B0KGRhdGEsIG9wdHMsIGd6aGwob3B0cyksIDgpLCBzID0gZC5sZW5ndGg7XG4gICAgcmV0dXJuIGd6aChkLCBvcHRzKSwgd2J5dGVzKGQsIHMgLSA4LCBjLmQoKSksIHdieXRlcyhkLCBzIC0gNCwgbCksIGQ7XG59XG4vKipcbiAqIFN0cmVhbWluZyBHWklQIGRlY29tcHJlc3Npb25cbiAqL1xudmFyIEd1bnppcCA9IC8qI19fUFVSRV9fKi8gKGZ1bmN0aW9uICgpIHtcbiAgICAvKipcbiAgICAgKiBDcmVhdGVzIGEgR1VOWklQIHN0cmVhbVxuICAgICAqIEBwYXJhbSBjYiBUaGUgY2FsbGJhY2sgdG8gY2FsbCB3aGVuZXZlciBkYXRhIGlzIGluZmxhdGVkXG4gICAgICovXG4gICAgZnVuY3Rpb24gR3VuemlwKGNiKSB7XG4gICAgICAgIHRoaXMudiA9IDE7XG4gICAgICAgIEluZmxhdGUuY2FsbCh0aGlzLCBjYik7XG4gICAgfVxuICAgIC8qKlxuICAgICAqIFB1c2hlcyBhIGNodW5rIHRvIGJlIEdVTlpJUHBlZFxuICAgICAqIEBwYXJhbSBjaHVuayBUaGUgY2h1bmsgdG8gcHVzaFxuICAgICAqIEBwYXJhbSBmaW5hbCBXaGV0aGVyIHRoaXMgaXMgdGhlIGxhc3QgY2h1bmtcbiAgICAgKi9cbiAgICBHdW56aXAucHJvdG90eXBlLnB1c2ggPSBmdW5jdGlvbiAoY2h1bmssIGZpbmFsKSB7XG4gICAgICAgIEluZmxhdGUucHJvdG90eXBlLmUuY2FsbCh0aGlzLCBjaHVuayk7XG4gICAgICAgIGlmICh0aGlzLnYpIHtcbiAgICAgICAgICAgIHZhciBzID0gdGhpcy5wLmxlbmd0aCA+IDMgPyBnenModGhpcy5wKSA6IDQ7XG4gICAgICAgICAgICBpZiAocyA+PSB0aGlzLnAubGVuZ3RoICYmICFmaW5hbClcbiAgICAgICAgICAgICAgICByZXR1cm47XG4gICAgICAgICAgICB0aGlzLnAgPSB0aGlzLnAuc3ViYXJyYXkocyksIHRoaXMudiA9IDA7XG4gICAgICAgIH1cbiAgICAgICAgaWYgKGZpbmFsKSB7XG4gICAgICAgICAgICBpZiAodGhpcy5wLmxlbmd0aCA8IDgpXG4gICAgICAgICAgICAgICAgZXJyKDYsICdpbnZhbGlkIGd6aXAgZGF0YScpO1xuICAgICAgICAgICAgdGhpcy5wID0gdGhpcy5wLnN1YmFycmF5KDAsIC04KTtcbiAgICAgICAgfVxuICAgICAgICAvLyBuZWNlc3NhcnkgdG8gcHJldmVudCBUUyBmcm9tIHVzaW5nIHRoZSBjbG9zdXJlIHZhbHVlXG4gICAgICAgIC8vIFRoaXMgYWxsb3dzIGZvciB3b3JrZXJpemF0aW9uIHRvIGZ1bmN0aW9uIGNvcnJlY3RseVxuICAgICAgICBJbmZsYXRlLnByb3RvdHlwZS5jLmNhbGwodGhpcywgZmluYWwpO1xuICAgIH07XG4gICAgcmV0dXJuIEd1bnppcDtcbn0oKSk7XG5leHBvcnQgeyBHdW56aXAgfTtcbi8qKlxuICogQXN5bmNocm9ub3VzIHN0cmVhbWluZyBHWklQIGRlY29tcHJlc3Npb25cbiAqL1xudmFyIEFzeW5jR3VuemlwID0gLyojX19QVVJFX18qLyAoZnVuY3Rpb24gKCkge1xuICAgIC8qKlxuICAgICAqIENyZWF0ZXMgYW4gYXN5bmNocm9ub3VzIEdVTlpJUCBzdHJlYW1cbiAgICAgKiBAcGFyYW0gY2IgVGhlIGNhbGxiYWNrIHRvIGNhbGwgd2hlbmV2ZXIgZGF0YSBpcyBkZWZsYXRlZFxuICAgICAqL1xuICAgIGZ1bmN0aW9uIEFzeW5jR3VuemlwKGNiKSB7XG4gICAgICAgIHRoaXMub25kYXRhID0gY2I7XG4gICAgICAgIGFzdHJtaWZ5KFtcbiAgICAgICAgICAgIGJJbmZsdCxcbiAgICAgICAgICAgIGd1emUsXG4gICAgICAgICAgICBmdW5jdGlvbiAoKSB7IHJldHVybiBbYXN0cm0sIEluZmxhdGUsIEd1bnppcF07IH1cbiAgICAgICAgXSwgdGhpcywgMCwgZnVuY3Rpb24gKCkge1xuICAgICAgICAgICAgdmFyIHN0cm0gPSBuZXcgR3VuemlwKCk7XG4gICAgICAgICAgICBvbm1lc3NhZ2UgPSBhc3RybShzdHJtKTtcbiAgICAgICAgfSwgOSk7XG4gICAgfVxuICAgIHJldHVybiBBc3luY0d1bnppcDtcbn0oKSk7XG5leHBvcnQgeyBBc3luY0d1bnppcCB9O1xuZXhwb3J0IGZ1bmN0aW9uIGd1bnppcChkYXRhLCBvcHRzLCBjYikge1xuICAgIGlmICghY2IpXG4gICAgICAgIGNiID0gb3B0cywgb3B0cyA9IHt9O1xuICAgIGlmICh0eXBlb2YgY2IgIT0gJ2Z1bmN0aW9uJylcbiAgICAgICAgZXJyKDcpO1xuICAgIHJldHVybiBjYmlmeShkYXRhLCBvcHRzLCBbXG4gICAgICAgIGJJbmZsdCxcbiAgICAgICAgZ3V6ZSxcbiAgICAgICAgZnVuY3Rpb24gKCkgeyByZXR1cm4gW2d1bnppcFN5bmNdOyB9XG4gICAgXSwgZnVuY3Rpb24gKGV2KSB7IHJldHVybiBwYmYoZ3VuemlwU3luYyhldi5kYXRhWzBdKSk7IH0sIDMsIGNiKTtcbn1cbi8qKlxuICogRXhwYW5kcyBHWklQIGRhdGFcbiAqIEBwYXJhbSBkYXRhIFRoZSBkYXRhIHRvIGRlY29tcHJlc3NcbiAqIEBwYXJhbSBvdXQgV2hlcmUgdG8gd3JpdGUgdGhlIGRhdGEuIEdaSVAgYWxyZWFkeSBlbmNvZGVzIHRoZSBvdXRwdXQgc2l6ZSwgc28gcHJvdmlkaW5nIHRoaXMgZG9lc24ndCBzYXZlIG1lbW9yeS5cbiAqIEByZXR1cm5zIFRoZSBkZWNvbXByZXNzZWQgdmVyc2lvbiBvZiB0aGUgZGF0YVxuICovXG5leHBvcnQgZnVuY3Rpb24gZ3VuemlwU3luYyhkYXRhLCBvdXQpIHtcbiAgICByZXR1cm4gaW5mbHQoZGF0YS5zdWJhcnJheShnenMoZGF0YSksIC04KSwgb3V0IHx8IG5ldyB1OChnemwoZGF0YSkpKTtcbn1cbi8qKlxuICogU3RyZWFtaW5nIFpsaWIgY29tcHJlc3Npb25cbiAqL1xudmFyIFpsaWIgPSAvKiNfX1BVUkVfXyovIChmdW5jdGlvbiAoKSB7XG4gICAgZnVuY3Rpb24gWmxpYihvcHRzLCBjYikge1xuICAgICAgICB0aGlzLmMgPSBhZGxlcigpO1xuICAgICAgICB0aGlzLnYgPSAxO1xuICAgICAgICBEZWZsYXRlLmNhbGwodGhpcywgb3B0cywgY2IpO1xuICAgIH1cbiAgICAvKipcbiAgICAgKiBQdXNoZXMgYSBjaHVuayB0byBiZSB6bGliYmVkXG4gICAgICogQHBhcmFtIGNodW5rIFRoZSBjaHVuayB0byBwdXNoXG4gICAgICogQHBhcmFtIGZpbmFsIFdoZXRoZXIgdGhpcyBpcyB0aGUgbGFzdCBjaHVua1xuICAgICAqL1xuICAgIFpsaWIucHJvdG90eXBlLnB1c2ggPSBmdW5jdGlvbiAoY2h1bmssIGZpbmFsKSB7XG4gICAgICAgIERlZmxhdGUucHJvdG90eXBlLnB1c2guY2FsbCh0aGlzLCBjaHVuaywgZmluYWwpO1xuICAgIH07XG4gICAgWmxpYi5wcm90b3R5cGUucCA9IGZ1bmN0aW9uIChjLCBmKSB7XG4gICAgICAgIHRoaXMuYy5wKGMpO1xuICAgICAgICB2YXIgcmF3ID0gZG9wdChjLCB0aGlzLm8sIHRoaXMudiAmJiAyLCBmICYmIDQsICFmKTtcbiAgICAgICAgaWYgKHRoaXMudilcbiAgICAgICAgICAgIHpsaChyYXcsIHRoaXMubyksIHRoaXMudiA9IDA7XG4gICAgICAgIGlmIChmKVxuICAgICAgICAgICAgd2J5dGVzKHJhdywgcmF3Lmxlbmd0aCAtIDQsIHRoaXMuYy5kKCkpO1xuICAgICAgICB0aGlzLm9uZGF0YShyYXcsIGYpO1xuICAgIH07XG4gICAgcmV0dXJuIFpsaWI7XG59KCkpO1xuZXhwb3J0IHsgWmxpYiB9O1xuLyoqXG4gKiBBc3luY2hyb25vdXMgc3RyZWFtaW5nIFpsaWIgY29tcHJlc3Npb25cbiAqL1xudmFyIEFzeW5jWmxpYiA9IC8qI19fUFVSRV9fKi8gKGZ1bmN0aW9uICgpIHtcbiAgICBmdW5jdGlvbiBBc3luY1psaWIob3B0cywgY2IpIHtcbiAgICAgICAgYXN0cm1pZnkoW1xuICAgICAgICAgICAgYkRmbHQsXG4gICAgICAgICAgICB6bGUsXG4gICAgICAgICAgICBmdW5jdGlvbiAoKSB7IHJldHVybiBbYXN0cm0sIERlZmxhdGUsIFpsaWJdOyB9XG4gICAgICAgIF0sIHRoaXMsIEFzeW5jQ21wU3RybS5jYWxsKHRoaXMsIG9wdHMsIGNiKSwgZnVuY3Rpb24gKGV2KSB7XG4gICAgICAgICAgICB2YXIgc3RybSA9IG5ldyBabGliKGV2LmRhdGEpO1xuICAgICAgICAgICAgb25tZXNzYWdlID0gYXN0cm0oc3RybSk7XG4gICAgICAgIH0sIDEwKTtcbiAgICB9XG4gICAgcmV0dXJuIEFzeW5jWmxpYjtcbn0oKSk7XG5leHBvcnQgeyBBc3luY1psaWIgfTtcbmV4cG9ydCBmdW5jdGlvbiB6bGliKGRhdGEsIG9wdHMsIGNiKSB7XG4gICAgaWYgKCFjYilcbiAgICAgICAgY2IgPSBvcHRzLCBvcHRzID0ge307XG4gICAgaWYgKHR5cGVvZiBjYiAhPSAnZnVuY3Rpb24nKVxuICAgICAgICBlcnIoNyk7XG4gICAgcmV0dXJuIGNiaWZ5KGRhdGEsIG9wdHMsIFtcbiAgICAgICAgYkRmbHQsXG4gICAgICAgIHpsZSxcbiAgICAgICAgZnVuY3Rpb24gKCkgeyByZXR1cm4gW3psaWJTeW5jXTsgfVxuICAgIF0sIGZ1bmN0aW9uIChldikgeyByZXR1cm4gcGJmKHpsaWJTeW5jKGV2LmRhdGFbMF0sIGV2LmRhdGFbMV0pKTsgfSwgNCwgY2IpO1xufVxuLyoqXG4gKiBDb21wcmVzcyBkYXRhIHdpdGggWmxpYlxuICogQHBhcmFtIGRhdGEgVGhlIGRhdGEgdG8gY29tcHJlc3NcbiAqIEBwYXJhbSBvcHRzIFRoZSBjb21wcmVzc2lvbiBvcHRpb25zXG4gKiBAcmV0dXJucyBUaGUgemxpYi1jb21wcmVzc2VkIHZlcnNpb24gb2YgdGhlIGRhdGFcbiAqL1xuZXhwb3J0IGZ1bmN0aW9uIHpsaWJTeW5jKGRhdGEsIG9wdHMpIHtcbiAgICBpZiAoIW9wdHMpXG4gICAgICAgIG9wdHMgPSB7fTtcbiAgICB2YXIgYSA9IGFkbGVyKCk7XG4gICAgYS5wKGRhdGEpO1xuICAgIHZhciBkID0gZG9wdChkYXRhLCBvcHRzLCAyLCA0KTtcbiAgICByZXR1cm4gemxoKGQsIG9wdHMpLCB3Ynl0ZXMoZCwgZC5sZW5ndGggLSA0LCBhLmQoKSksIGQ7XG59XG4vKipcbiAqIFN0cmVhbWluZyBabGliIGRlY29tcHJlc3Npb25cbiAqL1xudmFyIFVuemxpYiA9IC8qI19fUFVSRV9fKi8gKGZ1bmN0aW9uICgpIHtcbiAgICAvKipcbiAgICAgKiBDcmVhdGVzIGEgWmxpYiBkZWNvbXByZXNzaW9uIHN0cmVhbVxuICAgICAqIEBwYXJhbSBjYiBUaGUgY2FsbGJhY2sgdG8gY2FsbCB3aGVuZXZlciBkYXRhIGlzIGluZmxhdGVkXG4gICAgICovXG4gICAgZnVuY3Rpb24gVW56bGliKGNiKSB7XG4gICAgICAgIHRoaXMudiA9IDE7XG4gICAgICAgIEluZmxhdGUuY2FsbCh0aGlzLCBjYik7XG4gICAgfVxuICAgIC8qKlxuICAgICAqIFB1c2hlcyBhIGNodW5rIHRvIGJlIHVuemxpYmJlZFxuICAgICAqIEBwYXJhbSBjaHVuayBUaGUgY2h1bmsgdG8gcHVzaFxuICAgICAqIEBwYXJhbSBmaW5hbCBXaGV0aGVyIHRoaXMgaXMgdGhlIGxhc3QgY2h1bmtcbiAgICAgKi9cbiAgICBVbnpsaWIucHJvdG90eXBlLnB1c2ggPSBmdW5jdGlvbiAoY2h1bmssIGZpbmFsKSB7XG4gICAgICAgIEluZmxhdGUucHJvdG90eXBlLmUuY2FsbCh0aGlzLCBjaHVuayk7XG4gICAgICAgIGlmICh0aGlzLnYpIHtcbiAgICAgICAgICAgIGlmICh0aGlzLnAubGVuZ3RoIDwgMiAmJiAhZmluYWwpXG4gICAgICAgICAgICAgICAgcmV0dXJuO1xuICAgICAgICAgICAgdGhpcy5wID0gdGhpcy5wLnN1YmFycmF5KDIpLCB0aGlzLnYgPSAwO1xuICAgICAgICB9XG4gICAgICAgIGlmIChmaW5hbCkge1xuICAgICAgICAgICAgaWYgKHRoaXMucC5sZW5ndGggPCA0KVxuICAgICAgICAgICAgICAgIGVycig2LCAnaW52YWxpZCB6bGliIGRhdGEnKTtcbiAgICAgICAgICAgIHRoaXMucCA9IHRoaXMucC5zdWJhcnJheSgwLCAtNCk7XG4gICAgICAgIH1cbiAgICAgICAgLy8gbmVjZXNzYXJ5IHRvIHByZXZlbnQgVFMgZnJvbSB1c2luZyB0aGUgY2xvc3VyZSB2YWx1ZVxuICAgICAgICAvLyBUaGlzIGFsbG93cyBmb3Igd29ya2VyaXphdGlvbiB0byBmdW5jdGlvbiBjb3JyZWN0bHlcbiAgICAgICAgSW5mbGF0ZS5wcm90b3R5cGUuYy5jYWxsKHRoaXMsIGZpbmFsKTtcbiAgICB9O1xuICAgIHJldHVybiBVbnpsaWI7XG59KCkpO1xuZXhwb3J0IHsgVW56bGliIH07XG4vKipcbiAqIEFzeW5jaHJvbm91cyBzdHJlYW1pbmcgWmxpYiBkZWNvbXByZXNzaW9uXG4gKi9cbnZhciBBc3luY1VuemxpYiA9IC8qI19fUFVSRV9fKi8gKGZ1bmN0aW9uICgpIHtcbiAgICAvKipcbiAgICAgKiBDcmVhdGVzIGFuIGFzeW5jaHJvbm91cyBabGliIGRlY29tcHJlc3Npb24gc3RyZWFtXG4gICAgICogQHBhcmFtIGNiIFRoZSBjYWxsYmFjayB0byBjYWxsIHdoZW5ldmVyIGRhdGEgaXMgZGVmbGF0ZWRcbiAgICAgKi9cbiAgICBmdW5jdGlvbiBBc3luY1VuemxpYihjYikge1xuICAgICAgICB0aGlzLm9uZGF0YSA9IGNiO1xuICAgICAgICBhc3RybWlmeShbXG4gICAgICAgICAgICBiSW5mbHQsXG4gICAgICAgICAgICB6dWxlLFxuICAgICAgICAgICAgZnVuY3Rpb24gKCkgeyByZXR1cm4gW2FzdHJtLCBJbmZsYXRlLCBVbnpsaWJdOyB9XG4gICAgICAgIF0sIHRoaXMsIDAsIGZ1bmN0aW9uICgpIHtcbiAgICAgICAgICAgIHZhciBzdHJtID0gbmV3IFVuemxpYigpO1xuICAgICAgICAgICAgb25tZXNzYWdlID0gYXN0cm0oc3RybSk7XG4gICAgICAgIH0sIDExKTtcbiAgICB9XG4gICAgcmV0dXJuIEFzeW5jVW56bGliO1xufSgpKTtcbmV4cG9ydCB7IEFzeW5jVW56bGliIH07XG5leHBvcnQgZnVuY3Rpb24gdW56bGliKGRhdGEsIG9wdHMsIGNiKSB7XG4gICAgaWYgKCFjYilcbiAgICAgICAgY2IgPSBvcHRzLCBvcHRzID0ge307XG4gICAgaWYgKHR5cGVvZiBjYiAhPSAnZnVuY3Rpb24nKVxuICAgICAgICBlcnIoNyk7XG4gICAgcmV0dXJuIGNiaWZ5KGRhdGEsIG9wdHMsIFtcbiAgICAgICAgYkluZmx0LFxuICAgICAgICB6dWxlLFxuICAgICAgICBmdW5jdGlvbiAoKSB7IHJldHVybiBbdW56bGliU3luY107IH1cbiAgICBdLCBmdW5jdGlvbiAoZXYpIHsgcmV0dXJuIHBiZih1bnpsaWJTeW5jKGV2LmRhdGFbMF0sIGd1OChldi5kYXRhWzFdKSkpOyB9LCA1LCBjYik7XG59XG4vKipcbiAqIEV4cGFuZHMgWmxpYiBkYXRhXG4gKiBAcGFyYW0gZGF0YSBUaGUgZGF0YSB0byBkZWNvbXByZXNzXG4gKiBAcGFyYW0gb3V0IFdoZXJlIHRvIHdyaXRlIHRoZSBkYXRhLiBTYXZlcyBtZW1vcnkgaWYgeW91IGtub3cgdGhlIGRlY29tcHJlc3NlZCBzaXplIGFuZCBwcm92aWRlIGFuIG91dHB1dCBidWZmZXIgb2YgdGhhdCBsZW5ndGguXG4gKiBAcmV0dXJucyBUaGUgZGVjb21wcmVzc2VkIHZlcnNpb24gb2YgdGhlIGRhdGFcbiAqL1xuZXhwb3J0IGZ1bmN0aW9uIHVuemxpYlN5bmMoZGF0YSwgb3V0KSB7XG4gICAgcmV0dXJuIGluZmx0KCh6bHYoZGF0YSksIGRhdGEuc3ViYXJyYXkoMiwgLTQpKSwgb3V0KTtcbn1cbi8vIERlZmF1bHQgYWxnb3JpdGhtIGZvciBjb21wcmVzc2lvbiAodXNlZCBiZWNhdXNlIGhhdmluZyBhIGtub3duIG91dHB1dCBzaXplIGFsbG93cyBmYXN0ZXIgZGVjb21wcmVzc2lvbilcbmV4cG9ydCB7IGd6aXAgYXMgY29tcHJlc3MsIEFzeW5jR3ppcCBhcyBBc3luY0NvbXByZXNzIH07XG4vLyBEZWZhdWx0IGFsZ29yaXRobSBmb3IgY29tcHJlc3Npb24gKHVzZWQgYmVjYXVzZSBoYXZpbmcgYSBrbm93biBvdXRwdXQgc2l6ZSBhbGxvd3MgZmFzdGVyIGRlY29tcHJlc3Npb24pXG5leHBvcnQgeyBnemlwU3luYyBhcyBjb21wcmVzc1N5bmMsIEd6aXAgYXMgQ29tcHJlc3MgfTtcbi8qKlxuICogU3RyZWFtaW5nIEdaSVAsIFpsaWIsIG9yIHJhdyBERUZMQVRFIGRlY29tcHJlc3Npb25cbiAqL1xudmFyIERlY29tcHJlc3MgPSAvKiNfX1BVUkVfXyovIChmdW5jdGlvbiAoKSB7XG4gICAgLyoqXG4gICAgICogQ3JlYXRlcyBhIGRlY29tcHJlc3Npb24gc3RyZWFtXG4gICAgICogQHBhcmFtIGNiIFRoZSBjYWxsYmFjayB0byBjYWxsIHdoZW5ldmVyIGRhdGEgaXMgZGVjb21wcmVzc2VkXG4gICAgICovXG4gICAgZnVuY3Rpb24gRGVjb21wcmVzcyhjYikge1xuICAgICAgICB0aGlzLkcgPSBHdW56aXA7XG4gICAgICAgIHRoaXMuSSA9IEluZmxhdGU7XG4gICAgICAgIHRoaXMuWiA9IFVuemxpYjtcbiAgICAgICAgdGhpcy5vbmRhdGEgPSBjYjtcbiAgICB9XG4gICAgLyoqXG4gICAgICogUHVzaGVzIGEgY2h1bmsgdG8gYmUgZGVjb21wcmVzc2VkXG4gICAgICogQHBhcmFtIGNodW5rIFRoZSBjaHVuayB0byBwdXNoXG4gICAgICogQHBhcmFtIGZpbmFsIFdoZXRoZXIgdGhpcyBpcyB0aGUgbGFzdCBjaHVua1xuICAgICAqL1xuICAgIERlY29tcHJlc3MucHJvdG90eXBlLnB1c2ggPSBmdW5jdGlvbiAoY2h1bmssIGZpbmFsKSB7XG4gICAgICAgIGlmICghdGhpcy5vbmRhdGEpXG4gICAgICAgICAgICBlcnIoNSk7XG4gICAgICAgIGlmICghdGhpcy5zKSB7XG4gICAgICAgICAgICBpZiAodGhpcy5wICYmIHRoaXMucC5sZW5ndGgpIHtcbiAgICAgICAgICAgICAgICB2YXIgbiA9IG5ldyB1OCh0aGlzLnAubGVuZ3RoICsgY2h1bmsubGVuZ3RoKTtcbiAgICAgICAgICAgICAgICBuLnNldCh0aGlzLnApLCBuLnNldChjaHVuaywgdGhpcy5wLmxlbmd0aCk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBlbHNlXG4gICAgICAgICAgICAgICAgdGhpcy5wID0gY2h1bms7XG4gICAgICAgICAgICBpZiAodGhpcy5wLmxlbmd0aCA+IDIpIHtcbiAgICAgICAgICAgICAgICB2YXIgX3RoaXNfMSA9IHRoaXM7XG4gICAgICAgICAgICAgICAgdmFyIGNiID0gZnVuY3Rpb24gKCkgeyBfdGhpc18xLm9uZGF0YS5hcHBseShfdGhpc18xLCBhcmd1bWVudHMpOyB9O1xuICAgICAgICAgICAgICAgIHRoaXMucyA9ICh0aGlzLnBbMF0gPT0gMzEgJiYgdGhpcy5wWzFdID09IDEzOSAmJiB0aGlzLnBbMl0gPT0gOClcbiAgICAgICAgICAgICAgICAgICAgPyBuZXcgdGhpcy5HKGNiKVxuICAgICAgICAgICAgICAgICAgICA6ICgodGhpcy5wWzBdICYgMTUpICE9IDggfHwgKHRoaXMucFswXSA+PiA0KSA+IDcgfHwgKCh0aGlzLnBbMF0gPDwgOCB8IHRoaXMucFsxXSkgJSAzMSkpXG4gICAgICAgICAgICAgICAgICAgICAgICA/IG5ldyB0aGlzLkkoY2IpXG4gICAgICAgICAgICAgICAgICAgICAgICA6IG5ldyB0aGlzLlooY2IpO1xuICAgICAgICAgICAgICAgIHRoaXMucy5wdXNoKHRoaXMucCwgZmluYWwpO1xuICAgICAgICAgICAgICAgIHRoaXMucCA9IG51bGw7XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgICAgZWxzZVxuICAgICAgICAgICAgdGhpcy5zLnB1c2goY2h1bmssIGZpbmFsKTtcbiAgICB9O1xuICAgIHJldHVybiBEZWNvbXByZXNzO1xufSgpKTtcbmV4cG9ydCB7IERlY29tcHJlc3MgfTtcbi8qKlxuICogQXN5bmNocm9ub3VzIHN0cmVhbWluZyBHWklQLCBabGliLCBvciByYXcgREVGTEFURSBkZWNvbXByZXNzaW9uXG4gKi9cbnZhciBBc3luY0RlY29tcHJlc3MgPSAvKiNfX1BVUkVfXyovIChmdW5jdGlvbiAoKSB7XG4gICAgLyoqXG4gICAqIENyZWF0ZXMgYW4gYXN5bmNocm9ub3VzIGRlY29tcHJlc3Npb24gc3RyZWFtXG4gICAqIEBwYXJhbSBjYiBUaGUgY2FsbGJhY2sgdG8gY2FsbCB3aGVuZXZlciBkYXRhIGlzIGRlY29tcHJlc3NlZFxuICAgKi9cbiAgICBmdW5jdGlvbiBBc3luY0RlY29tcHJlc3MoY2IpIHtcbiAgICAgICAgdGhpcy5HID0gQXN5bmNHdW56aXA7XG4gICAgICAgIHRoaXMuSSA9IEFzeW5jSW5mbGF0ZTtcbiAgICAgICAgdGhpcy5aID0gQXN5bmNVbnpsaWI7XG4gICAgICAgIHRoaXMub25kYXRhID0gY2I7XG4gICAgfVxuICAgIC8qKlxuICAgICAqIFB1c2hlcyBhIGNodW5rIHRvIGJlIGRlY29tcHJlc3NlZFxuICAgICAqIEBwYXJhbSBjaHVuayBUaGUgY2h1bmsgdG8gcHVzaFxuICAgICAqIEBwYXJhbSBmaW5hbCBXaGV0aGVyIHRoaXMgaXMgdGhlIGxhc3QgY2h1bmtcbiAgICAgKi9cbiAgICBBc3luY0RlY29tcHJlc3MucHJvdG90eXBlLnB1c2ggPSBmdW5jdGlvbiAoY2h1bmssIGZpbmFsKSB7XG4gICAgICAgIERlY29tcHJlc3MucHJvdG90eXBlLnB1c2guY2FsbCh0aGlzLCBjaHVuaywgZmluYWwpO1xuICAgIH07XG4gICAgcmV0dXJuIEFzeW5jRGVjb21wcmVzcztcbn0oKSk7XG5leHBvcnQgeyBBc3luY0RlY29tcHJlc3MgfTtcbmV4cG9ydCBmdW5jdGlvbiBkZWNvbXByZXNzKGRhdGEsIG9wdHMsIGNiKSB7XG4gICAgaWYgKCFjYilcbiAgICAgICAgY2IgPSBvcHRzLCBvcHRzID0ge307XG4gICAgaWYgKHR5cGVvZiBjYiAhPSAnZnVuY3Rpb24nKVxuICAgICAgICBlcnIoNyk7XG4gICAgcmV0dXJuIChkYXRhWzBdID09IDMxICYmIGRhdGFbMV0gPT0gMTM5ICYmIGRhdGFbMl0gPT0gOClcbiAgICAgICAgPyBndW56aXAoZGF0YSwgb3B0cywgY2IpXG4gICAgICAgIDogKChkYXRhWzBdICYgMTUpICE9IDggfHwgKGRhdGFbMF0gPj4gNCkgPiA3IHx8ICgoZGF0YVswXSA8PCA4IHwgZGF0YVsxXSkgJSAzMSkpXG4gICAgICAgICAgICA/IGluZmxhdGUoZGF0YSwgb3B0cywgY2IpXG4gICAgICAgICAgICA6IHVuemxpYihkYXRhLCBvcHRzLCBjYik7XG59XG4vKipcbiAqIEV4cGFuZHMgY29tcHJlc3NlZCBHWklQLCBabGliLCBvciByYXcgREVGTEFURSBkYXRhLCBhdXRvbWF0aWNhbGx5IGRldGVjdGluZyB0aGUgZm9ybWF0XG4gKiBAcGFyYW0gZGF0YSBUaGUgZGF0YSB0byBkZWNvbXByZXNzXG4gKiBAcGFyYW0gb3V0IFdoZXJlIHRvIHdyaXRlIHRoZSBkYXRhLiBTYXZlcyBtZW1vcnkgaWYgeW91IGtub3cgdGhlIGRlY29tcHJlc3NlZCBzaXplIGFuZCBwcm92aWRlIGFuIG91dHB1dCBidWZmZXIgb2YgdGhhdCBsZW5ndGguXG4gKiBAcmV0dXJucyBUaGUgZGVjb21wcmVzc2VkIHZlcnNpb24gb2YgdGhlIGRhdGFcbiAqL1xuZXhwb3J0IGZ1bmN0aW9uIGRlY29tcHJlc3NTeW5jKGRhdGEsIG91dCkge1xuICAgIHJldHVybiAoZGF0YVswXSA9PSAzMSAmJiBkYXRhWzFdID09IDEzOSAmJiBkYXRhWzJdID09IDgpXG4gICAgICAgID8gZ3VuemlwU3luYyhkYXRhLCBvdXQpXG4gICAgICAgIDogKChkYXRhWzBdICYgMTUpICE9IDggfHwgKGRhdGFbMF0gPj4gNCkgPiA3IHx8ICgoZGF0YVswXSA8PCA4IHwgZGF0YVsxXSkgJSAzMSkpXG4gICAgICAgICAgICA/IGluZmxhdGVTeW5jKGRhdGEsIG91dClcbiAgICAgICAgICAgIDogdW56bGliU3luYyhkYXRhLCBvdXQpO1xufVxuLy8gZmxhdHRlbiBhIGRpcmVjdG9yeSBzdHJ1Y3R1cmVcbnZhciBmbHRuID0gZnVuY3Rpb24gKGQsIHAsIHQsIG8pIHtcbiAgICBmb3IgKHZhciBrIGluIGQpIHtcbiAgICAgICAgdmFyIHZhbCA9IGRba10sIG4gPSBwICsgaywgb3AgPSBvO1xuICAgICAgICBpZiAoQXJyYXkuaXNBcnJheSh2YWwpKVxuICAgICAgICAgICAgb3AgPSBtcmcobywgdmFsWzFdKSwgdmFsID0gdmFsWzBdO1xuICAgICAgICBpZiAodmFsIGluc3RhbmNlb2YgdTgpXG4gICAgICAgICAgICB0W25dID0gW3ZhbCwgb3BdO1xuICAgICAgICBlbHNlIHtcbiAgICAgICAgICAgIHRbbiArPSAnLyddID0gW25ldyB1OCgwKSwgb3BdO1xuICAgICAgICAgICAgZmx0bih2YWwsIG4sIHQsIG8pO1xuICAgICAgICB9XG4gICAgfVxufTtcbi8vIHRleHQgZW5jb2RlclxudmFyIHRlID0gdHlwZW9mIFRleHRFbmNvZGVyICE9ICd1bmRlZmluZWQnICYmIC8qI19fUFVSRV9fKi8gbmV3IFRleHRFbmNvZGVyKCk7XG4vLyB0ZXh0IGRlY29kZXJcbnZhciB0ZCA9IHR5cGVvZiBUZXh0RGVjb2RlciAhPSAndW5kZWZpbmVkJyAmJiAvKiNfX1BVUkVfXyovIG5ldyBUZXh0RGVjb2RlcigpO1xuLy8gdGV4dCBkZWNvZGVyIHN0cmVhbVxudmFyIHRkcyA9IDA7XG50cnkge1xuICAgIHRkLmRlY29kZShldCwgeyBzdHJlYW06IHRydWUgfSk7XG4gICAgdGRzID0gMTtcbn1cbmNhdGNoIChlKSB7IH1cbi8vIGRlY29kZSBVVEY4XG52YXIgZHV0ZjggPSBmdW5jdGlvbiAoZCkge1xuICAgIGZvciAodmFyIHIgPSAnJywgaSA9IDA7Oykge1xuICAgICAgICB2YXIgYyA9IGRbaSsrXTtcbiAgICAgICAgdmFyIGViID0gKGMgPiAxMjcpICsgKGMgPiAyMjMpICsgKGMgPiAyMzkpO1xuICAgICAgICBpZiAoaSArIGViID4gZC5sZW5ndGgpXG4gICAgICAgICAgICByZXR1cm4gW3IsIHNsYyhkLCBpIC0gMSldO1xuICAgICAgICBpZiAoIWViKVxuICAgICAgICAgICAgciArPSBTdHJpbmcuZnJvbUNoYXJDb2RlKGMpO1xuICAgICAgICBlbHNlIGlmIChlYiA9PSAzKSB7XG4gICAgICAgICAgICBjID0gKChjICYgMTUpIDw8IDE4IHwgKGRbaSsrXSAmIDYzKSA8PCAxMiB8IChkW2krK10gJiA2MykgPDwgNiB8IChkW2krK10gJiA2MykpIC0gNjU1MzYsXG4gICAgICAgICAgICAgICAgciArPSBTdHJpbmcuZnJvbUNoYXJDb2RlKDU1Mjk2IHwgKGMgPj4gMTApLCA1NjMyMCB8IChjICYgMTAyMykpO1xuICAgICAgICB9XG4gICAgICAgIGVsc2UgaWYgKGViICYgMSlcbiAgICAgICAgICAgIHIgKz0gU3RyaW5nLmZyb21DaGFyQ29kZSgoYyAmIDMxKSA8PCA2IHwgKGRbaSsrXSAmIDYzKSk7XG4gICAgICAgIGVsc2VcbiAgICAgICAgICAgIHIgKz0gU3RyaW5nLmZyb21DaGFyQ29kZSgoYyAmIDE1KSA8PCAxMiB8IChkW2krK10gJiA2MykgPDwgNiB8IChkW2krK10gJiA2MykpO1xuICAgIH1cbn07XG4vKipcbiAqIFN0cmVhbWluZyBVVEYtOCBkZWNvZGluZ1xuICovXG52YXIgRGVjb2RlVVRGOCA9IC8qI19fUFVSRV9fKi8gKGZ1bmN0aW9uICgpIHtcbiAgICAvKipcbiAgICAgKiBDcmVhdGVzIGEgVVRGLTggZGVjb2Rpbmcgc3RyZWFtXG4gICAgICogQHBhcmFtIGNiIFRoZSBjYWxsYmFjayB0byBjYWxsIHdoZW5ldmVyIGRhdGEgaXMgZGVjb2RlZFxuICAgICAqL1xuICAgIGZ1bmN0aW9uIERlY29kZVVURjgoY2IpIHtcbiAgICAgICAgdGhpcy5vbmRhdGEgPSBjYjtcbiAgICAgICAgaWYgKHRkcylcbiAgICAgICAgICAgIHRoaXMudCA9IG5ldyBUZXh0RGVjb2RlcigpO1xuICAgICAgICBlbHNlXG4gICAgICAgICAgICB0aGlzLnAgPSBldDtcbiAgICB9XG4gICAgLyoqXG4gICAgICogUHVzaGVzIGEgY2h1bmsgdG8gYmUgZGVjb2RlZCBmcm9tIFVURi04IGJpbmFyeVxuICAgICAqIEBwYXJhbSBjaHVuayBUaGUgY2h1bmsgdG8gcHVzaFxuICAgICAqIEBwYXJhbSBmaW5hbCBXaGV0aGVyIHRoaXMgaXMgdGhlIGxhc3QgY2h1bmtcbiAgICAgKi9cbiAgICBEZWNvZGVVVEY4LnByb3RvdHlwZS5wdXNoID0gZnVuY3Rpb24gKGNodW5rLCBmaW5hbCkge1xuICAgICAgICBpZiAoIXRoaXMub25kYXRhKVxuICAgICAgICAgICAgZXJyKDUpO1xuICAgICAgICBmaW5hbCA9ICEhZmluYWw7XG4gICAgICAgIGlmICh0aGlzLnQpIHtcbiAgICAgICAgICAgIHRoaXMub25kYXRhKHRoaXMudC5kZWNvZGUoY2h1bmssIHsgc3RyZWFtOiB0cnVlIH0pLCBmaW5hbCk7XG4gICAgICAgICAgICBpZiAoZmluYWwpIHtcbiAgICAgICAgICAgICAgICBpZiAodGhpcy50LmRlY29kZSgpLmxlbmd0aClcbiAgICAgICAgICAgICAgICAgICAgZXJyKDgpO1xuICAgICAgICAgICAgICAgIHRoaXMudCA9IG51bGw7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICByZXR1cm47XG4gICAgICAgIH1cbiAgICAgICAgaWYgKCF0aGlzLnApXG4gICAgICAgICAgICBlcnIoNCk7XG4gICAgICAgIHZhciBkYXQgPSBuZXcgdTgodGhpcy5wLmxlbmd0aCArIGNodW5rLmxlbmd0aCk7XG4gICAgICAgIGRhdC5zZXQodGhpcy5wKTtcbiAgICAgICAgZGF0LnNldChjaHVuaywgdGhpcy5wLmxlbmd0aCk7XG4gICAgICAgIHZhciBfYSA9IGR1dGY4KGRhdCksIGNoID0gX2FbMF0sIG5wID0gX2FbMV07XG4gICAgICAgIGlmIChmaW5hbCkge1xuICAgICAgICAgICAgaWYgKG5wLmxlbmd0aClcbiAgICAgICAgICAgICAgICBlcnIoOCk7XG4gICAgICAgICAgICB0aGlzLnAgPSBudWxsO1xuICAgICAgICB9XG4gICAgICAgIGVsc2VcbiAgICAgICAgICAgIHRoaXMucCA9IG5wO1xuICAgICAgICB0aGlzLm9uZGF0YShjaCwgZmluYWwpO1xuICAgIH07XG4gICAgcmV0dXJuIERlY29kZVVURjg7XG59KCkpO1xuZXhwb3J0IHsgRGVjb2RlVVRGOCB9O1xuLyoqXG4gKiBTdHJlYW1pbmcgVVRGLTggZW5jb2RpbmdcbiAqL1xudmFyIEVuY29kZVVURjggPSAvKiNfX1BVUkVfXyovIChmdW5jdGlvbiAoKSB7XG4gICAgLyoqXG4gICAgICogQ3JlYXRlcyBhIFVURi04IGRlY29kaW5nIHN0cmVhbVxuICAgICAqIEBwYXJhbSBjYiBUaGUgY2FsbGJhY2sgdG8gY2FsbCB3aGVuZXZlciBkYXRhIGlzIGVuY29kZWRcbiAgICAgKi9cbiAgICBmdW5jdGlvbiBFbmNvZGVVVEY4KGNiKSB7XG4gICAgICAgIHRoaXMub25kYXRhID0gY2I7XG4gICAgfVxuICAgIC8qKlxuICAgICAqIFB1c2hlcyBhIGNodW5rIHRvIGJlIGVuY29kZWQgdG8gVVRGLThcbiAgICAgKiBAcGFyYW0gY2h1bmsgVGhlIHN0cmluZyBkYXRhIHRvIHB1c2hcbiAgICAgKiBAcGFyYW0gZmluYWwgV2hldGhlciB0aGlzIGlzIHRoZSBsYXN0IGNodW5rXG4gICAgICovXG4gICAgRW5jb2RlVVRGOC5wcm90b3R5cGUucHVzaCA9IGZ1bmN0aW9uIChjaHVuaywgZmluYWwpIHtcbiAgICAgICAgaWYgKCF0aGlzLm9uZGF0YSlcbiAgICAgICAgICAgIGVycig1KTtcbiAgICAgICAgaWYgKHRoaXMuZClcbiAgICAgICAgICAgIGVycig0KTtcbiAgICAgICAgdGhpcy5vbmRhdGEoc3RyVG9VOChjaHVuayksIHRoaXMuZCA9IGZpbmFsIHx8IGZhbHNlKTtcbiAgICB9O1xuICAgIHJldHVybiBFbmNvZGVVVEY4O1xufSgpKTtcbmV4cG9ydCB7IEVuY29kZVVURjggfTtcbi8qKlxuICogQ29udmVydHMgYSBzdHJpbmcgaW50byBhIFVpbnQ4QXJyYXkgZm9yIHVzZSB3aXRoIGNvbXByZXNzaW9uL2RlY29tcHJlc3Npb24gbWV0aG9kc1xuICogQHBhcmFtIHN0ciBUaGUgc3RyaW5nIHRvIGVuY29kZVxuICogQHBhcmFtIGxhdGluMSBXaGV0aGVyIG9yIG5vdCB0byBpbnRlcnByZXQgdGhlIGRhdGEgYXMgTGF0aW4tMS4gVGhpcyBzaG91bGRcbiAqICAgICAgICAgICAgICAgbm90IG5lZWQgdG8gYmUgdHJ1ZSB1bmxlc3MgZGVjb2RpbmcgYSBiaW5hcnkgc3RyaW5nLlxuICogQHJldHVybnMgVGhlIHN0cmluZyBlbmNvZGVkIGluIFVURi04L0xhdGluLTEgYmluYXJ5XG4gKi9cbmV4cG9ydCBmdW5jdGlvbiBzdHJUb1U4KHN0ciwgbGF0aW4xKSB7XG4gICAgaWYgKGxhdGluMSkge1xuICAgICAgICB2YXIgYXJfMSA9IG5ldyB1OChzdHIubGVuZ3RoKTtcbiAgICAgICAgZm9yICh2YXIgaSA9IDA7IGkgPCBzdHIubGVuZ3RoOyArK2kpXG4gICAgICAgICAgICBhcl8xW2ldID0gc3RyLmNoYXJDb2RlQXQoaSk7XG4gICAgICAgIHJldHVybiBhcl8xO1xuICAgIH1cbiAgICBpZiAodGUpXG4gICAgICAgIHJldHVybiB0ZS5lbmNvZGUoc3RyKTtcbiAgICB2YXIgbCA9IHN0ci5sZW5ndGg7XG4gICAgdmFyIGFyID0gbmV3IHU4KHN0ci5sZW5ndGggKyAoc3RyLmxlbmd0aCA+PiAxKSk7XG4gICAgdmFyIGFpID0gMDtcbiAgICB2YXIgdyA9IGZ1bmN0aW9uICh2KSB7IGFyW2FpKytdID0gdjsgfTtcbiAgICBmb3IgKHZhciBpID0gMDsgaSA8IGw7ICsraSkge1xuICAgICAgICBpZiAoYWkgKyA1ID4gYXIubGVuZ3RoKSB7XG4gICAgICAgICAgICB2YXIgbiA9IG5ldyB1OChhaSArIDggKyAoKGwgLSBpKSA8PCAxKSk7XG4gICAgICAgICAgICBuLnNldChhcik7XG4gICAgICAgICAgICBhciA9IG47XG4gICAgICAgIH1cbiAgICAgICAgdmFyIGMgPSBzdHIuY2hhckNvZGVBdChpKTtcbiAgICAgICAgaWYgKGMgPCAxMjggfHwgbGF0aW4xKVxuICAgICAgICAgICAgdyhjKTtcbiAgICAgICAgZWxzZSBpZiAoYyA8IDIwNDgpXG4gICAgICAgICAgICB3KDE5MiB8IChjID4+IDYpKSwgdygxMjggfCAoYyAmIDYzKSk7XG4gICAgICAgIGVsc2UgaWYgKGMgPiA1NTI5NSAmJiBjIDwgNTczNDQpXG4gICAgICAgICAgICBjID0gNjU1MzYgKyAoYyAmIDEwMjMgPDwgMTApIHwgKHN0ci5jaGFyQ29kZUF0KCsraSkgJiAxMDIzKSxcbiAgICAgICAgICAgICAgICB3KDI0MCB8IChjID4+IDE4KSksIHcoMTI4IHwgKChjID4+IDEyKSAmIDYzKSksIHcoMTI4IHwgKChjID4+IDYpICYgNjMpKSwgdygxMjggfCAoYyAmIDYzKSk7XG4gICAgICAgIGVsc2VcbiAgICAgICAgICAgIHcoMjI0IHwgKGMgPj4gMTIpKSwgdygxMjggfCAoKGMgPj4gNikgJiA2MykpLCB3KDEyOCB8IChjICYgNjMpKTtcbiAgICB9XG4gICAgcmV0dXJuIHNsYyhhciwgMCwgYWkpO1xufVxuLyoqXG4gKiBDb252ZXJ0cyBhIFVpbnQ4QXJyYXkgdG8gYSBzdHJpbmdcbiAqIEBwYXJhbSBkYXQgVGhlIGRhdGEgdG8gZGVjb2RlIHRvIHN0cmluZ1xuICogQHBhcmFtIGxhdGluMSBXaGV0aGVyIG9yIG5vdCB0byBpbnRlcnByZXQgdGhlIGRhdGEgYXMgTGF0aW4tMS4gVGhpcyBzaG91bGRcbiAqICAgICAgICAgICAgICAgbm90IG5lZWQgdG8gYmUgdHJ1ZSB1bmxlc3MgZW5jb2RpbmcgdG8gYmluYXJ5IHN0cmluZy5cbiAqIEByZXR1cm5zIFRoZSBvcmlnaW5hbCBVVEYtOC9MYXRpbi0xIHN0cmluZ1xuICovXG5leHBvcnQgZnVuY3Rpb24gc3RyRnJvbVU4KGRhdCwgbGF0aW4xKSB7XG4gICAgaWYgKGxhdGluMSkge1xuICAgICAgICB2YXIgciA9ICcnO1xuICAgICAgICBmb3IgKHZhciBpID0gMDsgaSA8IGRhdC5sZW5ndGg7IGkgKz0gMTYzODQpXG4gICAgICAgICAgICByICs9IFN0cmluZy5mcm9tQ2hhckNvZGUuYXBwbHkobnVsbCwgZGF0LnN1YmFycmF5KGksIGkgKyAxNjM4NCkpO1xuICAgICAgICByZXR1cm4gcjtcbiAgICB9XG4gICAgZWxzZSBpZiAodGQpXG4gICAgICAgIHJldHVybiB0ZC5kZWNvZGUoZGF0KTtcbiAgICBlbHNlIHtcbiAgICAgICAgdmFyIF9hID0gZHV0ZjgoZGF0KSwgb3V0ID0gX2FbMF0sIGV4dCA9IF9hWzFdO1xuICAgICAgICBpZiAoZXh0Lmxlbmd0aClcbiAgICAgICAgICAgIGVycig4KTtcbiAgICAgICAgcmV0dXJuIG91dDtcbiAgICB9XG59XG47XG4vLyBkZWZsYXRlIGJpdCBmbGFnXG52YXIgZGJmID0gZnVuY3Rpb24gKGwpIHsgcmV0dXJuIGwgPT0gMSA/IDMgOiBsIDwgNiA/IDIgOiBsID09IDkgPyAxIDogMDsgfTtcbi8vIHNraXAgbG9jYWwgemlwIGhlYWRlclxudmFyIHNsemggPSBmdW5jdGlvbiAoZCwgYikgeyByZXR1cm4gYiArIDMwICsgYjIoZCwgYiArIDI2KSArIGIyKGQsIGIgKyAyOCk7IH07XG4vLyByZWFkIHppcCBoZWFkZXJcbnZhciB6aCA9IGZ1bmN0aW9uIChkLCBiLCB6KSB7XG4gICAgdmFyIGZubCA9IGIyKGQsIGIgKyAyOCksIGZuID0gc3RyRnJvbVU4KGQuc3ViYXJyYXkoYiArIDQ2LCBiICsgNDYgKyBmbmwpLCAhKGIyKGQsIGIgKyA4KSAmIDIwNDgpKSwgZXMgPSBiICsgNDYgKyBmbmwsIGJzID0gYjQoZCwgYiArIDIwKTtcbiAgICB2YXIgX2EgPSB6ICYmIGJzID09IDQyOTQ5NjcyOTUgPyB6NjRlKGQsIGVzKSA6IFticywgYjQoZCwgYiArIDI0KSwgYjQoZCwgYiArIDQyKV0sIHNjID0gX2FbMF0sIHN1ID0gX2FbMV0sIG9mZiA9IF9hWzJdO1xuICAgIHJldHVybiBbYjIoZCwgYiArIDEwKSwgc2MsIHN1LCBmbiwgZXMgKyBiMihkLCBiICsgMzApICsgYjIoZCwgYiArIDMyKSwgb2ZmXTtcbn07XG4vLyByZWFkIHppcDY0IGV4dHJhIGZpZWxkXG52YXIgejY0ZSA9IGZ1bmN0aW9uIChkLCBiKSB7XG4gICAgZm9yICg7IGIyKGQsIGIpICE9IDE7IGIgKz0gNCArIGIyKGQsIGIgKyAyKSlcbiAgICAgICAgO1xuICAgIHJldHVybiBbYjgoZCwgYiArIDEyKSwgYjgoZCwgYiArIDQpLCBiOChkLCBiICsgMjApXTtcbn07XG4vLyBleHRyYSBmaWVsZCBsZW5ndGhcbnZhciBleGZsID0gZnVuY3Rpb24gKGV4KSB7XG4gICAgdmFyIGxlID0gMDtcbiAgICBpZiAoZXgpIHtcbiAgICAgICAgZm9yICh2YXIgayBpbiBleCkge1xuICAgICAgICAgICAgdmFyIGwgPSBleFtrXS5sZW5ndGg7XG4gICAgICAgICAgICBpZiAobCA+IDY1NTM1KVxuICAgICAgICAgICAgICAgIGVycig5KTtcbiAgICAgICAgICAgIGxlICs9IGwgKyA0O1xuICAgICAgICB9XG4gICAgfVxuICAgIHJldHVybiBsZTtcbn07XG4vLyB3cml0ZSB6aXAgaGVhZGVyXG52YXIgd3poID0gZnVuY3Rpb24gKGQsIGIsIGYsIGZuLCB1LCBjLCBjZSwgY28pIHtcbiAgICB2YXIgZmwgPSBmbi5sZW5ndGgsIGV4ID0gZi5leHRyYSwgY29sID0gY28gJiYgY28ubGVuZ3RoO1xuICAgIHZhciBleGwgPSBleGZsKGV4KTtcbiAgICB3Ynl0ZXMoZCwgYiwgY2UgIT0gbnVsbCA/IDB4MjAxNEI1MCA6IDB4NDAzNEI1MCksIGIgKz0gNDtcbiAgICBpZiAoY2UgIT0gbnVsbClcbiAgICAgICAgZFtiKytdID0gMjAsIGRbYisrXSA9IGYub3M7XG4gICAgZFtiXSA9IDIwLCBiICs9IDI7IC8vIHNwZWMgY29tcGxpYW5jZT8gd2hhdCdzIHRoYXQ/XG4gICAgZFtiKytdID0gKGYuZmxhZyA8PCAxKSB8IChjIDwgMCAmJiA4KSwgZFtiKytdID0gdSAmJiA4O1xuICAgIGRbYisrXSA9IGYuY29tcHJlc3Npb24gJiAyNTUsIGRbYisrXSA9IGYuY29tcHJlc3Npb24gPj4gODtcbiAgICB2YXIgZHQgPSBuZXcgRGF0ZShmLm10aW1lID09IG51bGwgPyBEYXRlLm5vdygpIDogZi5tdGltZSksIHkgPSBkdC5nZXRGdWxsWWVhcigpIC0gMTk4MDtcbiAgICBpZiAoeSA8IDAgfHwgeSA+IDExOSlcbiAgICAgICAgZXJyKDEwKTtcbiAgICB3Ynl0ZXMoZCwgYiwgKHkgPDwgMjUpIHwgKChkdC5nZXRNb250aCgpICsgMSkgPDwgMjEpIHwgKGR0LmdldERhdGUoKSA8PCAxNikgfCAoZHQuZ2V0SG91cnMoKSA8PCAxMSkgfCAoZHQuZ2V0TWludXRlcygpIDw8IDUpIHwgKGR0LmdldFNlY29uZHMoKSA+Pj4gMSkpLCBiICs9IDQ7XG4gICAgaWYgKGMgIT0gLTEpIHtcbiAgICAgICAgd2J5dGVzKGQsIGIsIGYuY3JjKTtcbiAgICAgICAgd2J5dGVzKGQsIGIgKyA0LCBjIDwgMCA/IC1jIC0gMiA6IGMpO1xuICAgICAgICB3Ynl0ZXMoZCwgYiArIDgsIGYuc2l6ZSk7XG4gICAgfVxuICAgIHdieXRlcyhkLCBiICsgMTIsIGZsKTtcbiAgICB3Ynl0ZXMoZCwgYiArIDE0LCBleGwpLCBiICs9IDE2O1xuICAgIGlmIChjZSAhPSBudWxsKSB7XG4gICAgICAgIHdieXRlcyhkLCBiLCBjb2wpO1xuICAgICAgICB3Ynl0ZXMoZCwgYiArIDYsIGYuYXR0cnMpO1xuICAgICAgICB3Ynl0ZXMoZCwgYiArIDEwLCBjZSksIGIgKz0gMTQ7XG4gICAgfVxuICAgIGQuc2V0KGZuLCBiKTtcbiAgICBiICs9IGZsO1xuICAgIGlmIChleGwpIHtcbiAgICAgICAgZm9yICh2YXIgayBpbiBleCkge1xuICAgICAgICAgICAgdmFyIGV4ZiA9IGV4W2tdLCBsID0gZXhmLmxlbmd0aDtcbiAgICAgICAgICAgIHdieXRlcyhkLCBiLCArayk7XG4gICAgICAgICAgICB3Ynl0ZXMoZCwgYiArIDIsIGwpO1xuICAgICAgICAgICAgZC5zZXQoZXhmLCBiICsgNCksIGIgKz0gNCArIGw7XG4gICAgICAgIH1cbiAgICB9XG4gICAgaWYgKGNvbClcbiAgICAgICAgZC5zZXQoY28sIGIpLCBiICs9IGNvbDtcbiAgICByZXR1cm4gYjtcbn07XG4vLyB3cml0ZSB6aXAgZm9vdGVyIChlbmQgb2YgY2VudHJhbCBkaXJlY3RvcnkpXG52YXIgd3pmID0gZnVuY3Rpb24gKG8sIGIsIGMsIGQsIGUpIHtcbiAgICB3Ynl0ZXMobywgYiwgMHg2MDU0QjUwKTsgLy8gc2tpcCBkaXNrXG4gICAgd2J5dGVzKG8sIGIgKyA4LCBjKTtcbiAgICB3Ynl0ZXMobywgYiArIDEwLCBjKTtcbiAgICB3Ynl0ZXMobywgYiArIDEyLCBkKTtcbiAgICB3Ynl0ZXMobywgYiArIDE2LCBlKTtcbn07XG4vKipcbiAqIEEgcGFzcy10aHJvdWdoIHN0cmVhbSB0byBrZWVwIGRhdGEgdW5jb21wcmVzc2VkIGluIGEgWklQIGFyY2hpdmUuXG4gKi9cbnZhciBaaXBQYXNzVGhyb3VnaCA9IC8qI19fUFVSRV9fKi8gKGZ1bmN0aW9uICgpIHtcbiAgICAvKipcbiAgICAgKiBDcmVhdGVzIGEgcGFzcy10aHJvdWdoIHN0cmVhbSB0aGF0IGNhbiBiZSBhZGRlZCB0byBaSVAgYXJjaGl2ZXNcbiAgICAgKiBAcGFyYW0gZmlsZW5hbWUgVGhlIGZpbGVuYW1lIHRvIGFzc29jaWF0ZSB3aXRoIHRoaXMgZGF0YSBzdHJlYW1cbiAgICAgKi9cbiAgICBmdW5jdGlvbiBaaXBQYXNzVGhyb3VnaChmaWxlbmFtZSkge1xuICAgICAgICB0aGlzLmZpbGVuYW1lID0gZmlsZW5hbWU7XG4gICAgICAgIHRoaXMuYyA9IGNyYygpO1xuICAgICAgICB0aGlzLnNpemUgPSAwO1xuICAgICAgICB0aGlzLmNvbXByZXNzaW9uID0gMDtcbiAgICB9XG4gICAgLyoqXG4gICAgICogUHJvY2Vzc2VzIGEgY2h1bmsgYW5kIHB1c2hlcyB0byB0aGUgb3V0cHV0IHN0cmVhbS4gWW91IGNhbiBvdmVycmlkZSB0aGlzXG4gICAgICogbWV0aG9kIGluIGEgc3ViY2xhc3MgZm9yIGN1c3RvbSBiZWhhdmlvciwgYnV0IGJ5IGRlZmF1bHQgdGhpcyBwYXNzZXNcbiAgICAgKiB0aGUgZGF0YSB0aHJvdWdoLiBZb3UgbXVzdCBjYWxsIHRoaXMub25kYXRhKGVyciwgY2h1bmssIGZpbmFsKSBhdCBzb21lXG4gICAgICogcG9pbnQgaW4gdGhpcyBtZXRob2QuXG4gICAgICogQHBhcmFtIGNodW5rIFRoZSBjaHVuayB0byBwcm9jZXNzXG4gICAgICogQHBhcmFtIGZpbmFsIFdoZXRoZXIgdGhpcyBpcyB0aGUgbGFzdCBjaHVua1xuICAgICAqL1xuICAgIFppcFBhc3NUaHJvdWdoLnByb3RvdHlwZS5wcm9jZXNzID0gZnVuY3Rpb24gKGNodW5rLCBmaW5hbCkge1xuICAgICAgICB0aGlzLm9uZGF0YShudWxsLCBjaHVuaywgZmluYWwpO1xuICAgIH07XG4gICAgLyoqXG4gICAgICogUHVzaGVzIGEgY2h1bmsgdG8gYmUgYWRkZWQuIElmIHlvdSBhcmUgc3ViY2xhc3NpbmcgdGhpcyB3aXRoIGEgY3VzdG9tXG4gICAgICogY29tcHJlc3Npb24gYWxnb3JpdGhtLCBub3RlIHRoYXQgeW91IG11c3QgcHVzaCBkYXRhIGZyb20gdGhlIHNvdXJjZVxuICAgICAqIGZpbGUgb25seSwgcHJlLWNvbXByZXNzaW9uLlxuICAgICAqIEBwYXJhbSBjaHVuayBUaGUgY2h1bmsgdG8gcHVzaFxuICAgICAqIEBwYXJhbSBmaW5hbCBXaGV0aGVyIHRoaXMgaXMgdGhlIGxhc3QgY2h1bmtcbiAgICAgKi9cbiAgICBaaXBQYXNzVGhyb3VnaC5wcm90b3R5cGUucHVzaCA9IGZ1bmN0aW9uIChjaHVuaywgZmluYWwpIHtcbiAgICAgICAgaWYgKCF0aGlzLm9uZGF0YSlcbiAgICAgICAgICAgIGVycig1KTtcbiAgICAgICAgdGhpcy5jLnAoY2h1bmspO1xuICAgICAgICB0aGlzLnNpemUgKz0gY2h1bmsubGVuZ3RoO1xuICAgICAgICBpZiAoZmluYWwpXG4gICAgICAgICAgICB0aGlzLmNyYyA9IHRoaXMuYy5kKCk7XG4gICAgICAgIHRoaXMucHJvY2VzcyhjaHVuaywgZmluYWwgfHwgZmFsc2UpO1xuICAgIH07XG4gICAgcmV0dXJuIFppcFBhc3NUaHJvdWdoO1xufSgpKTtcbmV4cG9ydCB7IFppcFBhc3NUaHJvdWdoIH07XG4vLyBJIGRvbid0IGV4dGVuZCBiZWNhdXNlIFR5cGVTY3JpcHQgZXh0ZW5zaW9uIGFkZHMgMWtCIG9mIHJ1bnRpbWUgYmxvYXRcbi8qKlxuICogU3RyZWFtaW5nIERFRkxBVEUgY29tcHJlc3Npb24gZm9yIFpJUCBhcmNoaXZlcy4gUHJlZmVyIHVzaW5nIEFzeW5jWmlwRGVmbGF0ZVxuICogZm9yIGJldHRlciBwZXJmb3JtYW5jZVxuICovXG52YXIgWmlwRGVmbGF0ZSA9IC8qI19fUFVSRV9fKi8gKGZ1bmN0aW9uICgpIHtcbiAgICAvKipcbiAgICAgKiBDcmVhdGVzIGEgREVGTEFURSBzdHJlYW0gdGhhdCBjYW4gYmUgYWRkZWQgdG8gWklQIGFyY2hpdmVzXG4gICAgICogQHBhcmFtIGZpbGVuYW1lIFRoZSBmaWxlbmFtZSB0byBhc3NvY2lhdGUgd2l0aCB0aGlzIGRhdGEgc3RyZWFtXG4gICAgICogQHBhcmFtIG9wdHMgVGhlIGNvbXByZXNzaW9uIG9wdGlvbnNcbiAgICAgKi9cbiAgICBmdW5jdGlvbiBaaXBEZWZsYXRlKGZpbGVuYW1lLCBvcHRzKSB7XG4gICAgICAgIHZhciBfdGhpc18xID0gdGhpcztcbiAgICAgICAgaWYgKCFvcHRzKVxuICAgICAgICAgICAgb3B0cyA9IHt9O1xuICAgICAgICBaaXBQYXNzVGhyb3VnaC5jYWxsKHRoaXMsIGZpbGVuYW1lKTtcbiAgICAgICAgdGhpcy5kID0gbmV3IERlZmxhdGUob3B0cywgZnVuY3Rpb24gKGRhdCwgZmluYWwpIHtcbiAgICAgICAgICAgIF90aGlzXzEub25kYXRhKG51bGwsIGRhdCwgZmluYWwpO1xuICAgICAgICB9KTtcbiAgICAgICAgdGhpcy5jb21wcmVzc2lvbiA9IDg7XG4gICAgICAgIHRoaXMuZmxhZyA9IGRiZihvcHRzLmxldmVsKTtcbiAgICB9XG4gICAgWmlwRGVmbGF0ZS5wcm90b3R5cGUucHJvY2VzcyA9IGZ1bmN0aW9uIChjaHVuaywgZmluYWwpIHtcbiAgICAgICAgdHJ5IHtcbiAgICAgICAgICAgIHRoaXMuZC5wdXNoKGNodW5rLCBmaW5hbCk7XG4gICAgICAgIH1cbiAgICAgICAgY2F0Y2ggKGUpIHtcbiAgICAgICAgICAgIHRoaXMub25kYXRhKGUsIG51bGwsIGZpbmFsKTtcbiAgICAgICAgfVxuICAgIH07XG4gICAgLyoqXG4gICAgICogUHVzaGVzIGEgY2h1bmsgdG8gYmUgZGVmbGF0ZWRcbiAgICAgKiBAcGFyYW0gY2h1bmsgVGhlIGNodW5rIHRvIHB1c2hcbiAgICAgKiBAcGFyYW0gZmluYWwgV2hldGhlciB0aGlzIGlzIHRoZSBsYXN0IGNodW5rXG4gICAgICovXG4gICAgWmlwRGVmbGF0ZS5wcm90b3R5cGUucHVzaCA9IGZ1bmN0aW9uIChjaHVuaywgZmluYWwpIHtcbiAgICAgICAgWmlwUGFzc1Rocm91Z2gucHJvdG90eXBlLnB1c2guY2FsbCh0aGlzLCBjaHVuaywgZmluYWwpO1xuICAgIH07XG4gICAgcmV0dXJuIFppcERlZmxhdGU7XG59KCkpO1xuZXhwb3J0IHsgWmlwRGVmbGF0ZSB9O1xuLyoqXG4gKiBBc3luY2hyb25vdXMgc3RyZWFtaW5nIERFRkxBVEUgY29tcHJlc3Npb24gZm9yIFpJUCBhcmNoaXZlc1xuICovXG52YXIgQXN5bmNaaXBEZWZsYXRlID0gLyojX19QVVJFX18qLyAoZnVuY3Rpb24gKCkge1xuICAgIC8qKlxuICAgICAqIENyZWF0ZXMgYSBERUZMQVRFIHN0cmVhbSB0aGF0IGNhbiBiZSBhZGRlZCB0byBaSVAgYXJjaGl2ZXNcbiAgICAgKiBAcGFyYW0gZmlsZW5hbWUgVGhlIGZpbGVuYW1lIHRvIGFzc29jaWF0ZSB3aXRoIHRoaXMgZGF0YSBzdHJlYW1cbiAgICAgKiBAcGFyYW0gb3B0cyBUaGUgY29tcHJlc3Npb24gb3B0aW9uc1xuICAgICAqL1xuICAgIGZ1bmN0aW9uIEFzeW5jWmlwRGVmbGF0ZShmaWxlbmFtZSwgb3B0cykge1xuICAgICAgICB2YXIgX3RoaXNfMSA9IHRoaXM7XG4gICAgICAgIGlmICghb3B0cylcbiAgICAgICAgICAgIG9wdHMgPSB7fTtcbiAgICAgICAgWmlwUGFzc1Rocm91Z2guY2FsbCh0aGlzLCBmaWxlbmFtZSk7XG4gICAgICAgIHRoaXMuZCA9IG5ldyBBc3luY0RlZmxhdGUob3B0cywgZnVuY3Rpb24gKGVyciwgZGF0LCBmaW5hbCkge1xuICAgICAgICAgICAgX3RoaXNfMS5vbmRhdGEoZXJyLCBkYXQsIGZpbmFsKTtcbiAgICAgICAgfSk7XG4gICAgICAgIHRoaXMuY29tcHJlc3Npb24gPSA4O1xuICAgICAgICB0aGlzLmZsYWcgPSBkYmYob3B0cy5sZXZlbCk7XG4gICAgICAgIHRoaXMudGVybWluYXRlID0gdGhpcy5kLnRlcm1pbmF0ZTtcbiAgICB9XG4gICAgQXN5bmNaaXBEZWZsYXRlLnByb3RvdHlwZS5wcm9jZXNzID0gZnVuY3Rpb24gKGNodW5rLCBmaW5hbCkge1xuICAgICAgICB0aGlzLmQucHVzaChjaHVuaywgZmluYWwpO1xuICAgIH07XG4gICAgLyoqXG4gICAgICogUHVzaGVzIGEgY2h1bmsgdG8gYmUgZGVmbGF0ZWRcbiAgICAgKiBAcGFyYW0gY2h1bmsgVGhlIGNodW5rIHRvIHB1c2hcbiAgICAgKiBAcGFyYW0gZmluYWwgV2hldGhlciB0aGlzIGlzIHRoZSBsYXN0IGNodW5rXG4gICAgICovXG4gICAgQXN5bmNaaXBEZWZsYXRlLnByb3RvdHlwZS5wdXNoID0gZnVuY3Rpb24gKGNodW5rLCBmaW5hbCkge1xuICAgICAgICBaaXBQYXNzVGhyb3VnaC5wcm90b3R5cGUucHVzaC5jYWxsKHRoaXMsIGNodW5rLCBmaW5hbCk7XG4gICAgfTtcbiAgICByZXR1cm4gQXN5bmNaaXBEZWZsYXRlO1xufSgpKTtcbmV4cG9ydCB7IEFzeW5jWmlwRGVmbGF0ZSB9O1xuLy8gVE9ETzogQmV0dGVyIHRyZWUgc2hha2luZ1xuLyoqXG4gKiBBIHppcHBhYmxlIGFyY2hpdmUgdG8gd2hpY2ggZmlsZXMgY2FuIGluY3JlbWVudGFsbHkgYmUgYWRkZWRcbiAqL1xudmFyIFppcCA9IC8qI19fUFVSRV9fKi8gKGZ1bmN0aW9uICgpIHtcbiAgICAvKipcbiAgICAgKiBDcmVhdGVzIGFuIGVtcHR5IFpJUCBhcmNoaXZlIHRvIHdoaWNoIGZpbGVzIGNhbiBiZSBhZGRlZFxuICAgICAqIEBwYXJhbSBjYiBUaGUgY2FsbGJhY2sgdG8gY2FsbCB3aGVuZXZlciBkYXRhIGZvciB0aGUgZ2VuZXJhdGVkIFpJUCBhcmNoaXZlXG4gICAgICogICAgICAgICAgIGlzIGF2YWlsYWJsZVxuICAgICAqL1xuICAgIGZ1bmN0aW9uIFppcChjYikge1xuICAgICAgICB0aGlzLm9uZGF0YSA9IGNiO1xuICAgICAgICB0aGlzLnUgPSBbXTtcbiAgICAgICAgdGhpcy5kID0gMTtcbiAgICB9XG4gICAgLyoqXG4gICAgICogQWRkcyBhIGZpbGUgdG8gdGhlIFpJUCBhcmNoaXZlXG4gICAgICogQHBhcmFtIGZpbGUgVGhlIGZpbGUgc3RyZWFtIHRvIGFkZFxuICAgICAqL1xuICAgIFppcC5wcm90b3R5cGUuYWRkID0gZnVuY3Rpb24gKGZpbGUpIHtcbiAgICAgICAgdmFyIF90aGlzXzEgPSB0aGlzO1xuICAgICAgICBpZiAoIXRoaXMub25kYXRhKVxuICAgICAgICAgICAgZXJyKDUpO1xuICAgICAgICAvLyBmaW5pc2hpbmcgb3IgZmluaXNoZWRcbiAgICAgICAgaWYgKHRoaXMuZCAmIDIpXG4gICAgICAgICAgICB0aGlzLm9uZGF0YShlcnIoNCArICh0aGlzLmQgJiAxKSAqIDgsIDAsIDEpLCBudWxsLCBmYWxzZSk7XG4gICAgICAgIGVsc2Uge1xuICAgICAgICAgICAgdmFyIGYgPSBzdHJUb1U4KGZpbGUuZmlsZW5hbWUpLCBmbF8xID0gZi5sZW5ndGg7XG4gICAgICAgICAgICB2YXIgY29tID0gZmlsZS5jb21tZW50LCBvID0gY29tICYmIHN0clRvVTgoY29tKTtcbiAgICAgICAgICAgIHZhciB1ID0gZmxfMSAhPSBmaWxlLmZpbGVuYW1lLmxlbmd0aCB8fCAobyAmJiAoY29tLmxlbmd0aCAhPSBvLmxlbmd0aCkpO1xuICAgICAgICAgICAgdmFyIGhsXzEgPSBmbF8xICsgZXhmbChmaWxlLmV4dHJhKSArIDMwO1xuICAgICAgICAgICAgaWYgKGZsXzEgPiA2NTUzNSlcbiAgICAgICAgICAgICAgICB0aGlzLm9uZGF0YShlcnIoMTEsIDAsIDEpLCBudWxsLCBmYWxzZSk7XG4gICAgICAgICAgICB2YXIgaGVhZGVyID0gbmV3IHU4KGhsXzEpO1xuICAgICAgICAgICAgd3poKGhlYWRlciwgMCwgZmlsZSwgZiwgdSwgLTEpO1xuICAgICAgICAgICAgdmFyIGNoa3NfMSA9IFtoZWFkZXJdO1xuICAgICAgICAgICAgdmFyIHBBbGxfMSA9IGZ1bmN0aW9uICgpIHtcbiAgICAgICAgICAgICAgICBmb3IgKHZhciBfaSA9IDAsIGNoa3NfMiA9IGNoa3NfMTsgX2kgPCBjaGtzXzIubGVuZ3RoOyBfaSsrKSB7XG4gICAgICAgICAgICAgICAgICAgIHZhciBjaGsgPSBjaGtzXzJbX2ldO1xuICAgICAgICAgICAgICAgICAgICBfdGhpc18xLm9uZGF0YShudWxsLCBjaGssIGZhbHNlKTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgY2hrc18xID0gW107XG4gICAgICAgICAgICB9O1xuICAgICAgICAgICAgdmFyIHRyXzEgPSB0aGlzLmQ7XG4gICAgICAgICAgICB0aGlzLmQgPSAwO1xuICAgICAgICAgICAgdmFyIGluZF8xID0gdGhpcy51Lmxlbmd0aDtcbiAgICAgICAgICAgIHZhciB1Zl8xID0gbXJnKGZpbGUsIHtcbiAgICAgICAgICAgICAgICBmOiBmLFxuICAgICAgICAgICAgICAgIHU6IHUsXG4gICAgICAgICAgICAgICAgbzogbyxcbiAgICAgICAgICAgICAgICB0OiBmdW5jdGlvbiAoKSB7XG4gICAgICAgICAgICAgICAgICAgIGlmIChmaWxlLnRlcm1pbmF0ZSlcbiAgICAgICAgICAgICAgICAgICAgICAgIGZpbGUudGVybWluYXRlKCk7XG4gICAgICAgICAgICAgICAgfSxcbiAgICAgICAgICAgICAgICByOiBmdW5jdGlvbiAoKSB7XG4gICAgICAgICAgICAgICAgICAgIHBBbGxfMSgpO1xuICAgICAgICAgICAgICAgICAgICBpZiAodHJfMSkge1xuICAgICAgICAgICAgICAgICAgICAgICAgdmFyIG54dCA9IF90aGlzXzEudVtpbmRfMSArIDFdO1xuICAgICAgICAgICAgICAgICAgICAgICAgaWYgKG54dClcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBueHQucigpO1xuICAgICAgICAgICAgICAgICAgICAgICAgZWxzZVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIF90aGlzXzEuZCA9IDE7XG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgdHJfMSA9IDE7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICB2YXIgY2xfMSA9IDA7XG4gICAgICAgICAgICBmaWxlLm9uZGF0YSA9IGZ1bmN0aW9uIChlcnIsIGRhdCwgZmluYWwpIHtcbiAgICAgICAgICAgICAgICBpZiAoZXJyKSB7XG4gICAgICAgICAgICAgICAgICAgIF90aGlzXzEub25kYXRhKGVyciwgZGF0LCBmaW5hbCk7XG4gICAgICAgICAgICAgICAgICAgIF90aGlzXzEudGVybWluYXRlKCk7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIGVsc2Uge1xuICAgICAgICAgICAgICAgICAgICBjbF8xICs9IGRhdC5sZW5ndGg7XG4gICAgICAgICAgICAgICAgICAgIGNoa3NfMS5wdXNoKGRhdCk7XG4gICAgICAgICAgICAgICAgICAgIGlmIChmaW5hbCkge1xuICAgICAgICAgICAgICAgICAgICAgICAgdmFyIGRkID0gbmV3IHU4KDE2KTtcbiAgICAgICAgICAgICAgICAgICAgICAgIHdieXRlcyhkZCwgMCwgMHg4MDc0QjUwKTtcbiAgICAgICAgICAgICAgICAgICAgICAgIHdieXRlcyhkZCwgNCwgZmlsZS5jcmMpO1xuICAgICAgICAgICAgICAgICAgICAgICAgd2J5dGVzKGRkLCA4LCBjbF8xKTtcbiAgICAgICAgICAgICAgICAgICAgICAgIHdieXRlcyhkZCwgMTIsIGZpbGUuc2l6ZSk7XG4gICAgICAgICAgICAgICAgICAgICAgICBjaGtzXzEucHVzaChkZCk7XG4gICAgICAgICAgICAgICAgICAgICAgICB1Zl8xLmMgPSBjbF8xLCB1Zl8xLmIgPSBobF8xICsgY2xfMSArIDE2LCB1Zl8xLmNyYyA9IGZpbGUuY3JjLCB1Zl8xLnNpemUgPSBmaWxlLnNpemU7XG4gICAgICAgICAgICAgICAgICAgICAgICBpZiAodHJfMSlcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB1Zl8xLnIoKTtcbiAgICAgICAgICAgICAgICAgICAgICAgIHRyXzEgPSAxO1xuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgIGVsc2UgaWYgKHRyXzEpXG4gICAgICAgICAgICAgICAgICAgICAgICBwQWxsXzEoKTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9O1xuICAgICAgICAgICAgdGhpcy51LnB1c2godWZfMSk7XG4gICAgICAgIH1cbiAgICB9O1xuICAgIC8qKlxuICAgICAqIEVuZHMgdGhlIHByb2Nlc3Mgb2YgYWRkaW5nIGZpbGVzIGFuZCBwcmVwYXJlcyB0byBlbWl0IHRoZSBmaW5hbCBjaHVua3MuXG4gICAgICogVGhpcyAqbXVzdCogYmUgY2FsbGVkIGFmdGVyIGFkZGluZyBhbGwgZGVzaXJlZCBmaWxlcyBmb3IgdGhlIHJlc3VsdGluZ1xuICAgICAqIFpJUCBmaWxlIHRvIHdvcmsgcHJvcGVybHkuXG4gICAgICovXG4gICAgWmlwLnByb3RvdHlwZS5lbmQgPSBmdW5jdGlvbiAoKSB7XG4gICAgICAgIHZhciBfdGhpc18xID0gdGhpcztcbiAgICAgICAgaWYgKHRoaXMuZCAmIDIpIHtcbiAgICAgICAgICAgIHRoaXMub25kYXRhKGVycig0ICsgKHRoaXMuZCAmIDEpICogOCwgMCwgMSksIG51bGwsIHRydWUpO1xuICAgICAgICAgICAgcmV0dXJuO1xuICAgICAgICB9XG4gICAgICAgIGlmICh0aGlzLmQpXG4gICAgICAgICAgICB0aGlzLmUoKTtcbiAgICAgICAgZWxzZVxuICAgICAgICAgICAgdGhpcy51LnB1c2goe1xuICAgICAgICAgICAgICAgIHI6IGZ1bmN0aW9uICgpIHtcbiAgICAgICAgICAgICAgICAgICAgaWYgKCEoX3RoaXNfMS5kICYgMSkpXG4gICAgICAgICAgICAgICAgICAgICAgICByZXR1cm47XG4gICAgICAgICAgICAgICAgICAgIF90aGlzXzEudS5zcGxpY2UoLTEsIDEpO1xuICAgICAgICAgICAgICAgICAgICBfdGhpc18xLmUoKTtcbiAgICAgICAgICAgICAgICB9LFxuICAgICAgICAgICAgICAgIHQ6IGZ1bmN0aW9uICgpIHsgfVxuICAgICAgICAgICAgfSk7XG4gICAgICAgIHRoaXMuZCA9IDM7XG4gICAgfTtcbiAgICBaaXAucHJvdG90eXBlLmUgPSBmdW5jdGlvbiAoKSB7XG4gICAgICAgIHZhciBidCA9IDAsIGwgPSAwLCB0bCA9IDA7XG4gICAgICAgIGZvciAodmFyIF9pID0gMCwgX2EgPSB0aGlzLnU7IF9pIDwgX2EubGVuZ3RoOyBfaSsrKSB7XG4gICAgICAgICAgICB2YXIgZiA9IF9hW19pXTtcbiAgICAgICAgICAgIHRsICs9IDQ2ICsgZi5mLmxlbmd0aCArIGV4ZmwoZi5leHRyYSkgKyAoZi5vID8gZi5vLmxlbmd0aCA6IDApO1xuICAgICAgICB9XG4gICAgICAgIHZhciBvdXQgPSBuZXcgdTgodGwgKyAyMik7XG4gICAgICAgIGZvciAodmFyIF9iID0gMCwgX2MgPSB0aGlzLnU7IF9iIDwgX2MubGVuZ3RoOyBfYisrKSB7XG4gICAgICAgICAgICB2YXIgZiA9IF9jW19iXTtcbiAgICAgICAgICAgIHd6aChvdXQsIGJ0LCBmLCBmLmYsIGYudSwgLWYuYyAtIDIsIGwsIGYubyk7XG4gICAgICAgICAgICBidCArPSA0NiArIGYuZi5sZW5ndGggKyBleGZsKGYuZXh0cmEpICsgKGYubyA/IGYuby5sZW5ndGggOiAwKSwgbCArPSBmLmI7XG4gICAgICAgIH1cbiAgICAgICAgd3pmKG91dCwgYnQsIHRoaXMudS5sZW5ndGgsIHRsLCBsKTtcbiAgICAgICAgdGhpcy5vbmRhdGEobnVsbCwgb3V0LCB0cnVlKTtcbiAgICAgICAgdGhpcy5kID0gMjtcbiAgICB9O1xuICAgIC8qKlxuICAgICAqIEEgbWV0aG9kIHRvIHRlcm1pbmF0ZSBhbnkgaW50ZXJuYWwgd29ya2VycyB1c2VkIGJ5IHRoZSBzdHJlYW0uIFN1YnNlcXVlbnRcbiAgICAgKiBjYWxscyB0byBhZGQoKSB3aWxsIGZhaWwuXG4gICAgICovXG4gICAgWmlwLnByb3RvdHlwZS50ZXJtaW5hdGUgPSBmdW5jdGlvbiAoKSB7XG4gICAgICAgIGZvciAodmFyIF9pID0gMCwgX2EgPSB0aGlzLnU7IF9pIDwgX2EubGVuZ3RoOyBfaSsrKSB7XG4gICAgICAgICAgICB2YXIgZiA9IF9hW19pXTtcbiAgICAgICAgICAgIGYudCgpO1xuICAgICAgICB9XG4gICAgICAgIHRoaXMuZCA9IDI7XG4gICAgfTtcbiAgICByZXR1cm4gWmlwO1xufSgpKTtcbmV4cG9ydCB7IFppcCB9O1xuZXhwb3J0IGZ1bmN0aW9uIHppcChkYXRhLCBvcHRzLCBjYikge1xuICAgIGlmICghY2IpXG4gICAgICAgIGNiID0gb3B0cywgb3B0cyA9IHt9O1xuICAgIGlmICh0eXBlb2YgY2IgIT0gJ2Z1bmN0aW9uJylcbiAgICAgICAgZXJyKDcpO1xuICAgIHZhciByID0ge307XG4gICAgZmx0bihkYXRhLCAnJywgciwgb3B0cyk7XG4gICAgdmFyIGsgPSBPYmplY3Qua2V5cyhyKTtcbiAgICB2YXIgbGZ0ID0gay5sZW5ndGgsIG8gPSAwLCB0b3QgPSAwO1xuICAgIHZhciBzbGZ0ID0gbGZ0LCBmaWxlcyA9IG5ldyBBcnJheShsZnQpO1xuICAgIHZhciB0ZXJtID0gW107XG4gICAgdmFyIHRBbGwgPSBmdW5jdGlvbiAoKSB7XG4gICAgICAgIGZvciAodmFyIGkgPSAwOyBpIDwgdGVybS5sZW5ndGg7ICsraSlcbiAgICAgICAgICAgIHRlcm1baV0oKTtcbiAgICB9O1xuICAgIHZhciBjYmQgPSBmdW5jdGlvbiAoYSwgYikge1xuICAgICAgICBtdChmdW5jdGlvbiAoKSB7IGNiKGEsIGIpOyB9KTtcbiAgICB9O1xuICAgIG10KGZ1bmN0aW9uICgpIHsgY2JkID0gY2I7IH0pO1xuICAgIHZhciBjYmYgPSBmdW5jdGlvbiAoKSB7XG4gICAgICAgIHZhciBvdXQgPSBuZXcgdTgodG90ICsgMjIpLCBvZSA9IG8sIGNkbCA9IHRvdCAtIG87XG4gICAgICAgIHRvdCA9IDA7XG4gICAgICAgIGZvciAodmFyIGkgPSAwOyBpIDwgc2xmdDsgKytpKSB7XG4gICAgICAgICAgICB2YXIgZiA9IGZpbGVzW2ldO1xuICAgICAgICAgICAgdHJ5IHtcbiAgICAgICAgICAgICAgICB2YXIgbCA9IGYuYy5sZW5ndGg7XG4gICAgICAgICAgICAgICAgd3poKG91dCwgdG90LCBmLCBmLmYsIGYudSwgbCk7XG4gICAgICAgICAgICAgICAgdmFyIGJhZGQgPSAzMCArIGYuZi5sZW5ndGggKyBleGZsKGYuZXh0cmEpO1xuICAgICAgICAgICAgICAgIHZhciBsb2MgPSB0b3QgKyBiYWRkO1xuICAgICAgICAgICAgICAgIG91dC5zZXQoZi5jLCBsb2MpO1xuICAgICAgICAgICAgICAgIHd6aChvdXQsIG8sIGYsIGYuZiwgZi51LCBsLCB0b3QsIGYubSksIG8gKz0gMTYgKyBiYWRkICsgKGYubSA/IGYubS5sZW5ndGggOiAwKSwgdG90ID0gbG9jICsgbDtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGNhdGNoIChlKSB7XG4gICAgICAgICAgICAgICAgcmV0dXJuIGNiZChlLCBudWxsKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgICB3emYob3V0LCBvLCBmaWxlcy5sZW5ndGgsIGNkbCwgb2UpO1xuICAgICAgICBjYmQobnVsbCwgb3V0KTtcbiAgICB9O1xuICAgIGlmICghbGZ0KVxuICAgICAgICBjYmYoKTtcbiAgICB2YXIgX2xvb3BfMSA9IGZ1bmN0aW9uIChpKSB7XG4gICAgICAgIHZhciBmbiA9IGtbaV07XG4gICAgICAgIHZhciBfYSA9IHJbZm5dLCBmaWxlID0gX2FbMF0sIHAgPSBfYVsxXTtcbiAgICAgICAgdmFyIGMgPSBjcmMoKSwgc2l6ZSA9IGZpbGUubGVuZ3RoO1xuICAgICAgICBjLnAoZmlsZSk7XG4gICAgICAgIHZhciBmID0gc3RyVG9VOChmbiksIHMgPSBmLmxlbmd0aDtcbiAgICAgICAgdmFyIGNvbSA9IHAuY29tbWVudCwgbSA9IGNvbSAmJiBzdHJUb1U4KGNvbSksIG1zID0gbSAmJiBtLmxlbmd0aDtcbiAgICAgICAgdmFyIGV4bCA9IGV4ZmwocC5leHRyYSk7XG4gICAgICAgIHZhciBjb21wcmVzc2lvbiA9IHAubGV2ZWwgPT0gMCA/IDAgOiA4O1xuICAgICAgICB2YXIgY2JsID0gZnVuY3Rpb24gKGUsIGQpIHtcbiAgICAgICAgICAgIGlmIChlKSB7XG4gICAgICAgICAgICAgICAgdEFsbCgpO1xuICAgICAgICAgICAgICAgIGNiZChlLCBudWxsKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGVsc2Uge1xuICAgICAgICAgICAgICAgIHZhciBsID0gZC5sZW5ndGg7XG4gICAgICAgICAgICAgICAgZmlsZXNbaV0gPSBtcmcocCwge1xuICAgICAgICAgICAgICAgICAgICBzaXplOiBzaXplLFxuICAgICAgICAgICAgICAgICAgICBjcmM6IGMuZCgpLFxuICAgICAgICAgICAgICAgICAgICBjOiBkLFxuICAgICAgICAgICAgICAgICAgICBmOiBmLFxuICAgICAgICAgICAgICAgICAgICBtOiBtLFxuICAgICAgICAgICAgICAgICAgICB1OiBzICE9IGZuLmxlbmd0aCB8fCAobSAmJiAoY29tLmxlbmd0aCAhPSBtcykpLFxuICAgICAgICAgICAgICAgICAgICBjb21wcmVzc2lvbjogY29tcHJlc3Npb25cbiAgICAgICAgICAgICAgICB9KTtcbiAgICAgICAgICAgICAgICBvICs9IDMwICsgcyArIGV4bCArIGw7XG4gICAgICAgICAgICAgICAgdG90ICs9IDc2ICsgMiAqIChzICsgZXhsKSArIChtcyB8fCAwKSArIGw7XG4gICAgICAgICAgICAgICAgaWYgKCEtLWxmdClcbiAgICAgICAgICAgICAgICAgICAgY2JmKCk7XG4gICAgICAgICAgICB9XG4gICAgICAgIH07XG4gICAgICAgIGlmIChzID4gNjU1MzUpXG4gICAgICAgICAgICBjYmwoZXJyKDExLCAwLCAxKSwgbnVsbCk7XG4gICAgICAgIGlmICghY29tcHJlc3Npb24pXG4gICAgICAgICAgICBjYmwobnVsbCwgZmlsZSk7XG4gICAgICAgIGVsc2UgaWYgKHNpemUgPCAxNjAwMDApIHtcbiAgICAgICAgICAgIHRyeSB7XG4gICAgICAgICAgICAgICAgY2JsKG51bGwsIGRlZmxhdGVTeW5jKGZpbGUsIHApKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGNhdGNoIChlKSB7XG4gICAgICAgICAgICAgICAgY2JsKGUsIG51bGwpO1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICAgIGVsc2VcbiAgICAgICAgICAgIHRlcm0ucHVzaChkZWZsYXRlKGZpbGUsIHAsIGNibCkpO1xuICAgIH07XG4gICAgLy8gQ2Fubm90IHVzZSBsZnQgYmVjYXVzZSBpdCBjYW4gZGVjcmVhc2VcbiAgICBmb3IgKHZhciBpID0gMDsgaSA8IHNsZnQ7ICsraSkge1xuICAgICAgICBfbG9vcF8xKGkpO1xuICAgIH1cbiAgICByZXR1cm4gdEFsbDtcbn1cbi8qKlxuICogU3luY2hyb25vdXNseSBjcmVhdGVzIGEgWklQIGZpbGUuIFByZWZlciB1c2luZyBgemlwYCBmb3IgYmV0dGVyIHBlcmZvcm1hbmNlXG4gKiB3aXRoIG1vcmUgdGhhbiBvbmUgZmlsZS5cbiAqIEBwYXJhbSBkYXRhIFRoZSBkaXJlY3Rvcnkgc3RydWN0dXJlIGZvciB0aGUgWklQIGFyY2hpdmVcbiAqIEBwYXJhbSBvcHRzIFRoZSBtYWluIG9wdGlvbnMsIG1lcmdlZCB3aXRoIHBlci1maWxlIG9wdGlvbnNcbiAqIEByZXR1cm5zIFRoZSBnZW5lcmF0ZWQgWklQIGFyY2hpdmVcbiAqL1xuZXhwb3J0IGZ1bmN0aW9uIHppcFN5bmMoZGF0YSwgb3B0cykge1xuICAgIGlmICghb3B0cylcbiAgICAgICAgb3B0cyA9IHt9O1xuICAgIHZhciByID0ge307XG4gICAgdmFyIGZpbGVzID0gW107XG4gICAgZmx0bihkYXRhLCAnJywgciwgb3B0cyk7XG4gICAgdmFyIG8gPSAwO1xuICAgIHZhciB0b3QgPSAwO1xuICAgIGZvciAodmFyIGZuIGluIHIpIHtcbiAgICAgICAgdmFyIF9hID0gcltmbl0sIGZpbGUgPSBfYVswXSwgcCA9IF9hWzFdO1xuICAgICAgICB2YXIgY29tcHJlc3Npb24gPSBwLmxldmVsID09IDAgPyAwIDogODtcbiAgICAgICAgdmFyIGYgPSBzdHJUb1U4KGZuKSwgcyA9IGYubGVuZ3RoO1xuICAgICAgICB2YXIgY29tID0gcC5jb21tZW50LCBtID0gY29tICYmIHN0clRvVTgoY29tKSwgbXMgPSBtICYmIG0ubGVuZ3RoO1xuICAgICAgICB2YXIgZXhsID0gZXhmbChwLmV4dHJhKTtcbiAgICAgICAgaWYgKHMgPiA2NTUzNSlcbiAgICAgICAgICAgIGVycigxMSk7XG4gICAgICAgIHZhciBkID0gY29tcHJlc3Npb24gPyBkZWZsYXRlU3luYyhmaWxlLCBwKSA6IGZpbGUsIGwgPSBkLmxlbmd0aDtcbiAgICAgICAgdmFyIGMgPSBjcmMoKTtcbiAgICAgICAgYy5wKGZpbGUpO1xuICAgICAgICBmaWxlcy5wdXNoKG1yZyhwLCB7XG4gICAgICAgICAgICBzaXplOiBmaWxlLmxlbmd0aCxcbiAgICAgICAgICAgIGNyYzogYy5kKCksXG4gICAgICAgICAgICBjOiBkLFxuICAgICAgICAgICAgZjogZixcbiAgICAgICAgICAgIG06IG0sXG4gICAgICAgICAgICB1OiBzICE9IGZuLmxlbmd0aCB8fCAobSAmJiAoY29tLmxlbmd0aCAhPSBtcykpLFxuICAgICAgICAgICAgbzogbyxcbiAgICAgICAgICAgIGNvbXByZXNzaW9uOiBjb21wcmVzc2lvblxuICAgICAgICB9KSk7XG4gICAgICAgIG8gKz0gMzAgKyBzICsgZXhsICsgbDtcbiAgICAgICAgdG90ICs9IDc2ICsgMiAqIChzICsgZXhsKSArIChtcyB8fCAwKSArIGw7XG4gICAgfVxuICAgIHZhciBvdXQgPSBuZXcgdTgodG90ICsgMjIpLCBvZSA9IG8sIGNkbCA9IHRvdCAtIG87XG4gICAgZm9yICh2YXIgaSA9IDA7IGkgPCBmaWxlcy5sZW5ndGg7ICsraSkge1xuICAgICAgICB2YXIgZiA9IGZpbGVzW2ldO1xuICAgICAgICB3emgob3V0LCBmLm8sIGYsIGYuZiwgZi51LCBmLmMubGVuZ3RoKTtcbiAgICAgICAgdmFyIGJhZGQgPSAzMCArIGYuZi5sZW5ndGggKyBleGZsKGYuZXh0cmEpO1xuICAgICAgICBvdXQuc2V0KGYuYywgZi5vICsgYmFkZCk7XG4gICAgICAgIHd6aChvdXQsIG8sIGYsIGYuZiwgZi51LCBmLmMubGVuZ3RoLCBmLm8sIGYubSksIG8gKz0gMTYgKyBiYWRkICsgKGYubSA/IGYubS5sZW5ndGggOiAwKTtcbiAgICB9XG4gICAgd3pmKG91dCwgbywgZmlsZXMubGVuZ3RoLCBjZGwsIG9lKTtcbiAgICByZXR1cm4gb3V0O1xufVxuLyoqXG4gKiBTdHJlYW1pbmcgcGFzcy10aHJvdWdoIGRlY29tcHJlc3Npb24gZm9yIFpJUCBhcmNoaXZlc1xuICovXG52YXIgVW56aXBQYXNzVGhyb3VnaCA9IC8qI19fUFVSRV9fKi8gKGZ1bmN0aW9uICgpIHtcbiAgICBmdW5jdGlvbiBVbnppcFBhc3NUaHJvdWdoKCkge1xuICAgIH1cbiAgICBVbnppcFBhc3NUaHJvdWdoLnByb3RvdHlwZS5wdXNoID0gZnVuY3Rpb24gKGRhdGEsIGZpbmFsKSB7XG4gICAgICAgIHRoaXMub25kYXRhKG51bGwsIGRhdGEsIGZpbmFsKTtcbiAgICB9O1xuICAgIFVuemlwUGFzc1Rocm91Z2guY29tcHJlc3Npb24gPSAwO1xuICAgIHJldHVybiBVbnppcFBhc3NUaHJvdWdoO1xufSgpKTtcbmV4cG9ydCB7IFVuemlwUGFzc1Rocm91Z2ggfTtcbi8qKlxuICogU3RyZWFtaW5nIERFRkxBVEUgZGVjb21wcmVzc2lvbiBmb3IgWklQIGFyY2hpdmVzLiBQcmVmZXIgQXN5bmNaaXBJbmZsYXRlIGZvclxuICogYmV0dGVyIHBlcmZvcm1hbmNlLlxuICovXG52YXIgVW56aXBJbmZsYXRlID0gLyojX19QVVJFX18qLyAoZnVuY3Rpb24gKCkge1xuICAgIC8qKlxuICAgICAqIENyZWF0ZXMgYSBERUZMQVRFIGRlY29tcHJlc3Npb24gdGhhdCBjYW4gYmUgdXNlZCBpbiBaSVAgYXJjaGl2ZXNcbiAgICAgKi9cbiAgICBmdW5jdGlvbiBVbnppcEluZmxhdGUoKSB7XG4gICAgICAgIHZhciBfdGhpc18xID0gdGhpcztcbiAgICAgICAgdGhpcy5pID0gbmV3IEluZmxhdGUoZnVuY3Rpb24gKGRhdCwgZmluYWwpIHtcbiAgICAgICAgICAgIF90aGlzXzEub25kYXRhKG51bGwsIGRhdCwgZmluYWwpO1xuICAgICAgICB9KTtcbiAgICB9XG4gICAgVW56aXBJbmZsYXRlLnByb3RvdHlwZS5wdXNoID0gZnVuY3Rpb24gKGRhdGEsIGZpbmFsKSB7XG4gICAgICAgIHRyeSB7XG4gICAgICAgICAgICB0aGlzLmkucHVzaChkYXRhLCBmaW5hbCk7XG4gICAgICAgIH1cbiAgICAgICAgY2F0Y2ggKGUpIHtcbiAgICAgICAgICAgIHRoaXMub25kYXRhKGUsIG51bGwsIGZpbmFsKTtcbiAgICAgICAgfVxuICAgIH07XG4gICAgVW56aXBJbmZsYXRlLmNvbXByZXNzaW9uID0gODtcbiAgICByZXR1cm4gVW56aXBJbmZsYXRlO1xufSgpKTtcbmV4cG9ydCB7IFVuemlwSW5mbGF0ZSB9O1xuLyoqXG4gKiBBc3luY2hyb25vdXMgc3RyZWFtaW5nIERFRkxBVEUgZGVjb21wcmVzc2lvbiBmb3IgWklQIGFyY2hpdmVzXG4gKi9cbnZhciBBc3luY1VuemlwSW5mbGF0ZSA9IC8qI19fUFVSRV9fKi8gKGZ1bmN0aW9uICgpIHtcbiAgICAvKipcbiAgICAgKiBDcmVhdGVzIGEgREVGTEFURSBkZWNvbXByZXNzaW9uIHRoYXQgY2FuIGJlIHVzZWQgaW4gWklQIGFyY2hpdmVzXG4gICAgICovXG4gICAgZnVuY3Rpb24gQXN5bmNVbnppcEluZmxhdGUoXywgc3opIHtcbiAgICAgICAgdmFyIF90aGlzXzEgPSB0aGlzO1xuICAgICAgICBpZiAoc3ogPCAzMjAwMDApIHtcbiAgICAgICAgICAgIHRoaXMuaSA9IG5ldyBJbmZsYXRlKGZ1bmN0aW9uIChkYXQsIGZpbmFsKSB7XG4gICAgICAgICAgICAgICAgX3RoaXNfMS5vbmRhdGEobnVsbCwgZGF0LCBmaW5hbCk7XG4gICAgICAgICAgICB9KTtcbiAgICAgICAgfVxuICAgICAgICBlbHNlIHtcbiAgICAgICAgICAgIHRoaXMuaSA9IG5ldyBBc3luY0luZmxhdGUoZnVuY3Rpb24gKGVyciwgZGF0LCBmaW5hbCkge1xuICAgICAgICAgICAgICAgIF90aGlzXzEub25kYXRhKGVyciwgZGF0LCBmaW5hbCk7XG4gICAgICAgICAgICB9KTtcbiAgICAgICAgICAgIHRoaXMudGVybWluYXRlID0gdGhpcy5pLnRlcm1pbmF0ZTtcbiAgICAgICAgfVxuICAgIH1cbiAgICBBc3luY1VuemlwSW5mbGF0ZS5wcm90b3R5cGUucHVzaCA9IGZ1bmN0aW9uIChkYXRhLCBmaW5hbCkge1xuICAgICAgICBpZiAodGhpcy5pLnRlcm1pbmF0ZSlcbiAgICAgICAgICAgIGRhdGEgPSBzbGMoZGF0YSwgMCk7XG4gICAgICAgIHRoaXMuaS5wdXNoKGRhdGEsIGZpbmFsKTtcbiAgICB9O1xuICAgIEFzeW5jVW56aXBJbmZsYXRlLmNvbXByZXNzaW9uID0gODtcbiAgICByZXR1cm4gQXN5bmNVbnppcEluZmxhdGU7XG59KCkpO1xuZXhwb3J0IHsgQXN5bmNVbnppcEluZmxhdGUgfTtcbi8qKlxuICogQSBaSVAgYXJjaGl2ZSBkZWNvbXByZXNzaW9uIHN0cmVhbSB0aGF0IGVtaXRzIGZpbGVzIGFzIHRoZXkgYXJlIGRpc2NvdmVyZWRcbiAqL1xudmFyIFVuemlwID0gLyojX19QVVJFX18qLyAoZnVuY3Rpb24gKCkge1xuICAgIC8qKlxuICAgICAqIENyZWF0ZXMgYSBaSVAgZGVjb21wcmVzc2lvbiBzdHJlYW1cbiAgICAgKiBAcGFyYW0gY2IgVGhlIGNhbGxiYWNrIHRvIGNhbGwgd2hlbmV2ZXIgYSBmaWxlIGluIHRoZSBaSVAgYXJjaGl2ZSBpcyBmb3VuZFxuICAgICAqL1xuICAgIGZ1bmN0aW9uIFVuemlwKGNiKSB7XG4gICAgICAgIHRoaXMub25maWxlID0gY2I7XG4gICAgICAgIHRoaXMuayA9IFtdO1xuICAgICAgICB0aGlzLm8gPSB7XG4gICAgICAgICAgICAwOiBVbnppcFBhc3NUaHJvdWdoXG4gICAgICAgIH07XG4gICAgICAgIHRoaXMucCA9IGV0O1xuICAgIH1cbiAgICAvKipcbiAgICAgKiBQdXNoZXMgYSBjaHVuayB0byBiZSB1bnppcHBlZFxuICAgICAqIEBwYXJhbSBjaHVuayBUaGUgY2h1bmsgdG8gcHVzaFxuICAgICAqIEBwYXJhbSBmaW5hbCBXaGV0aGVyIHRoaXMgaXMgdGhlIGxhc3QgY2h1bmtcbiAgICAgKi9cbiAgICBVbnppcC5wcm90b3R5cGUucHVzaCA9IGZ1bmN0aW9uIChjaHVuaywgZmluYWwpIHtcbiAgICAgICAgdmFyIF90aGlzXzEgPSB0aGlzO1xuICAgICAgICBpZiAoIXRoaXMub25maWxlKVxuICAgICAgICAgICAgZXJyKDUpO1xuICAgICAgICBpZiAoIXRoaXMucClcbiAgICAgICAgICAgIGVycig0KTtcbiAgICAgICAgaWYgKHRoaXMuYyA+IDApIHtcbiAgICAgICAgICAgIHZhciBsZW4gPSBNYXRoLm1pbih0aGlzLmMsIGNodW5rLmxlbmd0aCk7XG4gICAgICAgICAgICB2YXIgdG9BZGQgPSBjaHVuay5zdWJhcnJheSgwLCBsZW4pO1xuICAgICAgICAgICAgdGhpcy5jIC09IGxlbjtcbiAgICAgICAgICAgIGlmICh0aGlzLmQpXG4gICAgICAgICAgICAgICAgdGhpcy5kLnB1c2godG9BZGQsICF0aGlzLmMpO1xuICAgICAgICAgICAgZWxzZVxuICAgICAgICAgICAgICAgIHRoaXMua1swXS5wdXNoKHRvQWRkKTtcbiAgICAgICAgICAgIGNodW5rID0gY2h1bmsuc3ViYXJyYXkobGVuKTtcbiAgICAgICAgICAgIGlmIChjaHVuay5sZW5ndGgpXG4gICAgICAgICAgICAgICAgcmV0dXJuIHRoaXMucHVzaChjaHVuaywgZmluYWwpO1xuICAgICAgICB9XG4gICAgICAgIGVsc2Uge1xuICAgICAgICAgICAgdmFyIGYgPSAwLCBpID0gMCwgaXMgPSB2b2lkIDAsIGJ1ZiA9IHZvaWQgMDtcbiAgICAgICAgICAgIGlmICghdGhpcy5wLmxlbmd0aClcbiAgICAgICAgICAgICAgICBidWYgPSBjaHVuaztcbiAgICAgICAgICAgIGVsc2UgaWYgKCFjaHVuay5sZW5ndGgpXG4gICAgICAgICAgICAgICAgYnVmID0gdGhpcy5wO1xuICAgICAgICAgICAgZWxzZSB7XG4gICAgICAgICAgICAgICAgYnVmID0gbmV3IHU4KHRoaXMucC5sZW5ndGggKyBjaHVuay5sZW5ndGgpO1xuICAgICAgICAgICAgICAgIGJ1Zi5zZXQodGhpcy5wKSwgYnVmLnNldChjaHVuaywgdGhpcy5wLmxlbmd0aCk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICB2YXIgbCA9IGJ1Zi5sZW5ndGgsIG9jID0gdGhpcy5jLCBhZGQgPSBvYyAmJiB0aGlzLmQ7XG4gICAgICAgICAgICB2YXIgX2xvb3BfMiA9IGZ1bmN0aW9uICgpIHtcbiAgICAgICAgICAgICAgICB2YXIgX2E7XG4gICAgICAgICAgICAgICAgdmFyIHNpZyA9IGI0KGJ1ZiwgaSk7XG4gICAgICAgICAgICAgICAgaWYgKHNpZyA9PSAweDQwMzRCNTApIHtcbiAgICAgICAgICAgICAgICAgICAgZiA9IDEsIGlzID0gaTtcbiAgICAgICAgICAgICAgICAgICAgdGhpc18xLmQgPSBudWxsO1xuICAgICAgICAgICAgICAgICAgICB0aGlzXzEuYyA9IDA7XG4gICAgICAgICAgICAgICAgICAgIHZhciBiZiA9IGIyKGJ1ZiwgaSArIDYpLCBjbXBfMSA9IGIyKGJ1ZiwgaSArIDgpLCB1ID0gYmYgJiAyMDQ4LCBkZCA9IGJmICYgOCwgZm5sID0gYjIoYnVmLCBpICsgMjYpLCBlcyA9IGIyKGJ1ZiwgaSArIDI4KTtcbiAgICAgICAgICAgICAgICAgICAgaWYgKGwgPiBpICsgMzAgKyBmbmwgKyBlcykge1xuICAgICAgICAgICAgICAgICAgICAgICAgdmFyIGNoa3NfMyA9IFtdO1xuICAgICAgICAgICAgICAgICAgICAgICAgdGhpc18xLmsudW5zaGlmdChjaGtzXzMpO1xuICAgICAgICAgICAgICAgICAgICAgICAgZiA9IDI7XG4gICAgICAgICAgICAgICAgICAgICAgICB2YXIgc2NfMSA9IGI0KGJ1ZiwgaSArIDE4KSwgc3VfMSA9IGI0KGJ1ZiwgaSArIDIyKTtcbiAgICAgICAgICAgICAgICAgICAgICAgIHZhciBmbl8xID0gc3RyRnJvbVU4KGJ1Zi5zdWJhcnJheShpICsgMzAsIGkgKz0gMzAgKyBmbmwpLCAhdSk7XG4gICAgICAgICAgICAgICAgICAgICAgICBpZiAoc2NfMSA9PSA0Mjk0OTY3Mjk1KSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgX2EgPSBkZCA/IFstMl0gOiB6NjRlKGJ1ZiwgaSksIHNjXzEgPSBfYVswXSwgc3VfMSA9IF9hWzFdO1xuICAgICAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICAgICAgZWxzZSBpZiAoZGQpXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgc2NfMSA9IC0xO1xuICAgICAgICAgICAgICAgICAgICAgICAgaSArPSBlcztcbiAgICAgICAgICAgICAgICAgICAgICAgIHRoaXNfMS5jID0gc2NfMTtcbiAgICAgICAgICAgICAgICAgICAgICAgIHZhciBkXzE7XG4gICAgICAgICAgICAgICAgICAgICAgICB2YXIgZmlsZV8xID0ge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIG5hbWU6IGZuXzEsXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgY29tcHJlc3Npb246IGNtcF8xLFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHN0YXJ0OiBmdW5jdGlvbiAoKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGlmICghZmlsZV8xLm9uZGF0YSlcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGVycig1KTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgaWYgKCFzY18xKVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgZmlsZV8xLm9uZGF0YShudWxsLCBldCwgdHJ1ZSk7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGVsc2Uge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgdmFyIGN0ciA9IF90aGlzXzEub1tjbXBfMV07XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBpZiAoIWN0cilcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBmaWxlXzEub25kYXRhKGVycigxNCwgJ3Vua25vd24gY29tcHJlc3Npb24gdHlwZSAnICsgY21wXzEsIDEpLCBudWxsLCBmYWxzZSk7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBkXzEgPSBzY18xIDwgMCA/IG5ldyBjdHIoZm5fMSkgOiBuZXcgY3RyKGZuXzEsIHNjXzEsIHN1XzEpO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgZF8xLm9uZGF0YSA9IGZ1bmN0aW9uIChlcnIsIGRhdCwgZmluYWwpIHsgZmlsZV8xLm9uZGF0YShlcnIsIGRhdCwgZmluYWwpOyB9O1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgZm9yICh2YXIgX2kgPSAwLCBjaGtzXzQgPSBjaGtzXzM7IF9pIDwgY2hrc180Lmxlbmd0aDsgX2krKykge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHZhciBkYXQgPSBjaGtzXzRbX2ldO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGRfMS5wdXNoKGRhdCwgZmFsc2UpO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgaWYgKF90aGlzXzEua1swXSA9PSBjaGtzXzMgJiYgX3RoaXNfMS5jKVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIF90aGlzXzEuZCA9IGRfMTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGVsc2VcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBkXzEucHVzaChldCwgdHJ1ZSk7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB9LFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHRlcm1pbmF0ZTogZnVuY3Rpb24gKCkge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBpZiAoZF8xICYmIGRfMS50ZXJtaW5hdGUpXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBkXzEudGVybWluYXRlKCk7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICAgICAgfTtcbiAgICAgICAgICAgICAgICAgICAgICAgIGlmIChzY18xID49IDApXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgZmlsZV8xLnNpemUgPSBzY18xLCBmaWxlXzEub3JpZ2luYWxTaXplID0gc3VfMTtcbiAgICAgICAgICAgICAgICAgICAgICAgIHRoaXNfMS5vbmZpbGUoZmlsZV8xKTtcbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICByZXR1cm4gXCJicmVha1wiO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICBlbHNlIGlmIChvYykge1xuICAgICAgICAgICAgICAgICAgICBpZiAoc2lnID09IDB4ODA3NEI1MCkge1xuICAgICAgICAgICAgICAgICAgICAgICAgaXMgPSBpICs9IDEyICsgKG9jID09IC0yICYmIDgpLCBmID0gMywgdGhpc18xLmMgPSAwO1xuICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuIFwiYnJlYWtcIjtcbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICBlbHNlIGlmIChzaWcgPT0gMHgyMDE0QjUwKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICBpcyA9IGkgLT0gNCwgZiA9IDMsIHRoaXNfMS5jID0gMDtcbiAgICAgICAgICAgICAgICAgICAgICAgIHJldHVybiBcImJyZWFrXCI7XG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9O1xuICAgICAgICAgICAgdmFyIHRoaXNfMSA9IHRoaXM7XG4gICAgICAgICAgICBmb3IgKDsgaSA8IGwgLSA0OyArK2kpIHtcbiAgICAgICAgICAgICAgICB2YXIgc3RhdGVfMSA9IF9sb29wXzIoKTtcbiAgICAgICAgICAgICAgICBpZiAoc3RhdGVfMSA9PT0gXCJicmVha1wiKVxuICAgICAgICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIHRoaXMucCA9IGV0O1xuICAgICAgICAgICAgaWYgKG9jIDwgMCkge1xuICAgICAgICAgICAgICAgIHZhciBkYXQgPSBmID8gYnVmLnN1YmFycmF5KDAsIGlzIC0gMTIgLSAob2MgPT0gLTIgJiYgOCkgLSAoYjQoYnVmLCBpcyAtIDE2KSA9PSAweDgwNzRCNTAgJiYgNCkpIDogYnVmLnN1YmFycmF5KDAsIGkpO1xuICAgICAgICAgICAgICAgIGlmIChhZGQpXG4gICAgICAgICAgICAgICAgICAgIGFkZC5wdXNoKGRhdCwgISFmKTtcbiAgICAgICAgICAgICAgICBlbHNlXG4gICAgICAgICAgICAgICAgICAgIHRoaXMua1srKGYgPT0gMildLnB1c2goZGF0KTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGlmIChmICYgMilcbiAgICAgICAgICAgICAgICByZXR1cm4gdGhpcy5wdXNoKGJ1Zi5zdWJhcnJheShpKSwgZmluYWwpO1xuICAgICAgICAgICAgdGhpcy5wID0gYnVmLnN1YmFycmF5KGkpO1xuICAgICAgICB9XG4gICAgICAgIGlmIChmaW5hbCkge1xuICAgICAgICAgICAgaWYgKHRoaXMuYylcbiAgICAgICAgICAgICAgICBlcnIoMTMpO1xuICAgICAgICAgICAgdGhpcy5wID0gbnVsbDtcbiAgICAgICAgfVxuICAgIH07XG4gICAgLyoqXG4gICAgICogUmVnaXN0ZXJzIGEgZGVjb2RlciB3aXRoIHRoZSBzdHJlYW0sIGFsbG93aW5nIGZvciBmaWxlcyBjb21wcmVzc2VkIHdpdGhcbiAgICAgKiB0aGUgY29tcHJlc3Npb24gdHlwZSBwcm92aWRlZCB0byBiZSBleHBhbmRlZCBjb3JyZWN0bHlcbiAgICAgKiBAcGFyYW0gZGVjb2RlciBUaGUgZGVjb2RlciBjb25zdHJ1Y3RvclxuICAgICAqL1xuICAgIFVuemlwLnByb3RvdHlwZS5yZWdpc3RlciA9IGZ1bmN0aW9uIChkZWNvZGVyKSB7XG4gICAgICAgIHRoaXMub1tkZWNvZGVyLmNvbXByZXNzaW9uXSA9IGRlY29kZXI7XG4gICAgfTtcbiAgICByZXR1cm4gVW56aXA7XG59KCkpO1xuZXhwb3J0IHsgVW56aXAgfTtcbnZhciBtdCA9IHR5cGVvZiBxdWV1ZU1pY3JvdGFzayA9PSAnZnVuY3Rpb24nID8gcXVldWVNaWNyb3Rhc2sgOiB0eXBlb2Ygc2V0VGltZW91dCA9PSAnZnVuY3Rpb24nID8gc2V0VGltZW91dCA6IGZ1bmN0aW9uIChmbikgeyBmbigpOyB9O1xuZXhwb3J0IGZ1bmN0aW9uIHVuemlwKGRhdGEsIG9wdHMsIGNiKSB7XG4gICAgaWYgKCFjYilcbiAgICAgICAgY2IgPSBvcHRzLCBvcHRzID0ge307XG4gICAgaWYgKHR5cGVvZiBjYiAhPSAnZnVuY3Rpb24nKVxuICAgICAgICBlcnIoNyk7XG4gICAgdmFyIHRlcm0gPSBbXTtcbiAgICB2YXIgdEFsbCA9IGZ1bmN0aW9uICgpIHtcbiAgICAgICAgZm9yICh2YXIgaSA9IDA7IGkgPCB0ZXJtLmxlbmd0aDsgKytpKVxuICAgICAgICAgICAgdGVybVtpXSgpO1xuICAgIH07XG4gICAgdmFyIGZpbGVzID0ge307XG4gICAgdmFyIGNiZCA9IGZ1bmN0aW9uIChhLCBiKSB7XG4gICAgICAgIG10KGZ1bmN0aW9uICgpIHsgY2IoYSwgYik7IH0pO1xuICAgIH07XG4gICAgbXQoZnVuY3Rpb24gKCkgeyBjYmQgPSBjYjsgfSk7XG4gICAgdmFyIGUgPSBkYXRhLmxlbmd0aCAtIDIyO1xuICAgIGZvciAoOyBiNChkYXRhLCBlKSAhPSAweDYwNTRCNTA7IC0tZSkge1xuICAgICAgICBpZiAoIWUgfHwgZGF0YS5sZW5ndGggLSBlID4gNjU1NTgpIHtcbiAgICAgICAgICAgIGNiZChlcnIoMTMsIDAsIDEpLCBudWxsKTtcbiAgICAgICAgICAgIHJldHVybiB0QWxsO1xuICAgICAgICB9XG4gICAgfVxuICAgIDtcbiAgICB2YXIgbGZ0ID0gYjIoZGF0YSwgZSArIDgpO1xuICAgIGlmIChsZnQpIHtcbiAgICAgICAgdmFyIGMgPSBsZnQ7XG4gICAgICAgIHZhciBvID0gYjQoZGF0YSwgZSArIDE2KTtcbiAgICAgICAgdmFyIHogPSBvID09IDQyOTQ5NjcyOTUgfHwgYyA9PSA2NTUzNTtcbiAgICAgICAgaWYgKHopIHtcbiAgICAgICAgICAgIHZhciB6ZSA9IGI0KGRhdGEsIGUgLSAxMik7XG4gICAgICAgICAgICB6ID0gYjQoZGF0YSwgemUpID09IDB4NjA2NEI1MDtcbiAgICAgICAgICAgIGlmICh6KSB7XG4gICAgICAgICAgICAgICAgYyA9IGxmdCA9IGI0KGRhdGEsIHplICsgMzIpO1xuICAgICAgICAgICAgICAgIG8gPSBiNChkYXRhLCB6ZSArIDQ4KTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgICB2YXIgZmx0ciA9IG9wdHMgJiYgb3B0cy5maWx0ZXI7XG4gICAgICAgIHZhciBfbG9vcF8zID0gZnVuY3Rpb24gKGkpIHtcbiAgICAgICAgICAgIHZhciBfYSA9IHpoKGRhdGEsIG8sIHopLCBjXzEgPSBfYVswXSwgc2MgPSBfYVsxXSwgc3UgPSBfYVsyXSwgZm4gPSBfYVszXSwgbm8gPSBfYVs0XSwgb2ZmID0gX2FbNV0sIGIgPSBzbHpoKGRhdGEsIG9mZik7XG4gICAgICAgICAgICBvID0gbm87XG4gICAgICAgICAgICB2YXIgY2JsID0gZnVuY3Rpb24gKGUsIGQpIHtcbiAgICAgICAgICAgICAgICBpZiAoZSkge1xuICAgICAgICAgICAgICAgICAgICB0QWxsKCk7XG4gICAgICAgICAgICAgICAgICAgIGNiZChlLCBudWxsKTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgZWxzZSB7XG4gICAgICAgICAgICAgICAgICAgIGlmIChkKVxuICAgICAgICAgICAgICAgICAgICAgICAgZmlsZXNbZm5dID0gZDtcbiAgICAgICAgICAgICAgICAgICAgaWYgKCEtLWxmdClcbiAgICAgICAgICAgICAgICAgICAgICAgIGNiZChudWxsLCBmaWxlcyk7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfTtcbiAgICAgICAgICAgIGlmICghZmx0ciB8fCBmbHRyKHtcbiAgICAgICAgICAgICAgICBuYW1lOiBmbixcbiAgICAgICAgICAgICAgICBzaXplOiBzYyxcbiAgICAgICAgICAgICAgICBvcmlnaW5hbFNpemU6IHN1LFxuICAgICAgICAgICAgICAgIGNvbXByZXNzaW9uOiBjXzFcbiAgICAgICAgICAgIH0pKSB7XG4gICAgICAgICAgICAgICAgaWYgKCFjXzEpXG4gICAgICAgICAgICAgICAgICAgIGNibChudWxsLCBzbGMoZGF0YSwgYiwgYiArIHNjKSk7XG4gICAgICAgICAgICAgICAgZWxzZSBpZiAoY18xID09IDgpIHtcbiAgICAgICAgICAgICAgICAgICAgdmFyIGluZmwgPSBkYXRhLnN1YmFycmF5KGIsIGIgKyBzYyk7XG4gICAgICAgICAgICAgICAgICAgIGlmIChzYyA8IDMyMDAwMCkge1xuICAgICAgICAgICAgICAgICAgICAgICAgdHJ5IHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBjYmwobnVsbCwgaW5mbGF0ZVN5bmMoaW5mbCwgbmV3IHU4KHN1KSkpO1xuICAgICAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICAgICAgY2F0Y2ggKGUpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBjYmwoZSwgbnVsbCk7XG4gICAgICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgZWxzZVxuICAgICAgICAgICAgICAgICAgICAgICAgdGVybS5wdXNoKGluZmxhdGUoaW5mbCwgeyBzaXplOiBzdSB9LCBjYmwpKTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgZWxzZVxuICAgICAgICAgICAgICAgICAgICBjYmwoZXJyKDE0LCAndW5rbm93biBjb21wcmVzc2lvbiB0eXBlICcgKyBjXzEsIDEpLCBudWxsKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGVsc2VcbiAgICAgICAgICAgICAgICBjYmwobnVsbCwgbnVsbCk7XG4gICAgICAgIH07XG4gICAgICAgIGZvciAodmFyIGkgPSAwOyBpIDwgYzsgKytpKSB7XG4gICAgICAgICAgICBfbG9vcF8zKGkpO1xuICAgICAgICB9XG4gICAgfVxuICAgIGVsc2VcbiAgICAgICAgY2JkKG51bGwsIHt9KTtcbiAgICByZXR1cm4gdEFsbDtcbn1cbi8qKlxuICogU3luY2hyb25vdXNseSBkZWNvbXByZXNzZXMgYSBaSVAgYXJjaGl2ZS4gUHJlZmVyIHVzaW5nIGB1bnppcGAgZm9yIGJldHRlclxuICogcGVyZm9ybWFuY2Ugd2l0aCBtb3JlIHRoYW4gb25lIGZpbGUuXG4gKiBAcGFyYW0gZGF0YSBUaGUgcmF3IGNvbXByZXNzZWQgWklQIGZpbGVcbiAqIEBwYXJhbSBvcHRzIFRoZSBaSVAgZXh0cmFjdGlvbiBvcHRpb25zXG4gKiBAcmV0dXJucyBUaGUgZGVjb21wcmVzc2VkIGZpbGVzXG4gKi9cbmV4cG9ydCBmdW5jdGlvbiB1bnppcFN5bmMoZGF0YSwgb3B0cykge1xuICAgIHZhciBmaWxlcyA9IHt9O1xuICAgIHZhciBlID0gZGF0YS5sZW5ndGggLSAyMjtcbiAgICBmb3IgKDsgYjQoZGF0YSwgZSkgIT0gMHg2MDU0QjUwOyAtLWUpIHtcbiAgICAgICAgaWYgKCFlIHx8IGRhdGEubGVuZ3RoIC0gZSA+IDY1NTU4KVxuICAgICAgICAgICAgZXJyKDEzKTtcbiAgICB9XG4gICAgO1xuICAgIHZhciBjID0gYjIoZGF0YSwgZSArIDgpO1xuICAgIGlmICghYylcbiAgICAgICAgcmV0dXJuIHt9O1xuICAgIHZhciBvID0gYjQoZGF0YSwgZSArIDE2KTtcbiAgICB2YXIgeiA9IG8gPT0gNDI5NDk2NzI5NSB8fCBjID09IDY1NTM1O1xuICAgIGlmICh6KSB7XG4gICAgICAgIHZhciB6ZSA9IGI0KGRhdGEsIGUgLSAxMik7XG4gICAgICAgIHogPSBiNChkYXRhLCB6ZSkgPT0gMHg2MDY0QjUwO1xuICAgICAgICBpZiAoeikge1xuICAgICAgICAgICAgYyA9IGI0KGRhdGEsIHplICsgMzIpO1xuICAgICAgICAgICAgbyA9IGI0KGRhdGEsIHplICsgNDgpO1xuICAgICAgICB9XG4gICAgfVxuICAgIHZhciBmbHRyID0gb3B0cyAmJiBvcHRzLmZpbHRlcjtcbiAgICBmb3IgKHZhciBpID0gMDsgaSA8IGM7ICsraSkge1xuICAgICAgICB2YXIgX2EgPSB6aChkYXRhLCBvLCB6KSwgY18yID0gX2FbMF0sIHNjID0gX2FbMV0sIHN1ID0gX2FbMl0sIGZuID0gX2FbM10sIG5vID0gX2FbNF0sIG9mZiA9IF9hWzVdLCBiID0gc2x6aChkYXRhLCBvZmYpO1xuICAgICAgICBvID0gbm87XG4gICAgICAgIGlmICghZmx0ciB8fCBmbHRyKHtcbiAgICAgICAgICAgIG5hbWU6IGZuLFxuICAgICAgICAgICAgc2l6ZTogc2MsXG4gICAgICAgICAgICBvcmlnaW5hbFNpemU6IHN1LFxuICAgICAgICAgICAgY29tcHJlc3Npb246IGNfMlxuICAgICAgICB9KSkge1xuICAgICAgICAgICAgaWYgKCFjXzIpXG4gICAgICAgICAgICAgICAgZmlsZXNbZm5dID0gc2xjKGRhdGEsIGIsIGIgKyBzYyk7XG4gICAgICAgICAgICBlbHNlIGlmIChjXzIgPT0gOClcbiAgICAgICAgICAgICAgICBmaWxlc1tmbl0gPSBpbmZsYXRlU3luYyhkYXRhLnN1YmFycmF5KGIsIGIgKyBzYyksIG5ldyB1OChzdSkpO1xuICAgICAgICAgICAgZWxzZVxuICAgICAgICAgICAgICAgIGVycigxNCwgJ3Vua25vd24gY29tcHJlc3Npb24gdHlwZSAnICsgY18yKTtcbiAgICAgICAgfVxuICAgIH1cbiAgICByZXR1cm4gZmlsZXM7XG59XG4iLCAiaW1wb3J0IHsgRXhlY0NvcmUsIEV4ZWNDb3JlT3B0aW9ucyB9IGZyb20gJ3dhc2kta2VybmVsJztcbmltcG9ydCB0eXBlIHsgRHluYW1pY0xpYnJhcnkgfSBmcm9tICd3YXNpLWtlcm5lbC9saWIva2VybmVsL2JpdHMvZHlsZCc7XG5cbmltcG9ydCB7IEVudmlyb24gfSBmcm9tICd3YXNpLWtlcm5lbC9saWIva2VybmVsL2V4ZWMnO1xuXG5cbmludGVyZmFjZSBPQ2FtbENBUEkge1xuICAgIG1hbGxvYyhzejogaTMyKTogaTMyO1xuICAgIGZyZWUocDogaTMyKTogdm9pZDtcbiAgICBjYW1sX2FsbG9jX3N0cmluZyhsZW46IGkzMik6IGkzMjtcbiAgICBjYW1sX25hbWVkX3ZhbHVlKG5hbWU6IGkzMik6IGkzMjtcbiAgICBjYW1sX2NhbGxiYWNrKGNsb3N1cmU6IGkzMiwgYXJnOiBpMzIpOiBpMzI7XG59XG5cbm5hbWVzcGFjZSBPQ2FtbENBUEkge1xuICAgIGV4cG9ydCBmdW5jdGlvbiBWYWxfaW50KHY6IG51bWJlcik6IGkzMiB7IHJldHVybiAodiA8PCAyKSB8IDE7IH1cbiAgICBleHBvcnQgZnVuY3Rpb24gVmFsX2Jvb2woYjogYm9vbGVhbik6IGkzMiB7IHJldHVybiBWYWxfaW50KCtiKTsgfVxuICAgIGV4cG9ydCBmdW5jdGlvbiBJbnRfdmFsKHY6IGkzMikgeyByZXR1cm4gdiA+PiAxOyB9XG4gICAgZXhwb3J0IGZ1bmN0aW9uIEJvb2xfdmFsKHY6IGkzMikgeyByZXR1cm4gISFJbnRfdmFsKHYpOyB9XG4gICAgZXhwb3J0IGNvbnN0IFZhbF91bml0ID0gVmFsX2ludCgwKTtcbiAgICBleHBvcnQgY29uc3QgVmFsX2ZhbHNlID0gVmFsX2ludCgwKTtcbiAgICBleHBvcnQgY29uc3QgVmFsX3RydWUgPSBWYWxfaW50KDEpO1xufVxuXG50eXBlIGkzMiA9IG51bWJlcjtcblxuY2xhc3MgT0NhbWxFeGVjdXRhYmxlIGV4dGVuZHMgRXhlY0NvcmUge1xuXG4gICAgZGVjbGFyZSBvcHRzOiBPQ2FtbEV4ZWN1dGFibGVPcHRpb25zXG4gICAgYXBpOiBPQ2FtbENBUElcbiAgICBjYWxsYmFja3M6IHtbbmFtZTogc3RyaW5nXTogKGFyZzogaTMyKSA9PiBpMzJ9XG5cbiAgICBjb25zdHJ1Y3RvcihvcHRzOiBPQ2FtbEV4ZWN1dGFibGVPcHRpb25zKSB7XG4gICAgICAgIHN1cGVyKG9wdHMpO1xuICAgIH1cblxuICAgIGluaXRpYWxFbnYoKTogRW52aXJvbiB7XG4gICAgICAgIHJldHVybiB7Li4uc3VwZXIuaW5pdGlhbEVudigpLFxuICAgICAgICAgICAgJ09DQU1MRklORF9DT05GJzogJy9saWIvZmluZGxpYi5jb25mJywgJ0NPUUxJQic6ICcvbGliJ307XG4gICAgfVxuXG4gICAgYXN5bmMgcnVuKGJ5dGVjb2RlRmlsZTogc3RyaW5nLCBhcmdzOiBzdHJpbmdbXSwgY2FsbGJhY2tzOiBzdHJpbmdbXSA9IFtdKSB7XG4gICAgICAgIHZhciBiaW4gPSB0aGlzLm9wdHMuYmluRGlyIHx8ICcuLi9iaW4nO1xuXG4gICAgICAgIGZvciAobGV0IHAgb2YgdGhpcy5wcmVsb2FkcygpKVxuICAgICAgICAgICAgYXdhaXQgdGhpcy5wcm9jLmR5bGQucHJlbG9hZChwLm5hbWUsIHAudXJpLCBwLnJlbG9jKTtcblxuICAgICAgICBhd2FpdCB0aGlzLnN0YXJ0KGAke2Jpbn0vb2NhbWxydW4ud2FzbWAsXG4gICAgICAgICAgICAgICAgICAgICAgICAgWydvY2FtbHJ1bicsIGJ5dGVjb2RlRmlsZSwgLi4uYXJnc10sIHRoaXMuZW52KTtcblxuICAgICAgICB0aGlzLmFwaSA9IDxhbnk+dGhpcy53YXNtLmluc3RhbmNlLmV4cG9ydHMgYXMgT0NhbWxDQVBJO1xuICAgICAgICB0aGlzLmNhbGxiYWNrcyA9IHRoaXMuX2dldENhbGxiYWNrcyhjYWxsYmFja3MpO1xuICAgIH1cblxuICAgIHByZWxvYWRzKCkge1xuICAgICAgICB2YXIgYmluID0gdGhpcy5vcHRzLmJpbkRpciB8fCAnLi4vYmluJztcbiAgICAgICAgcmV0dXJuIFsnZGxsY2FtbHN0cicsICdkbGx1bml4JywgJ2RsbHRocmVhZHMnXS5tYXAoYiA9PiAoe1xuICAgICAgICAgICAgbmFtZTogYCR7Yn0uc29gLCB1cmk6IGAke2Jpbn0vJHtifS53YXNtYCwgcmVsb2M6IFNURExJQl9TVFVCU1tiXVxuICAgICAgICB9IGFzIHtuYW1lOiBzdHJpbmcsIHVyaTogc3RyaW5nLCByZWxvYz86IGFueX0pKTtcbiAgICB9XG5cbiAgICB0b19jYW1sX3N0cmluZyhzOiBzdHJpbmcpIHtcbiAgICAgICAgdmFyIGJ5dGVzID0gbmV3IFRleHRFbmNvZGVyKCkuZW5jb2RlKHMpLFxuICAgICAgICAgICAgYSA9IHRoaXMuYXBpLmNhbWxfYWxsb2Nfc3RyaW5nKGJ5dGVzLmxlbmd0aCk7XG4gICAgICAgIHRoaXMucHJvYy5tZW1idWYuc2V0KGJ5dGVzLCBhKTtcbiAgICAgICAgcmV0dXJuIGE7XG4gICAgfVxuXG4gICAgX2dldENhbGxiYWNrcyhuYW1lczogc3RyaW5nW10pIHtcbiAgICAgICAgdmFyIGNhbGxiYWNrczoge1tuYW1lOiBzdHJpbmddOiAoYXJnOiBpMzIpID0+IGkzMn0gPSB7fSxcbiAgICAgICAgICAgIHggPSB0aGlzLmFwaS5tYWxsb2MoTWF0aC5tYXgoLi4ubmFtZXMubWFwKHMgPT4gcy5sZW5ndGgpKSArIDEpOztcbiAgICAgICAgZm9yIChsZXQgbmFtZSBvZiBuYW1lcykge1xuICAgICAgICAgICAgdGhpcy5wcm9jLm1lbWJ1Zi53cml0ZShuYW1lICsgXCJcXDBcIiwgeCk7XG4gICAgICAgICAgICBsZXQgY2xvc3VyZV9mID0gdGhpcy5hcGkuY2FtbF9uYW1lZF92YWx1ZSh4KTtcbiAgICAgICAgICAgIGlmIChjbG9zdXJlX2YpIHtcbiAgICAgICAgICAgICAgICBjYWxsYmFja3NbbmFtZV0gPSAoYXJnOiBpMzIpID0+XG4gICAgICAgICAgICAgICAgICAgIHRoaXMuYXBpLmNhbWxfY2FsbGJhY2sodGhpcy5wcm9jLm1lbS5nZXRVaW50MzIoY2xvc3VyZV9mLCB0cnVlKSwgYXJnKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgICB0aGlzLmFwaS5mcmVlKHgpO1xuICAgICAgICByZXR1cm4gY2FsbGJhY2tzOyAgICAgXG4gICAgfVxuXG59XG5cblxuZXhwb3J0IHR5cGUgT0NhbWxFeGVjdXRhYmxlT3B0aW9ucyA9IEV4ZWNDb3JlT3B0aW9ucyAmIHtcbiAgICBiaW5EaXI/OiBzdHJpbmdcbn07XG5cblxuLyoqXG4gKiBUaGVzZSBzeW1ib2xzIGZyb20gYGRsbHVuaXhgIGFyZSBwcmVzZW50IGluIGB3YXNpLWxpYmNgLCBidXRcbiAqIHVuZm9ydHVuYXRlbHkgbm90IGxpbmtlZCBpbnRvIGBvY2FtbHJ1bmAsIGFuZCBgd2FzaS1saWJjYCBjYW5ub3RcbiAqIGJlIGxpbmtlZCB0byBkeW5hbWljIGxpYnJhcmllcy5cbiAqIFNvIHRoZXNlIHN5bWJvbHMgYXJlIHJlcGxhY2VkIHdpdGggc3R1YnMgdG8gc2lsZW5jZSBzb21lIHdhcm5pbmdzO1xuICogaG9wZWZ1bGx5IHRoYXQgd29uJ3QgYmUgdG9vIGJhZCBmb3IgQ29xLlxuICovXG5jb25zdCBVTklYX1NUVUJCRUQgPSBbJ2ZzdGF0JywgJ2ZzeW5jJywgJ3N0cmNocicsICdmY250bCcsICdmdHJ1bmNhdGUnLFxuICAgICdnZXRncm5hbScsICdnbXRpbWUnLCAnbG9jYWx0aW1lJywgJ21rdGltZScsICdsb2NrZicsICdwd3JpdGUnLFxuICAgICdzeXNjb25mJywgJ21tYXAnLCAnbXVubWFwJywgJ3B1dGVudicsICdyZXdpbmRkaXInLCAnc2VsZWN0JyxcbiAgICAnbmFub3NsZWVwJywgJ3RjZ2V0YXR0cicsICd0Y3NldGF0dHInLCAndGltZScsICd0cnVuY2F0ZSddO1xuXG5jb25zdCBTVERMSUJfU1RVQlM6IHtbbGliOiBzdHJpbmddOiBEeW5hbWljTGlicmFyeS5SZWxvY2F0aW9uc30gPSB7XG4gICAgJ2RsbHVuaXgnOiB7XG4gICAgICAgIGpzOiBtYXBBbGxUbyhVTklYX1NUVUJCRUQsICgpID0+IDApXG4gICAgfVxufVxuXG5mdW5jdGlvbiBtYXBBbGxUbzxUPihrZXlzOiBzdHJpbmdbXSwgdmFsdWU6IFQpIHtcbiAgICByZXR1cm4gT2JqZWN0LmZyb21FbnRyaWVzKGtleXMubWFwKG5tID0+IFtubSwgdmFsdWVdKSk7XG59XG5cblxuXG5leHBvcnQgeyBPQ2FtbEV4ZWN1dGFibGUsIE9DYW1sQ0FQSSB9XG4iLCAiZXhwb3J0IHsgUHJvY2Vzc0Jhc2UgYXMgUHJvY2VzcywgV29ya2VyUHJvY2VzcywgQmFyZVByb2Nlc3MgfSBmcm9tICcuL3Byb2Nlc3MnO1xuZXhwb3J0IHsgRXhlY0NvcmUgfSBmcm9tICcuL2V4ZWMnO1xuZXhwb3J0IHR5cGUgeyBFeGVjQ29yZU9wdGlvbnMgfSBmcm9tICcuL2V4ZWMnO1xuZXhwb3J0IHsgU2hhcmVkVm9sdW1lIH0gZnJvbSAnLi9zZXJ2aWNlcy9zaGFyZWQtZnMnO1xuIiwgImltcG9ydCB7IEV2ZW50RW1pdHRlciB9IGZyb20gJ2V2ZW50cyc7XG5cbmltcG9ydCB7IFNpbXBsZXhTdHJlYW0sIFRyYW5zZm9ybVN0cmVhbUR1cGxleCB9IGZyb20gJy4vc3RyZWFtcyc7XG5pbXBvcnQgeyBUdHlQcm9wcyB9IGZyb20gJy4vYml0cy90dHknO1xuaW1wb3J0IHsgU2lnbmFsVmVjdG9yLCBDaGlsZFByb2Nlc3NRdWV1ZSB9IGZyb20gJy4vYml0cy9wcm9jJztcblxuaW1wb3J0IHsgV29ya2VyIH0gZnJvbSAnLi9iaW5kaW5ncy93b3JrZXJzJztcbmltcG9ydCB7IFNoYXJlZFF1ZXVlIH0gZnJvbSAnLi9iaXRzL3F1ZXVlJztcbmltcG9ydCB7IEV4ZWNDb3JlLCBFeGVjQ29yZU9wdGlvbnMgfSBmcm9tICcuL2V4ZWMnO1xuaW1wb3J0IHsgU2hhcmVkVm9sdW1lIH0gZnJvbSAnLi9zZXJ2aWNlcy9zaGFyZWQtZnMnO1xuXG5cblxuYWJzdHJhY3QgY2xhc3MgUHJvY2Vzc0Jhc2UgZXh0ZW5kcyBFdmVudEVtaXR0ZXIge1xuXG4gICAgb3B0czogUHJvY2Vzc1N0YXJ0dXBPcHRpb25zXG5cbiAgICBzdGRpbjogIFRyYW5zZm9ybVN0cmVhbUR1cGxleDxzdHJpbmcsIEJ1ZmZlclNvdXJjZT5cbiAgICBzdGRvdXQ6IFRyYW5zZm9ybVN0cmVhbUR1cGxleDxCdWZmZXJTb3VyY2UsIHN0cmluZz5cblxuICAgIHN0ZGluX3JhdzogU2ltcGxleFN0cmVhbVxuICAgIHR0eTogVHR5UHJvcHNcbiAgICBzaWd2ZWM6IFNpZ25hbFZlY3RvclxuICAgIGNoaWxkcTogQ2hpbGRQcm9jZXNzUXVldWVcblxuICAgIGV4aXRlZDogYm9vbGVhblxuXG4gICAgY29uc3RydWN0b3Iob3B0czogUHJvY2Vzc1N0YXJ0dXBPcHRpb25zKSB7XG4gICAgICAgIHN1cGVyKCk7XG4gICAgICAgIHRoaXMub3B0cyA9IG9wdHM7XG4gICAgICAgIFxuICAgICAgICBpZiAodGhpcy5zZXR1cEVuY29kZXIoKSkge1xuICAgICAgICAgICAgdGhpcy5zdGRvdXQgPSBuZXcgVHJhbnNmb3JtU3RyZWFtRHVwbGV4KG5ldyBUZXh0RGVjb2RlclN0cmVhbSgpKTtcbiAgICAgICAgfVxuICAgICAgICBlbHNlIGlmICh0eXBlb2YgcHJvY2VzcyAhPT0gJ3VuZGVmaW5lZCcgJiYgcHJvY2Vzcy5zdGRpbikge1xuICAgICAgICAgICAgcHJvY2Vzcy5zdGRpbi5vbignZGF0YScsIGJ1ZiA9PiB0aGlzLnN0ZGluX3Jhdy53cml0ZShidWYpKTtcbiAgICAgICAgICAgIHRoaXMuc3Rkb3V0ID0gPGFueT5wcm9jZXNzLnN0ZG91dDtcbiAgICAgICAgfVxuXG4gICAgICAgIHRoaXMub24oJ2V4aXQnLCAoKSA9PiB0aGlzLmV4aXRlZCA9IHRydWUpO1xuICAgIH1cblxuICAgIGFic3RyYWN0IGV4ZWMod2FzbTogc3RyaW5nLCBhcmd2Pzogc3RyaW5nW10pOiB2b2lkO1xuXG4gICAgd2FpdEZvcigpIHtcbiAgICAgICAgdmFyIGhlcnI6IChlOiBFcnJvcikgPT4gdm9pZCwgaGV4aXQ6IChldjoge2NvZGU6bnVtYmVyfSkgPT4gdm9pZDtcblxuICAgICAgICByZXR1cm4gbmV3IFByb21pc2UoKHJlc29sdmUsIHJlamVjdCkgPT4ge1xuICAgICAgICAgICAgdGhpcy5vbignZXJyb3InLCBoZXJyID0gKGU6IEVycm9yKSA9PiByZWplY3QoZSkpO1xuICAgICAgICAgICAgdGhpcy5vbignZXhpdCcsIGhleGl0ID0gKGV2OiB7Y29kZTpudW1iZXJ9KSA9PiByZXNvbHZlKGV2KSk7XG4gICAgICAgIH0pLmZpbmFsbHkoKCkgPT4ge1xuICAgICAgICAgICAgdGhpcy5yZW1vdmVMaXN0ZW5lcignZXJyb3InLCBoZXJyKTtcbiAgICAgICAgICAgIHRoaXMucmVtb3ZlTGlzdGVuZXIoJ2V4aXQnLCBoZXhpdCk7XG4gICAgICAgIH0pO1xuICAgIH1cbiAgICBcbiAgICByZXNldCgpIHtcbiAgICAgICAgdGhpcy5leGl0ZWQgPSBmYWxzZTtcbiAgICAgICAgdGhpcy5zdGRpbl9yYXcucmVzZXQoKTtcbiAgICAgICAgdGhpcy5zZXR1cEVuY29kZXIoKTtcbiAgICB9XG5cbiAgICBzZXR1cEVuY29kZXIoKSB7XG4gICAgICAgIGlmICh0eXBlb2YgVGV4dEVuY29kZXJTdHJlYW0gIT09ICd1bmRlZmluZWQnKSB7XG4gICAgICAgICAgICB0aGlzLnN0ZGluID0gbmV3IFRyYW5zZm9ybVN0cmVhbUR1cGxleChuZXcgVGV4dEVuY29kZXJTdHJlYW0oKSk7XG4gICAgICAgICAgICB0aGlzLnN0ZGluLm9uKCdkYXRhJywgYnl0ZXMgPT4gdGhpcy5zdGRpbl9yYXcud3JpdGUoYnl0ZXMpKTtcbiAgICAgICAgICAgIHRoaXMuc3RkaW4ub24oJ2VuZCcsICgpID0+IHRoaXMuc3RkaW5fcmF3LmVuZCgpKTtcbiAgICAgICAgICAgIHJldHVybiB0cnVlO1xuICAgICAgICB9XG4gICAgICAgIGVsc2UgcmV0dXJuIGZhbHNlO1xuICAgIH1cblxufVxuXG5cbi8qKlxuICogU3VpdGFibGUgZm9yIHJ1bm5pbmcgYSBXQVNJIHByb2Nlc3MgaW4gYSBXZWIgV29ya2VyIG9yXG4gKiBhIE5vZGUuanMgd29ya2VyIHRocmVhZC5cbiAqL1xuY2xhc3MgV29ya2VyUHJvY2VzcyBleHRlbmRzIFByb2Nlc3NCYXNlIHtcblxuICAgIHdvcmtlciA6IFdvcmtlclxuXG4gICAgY29uc3RydWN0b3Iod2FzbTogc3RyaW5nLCBvcHRzOiBQcm9jZXNzU3RhcnR1cE9wdGlvbnM9e30pIHtcbiAgICAgICAgc3VwZXIob3B0cyk7XG4gICAgICAgIHRoaXMud29ya2VyID0gbmV3IFdvcmtlcihuZXcgVVJMKCcuL3dvcmtlci50cycsIGltcG9ydC5tZXRhLnVybCkpO1xuICAgICAgICB0aGlzLndvcmtlci5hZGRFdmVudExpc3RlbmVyKCdtZXNzYWdlJywgZXYgPT4ge1xuICAgICAgICAgICAgaWYgKGV2LmRhdGEuc3RkaW4pICB0aGlzLnN0ZGluX3JhdyA9IFNpbXBsZXhTdHJlYW0uZnJvbShldi5kYXRhLnN0ZGluKTtcbiAgICAgICAgICAgIGlmIChldi5kYXRhLnR0eSkgICAgdGhpcy50dHkgPSBldi5kYXRhLnR0eTtcbiAgICAgICAgICAgIGlmIChldi5kYXRhLnNpZ3ZlYykgdGhpcy5zaWd2ZWMgPSBTaWduYWxWZWN0b3IuZnJvbShldi5kYXRhLnNpZ3ZlYyk7XG4gICAgICAgICAgICBpZiAoZXYuZGF0YS5jaGlsZHEpIHRoaXMuY2hpbGRxID0gU2hhcmVkUXVldWUuZnJvbShldi5kYXRhLmNoaWxkcSk7XG4gICAgICAgICAgICBpZiAoZXYuZGF0YS5mZCkgICAgIHRoaXMuc3Rkb3V0LndyaXRlKGV2LmRhdGEuZGF0YSk7XG5cbiAgICAgICAgICAgIGlmIChldi5kYXRhLmV2ZW50KSAgdGhpcy5lbWl0KGV2LmRhdGEuZXZlbnQsIGV2LmRhdGEuYXJnLCB3YXNtKTtcbiAgICAgICAgfSk7XG5cbiAgICAgICAgaWYgKHdhc20pIHRoaXMuZXhlYyh3YXNtKTtcbiAgICB9XG5cbiAgICBtb3VudEZzKHZvbHVtZTogU2hhcmVkVm9sdW1lKSB7XG4gICAgICAgIHRoaXMud29ya2VyLnBvc3RNZXNzYWdlKHt2b2x1bWU6IHZvbHVtZS50bygpfSk7XG4gICAgICAgIHJldHVybiB0aGlzO1xuICAgIH1cblxuICAgIGV4ZWMod2FzbTogc3RyaW5nLCBhcmd2Pzogc3RyaW5nW10pIHtcbiAgICAgICAgaWYgKHRoaXMuZXhpdGVkKSB0aGlzLnJlc2V0KCk7XG4gICAgICAgIGlmIChhcmd2KSB0aGlzLm9wdHMuYXJndiA9IGFyZ3Y7XG4gICAgICAgIHRoaXMud29ya2VyLnBvc3RNZXNzYWdlKHtleGVjOiB3YXNtLCBvcHRzOiB0aGlzLm9wdHN9KTtcbiAgICB9XG59XG5cblxuY2xhc3MgQmFyZVByb2Nlc3MgZXh0ZW5kcyBQcm9jZXNzQmFzZSB7XG5cbiAgICBjb3JlOiBFeGVjQ29yZTtcblxuICAgIGNvbnN0cnVjdG9yKHdhc206IHN0cmluZywgb3B0czogUHJvY2Vzc1N0YXJ0dXBPcHRpb25zPXt9KSB7XG4gICAgICAgIHN1cGVyKG9wdHMpO1xuICAgICAgICB0aGlzLmV4ZWMod2FzbSk7XG4gICAgfVxuXG4gICAgYXN5bmMgZXhlYyh3YXNtOiBzdHJpbmcsIGFyZ3Y/OiBzdHJpbmdbXSkge1xuICAgICAgICBjb25zdCB7RXhlY0NvcmV9ID0gYXdhaXQgaW1wb3J0KCcuL2V4ZWMnKTsgIC8vIG9uLWRlbWFuZCBpbXBvcnRcblxuICAgICAgICB0aGlzLmNvcmUgPSBuZXcgRXhlY0NvcmUoe2FyZ3YsIC4uLnRoaXMub3B0c30pO1xuICAgICAgICB0aGlzLmNvcmUub24oJ3N0cmVhbTpvdXQnLCBldiA9PiBwcm9jZXNzLnN0ZG91dC53cml0ZShldi5kYXRhKSk7XG4gICAgICAgIHRyeSB7XG4gICAgICAgICAgICBsZXQgZXhpdGNvZGUgPSBhd2FpdCB0aGlzLmNvcmUuc3RhcnQod2FzbSwgdGhpcy5vcHRzLmFyZ3YpO1xuICAgICAgICAgICAgdGhpcy5lbWl0KCdleGl0Jywge2NvZGU6IGV4aXRjb2RlfSk7XG4gICAgICAgIH1cbiAgICAgICAgY2F0Y2ggKGVycikge1xuICAgICAgICAgICAgdGhpcy5lbWl0KCdlcnJvcicsIGVyciwgd2FzbSk7XG4gICAgICAgIH1cbiAgICB9XG59XG5cblxudHlwZSBQcm9jZXNzU3RhcnR1cE9wdGlvbnMgPSBFeGVjQ29yZU9wdGlvbnMgJiB7XG4gICAgYXJndj86IHN0cmluZ1tdO1xufVxuXG5cblxuZXhwb3J0IHsgUHJvY2Vzc0Jhc2UsIFdvcmtlclByb2Nlc3MsIEJhcmVQcm9jZXNzLCBQcm9jZXNzU3RhcnR1cE9wdGlvbnMgfVxuIiwgImltcG9ydCB7IGlzTm9kZSwgaXNCcm93c2VyIH0gZnJvbSAnLi4vLi4vaW5mcmEvYXJjaCc7XG5pbXBvcnQgeyBXb3JrZXIgYXMgV29ya2VyVGhyZWFkIH0gZnJvbSAnd29ya2VyX3RocmVhZHMnO1xuXG5cbmxldCBXb3JrZXJJbXBsLCBwb3N0TWVzc2FnZSwgb25NZXNzYWdlO1xuXG5pZiAoaXNCcm93c2VyKSB7XG4gICAgV29ya2VySW1wbCA9IHNlbGYuV29ya2VyO1xuICAgIHBvc3RNZXNzYWdlID0gc2VsZi5wb3N0TWVzc2FnZTtcbiAgICBvbk1lc3NhZ2UgPSAoaGFuZGxlcikgPT4gYWRkRXZlbnRMaXN0ZW5lcignbWVzc2FnZScsIGhhbmRsZXIpO1xufVxuZWxzZSBpZiAoaXNOb2RlKSB7XG4gICAgY29uc3Qgd29ya2VyVGhyZWFkcyA9ICgwfHxyZXF1aXJlKSgnd29ya2VyX3RocmVhZHMnKTtcblxuICAgIC8vIEB0cy1pZ25vcmVcbiAgICBjbGFzcyBXb3JrZXJBZGFwdGVyIGltcGxlbWVudHMgV29ya2VyIHtcbiAgICAgICAgdGhyZWFkOiBXb3JrZXJUaHJlYWQ7XG4gICAgICAgIGNvbnN0cnVjdG9yKHN0cmluZ1VybDogc3RyaW5nKSB7XG4gICAgICAgICAgICB0aGlzLnRocmVhZCA9IG5ldyB3b3JrZXJUaHJlYWRzLldvcmtlcihzdHJpbmdVcmwpO1xuICAgICAgICB9XG4gICAgICAgIGFkZEV2ZW50TGlzdGVuZXIoZXZlbnROYW1lOiBzdHJpbmcsIGhhbmRsZXI6IChldjogYW55KSA9PiB2b2lkKTogdm9pZCB7XG4gICAgICAgICAgICB0aGlzLnRocmVhZC5vbihldmVudE5hbWUsIChldikgPT4ge1xuICAgICAgICAgICAgICAgIGhhbmRsZXIoe2RhdGE6IGV2fSk7XG4gICAgICAgICAgICB9KTtcbiAgICAgICAgfVxuICAgICAgICBwb3N0TWVzc2FnZShtc2c6IGFueSkge1xuICAgICAgICAgICAgdGhpcy50aHJlYWQucG9zdE1lc3NhZ2UobXNnKTtcbiAgICAgICAgfVxuICAgICAgICBzdGF0aWMgb25NZXNzYWdlKGhhbmRsZXI6IChldjogYW55KSA9PiB2b2lkKSB7XG4gICAgICAgICAgICB3b3JrZXJUaHJlYWRzLnBhcmVudFBvcnQub24oJ21lc3NhZ2UnLCAoZXYpID0+IHtcbiAgICAgICAgICAgICAgICBoYW5kbGVyKHtkYXRhOiBldn0pO1xuICAgICAgICAgICAgfSk7XG4gICAgICAgIH1cbiAgICAgICAgc3RhdGljIHBvc3RNZXNzYWdlKG1zZzogYW55KSB7XG4gICAgICAgICAgICB3b3JrZXJUaHJlYWRzLnBhcmVudFBvcnQucG9zdE1lc3NhZ2UobXNnKTtcbiAgICAgICAgfVxuICAgIH1cblxuICAgIFdvcmtlckltcGwgPSBXb3JrZXJBZGFwdGVyO1xuICAgIG9uTWVzc2FnZSA9IFdvcmtlckFkYXB0ZXIub25NZXNzYWdlO1xuICAgIHBvc3RNZXNzYWdlID0gV29ya2VyQWRhcHRlci5wb3N0TWVzc2FnZTtcbn1cblxuXG5cbmV4cG9ydCB7IFdvcmtlckltcGwgYXMgV29ya2VyLCBvbk1lc3NhZ2UsIHBvc3RNZXNzYWdlIH07ICAgIFxuIiwgImltcG9ydCB7IGZzIGFzIG1lbWZzLCBWb2x1bWUgfSBmcm9tICdtZW1mcyc7XG5pbXBvcnQgeyBmaWxlbmFtZVRvU3RlcHMgfSBmcm9tICdtZW1mcy9saWIvdm9sdW1lJztcbmltcG9ydCB7IE5vZGUsIExpbmsgfSBmcm9tICdtZW1mcy9saWIvbm9kZSc7XG5pbXBvcnQgYXNzZXJ0IGZyb20gJ2Fzc2VydCc7XG5cblxuXG5jbGFzcyBTaGFyZWRWb2x1bWUgZXh0ZW5kcyBWb2x1bWUge1xuXG4gICAgZGV2OiBCbG9ja0RldmljZVxuICAgIHJvb3Q6IExpbmtTaGFyZWRWb2x1bWVcbiAgICBpbm9kZXM6IHtbaW5vOiBudW1iZXJdOiBOb2RlU2hhcmVkVm9sdW1lfVxuXG4gICAgZGVidWc6ICguLi5hOiBhbnlbXSkgPT4gdm9pZFxuXG4gICAgY29uc3RydWN0b3IocHJvcHM6IFNoYXJlZFZvbHVtZVByb3BzID0ge30pIHtcbiAgICAgICAgbGV0IHZvbDogU2hhcmVkVm9sdW1lO1xuXG4gICAgICAgIGNsYXNzIE5vZGVJbm5lciB7XG4gICAgICAgICAgICBjb25zdHJ1Y3Rvcihpbm86IG51bWJlciwgcGVybT86IG51bWJlcikge1xuICAgICAgICAgICAgICAgIHJldHVybiBuZXcgTm9kZVNoYXJlZFZvbHVtZSh2b2wsIGlubywgcGVybSk7XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cblxuICAgICAgICBzdXBlcih7XG4gICAgICAgICAgICBOb2RlOiBOb2RlSW5uZXIsXG4gICAgICAgICAgICBMaW5rOiBMaW5rU2hhcmVkVm9sdW1lXG4gICAgICAgIH0pO1xuICAgICAgICB0aGlzLmRldiA9IEJsb2NrRGV2aWNlLmZyb20ocHJvcHMuZGV2KTtcblxuICAgICAgICB2b2wgPSB0aGlzO1xuXG4gICAgICAgIC8vIHJvb3Qgbm9kZSB3YXMgY3JlYXRlZCBiZWZvcmUgYHZvbGAgd2FzIGluaXRpYWxpemVkIDpcXFxuICAgICAgICB2YXIgcm5vZGUgPSB0aGlzLnJvb3QuZ2V0Tm9kZSgpO1xuICAgICAgICBybm9kZS52b2wgPSB0aGlzOyBybm9kZS5fbGluayA9IHRoaXMucm9vdDtcblxuICAgICAgICB0aGlzLmRlYnVnID0gKCkgPT4ge307IC8vIGNvbnNvbGUubG9nO1xuICAgIH1cblxuICAgIHN0YXRpYyBmcm9tKHByb3BzOiBTaGFyZWRWb2x1bWVQcm9wcykge1xuICAgICAgICByZXR1cm4gbmV3IFNoYXJlZFZvbHVtZShwcm9wcyk7XG4gICAgfVxuXG4gICAgdG8oKTogU2hhcmVkVm9sdW1lUHJvcHMge1xuICAgICAgICByZXR1cm4ge2RldjogdGhpcy5kZXYudG8oKX07XG4gICAgfVxuXG4gICAgd3JpdGVCbG9iKHBhdGg6IHN0cmluZywgYnVmOiBVaW50OEFycmF5KSB7XG4gICAgICAgIHZhciBmZCA9IHRoaXMub3BlblN5bmMocGF0aCwgbWVtZnMuY29uc3RhbnRzLk9fQ1JFQVQpLFxuICAgICAgICAgICAgbm9kZSA9IDxOb2RlU2hhcmVkVm9sdW1lPnRoaXMuZmRzW2ZkXS5ub2RlLFxuICAgICAgICAgICAgYmxvYiA9IHRoaXMuZGV2LmFsbG9jQmxvYihidWYubGVuZ3RoKTtcbiAgICAgICAgYmxvYi5zZXQoYnVmLCAwKTtcbiAgICAgICAgbm9kZS5zZXRCbG9iKGJsb2IpO1xuICAgICAgICB0aGlzLmNsb3NlU3luYyhmZCk7XG4gICAgfVxuXG4gICAgY3JlYXRlTGluayhwYXJlbnQ/OiBMaW5rU2hhcmVkVm9sdW1lLCBuYW1lPzogc3RyaW5nLCBpc0RpcmVjdG9yeT86IGJvb2xlYW4sIHBlcm0/OiBudW1iZXIpOiBMaW5rICB7XG4gICAgICAgIGNvbnN0IGxpbmsgPSA8TGlua1NoYXJlZFZvbHVtZT5zdXBlci5jcmVhdGVMaW5rKHBhcmVudCwgbmFtZSwgaXNEaXJlY3RvcnksIHBlcm0pO1xuICAgICAgICBpZiAocGFyZW50KSB7XG4gICAgICAgICAgICB0aGlzLmRlYnVnKCcrIGNyZWF0ZWQgbGluaycsIHBhcmVudC5pbm8sIG5hbWUsIGxpbmsuaW5vKTtcbiAgICAgICAgfVxuICAgICAgICBsaW5rLnB1c2goKTtcbiAgICAgICAgcmV0dXJuIGxpbms7XG4gICAgfVxuXG4gICAgZGVsZXRlTGluayhsaW5rOiBMaW5rU2hhcmVkVm9sdW1lKSB7XG4gICAgICAgIHRoaXMuZGVidWcoJ2RlbGV0ZWQgbGluaycsIGxpbmsucGFyZW50LmlubywgbGluay5nZXROYW1lKCksIGxpbmsuaW5vKTtcbiAgICAgICAgdmFyIHBhcmVudCA9IGxpbmsucGFyZW50LCByZXQgPSBzdXBlci5kZWxldGVMaW5rKGxpbmspO1xuICAgICAgICBwYXJlbnQucHVzaCgpO1xuICAgICAgICByZXR1cm4gcmV0O1xuICAgIH1cblxuICAgIGNyZWF0ZU5vZGUoaXNEaXJlY3Rvcnk6IGJvb2xlYW4gPSBmYWxzZSwgcGVybT86IG51bWJlcik6IE5vZGVTaGFyZWRWb2x1bWUge1xuICAgICAgICBpZiAoIXRoaXMuZGV2KSByZXR1cm4gPE5vZGVTaGFyZWRWb2x1bWU+c3VwZXIuY3JlYXRlTm9kZShpc0RpcmVjdG9yeSwgcGVybSk7XG4gICAgICAgIGNvbnN0IG5vZGUgPSA8Tm9kZVNoYXJlZFZvbHVtZT5uZXcgdGhpcy5wcm9wcy5Ob2RlKHRoaXMuZGV2LmFsbG9jKCksIHBlcm0pO1xuICAgICAgICBpZiAoaXNEaXJlY3RvcnkpIG5vZGUuc2V0SXNEaXJlY3RvcnkoKTtcbiAgICAgICAgdGhpcy5pbm9kZXNbbm9kZS5pbm9dID0gbm9kZTtcbiAgICAgICAgbm9kZS5wdXNoKCk7XG4gICAgICAgIHJldHVybiBub2RlOyAgICBcbiAgICB9XG5cbiAgICBnZXROb2RlU2hhcmVkKGlubzogbnVtYmVyKSB7XG4gICAgICAgIHJldHVybiB0aGlzLmlub2Rlc1tpbm9dIHx8IHRoaXMuX2ZldGNoTm9kZShpbm8pO1xuICAgIH1cblxuICAgIGNyZWF0ZVN5bWxpbmsodGFyZ2V0OiBzdHJpbmcsIGZpbGVuYW1lOiBzdHJpbmcpIHtcbiAgICAgICAgdGhpcy5zeW1saW5rU3luYygnJywgZmlsZW5hbWUpO1xuICAgICAgICB2YXIgbGluayA9IHRoaXMuZ2V0TGluayhmaWxlbmFtZVRvU3RlcHMoZmlsZW5hbWUpKTtcblxuICAgICAgICB2YXIgc3RlcHMgPSB0YXJnZXQuc3BsaXQoJy8nKTtcbiAgICAgICAgaWYgKHN0ZXBzWzBdID09ICcnKSBzdGVwcy5zcGxpY2UoMCwgMSk7XG4gICAgICAgIGVsc2Ugc3RlcHMuc3BsaWNlKDAsIDAsICcuJylcbiAgICAgICAgbGluay5nZXROb2RlKCkubWFrZVN5bWxpbmsoc3RlcHMpO1xuICAgICAgICByZXR1cm4gbGluaztcbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBPdmVycmlkaW5nIHRoaXMgZnJvbSBtZW1mcyBWb2x1bWUgdG8gc3VwcG9ydCByZWxhdGl2ZSBzeW1saW5rcy5cbiAgICAgKi9cbiAgICBnZXRSZXNvbHZlZExpbmsoZmlsZW5hbWVPclN0ZXBzOiBzdHJpbmcgfCBzdHJpbmdbXSk6IExpbmsgfCBudWxsIHtcbiAgICAgICAgbGV0IHN0ZXBzOiBzdHJpbmdbXSA9IHR5cGVvZiBmaWxlbmFtZU9yU3RlcHMgPT09ICdzdHJpbmcnID8gZmlsZW5hbWVUb1N0ZXBzKGZpbGVuYW1lT3JTdGVwcykgOiBmaWxlbmFtZU9yU3RlcHM7XG4gICAgXG4gICAgICAgIGxldCBsaW5rOiBMaW5rID0gdGhpcy5yb290O1xuXG4gICAgICAgIGZvciAobGV0IGkgPSAwOyBpIDwgc3RlcHMubGVuZ3RoOykge1xuICAgICAgICAgICAgY29uc3Qgc3RlcCA9IHN0ZXBzW2ldLFxuICAgICAgICAgICAgICAgICAgY2hpbGQgPSBsaW5rLmdldENoaWxkKHN0ZXApO1xuICAgICAgICAgICAgaWYgKCFjaGlsZCkgcmV0dXJuIG51bGw7XG4gICAgICAgIFxuICAgICAgICAgICAgY29uc3Qgbm9kZSA9IGNoaWxkLmdldE5vZGUoKTtcbiAgICAgICAgICAgIGlmIChub2RlLmlzU3ltbGluaygpKSB7XG4gICAgICAgICAgICAgICAgc3RlcHMgPSBub2RlLnN5bWxpbmsuY29uY2F0KHN0ZXBzLnNsaWNlKGkgKyAxKSk7XG4gICAgICAgICAgICAgICAgaSA9IDA7XG4gICAgICAgICAgICAgICAgaWYgKHN0ZXBzWzBdICE9PSAnLicpIHtcbiAgICAgICAgICAgICAgICAgICAgbGluayA9IHRoaXMucm9vdDtcbiAgICAgICAgICAgICAgICAgICAgY29udGludWU7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfVxuICAgICAgICAgICAgZWxzZVxuICAgICAgICAgICAgICAgIGxpbmsgPSBjaGlsZDtcblxuICAgICAgICAgICAgaSsrO1xuICAgICAgICB9XG4gICAgXG4gICAgICAgIHJldHVybiBsaW5rO1xuICAgIH1cbiAgICAgICAgICBcbiAgICBfZmV0Y2hOb2RlKGlubzogbnVtYmVyKSB7XG4gICAgICAgIHZhciBub2RlID0gPE5vZGVTaGFyZWRWb2x1bWU+bmV3IHRoaXMucHJvcHMuTm9kZShpbm8pO1xuICAgICAgICB0aGlzLmlub2Rlc1tpbm9dID0gbm9kZTtcbiAgICAgICAgcmV0dXJuIG5vZGU7XG4gICAgfVxufVxuXG50eXBlIFNoYXJlZFZvbHVtZVByb3BzID0ge1xuICAgIGRldj86IEJsb2NrRGV2aWNlUHJvcHNcbn07XG5cblxuY2xhc3MgQmxvY2tEZXZpY2Uge1xuXG4gICAgYmxvY2tTaXplOiBudW1iZXJcbiAgICBibG9ja0NvdW50OiBudW1iZXJcbiAgICByYXc6IEFycmF5QnVmZmVyXG4gICAgYml0c2V0OiBVaW50OEFycmF5XG5cbiAgICBjdXJzb3JzOiBVaW50MzJBcnJheVxuXG4gICAgY29uc3RydWN0b3IocHJvcHM6IEJsb2NrRGV2aWNlUHJvcHMgPSB7fSkge1xuICAgICAgICB0aGlzLnJhdyA9IHByb3BzLnJhdyB8fCBuZXcgU2hhcmVkQXJyYXlCdWZmZXIocHJvcHMuc2l6ZSB8fCAxIDw8IDIwKTtcbiAgICAgICAgdGhpcy5ibG9ja1NpemUgPSBwcm9wcy5ibG9ja1NpemUgfHwgMSA8PCAxMDtcbiAgICAgICAgdGhpcy5ibG9ja0NvdW50ID0gdGhpcy5yYXcuYnl0ZUxlbmd0aCAvIHRoaXMuYmxvY2tTaXplO1xuICAgICAgICB0aGlzLmJpdHNldCA9IHByb3BzLmJpdHNldCB8fCBuZXcgVWludDhBcnJheShuZXcgU2hhcmVkQXJyYXlCdWZmZXIodGhpcy5ibG9ja0NvdW50KSk7XG4gICAgICAgIHRoaXMuY3Vyc29ycyA9IHByb3BzLmN1cnNvcnMgfHwgbmV3IFVpbnQzMkFycmF5KG5ldyBTaGFyZWRBcnJheUJ1ZmZlcigzICogNCkpO1xuICAgICAgICBpZiAoIXByb3BzLmN1cnNvcnMpIHtcbiAgICAgICAgICAgIHRoaXMuYmxvY2tDdXJzb3IgPSAyO1xuICAgICAgICAgICAgdGhpcy5ib3VuZGFyeUN1cnNvciA9IDI7XG4gICAgICAgICAgICB0aGlzLmJsb2JDdXJzb3IgPSB0aGlzLnJhdy5ieXRlTGVuZ3RoO1xuICAgICAgICB9XG4gICAgfVxuXG4gICAgc3RhdGljIGZyb20ocHJvcHM6IEJsb2NrRGV2aWNlUHJvcHMpIHtcbiAgICAgICAgcmV0dXJuIG5ldyBCbG9ja0RldmljZShwcm9wcyk7XG4gICAgfVxuXG4gICAgdG8oKTogQmxvY2tEZXZpY2VQcm9wcyB7XG4gICAgICAgIHJldHVybiB7cmF3OiB0aGlzLnJhdywgYmxvY2tTaXplOiB0aGlzLmJsb2NrU2l6ZSwgYml0c2V0OiB0aGlzLmJpdHNldCxcbiAgICAgICAgICAgICAgICBjdXJzb3JzOiB0aGlzLmN1cnNvcnN9O1xuICAgIH1cblxuICAgIGdldChibG9ja05vOiBudW1iZXIpIHtcbiAgICAgICAgdmFyIG9mZnNldCA9IGJsb2NrTm8gKiB0aGlzLmJsb2NrU2l6ZTtcbiAgICAgICAgcmV0dXJuIG5ldyBVaW50OEFycmF5KHRoaXMucmF3LCBvZmZzZXQsIHRoaXMuYmxvY2tTaXplKTtcbiAgICB9XG5cbiAgICBpc0ZyZWUoYmxvY2tObzogbnVtYmVyKSB7XG4gICAgICAgIHJldHVybiBBdG9taWNzLmxvYWQodGhpcy5iaXRzZXQsIGJsb2NrTm8pID09IDA7XG4gICAgfVxuXG4gICAgLy8gQ3Vyc29yIGFjY2Vzc29yc1xuICAgIC8vIChub3QgYXRvbWljLCBmb3IgcGVyZm9ybWFuY2UgOlxcKVxuICAgIGdldCBibG9ja0N1cnNvcigpICAgICAgICAgICAgICB7IHJldHVybiB0aGlzLmN1cnNvcnNbMF07IH1cbiAgICBzZXQgYmxvY2tDdXJzb3IoaTogbnVtYmVyKSAgICAgeyB0aGlzLmN1cnNvcnNbMF0gPSBpOyB9XG4gICAgZ2V0IGJvdW5kYXJ5Q3Vyc29yKCkgICAgICAgICAgIHsgcmV0dXJuIHRoaXMuY3Vyc29yc1sxXTsgfVxuICAgIHNldCBib3VuZGFyeUN1cnNvcihpOiBudW1iZXIpICB7IHRoaXMuY3Vyc29yc1sxXSA9IGk7IH1cbiAgICBnZXQgYmxvYkN1cnNvcigpICAgICAgICAgICAgICAgeyByZXR1cm4gdGhpcy5jdXJzb3JzWzJdOyB9XG4gICAgc2V0IGJsb2JDdXJzb3IoaTogbnVtYmVyKSAgICAgIHsgdGhpcy5jdXJzb3JzWzJdID0gaTsgfVxuXG4gICAgYWxsb2MoKSB7XG4gICAgICAgIGxldCBoaWdoID0gdGhpcy5ibG9iQ3Vyc29yIC8gdGhpcy5ibG9ja1NpemU7XG4gICAgICAgIGZvciAobGV0IGkgPSB0aGlzLmJsb2NrQ3Vyc29yOyBpIDwgaGlnaDsgaSsrKSB7XG4gICAgICAgICAgICBpZiAodGhpcy5iaXRzZXRbaV0gPT0gMCAmJiBcbiAgICAgICAgICAgICAgICBBdG9taWNzLmNvbXBhcmVFeGNoYW5nZSh0aGlzLmJpdHNldCwgaSwgMCwgMSkgPT0gMCkge1xuICAgICAgICAgICAgICAgIHRoaXMuYmxvY2tDdXJzb3IgPSBpO1xuICAgICAgICAgICAgICAgIHRoaXMuYm91bmRhcnlDdXJzb3IgPSBNYXRoLm1heCh0aGlzLmJvdW5kYXJ5Q3Vyc29yLCBpICsgMSk7XG4gICAgICAgICAgICAgICAgcmV0dXJuIGk7XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgICAgdGhyb3cgbmV3IEVycm9yKFwibm8gc3BhY2UgbGVmdCBvbiBkZXZpY2VcIik7XG4gICAgfVxuXG4gICAgYWxsb2NCbG9iKHNpemU6IG51bWJlcikge1xuICAgICAgICB2YXIgb2Zmc2V0ID0gdGhpcy5ibG9iQ3Vyc29yIC0gc2l6ZTtcbiAgICAgICAgaWYgKG9mZnNldCA8IHRoaXMuYm91bmRhcnlDdXJzb3IgKiB0aGlzLmJsb2NrU2l6ZSlcbiAgICAgICAgICAgIHRocm93IG5ldyBFcnJvcihcIm5vIHNwYWNlIGxlZnQgb24gZGV2aWNlXCIpO1xuICAgICAgICB0aGlzLmJsb2JDdXJzb3IgPSBvZmZzZXQ7XG4gICAgICAgIHJldHVybiB0aGlzLmdldEJsb2Iob2Zmc2V0LCBzaXplKTtcbiAgICB9XG5cbiAgICBnZXRCbG9iKG9mZnNldDogbnVtYmVyLCBzaXplOiBudW1iZXIpOiBCdWZmZXIge1xuICAgICAgICB2YXIgYmxvYiA9IG5ldyBVaW50OEFycmF5KHRoaXMucmF3LCBvZmZzZXQsIHNpemUpO1xuICAgICAgICBPYmplY3Quc2V0UHJvdG90eXBlT2YoYmxvYiwgQnVmZmVyLnByb3RvdHlwZSlcbiAgICAgICAgcmV0dXJuIGJsb2IgYXMgQnVmZmVyO1xuICAgIH1cblxuICAgIHJlYWRUZXh0KGJsb2NrTm86IG51bWJlciwgb2Zmc2V0ID0gMCkge1xuICAgICAgICB2YXIgYnVmID0gdGhpcy5nZXQoYmxvY2tObyk7XG4gICAgICAgIGJ1ZiA9IGJ1Zi5zbGljZShvZmZzZXQsIGJ1Zi5pbmRleE9mKDAsIG9mZnNldCkpO1xuICAgICAgICByZXR1cm4ge2J1ZjogbmV3IFRleHREZWNvZGVyKCd1dGYtOCcpLmRlY29kZShidWYpLFxuICAgICAgICAgICAgICAgIHNpemU6IGJ1Zi5sZW5ndGggKyAxfTtcbiAgICB9XG5cbiAgICByZWFkKGJsb2NrTm86IG51bWJlciwgb2Zmc2V0ID0gMCwgc2l6ZT86IG51bWJlcikge1xuICAgICAgICB2YXIgYnVmID0gdGhpcy5nZXQoYmxvY2tObykuc2xpY2Uob2Zmc2V0LFxuICAgICAgICAgICAgICAgICAgICAgICAgKHNpemUgPj0gMCkgPyBvZmZzZXQgKyBzaXplIDogdW5kZWZpbmVkKTtcbiAgICAgICAgcmV0dXJuIHtidWYsIHNpemU6IGJ1Zi5sZW5ndGh9O1xuICAgIH1cblxuICAgIHJlYWRJbnRvKGJsb2NrTm86IG51bWJlciwgb2Zmc2V0OiBudW1iZXIsIHNpemU6IG51bWJlcixcbiAgICAgICAgICAgICBidWY6IFVpbnQ4QXJyYXksIGF0OiBudW1iZXIpIHtcbiAgICAgICAgdmFyIGEgPSB0aGlzLmdldChibG9ja05vKS5zdWJhcnJheShvZmZzZXQsIG9mZnNldCArIHNpemUpO1xuICAgICAgICBidWYuc2V0KGEsIGF0KTtcbiAgICAgICAgcmV0dXJuIGEubGVuZ3RoO1xuICAgIH1cblxuICAgIHdyaXRlVGV4dChibG9ja05vOiBudW1iZXIsIHZhbHVlOiBzdHJpbmcsIG9mZnNldCA9IDApIHtcbiAgICAgICAgLy8gYWx3YXlzIHV0Zi04IChhbHNvLCBmb3Igc29tZSByZWFzb24gVGV4dEVuY29kZXIgZG9lc24ndCB3b3JrKVxuICAgICAgICB2YXIgYnl0ZXMgPSBCdWZmZXIuZnJvbSh2YWx1ZSArICdcXDAnLCAndXRmLTgnKTtcbiAgICAgICAgaWYgKGJ5dGVzLmxlbmd0aCArIG9mZnNldCA+IHRoaXMuYmxvY2tTaXplKSB7XG4gICAgICAgICAgICB0aHJvdyBuZXcgRXJyb3IoYGlub2RlIHRleHQgb3ZlcmZsb3cgKGJsb2NrPSR7YmxvY2tOb30sIGxlbmd0aD0ke2J5dGVzLmxlbmd0aH0pYCk7XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuIHRoaXMud3JpdGUoYmxvY2tObywgYnl0ZXMsIG9mZnNldCk7XG4gICAgfVxuXG4gICAgd3JpdGUoYmxvY2tObzogbnVtYmVyLCB2YWx1ZTogVWludDhBcnJheSwgb2Zmc2V0ID0gMCkge1xuICAgICAgICBpZiAob2Zmc2V0ICsgdmFsdWUubGVuZ3RoID4gdGhpcy5ibG9ja1NpemUpXG4gICAgICAgICAgICB2YWx1ZSA9IHZhbHVlLnN1YmFycmF5KDAsIHRoaXMuYmxvY2tTaXplIC0gb2Zmc2V0KTtcbiAgICAgICAgdGhpcy5nZXQoYmxvY2tObykuc2V0KHZhbHVlLCBvZmZzZXQpO1xuICAgICAgICByZXR1cm4gdmFsdWUubGVuZ3RoO1xuICAgIH1cblxufVxuXG50eXBlIEJsb2NrRGV2aWNlUHJvcHMgPSB7XG4gICAgYmxvY2tTaXplPzogbnVtYmVyXG4gICAgc2l6ZT86IG51bWJlclxuICAgIHJhdz86IEFycmF5QnVmZmVyXG4gICAgYml0c2V0PzogVWludDhBcnJheVxuICAgIGN1cnNvcnM/OiBVaW50MzJBcnJheVxufTtcblxuXG5jbGFzcyBOb2RlU2hhcmVkVm9sdW1lIGV4dGVuZHMgTm9kZSB7XG5cbiAgICB2b2w6IFNoYXJlZFZvbHVtZVxuICAgIHZlcjogbnVtYmVyXG4gICAgaXNCbG9iOiBib29sZWFuXG4gICAgX2xpbms/OiBMaW5rU2hhcmVkVm9sdW1lXG5cbiAgICBjb25zdHJ1Y3Rvcih2b2w6IFNoYXJlZFZvbHVtZSwgaW5vOiBudW1iZXIsIHBlcm0/OiBudW1iZXIpIHtcbiAgICAgICAgc3VwZXIoaW5vLCBwZXJtKVxuICAgICAgICB0aGlzLnZvbCA9IHZvbDtcbiAgICAgICAgdGhpcy52ZXIgPSAwO1xuICAgICAgICB0aGlzLmlzQmxvYiA9IGZhbHNlO1xuICAgICAgICB0aGlzLl9saW5rID0gbnVsbDtcbiAgICB9XG5cbiAgICBzZXRNb2RlUHJvcGVydHkocHJvcGVydHk6IG51bWJlcikge1xuICAgICAgICBzdXBlci5zZXRNb2RlUHJvcGVydHkocHJvcGVydHkpO1xuICAgICAgICAvLyBwYXJlbnQgY2xhc3MgaW1wbGVtZW50YXRpb24gZG9lcyBub3QgY2FsbCB0b3VjaCgpXG4gICAgICAgIHRoaXMudmVyKys7XG4gICAgICAgIHRoaXMucHVzaCgpO1xuICAgIH1cblxuICAgIGdldExpbmsocGFyZW50PzogTGlua1NoYXJlZFZvbHVtZSwgbmFtZT86IHN0cmluZykge1xuICAgICAgICBpZiAoIXRoaXMuX2xpbmspIHtcbiAgICAgICAgICAgIGFzc2VydChwYXJlbnQgJiYgbmFtZSk7XG4gICAgICAgICAgICB0aGlzLl9saW5rID0gbmV3IExpbmtTaGFyZWRWb2x1bWUodGhpcy52b2wsIHBhcmVudCwgbmFtZSk7XG4gICAgICAgICAgICB0aGlzLl9saW5rLnNldE5vZGUodGhpcyk7XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuIHRoaXMuX2xpbms7XG4gICAgfVxuXG4gICAgc2V0QmxvYihibG9iOiBCdWZmZXIpIHtcbiAgICAgICAgdGhpcy5idWYgPSBibG9iO1xuICAgICAgICB0aGlzLmlzQmxvYiA9IHRydWU7XG4gICAgICAgIHRoaXMudG91Y2goKTtcbiAgICB9XG5cbiAgICB0b3VjaCgpIHtcbiAgICAgICAgc3VwZXIudG91Y2goKTtcbiAgICAgICAgdGhpcy52ZXIrKztcbiAgICAgICAgdGhpcy5wdXNoKCk7XG4gICAgfVxuICBcbiAgICBkZWwoKSB7XG4gICAgICAgIHN1cGVyLmRlbCgpO1xuICAgIH1cblxuICAgIHB1c2goKSB7XG4gICAgICAgIGlmICh0aGlzLnZvbCAmJiB0aGlzLnZvbC5kZXYpIHtcbiAgICAgICAgICAgIHZhciBibGsgPSB0aGlzLnZvbC5kZXYuZ2V0KHRoaXMuaW5vKSxcbiAgICAgICAgICAgICAgICBoZWFkZXI6IElub2RlRGF0YSA9IHtwOiB0aGlzLnBlcm0sIG06IHRoaXMubW9kZSwgdjogdGhpcy52ZXJ9LFxuICAgICAgICAgICAgICAgIGJ1ZiA9IHRoaXMuYnVmO1xuICAgICAgICAgICAgaWYgKGJsa1swXSAhPSAwKVxuICAgICAgICAgICAgICAgIGhlYWRlciA9IE9iamVjdC5hc3NpZ24odGhpcy5fcmVhZCgpLmhlYWRlciwgaGVhZGVyKTsgIC8vIGluIGNhc2UgdGhlcmUgaXMgbGluayBkYXRhIHRvb1xuICAgICAgICAgICAgaWYgKGJ1ZikgaGVhZGVyLnogPSBidWYubGVuZ3RoO1xuICAgICAgICAgICAgaWYgKHRoaXMuaXNCbG9iKSB7XG4gICAgICAgICAgICAgICAgaGVhZGVyLmJsb2IgPSBbYnVmLmJ5dGVPZmZzZXRdO1xuICAgICAgICAgICAgICAgIGJ1ZiA9IHVuZGVmaW5lZDtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGlmICh0aGlzLnN5bWxpbmspIHtcbiAgICAgICAgICAgICAgICBoZWFkZXIuc3ltbGluayA9IHRoaXMuc3ltbGluaztcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIHRoaXMudm9sLmRlYnVnKCcrIHB1c2ggbm9kZScsIHRoaXMuaW5vLCBoZWFkZXIpO1xuICAgICAgICAgICAgdmFyIHdyYyA9IHRoaXMuX3dyaXRlKGhlYWRlciwgYnVmKTtcbiAgICAgICAgICAgIHRoaXMuX3dyaXRlVHJhaWwoYnVmLCB3cmMpO1xuICAgICAgICB9ICAgICAgICBcbiAgICB9XG5cbiAgICBwdWxsKCkge1xuICAgICAgICBpZiAoIXRoaXMudm9sKSByZXR1cm47XG4gICAgICAgIHZhciBibGsgPSB0aGlzLnZvbC5kZXYuZ2V0KHRoaXMuaW5vKTtcbiAgICAgICAgaWYgKGJsa1swXSAhPSAwKSB7XG4gICAgICAgICAgICB2YXIge2hlYWRlciwgcmRjfSA9IHRoaXMuX3JlYWQoKTtcbiAgICAgICAgICAgIHRoaXMudm9sLmRlYnVnKCctIHB1bGwgbm9kZScsIHRoaXMuaW5vLCBoZWFkZXIpO1xuICAgICAgICAgICAgdGhpcy5wZXJtID0gaGVhZGVyLnA7XG4gICAgICAgICAgICB0aGlzLm1vZGUgPSBoZWFkZXIubTtcbiAgICAgICAgICAgIHRoaXMuc3ltbGluayA9IGhlYWRlci5zeW1saW5rO1xuICAgICAgICAgICAgaWYgKHRoaXMuc3ltbGluaylcbiAgICAgICAgICAgICAgICBjb25zb2xlLmxvZygnc3ltbGluaycsIHRoaXMuc3ltbGluayk7XG4gICAgICAgICAgICBpZiAodGhpcy52ZXIgIT0gaGVhZGVyLnYpIHtcbiAgICAgICAgICAgICAgICB0aGlzLnZlciA9IGhlYWRlci52O1xuICAgICAgICAgICAgICAgIGlmIChoZWFkZXIueiA+PSAwKSB7XG4gICAgICAgICAgICAgICAgICAgIGlmIChoZWFkZXIuYmxvYikge1xuICAgICAgICAgICAgICAgICAgICAgICAgdGhpcy5idWYgPSB0aGlzLnZvbC5kZXYuZ2V0QmxvYihoZWFkZXIuYmxvYlswXSwgaGVhZGVyLnopO1xuICAgICAgICAgICAgICAgICAgICAgICAgdGhpcy5pc0Jsb2IgPSB0cnVlO1xuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgIGVsc2Uge1xuICAgICAgICAgICAgICAgICAgICAgICAgdmFyIGJ1ZiA9IEJ1ZmZlci5hbGxvYyhoZWFkZXIueiksXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgb2Zmc2V0ID0gdGhpcy52b2wuZGV2LnJlYWRJbnRvKHRoaXMuaW5vLCByZGMsIGhlYWRlci56LCBidWYsIDApO1xuICAgICAgICAgICAgICAgICAgICAgICAgaWYgKGhlYWRlci5uID4gMClcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB0aGlzLl9yZWFkVHJhaWwoYnVmLCBvZmZzZXQpO1xuICAgICAgICAgICAgICAgICAgICAgICAgdGhpcy5idWYgPSBidWY7XG4gICAgICAgICAgICAgICAgICAgICAgICB0aGlzLmlzQmxvYiA9IGZhbHNlO1xuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgfVxuXG4gICAgX3JlYWQoKToge2hlYWRlcjogSW5vZGVEYXRhLCByZGM/OiBudW1iZXJ9IHtcbiAgICAgICAgdmFyIHtidWY6IGpzb24sIHNpemV9ID0gdGhpcy52b2wuZGV2LnJlYWRUZXh0KHRoaXMuaW5vKSxcbiAgICAgICAgICAgIGhlYWRlciA9IEpTT04ucGFyc2UoanNvbik7XG4gICAgICAgIHJldHVybiB7aGVhZGVyLCByZGM6IHNpemV9O1xuICAgIH1cblxuICAgIF93cml0ZShoZWFkZXI6IElub2RlRGF0YSwgYnVmPzogVWludDhBcnJheSkge1xuICAgICAgICB2YXIgd3JjID0gdGhpcy5fd3JpdGVKc29uKGhlYWRlciB8fCB7fSk7XG4gICAgICAgIGlmIChidWYgJiYgd3JjICsgYnVmLmxlbmd0aCA+IHRoaXMudm9sLmRldi5ibG9ja1NpemUpIHtcbiAgICAgICAgICAgIHZhciBuID0gdGhpcy5fbmV4dChoZWFkZXIpLmlubztcbiAgICAgICAgICAgIHdyYyA9IHRoaXMuX3dyaXRlSnNvbihPYmplY3QuYXNzaWduKHt9LCBoZWFkZXIsIHtufSkpO1xuICAgICAgICB9XG4gICAgICAgIHJldHVybiBidWYgP1xuICAgICAgICAgICAgdGhpcy52b2wuZGV2LndyaXRlKHRoaXMuaW5vLCBidWYsIHdyYykgOiAwO1xuICAgIH1cblxuICAgIF93cml0ZUpzb24ob2JqOiB7fSkge1xuICAgICAgICByZXR1cm4gdGhpcy52b2wuZGV2LndyaXRlVGV4dCh0aGlzLmlubywgSlNPTi5zdHJpbmdpZnkob2JqKSk7XG4gICAgfVxuXG4gICAgX3dyaXRlVHJhaWwoYnVmOiBVaW50OEFycmF5LCBvZmZzZXQ6IG51bWJlcikge1xuICAgICAgICB2YXIgbm9kZTogTm9kZVNoYXJlZFZvbHVtZSA9IHRoaXM7XG4gICAgICAgIHdoaWxlIChidWYgJiYgb2Zmc2V0IDwgYnVmLmxlbmd0aCkge1xuICAgICAgICAgICAgYnVmID0gYnVmLnN1YmFycmF5KG9mZnNldCk7XG4gICAgICAgICAgICBub2RlID0gbm9kZS5fbmV4dCgpO1xuICAgICAgICAgICAgb2Zmc2V0ID0gbm9kZS5fd3JpdGUobnVsbCwgYnVmKTtcbiAgICAgICAgICAgIGFzc2VydChvZmZzZXQgPiAwKTtcbiAgICAgICAgfVxuICAgIH1cblxuICAgIF9yZWFkVHJhaWwoYnVmOiBVaW50OEFycmF5LCBvZmZzZXQ6IG51bWJlcikge1xuICAgICAgICB2YXIgbm9kZTogTm9kZVNoYXJlZFZvbHVtZSA9IHRoaXM7XG4gICAgICAgIC8vY29uc29sZS53YXJuKFwicmVhZCB0cmFpbFwiLCB0aGlzLmlubyk7XG4gICAgICAgIHdoaWxlIChvZmZzZXQgPCBidWYubGVuZ3RoKSB7XG4gICAgICAgICAgICBub2RlID0gbm9kZS5fbmV4dCgpO1xuICAgICAgICAgICAgdmFyIHtoZWFkZXIsIHJkY30gPSBub2RlLl9yZWFkKCk7XG4gICAgICAgICAgICByZGMgPSB0aGlzLnZvbC5kZXYucmVhZEludG8obm9kZS5pbm8sIHJkYywgYnVmLmxlbmd0aCAtIG9mZnNldCwgYnVmLCBvZmZzZXQpO1xuICAgICAgICAgICAgYXNzZXJ0KHJkYyA+IDApO1xuICAgICAgICAgICAgb2Zmc2V0ICs9IHJkYztcbiAgICAgICAgICAgIGlmICghKGhlYWRlci5uID49IDApKSBicmVhaztcbiAgICAgICAgfVxuICAgICAgICBhc3NlcnQob2Zmc2V0ID09IGJ1Zi5sZW5ndGgpO1xuICAgIH1cblxuICAgIF9uZXh0KGhlYWRlcj86IElub2RlRGF0YSkge1xuICAgICAgICBpZiAoIWhlYWRlcikgaGVhZGVyID0gdGhpcy5fcmVhZCgpLmhlYWRlcjtcbiAgICAgICAgcmV0dXJuIGhlYWRlci5uID49IDAgPyBcbiAgICAgICAgICAgIHRoaXMudm9sLmdldE5vZGVTaGFyZWQoaGVhZGVyLm4pIDogdGhpcy52b2wuY3JlYXRlTm9kZSgpO1xuICAgIH1cblxufVxuXG5cbmNsYXNzIExpbmtTaGFyZWRWb2x1bWUgZXh0ZW5kcyBMaW5rIHtcblxuICAgIHZvbDogU2hhcmVkVm9sdW1lXG4gICAgcGFyZW50OiBMaW5rU2hhcmVkVm9sdW1lXG4gICAgbm9kZTogTm9kZVNoYXJlZFZvbHVtZVxuXG4gICAgdmVyOiBudW1iZXJcbiAgICBfZGlydHk6IGJvb2xlYW5cblxuICAgIGNvbnN0cnVjdG9yKHZvbDogU2hhcmVkVm9sdW1lLCBwYXJlbnQ6IExpbmssIG5hbWU6IHN0cmluZykge1xuICAgICAgICBzdXBlcih2b2wsIHBhcmVudCwgbmFtZSk7XG4gICAgICAgIHRoaXMudmVyID0gMDtcbiAgICAgICAgdGhpcy5fZGlydHkgPSBmYWxzZTtcbiAgICAgICAgcmV0dXJuIDxhbnk+bmV3IFByb3h5KHRoaXMsIG5ldyBQcm94eUhhbmRsZXJzLkxpbmtIYW5kbGVyKCkpO1xuICAgICAgICAvL3RoaXMuY2hpbGRyZW4gPSBuZXcgUHJveHkodGhpcy5jaGlsZHJlbixcbiAgICAgICAgLy8gICAgbmV3IFByb3h5SGFuZGxlcnMuTGlua0NoaWxkcmVuKHRoaXMpKTtcbiAgICB9XG5cbiAgICBjcmVhdGVDaGlsZChuYW1lOiBzdHJpbmcsIG5vZGU6IE5vZGVTaGFyZWRWb2x1bWUgPSB0aGlzLnZvbC5jcmVhdGVOb2RlKCkpOiBMaW5rU2hhcmVkVm9sdW1lIHtcbiAgICAgICAgdGhpcy5fZGlydHkgPSB0cnVlO1xuICAgICAgICBjb25zdCBsaW5rID0gbmV3IExpbmtTaGFyZWRWb2x1bWUodGhpcy52b2wsIHRoaXMsIG5hbWUpO1xuICAgICAgICBsaW5rLnNldE5vZGUobm9kZSk7XG4gICAgICAgIHRoaXMuc2V0Q2hpbGQobmFtZSwgbGluayk7XG4gICAgICAgIHJldHVybiBsaW5rO1xuICAgIH1cblxuICAgIHNldENoaWxkKG5hbWU6IHN0cmluZywgbGluaz86IExpbmspIHtcbiAgICAgICAgdGhpcy5fZGlydHkgPSB0cnVlO1xuICAgICAgICBsaW5rID0gc3VwZXIuc2V0Q2hpbGQobmFtZSwgbGluayk7XG4gICAgICAgIHRoaXMudG91Y2goKTtcbiAgICAgICAgcmV0dXJuIGxpbms7XG4gICAgfVxuXG4gICAgZGVsZXRlQ2hpbGQobGluazogTGluaykge1xuICAgICAgICB0aGlzLl9kaXJ0eSA9IHRydWU7XG4gICAgICAgIHN1cGVyLmRlbGV0ZUNoaWxkKGxpbmspO1xuICAgICAgICB0aGlzLnRvdWNoKCk7XG4gICAgfVxuXG4gICAgdG91Y2goKSB7XG4gICAgICAgIHRoaXMudm9sLmdldE5vZGVTaGFyZWQodGhpcy5pbm8pLnZlcisrO1xuICAgICAgICB0aGlzLnB1c2goKTtcbiAgICB9XG5cbiAgICBzZXROb2RlKG5vZGU6IE5vZGVTaGFyZWRWb2x1bWUpIHtcbiAgICAgICAgc3VwZXIuc2V0Tm9kZShub2RlKTtcbiAgICAgICAgbm9kZS5fbGluayA9IHRoaXM7ICAgLy8gbmVlZCBhbHNvIHRoZSBiYWNrd2FyZCBsaW5rXG4gICAgfVxuXG4gICAgZ2V0Tm9kZSgpIHtcbiAgICAgICAgY29uc3Qgbm9kZSA9IHRoaXMubm9kZTtcbiAgICAgICAgYXNzZXJ0KG5vZGUsICdMaW5rU2hhcmVkVm9sdW1lLm5vZGUgaXMgdW5zZXQnKTtcbiAgICAgICAgbm9kZS5wdWxsKCk7XG4gICAgICAgIHJldHVybiBub2RlO1xuICAgIH1cblxuICAgIHB1c2goKSB7XG4gICAgICAgIGlmICh0aGlzLnZvbC5kZXYpIHtcbiAgICAgICAgICAgIHZhciBjOiBMaW5rRGF0YSA9IHt9O1xuICAgICAgICAgICAgZm9yIChsZXQgW25hbWUsIGxpbmtdIG9mIE9iamVjdC5lbnRyaWVzKHRoaXMuY2hpbGRyZW4pKSB7XG4gICAgICAgICAgICAgICAgY1tuYW1lXSA9IHtpbm86IGxpbmsuaW5vfTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIHZhciBub2RlID0gdGhpcy5nZXROb2RlKCksXG4gICAgICAgICAgICAgICAgZGF0YSA9IEpTT04uc3RyaW5naWZ5KGMpO1xuICAgICAgICAgICAgdGhpcy52b2wuZGVidWcoJysgcHVzaCBsaW5rJywgdGhpcy5pbm8sIGRhdGEpO1xuICAgICAgICAgICAgbm9kZS5idWYgPSBCdWZmZXIuZnJvbShkYXRhKTtcbiAgICAgICAgICAgIG5vZGUudmVyKys7XG4gICAgICAgICAgICBub2RlLnB1c2goKTtcbiAgICAgICAgICAgIHRoaXMudmVyID0gbm9kZS52ZXI7XG4gICAgICAgICAgICB0aGlzLl9kaXJ0eSA9IGZhbHNlO1xuICAgICAgICB9XG4gICAgfVxuXG4gICAgcHVsbCgpIHtcbiAgICAgICAgdmFyIGJsayA9IHRoaXMudm9sLmRldi5nZXQodGhpcy5pbm8pO1xuICAgICAgICBpZiAoYmxrWzBdICE9IDApIHtcbiAgICAgICAgICAgIHZhciBub2RlID0gdGhpcy5nZXROb2RlKCk7XG4gICAgICAgICAgICBub2RlLnB1bGwoKTtcbiAgICAgICAgICAgIGlmIChub2RlLmlzRGlyZWN0b3J5KCkgJiYgbm9kZS5idWYgJiYgbm9kZS52ZXIgIT09IHRoaXMudmVyKSB7XG4gICAgICAgICAgICAgICAgdmFyIGM6IExpbmtEYXRhID0gSlNPTi5wYXJzZShub2RlLmJ1Zi50b1N0cmluZygndXRmLTgnKSk7XG4gICAgICAgICAgICAgICAgdGhpcy52b2wuZGVidWcoJy0gcHVsbCBsaW5rJywgdGhpcy5pbm8sIGMpO1xuICAgICAgICAgICAgICAgIHZhciBjaGlsZHJlbiA9IHt9O1xuICAgICAgICAgICAgICAgIGZvciAobGV0IFtuYW1lLCBsaW5rRGF0YV0gb2YgT2JqZWN0LmVudHJpZXMoYyB8fCB7fSkpIHtcbiAgICAgICAgICAgICAgICAgICAgaWYgKHR5cGVvZiBsaW5rRGF0YS5pbm8gPT09ICdudW1iZXInKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICBsZXQgaW5vZGUgPSB0aGlzLnZvbC5nZXROb2RlU2hhcmVkKGxpbmtEYXRhLmlubyk7XG4gICAgICAgICAgICAgICAgICAgICAgICBjaGlsZHJlbltuYW1lXSA9IGlub2RlLmdldExpbmsodGhpcywgbmFtZSk7XG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgdGhpcy5jaGlsZHJlbiA9IGNoaWxkcmVuO1xuICAgICAgICAgICAgICAgIHRoaXMudmVyID0gbm9kZS52ZXI7XG4gICAgICAgICAgICAgICAgdGhpcy5fZGlydHkgPSBmYWxzZTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgIH1cblxufVxuXG5cbnR5cGUgSW5vZGVEYXRhID0ge1xuICAgIHA6IG51bWJlclxuICAgIG06IG51bWJlclxuICAgIHo/OiBudW1iZXJcbiAgICBuPzogbnVtYmVyXG4gICAgdj86IG51bWJlclxuICAgIHN5bWxpbms/OiBzdHJpbmdbXVxuICAgIGJsb2I/OiBbbnVtYmVyXVxufTtcblxudHlwZSBMaW5rRGF0YSA9IHtbbmFtZTogc3RyaW5nXToge2lubzogbnVtYmVyfX07XG5cblxubmFtZXNwYWNlIFByb3h5SGFuZGxlcnMge1xuXG4gICAgLyoqXG4gICAgICogUHJveHkgaGFuZGxlciBmb3IgTGlua1NoYXJlZFZvbHVtZS5cbiAgICAgKi9cbiAgICBleHBvcnQgY2xhc3MgTGlua0hhbmRsZXIge1xuICAgICAgICBnZXQobGluazogTGlua1NoYXJlZFZvbHVtZSwgbmFtZTogc3RyaW5nKSB7XG4gICAgICAgICAgICBpZiAobmFtZSA9PT0gJ2NoaWxkcmVuJyAmJiBsaW5rLnZvbC5kZXYgJiYgIWxpbmsuX2RpcnR5KSB7XG4gICAgICAgICAgICAgICAgbGluay5wdWxsKCk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICByZXR1cm4gbGlua1tuYW1lXTtcbiAgICAgICAgfVxuICAgIH1cblxuICAgIC8qKlxuICAgICAqIFByb3h5IGhhbmRsZXIgZm9yIExpbmtTaGFyZWRWb2x1bWUuY2hpbGRyZW4uXG4gICAgICogKGN1cnJlbnRseSBub3QgaW4gdXNlIGFzIGl0IHNlZW1zIHRvIG1ha2UgdGhpbmdzIHNsb3dlci4pXG4gICAgICovXG4gICAgZXhwb3J0IGNsYXNzIExpbmtDaGlsZHJlbiB7XG4gICAgICAgIGxpbms6IExpbmtTaGFyZWRWb2x1bWU7XG4gICAgICAgIGNvbnN0cnVjdG9yKGxpbms6IExpbmtTaGFyZWRWb2x1bWUpIHsgdGhpcy5saW5rID0gbGluazsgfVxuXG4gICAgICAgIGdldE93blByb3BlcnR5RGVzY3JpcHRvcihjaGlsZHJlbjoge30sIG5hbWU6IHN0cmluZykge1xuICAgICAgICAgICAgdGhpcy5saW5rLnB1bGwoKTtcbiAgICAgICAgICAgIHJldHVybiBjaGlsZHJlbi5oYXNPd25Qcm9wZXJ0eShuYW1lKSA/IFxuICAgICAgICAgICAgICAgIHtjb25maWd1cmFibGU6IHRydWUsIGVudW1lcmFibGU6IHRydWV9IDogdW5kZWZpbmVkO1xuICAgICAgICB9XG5cbiAgICAgICAgZ2V0KGNoaWxkcmVuOiB7fSwgbmFtZTogc3RyaW5nKSB7XG4gICAgICAgICAgICB0aGlzLmxpbmsucHVsbCgpO1xuICAgICAgICAgICAgcmV0dXJuIGNoaWxkcmVuW25hbWVdO1xuICAgICAgICB9XG5cbiAgICAgICAgc2V0KGNoaWxkcmVuOiB7fSwgbmFtZTogc3RyaW5nLCB2YWx1ZTogYW55KSB7XG4gICAgICAgICAgICAvLyB0aGlzIGlzIG5lZWRlZCB0byBwcmV2ZW50IGdldE93blByb3BlcnR5RGVzY3JpcHRvciBmcm9tIGJlaW5nXG4gICAgICAgICAgICAvLyBjYWxsZWQgcmVjdXJzaXZlbHkgZnJvbSBMaW5rU2hhcmVkVm9sdW1lLnB1bGwoKVxuICAgICAgICAgICAgY2hpbGRyZW5bbmFtZV0gPSB2YWx1ZTtcbiAgICAgICAgICAgIHJldHVybiB0cnVlO1xuICAgICAgICB9XG4gICAgfVxuXG59XG5cblxuZXhwb3J0IHsgU2hhcmVkVm9sdW1lLCBTaGFyZWRWb2x1bWVQcm9wcywgQmxvY2tEZXZpY2UsIEJsb2NrRGV2aWNlUHJvcHMgfVxuIiwgIi8qKlxuICogQWxsb3dzIHRvIHNpZ25hbCB0aGUgd29ya2VyIHRoYXQgaXQgaXMgcmVxdWVzdGVkIHRvIGludGVycnVwdCBpdHMgY3VycmVudFxuICogY29tcHV0YXRpb24uXG4gKiBUaGUgcGFnZSBzaWduYWxzIHRoZSB3b3JrZXIgYnkgaW5jcmVtZW50aW5nIGEgMzItYml0IHNoYXJlZCBpbnRlZ2VyLlxuICogVGhlIHdvcmtlciBwZXJpb2RpY2FsbHkgY2hlY2tzIHRoZSBpbnRlZ2VyLCBhbmQgd291bGQgZXZlbnR1YWxseSBicmVha1xuICogaXRzIGV4ZWN1dGlvbiBpZiB0aGUgaW50ZWdlciBoYXMgYmVlbiBtb2RpZmllZCBzaW5jZSB0aGUgbGFzdCB0aW1lIGl0IHdhc1xuICogcmVhZC5cbiAqL1xuY2xhc3MgV29ya2VySW50ZXJydXB0cyB7XG5cbiAgICBkZWJ1ZyA6IGJvb2xlYW4gPSBmYWxzZTtcbiAgICB2ZWM6IFVpbnQzMkFycmF5XG4gICAgY2hlY2twb2ludDogbnVtYmVyID0gMFxuXG4gICAgc2V0dXAodmVjOiBVaW50MzJBcnJheSkge1xuICAgICAgICBjb25zb2xlLmxvZyhcIkludGVycnVwdCBTdXBwb3J0IEVuYWJsZWQgKHNlcnZlcilcIik7XG4gICAgICAgIHRoaXMudmVjID0gdmVjO1xuICAgIH1cblxuICAgIHBlbmRpbmcoKTogYm9vbGVhbiB7XG4gICAgICAgIGlmICh0aGlzLnZlYyAmJiB0eXBlb2YgQXRvbWljcyAhPT0gJ3VuZGVmaW5lZCcpIHtcbiAgICAgICAgICAgIHZhciBsZCA9IEF0b21pY3MubG9hZCh0aGlzLnZlYywgMCk7XG4gICAgICAgICAgICBpZiAobGQgPiB0aGlzLmNoZWNrcG9pbnQpIHtcbiAgICAgICAgICAgICAgaWYgKHRoaXMuZGVidWcpIGNvbnNvbGUubG9nKFwiUm9jcSBoYXMgYmVlbiBpbnRlcnJ1cHRlZCFcIik7XG4gICAgICAgICAgICAgICAgdGhpcy5jaGVja3BvaW50ID0gbGQ7XG4gICAgICAgICAgICAgICAgcmV0dXJuIHRydWU7XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuIGZhbHNlO1xuICAgIH1cbn1cblxuZXhwb3J0IHsgV29ya2VySW50ZXJydXB0cyB9XG4iXSwKICAibWFwcGluZ3MiOiAiOzs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7O0FBQUEsTUFBTSxTQUNBLEtBQ0EsS0FPTztBQVRiO0FBQUE7QUFBQSxNQUFNLFVBQVU7QUFDaEIsTUFBTSxNQUFNLENBQUM7QUFDYixNQUFNLE1BQU0sTUFBTTtBQU9YLE1BQU0sVUFBVTtBQUFBLFFBQ3JCO0FBQUEsUUFDQTtBQUFBLFFBQ0E7QUFBQSxNQUNGO0FBQUE7QUFBQTs7O0FDYkE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUVBLGNBQVEsYUFBYTtBQUNyQixjQUFRLGNBQWM7QUFDdEIsY0FBUSxnQkFBZ0I7QUFFeEIsVUFBSSxTQUFTLENBQUM7QUFDZCxVQUFJLFlBQVksQ0FBQztBQUNqQixVQUFJLE1BQU0sT0FBTyxlQUFlLGNBQWMsYUFBYTtBQUUzRCxVQUFJLE9BQU87QUFDWCxXQUFTLElBQUksR0FBRyxNQUFNLEtBQUssUUFBUSxJQUFJLEtBQUssRUFBRSxHQUFHO0FBQy9DLGVBQU8sQ0FBQyxJQUFJLEtBQUssQ0FBQztBQUNsQixrQkFBVSxLQUFLLFdBQVcsQ0FBQyxDQUFDLElBQUk7QUFBQSxNQUNsQztBQUhTO0FBQU87QUFPaEIsZ0JBQVUsSUFBSSxXQUFXLENBQUMsQ0FBQyxJQUFJO0FBQy9CLGdCQUFVLElBQUksV0FBVyxDQUFDLENBQUMsSUFBSTtBQUUvQixlQUFTLFFBQVMsS0FBSztBQUNyQixZQUFJQSxPQUFNLElBQUk7QUFFZCxZQUFJQSxPQUFNLElBQUksR0FBRztBQUNmLGdCQUFNLElBQUksTUFBTSxnREFBZ0Q7QUFBQSxRQUNsRTtBQUlBLFlBQUksV0FBVyxJQUFJLFFBQVEsR0FBRztBQUM5QixZQUFJLGFBQWE7QUFBSSxxQkFBV0E7QUFFaEMsWUFBSSxrQkFBa0IsYUFBYUEsT0FDL0IsSUFDQSxJQUFLLFdBQVc7QUFFcEIsZUFBTyxDQUFDLFVBQVUsZUFBZTtBQUFBLE1BQ25DO0FBR0EsZUFBUyxXQUFZLEtBQUs7QUFDeEIsWUFBSSxPQUFPLFFBQVEsR0FBRztBQUN0QixZQUFJLFdBQVcsS0FBSyxDQUFDO0FBQ3JCLFlBQUksa0JBQWtCLEtBQUssQ0FBQztBQUM1QixnQkFBUyxXQUFXLG1CQUFtQixJQUFJLElBQUs7QUFBQSxNQUNsRDtBQUVBLGVBQVMsWUFBYSxLQUFLLFVBQVUsaUJBQWlCO0FBQ3BELGdCQUFTLFdBQVcsbUJBQW1CLElBQUksSUFBSztBQUFBLE1BQ2xEO0FBRUEsZUFBUyxZQUFhLEtBQUs7QUFDekIsWUFBSTtBQUNKLFlBQUksT0FBTyxRQUFRLEdBQUc7QUFDdEIsWUFBSSxXQUFXLEtBQUssQ0FBQztBQUNyQixZQUFJLGtCQUFrQixLQUFLLENBQUM7QUFFNUIsWUFBSSxNQUFNLElBQUksSUFBSSxZQUFZLEtBQUssVUFBVSxlQUFlLENBQUM7QUFFN0QsWUFBSSxVQUFVO0FBR2QsWUFBSUEsT0FBTSxrQkFBa0IsSUFDeEIsV0FBVyxJQUNYO0FBRUosWUFBSUM7QUFDSixhQUFLQSxLQUFJLEdBQUdBLEtBQUlELE1BQUtDLE1BQUssR0FBRztBQUMzQixnQkFDRyxVQUFVLElBQUksV0FBV0EsRUFBQyxDQUFDLEtBQUssS0FDaEMsVUFBVSxJQUFJLFdBQVdBLEtBQUksQ0FBQyxDQUFDLEtBQUssS0FDcEMsVUFBVSxJQUFJLFdBQVdBLEtBQUksQ0FBQyxDQUFDLEtBQUssSUFDckMsVUFBVSxJQUFJLFdBQVdBLEtBQUksQ0FBQyxDQUFDO0FBQ2pDLGNBQUksU0FBUyxJQUFLLE9BQU8sS0FBTTtBQUMvQixjQUFJLFNBQVMsSUFBSyxPQUFPLElBQUs7QUFDOUIsY0FBSSxTQUFTLElBQUksTUFBTTtBQUFBLFFBQ3pCO0FBRUEsWUFBSSxvQkFBb0IsR0FBRztBQUN6QixnQkFDRyxVQUFVLElBQUksV0FBV0EsRUFBQyxDQUFDLEtBQUssSUFDaEMsVUFBVSxJQUFJLFdBQVdBLEtBQUksQ0FBQyxDQUFDLEtBQUs7QUFDdkMsY0FBSSxTQUFTLElBQUksTUFBTTtBQUFBLFFBQ3pCO0FBRUEsWUFBSSxvQkFBb0IsR0FBRztBQUN6QixnQkFDRyxVQUFVLElBQUksV0FBV0EsRUFBQyxDQUFDLEtBQUssS0FDaEMsVUFBVSxJQUFJLFdBQVdBLEtBQUksQ0FBQyxDQUFDLEtBQUssSUFDcEMsVUFBVSxJQUFJLFdBQVdBLEtBQUksQ0FBQyxDQUFDLEtBQUs7QUFDdkMsY0FBSSxTQUFTLElBQUssT0FBTyxJQUFLO0FBQzlCLGNBQUksU0FBUyxJQUFJLE1BQU07QUFBQSxRQUN6QjtBQUVBLGVBQU87QUFBQSxNQUNUO0FBRUEsZUFBUyxnQkFBaUIsS0FBSztBQUM3QixlQUFPLE9BQU8sT0FBTyxLQUFLLEVBQUksSUFDNUIsT0FBTyxPQUFPLEtBQUssRUFBSSxJQUN2QixPQUFPLE9BQU8sSUFBSSxFQUFJLElBQ3RCLE9BQU8sTUFBTSxFQUFJO0FBQUEsTUFDckI7QUFFQSxlQUFTLFlBQWEsT0FBTyxPQUFPLEtBQUs7QUFDdkMsWUFBSTtBQUNKLFlBQUksU0FBUyxDQUFDO0FBQ2QsaUJBQVNBLEtBQUksT0FBT0EsS0FBSSxLQUFLQSxNQUFLLEdBQUc7QUFDbkMsaUJBQ0ksTUFBTUEsRUFBQyxLQUFLLEtBQU0sYUFDbEIsTUFBTUEsS0FBSSxDQUFDLEtBQUssSUFBSyxVQUN0QixNQUFNQSxLQUFJLENBQUMsSUFBSTtBQUNsQixpQkFBTyxLQUFLLGdCQUFnQixHQUFHLENBQUM7QUFBQSxRQUNsQztBQUNBLGVBQU8sT0FBTyxLQUFLLEVBQUU7QUFBQSxNQUN2QjtBQUVBLGVBQVMsY0FBZSxPQUFPO0FBQzdCLFlBQUk7QUFDSixZQUFJRCxPQUFNLE1BQU07QUFDaEIsWUFBSSxhQUFhQSxPQUFNO0FBQ3ZCLFlBQUksUUFBUSxDQUFDO0FBQ2IsWUFBSSxpQkFBaUI7QUFHckIsaUJBQVNDLEtBQUksR0FBR0MsUUFBT0YsT0FBTSxZQUFZQyxLQUFJQyxPQUFNRCxNQUFLLGdCQUFnQjtBQUN0RSxnQkFBTSxLQUFLLFlBQVksT0FBT0EsSUFBSUEsS0FBSSxpQkFBa0JDLFFBQU9BLFFBQVFELEtBQUksY0FBZSxDQUFDO0FBQUEsUUFDN0Y7QUFHQSxZQUFJLGVBQWUsR0FBRztBQUNwQixnQkFBTSxNQUFNRCxPQUFNLENBQUM7QUFDbkIsZ0JBQU07QUFBQSxZQUNKLE9BQU8sT0FBTyxDQUFDLElBQ2YsT0FBUSxPQUFPLElBQUssRUFBSSxJQUN4QjtBQUFBLFVBQ0Y7QUFBQSxRQUNGLFdBQVcsZUFBZSxHQUFHO0FBQzNCLGlCQUFPLE1BQU1BLE9BQU0sQ0FBQyxLQUFLLEtBQUssTUFBTUEsT0FBTSxDQUFDO0FBQzNDLGdCQUFNO0FBQUEsWUFDSixPQUFPLE9BQU8sRUFBRSxJQUNoQixPQUFRLE9BQU8sSUFBSyxFQUFJLElBQ3hCLE9BQVEsT0FBTyxJQUFLLEVBQUksSUFDeEI7QUFBQSxVQUNGO0FBQUEsUUFDRjtBQUVBLGVBQU8sTUFBTSxLQUFLLEVBQUU7QUFBQSxNQUN0QjtBQUFBO0FBQUE7OztBQ3JKQTtBQUFBO0FBQUE7QUFBQTtBQUNBLGNBQVEsT0FBTyxTQUFVRyxTQUFRLFFBQVEsTUFBTSxNQUFNLFFBQVE7QUFDM0QsWUFBSSxHQUFHO0FBQ1AsWUFBSSxPQUFRLFNBQVMsSUFBSyxPQUFPO0FBQ2pDLFlBQUksUUFBUSxLQUFLLFFBQVE7QUFDekIsWUFBSSxRQUFRLFFBQVE7QUFDcEIsWUFBSSxRQUFRO0FBQ1osWUFBSSxJQUFJLE9BQVEsU0FBUyxJQUFLO0FBQzlCLFlBQUksSUFBSSxPQUFPLEtBQUs7QUFDcEIsWUFBSSxJQUFJQSxRQUFPLFNBQVMsQ0FBQztBQUV6QixhQUFLO0FBRUwsWUFBSSxLQUFNLEtBQU0sQ0FBQyxTQUFVO0FBQzNCLGNBQU8sQ0FBQztBQUNSLGlCQUFTO0FBQ1QsZUFBTyxRQUFRLEdBQUcsSUFBSyxJQUFJLE1BQU9BLFFBQU8sU0FBUyxDQUFDLEdBQUcsS0FBSyxHQUFHLFNBQVMsR0FBRztBQUFBLFFBQUM7QUFFM0UsWUFBSSxLQUFNLEtBQU0sQ0FBQyxTQUFVO0FBQzNCLGNBQU8sQ0FBQztBQUNSLGlCQUFTO0FBQ1QsZUFBTyxRQUFRLEdBQUcsSUFBSyxJQUFJLE1BQU9BLFFBQU8sU0FBUyxDQUFDLEdBQUcsS0FBSyxHQUFHLFNBQVMsR0FBRztBQUFBLFFBQUM7QUFFM0UsWUFBSSxNQUFNLEdBQUc7QUFDWCxjQUFJLElBQUk7QUFBQSxRQUNWLFdBQVcsTUFBTSxNQUFNO0FBQ3JCLGlCQUFPLElBQUksT0FBUSxJQUFJLEtBQUssS0FBSztBQUFBLFFBQ25DLE9BQU87QUFDTCxjQUFJLElBQUksS0FBSyxJQUFJLEdBQUcsSUFBSTtBQUN4QixjQUFJLElBQUk7QUFBQSxRQUNWO0FBQ0EsZ0JBQVEsSUFBSSxLQUFLLEtBQUssSUFBSSxLQUFLLElBQUksR0FBRyxJQUFJLElBQUk7QUFBQSxNQUNoRDtBQUVBLGNBQVEsUUFBUSxTQUFVQSxTQUFRLE9BQU8sUUFBUSxNQUFNLE1BQU0sUUFBUTtBQUNuRSxZQUFJLEdBQUcsR0FBRztBQUNWLFlBQUksT0FBUSxTQUFTLElBQUssT0FBTztBQUNqQyxZQUFJLFFBQVEsS0FBSyxRQUFRO0FBQ3pCLFlBQUksUUFBUSxRQUFRO0FBQ3BCLFlBQUksS0FBTSxTQUFTLEtBQUssS0FBSyxJQUFJLEdBQUcsR0FBRyxJQUFJLEtBQUssSUFBSSxHQUFHLEdBQUcsSUFBSTtBQUM5RCxZQUFJLElBQUksT0FBTyxJQUFLLFNBQVM7QUFDN0IsWUFBSSxJQUFJLE9BQU8sSUFBSTtBQUNuQixZQUFJLElBQUksUUFBUSxLQUFNLFVBQVUsS0FBSyxJQUFJLFFBQVEsSUFBSyxJQUFJO0FBRTFELGdCQUFRLEtBQUssSUFBSSxLQUFLO0FBRXRCLFlBQUksTUFBTSxLQUFLLEtBQUssVUFBVSxVQUFVO0FBQ3RDLGNBQUksTUFBTSxLQUFLLElBQUksSUFBSTtBQUN2QixjQUFJO0FBQUEsUUFDTixPQUFPO0FBQ0wsY0FBSSxLQUFLLE1BQU0sS0FBSyxJQUFJLEtBQUssSUFBSSxLQUFLLEdBQUc7QUFDekMsY0FBSSxTQUFTLElBQUksS0FBSyxJQUFJLEdBQUcsQ0FBQyxDQUFDLEtBQUssR0FBRztBQUNyQztBQUNBLGlCQUFLO0FBQUEsVUFDUDtBQUNBLGNBQUksSUFBSSxTQUFTLEdBQUc7QUFDbEIscUJBQVMsS0FBSztBQUFBLFVBQ2hCLE9BQU87QUFDTCxxQkFBUyxLQUFLLEtBQUssSUFBSSxHQUFHLElBQUksS0FBSztBQUFBLFVBQ3JDO0FBQ0EsY0FBSSxRQUFRLEtBQUssR0FBRztBQUNsQjtBQUNBLGlCQUFLO0FBQUEsVUFDUDtBQUVBLGNBQUksSUFBSSxTQUFTLE1BQU07QUFDckIsZ0JBQUk7QUFDSixnQkFBSTtBQUFBLFVBQ04sV0FBVyxJQUFJLFNBQVMsR0FBRztBQUN6QixpQkFBTSxRQUFRLElBQUssS0FBSyxLQUFLLElBQUksR0FBRyxJQUFJO0FBQ3hDLGdCQUFJLElBQUk7QUFBQSxVQUNWLE9BQU87QUFDTCxnQkFBSSxRQUFRLEtBQUssSUFBSSxHQUFHLFFBQVEsQ0FBQyxJQUFJLEtBQUssSUFBSSxHQUFHLElBQUk7QUFDckQsZ0JBQUk7QUFBQSxVQUNOO0FBQUEsUUFDRjtBQUVBLGVBQU8sUUFBUSxHQUFHQSxRQUFPLFNBQVMsQ0FBQyxJQUFJLElBQUksS0FBTSxLQUFLLEdBQUcsS0FBSyxLQUFLLFFBQVEsR0FBRztBQUFBLFFBQUM7QUFFL0UsWUFBSyxLQUFLLE9BQVE7QUFDbEIsZ0JBQVE7QUFDUixlQUFPLE9BQU8sR0FBR0EsUUFBTyxTQUFTLENBQUMsSUFBSSxJQUFJLEtBQU0sS0FBSyxHQUFHLEtBQUssS0FBSyxRQUFRLEdBQUc7QUFBQSxRQUFDO0FBRTlFLFFBQUFBLFFBQU8sU0FBUyxJQUFJLENBQUMsS0FBSyxJQUFJO0FBQUEsTUFDaEM7QUFBQTtBQUFBOzs7QUNwRkE7QUFBQTtBQUFBO0FBQUE7QUFBQSxVQUFJLFdBQVcsQ0FBQyxFQUFFO0FBRWxCLGFBQU8sVUFBVSxNQUFNLFdBQVcsU0FBVSxLQUFLO0FBQy9DLGVBQU8sU0FBUyxLQUFLLEdBQUcsS0FBSztBQUFBLE1BQy9CO0FBQUE7QUFBQTs7O0FDSkE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQVVBLFVBQUksU0FBUztBQUNiLFVBQUksVUFBVTtBQUNkLFVBQUksVUFBVTtBQUVkLGNBQVEsU0FBU0M7QUFDakIsY0FBUSxhQUFhO0FBQ3JCLGNBQVEsb0JBQW9CO0FBMEI1QixNQUFBQSxRQUFPLHNCQUFzQixLQUFPLHdCQUF3QixTQUN4RCxLQUFPLHNCQUNQLGtCQUFrQjtBQUt0QixjQUFRLGFBQWEsV0FBVztBQUVoQyxlQUFTLG9CQUFxQjtBQUM1QixZQUFJO0FBQ0YsY0FBSSxNQUFNLElBQUksV0FBVyxDQUFDO0FBQzFCLGNBQUksWUFBWSxFQUFDLFdBQVcsV0FBVyxXQUFXLEtBQUssV0FBWTtBQUFFLG1CQUFPO0FBQUEsVUFBRyxFQUFDO0FBQ2hGLGlCQUFPLElBQUksSUFBSSxNQUFNO0FBQUEsVUFDakIsT0FBTyxJQUFJLGFBQWE7QUFBQSxVQUN4QixJQUFJLFNBQVMsR0FBRyxDQUFDLEVBQUUsZUFBZTtBQUFBLFFBQ3hDLFNBQVMsR0FBUDtBQUNBLGlCQUFPO0FBQUEsUUFDVDtBQUFBLE1BQ0Y7QUFFQSxlQUFTLGFBQWM7QUFDckIsZUFBT0EsUUFBTyxzQkFDVixhQUNBO0FBQUEsTUFDTjtBQUVBLGVBQVMsYUFBYyxNQUFNLFFBQVE7QUFDbkMsWUFBSSxXQUFXLElBQUksUUFBUTtBQUN6QixnQkFBTSxJQUFJLFdBQVcsNEJBQTRCO0FBQUEsUUFDbkQ7QUFDQSxZQUFJQSxRQUFPLHFCQUFxQjtBQUU5QixpQkFBTyxJQUFJLFdBQVcsTUFBTTtBQUM1QixlQUFLLFlBQVlBLFFBQU87QUFBQSxRQUMxQixPQUFPO0FBRUwsY0FBSSxTQUFTLE1BQU07QUFDakIsbUJBQU8sSUFBSUEsUUFBTyxNQUFNO0FBQUEsVUFDMUI7QUFDQSxlQUFLLFNBQVM7QUFBQSxRQUNoQjtBQUVBLGVBQU87QUFBQSxNQUNUO0FBWUEsZUFBU0EsUUFBUSxLQUFLLGtCQUFrQixRQUFRO0FBQzlDLFlBQUksQ0FBQ0EsUUFBTyx1QkFBdUIsRUFBRSxnQkFBZ0JBLFVBQVM7QUFDNUQsaUJBQU8sSUFBSUEsUUFBTyxLQUFLLGtCQUFrQixNQUFNO0FBQUEsUUFDakQ7QUFHQSxZQUFJLE9BQU8sUUFBUSxVQUFVO0FBQzNCLGNBQUksT0FBTyxxQkFBcUIsVUFBVTtBQUN4QyxrQkFBTSxJQUFJO0FBQUEsY0FDUjtBQUFBLFlBQ0Y7QUFBQSxVQUNGO0FBQ0EsaUJBQU8sWUFBWSxNQUFNLEdBQUc7QUFBQSxRQUM5QjtBQUNBLGVBQU8sS0FBSyxNQUFNLEtBQUssa0JBQWtCLE1BQU07QUFBQSxNQUNqRDtBQUVBLE1BQUFBLFFBQU8sV0FBVztBQUdsQixNQUFBQSxRQUFPLFdBQVcsU0FBVSxLQUFLO0FBQy9CLFlBQUksWUFBWUEsUUFBTztBQUN2QixlQUFPO0FBQUEsTUFDVDtBQUVBLGVBQVMsS0FBTSxNQUFNLE9BQU8sa0JBQWtCLFFBQVE7QUFDcEQsWUFBSSxPQUFPLFVBQVUsVUFBVTtBQUM3QixnQkFBTSxJQUFJLFVBQVUsdUNBQXVDO0FBQUEsUUFDN0Q7QUFFQSxZQUFJLE9BQU8sZ0JBQWdCLGVBQWUsaUJBQWlCLGFBQWE7QUFDdEUsaUJBQU8sZ0JBQWdCLE1BQU0sT0FBTyxrQkFBa0IsTUFBTTtBQUFBLFFBQzlEO0FBRUEsWUFBSSxPQUFPLFVBQVUsVUFBVTtBQUM3QixpQkFBTyxXQUFXLE1BQU0sT0FBTyxnQkFBZ0I7QUFBQSxRQUNqRDtBQUVBLGVBQU8sV0FBVyxNQUFNLEtBQUs7QUFBQSxNQUMvQjtBQVVBLE1BQUFBLFFBQU8sT0FBTyxTQUFVLE9BQU8sa0JBQWtCLFFBQVE7QUFDdkQsZUFBTyxLQUFLLE1BQU0sT0FBTyxrQkFBa0IsTUFBTTtBQUFBLE1BQ25EO0FBRUEsVUFBSUEsUUFBTyxxQkFBcUI7QUFDOUIsUUFBQUEsUUFBTyxVQUFVLFlBQVksV0FBVztBQUN4QyxRQUFBQSxRQUFPLFlBQVk7QUFDbkIsWUFBSSxPQUFPLFdBQVcsZUFBZSxPQUFPLFdBQ3hDQSxRQUFPLE9BQU8sT0FBTyxNQUFNQSxTQUFRO0FBRXJDLGlCQUFPLGVBQWVBLFNBQVEsT0FBTyxTQUFTO0FBQUEsWUFDNUMsT0FBTztBQUFBLFlBQ1AsY0FBYztBQUFBLFVBQ2hCLENBQUM7QUFBQSxRQUNIO0FBQUEsTUFDRjtBQUVBLGVBQVMsV0FBWSxNQUFNO0FBQ3pCLFlBQUksT0FBTyxTQUFTLFVBQVU7QUFDNUIsZ0JBQU0sSUFBSSxVQUFVLGtDQUFrQztBQUFBLFFBQ3hELFdBQVcsT0FBTyxHQUFHO0FBQ25CLGdCQUFNLElBQUksV0FBVyxzQ0FBc0M7QUFBQSxRQUM3RDtBQUFBLE1BQ0Y7QUFFQSxlQUFTLE1BQU8sTUFBTSxNQUFNLE1BQU0sVUFBVTtBQUMxQyxtQkFBVyxJQUFJO0FBQ2YsWUFBSSxRQUFRLEdBQUc7QUFDYixpQkFBTyxhQUFhLE1BQU0sSUFBSTtBQUFBLFFBQ2hDO0FBQ0EsWUFBSSxTQUFTLFFBQVc7QUFJdEIsaUJBQU8sT0FBTyxhQUFhLFdBQ3ZCLGFBQWEsTUFBTSxJQUFJLEVBQUUsS0FBSyxNQUFNLFFBQVEsSUFDNUMsYUFBYSxNQUFNLElBQUksRUFBRSxLQUFLLElBQUk7QUFBQSxRQUN4QztBQUNBLGVBQU8sYUFBYSxNQUFNLElBQUk7QUFBQSxNQUNoQztBQU1BLE1BQUFBLFFBQU8sUUFBUSxTQUFVLE1BQU0sTUFBTSxVQUFVO0FBQzdDLGVBQU8sTUFBTSxNQUFNLE1BQU0sTUFBTSxRQUFRO0FBQUEsTUFDekM7QUFFQSxlQUFTLFlBQWEsTUFBTSxNQUFNO0FBQ2hDLG1CQUFXLElBQUk7QUFDZixlQUFPLGFBQWEsTUFBTSxPQUFPLElBQUksSUFBSSxRQUFRLElBQUksSUFBSSxDQUFDO0FBQzFELFlBQUksQ0FBQ0EsUUFBTyxxQkFBcUI7QUFDL0IsbUJBQVMsSUFBSSxHQUFHLElBQUksTUFBTSxFQUFFLEdBQUc7QUFDN0IsaUJBQUssQ0FBQyxJQUFJO0FBQUEsVUFDWjtBQUFBLFFBQ0Y7QUFDQSxlQUFPO0FBQUEsTUFDVDtBQUtBLE1BQUFBLFFBQU8sY0FBYyxTQUFVLE1BQU07QUFDbkMsZUFBTyxZQUFZLE1BQU0sSUFBSTtBQUFBLE1BQy9CO0FBSUEsTUFBQUEsUUFBTyxrQkFBa0IsU0FBVSxNQUFNO0FBQ3ZDLGVBQU8sWUFBWSxNQUFNLElBQUk7QUFBQSxNQUMvQjtBQUVBLGVBQVMsV0FBWSxNQUFNLFFBQVEsVUFBVTtBQUMzQyxZQUFJLE9BQU8sYUFBYSxZQUFZLGFBQWEsSUFBSTtBQUNuRCxxQkFBVztBQUFBLFFBQ2I7QUFFQSxZQUFJLENBQUNBLFFBQU8sV0FBVyxRQUFRLEdBQUc7QUFDaEMsZ0JBQU0sSUFBSSxVQUFVLDRDQUE0QztBQUFBLFFBQ2xFO0FBRUEsWUFBSSxTQUFTLFdBQVcsUUFBUSxRQUFRLElBQUk7QUFDNUMsZUFBTyxhQUFhLE1BQU0sTUFBTTtBQUVoQyxZQUFJLFNBQVMsS0FBSyxNQUFNLFFBQVEsUUFBUTtBQUV4QyxZQUFJLFdBQVcsUUFBUTtBQUlyQixpQkFBTyxLQUFLLE1BQU0sR0FBRyxNQUFNO0FBQUEsUUFDN0I7QUFFQSxlQUFPO0FBQUEsTUFDVDtBQUVBLGVBQVMsY0FBZSxNQUFNLE9BQU87QUFDbkMsWUFBSSxTQUFTLE1BQU0sU0FBUyxJQUFJLElBQUksUUFBUSxNQUFNLE1BQU0sSUFBSTtBQUM1RCxlQUFPLGFBQWEsTUFBTSxNQUFNO0FBQ2hDLGlCQUFTLElBQUksR0FBRyxJQUFJLFFBQVEsS0FBSyxHQUFHO0FBQ2xDLGVBQUssQ0FBQyxJQUFJLE1BQU0sQ0FBQyxJQUFJO0FBQUEsUUFDdkI7QUFDQSxlQUFPO0FBQUEsTUFDVDtBQUVBLGVBQVMsZ0JBQWlCLE1BQU0sT0FBTyxZQUFZLFFBQVE7QUFDekQsY0FBTTtBQUVOLFlBQUksYUFBYSxLQUFLLE1BQU0sYUFBYSxZQUFZO0FBQ25ELGdCQUFNLElBQUksV0FBVywyQkFBNkI7QUFBQSxRQUNwRDtBQUVBLFlBQUksTUFBTSxhQUFhLGNBQWMsVUFBVSxJQUFJO0FBQ2pELGdCQUFNLElBQUksV0FBVywyQkFBNkI7QUFBQSxRQUNwRDtBQUVBLFlBQUksZUFBZSxVQUFhLFdBQVcsUUFBVztBQUNwRCxrQkFBUSxJQUFJLFdBQVcsS0FBSztBQUFBLFFBQzlCLFdBQVcsV0FBVyxRQUFXO0FBQy9CLGtCQUFRLElBQUksV0FBVyxPQUFPLFVBQVU7QUFBQSxRQUMxQyxPQUFPO0FBQ0wsa0JBQVEsSUFBSSxXQUFXLE9BQU8sWUFBWSxNQUFNO0FBQUEsUUFDbEQ7QUFFQSxZQUFJQSxRQUFPLHFCQUFxQjtBQUU5QixpQkFBTztBQUNQLGVBQUssWUFBWUEsUUFBTztBQUFBLFFBQzFCLE9BQU87QUFFTCxpQkFBTyxjQUFjLE1BQU0sS0FBSztBQUFBLFFBQ2xDO0FBQ0EsZUFBTztBQUFBLE1BQ1Q7QUFFQSxlQUFTLFdBQVksTUFBTSxLQUFLO0FBQzlCLFlBQUlBLFFBQU8sU0FBUyxHQUFHLEdBQUc7QUFDeEIsY0FBSSxNQUFNLFFBQVEsSUFBSSxNQUFNLElBQUk7QUFDaEMsaUJBQU8sYUFBYSxNQUFNLEdBQUc7QUFFN0IsY0FBSSxLQUFLLFdBQVcsR0FBRztBQUNyQixtQkFBTztBQUFBLFVBQ1Q7QUFFQSxjQUFJLEtBQUssTUFBTSxHQUFHLEdBQUcsR0FBRztBQUN4QixpQkFBTztBQUFBLFFBQ1Q7QUFFQSxZQUFJLEtBQUs7QUFDUCxjQUFLLE9BQU8sZ0JBQWdCLGVBQ3hCLElBQUksa0JBQWtCLGVBQWdCLFlBQVksS0FBSztBQUN6RCxnQkFBSSxPQUFPLElBQUksV0FBVyxZQUFZLE1BQU0sSUFBSSxNQUFNLEdBQUc7QUFDdkQscUJBQU8sYUFBYSxNQUFNLENBQUM7QUFBQSxZQUM3QjtBQUNBLG1CQUFPLGNBQWMsTUFBTSxHQUFHO0FBQUEsVUFDaEM7QUFFQSxjQUFJLElBQUksU0FBUyxZQUFZLFFBQVEsSUFBSSxJQUFJLEdBQUc7QUFDOUMsbUJBQU8sY0FBYyxNQUFNLElBQUksSUFBSTtBQUFBLFVBQ3JDO0FBQUEsUUFDRjtBQUVBLGNBQU0sSUFBSSxVQUFVLG9GQUFvRjtBQUFBLE1BQzFHO0FBRUEsZUFBUyxRQUFTLFFBQVE7QUFHeEIsWUFBSSxVQUFVLFdBQVcsR0FBRztBQUMxQixnQkFBTSxJQUFJLFdBQVcsNERBQ2EsV0FBVyxFQUFFLFNBQVMsRUFBRSxJQUFJLFFBQVE7QUFBQSxRQUN4RTtBQUNBLGVBQU8sU0FBUztBQUFBLE1BQ2xCO0FBRUEsZUFBUyxXQUFZLFFBQVE7QUFDM0IsWUFBSSxDQUFDLFVBQVUsUUFBUTtBQUNyQixtQkFBUztBQUFBLFFBQ1g7QUFDQSxlQUFPQSxRQUFPLE1BQU0sQ0FBQyxNQUFNO0FBQUEsTUFDN0I7QUFFQSxNQUFBQSxRQUFPLFdBQVcsU0FBUyxTQUFVLEdBQUc7QUFDdEMsZUFBTyxDQUFDLEVBQUUsS0FBSyxRQUFRLEVBQUU7QUFBQSxNQUMzQjtBQUVBLE1BQUFBLFFBQU8sVUFBVSxTQUFTLFFBQVMsR0FBRyxHQUFHO0FBQ3ZDLFlBQUksQ0FBQ0EsUUFBTyxTQUFTLENBQUMsS0FBSyxDQUFDQSxRQUFPLFNBQVMsQ0FBQyxHQUFHO0FBQzlDLGdCQUFNLElBQUksVUFBVSwyQkFBMkI7QUFBQSxRQUNqRDtBQUVBLFlBQUksTUFBTTtBQUFHLGlCQUFPO0FBRXBCLFlBQUksSUFBSSxFQUFFO0FBQ1YsWUFBSSxJQUFJLEVBQUU7QUFFVixpQkFBUyxJQUFJLEdBQUcsTUFBTSxLQUFLLElBQUksR0FBRyxDQUFDLEdBQUcsSUFBSSxLQUFLLEVBQUUsR0FBRztBQUNsRCxjQUFJLEVBQUUsQ0FBQyxNQUFNLEVBQUUsQ0FBQyxHQUFHO0FBQ2pCLGdCQUFJLEVBQUUsQ0FBQztBQUNQLGdCQUFJLEVBQUUsQ0FBQztBQUNQO0FBQUEsVUFDRjtBQUFBLFFBQ0Y7QUFFQSxZQUFJLElBQUk7QUFBRyxpQkFBTztBQUNsQixZQUFJLElBQUk7QUFBRyxpQkFBTztBQUNsQixlQUFPO0FBQUEsTUFDVDtBQUVBLE1BQUFBLFFBQU8sYUFBYSxTQUFTLFdBQVksVUFBVTtBQUNqRCxnQkFBUSxPQUFPLFFBQVEsRUFBRSxZQUFZLEdBQUc7QUFBQSxVQUN0QyxLQUFLO0FBQUEsVUFDTCxLQUFLO0FBQUEsVUFDTCxLQUFLO0FBQUEsVUFDTCxLQUFLO0FBQUEsVUFDTCxLQUFLO0FBQUEsVUFDTCxLQUFLO0FBQUEsVUFDTCxLQUFLO0FBQUEsVUFDTCxLQUFLO0FBQUEsVUFDTCxLQUFLO0FBQUEsVUFDTCxLQUFLO0FBQUEsVUFDTCxLQUFLO0FBQ0gsbUJBQU87QUFBQSxVQUNUO0FBQ0UsbUJBQU87QUFBQSxRQUNYO0FBQUEsTUFDRjtBQUVBLE1BQUFBLFFBQU8sU0FBUyxTQUFTLE9BQVEsTUFBTSxRQUFRO0FBQzdDLFlBQUksQ0FBQyxRQUFRLElBQUksR0FBRztBQUNsQixnQkFBTSxJQUFJLFVBQVUsNkNBQTZDO0FBQUEsUUFDbkU7QUFFQSxZQUFJLEtBQUssV0FBVyxHQUFHO0FBQ3JCLGlCQUFPQSxRQUFPLE1BQU0sQ0FBQztBQUFBLFFBQ3ZCO0FBRUEsWUFBSTtBQUNKLFlBQUksV0FBVyxRQUFXO0FBQ3hCLG1CQUFTO0FBQ1QsZUFBSyxJQUFJLEdBQUcsSUFBSSxLQUFLLFFBQVEsRUFBRSxHQUFHO0FBQ2hDLHNCQUFVLEtBQUssQ0FBQyxFQUFFO0FBQUEsVUFDcEI7QUFBQSxRQUNGO0FBRUEsWUFBSUMsVUFBU0QsUUFBTyxZQUFZLE1BQU07QUFDdEMsWUFBSSxNQUFNO0FBQ1YsYUFBSyxJQUFJLEdBQUcsSUFBSSxLQUFLLFFBQVEsRUFBRSxHQUFHO0FBQ2hDLGNBQUksTUFBTSxLQUFLLENBQUM7QUFDaEIsY0FBSSxDQUFDQSxRQUFPLFNBQVMsR0FBRyxHQUFHO0FBQ3pCLGtCQUFNLElBQUksVUFBVSw2Q0FBNkM7QUFBQSxVQUNuRTtBQUNBLGNBQUksS0FBS0MsU0FBUSxHQUFHO0FBQ3BCLGlCQUFPLElBQUk7QUFBQSxRQUNiO0FBQ0EsZUFBT0E7QUFBQSxNQUNUO0FBRUEsZUFBUyxXQUFZLFFBQVEsVUFBVTtBQUNyQyxZQUFJRCxRQUFPLFNBQVMsTUFBTSxHQUFHO0FBQzNCLGlCQUFPLE9BQU87QUFBQSxRQUNoQjtBQUNBLFlBQUksT0FBTyxnQkFBZ0IsZUFBZSxPQUFPLFlBQVksV0FBVyxlQUNuRSxZQUFZLE9BQU8sTUFBTSxLQUFLLGtCQUFrQixjQUFjO0FBQ2pFLGlCQUFPLE9BQU87QUFBQSxRQUNoQjtBQUNBLFlBQUksT0FBTyxXQUFXLFVBQVU7QUFDOUIsbUJBQVMsS0FBSztBQUFBLFFBQ2hCO0FBRUEsWUFBSSxNQUFNLE9BQU87QUFDakIsWUFBSSxRQUFRO0FBQUcsaUJBQU87QUFHdEIsWUFBSSxjQUFjO0FBQ2xCLG1CQUFTO0FBQ1Asa0JBQVEsVUFBVTtBQUFBLFlBQ2hCLEtBQUs7QUFBQSxZQUNMLEtBQUs7QUFBQSxZQUNMLEtBQUs7QUFDSCxxQkFBTztBQUFBLFlBQ1QsS0FBSztBQUFBLFlBQ0wsS0FBSztBQUFBLFlBQ0wsS0FBSztBQUNILHFCQUFPLFlBQVksTUFBTSxFQUFFO0FBQUEsWUFDN0IsS0FBSztBQUFBLFlBQ0wsS0FBSztBQUFBLFlBQ0wsS0FBSztBQUFBLFlBQ0wsS0FBSztBQUNILHFCQUFPLE1BQU07QUFBQSxZQUNmLEtBQUs7QUFDSCxxQkFBTyxRQUFRO0FBQUEsWUFDakIsS0FBSztBQUNILHFCQUFPLGNBQWMsTUFBTSxFQUFFO0FBQUEsWUFDL0I7QUFDRSxrQkFBSTtBQUFhLHVCQUFPLFlBQVksTUFBTSxFQUFFO0FBQzVDLDBCQUFZLEtBQUssVUFBVSxZQUFZO0FBQ3ZDLDRCQUFjO0FBQUEsVUFDbEI7QUFBQSxRQUNGO0FBQUEsTUFDRjtBQUNBLE1BQUFBLFFBQU8sYUFBYTtBQUVwQixlQUFTLGFBQWMsVUFBVSxPQUFPLEtBQUs7QUFDM0MsWUFBSSxjQUFjO0FBU2xCLFlBQUksVUFBVSxVQUFhLFFBQVEsR0FBRztBQUNwQyxrQkFBUTtBQUFBLFFBQ1Y7QUFHQSxZQUFJLFFBQVEsS0FBSyxRQUFRO0FBQ3ZCLGlCQUFPO0FBQUEsUUFDVDtBQUVBLFlBQUksUUFBUSxVQUFhLE1BQU0sS0FBSyxRQUFRO0FBQzFDLGdCQUFNLEtBQUs7QUFBQSxRQUNiO0FBRUEsWUFBSSxPQUFPLEdBQUc7QUFDWixpQkFBTztBQUFBLFFBQ1Q7QUFHQSxpQkFBUztBQUNULG1CQUFXO0FBRVgsWUFBSSxPQUFPLE9BQU87QUFDaEIsaUJBQU87QUFBQSxRQUNUO0FBRUEsWUFBSSxDQUFDO0FBQVUscUJBQVc7QUFFMUIsZUFBTyxNQUFNO0FBQ1gsa0JBQVEsVUFBVTtBQUFBLFlBQ2hCLEtBQUs7QUFDSCxxQkFBTyxTQUFTLE1BQU0sT0FBTyxHQUFHO0FBQUEsWUFFbEMsS0FBSztBQUFBLFlBQ0wsS0FBSztBQUNILHFCQUFPLFVBQVUsTUFBTSxPQUFPLEdBQUc7QUFBQSxZQUVuQyxLQUFLO0FBQ0gscUJBQU8sV0FBVyxNQUFNLE9BQU8sR0FBRztBQUFBLFlBRXBDLEtBQUs7QUFBQSxZQUNMLEtBQUs7QUFDSCxxQkFBTyxZQUFZLE1BQU0sT0FBTyxHQUFHO0FBQUEsWUFFckMsS0FBSztBQUNILHFCQUFPLFlBQVksTUFBTSxPQUFPLEdBQUc7QUFBQSxZQUVyQyxLQUFLO0FBQUEsWUFDTCxLQUFLO0FBQUEsWUFDTCxLQUFLO0FBQUEsWUFDTCxLQUFLO0FBQ0gscUJBQU8sYUFBYSxNQUFNLE9BQU8sR0FBRztBQUFBLFlBRXRDO0FBQ0Usa0JBQUk7QUFBYSxzQkFBTSxJQUFJLFVBQVUsdUJBQXVCLFFBQVE7QUFDcEUsMEJBQVksV0FBVyxJQUFJLFlBQVk7QUFDdkMsNEJBQWM7QUFBQSxVQUNsQjtBQUFBLFFBQ0Y7QUFBQSxNQUNGO0FBSUEsTUFBQUEsUUFBTyxVQUFVLFlBQVk7QUFFN0IsZUFBUyxLQUFNLEdBQUcsR0FBRyxHQUFHO0FBQ3RCLFlBQUksSUFBSSxFQUFFLENBQUM7QUFDWCxVQUFFLENBQUMsSUFBSSxFQUFFLENBQUM7QUFDVixVQUFFLENBQUMsSUFBSTtBQUFBLE1BQ1Q7QUFFQSxNQUFBQSxRQUFPLFVBQVUsU0FBUyxTQUFTLFNBQVU7QUFDM0MsWUFBSSxNQUFNLEtBQUs7QUFDZixZQUFJLE1BQU0sTUFBTSxHQUFHO0FBQ2pCLGdCQUFNLElBQUksV0FBVywyQ0FBMkM7QUFBQSxRQUNsRTtBQUNBLGlCQUFTLElBQUksR0FBRyxJQUFJLEtBQUssS0FBSyxHQUFHO0FBQy9CLGVBQUssTUFBTSxHQUFHLElBQUksQ0FBQztBQUFBLFFBQ3JCO0FBQ0EsZUFBTztBQUFBLE1BQ1Q7QUFFQSxNQUFBQSxRQUFPLFVBQVUsU0FBUyxTQUFTLFNBQVU7QUFDM0MsWUFBSSxNQUFNLEtBQUs7QUFDZixZQUFJLE1BQU0sTUFBTSxHQUFHO0FBQ2pCLGdCQUFNLElBQUksV0FBVywyQ0FBMkM7QUFBQSxRQUNsRTtBQUNBLGlCQUFTLElBQUksR0FBRyxJQUFJLEtBQUssS0FBSyxHQUFHO0FBQy9CLGVBQUssTUFBTSxHQUFHLElBQUksQ0FBQztBQUNuQixlQUFLLE1BQU0sSUFBSSxHQUFHLElBQUksQ0FBQztBQUFBLFFBQ3pCO0FBQ0EsZUFBTztBQUFBLE1BQ1Q7QUFFQSxNQUFBQSxRQUFPLFVBQVUsU0FBUyxTQUFTLFNBQVU7QUFDM0MsWUFBSSxNQUFNLEtBQUs7QUFDZixZQUFJLE1BQU0sTUFBTSxHQUFHO0FBQ2pCLGdCQUFNLElBQUksV0FBVywyQ0FBMkM7QUFBQSxRQUNsRTtBQUNBLGlCQUFTLElBQUksR0FBRyxJQUFJLEtBQUssS0FBSyxHQUFHO0FBQy9CLGVBQUssTUFBTSxHQUFHLElBQUksQ0FBQztBQUNuQixlQUFLLE1BQU0sSUFBSSxHQUFHLElBQUksQ0FBQztBQUN2QixlQUFLLE1BQU0sSUFBSSxHQUFHLElBQUksQ0FBQztBQUN2QixlQUFLLE1BQU0sSUFBSSxHQUFHLElBQUksQ0FBQztBQUFBLFFBQ3pCO0FBQ0EsZUFBTztBQUFBLE1BQ1Q7QUFFQSxNQUFBQSxRQUFPLFVBQVUsV0FBVyxTQUFTLFdBQVk7QUFDL0MsWUFBSSxTQUFTLEtBQUssU0FBUztBQUMzQixZQUFJLFdBQVc7QUFBRyxpQkFBTztBQUN6QixZQUFJLFVBQVUsV0FBVztBQUFHLGlCQUFPLFVBQVUsTUFBTSxHQUFHLE1BQU07QUFDNUQsZUFBTyxhQUFhLE1BQU0sTUFBTSxTQUFTO0FBQUEsTUFDM0M7QUFFQSxNQUFBQSxRQUFPLFVBQVUsU0FBUyxTQUFTLE9BQVEsR0FBRztBQUM1QyxZQUFJLENBQUNBLFFBQU8sU0FBUyxDQUFDO0FBQUcsZ0JBQU0sSUFBSSxVQUFVLDJCQUEyQjtBQUN4RSxZQUFJLFNBQVM7QUFBRyxpQkFBTztBQUN2QixlQUFPQSxRQUFPLFFBQVEsTUFBTSxDQUFDLE1BQU07QUFBQSxNQUNyQztBQUVBLE1BQUFBLFFBQU8sVUFBVSxVQUFVLFNBQVMsVUFBVztBQUM3QyxZQUFJLE1BQU07QUFDVixZQUFJRSxPQUFNLFFBQVE7QUFDbEIsWUFBSSxLQUFLLFNBQVMsR0FBRztBQUNuQixnQkFBTSxLQUFLLFNBQVMsT0FBTyxHQUFHQSxJQUFHLEVBQUUsTUFBTSxPQUFPLEVBQUUsS0FBSyxHQUFHO0FBQzFELGNBQUksS0FBSyxTQUFTQTtBQUFLLG1CQUFPO0FBQUEsUUFDaEM7QUFDQSxlQUFPLGFBQWEsTUFBTTtBQUFBLE1BQzVCO0FBRUEsTUFBQUYsUUFBTyxVQUFVLFVBQVUsU0FBUyxRQUFTLFFBQVEsT0FBTyxLQUFLLFdBQVcsU0FBUztBQUNuRixZQUFJLENBQUNBLFFBQU8sU0FBUyxNQUFNLEdBQUc7QUFDNUIsZ0JBQU0sSUFBSSxVQUFVLDJCQUEyQjtBQUFBLFFBQ2pEO0FBRUEsWUFBSSxVQUFVLFFBQVc7QUFDdkIsa0JBQVE7QUFBQSxRQUNWO0FBQ0EsWUFBSSxRQUFRLFFBQVc7QUFDckIsZ0JBQU0sU0FBUyxPQUFPLFNBQVM7QUFBQSxRQUNqQztBQUNBLFlBQUksY0FBYyxRQUFXO0FBQzNCLHNCQUFZO0FBQUEsUUFDZDtBQUNBLFlBQUksWUFBWSxRQUFXO0FBQ3pCLG9CQUFVLEtBQUs7QUFBQSxRQUNqQjtBQUVBLFlBQUksUUFBUSxLQUFLLE1BQU0sT0FBTyxVQUFVLFlBQVksS0FBSyxVQUFVLEtBQUssUUFBUTtBQUM5RSxnQkFBTSxJQUFJLFdBQVcsb0JBQW9CO0FBQUEsUUFDM0M7QUFFQSxZQUFJLGFBQWEsV0FBVyxTQUFTLEtBQUs7QUFDeEMsaUJBQU87QUFBQSxRQUNUO0FBQ0EsWUFBSSxhQUFhLFNBQVM7QUFDeEIsaUJBQU87QUFBQSxRQUNUO0FBQ0EsWUFBSSxTQUFTLEtBQUs7QUFDaEIsaUJBQU87QUFBQSxRQUNUO0FBRUEsbUJBQVc7QUFDWCxpQkFBUztBQUNULHVCQUFlO0FBQ2YscUJBQWE7QUFFYixZQUFJLFNBQVM7QUFBUSxpQkFBTztBQUU1QixZQUFJLElBQUksVUFBVTtBQUNsQixZQUFJLElBQUksTUFBTTtBQUNkLFlBQUksTUFBTSxLQUFLLElBQUksR0FBRyxDQUFDO0FBRXZCLFlBQUksV0FBVyxLQUFLLE1BQU0sV0FBVyxPQUFPO0FBQzVDLFlBQUksYUFBYSxPQUFPLE1BQU0sT0FBTyxHQUFHO0FBRXhDLGlCQUFTLElBQUksR0FBRyxJQUFJLEtBQUssRUFBRSxHQUFHO0FBQzVCLGNBQUksU0FBUyxDQUFDLE1BQU0sV0FBVyxDQUFDLEdBQUc7QUFDakMsZ0JBQUksU0FBUyxDQUFDO0FBQ2QsZ0JBQUksV0FBVyxDQUFDO0FBQ2hCO0FBQUEsVUFDRjtBQUFBLFFBQ0Y7QUFFQSxZQUFJLElBQUk7QUFBRyxpQkFBTztBQUNsQixZQUFJLElBQUk7QUFBRyxpQkFBTztBQUNsQixlQUFPO0FBQUEsTUFDVDtBQVdBLGVBQVMscUJBQXNCQyxTQUFRLEtBQUssWUFBWSxVQUFVLEtBQUs7QUFFckUsWUFBSUEsUUFBTyxXQUFXO0FBQUcsaUJBQU87QUFHaEMsWUFBSSxPQUFPLGVBQWUsVUFBVTtBQUNsQyxxQkFBVztBQUNYLHVCQUFhO0FBQUEsUUFDZixXQUFXLGFBQWEsWUFBWTtBQUNsQyx1QkFBYTtBQUFBLFFBQ2YsV0FBVyxhQUFhLGFBQWE7QUFDbkMsdUJBQWE7QUFBQSxRQUNmO0FBQ0EscUJBQWEsQ0FBQztBQUNkLFlBQUksTUFBTSxVQUFVLEdBQUc7QUFFckIsdUJBQWEsTUFBTSxJQUFLQSxRQUFPLFNBQVM7QUFBQSxRQUMxQztBQUdBLFlBQUksYUFBYTtBQUFHLHVCQUFhQSxRQUFPLFNBQVM7QUFDakQsWUFBSSxjQUFjQSxRQUFPLFFBQVE7QUFDL0IsY0FBSTtBQUFLLG1CQUFPO0FBQUE7QUFDWCx5QkFBYUEsUUFBTyxTQUFTO0FBQUEsUUFDcEMsV0FBVyxhQUFhLEdBQUc7QUFDekIsY0FBSTtBQUFLLHlCQUFhO0FBQUE7QUFDakIsbUJBQU87QUFBQSxRQUNkO0FBR0EsWUFBSSxPQUFPLFFBQVEsVUFBVTtBQUMzQixnQkFBTUQsUUFBTyxLQUFLLEtBQUssUUFBUTtBQUFBLFFBQ2pDO0FBR0EsWUFBSUEsUUFBTyxTQUFTLEdBQUcsR0FBRztBQUV4QixjQUFJLElBQUksV0FBVyxHQUFHO0FBQ3BCLG1CQUFPO0FBQUEsVUFDVDtBQUNBLGlCQUFPLGFBQWFDLFNBQVEsS0FBSyxZQUFZLFVBQVUsR0FBRztBQUFBLFFBQzVELFdBQVcsT0FBTyxRQUFRLFVBQVU7QUFDbEMsZ0JBQU0sTUFBTTtBQUNaLGNBQUlELFFBQU8sdUJBQ1AsT0FBTyxXQUFXLFVBQVUsWUFBWSxZQUFZO0FBQ3RELGdCQUFJLEtBQUs7QUFDUCxxQkFBTyxXQUFXLFVBQVUsUUFBUSxLQUFLQyxTQUFRLEtBQUssVUFBVTtBQUFBLFlBQ2xFLE9BQU87QUFDTCxxQkFBTyxXQUFXLFVBQVUsWUFBWSxLQUFLQSxTQUFRLEtBQUssVUFBVTtBQUFBLFlBQ3RFO0FBQUEsVUFDRjtBQUNBLGlCQUFPLGFBQWFBLFNBQVEsQ0FBRSxHQUFJLEdBQUcsWUFBWSxVQUFVLEdBQUc7QUFBQSxRQUNoRTtBQUVBLGNBQU0sSUFBSSxVQUFVLHNDQUFzQztBQUFBLE1BQzVEO0FBRUEsZUFBUyxhQUFjLEtBQUssS0FBSyxZQUFZLFVBQVUsS0FBSztBQUMxRCxZQUFJLFlBQVk7QUFDaEIsWUFBSSxZQUFZLElBQUk7QUFDcEIsWUFBSSxZQUFZLElBQUk7QUFFcEIsWUFBSSxhQUFhLFFBQVc7QUFDMUIscUJBQVcsT0FBTyxRQUFRLEVBQUUsWUFBWTtBQUN4QyxjQUFJLGFBQWEsVUFBVSxhQUFhLFdBQ3BDLGFBQWEsYUFBYSxhQUFhLFlBQVk7QUFDckQsZ0JBQUksSUFBSSxTQUFTLEtBQUssSUFBSSxTQUFTLEdBQUc7QUFDcEMscUJBQU87QUFBQSxZQUNUO0FBQ0Esd0JBQVk7QUFDWix5QkFBYTtBQUNiLHlCQUFhO0FBQ2IsMEJBQWM7QUFBQSxVQUNoQjtBQUFBLFFBQ0Y7QUFFQSxpQkFBUyxLQUFNLEtBQUtFLElBQUc7QUFDckIsY0FBSSxjQUFjLEdBQUc7QUFDbkIsbUJBQU8sSUFBSUEsRUFBQztBQUFBLFVBQ2QsT0FBTztBQUNMLG1CQUFPLElBQUksYUFBYUEsS0FBSSxTQUFTO0FBQUEsVUFDdkM7QUFBQSxRQUNGO0FBRUEsWUFBSTtBQUNKLFlBQUksS0FBSztBQUNQLGNBQUksYUFBYTtBQUNqQixlQUFLLElBQUksWUFBWSxJQUFJLFdBQVcsS0FBSztBQUN2QyxnQkFBSSxLQUFLLEtBQUssQ0FBQyxNQUFNLEtBQUssS0FBSyxlQUFlLEtBQUssSUFBSSxJQUFJLFVBQVUsR0FBRztBQUN0RSxrQkFBSSxlQUFlO0FBQUksNkJBQWE7QUFDcEMsa0JBQUksSUFBSSxhQUFhLE1BQU07QUFBVyx1QkFBTyxhQUFhO0FBQUEsWUFDNUQsT0FBTztBQUNMLGtCQUFJLGVBQWU7QUFBSSxxQkFBSyxJQUFJO0FBQ2hDLDJCQUFhO0FBQUEsWUFDZjtBQUFBLFVBQ0Y7QUFBQSxRQUNGLE9BQU87QUFDTCxjQUFJLGFBQWEsWUFBWTtBQUFXLHlCQUFhLFlBQVk7QUFDakUsZUFBSyxJQUFJLFlBQVksS0FBSyxHQUFHLEtBQUs7QUFDaEMsZ0JBQUksUUFBUTtBQUNaLHFCQUFTLElBQUksR0FBRyxJQUFJLFdBQVcsS0FBSztBQUNsQyxrQkFBSSxLQUFLLEtBQUssSUFBSSxDQUFDLE1BQU0sS0FBSyxLQUFLLENBQUMsR0FBRztBQUNyQyx3QkFBUTtBQUNSO0FBQUEsY0FDRjtBQUFBLFlBQ0Y7QUFDQSxnQkFBSTtBQUFPLHFCQUFPO0FBQUEsVUFDcEI7QUFBQSxRQUNGO0FBRUEsZUFBTztBQUFBLE1BQ1Q7QUFFQSxNQUFBSCxRQUFPLFVBQVUsV0FBVyxTQUFTLFNBQVUsS0FBSyxZQUFZLFVBQVU7QUFDeEUsZUFBTyxLQUFLLFFBQVEsS0FBSyxZQUFZLFFBQVEsTUFBTTtBQUFBLE1BQ3JEO0FBRUEsTUFBQUEsUUFBTyxVQUFVLFVBQVUsU0FBUyxRQUFTLEtBQUssWUFBWSxVQUFVO0FBQ3RFLGVBQU8scUJBQXFCLE1BQU0sS0FBSyxZQUFZLFVBQVUsSUFBSTtBQUFBLE1BQ25FO0FBRUEsTUFBQUEsUUFBTyxVQUFVLGNBQWMsU0FBUyxZQUFhLEtBQUssWUFBWSxVQUFVO0FBQzlFLGVBQU8scUJBQXFCLE1BQU0sS0FBSyxZQUFZLFVBQVUsS0FBSztBQUFBLE1BQ3BFO0FBRUEsZUFBUyxTQUFVLEtBQUssUUFBUSxRQUFRLFFBQVE7QUFDOUMsaUJBQVMsT0FBTyxNQUFNLEtBQUs7QUFDM0IsWUFBSSxZQUFZLElBQUksU0FBUztBQUM3QixZQUFJLENBQUMsUUFBUTtBQUNYLG1CQUFTO0FBQUEsUUFDWCxPQUFPO0FBQ0wsbUJBQVMsT0FBTyxNQUFNO0FBQ3RCLGNBQUksU0FBUyxXQUFXO0FBQ3RCLHFCQUFTO0FBQUEsVUFDWDtBQUFBLFFBQ0Y7QUFHQSxZQUFJLFNBQVMsT0FBTztBQUNwQixZQUFJLFNBQVMsTUFBTTtBQUFHLGdCQUFNLElBQUksVUFBVSxvQkFBb0I7QUFFOUQsWUFBSSxTQUFTLFNBQVMsR0FBRztBQUN2QixtQkFBUyxTQUFTO0FBQUEsUUFDcEI7QUFDQSxpQkFBUyxJQUFJLEdBQUcsSUFBSSxRQUFRLEVBQUUsR0FBRztBQUMvQixjQUFJLFNBQVMsU0FBUyxPQUFPLE9BQU8sSUFBSSxHQUFHLENBQUMsR0FBRyxFQUFFO0FBQ2pELGNBQUksTUFBTSxNQUFNO0FBQUcsbUJBQU87QUFDMUIsY0FBSSxTQUFTLENBQUMsSUFBSTtBQUFBLFFBQ3BCO0FBQ0EsZUFBTztBQUFBLE1BQ1Q7QUFFQSxlQUFTLFVBQVcsS0FBSyxRQUFRLFFBQVEsUUFBUTtBQUMvQyxlQUFPLFdBQVcsWUFBWSxRQUFRLElBQUksU0FBUyxNQUFNLEdBQUcsS0FBSyxRQUFRLE1BQU07QUFBQSxNQUNqRjtBQUVBLGVBQVMsV0FBWSxLQUFLLFFBQVEsUUFBUSxRQUFRO0FBQ2hELGVBQU8sV0FBVyxhQUFhLE1BQU0sR0FBRyxLQUFLLFFBQVEsTUFBTTtBQUFBLE1BQzdEO0FBRUEsZUFBUyxZQUFhLEtBQUssUUFBUSxRQUFRLFFBQVE7QUFDakQsZUFBTyxXQUFXLEtBQUssUUFBUSxRQUFRLE1BQU07QUFBQSxNQUMvQztBQUVBLGVBQVMsWUFBYSxLQUFLLFFBQVEsUUFBUSxRQUFRO0FBQ2pELGVBQU8sV0FBVyxjQUFjLE1BQU0sR0FBRyxLQUFLLFFBQVEsTUFBTTtBQUFBLE1BQzlEO0FBRUEsZUFBUyxVQUFXLEtBQUssUUFBUSxRQUFRLFFBQVE7QUFDL0MsZUFBTyxXQUFXLGVBQWUsUUFBUSxJQUFJLFNBQVMsTUFBTSxHQUFHLEtBQUssUUFBUSxNQUFNO0FBQUEsTUFDcEY7QUFFQSxNQUFBQSxRQUFPLFVBQVUsUUFBUSxTQUFTLE1BQU8sUUFBUSxRQUFRLFFBQVEsVUFBVTtBQUV6RSxZQUFJLFdBQVcsUUFBVztBQUN4QixxQkFBVztBQUNYLG1CQUFTLEtBQUs7QUFDZCxtQkFBUztBQUFBLFFBRVgsV0FBVyxXQUFXLFVBQWEsT0FBTyxXQUFXLFVBQVU7QUFDN0QscUJBQVc7QUFDWCxtQkFBUyxLQUFLO0FBQ2QsbUJBQVM7QUFBQSxRQUVYLFdBQVcsU0FBUyxNQUFNLEdBQUc7QUFDM0IsbUJBQVMsU0FBUztBQUNsQixjQUFJLFNBQVMsTUFBTSxHQUFHO0FBQ3BCLHFCQUFTLFNBQVM7QUFDbEIsZ0JBQUksYUFBYTtBQUFXLHlCQUFXO0FBQUEsVUFDekMsT0FBTztBQUNMLHVCQUFXO0FBQ1gscUJBQVM7QUFBQSxVQUNYO0FBQUEsUUFFRixPQUFPO0FBQ0wsZ0JBQU0sSUFBSTtBQUFBLFlBQ1I7QUFBQSxVQUNGO0FBQUEsUUFDRjtBQUVBLFlBQUksWUFBWSxLQUFLLFNBQVM7QUFDOUIsWUFBSSxXQUFXLFVBQWEsU0FBUztBQUFXLG1CQUFTO0FBRXpELFlBQUssT0FBTyxTQUFTLE1BQU0sU0FBUyxLQUFLLFNBQVMsTUFBTyxTQUFTLEtBQUssUUFBUTtBQUM3RSxnQkFBTSxJQUFJLFdBQVcsd0NBQXdDO0FBQUEsUUFDL0Q7QUFFQSxZQUFJLENBQUM7QUFBVSxxQkFBVztBQUUxQixZQUFJLGNBQWM7QUFDbEIsbUJBQVM7QUFDUCxrQkFBUSxVQUFVO0FBQUEsWUFDaEIsS0FBSztBQUNILHFCQUFPLFNBQVMsTUFBTSxRQUFRLFFBQVEsTUFBTTtBQUFBLFlBRTlDLEtBQUs7QUFBQSxZQUNMLEtBQUs7QUFDSCxxQkFBTyxVQUFVLE1BQU0sUUFBUSxRQUFRLE1BQU07QUFBQSxZQUUvQyxLQUFLO0FBQ0gscUJBQU8sV0FBVyxNQUFNLFFBQVEsUUFBUSxNQUFNO0FBQUEsWUFFaEQsS0FBSztBQUFBLFlBQ0wsS0FBSztBQUNILHFCQUFPLFlBQVksTUFBTSxRQUFRLFFBQVEsTUFBTTtBQUFBLFlBRWpELEtBQUs7QUFFSCxxQkFBTyxZQUFZLE1BQU0sUUFBUSxRQUFRLE1BQU07QUFBQSxZQUVqRCxLQUFLO0FBQUEsWUFDTCxLQUFLO0FBQUEsWUFDTCxLQUFLO0FBQUEsWUFDTCxLQUFLO0FBQ0gscUJBQU8sVUFBVSxNQUFNLFFBQVEsUUFBUSxNQUFNO0FBQUEsWUFFL0M7QUFDRSxrQkFBSTtBQUFhLHNCQUFNLElBQUksVUFBVSx1QkFBdUIsUUFBUTtBQUNwRSwwQkFBWSxLQUFLLFVBQVUsWUFBWTtBQUN2Qyw0QkFBYztBQUFBLFVBQ2xCO0FBQUEsUUFDRjtBQUFBLE1BQ0Y7QUFFQSxNQUFBQSxRQUFPLFVBQVUsU0FBUyxTQUFTLFNBQVU7QUFDM0MsZUFBTztBQUFBLFVBQ0wsTUFBTTtBQUFBLFVBQ04sTUFBTSxNQUFNLFVBQVUsTUFBTSxLQUFLLEtBQUssUUFBUSxNQUFNLENBQUM7QUFBQSxRQUN2RDtBQUFBLE1BQ0Y7QUFFQSxlQUFTLFlBQWEsS0FBSyxPQUFPLEtBQUs7QUFDckMsWUFBSSxVQUFVLEtBQUssUUFBUSxJQUFJLFFBQVE7QUFDckMsaUJBQU8sT0FBTyxjQUFjLEdBQUc7QUFBQSxRQUNqQyxPQUFPO0FBQ0wsaUJBQU8sT0FBTyxjQUFjLElBQUksTUFBTSxPQUFPLEdBQUcsQ0FBQztBQUFBLFFBQ25EO0FBQUEsTUFDRjtBQUVBLGVBQVMsVUFBVyxLQUFLLE9BQU8sS0FBSztBQUNuQyxjQUFNLEtBQUssSUFBSSxJQUFJLFFBQVEsR0FBRztBQUM5QixZQUFJLE1BQU0sQ0FBQztBQUVYLFlBQUksSUFBSTtBQUNSLGVBQU8sSUFBSSxLQUFLO0FBQ2QsY0FBSSxZQUFZLElBQUksQ0FBQztBQUNyQixjQUFJLFlBQVk7QUFDaEIsY0FBSSxtQkFBb0IsWUFBWSxNQUFRLElBQ3ZDLFlBQVksTUFBUSxJQUNwQixZQUFZLE1BQVEsSUFDckI7QUFFSixjQUFJLElBQUksb0JBQW9CLEtBQUs7QUFDL0IsZ0JBQUksWUFBWSxXQUFXLFlBQVk7QUFFdkMsb0JBQVEsa0JBQWtCO0FBQUEsY0FDeEIsS0FBSztBQUNILG9CQUFJLFlBQVksS0FBTTtBQUNwQiw4QkFBWTtBQUFBLGdCQUNkO0FBQ0E7QUFBQSxjQUNGLEtBQUs7QUFDSCw2QkFBYSxJQUFJLElBQUksQ0FBQztBQUN0QixxQkFBSyxhQUFhLFNBQVUsS0FBTTtBQUNoQyxtQ0FBaUIsWUFBWSxPQUFTLElBQU8sYUFBYTtBQUMxRCxzQkFBSSxnQkFBZ0IsS0FBTTtBQUN4QixnQ0FBWTtBQUFBLGtCQUNkO0FBQUEsZ0JBQ0Y7QUFDQTtBQUFBLGNBQ0YsS0FBSztBQUNILDZCQUFhLElBQUksSUFBSSxDQUFDO0FBQ3RCLDRCQUFZLElBQUksSUFBSSxDQUFDO0FBQ3JCLHFCQUFLLGFBQWEsU0FBVSxRQUFTLFlBQVksU0FBVSxLQUFNO0FBQy9ELG1DQUFpQixZQUFZLE9BQVEsTUFBTyxhQUFhLE9BQVMsSUFBTyxZQUFZO0FBQ3JGLHNCQUFJLGdCQUFnQixTQUFVLGdCQUFnQixTQUFVLGdCQUFnQixRQUFTO0FBQy9FLGdDQUFZO0FBQUEsa0JBQ2Q7QUFBQSxnQkFDRjtBQUNBO0FBQUEsY0FDRixLQUFLO0FBQ0gsNkJBQWEsSUFBSSxJQUFJLENBQUM7QUFDdEIsNEJBQVksSUFBSSxJQUFJLENBQUM7QUFDckIsNkJBQWEsSUFBSSxJQUFJLENBQUM7QUFDdEIscUJBQUssYUFBYSxTQUFVLFFBQVMsWUFBWSxTQUFVLFFBQVMsYUFBYSxTQUFVLEtBQU07QUFDL0YsbUNBQWlCLFlBQVksT0FBUSxNQUFRLGFBQWEsT0FBUyxNQUFPLFlBQVksT0FBUyxJQUFPLGFBQWE7QUFDbkgsc0JBQUksZ0JBQWdCLFNBQVUsZ0JBQWdCLFNBQVU7QUFDdEQsZ0NBQVk7QUFBQSxrQkFDZDtBQUFBLGdCQUNGO0FBQUEsWUFDSjtBQUFBLFVBQ0Y7QUFFQSxjQUFJLGNBQWMsTUFBTTtBQUd0Qix3QkFBWTtBQUNaLCtCQUFtQjtBQUFBLFVBQ3JCLFdBQVcsWUFBWSxPQUFRO0FBRTdCLHlCQUFhO0FBQ2IsZ0JBQUksS0FBSyxjQUFjLEtBQUssT0FBUSxLQUFNO0FBQzFDLHdCQUFZLFFBQVMsWUFBWTtBQUFBLFVBQ25DO0FBRUEsY0FBSSxLQUFLLFNBQVM7QUFDbEIsZUFBSztBQUFBLFFBQ1A7QUFFQSxlQUFPLHNCQUFzQixHQUFHO0FBQUEsTUFDbEM7QUFLQSxVQUFJLHVCQUF1QjtBQUUzQixlQUFTLHNCQUF1QixZQUFZO0FBQzFDLFlBQUksTUFBTSxXQUFXO0FBQ3JCLFlBQUksT0FBTyxzQkFBc0I7QUFDL0IsaUJBQU8sT0FBTyxhQUFhLE1BQU0sUUFBUSxVQUFVO0FBQUEsUUFDckQ7QUFHQSxZQUFJLE1BQU07QUFDVixZQUFJLElBQUk7QUFDUixlQUFPLElBQUksS0FBSztBQUNkLGlCQUFPLE9BQU8sYUFBYTtBQUFBLFlBQ3pCO0FBQUEsWUFDQSxXQUFXLE1BQU0sR0FBRyxLQUFLLG9CQUFvQjtBQUFBLFVBQy9DO0FBQUEsUUFDRjtBQUNBLGVBQU87QUFBQSxNQUNUO0FBRUEsZUFBUyxXQUFZLEtBQUssT0FBTyxLQUFLO0FBQ3BDLFlBQUksTUFBTTtBQUNWLGNBQU0sS0FBSyxJQUFJLElBQUksUUFBUSxHQUFHO0FBRTlCLGlCQUFTLElBQUksT0FBTyxJQUFJLEtBQUssRUFBRSxHQUFHO0FBQ2hDLGlCQUFPLE9BQU8sYUFBYSxJQUFJLENBQUMsSUFBSSxHQUFJO0FBQUEsUUFDMUM7QUFDQSxlQUFPO0FBQUEsTUFDVDtBQUVBLGVBQVMsWUFBYSxLQUFLLE9BQU8sS0FBSztBQUNyQyxZQUFJLE1BQU07QUFDVixjQUFNLEtBQUssSUFBSSxJQUFJLFFBQVEsR0FBRztBQUU5QixpQkFBUyxJQUFJLE9BQU8sSUFBSSxLQUFLLEVBQUUsR0FBRztBQUNoQyxpQkFBTyxPQUFPLGFBQWEsSUFBSSxDQUFDLENBQUM7QUFBQSxRQUNuQztBQUNBLGVBQU87QUFBQSxNQUNUO0FBRUEsZUFBUyxTQUFVLEtBQUssT0FBTyxLQUFLO0FBQ2xDLFlBQUksTUFBTSxJQUFJO0FBRWQsWUFBSSxDQUFDLFNBQVMsUUFBUTtBQUFHLGtCQUFRO0FBQ2pDLFlBQUksQ0FBQyxPQUFPLE1BQU0sS0FBSyxNQUFNO0FBQUssZ0JBQU07QUFFeEMsWUFBSSxNQUFNO0FBQ1YsaUJBQVMsSUFBSSxPQUFPLElBQUksS0FBSyxFQUFFLEdBQUc7QUFDaEMsaUJBQU8sTUFBTSxJQUFJLENBQUMsQ0FBQztBQUFBLFFBQ3JCO0FBQ0EsZUFBTztBQUFBLE1BQ1Q7QUFFQSxlQUFTLGFBQWMsS0FBSyxPQUFPLEtBQUs7QUFDdEMsWUFBSSxRQUFRLElBQUksTUFBTSxPQUFPLEdBQUc7QUFDaEMsWUFBSSxNQUFNO0FBQ1YsaUJBQVMsSUFBSSxHQUFHLElBQUksTUFBTSxRQUFRLEtBQUssR0FBRztBQUN4QyxpQkFBTyxPQUFPLGFBQWEsTUFBTSxDQUFDLElBQUksTUFBTSxJQUFJLENBQUMsSUFBSSxHQUFHO0FBQUEsUUFDMUQ7QUFDQSxlQUFPO0FBQUEsTUFDVDtBQUVBLE1BQUFBLFFBQU8sVUFBVSxRQUFRLFNBQVMsTUFBTyxPQUFPLEtBQUs7QUFDbkQsWUFBSSxNQUFNLEtBQUs7QUFDZixnQkFBUSxDQUFDLENBQUM7QUFDVixjQUFNLFFBQVEsU0FBWSxNQUFNLENBQUMsQ0FBQztBQUVsQyxZQUFJLFFBQVEsR0FBRztBQUNiLG1CQUFTO0FBQ1QsY0FBSSxRQUFRO0FBQUcsb0JBQVE7QUFBQSxRQUN6QixXQUFXLFFBQVEsS0FBSztBQUN0QixrQkFBUTtBQUFBLFFBQ1Y7QUFFQSxZQUFJLE1BQU0sR0FBRztBQUNYLGlCQUFPO0FBQ1AsY0FBSSxNQUFNO0FBQUcsa0JBQU07QUFBQSxRQUNyQixXQUFXLE1BQU0sS0FBSztBQUNwQixnQkFBTTtBQUFBLFFBQ1I7QUFFQSxZQUFJLE1BQU07QUFBTyxnQkFBTTtBQUV2QixZQUFJO0FBQ0osWUFBSUEsUUFBTyxxQkFBcUI7QUFDOUIsbUJBQVMsS0FBSyxTQUFTLE9BQU8sR0FBRztBQUNqQyxpQkFBTyxZQUFZQSxRQUFPO0FBQUEsUUFDNUIsT0FBTztBQUNMLGNBQUksV0FBVyxNQUFNO0FBQ3JCLG1CQUFTLElBQUlBLFFBQU8sVUFBVSxNQUFTO0FBQ3ZDLG1CQUFTLElBQUksR0FBRyxJQUFJLFVBQVUsRUFBRSxHQUFHO0FBQ2pDLG1CQUFPLENBQUMsSUFBSSxLQUFLLElBQUksS0FBSztBQUFBLFVBQzVCO0FBQUEsUUFDRjtBQUVBLGVBQU87QUFBQSxNQUNUO0FBS0EsZUFBUyxZQUFhLFFBQVEsS0FBSyxRQUFRO0FBQ3pDLFlBQUssU0FBUyxNQUFPLEtBQUssU0FBUztBQUFHLGdCQUFNLElBQUksV0FBVyxvQkFBb0I7QUFDL0UsWUFBSSxTQUFTLE1BQU07QUFBUSxnQkFBTSxJQUFJLFdBQVcsdUNBQXVDO0FBQUEsTUFDekY7QUFFQSxNQUFBQSxRQUFPLFVBQVUsYUFBYSxTQUFTLFdBQVksUUFBUUksYUFBWSxVQUFVO0FBQy9FLGlCQUFTLFNBQVM7QUFDbEIsUUFBQUEsY0FBYUEsY0FBYTtBQUMxQixZQUFJLENBQUM7QUFBVSxzQkFBWSxRQUFRQSxhQUFZLEtBQUssTUFBTTtBQUUxRCxZQUFJLE1BQU0sS0FBSyxNQUFNO0FBQ3JCLFlBQUksTUFBTTtBQUNWLFlBQUksSUFBSTtBQUNSLGVBQU8sRUFBRSxJQUFJQSxnQkFBZSxPQUFPLE1BQVE7QUFDekMsaUJBQU8sS0FBSyxTQUFTLENBQUMsSUFBSTtBQUFBLFFBQzVCO0FBRUEsZUFBTztBQUFBLE1BQ1Q7QUFFQSxNQUFBSixRQUFPLFVBQVUsYUFBYSxTQUFTLFdBQVksUUFBUUksYUFBWSxVQUFVO0FBQy9FLGlCQUFTLFNBQVM7QUFDbEIsUUFBQUEsY0FBYUEsY0FBYTtBQUMxQixZQUFJLENBQUMsVUFBVTtBQUNiLHNCQUFZLFFBQVFBLGFBQVksS0FBSyxNQUFNO0FBQUEsUUFDN0M7QUFFQSxZQUFJLE1BQU0sS0FBSyxTQUFTLEVBQUVBLFdBQVU7QUFDcEMsWUFBSSxNQUFNO0FBQ1YsZUFBT0EsY0FBYSxNQUFNLE9BQU8sTUFBUTtBQUN2QyxpQkFBTyxLQUFLLFNBQVMsRUFBRUEsV0FBVSxJQUFJO0FBQUEsUUFDdkM7QUFFQSxlQUFPO0FBQUEsTUFDVDtBQUVBLE1BQUFKLFFBQU8sVUFBVSxZQUFZLFNBQVMsVUFBVyxRQUFRLFVBQVU7QUFDakUsWUFBSSxDQUFDO0FBQVUsc0JBQVksUUFBUSxHQUFHLEtBQUssTUFBTTtBQUNqRCxlQUFPLEtBQUssTUFBTTtBQUFBLE1BQ3BCO0FBRUEsTUFBQUEsUUFBTyxVQUFVLGVBQWUsU0FBUyxhQUFjLFFBQVEsVUFBVTtBQUN2RSxZQUFJLENBQUM7QUFBVSxzQkFBWSxRQUFRLEdBQUcsS0FBSyxNQUFNO0FBQ2pELGVBQU8sS0FBSyxNQUFNLElBQUssS0FBSyxTQUFTLENBQUMsS0FBSztBQUFBLE1BQzdDO0FBRUEsTUFBQUEsUUFBTyxVQUFVLGVBQWUsU0FBUyxhQUFjLFFBQVEsVUFBVTtBQUN2RSxZQUFJLENBQUM7QUFBVSxzQkFBWSxRQUFRLEdBQUcsS0FBSyxNQUFNO0FBQ2pELGVBQVEsS0FBSyxNQUFNLEtBQUssSUFBSyxLQUFLLFNBQVMsQ0FBQztBQUFBLE1BQzlDO0FBRUEsTUFBQUEsUUFBTyxVQUFVLGVBQWUsU0FBUyxhQUFjLFFBQVEsVUFBVTtBQUN2RSxZQUFJLENBQUM7QUFBVSxzQkFBWSxRQUFRLEdBQUcsS0FBSyxNQUFNO0FBRWpELGdCQUFTLEtBQUssTUFBTSxJQUNmLEtBQUssU0FBUyxDQUFDLEtBQUssSUFDcEIsS0FBSyxTQUFTLENBQUMsS0FBSyxNQUNwQixLQUFLLFNBQVMsQ0FBQyxJQUFJO0FBQUEsTUFDMUI7QUFFQSxNQUFBQSxRQUFPLFVBQVUsZUFBZSxTQUFTLGFBQWMsUUFBUSxVQUFVO0FBQ3ZFLFlBQUksQ0FBQztBQUFVLHNCQUFZLFFBQVEsR0FBRyxLQUFLLE1BQU07QUFFakQsZUFBUSxLQUFLLE1BQU0sSUFBSSxZQUNuQixLQUFLLFNBQVMsQ0FBQyxLQUFLLEtBQ3JCLEtBQUssU0FBUyxDQUFDLEtBQUssSUFDckIsS0FBSyxTQUFTLENBQUM7QUFBQSxNQUNuQjtBQUVBLE1BQUFBLFFBQU8sVUFBVSxZQUFZLFNBQVMsVUFBVyxRQUFRSSxhQUFZLFVBQVU7QUFDN0UsaUJBQVMsU0FBUztBQUNsQixRQUFBQSxjQUFhQSxjQUFhO0FBQzFCLFlBQUksQ0FBQztBQUFVLHNCQUFZLFFBQVFBLGFBQVksS0FBSyxNQUFNO0FBRTFELFlBQUksTUFBTSxLQUFLLE1BQU07QUFDckIsWUFBSSxNQUFNO0FBQ1YsWUFBSSxJQUFJO0FBQ1IsZUFBTyxFQUFFLElBQUlBLGdCQUFlLE9BQU8sTUFBUTtBQUN6QyxpQkFBTyxLQUFLLFNBQVMsQ0FBQyxJQUFJO0FBQUEsUUFDNUI7QUFDQSxlQUFPO0FBRVAsWUFBSSxPQUFPO0FBQUssaUJBQU8sS0FBSyxJQUFJLEdBQUcsSUFBSUEsV0FBVTtBQUVqRCxlQUFPO0FBQUEsTUFDVDtBQUVBLE1BQUFKLFFBQU8sVUFBVSxZQUFZLFNBQVMsVUFBVyxRQUFRSSxhQUFZLFVBQVU7QUFDN0UsaUJBQVMsU0FBUztBQUNsQixRQUFBQSxjQUFhQSxjQUFhO0FBQzFCLFlBQUksQ0FBQztBQUFVLHNCQUFZLFFBQVFBLGFBQVksS0FBSyxNQUFNO0FBRTFELFlBQUksSUFBSUE7QUFDUixZQUFJLE1BQU07QUFDVixZQUFJLE1BQU0sS0FBSyxTQUFTLEVBQUUsQ0FBQztBQUMzQixlQUFPLElBQUksTUFBTSxPQUFPLE1BQVE7QUFDOUIsaUJBQU8sS0FBSyxTQUFTLEVBQUUsQ0FBQyxJQUFJO0FBQUEsUUFDOUI7QUFDQSxlQUFPO0FBRVAsWUFBSSxPQUFPO0FBQUssaUJBQU8sS0FBSyxJQUFJLEdBQUcsSUFBSUEsV0FBVTtBQUVqRCxlQUFPO0FBQUEsTUFDVDtBQUVBLE1BQUFKLFFBQU8sVUFBVSxXQUFXLFNBQVMsU0FBVSxRQUFRLFVBQVU7QUFDL0QsWUFBSSxDQUFDO0FBQVUsc0JBQVksUUFBUSxHQUFHLEtBQUssTUFBTTtBQUNqRCxZQUFJLEVBQUUsS0FBSyxNQUFNLElBQUk7QUFBTyxpQkFBUSxLQUFLLE1BQU07QUFDL0MsZ0JBQVMsTUFBTyxLQUFLLE1BQU0sSUFBSSxLQUFLO0FBQUEsTUFDdEM7QUFFQSxNQUFBQSxRQUFPLFVBQVUsY0FBYyxTQUFTLFlBQWEsUUFBUSxVQUFVO0FBQ3JFLFlBQUksQ0FBQztBQUFVLHNCQUFZLFFBQVEsR0FBRyxLQUFLLE1BQU07QUFDakQsWUFBSSxNQUFNLEtBQUssTUFBTSxJQUFLLEtBQUssU0FBUyxDQUFDLEtBQUs7QUFDOUMsZUFBUSxNQUFNLFFBQVUsTUFBTSxhQUFhO0FBQUEsTUFDN0M7QUFFQSxNQUFBQSxRQUFPLFVBQVUsY0FBYyxTQUFTLFlBQWEsUUFBUSxVQUFVO0FBQ3JFLFlBQUksQ0FBQztBQUFVLHNCQUFZLFFBQVEsR0FBRyxLQUFLLE1BQU07QUFDakQsWUFBSSxNQUFNLEtBQUssU0FBUyxDQUFDLElBQUssS0FBSyxNQUFNLEtBQUs7QUFDOUMsZUFBUSxNQUFNLFFBQVUsTUFBTSxhQUFhO0FBQUEsTUFDN0M7QUFFQSxNQUFBQSxRQUFPLFVBQVUsY0FBYyxTQUFTLFlBQWEsUUFBUSxVQUFVO0FBQ3JFLFlBQUksQ0FBQztBQUFVLHNCQUFZLFFBQVEsR0FBRyxLQUFLLE1BQU07QUFFakQsZUFBUSxLQUFLLE1BQU0sSUFDaEIsS0FBSyxTQUFTLENBQUMsS0FBSyxJQUNwQixLQUFLLFNBQVMsQ0FBQyxLQUFLLEtBQ3BCLEtBQUssU0FBUyxDQUFDLEtBQUs7QUFBQSxNQUN6QjtBQUVBLE1BQUFBLFFBQU8sVUFBVSxjQUFjLFNBQVMsWUFBYSxRQUFRLFVBQVU7QUFDckUsWUFBSSxDQUFDO0FBQVUsc0JBQVksUUFBUSxHQUFHLEtBQUssTUFBTTtBQUVqRCxlQUFRLEtBQUssTUFBTSxLQUFLLEtBQ3JCLEtBQUssU0FBUyxDQUFDLEtBQUssS0FDcEIsS0FBSyxTQUFTLENBQUMsS0FBSyxJQUNwQixLQUFLLFNBQVMsQ0FBQztBQUFBLE1BQ3BCO0FBRUEsTUFBQUEsUUFBTyxVQUFVLGNBQWMsU0FBUyxZQUFhLFFBQVEsVUFBVTtBQUNyRSxZQUFJLENBQUM7QUFBVSxzQkFBWSxRQUFRLEdBQUcsS0FBSyxNQUFNO0FBQ2pELGVBQU8sUUFBUSxLQUFLLE1BQU0sUUFBUSxNQUFNLElBQUksQ0FBQztBQUFBLE1BQy9DO0FBRUEsTUFBQUEsUUFBTyxVQUFVLGNBQWMsU0FBUyxZQUFhLFFBQVEsVUFBVTtBQUNyRSxZQUFJLENBQUM7QUFBVSxzQkFBWSxRQUFRLEdBQUcsS0FBSyxNQUFNO0FBQ2pELGVBQU8sUUFBUSxLQUFLLE1BQU0sUUFBUSxPQUFPLElBQUksQ0FBQztBQUFBLE1BQ2hEO0FBRUEsTUFBQUEsUUFBTyxVQUFVLGVBQWUsU0FBUyxhQUFjLFFBQVEsVUFBVTtBQUN2RSxZQUFJLENBQUM7QUFBVSxzQkFBWSxRQUFRLEdBQUcsS0FBSyxNQUFNO0FBQ2pELGVBQU8sUUFBUSxLQUFLLE1BQU0sUUFBUSxNQUFNLElBQUksQ0FBQztBQUFBLE1BQy9DO0FBRUEsTUFBQUEsUUFBTyxVQUFVLGVBQWUsU0FBUyxhQUFjLFFBQVEsVUFBVTtBQUN2RSxZQUFJLENBQUM7QUFBVSxzQkFBWSxRQUFRLEdBQUcsS0FBSyxNQUFNO0FBQ2pELGVBQU8sUUFBUSxLQUFLLE1BQU0sUUFBUSxPQUFPLElBQUksQ0FBQztBQUFBLE1BQ2hEO0FBRUEsZUFBUyxTQUFVLEtBQUssT0FBTyxRQUFRLEtBQUtFLE1BQUssS0FBSztBQUNwRCxZQUFJLENBQUNGLFFBQU8sU0FBUyxHQUFHO0FBQUcsZ0JBQU0sSUFBSSxVQUFVLDZDQUE2QztBQUM1RixZQUFJLFFBQVFFLFFBQU8sUUFBUTtBQUFLLGdCQUFNLElBQUksV0FBVyxtQ0FBbUM7QUFDeEYsWUFBSSxTQUFTLE1BQU0sSUFBSTtBQUFRLGdCQUFNLElBQUksV0FBVyxvQkFBb0I7QUFBQSxNQUMxRTtBQUVBLE1BQUFGLFFBQU8sVUFBVSxjQUFjLFNBQVMsWUFBYSxPQUFPLFFBQVFJLGFBQVksVUFBVTtBQUN4RixnQkFBUSxDQUFDO0FBQ1QsaUJBQVMsU0FBUztBQUNsQixRQUFBQSxjQUFhQSxjQUFhO0FBQzFCLFlBQUksQ0FBQyxVQUFVO0FBQ2IsY0FBSSxXQUFXLEtBQUssSUFBSSxHQUFHLElBQUlBLFdBQVUsSUFBSTtBQUM3QyxtQkFBUyxNQUFNLE9BQU8sUUFBUUEsYUFBWSxVQUFVLENBQUM7QUFBQSxRQUN2RDtBQUVBLFlBQUksTUFBTTtBQUNWLFlBQUksSUFBSTtBQUNSLGFBQUssTUFBTSxJQUFJLFFBQVE7QUFDdkIsZUFBTyxFQUFFLElBQUlBLGdCQUFlLE9BQU8sTUFBUTtBQUN6QyxlQUFLLFNBQVMsQ0FBQyxJQUFLLFFBQVEsTUFBTztBQUFBLFFBQ3JDO0FBRUEsZUFBTyxTQUFTQTtBQUFBLE1BQ2xCO0FBRUEsTUFBQUosUUFBTyxVQUFVLGNBQWMsU0FBUyxZQUFhLE9BQU8sUUFBUUksYUFBWSxVQUFVO0FBQ3hGLGdCQUFRLENBQUM7QUFDVCxpQkFBUyxTQUFTO0FBQ2xCLFFBQUFBLGNBQWFBLGNBQWE7QUFDMUIsWUFBSSxDQUFDLFVBQVU7QUFDYixjQUFJLFdBQVcsS0FBSyxJQUFJLEdBQUcsSUFBSUEsV0FBVSxJQUFJO0FBQzdDLG1CQUFTLE1BQU0sT0FBTyxRQUFRQSxhQUFZLFVBQVUsQ0FBQztBQUFBLFFBQ3ZEO0FBRUEsWUFBSSxJQUFJQSxjQUFhO0FBQ3JCLFlBQUksTUFBTTtBQUNWLGFBQUssU0FBUyxDQUFDLElBQUksUUFBUTtBQUMzQixlQUFPLEVBQUUsS0FBSyxNQUFNLE9BQU8sTUFBUTtBQUNqQyxlQUFLLFNBQVMsQ0FBQyxJQUFLLFFBQVEsTUFBTztBQUFBLFFBQ3JDO0FBRUEsZUFBTyxTQUFTQTtBQUFBLE1BQ2xCO0FBRUEsTUFBQUosUUFBTyxVQUFVLGFBQWEsU0FBUyxXQUFZLE9BQU8sUUFBUSxVQUFVO0FBQzFFLGdCQUFRLENBQUM7QUFDVCxpQkFBUyxTQUFTO0FBQ2xCLFlBQUksQ0FBQztBQUFVLG1CQUFTLE1BQU0sT0FBTyxRQUFRLEdBQUcsS0FBTSxDQUFDO0FBQ3ZELFlBQUksQ0FBQ0EsUUFBTztBQUFxQixrQkFBUSxLQUFLLE1BQU0sS0FBSztBQUN6RCxhQUFLLE1BQU0sSUFBSyxRQUFRO0FBQ3hCLGVBQU8sU0FBUztBQUFBLE1BQ2xCO0FBRUEsZUFBUyxrQkFBbUIsS0FBSyxPQUFPLFFBQVEsY0FBYztBQUM1RCxZQUFJLFFBQVE7QUFBRyxrQkFBUSxRQUFTLFFBQVE7QUFDeEMsaUJBQVMsSUFBSSxHQUFHLElBQUksS0FBSyxJQUFJLElBQUksU0FBUyxRQUFRLENBQUMsR0FBRyxJQUFJLEdBQUcsRUFBRSxHQUFHO0FBQ2hFLGNBQUksU0FBUyxDQUFDLEtBQUssUUFBUyxPQUFTLEtBQUssZUFBZSxJQUFJLElBQUksU0FDOUQsZUFBZSxJQUFJLElBQUksS0FBSztBQUFBLFFBQ2pDO0FBQUEsTUFDRjtBQUVBLE1BQUFBLFFBQU8sVUFBVSxnQkFBZ0IsU0FBUyxjQUFlLE9BQU8sUUFBUSxVQUFVO0FBQ2hGLGdCQUFRLENBQUM7QUFDVCxpQkFBUyxTQUFTO0FBQ2xCLFlBQUksQ0FBQztBQUFVLG1CQUFTLE1BQU0sT0FBTyxRQUFRLEdBQUcsT0FBUSxDQUFDO0FBQ3pELFlBQUlBLFFBQU8scUJBQXFCO0FBQzlCLGVBQUssTUFBTSxJQUFLLFFBQVE7QUFDeEIsZUFBSyxTQUFTLENBQUMsSUFBSyxVQUFVO0FBQUEsUUFDaEMsT0FBTztBQUNMLDRCQUFrQixNQUFNLE9BQU8sUUFBUSxJQUFJO0FBQUEsUUFDN0M7QUFDQSxlQUFPLFNBQVM7QUFBQSxNQUNsQjtBQUVBLE1BQUFBLFFBQU8sVUFBVSxnQkFBZ0IsU0FBUyxjQUFlLE9BQU8sUUFBUSxVQUFVO0FBQ2hGLGdCQUFRLENBQUM7QUFDVCxpQkFBUyxTQUFTO0FBQ2xCLFlBQUksQ0FBQztBQUFVLG1CQUFTLE1BQU0sT0FBTyxRQUFRLEdBQUcsT0FBUSxDQUFDO0FBQ3pELFlBQUlBLFFBQU8scUJBQXFCO0FBQzlCLGVBQUssTUFBTSxJQUFLLFVBQVU7QUFDMUIsZUFBSyxTQUFTLENBQUMsSUFBSyxRQUFRO0FBQUEsUUFDOUIsT0FBTztBQUNMLDRCQUFrQixNQUFNLE9BQU8sUUFBUSxLQUFLO0FBQUEsUUFDOUM7QUFDQSxlQUFPLFNBQVM7QUFBQSxNQUNsQjtBQUVBLGVBQVMsa0JBQW1CLEtBQUssT0FBTyxRQUFRLGNBQWM7QUFDNUQsWUFBSSxRQUFRO0FBQUcsa0JBQVEsYUFBYSxRQUFRO0FBQzVDLGlCQUFTLElBQUksR0FBRyxJQUFJLEtBQUssSUFBSSxJQUFJLFNBQVMsUUFBUSxDQUFDLEdBQUcsSUFBSSxHQUFHLEVBQUUsR0FBRztBQUNoRSxjQUFJLFNBQVMsQ0FBQyxJQUFLLFdBQVcsZUFBZSxJQUFJLElBQUksS0FBSyxJQUFLO0FBQUEsUUFDakU7QUFBQSxNQUNGO0FBRUEsTUFBQUEsUUFBTyxVQUFVLGdCQUFnQixTQUFTLGNBQWUsT0FBTyxRQUFRLFVBQVU7QUFDaEYsZ0JBQVEsQ0FBQztBQUNULGlCQUFTLFNBQVM7QUFDbEIsWUFBSSxDQUFDO0FBQVUsbUJBQVMsTUFBTSxPQUFPLFFBQVEsR0FBRyxZQUFZLENBQUM7QUFDN0QsWUFBSUEsUUFBTyxxQkFBcUI7QUFDOUIsZUFBSyxTQUFTLENBQUMsSUFBSyxVQUFVO0FBQzlCLGVBQUssU0FBUyxDQUFDLElBQUssVUFBVTtBQUM5QixlQUFLLFNBQVMsQ0FBQyxJQUFLLFVBQVU7QUFDOUIsZUFBSyxNQUFNLElBQUssUUFBUTtBQUFBLFFBQzFCLE9BQU87QUFDTCw0QkFBa0IsTUFBTSxPQUFPLFFBQVEsSUFBSTtBQUFBLFFBQzdDO0FBQ0EsZUFBTyxTQUFTO0FBQUEsTUFDbEI7QUFFQSxNQUFBQSxRQUFPLFVBQVUsZ0JBQWdCLFNBQVMsY0FBZSxPQUFPLFFBQVEsVUFBVTtBQUNoRixnQkFBUSxDQUFDO0FBQ1QsaUJBQVMsU0FBUztBQUNsQixZQUFJLENBQUM7QUFBVSxtQkFBUyxNQUFNLE9BQU8sUUFBUSxHQUFHLFlBQVksQ0FBQztBQUM3RCxZQUFJQSxRQUFPLHFCQUFxQjtBQUM5QixlQUFLLE1BQU0sSUFBSyxVQUFVO0FBQzFCLGVBQUssU0FBUyxDQUFDLElBQUssVUFBVTtBQUM5QixlQUFLLFNBQVMsQ0FBQyxJQUFLLFVBQVU7QUFDOUIsZUFBSyxTQUFTLENBQUMsSUFBSyxRQUFRO0FBQUEsUUFDOUIsT0FBTztBQUNMLDRCQUFrQixNQUFNLE9BQU8sUUFBUSxLQUFLO0FBQUEsUUFDOUM7QUFDQSxlQUFPLFNBQVM7QUFBQSxNQUNsQjtBQUVBLE1BQUFBLFFBQU8sVUFBVSxhQUFhLFNBQVMsV0FBWSxPQUFPLFFBQVFJLGFBQVksVUFBVTtBQUN0RixnQkFBUSxDQUFDO0FBQ1QsaUJBQVMsU0FBUztBQUNsQixZQUFJLENBQUMsVUFBVTtBQUNiLGNBQUksUUFBUSxLQUFLLElBQUksR0FBRyxJQUFJQSxjQUFhLENBQUM7QUFFMUMsbUJBQVMsTUFBTSxPQUFPLFFBQVFBLGFBQVksUUFBUSxHQUFHLENBQUMsS0FBSztBQUFBLFFBQzdEO0FBRUEsWUFBSSxJQUFJO0FBQ1IsWUFBSSxNQUFNO0FBQ1YsWUFBSSxNQUFNO0FBQ1YsYUFBSyxNQUFNLElBQUksUUFBUTtBQUN2QixlQUFPLEVBQUUsSUFBSUEsZ0JBQWUsT0FBTyxNQUFRO0FBQ3pDLGNBQUksUUFBUSxLQUFLLFFBQVEsS0FBSyxLQUFLLFNBQVMsSUFBSSxDQUFDLE1BQU0sR0FBRztBQUN4RCxrQkFBTTtBQUFBLFVBQ1I7QUFDQSxlQUFLLFNBQVMsQ0FBQyxLQUFNLFFBQVEsT0FBUSxLQUFLLE1BQU07QUFBQSxRQUNsRDtBQUVBLGVBQU8sU0FBU0E7QUFBQSxNQUNsQjtBQUVBLE1BQUFKLFFBQU8sVUFBVSxhQUFhLFNBQVMsV0FBWSxPQUFPLFFBQVFJLGFBQVksVUFBVTtBQUN0RixnQkFBUSxDQUFDO0FBQ1QsaUJBQVMsU0FBUztBQUNsQixZQUFJLENBQUMsVUFBVTtBQUNiLGNBQUksUUFBUSxLQUFLLElBQUksR0FBRyxJQUFJQSxjQUFhLENBQUM7QUFFMUMsbUJBQVMsTUFBTSxPQUFPLFFBQVFBLGFBQVksUUFBUSxHQUFHLENBQUMsS0FBSztBQUFBLFFBQzdEO0FBRUEsWUFBSSxJQUFJQSxjQUFhO0FBQ3JCLFlBQUksTUFBTTtBQUNWLFlBQUksTUFBTTtBQUNWLGFBQUssU0FBUyxDQUFDLElBQUksUUFBUTtBQUMzQixlQUFPLEVBQUUsS0FBSyxNQUFNLE9BQU8sTUFBUTtBQUNqQyxjQUFJLFFBQVEsS0FBSyxRQUFRLEtBQUssS0FBSyxTQUFTLElBQUksQ0FBQyxNQUFNLEdBQUc7QUFDeEQsa0JBQU07QUFBQSxVQUNSO0FBQ0EsZUFBSyxTQUFTLENBQUMsS0FBTSxRQUFRLE9BQVEsS0FBSyxNQUFNO0FBQUEsUUFDbEQ7QUFFQSxlQUFPLFNBQVNBO0FBQUEsTUFDbEI7QUFFQSxNQUFBSixRQUFPLFVBQVUsWUFBWSxTQUFTLFVBQVcsT0FBTyxRQUFRLFVBQVU7QUFDeEUsZ0JBQVEsQ0FBQztBQUNULGlCQUFTLFNBQVM7QUFDbEIsWUFBSSxDQUFDO0FBQVUsbUJBQVMsTUFBTSxPQUFPLFFBQVEsR0FBRyxLQUFNLElBQUs7QUFDM0QsWUFBSSxDQUFDQSxRQUFPO0FBQXFCLGtCQUFRLEtBQUssTUFBTSxLQUFLO0FBQ3pELFlBQUksUUFBUTtBQUFHLGtCQUFRLE1BQU8sUUFBUTtBQUN0QyxhQUFLLE1BQU0sSUFBSyxRQUFRO0FBQ3hCLGVBQU8sU0FBUztBQUFBLE1BQ2xCO0FBRUEsTUFBQUEsUUFBTyxVQUFVLGVBQWUsU0FBUyxhQUFjLE9BQU8sUUFBUSxVQUFVO0FBQzlFLGdCQUFRLENBQUM7QUFDVCxpQkFBUyxTQUFTO0FBQ2xCLFlBQUksQ0FBQztBQUFVLG1CQUFTLE1BQU0sT0FBTyxRQUFRLEdBQUcsT0FBUSxNQUFPO0FBQy9ELFlBQUlBLFFBQU8scUJBQXFCO0FBQzlCLGVBQUssTUFBTSxJQUFLLFFBQVE7QUFDeEIsZUFBSyxTQUFTLENBQUMsSUFBSyxVQUFVO0FBQUEsUUFDaEMsT0FBTztBQUNMLDRCQUFrQixNQUFNLE9BQU8sUUFBUSxJQUFJO0FBQUEsUUFDN0M7QUFDQSxlQUFPLFNBQVM7QUFBQSxNQUNsQjtBQUVBLE1BQUFBLFFBQU8sVUFBVSxlQUFlLFNBQVMsYUFBYyxPQUFPLFFBQVEsVUFBVTtBQUM5RSxnQkFBUSxDQUFDO0FBQ1QsaUJBQVMsU0FBUztBQUNsQixZQUFJLENBQUM7QUFBVSxtQkFBUyxNQUFNLE9BQU8sUUFBUSxHQUFHLE9BQVEsTUFBTztBQUMvRCxZQUFJQSxRQUFPLHFCQUFxQjtBQUM5QixlQUFLLE1BQU0sSUFBSyxVQUFVO0FBQzFCLGVBQUssU0FBUyxDQUFDLElBQUssUUFBUTtBQUFBLFFBQzlCLE9BQU87QUFDTCw0QkFBa0IsTUFBTSxPQUFPLFFBQVEsS0FBSztBQUFBLFFBQzlDO0FBQ0EsZUFBTyxTQUFTO0FBQUEsTUFDbEI7QUFFQSxNQUFBQSxRQUFPLFVBQVUsZUFBZSxTQUFTLGFBQWMsT0FBTyxRQUFRLFVBQVU7QUFDOUUsZ0JBQVEsQ0FBQztBQUNULGlCQUFTLFNBQVM7QUFDbEIsWUFBSSxDQUFDO0FBQVUsbUJBQVMsTUFBTSxPQUFPLFFBQVEsR0FBRyxZQUFZLFdBQVc7QUFDdkUsWUFBSUEsUUFBTyxxQkFBcUI7QUFDOUIsZUFBSyxNQUFNLElBQUssUUFBUTtBQUN4QixlQUFLLFNBQVMsQ0FBQyxJQUFLLFVBQVU7QUFDOUIsZUFBSyxTQUFTLENBQUMsSUFBSyxVQUFVO0FBQzlCLGVBQUssU0FBUyxDQUFDLElBQUssVUFBVTtBQUFBLFFBQ2hDLE9BQU87QUFDTCw0QkFBa0IsTUFBTSxPQUFPLFFBQVEsSUFBSTtBQUFBLFFBQzdDO0FBQ0EsZUFBTyxTQUFTO0FBQUEsTUFDbEI7QUFFQSxNQUFBQSxRQUFPLFVBQVUsZUFBZSxTQUFTLGFBQWMsT0FBTyxRQUFRLFVBQVU7QUFDOUUsZ0JBQVEsQ0FBQztBQUNULGlCQUFTLFNBQVM7QUFDbEIsWUFBSSxDQUFDO0FBQVUsbUJBQVMsTUFBTSxPQUFPLFFBQVEsR0FBRyxZQUFZLFdBQVc7QUFDdkUsWUFBSSxRQUFRO0FBQUcsa0JBQVEsYUFBYSxRQUFRO0FBQzVDLFlBQUlBLFFBQU8scUJBQXFCO0FBQzlCLGVBQUssTUFBTSxJQUFLLFVBQVU7QUFDMUIsZUFBSyxTQUFTLENBQUMsSUFBSyxVQUFVO0FBQzlCLGVBQUssU0FBUyxDQUFDLElBQUssVUFBVTtBQUM5QixlQUFLLFNBQVMsQ0FBQyxJQUFLLFFBQVE7QUFBQSxRQUM5QixPQUFPO0FBQ0wsNEJBQWtCLE1BQU0sT0FBTyxRQUFRLEtBQUs7QUFBQSxRQUM5QztBQUNBLGVBQU8sU0FBUztBQUFBLE1BQ2xCO0FBRUEsZUFBUyxhQUFjLEtBQUssT0FBTyxRQUFRLEtBQUtFLE1BQUssS0FBSztBQUN4RCxZQUFJLFNBQVMsTUFBTSxJQUFJO0FBQVEsZ0JBQU0sSUFBSSxXQUFXLG9CQUFvQjtBQUN4RSxZQUFJLFNBQVM7QUFBRyxnQkFBTSxJQUFJLFdBQVcsb0JBQW9CO0FBQUEsTUFDM0Q7QUFFQSxlQUFTLFdBQVksS0FBSyxPQUFPLFFBQVEsY0FBYyxVQUFVO0FBQy9ELFlBQUksQ0FBQyxVQUFVO0FBQ2IsdUJBQWEsS0FBSyxPQUFPLFFBQVEsR0FBRyxzQkFBd0IscUJBQXVCO0FBQUEsUUFDckY7QUFDQSxnQkFBUSxNQUFNLEtBQUssT0FBTyxRQUFRLGNBQWMsSUFBSSxDQUFDO0FBQ3JELGVBQU8sU0FBUztBQUFBLE1BQ2xCO0FBRUEsTUFBQUYsUUFBTyxVQUFVLGVBQWUsU0FBUyxhQUFjLE9BQU8sUUFBUSxVQUFVO0FBQzlFLGVBQU8sV0FBVyxNQUFNLE9BQU8sUUFBUSxNQUFNLFFBQVE7QUFBQSxNQUN2RDtBQUVBLE1BQUFBLFFBQU8sVUFBVSxlQUFlLFNBQVMsYUFBYyxPQUFPLFFBQVEsVUFBVTtBQUM5RSxlQUFPLFdBQVcsTUFBTSxPQUFPLFFBQVEsT0FBTyxRQUFRO0FBQUEsTUFDeEQ7QUFFQSxlQUFTLFlBQWEsS0FBSyxPQUFPLFFBQVEsY0FBYyxVQUFVO0FBQ2hFLFlBQUksQ0FBQyxVQUFVO0FBQ2IsdUJBQWEsS0FBSyxPQUFPLFFBQVEsR0FBRyx1QkFBeUIsc0JBQXdCO0FBQUEsUUFDdkY7QUFDQSxnQkFBUSxNQUFNLEtBQUssT0FBTyxRQUFRLGNBQWMsSUFBSSxDQUFDO0FBQ3JELGVBQU8sU0FBUztBQUFBLE1BQ2xCO0FBRUEsTUFBQUEsUUFBTyxVQUFVLGdCQUFnQixTQUFTLGNBQWUsT0FBTyxRQUFRLFVBQVU7QUFDaEYsZUFBTyxZQUFZLE1BQU0sT0FBTyxRQUFRLE1BQU0sUUFBUTtBQUFBLE1BQ3hEO0FBRUEsTUFBQUEsUUFBTyxVQUFVLGdCQUFnQixTQUFTLGNBQWUsT0FBTyxRQUFRLFVBQVU7QUFDaEYsZUFBTyxZQUFZLE1BQU0sT0FBTyxRQUFRLE9BQU8sUUFBUTtBQUFBLE1BQ3pEO0FBR0EsTUFBQUEsUUFBTyxVQUFVLE9BQU8sU0FBUyxLQUFNLFFBQVEsYUFBYSxPQUFPLEtBQUs7QUFDdEUsWUFBSSxDQUFDO0FBQU8sa0JBQVE7QUFDcEIsWUFBSSxDQUFDLE9BQU8sUUFBUTtBQUFHLGdCQUFNLEtBQUs7QUFDbEMsWUFBSSxlQUFlLE9BQU87QUFBUSx3QkFBYyxPQUFPO0FBQ3ZELFlBQUksQ0FBQztBQUFhLHdCQUFjO0FBQ2hDLFlBQUksTUFBTSxLQUFLLE1BQU07QUFBTyxnQkFBTTtBQUdsQyxZQUFJLFFBQVE7QUFBTyxpQkFBTztBQUMxQixZQUFJLE9BQU8sV0FBVyxLQUFLLEtBQUssV0FBVztBQUFHLGlCQUFPO0FBR3JELFlBQUksY0FBYyxHQUFHO0FBQ25CLGdCQUFNLElBQUksV0FBVywyQkFBMkI7QUFBQSxRQUNsRDtBQUNBLFlBQUksUUFBUSxLQUFLLFNBQVMsS0FBSztBQUFRLGdCQUFNLElBQUksV0FBVywyQkFBMkI7QUFDdkYsWUFBSSxNQUFNO0FBQUcsZ0JBQU0sSUFBSSxXQUFXLHlCQUF5QjtBQUczRCxZQUFJLE1BQU0sS0FBSztBQUFRLGdCQUFNLEtBQUs7QUFDbEMsWUFBSSxPQUFPLFNBQVMsY0FBYyxNQUFNLE9BQU87QUFDN0MsZ0JBQU0sT0FBTyxTQUFTLGNBQWM7QUFBQSxRQUN0QztBQUVBLFlBQUksTUFBTSxNQUFNO0FBQ2hCLFlBQUk7QUFFSixZQUFJLFNBQVMsVUFBVSxRQUFRLGVBQWUsY0FBYyxLQUFLO0FBRS9ELGVBQUssSUFBSSxNQUFNLEdBQUcsS0FBSyxHQUFHLEVBQUUsR0FBRztBQUM3QixtQkFBTyxJQUFJLFdBQVcsSUFBSSxLQUFLLElBQUksS0FBSztBQUFBLFVBQzFDO0FBQUEsUUFDRixXQUFXLE1BQU0sT0FBUSxDQUFDQSxRQUFPLHFCQUFxQjtBQUVwRCxlQUFLLElBQUksR0FBRyxJQUFJLEtBQUssRUFBRSxHQUFHO0FBQ3hCLG1CQUFPLElBQUksV0FBVyxJQUFJLEtBQUssSUFBSSxLQUFLO0FBQUEsVUFDMUM7QUFBQSxRQUNGLE9BQU87QUFDTCxxQkFBVyxVQUFVLElBQUk7QUFBQSxZQUN2QjtBQUFBLFlBQ0EsS0FBSyxTQUFTLE9BQU8sUUFBUSxHQUFHO0FBQUEsWUFDaEM7QUFBQSxVQUNGO0FBQUEsUUFDRjtBQUVBLGVBQU87QUFBQSxNQUNUO0FBTUEsTUFBQUEsUUFBTyxVQUFVLE9BQU8sU0FBUyxLQUFNLEtBQUssT0FBTyxLQUFLLFVBQVU7QUFFaEUsWUFBSSxPQUFPLFFBQVEsVUFBVTtBQUMzQixjQUFJLE9BQU8sVUFBVSxVQUFVO0FBQzdCLHVCQUFXO0FBQ1gsb0JBQVE7QUFDUixrQkFBTSxLQUFLO0FBQUEsVUFDYixXQUFXLE9BQU8sUUFBUSxVQUFVO0FBQ2xDLHVCQUFXO0FBQ1gsa0JBQU0sS0FBSztBQUFBLFVBQ2I7QUFDQSxjQUFJLElBQUksV0FBVyxHQUFHO0FBQ3BCLGdCQUFJLE9BQU8sSUFBSSxXQUFXLENBQUM7QUFDM0IsZ0JBQUksT0FBTyxLQUFLO0FBQ2Qsb0JBQU07QUFBQSxZQUNSO0FBQUEsVUFDRjtBQUNBLGNBQUksYUFBYSxVQUFhLE9BQU8sYUFBYSxVQUFVO0FBQzFELGtCQUFNLElBQUksVUFBVSwyQkFBMkI7QUFBQSxVQUNqRDtBQUNBLGNBQUksT0FBTyxhQUFhLFlBQVksQ0FBQ0EsUUFBTyxXQUFXLFFBQVEsR0FBRztBQUNoRSxrQkFBTSxJQUFJLFVBQVUsdUJBQXVCLFFBQVE7QUFBQSxVQUNyRDtBQUFBLFFBQ0YsV0FBVyxPQUFPLFFBQVEsVUFBVTtBQUNsQyxnQkFBTSxNQUFNO0FBQUEsUUFDZDtBQUdBLFlBQUksUUFBUSxLQUFLLEtBQUssU0FBUyxTQUFTLEtBQUssU0FBUyxLQUFLO0FBQ3pELGdCQUFNLElBQUksV0FBVyxvQkFBb0I7QUFBQSxRQUMzQztBQUVBLFlBQUksT0FBTyxPQUFPO0FBQ2hCLGlCQUFPO0FBQUEsUUFDVDtBQUVBLGdCQUFRLFVBQVU7QUFDbEIsY0FBTSxRQUFRLFNBQVksS0FBSyxTQUFTLFFBQVE7QUFFaEQsWUFBSSxDQUFDO0FBQUssZ0JBQU07QUFFaEIsWUFBSTtBQUNKLFlBQUksT0FBTyxRQUFRLFVBQVU7QUFDM0IsZUFBSyxJQUFJLE9BQU8sSUFBSSxLQUFLLEVBQUUsR0FBRztBQUM1QixpQkFBSyxDQUFDLElBQUk7QUFBQSxVQUNaO0FBQUEsUUFDRixPQUFPO0FBQ0wsY0FBSSxRQUFRQSxRQUFPLFNBQVMsR0FBRyxJQUMzQixNQUNBLFlBQVksSUFBSUEsUUFBTyxLQUFLLFFBQVEsRUFBRSxTQUFTLENBQUM7QUFDcEQsY0FBSSxNQUFNLE1BQU07QUFDaEIsZUFBSyxJQUFJLEdBQUcsSUFBSSxNQUFNLE9BQU8sRUFBRSxHQUFHO0FBQ2hDLGlCQUFLLElBQUksS0FBSyxJQUFJLE1BQU0sSUFBSSxHQUFHO0FBQUEsVUFDakM7QUFBQSxRQUNGO0FBRUEsZUFBTztBQUFBLE1BQ1Q7QUFLQSxVQUFJLG9CQUFvQjtBQUV4QixlQUFTLFlBQWEsS0FBSztBQUV6QixjQUFNLFdBQVcsR0FBRyxFQUFFLFFBQVEsbUJBQW1CLEVBQUU7QUFFbkQsWUFBSSxJQUFJLFNBQVM7QUFBRyxpQkFBTztBQUUzQixlQUFPLElBQUksU0FBUyxNQUFNLEdBQUc7QUFDM0IsZ0JBQU0sTUFBTTtBQUFBLFFBQ2Q7QUFDQSxlQUFPO0FBQUEsTUFDVDtBQUVBLGVBQVMsV0FBWSxLQUFLO0FBQ3hCLFlBQUksSUFBSTtBQUFNLGlCQUFPLElBQUksS0FBSztBQUM5QixlQUFPLElBQUksUUFBUSxjQUFjLEVBQUU7QUFBQSxNQUNyQztBQUVBLGVBQVMsTUFBTyxHQUFHO0FBQ2pCLFlBQUksSUFBSTtBQUFJLGlCQUFPLE1BQU0sRUFBRSxTQUFTLEVBQUU7QUFDdEMsZUFBTyxFQUFFLFNBQVMsRUFBRTtBQUFBLE1BQ3RCO0FBRUEsZUFBUyxZQUFhLFFBQVEsT0FBTztBQUNuQyxnQkFBUSxTQUFTO0FBQ2pCLFlBQUk7QUFDSixZQUFJLFNBQVMsT0FBTztBQUNwQixZQUFJLGdCQUFnQjtBQUNwQixZQUFJLFFBQVEsQ0FBQztBQUViLGlCQUFTLElBQUksR0FBRyxJQUFJLFFBQVEsRUFBRSxHQUFHO0FBQy9CLHNCQUFZLE9BQU8sV0FBVyxDQUFDO0FBRy9CLGNBQUksWUFBWSxTQUFVLFlBQVksT0FBUTtBQUU1QyxnQkFBSSxDQUFDLGVBQWU7QUFFbEIsa0JBQUksWUFBWSxPQUFRO0FBRXRCLHFCQUFLLFNBQVMsS0FBSztBQUFJLHdCQUFNLEtBQUssS0FBTSxLQUFNLEdBQUk7QUFDbEQ7QUFBQSxjQUNGLFdBQVcsSUFBSSxNQUFNLFFBQVE7QUFFM0IscUJBQUssU0FBUyxLQUFLO0FBQUksd0JBQU0sS0FBSyxLQUFNLEtBQU0sR0FBSTtBQUNsRDtBQUFBLGNBQ0Y7QUFHQSw4QkFBZ0I7QUFFaEI7QUFBQSxZQUNGO0FBR0EsZ0JBQUksWUFBWSxPQUFRO0FBQ3RCLG1CQUFLLFNBQVMsS0FBSztBQUFJLHNCQUFNLEtBQUssS0FBTSxLQUFNLEdBQUk7QUFDbEQsOEJBQWdCO0FBQ2hCO0FBQUEsWUFDRjtBQUdBLHlCQUFhLGdCQUFnQixTQUFVLEtBQUssWUFBWSxTQUFVO0FBQUEsVUFDcEUsV0FBVyxlQUFlO0FBRXhCLGlCQUFLLFNBQVMsS0FBSztBQUFJLG9CQUFNLEtBQUssS0FBTSxLQUFNLEdBQUk7QUFBQSxVQUNwRDtBQUVBLDBCQUFnQjtBQUdoQixjQUFJLFlBQVksS0FBTTtBQUNwQixpQkFBSyxTQUFTLEtBQUs7QUFBRztBQUN0QixrQkFBTSxLQUFLLFNBQVM7QUFBQSxVQUN0QixXQUFXLFlBQVksTUFBTztBQUM1QixpQkFBSyxTQUFTLEtBQUs7QUFBRztBQUN0QixrQkFBTTtBQUFBLGNBQ0osYUFBYSxJQUFNO0FBQUEsY0FDbkIsWUFBWSxLQUFPO0FBQUEsWUFDckI7QUFBQSxVQUNGLFdBQVcsWUFBWSxPQUFTO0FBQzlCLGlCQUFLLFNBQVMsS0FBSztBQUFHO0FBQ3RCLGtCQUFNO0FBQUEsY0FDSixhQUFhLEtBQU07QUFBQSxjQUNuQixhQUFhLElBQU0sS0FBTztBQUFBLGNBQzFCLFlBQVksS0FBTztBQUFBLFlBQ3JCO0FBQUEsVUFDRixXQUFXLFlBQVksU0FBVTtBQUMvQixpQkFBSyxTQUFTLEtBQUs7QUFBRztBQUN0QixrQkFBTTtBQUFBLGNBQ0osYUFBYSxLQUFPO0FBQUEsY0FDcEIsYUFBYSxLQUFNLEtBQU87QUFBQSxjQUMxQixhQUFhLElBQU0sS0FBTztBQUFBLGNBQzFCLFlBQVksS0FBTztBQUFBLFlBQ3JCO0FBQUEsVUFDRixPQUFPO0FBQ0wsa0JBQU0sSUFBSSxNQUFNLG9CQUFvQjtBQUFBLFVBQ3RDO0FBQUEsUUFDRjtBQUVBLGVBQU87QUFBQSxNQUNUO0FBRUEsZUFBUyxhQUFjLEtBQUs7QUFDMUIsWUFBSSxZQUFZLENBQUM7QUFDakIsaUJBQVMsSUFBSSxHQUFHLElBQUksSUFBSSxRQUFRLEVBQUUsR0FBRztBQUVuQyxvQkFBVSxLQUFLLElBQUksV0FBVyxDQUFDLElBQUksR0FBSTtBQUFBLFFBQ3pDO0FBQ0EsZUFBTztBQUFBLE1BQ1Q7QUFFQSxlQUFTLGVBQWdCLEtBQUssT0FBTztBQUNuQyxZQUFJLEdBQUcsSUFBSTtBQUNYLFlBQUksWUFBWSxDQUFDO0FBQ2pCLGlCQUFTLElBQUksR0FBRyxJQUFJLElBQUksUUFBUSxFQUFFLEdBQUc7QUFDbkMsZUFBSyxTQUFTLEtBQUs7QUFBRztBQUV0QixjQUFJLElBQUksV0FBVyxDQUFDO0FBQ3BCLGVBQUssS0FBSztBQUNWLGVBQUssSUFBSTtBQUNULG9CQUFVLEtBQUssRUFBRTtBQUNqQixvQkFBVSxLQUFLLEVBQUU7QUFBQSxRQUNuQjtBQUVBLGVBQU87QUFBQSxNQUNUO0FBRUEsZUFBUyxjQUFlLEtBQUs7QUFDM0IsZUFBTyxPQUFPLFlBQVksWUFBWSxHQUFHLENBQUM7QUFBQSxNQUM1QztBQUVBLGVBQVMsV0FBWSxLQUFLLEtBQUssUUFBUSxRQUFRO0FBQzdDLGlCQUFTLElBQUksR0FBRyxJQUFJLFFBQVEsRUFBRSxHQUFHO0FBQy9CLGNBQUssSUFBSSxVQUFVLElBQUksVUFBWSxLQUFLLElBQUk7QUFBUztBQUNyRCxjQUFJLElBQUksTUFBTSxJQUFJLElBQUksQ0FBQztBQUFBLFFBQ3pCO0FBQ0EsZUFBTztBQUFBLE1BQ1Q7QUFFQSxlQUFTLE1BQU8sS0FBSztBQUNuQixlQUFPLFFBQVE7QUFBQSxNQUNqQjtBQUFBO0FBQUE7OztBQzV2REEsTUFJQSxRQUNBO0FBTEE7QUFBQTtBQUlBLGVBQXdCO0FBQ3hCLHNCQUF1QjtBQUFBO0FBQUE7OztBQ0x2QjtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBdUJBLFVBQUksSUFBSSxPQUFPLFlBQVksV0FBVyxVQUFVO0FBQ2hELFVBQUksZUFBZSxLQUFLLE9BQU8sRUFBRSxVQUFVLGFBQ3ZDLEVBQUUsUUFDRixTQUFTSyxjQUFhLFFBQVEsVUFBVSxNQUFNO0FBQzlDLGVBQU8sU0FBUyxVQUFVLE1BQU0sS0FBSyxRQUFRLFVBQVUsSUFBSTtBQUFBLE1BQzdEO0FBRUYsVUFBSTtBQUNKLFVBQUksS0FBSyxPQUFPLEVBQUUsWUFBWSxZQUFZO0FBQ3hDLHlCQUFpQixFQUFFO0FBQUEsTUFDckIsV0FBVyxPQUFPLHVCQUF1QjtBQUN2Qyx5QkFBaUIsU0FBU0MsZ0JBQWUsUUFBUTtBQUMvQyxpQkFBTyxPQUFPLG9CQUFvQixNQUFNLEVBQ3JDLE9BQU8sT0FBTyxzQkFBc0IsTUFBTSxDQUFDO0FBQUEsUUFDaEQ7QUFBQSxNQUNGLE9BQU87QUFDTCx5QkFBaUIsU0FBU0EsZ0JBQWUsUUFBUTtBQUMvQyxpQkFBTyxPQUFPLG9CQUFvQixNQUFNO0FBQUEsUUFDMUM7QUFBQSxNQUNGO0FBRUEsZUFBUyxtQkFBbUIsU0FBUztBQUNuQyxZQUFJLFdBQVcsUUFBUTtBQUFNLGtCQUFRLEtBQUssT0FBTztBQUFBLE1BQ25EO0FBRUEsVUFBSSxjQUFjLE9BQU8sU0FBUyxTQUFTQyxhQUFZLE9BQU87QUFDNUQsZUFBTyxVQUFVO0FBQUEsTUFDbkI7QUFFQSxlQUFTQyxnQkFBZTtBQUN0QixRQUFBQSxjQUFhLEtBQUssS0FBSyxJQUFJO0FBQUEsTUFDN0I7QUFDQSxhQUFPLFVBQVVBO0FBQ2pCLGFBQU8sUUFBUSxPQUFPO0FBR3RCLE1BQUFBLGNBQWEsZUFBZUE7QUFFNUIsTUFBQUEsY0FBYSxVQUFVLFVBQVU7QUFDakMsTUFBQUEsY0FBYSxVQUFVLGVBQWU7QUFDdEMsTUFBQUEsY0FBYSxVQUFVLGdCQUFnQjtBQUl2QyxVQUFJLHNCQUFzQjtBQUUxQixlQUFTLGNBQWMsVUFBVTtBQUMvQixZQUFJLE9BQU8sYUFBYSxZQUFZO0FBQ2xDLGdCQUFNLElBQUksVUFBVSxxRUFBcUUsT0FBTyxRQUFRO0FBQUEsUUFDMUc7QUFBQSxNQUNGO0FBRUEsYUFBTyxlQUFlQSxlQUFjLHVCQUF1QjtBQUFBLFFBQ3pELFlBQVk7QUFBQSxRQUNaLEtBQUssV0FBVztBQUNkLGlCQUFPO0FBQUEsUUFDVDtBQUFBLFFBQ0EsS0FBSyxTQUFTLEtBQUs7QUFDakIsY0FBSSxPQUFPLFFBQVEsWUFBWSxNQUFNLEtBQUssWUFBWSxHQUFHLEdBQUc7QUFDMUQsa0JBQU0sSUFBSSxXQUFXLG9HQUFvRyxNQUFNLEdBQUc7QUFBQSxVQUNwSTtBQUNBLGdDQUFzQjtBQUFBLFFBQ3hCO0FBQUEsTUFDRixDQUFDO0FBRUQsTUFBQUEsY0FBYSxPQUFPLFdBQVc7QUFFN0IsWUFBSSxLQUFLLFlBQVksVUFDakIsS0FBSyxZQUFZLE9BQU8sZUFBZSxJQUFJLEVBQUUsU0FBUztBQUN4RCxlQUFLLFVBQVUsdUJBQU8sT0FBTyxJQUFJO0FBQ2pDLGVBQUssZUFBZTtBQUFBLFFBQ3RCO0FBRUEsYUFBSyxnQkFBZ0IsS0FBSyxpQkFBaUI7QUFBQSxNQUM3QztBQUlBLE1BQUFBLGNBQWEsVUFBVSxrQkFBa0IsU0FBUyxnQkFBZ0IsR0FBRztBQUNuRSxZQUFJLE9BQU8sTUFBTSxZQUFZLElBQUksS0FBSyxZQUFZLENBQUMsR0FBRztBQUNwRCxnQkFBTSxJQUFJLFdBQVcsa0ZBQWtGLElBQUksR0FBRztBQUFBLFFBQ2hIO0FBQ0EsYUFBSyxnQkFBZ0I7QUFDckIsZUFBTztBQUFBLE1BQ1Q7QUFFQSxlQUFTLGlCQUFpQixNQUFNO0FBQzlCLFlBQUksS0FBSyxrQkFBa0I7QUFDekIsaUJBQU9BLGNBQWE7QUFDdEIsZUFBTyxLQUFLO0FBQUEsTUFDZDtBQUVBLE1BQUFBLGNBQWEsVUFBVSxrQkFBa0IsU0FBUyxrQkFBa0I7QUFDbEUsZUFBTyxpQkFBaUIsSUFBSTtBQUFBLE1BQzlCO0FBRUEsTUFBQUEsY0FBYSxVQUFVLE9BQU8sU0FBUyxLQUFLLE1BQU07QUFDaEQsWUFBSSxPQUFPLENBQUM7QUFDWixpQkFBUyxJQUFJLEdBQUcsSUFBSSxVQUFVLFFBQVE7QUFBSyxlQUFLLEtBQUssVUFBVSxDQUFDLENBQUM7QUFDakUsWUFBSSxVQUFXLFNBQVM7QUFFeEIsWUFBSSxTQUFTLEtBQUs7QUFDbEIsWUFBSSxXQUFXO0FBQ2Isb0JBQVcsV0FBVyxPQUFPLFVBQVU7QUFBQSxpQkFDaEMsQ0FBQztBQUNSLGlCQUFPO0FBR1QsWUFBSSxTQUFTO0FBQ1gsY0FBSTtBQUNKLGNBQUksS0FBSyxTQUFTO0FBQ2hCLGlCQUFLLEtBQUssQ0FBQztBQUNiLGNBQUksY0FBYyxPQUFPO0FBR3ZCLGtCQUFNO0FBQUEsVUFDUjtBQUVBLGNBQUlDLE9BQU0sSUFBSSxNQUFNLHNCQUFzQixLQUFLLE9BQU8sR0FBRyxVQUFVLE1BQU0sR0FBRztBQUM1RSxVQUFBQSxLQUFJLFVBQVU7QUFDZCxnQkFBTUE7QUFBQSxRQUNSO0FBRUEsWUFBSSxVQUFVLE9BQU8sSUFBSTtBQUV6QixZQUFJLFlBQVk7QUFDZCxpQkFBTztBQUVULFlBQUksT0FBTyxZQUFZLFlBQVk7QUFDakMsdUJBQWEsU0FBUyxNQUFNLElBQUk7QUFBQSxRQUNsQyxPQUFPO0FBQ0wsY0FBSSxNQUFNLFFBQVE7QUFDbEIsY0FBSSxZQUFZLFdBQVcsU0FBUyxHQUFHO0FBQ3ZDLG1CQUFTLElBQUksR0FBRyxJQUFJLEtBQUssRUFBRTtBQUN6Qix5QkFBYSxVQUFVLENBQUMsR0FBRyxNQUFNLElBQUk7QUFBQSxRQUN6QztBQUVBLGVBQU87QUFBQSxNQUNUO0FBRUEsZUFBUyxhQUFhLFFBQVEsTUFBTSxVQUFVLFNBQVM7QUFDckQsWUFBSTtBQUNKLFlBQUk7QUFDSixZQUFJO0FBRUosc0JBQWMsUUFBUTtBQUV0QixpQkFBUyxPQUFPO0FBQ2hCLFlBQUksV0FBVyxRQUFXO0FBQ3hCLG1CQUFTLE9BQU8sVUFBVSx1QkFBTyxPQUFPLElBQUk7QUFDNUMsaUJBQU8sZUFBZTtBQUFBLFFBQ3hCLE9BQU87QUFHTCxjQUFJLE9BQU8sZ0JBQWdCLFFBQVc7QUFDcEMsbUJBQU87QUFBQSxjQUFLO0FBQUEsY0FBZTtBQUFBLGNBQ2YsU0FBUyxXQUFXLFNBQVMsV0FBVztBQUFBLFlBQVE7QUFJNUQscUJBQVMsT0FBTztBQUFBLFVBQ2xCO0FBQ0EscUJBQVcsT0FBTyxJQUFJO0FBQUEsUUFDeEI7QUFFQSxZQUFJLGFBQWEsUUFBVztBQUUxQixxQkFBVyxPQUFPLElBQUksSUFBSTtBQUMxQixZQUFFLE9BQU87QUFBQSxRQUNYLE9BQU87QUFDTCxjQUFJLE9BQU8sYUFBYSxZQUFZO0FBRWxDLHVCQUFXLE9BQU8sSUFBSSxJQUNwQixVQUFVLENBQUMsVUFBVSxRQUFRLElBQUksQ0FBQyxVQUFVLFFBQVE7QUFBQSxVQUV4RCxXQUFXLFNBQVM7QUFDbEIscUJBQVMsUUFBUSxRQUFRO0FBQUEsVUFDM0IsT0FBTztBQUNMLHFCQUFTLEtBQUssUUFBUTtBQUFBLFVBQ3hCO0FBR0EsY0FBSSxpQkFBaUIsTUFBTTtBQUMzQixjQUFJLElBQUksS0FBSyxTQUFTLFNBQVMsS0FBSyxDQUFDLFNBQVMsUUFBUTtBQUNwRCxxQkFBUyxTQUFTO0FBR2xCLGdCQUFJLElBQUksSUFBSSxNQUFNLGlEQUNFLFNBQVMsU0FBUyxNQUFNLE9BQU8sSUFBSSxJQUFJLG1FQUV2QjtBQUNwQyxjQUFFLE9BQU87QUFDVCxjQUFFLFVBQVU7QUFDWixjQUFFLE9BQU87QUFDVCxjQUFFLFFBQVEsU0FBUztBQUNuQiwrQkFBbUIsQ0FBQztBQUFBLFVBQ3RCO0FBQUEsUUFDRjtBQUVBLGVBQU87QUFBQSxNQUNUO0FBRUEsTUFBQUQsY0FBYSxVQUFVLGNBQWMsU0FBUyxZQUFZLE1BQU0sVUFBVTtBQUN4RSxlQUFPLGFBQWEsTUFBTSxNQUFNLFVBQVUsS0FBSztBQUFBLE1BQ2pEO0FBRUEsTUFBQUEsY0FBYSxVQUFVLEtBQUtBLGNBQWEsVUFBVTtBQUVuRCxNQUFBQSxjQUFhLFVBQVUsa0JBQ25CLFNBQVMsZ0JBQWdCLE1BQU0sVUFBVTtBQUN2QyxlQUFPLGFBQWEsTUFBTSxNQUFNLFVBQVUsSUFBSTtBQUFBLE1BQ2hEO0FBRUosZUFBUyxjQUFjO0FBQ3JCLFlBQUksQ0FBQyxLQUFLLE9BQU87QUFDZixlQUFLLE9BQU8sZUFBZSxLQUFLLE1BQU0sS0FBSyxNQUFNO0FBQ2pELGVBQUssUUFBUTtBQUNiLGNBQUksVUFBVSxXQUFXO0FBQ3ZCLG1CQUFPLEtBQUssU0FBUyxLQUFLLEtBQUssTUFBTTtBQUN2QyxpQkFBTyxLQUFLLFNBQVMsTUFBTSxLQUFLLFFBQVEsU0FBUztBQUFBLFFBQ25EO0FBQUEsTUFDRjtBQUVBLGVBQVMsVUFBVSxRQUFRLE1BQU0sVUFBVTtBQUN6QyxZQUFJLFFBQVEsRUFBRSxPQUFPLE9BQU8sUUFBUSxRQUFXLFFBQWdCLE1BQVksU0FBbUI7QUFDOUYsWUFBSSxVQUFVLFlBQVksS0FBSyxLQUFLO0FBQ3BDLGdCQUFRLFdBQVc7QUFDbkIsY0FBTSxTQUFTO0FBQ2YsZUFBTztBQUFBLE1BQ1Q7QUFFQSxNQUFBQSxjQUFhLFVBQVUsT0FBTyxTQUFTRSxNQUFLLE1BQU0sVUFBVTtBQUMxRCxzQkFBYyxRQUFRO0FBQ3RCLGFBQUssR0FBRyxNQUFNLFVBQVUsTUFBTSxNQUFNLFFBQVEsQ0FBQztBQUM3QyxlQUFPO0FBQUEsTUFDVDtBQUVBLE1BQUFGLGNBQWEsVUFBVSxzQkFDbkIsU0FBUyxvQkFBb0IsTUFBTSxVQUFVO0FBQzNDLHNCQUFjLFFBQVE7QUFDdEIsYUFBSyxnQkFBZ0IsTUFBTSxVQUFVLE1BQU0sTUFBTSxRQUFRLENBQUM7QUFDMUQsZUFBTztBQUFBLE1BQ1Q7QUFHSixNQUFBQSxjQUFhLFVBQVUsaUJBQ25CLFNBQVMsZUFBZSxNQUFNLFVBQVU7QUFDdEMsWUFBSSxNQUFNLFFBQVEsVUFBVSxHQUFHO0FBRS9CLHNCQUFjLFFBQVE7QUFFdEIsaUJBQVMsS0FBSztBQUNkLFlBQUksV0FBVztBQUNiLGlCQUFPO0FBRVQsZUFBTyxPQUFPLElBQUk7QUFDbEIsWUFBSSxTQUFTO0FBQ1gsaUJBQU87QUFFVCxZQUFJLFNBQVMsWUFBWSxLQUFLLGFBQWEsVUFBVTtBQUNuRCxjQUFJLEVBQUUsS0FBSyxpQkFBaUI7QUFDMUIsaUJBQUssVUFBVSx1QkFBTyxPQUFPLElBQUk7QUFBQSxlQUM5QjtBQUNILG1CQUFPLE9BQU8sSUFBSTtBQUNsQixnQkFBSSxPQUFPO0FBQ1QsbUJBQUssS0FBSyxrQkFBa0IsTUFBTSxLQUFLLFlBQVksUUFBUTtBQUFBLFVBQy9EO0FBQUEsUUFDRixXQUFXLE9BQU8sU0FBUyxZQUFZO0FBQ3JDLHFCQUFXO0FBRVgsZUFBSyxJQUFJLEtBQUssU0FBUyxHQUFHLEtBQUssR0FBRyxLQUFLO0FBQ3JDLGdCQUFJLEtBQUssQ0FBQyxNQUFNLFlBQVksS0FBSyxDQUFDLEVBQUUsYUFBYSxVQUFVO0FBQ3pELGlDQUFtQixLQUFLLENBQUMsRUFBRTtBQUMzQix5QkFBVztBQUNYO0FBQUEsWUFDRjtBQUFBLFVBQ0Y7QUFFQSxjQUFJLFdBQVc7QUFDYixtQkFBTztBQUVULGNBQUksYUFBYTtBQUNmLGlCQUFLLE1BQU07QUFBQSxlQUNSO0FBQ0gsc0JBQVUsTUFBTSxRQUFRO0FBQUEsVUFDMUI7QUFFQSxjQUFJLEtBQUssV0FBVztBQUNsQixtQkFBTyxJQUFJLElBQUksS0FBSyxDQUFDO0FBRXZCLGNBQUksT0FBTyxtQkFBbUI7QUFDNUIsaUJBQUssS0FBSyxrQkFBa0IsTUFBTSxvQkFBb0IsUUFBUTtBQUFBLFFBQ2xFO0FBRUEsZUFBTztBQUFBLE1BQ1Q7QUFFSixNQUFBQSxjQUFhLFVBQVUsTUFBTUEsY0FBYSxVQUFVO0FBRXBELE1BQUFBLGNBQWEsVUFBVSxxQkFDbkIsU0FBUyxtQkFBbUIsTUFBTTtBQUNoQyxZQUFJLFdBQVcsUUFBUTtBQUV2QixpQkFBUyxLQUFLO0FBQ2QsWUFBSSxXQUFXO0FBQ2IsaUJBQU87QUFHVCxZQUFJLE9BQU8sbUJBQW1CLFFBQVc7QUFDdkMsY0FBSSxVQUFVLFdBQVcsR0FBRztBQUMxQixpQkFBSyxVQUFVLHVCQUFPLE9BQU8sSUFBSTtBQUNqQyxpQkFBSyxlQUFlO0FBQUEsVUFDdEIsV0FBVyxPQUFPLElBQUksTUFBTSxRQUFXO0FBQ3JDLGdCQUFJLEVBQUUsS0FBSyxpQkFBaUI7QUFDMUIsbUJBQUssVUFBVSx1QkFBTyxPQUFPLElBQUk7QUFBQTtBQUVqQyxxQkFBTyxPQUFPLElBQUk7QUFBQSxVQUN0QjtBQUNBLGlCQUFPO0FBQUEsUUFDVDtBQUdBLFlBQUksVUFBVSxXQUFXLEdBQUc7QUFDMUIsY0FBSSxPQUFPLE9BQU8sS0FBSyxNQUFNO0FBQzdCLGNBQUk7QUFDSixlQUFLLElBQUksR0FBRyxJQUFJLEtBQUssUUFBUSxFQUFFLEdBQUc7QUFDaEMsa0JBQU0sS0FBSyxDQUFDO0FBQ1osZ0JBQUksUUFBUTtBQUFrQjtBQUM5QixpQkFBSyxtQkFBbUIsR0FBRztBQUFBLFVBQzdCO0FBQ0EsZUFBSyxtQkFBbUIsZ0JBQWdCO0FBQ3hDLGVBQUssVUFBVSx1QkFBTyxPQUFPLElBQUk7QUFDakMsZUFBSyxlQUFlO0FBQ3BCLGlCQUFPO0FBQUEsUUFDVDtBQUVBLG9CQUFZLE9BQU8sSUFBSTtBQUV2QixZQUFJLE9BQU8sY0FBYyxZQUFZO0FBQ25DLGVBQUssZUFBZSxNQUFNLFNBQVM7QUFBQSxRQUNyQyxXQUFXLGNBQWMsUUFBVztBQUVsQyxlQUFLLElBQUksVUFBVSxTQUFTLEdBQUcsS0FBSyxHQUFHLEtBQUs7QUFDMUMsaUJBQUssZUFBZSxNQUFNLFVBQVUsQ0FBQyxDQUFDO0FBQUEsVUFDeEM7QUFBQSxRQUNGO0FBRUEsZUFBTztBQUFBLE1BQ1Q7QUFFSixlQUFTLFdBQVcsUUFBUSxNQUFNLFFBQVE7QUFDeEMsWUFBSSxTQUFTLE9BQU87QUFFcEIsWUFBSSxXQUFXO0FBQ2IsaUJBQU8sQ0FBQztBQUVWLFlBQUksYUFBYSxPQUFPLElBQUk7QUFDNUIsWUFBSSxlQUFlO0FBQ2pCLGlCQUFPLENBQUM7QUFFVixZQUFJLE9BQU8sZUFBZTtBQUN4QixpQkFBTyxTQUFTLENBQUMsV0FBVyxZQUFZLFVBQVUsSUFBSSxDQUFDLFVBQVU7QUFFbkUsZUFBTyxTQUNMLGdCQUFnQixVQUFVLElBQUksV0FBVyxZQUFZLFdBQVcsTUFBTTtBQUFBLE1BQzFFO0FBRUEsTUFBQUEsY0FBYSxVQUFVLFlBQVksU0FBUyxVQUFVLE1BQU07QUFDMUQsZUFBTyxXQUFXLE1BQU0sTUFBTSxJQUFJO0FBQUEsTUFDcEM7QUFFQSxNQUFBQSxjQUFhLFVBQVUsZUFBZSxTQUFTLGFBQWEsTUFBTTtBQUNoRSxlQUFPLFdBQVcsTUFBTSxNQUFNLEtBQUs7QUFBQSxNQUNyQztBQUVBLE1BQUFBLGNBQWEsZ0JBQWdCLFNBQVMsU0FBUyxNQUFNO0FBQ25ELFlBQUksT0FBTyxRQUFRLGtCQUFrQixZQUFZO0FBQy9DLGlCQUFPLFFBQVEsY0FBYyxJQUFJO0FBQUEsUUFDbkMsT0FBTztBQUNMLGlCQUFPLGNBQWMsS0FBSyxTQUFTLElBQUk7QUFBQSxRQUN6QztBQUFBLE1BQ0Y7QUFFQSxNQUFBQSxjQUFhLFVBQVUsZ0JBQWdCO0FBQ3ZDLGVBQVMsY0FBYyxNQUFNO0FBQzNCLFlBQUksU0FBUyxLQUFLO0FBRWxCLFlBQUksV0FBVyxRQUFXO0FBQ3hCLGNBQUksYUFBYSxPQUFPLElBQUk7QUFFNUIsY0FBSSxPQUFPLGVBQWUsWUFBWTtBQUNwQyxtQkFBTztBQUFBLFVBQ1QsV0FBVyxlQUFlLFFBQVc7QUFDbkMsbUJBQU8sV0FBVztBQUFBLFVBQ3BCO0FBQUEsUUFDRjtBQUVBLGVBQU87QUFBQSxNQUNUO0FBRUEsTUFBQUEsY0FBYSxVQUFVLGFBQWEsU0FBUyxhQUFhO0FBQ3hELGVBQU8sS0FBSyxlQUFlLElBQUksZUFBZSxLQUFLLE9BQU8sSUFBSSxDQUFDO0FBQUEsTUFDakU7QUFFQSxlQUFTLFdBQVcsS0FBSyxHQUFHO0FBQzFCLFlBQUksT0FBTyxJQUFJLE1BQU0sQ0FBQztBQUN0QixpQkFBUyxJQUFJLEdBQUcsSUFBSSxHQUFHLEVBQUU7QUFDdkIsZUFBSyxDQUFDLElBQUksSUFBSSxDQUFDO0FBQ2pCLGVBQU87QUFBQSxNQUNUO0FBRUEsZUFBUyxVQUFVLE1BQU0sT0FBTztBQUM5QixlQUFPLFFBQVEsSUFBSSxLQUFLLFFBQVE7QUFDOUIsZUFBSyxLQUFLLElBQUksS0FBSyxRQUFRLENBQUM7QUFDOUIsYUFBSyxJQUFJO0FBQUEsTUFDWDtBQUVBLGVBQVMsZ0JBQWdCLEtBQUs7QUFDNUIsWUFBSSxNQUFNLElBQUksTUFBTSxJQUFJLE1BQU07QUFDOUIsaUJBQVMsSUFBSSxHQUFHLElBQUksSUFBSSxRQUFRLEVBQUUsR0FBRztBQUNuQyxjQUFJLENBQUMsSUFBSSxJQUFJLENBQUMsRUFBRSxZQUFZLElBQUksQ0FBQztBQUFBLFFBQ25DO0FBQ0EsZUFBTztBQUFBLE1BQ1Q7QUFFQSxlQUFTLEtBQUssU0FBUyxNQUFNO0FBQzNCLGVBQU8sSUFBSSxRQUFRLFNBQVUsU0FBUyxRQUFRO0FBQzVDLG1CQUFTLGNBQWNDLE1BQUs7QUFDMUIsb0JBQVEsZUFBZSxNQUFNLFFBQVE7QUFDckMsbUJBQU9BLElBQUc7QUFBQSxVQUNaO0FBRUEsbUJBQVMsV0FBVztBQUNsQixnQkFBSSxPQUFPLFFBQVEsbUJBQW1CLFlBQVk7QUFDaEQsc0JBQVEsZUFBZSxTQUFTLGFBQWE7QUFBQSxZQUMvQztBQUNBLG9CQUFRLENBQUMsRUFBRSxNQUFNLEtBQUssU0FBUyxDQUFDO0FBQUEsVUFDbEM7QUFBQztBQUVELHlDQUErQixTQUFTLE1BQU0sVUFBVSxFQUFFLE1BQU0sS0FBSyxDQUFDO0FBQ3RFLGNBQUksU0FBUyxTQUFTO0FBQ3BCLDBDQUE4QixTQUFTLGVBQWUsRUFBRSxNQUFNLEtBQUssQ0FBQztBQUFBLFVBQ3RFO0FBQUEsUUFDRixDQUFDO0FBQUEsTUFDSDtBQUVBLGVBQVMsOEJBQThCLFNBQVMsU0FBUyxPQUFPO0FBQzlELFlBQUksT0FBTyxRQUFRLE9BQU8sWUFBWTtBQUNwQyx5Q0FBK0IsU0FBUyxTQUFTLFNBQVMsS0FBSztBQUFBLFFBQ2pFO0FBQUEsTUFDRjtBQUVBLGVBQVMsK0JBQStCLFNBQVMsTUFBTSxVQUFVLE9BQU87QUFDdEUsWUFBSSxPQUFPLFFBQVEsT0FBTyxZQUFZO0FBQ3BDLGNBQUksTUFBTSxNQUFNO0FBQ2Qsb0JBQVEsS0FBSyxNQUFNLFFBQVE7QUFBQSxVQUM3QixPQUFPO0FBQ0wsb0JBQVEsR0FBRyxNQUFNLFFBQVE7QUFBQSxVQUMzQjtBQUFBLFFBQ0YsV0FBVyxPQUFPLFFBQVEscUJBQXFCLFlBQVk7QUFHekQsa0JBQVEsaUJBQWlCLE1BQU0sU0FBUyxhQUFhLEtBQUs7QUFHeEQsZ0JBQUksTUFBTSxNQUFNO0FBQ2Qsc0JBQVEsb0JBQW9CLE1BQU0sWUFBWTtBQUFBLFlBQ2hEO0FBQ0EscUJBQVMsR0FBRztBQUFBLFVBQ2QsQ0FBQztBQUFBLFFBQ0gsT0FBTztBQUNMLGdCQUFNLElBQUksVUFBVSx3RUFBd0UsT0FBTyxPQUFPO0FBQUEsUUFDNUc7QUFBQSxNQUNGO0FBQUE7QUFBQTs7O0FDaGZBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFFQSxhQUFPLGVBQWUsU0FBUyxjQUFjO0FBQUEsUUFDM0MsT0FBTztBQUFBLE1BQ1QsQ0FBQztBQUVELFVBQUksVUFBVSxPQUFPLFdBQVcsY0FBYyxPQUFPLE9BQU8sYUFBYSxXQUFXLFNBQVUsS0FBSztBQUFFLGVBQU8sT0FBTztBQUFBLE1BQUssSUFBSSxTQUFVLEtBQUs7QUFBRSxlQUFPLE9BQU8sT0FBTyxXQUFXLGNBQWMsSUFBSSxnQkFBZ0IsVUFBVSxRQUFRLE9BQU8sWUFBWSxXQUFXLE9BQU87QUFBQSxNQUFLO0FBRTNRLFVBQUlFLGFBQVksT0FBTyxXQUFXLGVBQWUsT0FBTyxPQUFPLGFBQWE7QUFFNUUsVUFBSUMsVUFBUyxPQUFPLFlBQVksZUFBZSxRQUFRLFlBQVksUUFBUSxRQUFRLFNBQVMsUUFBUTtBQUVwRyxVQUFJQyxnQkFBZSxPQUFPLFNBQVMsY0FBYyxjQUFjLFFBQVEsSUFBSSxPQUFPLFlBQVksS0FBSyxlQUFlLEtBQUssWUFBWSxTQUFTO0FBTTVJLFVBQUksVUFBVSxPQUFPLFdBQVcsZUFBZSxPQUFPLFNBQVMsWUFBWSxPQUFPLGNBQWMsZ0JBQWdCLFVBQVUsVUFBVSxTQUFTLFNBQVMsS0FBSyxVQUFVLFVBQVUsU0FBUyxPQUFPO0FBRS9MLFVBQUksU0FBUyxPQUFPLFNBQVMsZUFBZSxPQUFPLEtBQUssWUFBWSxlQUFlLE9BQU8sS0FBSyxRQUFRLFNBQVM7QUFFaEgsY0FBUSxZQUFZRjtBQUNwQixjQUFRLGNBQWNFO0FBQ3RCLGNBQVEsU0FBU0Q7QUFDakIsY0FBUSxVQUFVO0FBQ2xCLGNBQVEsU0FBUztBQUFBO0FBQUE7OztBQzFCakIsTUFJTSxhQStGQTtBQW5HTjtBQUFBO0FBQUE7QUFBQTtBQUlBLE1BQU0sY0FBTixNQUFzQztBQUFBLFFBS2xDLFlBQVksT0FBNEI7QUFDcEMsZUFBSyxRQUFRLE1BQU07QUFDbkIsZUFBSyxRQUFRLE1BQU0sUUFBUSxJQUFJLFdBQVcsSUFBSSx1QkFBdUIsSUFBSSxDQUFDLENBQUM7QUFBQSxRQUMvRTtBQUFBLFFBRUEsT0FBTyxLQUF5QixPQUE0QjtBQUN4RCxpQkFBTyxJQUFJLFlBQWUsS0FBSztBQUFBLFFBQ25DO0FBQUEsUUFFQSxLQUEwQjtBQUN0QixpQkFBTyxFQUFDLE1BQU0sS0FBSyxPQUFPLE1BQU0sS0FBSyxNQUFLO0FBQUEsUUFDOUM7QUFBQSxRQUVBLFFBQVEsR0FBVztBQUNmLGNBQUksT0FBTyxRQUFRLEtBQUssS0FBSyxPQUFPLENBQUMsR0FBRyxPQUFPLFFBQVEsS0FBSyxLQUFLLE9BQU8sQ0FBQztBQUV6RSxpQkFBTyxTQUFVLE9BQU8sS0FBSyxNQUFNO0FBRW5DLGNBQUksUUFBUSxNQUFNO0FBQ2Qsb0JBQVEsTUFBTSxLQUFLLE9BQU8sUUFBUSxDQUFDO0FBQ25DLG9CQUFRLE1BQU0sS0FBSyxPQUFPLEdBQUcsSUFBSTtBQUNqQyxvQkFBUSxPQUFPLEtBQUssT0FBTyxHQUFHLENBQUM7QUFDL0IsbUJBQU87QUFBQSxVQUNYO0FBQ0ssbUJBQU87QUFBQSxRQUNoQjtBQUFBLFFBRUEsV0FBVyxJQUFjO0FBQ3JCLGNBQUksT0FBTyxRQUFRLEtBQUssS0FBSyxPQUFPLENBQUMsR0FBRyxPQUFPLFFBQVEsS0FBSyxLQUFLLE9BQU8sQ0FBQztBQUV6RSxpQkFBTyxTQUFVLE9BQU8sS0FBSyxNQUFNO0FBRW5DLGNBQUk7QUFDSixlQUFLLElBQUksR0FBRyxRQUFRLFFBQVEsSUFBSSxHQUFHLFFBQVEsS0FBSztBQUM1QyxvQkFBUSxNQUFNLEtBQUssT0FBTyxRQUFRLEdBQUcsQ0FBQyxDQUFDO0FBQUEsVUFDM0M7QUFFQSxjQUFJLElBQUksR0FBRztBQUNQLG9CQUFRLE1BQU0sS0FBSyxPQUFPLEdBQUcsSUFBSTtBQUNqQyxvQkFBUSxPQUFPLEtBQUssT0FBTyxHQUFHLENBQUM7QUFBQSxVQUNuQztBQUNBLGlCQUFPO0FBQUEsUUFDWDtBQUFBLFFBRUEsT0FBTztBQUNILGNBQUksT0FBTyxRQUFRLEtBQUssS0FBSyxPQUFPLENBQUMsR0FBRyxPQUFPLFFBQVEsS0FBSyxLQUFLLE9BQU8sQ0FBQztBQUV6RSxpQkFBTyxRQUFRLE1BQU07QUFDakIsb0JBQVEsS0FBSyxLQUFLLE9BQU8sR0FBRyxJQUFJO0FBQ2hDLG1CQUFPLFFBQVEsS0FBSyxLQUFLLE9BQU8sQ0FBQztBQUFBLFVBQ3JDO0FBQUEsUUFDSjtBQUFBLFFBRUEsVUFBVTtBQUNOLGVBQUssS0FBSztBQUVWLGNBQUksT0FBTyxRQUFRLEtBQUssS0FBSyxPQUFPLENBQUMsR0FDakMsTUFBTSxRQUFRLEtBQUssS0FBSyxPQUFPLE1BQU07QUFFekMsa0JBQVEsTUFBTSxLQUFLLE9BQU8sR0FBRyxJQUFJO0FBQ2pDLGtCQUFRLE9BQU8sS0FBSyxPQUFPLEdBQUcsQ0FBQztBQUMvQixpQkFBTztBQUFBLFFBQ1g7QUFBQSxRQUVBLFlBQVksT0FBZSxLQUFRLFFBQXdCO0FBQ3ZELGNBQUksU0FBUztBQUFHLG1CQUFPO0FBRXZCLGVBQUssS0FBSztBQUVWLGNBQUksT0FBTyxRQUFRLEtBQUssS0FBSyxPQUFPLENBQUMsR0FBRyxPQUFPLFFBQVEsS0FBSyxLQUFLLE9BQU8sQ0FBQztBQUV6RSxjQUFJO0FBQ0osZUFBSyxJQUFJLEdBQUcsUUFBUSxRQUFRLFNBQVMsT0FBTyxLQUFLO0FBQzdDLGdCQUFJLFFBQVEsSUFBSSxRQUFRLEtBQUssS0FBSyxPQUFPLE1BQU07QUFDL0MsZ0JBQUksUUFBUSxLQUFLLE1BQU07QUFBUSxxQkFBTztBQUFBLFVBQzFDO0FBRUEsa0JBQVEsTUFBTSxLQUFLLE9BQU8sR0FBRyxJQUFJO0FBQ2pDLGtCQUFRLE9BQU8sS0FBSyxPQUFPLEdBQUcsQ0FBQztBQUMvQixpQkFBTztBQUFBLFFBQ1g7QUFBQSxRQUVBLFVBQVU7QUFDTixjQUFJLE9BQU8sUUFBUSxLQUFLLEtBQUssT0FBTyxDQUFDLEdBQUcsT0FBTyxRQUFRLEtBQUssS0FBSyxPQUFPLENBQUM7QUFDekUsaUJBQU8sUUFBUTtBQUFBLFFBQ25CO0FBQUEsTUFDSjtBQUlBLE1BQU0seUJBQXlCLE9BQU8scUJBQXFCLGNBQ3JELG9CQUFvQjtBQUFBO0FBQUE7OztBQ3BHMUIscUJBS00sZUE4R0FFO0FBbkhOO0FBQUE7QUFBQTtBQUFBO0FBQUEsc0JBQTZCO0FBQzdCO0FBSUEsTUFBTSxnQkFBTixjQUE0QiwyQkFBYTtBQUFBLFFBUXJDLFlBQVksUUFBNEIsQ0FBQyxHQUFHO0FBQ3hDLGdCQUFNO0FBQ04sZUFBSyxRQUFRLFlBQVksS0FBSyxNQUFNLFNBQ2hDLEVBQUMsTUFBTSxJQUFJLFdBQVcsSUFBSUEsd0JBQXVCLElBQUksQ0FBQyxFQUFDLENBQUM7QUFDNUQsZUFBSyxPQUFPLE1BQU0sUUFBUSxJQUFJLFdBQVcsSUFBSUEsd0JBQXVCLENBQUMsQ0FBQztBQUN0RSxjQUFJLENBQUMsTUFBTTtBQUFNLGlCQUFLLFNBQVM7QUFFL0IsZUFBSyxNQUFNO0FBQ1gsZUFBSyxXQUFXO0FBQUEsUUFDcEI7QUFBQSxRQUVBLE9BQU8sS0FBSyxPQUEyQjtBQUFFLGlCQUFPLElBQUksY0FBYyxLQUFLO0FBQUEsUUFBRztBQUFBLFFBRTFFLEtBQXlCO0FBQUUsaUJBQU8sRUFBQyxPQUFPLEtBQUssTUFBTSxHQUFHLEdBQUcsTUFBTSxLQUFLLEtBQUk7QUFBQSxRQUFHO0FBQUEsUUFFN0UsSUFBSSxTQUFTO0FBQ1QsaUJBQU8sUUFBUSxLQUFLLEtBQUssTUFBTSxDQUFDO0FBQUEsUUFDcEM7QUFBQSxRQUVBLElBQUksT0FBTyxHQUFXO0FBQ2xCLGtCQUFRLE1BQU0sS0FBSyxNQUFNLEdBQUcsQ0FBQztBQUFBLFFBQ2pDO0FBQUEsUUFFQSxLQUFLLFlBQXdCLFFBQWdCLFFBQWdCLFVBQVU7QUFFbkUsY0FBSSxTQUFTLFdBQVc7QUFBUSxxQkFBUyxXQUFXO0FBRXBELGNBQUksS0FBSyxNQUFNLFFBQVEsR0FBRztBQUN0QixnQkFBSSxTQUFTO0FBQUcscUJBQU87QUFBQSxxQkFDZCxDQUFDLEtBQUs7QUFBVSxvQkFBTSxFQUFDLE9BQU8sSUFBSSxNQUFNLFNBQVE7QUFBQSxVQUM3RDtBQUVBLGNBQUksS0FBSyxVQUFVLEtBQUssS0FBSyxPQUFPLEtBQUs7QUFDckMsbUJBQU87QUFFWCxjQUFJLFFBQVEsS0FBSyxNQUFNLFlBQVksUUFBUSxZQUFZLE1BQU07QUFDN0QsY0FBSSxRQUFRLEdBQUc7QUFDWCxnQkFBSSxLQUFLLFVBQVU7QUFDZixzQkFBUSxLQUFLLElBQUksS0FBSyxTQUFTLEtBQUssS0FBSyxLQUFLO0FBQ2xELGlCQUFLLE9BQU87QUFDWixpQkFBSyxLQUFLLFFBQVEsV0FBVyxNQUFNLFFBQVEsS0FBSyxDQUFDO0FBQUEsVUFDckQ7QUFDQSxpQkFBTztBQUFBLFFBQ1g7QUFBQSxRQUVBLE1BQU0sYUFBeUI7QUFDM0IsY0FBSSxTQUFTLEtBQUssTUFBTSxXQUFXLFdBQVc7QUFDOUMsZUFBSyxPQUFPO0FBQ1osaUJBQU87QUFBQSxRQUNYO0FBQUEsUUFFQSxNQUFNO0FBQ0YsZUFBSyxTQUFTLEtBQUs7QUFDbkIsZUFBSyxNQUFNLFFBQVEsQ0FBQztBQUFBLFFBQ3hCO0FBQUEsUUFFQSxRQUFRO0FBQ0osZUFBSyxTQUFTO0FBQ2QsZUFBSyxNQUFNO0FBQ1gsZUFBSyxXQUFXO0FBQUEsUUFDcEI7QUFBQSxNQUNKO0FBeUNBLE1BQU1BLDBCQUF5QixPQUFPLHFCQUFxQixjQUNyRCxvQkFBb0I7QUFBQTtBQUFBOzs7QUNwSDFCO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFJQSxhQUFPLFVBQVUsU0FBUyxhQUFhO0FBQ3RDLFlBQUksT0FBTyxXQUFXLGNBQWMsT0FBTyxPQUFPLDBCQUEwQixZQUFZO0FBQUUsaUJBQU87QUFBQSxRQUFPO0FBQ3hHLFlBQUksT0FBTyxPQUFPLGFBQWEsVUFBVTtBQUFFLGlCQUFPO0FBQUEsUUFBTTtBQUd4RCxZQUFJLE1BQU0sQ0FBQztBQUNYLFlBQUksTUFBTSxPQUFPLE1BQU07QUFDdkIsWUFBSSxTQUFTLE9BQU8sR0FBRztBQUN2QixZQUFJLE9BQU8sUUFBUSxVQUFVO0FBQUUsaUJBQU87QUFBQSxRQUFPO0FBRTdDLFlBQUksT0FBTyxVQUFVLFNBQVMsS0FBSyxHQUFHLE1BQU0sbUJBQW1CO0FBQUUsaUJBQU87QUFBQSxRQUFPO0FBQy9FLFlBQUksT0FBTyxVQUFVLFNBQVMsS0FBSyxNQUFNLE1BQU0sbUJBQW1CO0FBQUUsaUJBQU87QUFBQSxRQUFPO0FBVWxGLFlBQUksU0FBUztBQUNiLFlBQUksR0FBRyxJQUFJO0FBQ1gsaUJBQVMsS0FBSyxLQUFLO0FBQUUsaUJBQU87QUFBQSxRQUFPO0FBQ25DLFlBQUksT0FBTyxPQUFPLFNBQVMsY0FBYyxPQUFPLEtBQUssR0FBRyxFQUFFLFdBQVcsR0FBRztBQUFFLGlCQUFPO0FBQUEsUUFBTztBQUV4RixZQUFJLE9BQU8sT0FBTyx3QkFBd0IsY0FBYyxPQUFPLG9CQUFvQixHQUFHLEVBQUUsV0FBVyxHQUFHO0FBQUUsaUJBQU87QUFBQSxRQUFPO0FBRXRILFlBQUksT0FBTyxPQUFPLHNCQUFzQixHQUFHO0FBQzNDLFlBQUksS0FBSyxXQUFXLEtBQUssS0FBSyxDQUFDLE1BQU0sS0FBSztBQUFFLGlCQUFPO0FBQUEsUUFBTztBQUUxRCxZQUFJLENBQUMsT0FBTyxVQUFVLHFCQUFxQixLQUFLLEtBQUssR0FBRyxHQUFHO0FBQUUsaUJBQU87QUFBQSxRQUFPO0FBRTNFLFlBQUksT0FBTyxPQUFPLDZCQUE2QixZQUFZO0FBRTFELGNBQUk7QUFBQTtBQUFBLFlBQWdELE9BQU8seUJBQXlCLEtBQUssR0FBRztBQUFBO0FBQzVGLGNBQUksV0FBVyxVQUFVLFVBQVUsV0FBVyxlQUFlLE1BQU07QUFBRSxtQkFBTztBQUFBLFVBQU87QUFBQSxRQUNwRjtBQUVBLGVBQU87QUFBQSxNQUNSO0FBQUE7QUFBQTs7O0FDNUNBLE1BQUFDLGlCQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFFQSxVQUFJLGFBQWE7QUFHakIsYUFBTyxVQUFVLFNBQVMsc0JBQXNCO0FBQy9DLGVBQU8sV0FBVyxLQUFLLENBQUMsQ0FBQyxPQUFPO0FBQUEsTUFDakM7QUFBQTtBQUFBOzs7QUNQQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBR0EsYUFBTyxVQUFVO0FBQUE7QUFBQTs7O0FDSGpCO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFHQSxhQUFPLFVBQVU7QUFBQTtBQUFBOzs7QUNIakI7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUdBLGFBQU8sVUFBVTtBQUFBO0FBQUE7OztBQ0hqQjtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBR0EsYUFBTyxVQUFVO0FBQUE7QUFBQTs7O0FDSGpCO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFHQSxhQUFPLFVBQVU7QUFBQTtBQUFBOzs7QUNIakI7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUdBLGFBQU8sVUFBVTtBQUFBO0FBQUE7OztBQ0hqQjtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBR0EsYUFBTyxVQUFVO0FBQUE7QUFBQTs7O0FDSGpCO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFHQSxhQUFPLFVBQVU7QUFBQTtBQUFBOzs7QUNIakI7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUdBLGFBQU8sVUFBVSxLQUFLO0FBQUE7QUFBQTs7O0FDSHRCO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFHQSxhQUFPLFVBQVUsS0FBSztBQUFBO0FBQUE7OztBQ0h0QjtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBR0EsYUFBTyxVQUFVLEtBQUs7QUFBQTtBQUFBOzs7QUNIdEI7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUdBLGFBQU8sVUFBVSxLQUFLO0FBQUE7QUFBQTs7O0FDSHRCO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFHQSxhQUFPLFVBQVUsS0FBSztBQUFBO0FBQUE7OztBQ0h0QjtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBR0EsYUFBTyxVQUFVLEtBQUs7QUFBQTtBQUFBOzs7QUNIdEI7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUdBLGFBQU8sVUFBVSxPQUFPLFNBQVMsU0FBU0MsT0FBTSxHQUFHO0FBQ2xELGVBQU8sTUFBTTtBQUFBLE1BQ2Q7QUFBQTtBQUFBOzs7QUNMQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBRUEsVUFBSSxTQUFTO0FBR2IsYUFBTyxVQUFVLFNBQVMsS0FBSyxRQUFRO0FBQ3RDLFlBQUksT0FBTyxNQUFNLEtBQUssV0FBVyxHQUFHO0FBQ25DLGlCQUFPO0FBQUEsUUFDUjtBQUNBLGVBQU8sU0FBUyxJQUFJLEtBQUs7QUFBQSxNQUMxQjtBQUFBO0FBQUE7OztBQ1ZBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFHQSxhQUFPLFVBQVUsT0FBTztBQUFBO0FBQUE7OztBQ0h4QjtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBR0EsVUFBSSxRQUFRO0FBRVosVUFBSSxPQUFPO0FBQ1YsWUFBSTtBQUNILGdCQUFNLENBQUMsR0FBRyxRQUFRO0FBQUEsUUFDbkIsU0FBUyxHQUFQO0FBRUQsa0JBQVE7QUFBQSxRQUNUO0FBQUEsTUFDRDtBQUVBLGFBQU8sVUFBVTtBQUFBO0FBQUE7OztBQ2RqQjtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBR0EsVUFBSSxrQkFBa0IsT0FBTyxrQkFBa0I7QUFDL0MsVUFBSSxpQkFBaUI7QUFDcEIsWUFBSTtBQUNILDBCQUFnQixDQUFDLEdBQUcsS0FBSyxFQUFFLE9BQU8sRUFBRSxDQUFDO0FBQUEsUUFDdEMsU0FBUyxHQUFQO0FBRUQsNEJBQWtCO0FBQUEsUUFDbkI7QUFBQSxNQUNEO0FBRUEsYUFBTyxVQUFVO0FBQUE7QUFBQTs7O0FDYmpCO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFFQSxVQUFJLGFBQWEsT0FBTyxXQUFXLGVBQWU7QUFDbEQsVUFBSSxnQkFBZ0I7QUFHcEIsYUFBTyxVQUFVLFNBQVMsbUJBQW1CO0FBQzVDLFlBQUksT0FBTyxlQUFlLFlBQVk7QUFBRSxpQkFBTztBQUFBLFFBQU87QUFDdEQsWUFBSSxPQUFPLFdBQVcsWUFBWTtBQUFFLGlCQUFPO0FBQUEsUUFBTztBQUNsRCxZQUFJLE9BQU8sV0FBVyxLQUFLLE1BQU0sVUFBVTtBQUFFLGlCQUFPO0FBQUEsUUFBTztBQUMzRCxZQUFJLE9BQU8sT0FBTyxLQUFLLE1BQU0sVUFBVTtBQUFFLGlCQUFPO0FBQUEsUUFBTztBQUV2RCxlQUFPLGNBQWM7QUFBQSxNQUN0QjtBQUFBO0FBQUE7OztBQ2JBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFHQSxhQUFPLFVBQVcsT0FBTyxZQUFZLGVBQWUsUUFBUSxrQkFBbUI7QUFBQTtBQUFBOzs7QUNIL0U7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUVBLFVBQUksVUFBVTtBQUdkLGFBQU8sVUFBVSxRQUFRLGtCQUFrQjtBQUFBO0FBQUE7OztBQ0wzQztBQUFBO0FBQUE7QUFBQTtBQUFBO0FBSUEsVUFBSSxnQkFBZ0I7QUFDcEIsVUFBSSxRQUFRLE9BQU8sVUFBVTtBQUM3QixVQUFJQyxPQUFNLEtBQUs7QUFDZixVQUFJLFdBQVc7QUFFZixVQUFJLFdBQVcsU0FBU0MsVUFBUyxHQUFHLEdBQUc7QUFDbkMsWUFBSSxNQUFNLENBQUM7QUFFWCxpQkFBUyxJQUFJLEdBQUcsSUFBSSxFQUFFLFFBQVEsS0FBSyxHQUFHO0FBQ2xDLGNBQUksQ0FBQyxJQUFJLEVBQUUsQ0FBQztBQUFBLFFBQ2hCO0FBQ0EsaUJBQVMsSUFBSSxHQUFHLElBQUksRUFBRSxRQUFRLEtBQUssR0FBRztBQUNsQyxjQUFJLElBQUksRUFBRSxNQUFNLElBQUksRUFBRSxDQUFDO0FBQUEsUUFDM0I7QUFFQSxlQUFPO0FBQUEsTUFDWDtBQUVBLFVBQUksUUFBUSxTQUFTQyxPQUFNLFNBQVMsUUFBUTtBQUN4QyxZQUFJLE1BQU0sQ0FBQztBQUNYLGlCQUFTLElBQUksVUFBVSxHQUFHLElBQUksR0FBRyxJQUFJLFFBQVEsUUFBUSxLQUFLLEdBQUcsS0FBSyxHQUFHO0FBQ2pFLGNBQUksQ0FBQyxJQUFJLFFBQVEsQ0FBQztBQUFBLFFBQ3RCO0FBQ0EsZUFBTztBQUFBLE1BQ1g7QUFFQSxVQUFJLFFBQVEsU0FBVSxLQUFLLFFBQVE7QUFDL0IsWUFBSSxNQUFNO0FBQ1YsaUJBQVMsSUFBSSxHQUFHLElBQUksSUFBSSxRQUFRLEtBQUssR0FBRztBQUNwQyxpQkFBTyxJQUFJLENBQUM7QUFDWixjQUFJLElBQUksSUFBSSxJQUFJLFFBQVE7QUFDcEIsbUJBQU87QUFBQSxVQUNYO0FBQUEsUUFDSjtBQUNBLGVBQU87QUFBQSxNQUNYO0FBRUEsYUFBTyxVQUFVLFNBQVMsS0FBSyxNQUFNO0FBQ2pDLFlBQUksU0FBUztBQUNiLFlBQUksT0FBTyxXQUFXLGNBQWMsTUFBTSxNQUFNLE1BQU0sTUFBTSxVQUFVO0FBQ2xFLGdCQUFNLElBQUksVUFBVSxnQkFBZ0IsTUFBTTtBQUFBLFFBQzlDO0FBQ0EsWUFBSSxPQUFPLE1BQU0sV0FBVyxDQUFDO0FBRTdCLFlBQUk7QUFDSixZQUFJLFNBQVMsV0FBWTtBQUNyQixjQUFJLGdCQUFnQixPQUFPO0FBQ3ZCLGdCQUFJLFNBQVMsT0FBTztBQUFBLGNBQ2hCO0FBQUEsY0FDQSxTQUFTLE1BQU0sU0FBUztBQUFBLFlBQzVCO0FBQ0EsZ0JBQUksT0FBTyxNQUFNLE1BQU0sUUFBUTtBQUMzQixxQkFBTztBQUFBLFlBQ1g7QUFDQSxtQkFBTztBQUFBLFVBQ1g7QUFDQSxpQkFBTyxPQUFPO0FBQUEsWUFDVjtBQUFBLFlBQ0EsU0FBUyxNQUFNLFNBQVM7QUFBQSxVQUM1QjtBQUFBLFFBRUo7QUFFQSxZQUFJLGNBQWNGLEtBQUksR0FBRyxPQUFPLFNBQVMsS0FBSyxNQUFNO0FBQ3BELFlBQUksWUFBWSxDQUFDO0FBQ2pCLGlCQUFTLElBQUksR0FBRyxJQUFJLGFBQWEsS0FBSztBQUNsQyxvQkFBVSxDQUFDLElBQUksTUFBTTtBQUFBLFFBQ3pCO0FBRUEsZ0JBQVEsU0FBUyxVQUFVLHNCQUFzQixNQUFNLFdBQVcsR0FBRyxJQUFJLDJDQUEyQyxFQUFFLE1BQU07QUFFNUgsWUFBSSxPQUFPLFdBQVc7QUFDbEIsY0FBSSxRQUFRLFNBQVNHLFNBQVE7QUFBQSxVQUFDO0FBQzlCLGdCQUFNLFlBQVksT0FBTztBQUN6QixnQkFBTSxZQUFZLElBQUksTUFBTTtBQUM1QixnQkFBTSxZQUFZO0FBQUEsUUFDdEI7QUFFQSxlQUFPO0FBQUEsTUFDWDtBQUFBO0FBQUE7OztBQ25GQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBRUEsVUFBSSxpQkFBaUI7QUFFckIsYUFBTyxVQUFVLFNBQVMsVUFBVSxRQUFRO0FBQUE7QUFBQTs7O0FDSjVDO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFHQSxhQUFPLFVBQVUsU0FBUyxVQUFVO0FBQUE7QUFBQTs7O0FDSHBDO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFHQSxhQUFPLFVBQVUsU0FBUyxVQUFVO0FBQUE7QUFBQTs7O0FDSHBDO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFHQSxhQUFPLFVBQVUsT0FBTyxZQUFZLGVBQWUsV0FBVyxRQUFRO0FBQUE7QUFBQTs7O0FDSHRFO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFFQSxVQUFJLE9BQU87QUFFWCxVQUFJLFNBQVM7QUFDYixVQUFJLFFBQVE7QUFDWixVQUFJLGdCQUFnQjtBQUdwQixhQUFPLFVBQVUsaUJBQWlCLEtBQUssS0FBSyxPQUFPLE1BQU07QUFBQTtBQUFBOzs7QUNUekQ7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUVBLFVBQUksT0FBTztBQUNYLFVBQUksYUFBYTtBQUVqQixVQUFJLFFBQVE7QUFDWixVQUFJLGVBQWU7QUFHbkIsYUFBTyxVQUFVLFNBQVMsY0FBYyxNQUFNO0FBQzdDLFlBQUksS0FBSyxTQUFTLEtBQUssT0FBTyxLQUFLLENBQUMsTUFBTSxZQUFZO0FBQ3JELGdCQUFNLElBQUksV0FBVyx3QkFBd0I7QUFBQSxRQUM5QztBQUNBLGVBQU8sYUFBYSxNQUFNLE9BQU8sSUFBSTtBQUFBLE1BQ3RDO0FBQUE7QUFBQTs7O0FDZEE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUVBLFVBQUksV0FBVztBQUNmLFVBQUksT0FBTztBQUVYLFVBQUk7QUFDSixVQUFJO0FBRUg7QUFBQSxRQUEwRSxDQUFDLEVBQUcsY0FBYyxNQUFNO0FBQUEsTUFDbkcsU0FBUyxHQUFQO0FBQ0QsWUFBSSxDQUFDLEtBQUssT0FBTyxNQUFNLFlBQVksRUFBRSxVQUFVLE1BQU0sRUFBRSxTQUFTLG9CQUFvQjtBQUNuRixnQkFBTTtBQUFBLFFBQ1A7QUFBQSxNQUNEO0FBR0EsVUFBSSxPQUFPLENBQUMsQ0FBQyxvQkFBb0IsUUFBUTtBQUFBLFFBQUssT0FBTztBQUFBO0FBQUEsUUFBeUQ7QUFBQSxNQUFZO0FBRTFILFVBQUksVUFBVTtBQUNkLFVBQUksa0JBQWtCLFFBQVE7QUFHOUIsYUFBTyxVQUFVLFFBQVEsT0FBTyxLQUFLLFFBQVEsYUFDMUMsU0FBUyxDQUFDLEtBQUssR0FBRyxDQUFDLElBQ25CLE9BQU8sb0JBQW9CO0FBQUE7QUFBQSxRQUNLLFNBQVMsVUFBVSxPQUFPO0FBRTFELGlCQUFPLGdCQUFnQixTQUFTLE9BQU8sUUFBUSxRQUFRLEtBQUssQ0FBQztBQUFBLFFBQzlEO0FBQUEsVUFDRTtBQUFBO0FBQUE7OztBQzdCSjtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBRUEsVUFBSSxrQkFBa0I7QUFDdEIsVUFBSSxtQkFBbUI7QUFFdkIsVUFBSSxpQkFBaUI7QUFHckIsYUFBTyxVQUFVLGtCQUNkLFNBQVMsU0FBUyxHQUFHO0FBRXRCLGVBQU8sZ0JBQWdCLENBQUM7QUFBQSxNQUN6QixJQUNFLG1CQUNDLFNBQVMsU0FBUyxHQUFHO0FBQ3RCLFlBQUksQ0FBQyxLQUFNLE9BQU8sTUFBTSxZQUFZLE9BQU8sTUFBTSxZQUFhO0FBQzdELGdCQUFNLElBQUksVUFBVSx5QkFBeUI7QUFBQSxRQUM5QztBQUVBLGVBQU8saUJBQWlCLENBQUM7QUFBQSxNQUMxQixJQUNFLGlCQUNDLFNBQVMsU0FBUyxHQUFHO0FBRXRCLGVBQU8sZUFBZSxDQUFDO0FBQUEsTUFDeEIsSUFDRTtBQUFBO0FBQUE7OztBQzFCTDtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBRUEsVUFBSSxPQUFPLFNBQVMsVUFBVTtBQUM5QixVQUFJLFVBQVUsT0FBTyxVQUFVO0FBQy9CLFVBQUksT0FBTztBQUdYLGFBQU8sVUFBVSxLQUFLLEtBQUssTUFBTSxPQUFPO0FBQUE7QUFBQTs7O0FDUHhDO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFFQSxVQUFJQztBQUVKLFVBQUksVUFBVTtBQUVkLFVBQUksU0FBUztBQUNiLFVBQUksYUFBYTtBQUNqQixVQUFJLGNBQWM7QUFDbEIsVUFBSSxrQkFBa0I7QUFDdEIsVUFBSSxlQUFlO0FBQ25CLFVBQUksYUFBYTtBQUNqQixVQUFJLFlBQVk7QUFFaEIsVUFBSSxNQUFNO0FBQ1YsVUFBSSxRQUFRO0FBQ1osVUFBSUMsT0FBTTtBQUNWLFVBQUksTUFBTTtBQUNWLFVBQUksTUFBTTtBQUNWLFVBQUksUUFBUTtBQUNaLFVBQUksT0FBTztBQUVYLFVBQUksWUFBWTtBQUdoQixVQUFJLHdCQUF3QixTQUFVLGtCQUFrQjtBQUN2RCxZQUFJO0FBQ0gsaUJBQU8sVUFBVSwyQkFBMkIsbUJBQW1CLGdCQUFnQixFQUFFO0FBQUEsUUFDbEYsU0FBUyxHQUFQO0FBQUEsUUFBVztBQUFBLE1BQ2Q7QUFFQSxVQUFJLFFBQVE7QUFDWixVQUFJLGtCQUFrQjtBQUV0QixVQUFJLGlCQUFpQixXQUFZO0FBQ2hDLGNBQU0sSUFBSSxXQUFXO0FBQUEsTUFDdEI7QUFDQSxVQUFJLGlCQUFpQixRQUNqQixXQUFZO0FBQ2QsWUFBSTtBQUVILG9CQUFVO0FBQ1YsaUJBQU87QUFBQSxRQUNSLFNBQVMsY0FBUDtBQUNELGNBQUk7QUFFSCxtQkFBTyxNQUFNLFdBQVcsUUFBUSxFQUFFO0FBQUEsVUFDbkMsU0FBUyxZQUFQO0FBQ0QsbUJBQU87QUFBQSxVQUNSO0FBQUEsUUFDRDtBQUFBLE1BQ0QsRUFBRSxJQUNBO0FBRUgsVUFBSSxhQUFhLHNCQUF1QjtBQUV4QyxVQUFJLFdBQVc7QUFDZixVQUFJLGFBQWE7QUFDakIsVUFBSSxjQUFjO0FBRWxCLFVBQUksU0FBUztBQUNiLFVBQUksUUFBUTtBQUVaLFVBQUksWUFBWSxDQUFDO0FBRWpCLFVBQUksYUFBYSxPQUFPLGVBQWUsZUFBZSxDQUFDLFdBQVdELGFBQVksU0FBUyxVQUFVO0FBRWpHLFVBQUksYUFBYTtBQUFBLFFBQ2hCLFdBQVc7QUFBQSxRQUNYLG9CQUFvQixPQUFPLG1CQUFtQixjQUFjQSxhQUFZO0FBQUEsUUFDeEUsV0FBVztBQUFBLFFBQ1gsaUJBQWlCLE9BQU8sZ0JBQWdCLGNBQWNBLGFBQVk7QUFBQSxRQUNsRSw0QkFBNEIsY0FBYyxXQUFXLFNBQVMsQ0FBQyxFQUFFLE9BQU8sUUFBUSxFQUFFLENBQUMsSUFBSUE7QUFBQSxRQUN2RixvQ0FBb0NBO0FBQUEsUUFDcEMsbUJBQW1CO0FBQUEsUUFDbkIsb0JBQW9CO0FBQUEsUUFDcEIsNEJBQTRCO0FBQUEsUUFDNUIsNEJBQTRCO0FBQUEsUUFDNUIsYUFBYSxPQUFPLFlBQVksY0FBY0EsYUFBWTtBQUFBLFFBQzFELFlBQVksT0FBTyxXQUFXLGNBQWNBLGFBQVk7QUFBQSxRQUN4RCxtQkFBbUIsT0FBTyxrQkFBa0IsY0FBY0EsYUFBWTtBQUFBLFFBQ3RFLG9CQUFvQixPQUFPLG1CQUFtQixjQUFjQSxhQUFZO0FBQUEsUUFDeEUsYUFBYTtBQUFBLFFBQ2IsY0FBYyxPQUFPLGFBQWEsY0FBY0EsYUFBWTtBQUFBLFFBQzVELFVBQVU7QUFBQSxRQUNWLGVBQWU7QUFBQSxRQUNmLHdCQUF3QjtBQUFBLFFBQ3hCLGVBQWU7QUFBQSxRQUNmLHdCQUF3QjtBQUFBLFFBQ3hCLFdBQVc7QUFBQSxRQUNYLFVBQVU7QUFBQTtBQUFBLFFBQ1YsZUFBZTtBQUFBLFFBQ2Ysa0JBQWtCLE9BQU8saUJBQWlCLGNBQWNBLGFBQVk7QUFBQSxRQUNwRSxrQkFBa0IsT0FBTyxpQkFBaUIsY0FBY0EsYUFBWTtBQUFBLFFBQ3BFLGtCQUFrQixPQUFPLGlCQUFpQixjQUFjQSxhQUFZO0FBQUEsUUFDcEUsMEJBQTBCLE9BQU8seUJBQXlCLGNBQWNBLGFBQVk7QUFBQSxRQUNwRixjQUFjO0FBQUEsUUFDZCx1QkFBdUI7QUFBQSxRQUN2QixlQUFlLE9BQU8sY0FBYyxjQUFjQSxhQUFZO0FBQUEsUUFDOUQsZ0JBQWdCLE9BQU8sZUFBZSxjQUFjQSxhQUFZO0FBQUEsUUFDaEUsZ0JBQWdCLE9BQU8sZUFBZSxjQUFjQSxhQUFZO0FBQUEsUUFDaEUsY0FBYztBQUFBLFFBQ2QsV0FBVztBQUFBLFFBQ1gsdUJBQXVCLGNBQWMsV0FBVyxTQUFTLFNBQVMsQ0FBQyxFQUFFLE9BQU8sUUFBUSxFQUFFLENBQUMsQ0FBQyxJQUFJQTtBQUFBLFFBQzVGLFVBQVUsT0FBTyxTQUFTLFdBQVcsT0FBT0E7QUFBQSxRQUM1QyxTQUFTLE9BQU8sUUFBUSxjQUFjQSxhQUFZO0FBQUEsUUFDbEQsMEJBQTBCLE9BQU8sUUFBUSxlQUFlLENBQUMsY0FBYyxDQUFDLFdBQVdBLGFBQVksVUFBUyxvQkFBSSxJQUFJLEdBQUUsT0FBTyxRQUFRLEVBQUUsQ0FBQztBQUFBLFFBQ3BJLFVBQVU7QUFBQSxRQUNWLFlBQVk7QUFBQSxRQUNaLFlBQVk7QUFBQSxRQUNaLHFDQUFxQztBQUFBLFFBQ3JDLGdCQUFnQjtBQUFBLFFBQ2hCLGNBQWM7QUFBQSxRQUNkLGFBQWEsT0FBTyxZQUFZLGNBQWNBLGFBQVk7QUFBQSxRQUMxRCxXQUFXLE9BQU8sVUFBVSxjQUFjQSxhQUFZO0FBQUEsUUFDdEQsZ0JBQWdCO0FBQUEsUUFDaEIsb0JBQW9CO0FBQUEsUUFDcEIsYUFBYSxPQUFPLFlBQVksY0FBY0EsYUFBWTtBQUFBLFFBQzFELFlBQVk7QUFBQSxRQUNaLFNBQVMsT0FBTyxRQUFRLGNBQWNBLGFBQVk7QUFBQSxRQUNsRCwwQkFBMEIsT0FBTyxRQUFRLGVBQWUsQ0FBQyxjQUFjLENBQUMsV0FBV0EsYUFBWSxVQUFTLG9CQUFJLElBQUksR0FBRSxPQUFPLFFBQVEsRUFBRSxDQUFDO0FBQUEsUUFDcEksdUJBQXVCLE9BQU8sc0JBQXNCLGNBQWNBLGFBQVk7QUFBQSxRQUM5RSxZQUFZO0FBQUEsUUFDWiw2QkFBNkIsY0FBYyxXQUFXLFNBQVMsR0FBRyxPQUFPLFFBQVEsRUFBRSxDQUFDLElBQUlBO0FBQUEsUUFDeEYsWUFBWSxhQUFhLFNBQVNBO0FBQUEsUUFDbEMsaUJBQWlCO0FBQUEsUUFDakIsb0JBQW9CO0FBQUEsUUFDcEIsZ0JBQWdCO0FBQUEsUUFDaEIsZUFBZTtBQUFBLFFBQ2YsZ0JBQWdCLE9BQU8sZUFBZSxjQUFjQSxhQUFZO0FBQUEsUUFDaEUsdUJBQXVCLE9BQU8sc0JBQXNCLGNBQWNBLGFBQVk7QUFBQSxRQUM5RSxpQkFBaUIsT0FBTyxnQkFBZ0IsY0FBY0EsYUFBWTtBQUFBLFFBQ2xFLGlCQUFpQixPQUFPLGdCQUFnQixjQUFjQSxhQUFZO0FBQUEsUUFDbEUsY0FBYztBQUFBLFFBQ2QsYUFBYSxPQUFPLFlBQVksY0FBY0EsYUFBWTtBQUFBLFFBQzFELGFBQWEsT0FBTyxZQUFZLGNBQWNBLGFBQVk7QUFBQSxRQUMxRCxhQUFhLE9BQU8sWUFBWSxjQUFjQSxhQUFZO0FBQUEsUUFFMUQsNkJBQTZCO0FBQUEsUUFDN0IsOEJBQThCO0FBQUEsUUFDOUIsMkJBQTJCO0FBQUEsUUFDM0IsMkJBQTJCO0FBQUEsUUFDM0IsY0FBYztBQUFBLFFBQ2QsZ0JBQWdCO0FBQUEsUUFDaEIsY0FBY0M7QUFBQSxRQUNkLGNBQWM7QUFBQSxRQUNkLGNBQWM7QUFBQSxRQUNkLGdCQUFnQjtBQUFBLFFBQ2hCLGVBQWU7QUFBQSxRQUNmLDRCQUE0QjtBQUFBLE1BQzdCO0FBRUEsVUFBSSxVQUFVO0FBQ2IsWUFBSTtBQUNILGVBQUs7QUFBQSxRQUNOLFNBQVMsR0FBUDtBQUVHLHVCQUFhLFNBQVMsU0FBUyxDQUFDLENBQUM7QUFDckMscUJBQVcsbUJBQW1CLElBQUk7QUFBQSxRQUNuQztBQUFBLE1BQ0Q7QUFITTtBQUtOLFVBQUksU0FBUyxTQUFTQyxRQUFPLE1BQU07QUFDbEMsWUFBSTtBQUNKLFlBQUksU0FBUyxtQkFBbUI7QUFDL0Isa0JBQVEsc0JBQXNCLHNCQUFzQjtBQUFBLFFBQ3JELFdBQVcsU0FBUyx1QkFBdUI7QUFDMUMsa0JBQVEsc0JBQXNCLGlCQUFpQjtBQUFBLFFBQ2hELFdBQVcsU0FBUyw0QkFBNEI7QUFDL0Msa0JBQVEsc0JBQXNCLHVCQUF1QjtBQUFBLFFBQ3RELFdBQVcsU0FBUyxvQkFBb0I7QUFDdkMsY0FBSSxLQUFLQSxRQUFPLDBCQUEwQjtBQUMxQyxjQUFJLElBQUk7QUFDUCxvQkFBUSxHQUFHO0FBQUEsVUFDWjtBQUFBLFFBQ0QsV0FBVyxTQUFTLDRCQUE0QjtBQUMvQyxjQUFJLE1BQU1BLFFBQU8sa0JBQWtCO0FBQ25DLGNBQUksT0FBTyxVQUFVO0FBQ3BCLG9CQUFRLFNBQVMsSUFBSSxTQUFTO0FBQUEsVUFDL0I7QUFBQSxRQUNEO0FBRUEsbUJBQVcsSUFBSSxJQUFJO0FBRW5CLGVBQU87QUFBQSxNQUNSO0FBRUEsVUFBSSxpQkFBaUI7QUFBQSxRQUNwQixXQUFXO0FBQUEsUUFDWCwwQkFBMEIsQ0FBQyxlQUFlLFdBQVc7QUFBQSxRQUNyRCxvQkFBb0IsQ0FBQyxTQUFTLFdBQVc7QUFBQSxRQUN6Qyx3QkFBd0IsQ0FBQyxTQUFTLGFBQWEsU0FBUztBQUFBLFFBQ3hELHdCQUF3QixDQUFDLFNBQVMsYUFBYSxTQUFTO0FBQUEsUUFDeEQscUJBQXFCLENBQUMsU0FBUyxhQUFhLE1BQU07QUFBQSxRQUNsRCx1QkFBdUIsQ0FBQyxTQUFTLGFBQWEsUUFBUTtBQUFBLFFBQ3RELDRCQUE0QixDQUFDLGlCQUFpQixXQUFXO0FBQUEsUUFDekQsb0JBQW9CLENBQUMsMEJBQTBCLFdBQVc7QUFBQSxRQUMxRCw2QkFBNkIsQ0FBQywwQkFBMEIsYUFBYSxXQUFXO0FBQUEsUUFDaEYsc0JBQXNCLENBQUMsV0FBVyxXQUFXO0FBQUEsUUFDN0MsdUJBQXVCLENBQUMsWUFBWSxXQUFXO0FBQUEsUUFDL0MsbUJBQW1CLENBQUMsUUFBUSxXQUFXO0FBQUEsUUFDdkMsb0JBQW9CLENBQUMsU0FBUyxXQUFXO0FBQUEsUUFDekMsd0JBQXdCLENBQUMsYUFBYSxXQUFXO0FBQUEsUUFDakQsMkJBQTJCLENBQUMsZ0JBQWdCLFdBQVc7QUFBQSxRQUN2RCwyQkFBMkIsQ0FBQyxnQkFBZ0IsV0FBVztBQUFBLFFBQ3ZELHVCQUF1QixDQUFDLFlBQVksV0FBVztBQUFBLFFBQy9DLGVBQWUsQ0FBQyxxQkFBcUIsV0FBVztBQUFBLFFBQ2hELHdCQUF3QixDQUFDLHFCQUFxQixhQUFhLFdBQVc7QUFBQSxRQUN0RSx3QkFBd0IsQ0FBQyxhQUFhLFdBQVc7QUFBQSxRQUNqRCx5QkFBeUIsQ0FBQyxjQUFjLFdBQVc7QUFBQSxRQUNuRCx5QkFBeUIsQ0FBQyxjQUFjLFdBQVc7QUFBQSxRQUNuRCxlQUFlLENBQUMsUUFBUSxPQUFPO0FBQUEsUUFDL0IsbUJBQW1CLENBQUMsUUFBUSxXQUFXO0FBQUEsUUFDdkMsa0JBQWtCLENBQUMsT0FBTyxXQUFXO0FBQUEsUUFDckMscUJBQXFCLENBQUMsVUFBVSxXQUFXO0FBQUEsUUFDM0MscUJBQXFCLENBQUMsVUFBVSxXQUFXO0FBQUEsUUFDM0MsdUJBQXVCLENBQUMsVUFBVSxhQUFhLFVBQVU7QUFBQSxRQUN6RCxzQkFBc0IsQ0FBQyxVQUFVLGFBQWEsU0FBUztBQUFBLFFBQ3ZELHNCQUFzQixDQUFDLFdBQVcsV0FBVztBQUFBLFFBQzdDLHVCQUF1QixDQUFDLFdBQVcsYUFBYSxNQUFNO0FBQUEsUUFDdEQsaUJBQWlCLENBQUMsV0FBVyxLQUFLO0FBQUEsUUFDbEMsb0JBQW9CLENBQUMsV0FBVyxRQUFRO0FBQUEsUUFDeEMscUJBQXFCLENBQUMsV0FBVyxTQUFTO0FBQUEsUUFDMUMseUJBQXlCLENBQUMsY0FBYyxXQUFXO0FBQUEsUUFDbkQsNkJBQTZCLENBQUMsa0JBQWtCLFdBQVc7QUFBQSxRQUMzRCxxQkFBcUIsQ0FBQyxVQUFVLFdBQVc7QUFBQSxRQUMzQyxrQkFBa0IsQ0FBQyxPQUFPLFdBQVc7QUFBQSxRQUNyQyxnQ0FBZ0MsQ0FBQyxxQkFBcUIsV0FBVztBQUFBLFFBQ2pFLHFCQUFxQixDQUFDLFVBQVUsV0FBVztBQUFBLFFBQzNDLHFCQUFxQixDQUFDLFVBQVUsV0FBVztBQUFBLFFBQzNDLDBCQUEwQixDQUFDLGVBQWUsV0FBVztBQUFBLFFBQ3JELHlCQUF5QixDQUFDLGNBQWMsV0FBVztBQUFBLFFBQ25ELHdCQUF3QixDQUFDLGFBQWEsV0FBVztBQUFBLFFBQ2pELHlCQUF5QixDQUFDLGNBQWMsV0FBVztBQUFBLFFBQ25ELGdDQUFnQyxDQUFDLHFCQUFxQixXQUFXO0FBQUEsUUFDakUsMEJBQTBCLENBQUMsZUFBZSxXQUFXO0FBQUEsUUFDckQsMEJBQTBCLENBQUMsZUFBZSxXQUFXO0FBQUEsUUFDckQsdUJBQXVCLENBQUMsWUFBWSxXQUFXO0FBQUEsUUFDL0Msc0JBQXNCLENBQUMsV0FBVyxXQUFXO0FBQUEsUUFDN0Msc0JBQXNCLENBQUMsV0FBVyxXQUFXO0FBQUEsTUFDOUM7QUFFQSxVQUFJLE9BQU87QUFDWCxVQUFJLFNBQVM7QUFDYixVQUFJLFVBQVUsS0FBSyxLQUFLLE9BQU8sTUFBTSxVQUFVLE1BQU07QUFDckQsVUFBSSxlQUFlLEtBQUssS0FBSyxRQUFRLE1BQU0sVUFBVSxNQUFNO0FBQzNELFVBQUksV0FBVyxLQUFLLEtBQUssT0FBTyxPQUFPLFVBQVUsT0FBTztBQUN4RCxVQUFJLFlBQVksS0FBSyxLQUFLLE9BQU8sT0FBTyxVQUFVLEtBQUs7QUFDdkQsVUFBSSxRQUFRLEtBQUssS0FBSyxPQUFPLE9BQU8sVUFBVSxJQUFJO0FBR2xELFVBQUksYUFBYTtBQUNqQixVQUFJLGVBQWU7QUFDbkIsVUFBSSxlQUFlLFNBQVNDLGNBQWEsUUFBUTtBQUNoRCxZQUFJLFFBQVEsVUFBVSxRQUFRLEdBQUcsQ0FBQztBQUNsQyxZQUFJLE9BQU8sVUFBVSxRQUFRLEVBQUU7QUFDL0IsWUFBSSxVQUFVLE9BQU8sU0FBUyxLQUFLO0FBQ2xDLGdCQUFNLElBQUksYUFBYSxnREFBZ0Q7QUFBQSxRQUN4RSxXQUFXLFNBQVMsT0FBTyxVQUFVLEtBQUs7QUFDekMsZ0JBQU0sSUFBSSxhQUFhLGdEQUFnRDtBQUFBLFFBQ3hFO0FBQ0EsWUFBSSxTQUFTLENBQUM7QUFDZCxpQkFBUyxRQUFRLFlBQVksU0FBVSxPQUFPLFFBQVEsT0FBTyxXQUFXO0FBQ3ZFLGlCQUFPLE9BQU8sTUFBTSxJQUFJLFFBQVEsU0FBUyxXQUFXLGNBQWMsSUFBSSxJQUFJLFVBQVU7QUFBQSxRQUNyRixDQUFDO0FBQ0QsZUFBTztBQUFBLE1BQ1I7QUFHQSxVQUFJLG1CQUFtQixTQUFTQyxrQkFBaUIsTUFBTSxjQUFjO0FBQ3BFLFlBQUksZ0JBQWdCO0FBQ3BCLFlBQUk7QUFDSixZQUFJLE9BQU8sZ0JBQWdCLGFBQWEsR0FBRztBQUMxQyxrQkFBUSxlQUFlLGFBQWE7QUFDcEMsMEJBQWdCLE1BQU0sTUFBTSxDQUFDLElBQUk7QUFBQSxRQUNsQztBQUVBLFlBQUksT0FBTyxZQUFZLGFBQWEsR0FBRztBQUN0QyxjQUFJLFFBQVEsV0FBVyxhQUFhO0FBQ3BDLGNBQUksVUFBVSxXQUFXO0FBQ3hCLG9CQUFRLE9BQU8sYUFBYTtBQUFBLFVBQzdCO0FBQ0EsY0FBSSxPQUFPLFVBQVUsZUFBZSxDQUFDLGNBQWM7QUFDbEQsa0JBQU0sSUFBSSxXQUFXLGVBQWUsT0FBTyxzREFBc0Q7QUFBQSxVQUNsRztBQUVBLGlCQUFPO0FBQUEsWUFDTjtBQUFBLFlBQ0EsTUFBTTtBQUFBLFlBQ047QUFBQSxVQUNEO0FBQUEsUUFDRDtBQUVBLGNBQU0sSUFBSSxhQUFhLGVBQWUsT0FBTyxrQkFBa0I7QUFBQSxNQUNoRTtBQUVBLGFBQU8sVUFBVSxTQUFTLGFBQWEsTUFBTSxjQUFjO0FBQzFELFlBQUksT0FBTyxTQUFTLFlBQVksS0FBSyxXQUFXLEdBQUc7QUFDbEQsZ0JBQU0sSUFBSSxXQUFXLDJDQUEyQztBQUFBLFFBQ2pFO0FBQ0EsWUFBSSxVQUFVLFNBQVMsS0FBSyxPQUFPLGlCQUFpQixXQUFXO0FBQzlELGdCQUFNLElBQUksV0FBVywyQ0FBMkM7QUFBQSxRQUNqRTtBQUVBLFlBQUksTUFBTSxlQUFlLElBQUksTUFBTSxNQUFNO0FBQ3hDLGdCQUFNLElBQUksYUFBYSxvRkFBb0Y7QUFBQSxRQUM1RztBQUNBLFlBQUksUUFBUSxhQUFhLElBQUk7QUFDN0IsWUFBSSxvQkFBb0IsTUFBTSxTQUFTLElBQUksTUFBTSxDQUFDLElBQUk7QUFFdEQsWUFBSSxZQUFZLGlCQUFpQixNQUFNLG9CQUFvQixLQUFLLFlBQVk7QUFDNUUsWUFBSSxvQkFBb0IsVUFBVTtBQUNsQyxZQUFJLFFBQVEsVUFBVTtBQUN0QixZQUFJLHFCQUFxQjtBQUV6QixZQUFJLFFBQVEsVUFBVTtBQUN0QixZQUFJLE9BQU87QUFDViw4QkFBb0IsTUFBTSxDQUFDO0FBQzNCLHVCQUFhLE9BQU8sUUFBUSxDQUFDLEdBQUcsQ0FBQyxHQUFHLEtBQUssQ0FBQztBQUFBLFFBQzNDO0FBRUEsaUJBQVMsSUFBSSxHQUFHLFFBQVEsTUFBTSxJQUFJLE1BQU0sUUFBUSxLQUFLLEdBQUc7QUFDdkQsY0FBSSxPQUFPLE1BQU0sQ0FBQztBQUNsQixjQUFJLFFBQVEsVUFBVSxNQUFNLEdBQUcsQ0FBQztBQUNoQyxjQUFJLE9BQU8sVUFBVSxNQUFNLEVBQUU7QUFDN0IsZUFFRyxVQUFVLE9BQU8sVUFBVSxPQUFPLFVBQVUsUUFDekMsU0FBUyxPQUFPLFNBQVMsT0FBTyxTQUFTLFNBRTNDLFVBQVUsTUFDWjtBQUNELGtCQUFNLElBQUksYUFBYSxzREFBc0Q7QUFBQSxVQUM5RTtBQUNBLGNBQUksU0FBUyxpQkFBaUIsQ0FBQyxPQUFPO0FBQ3JDLGlDQUFxQjtBQUFBLFVBQ3RCO0FBRUEsK0JBQXFCLE1BQU07QUFDM0IsOEJBQW9CLE1BQU0sb0JBQW9CO0FBRTlDLGNBQUksT0FBTyxZQUFZLGlCQUFpQixHQUFHO0FBQzFDLG9CQUFRLFdBQVcsaUJBQWlCO0FBQUEsVUFDckMsV0FBVyxTQUFTLE1BQU07QUFDekIsZ0JBQUksRUFBRSxRQUFRLFFBQVE7QUFDckIsa0JBQUksQ0FBQyxjQUFjO0FBQ2xCLHNCQUFNLElBQUksV0FBVyx3QkFBd0IsT0FBTyw2Q0FBNkM7QUFBQSxjQUNsRztBQUNBLHFCQUFPO0FBQUEsWUFDUjtBQUNBLGdCQUFJLFNBQVUsSUFBSSxLQUFNLE1BQU0sUUFBUTtBQUNyQyxrQkFBSSxPQUFPLE1BQU0sT0FBTyxJQUFJO0FBQzVCLHNCQUFRLENBQUMsQ0FBQztBQVNWLGtCQUFJLFNBQVMsU0FBUyxRQUFRLEVBQUUsbUJBQW1CLEtBQUssTUFBTTtBQUM3RCx3QkFBUSxLQUFLO0FBQUEsY0FDZCxPQUFPO0FBQ04sd0JBQVEsTUFBTSxJQUFJO0FBQUEsY0FDbkI7QUFBQSxZQUNELE9BQU87QUFDTixzQkFBUSxPQUFPLE9BQU8sSUFBSTtBQUMxQixzQkFBUSxNQUFNLElBQUk7QUFBQSxZQUNuQjtBQUVBLGdCQUFJLFNBQVMsQ0FBQyxvQkFBb0I7QUFDakMseUJBQVcsaUJBQWlCLElBQUk7QUFBQSxZQUNqQztBQUFBLFVBQ0Q7QUFBQSxRQUNEO0FBQ0EsZUFBTztBQUFBLE1BQ1I7QUFBQTtBQUFBOzs7QUN6WEE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUVBLFVBQUksZUFBZTtBQUVuQixVQUFJLGdCQUFnQjtBQUdwQixVQUFJLFdBQVcsY0FBYyxDQUFDLGFBQWEsNEJBQTRCLENBQUMsQ0FBQztBQUd6RSxhQUFPLFVBQVUsU0FBUyxtQkFBbUIsTUFBTSxjQUFjO0FBR2hFLFlBQUk7QUFBQTtBQUFBLFVBQTJFLGFBQWEsTUFBTSxDQUFDLENBQUMsWUFBWTtBQUFBO0FBQ2hILFlBQUksT0FBTyxjQUFjLGNBQWMsU0FBUyxNQUFNLGFBQWEsSUFBSSxJQUFJO0FBQzFFLGlCQUFPO0FBQUE7QUFBQSxZQUFvQyxDQUFDLFNBQVM7QUFBQSxVQUFFO0FBQUEsUUFDeEQ7QUFDQSxlQUFPO0FBQUEsTUFDUjtBQUFBO0FBQUE7OztBQ2xCQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBRUEsVUFBSSxpQkFBaUIsaUJBQWlDO0FBQ3RELFVBQUksWUFBWTtBQUVoQixVQUFJLFlBQVksVUFBVSwyQkFBMkI7QUFHckQsVUFBSSxzQkFBc0IsU0FBUyxZQUFZLE9BQU87QUFDckQsWUFDQyxrQkFDRyxTQUNBLE9BQU8sVUFBVSxZQUNqQixPQUFPLGVBQWUsT0FDeEI7QUFDRCxpQkFBTztBQUFBLFFBQ1I7QUFDQSxlQUFPLFVBQVUsS0FBSyxNQUFNO0FBQUEsTUFDN0I7QUFHQSxVQUFJLG9CQUFvQixTQUFTLFlBQVksT0FBTztBQUNuRCxZQUFJLG9CQUFvQixLQUFLLEdBQUc7QUFDL0IsaUJBQU87QUFBQSxRQUNSO0FBQ0EsZUFBTyxVQUFVLFFBQ2IsT0FBTyxVQUFVLFlBQ2pCLFlBQVksU0FDWixPQUFPLE1BQU0sV0FBVyxZQUN4QixNQUFNLFVBQVUsS0FDaEIsVUFBVSxLQUFLLE1BQU0sb0JBQ3JCLFlBQVksU0FDWixVQUFVLE1BQU0sTUFBTSxNQUFNO0FBQUEsTUFDakM7QUFFQSxVQUFJLDRCQUE2QixXQUFZO0FBQzVDLGVBQU8sb0JBQW9CLFNBQVM7QUFBQSxNQUNyQyxFQUFFO0FBR0YsMEJBQW9CLG9CQUFvQjtBQUd4QyxhQUFPLFVBQVUsNEJBQTRCLHNCQUFzQjtBQUFBO0FBQUE7OztBQzNDbkU7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUVBLFVBQUksWUFBWTtBQUNoQixVQUFJLGlCQUFpQixpQkFBaUM7QUFDdEQsVUFBSSxTQUFTO0FBQ2IsVUFBSSxPQUFPO0FBR1gsVUFBSTtBQUVKLFVBQUksZ0JBQWdCO0FBRWYsZ0JBQVEsVUFBVSx1QkFBdUI7QUFFekMsd0JBQWdCLENBQUM7QUFFakIsMkJBQW1CLFdBQVk7QUFDbEMsZ0JBQU07QUFBQSxRQUNQO0FBRUkseUJBQWlCO0FBQUEsVUFDcEIsVUFBVTtBQUFBLFVBQ1YsU0FBUztBQUFBLFFBQ1Y7QUFFQSxZQUFJLE9BQU8sT0FBTyxnQkFBZ0IsVUFBVTtBQUMzQyx5QkFBZSxPQUFPLFdBQVcsSUFBSTtBQUFBLFFBQ3RDO0FBS0EsYUFBSyxTQUFTLFFBQVEsT0FBTztBQUM1QixjQUFJLENBQUMsU0FBUyxPQUFPLFVBQVUsVUFBVTtBQUN4QyxtQkFBTztBQUFBLFVBQ1I7QUFHQSxjQUFJO0FBQUE7QUFBQSxZQUFzRDtBQUFBO0FBQUEsY0FBOEM7QUFBQSxjQUFRO0FBQUEsWUFBVztBQUFBO0FBQzNILGNBQUksMkJBQTJCLGNBQWMsT0FBTyxZQUFZLE9BQU87QUFDdkUsY0FBSSxDQUFDLDBCQUEwQjtBQUM5QixtQkFBTztBQUFBLFVBQ1I7QUFFQSxjQUFJO0FBRUg7QUFBQSxjQUFNO0FBQUE7QUFBQTtBQUFBLGNBQXNEO0FBQUEsWUFBZ0I7QUFBQSxVQUM3RSxTQUFTLEdBQVA7QUFDRCxtQkFBTyxNQUFNO0FBQUEsVUFDZDtBQUFBLFFBQ0Q7QUFBQSxNQUNELE9BQU87QUFFRixvQkFBWSxVQUFVLDJCQUEyQjtBQUVqRCxxQkFBYTtBQUdqQixhQUFLLFNBQVMsUUFBUSxPQUFPO0FBRTVCLGNBQUksQ0FBQyxTQUFVLE9BQU8sVUFBVSxZQUFZLE9BQU8sVUFBVSxZQUFhO0FBQ3pFLG1CQUFPO0FBQUEsVUFDUjtBQUVBLGlCQUFPLFVBQVUsS0FBSyxNQUFNO0FBQUEsUUFDN0I7QUFBQSxNQUNEO0FBdERLO0FBRUE7QUFFQTtBQUlBO0FBaUNBO0FBRUE7QUFhTCxhQUFPLFVBQVU7QUFBQTtBQUFBOzs7QUNwRWpCO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFFQSxVQUFJLFlBQVk7QUFDaEIsVUFBSSxVQUFVO0FBRWQsVUFBSSxRQUFRLFVBQVUsdUJBQXVCO0FBQzdDLFVBQUksYUFBYTtBQUdqQixhQUFPLFVBQVUsU0FBUyxZQUFZLE9BQU87QUFDNUMsWUFBSSxDQUFDLFFBQVEsS0FBSyxHQUFHO0FBQ3BCLGdCQUFNLElBQUksV0FBVywwQkFBMEI7QUFBQSxRQUNoRDtBQUNBLGVBQU8sU0FBUyxLQUFLLEdBQUc7QUFDdkIsaUJBQU8sTUFBTSxPQUFPLENBQUMsTUFBTTtBQUFBLFFBQzVCO0FBQUEsTUFDRDtBQUFBO0FBQUE7OztBQ2hCQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBRUEsVUFBSSxZQUFZO0FBQ2hCLFVBQUksZ0JBQWdCO0FBQ3BCLFVBQUksWUFBWSxjQUFjLHFCQUFxQjtBQUNuRCxVQUFJLGlCQUFpQixpQkFBaUM7QUFDdEQsVUFBSSxXQUFXO0FBRWYsVUFBSSxRQUFRLFVBQVUsMkJBQTJCO0FBQ2pELFVBQUksVUFBVSxVQUFVLDZCQUE2QjtBQUVyRCxVQUFJLG1CQUFtQixXQUFZO0FBQ2xDLFlBQUksQ0FBQyxnQkFBZ0I7QUFDcEIsaUJBQU87QUFBQSxRQUNSO0FBQ0EsWUFBSTtBQUNILGlCQUFPLFNBQVMsdUJBQXVCLEVBQUU7QUFBQSxRQUMxQyxTQUFTLEdBQVA7QUFBQSxRQUNGO0FBQUEsTUFDRDtBQUVBLFVBQUk7QUFHSixhQUFPLFVBQVUsU0FBUyxvQkFBb0IsSUFBSTtBQUNqRCxZQUFJLE9BQU8sT0FBTyxZQUFZO0FBQzdCLGlCQUFPO0FBQUEsUUFDUjtBQUNBLFlBQUksVUFBVSxRQUFRLEVBQUUsQ0FBQyxHQUFHO0FBQzNCLGlCQUFPO0FBQUEsUUFDUjtBQUNBLFlBQUksQ0FBQyxnQkFBZ0I7QUFDcEIsY0FBSSxNQUFNLE1BQU0sRUFBRTtBQUNsQixpQkFBTyxRQUFRO0FBQUEsUUFDaEI7QUFDQSxZQUFJLENBQUMsVUFBVTtBQUNkLGlCQUFPO0FBQUEsUUFDUjtBQUNBLFlBQUksT0FBTyxzQkFBc0IsYUFBYTtBQUM3QyxjQUFJLGdCQUFnQixpQkFBaUI7QUFDckMsOEJBQW9CO0FBQUE7QUFBQSxZQUU0QixTQUFTLGFBQWE7QUFBQSxjQUNuRTtBQUFBLFFBQ0o7QUFDQSxlQUFPLFNBQVMsRUFBRSxNQUFNO0FBQUEsTUFDekI7QUFBQTtBQUFBOzs7QUM5Q0E7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUVBLFVBQUksVUFBVSxTQUFTLFVBQVU7QUFDakMsVUFBSSxlQUFlLE9BQU8sWUFBWSxZQUFZLFlBQVksUUFBUSxRQUFRO0FBQzlFLFVBQUk7QUFDSixVQUFJO0FBQ0osVUFBSSxPQUFPLGlCQUFpQixjQUFjLE9BQU8sT0FBTyxtQkFBbUIsWUFBWTtBQUN0RixZQUFJO0FBQ0gseUJBQWUsT0FBTyxlQUFlLENBQUMsR0FBRyxVQUFVO0FBQUEsWUFDbEQsS0FBSyxXQUFZO0FBQ2hCLG9CQUFNO0FBQUEsWUFDUDtBQUFBLFVBQ0QsQ0FBQztBQUNELDZCQUFtQixDQUFDO0FBRXBCLHVCQUFhLFdBQVk7QUFBRSxrQkFBTTtBQUFBLFVBQUksR0FBRyxNQUFNLFlBQVk7QUFBQSxRQUMzRCxTQUFTLEdBQVA7QUFDRCxjQUFJLE1BQU0sa0JBQWtCO0FBQzNCLDJCQUFlO0FBQUEsVUFDaEI7QUFBQSxRQUNEO0FBQUEsTUFDRCxPQUFPO0FBQ04sdUJBQWU7QUFBQSxNQUNoQjtBQUVBLFVBQUksbUJBQW1CO0FBQ3ZCLFVBQUksZUFBZSxTQUFTLG1CQUFtQixPQUFPO0FBQ3JELFlBQUk7QUFDSCxjQUFJLFFBQVEsUUFBUSxLQUFLLEtBQUs7QUFDOUIsaUJBQU8saUJBQWlCLEtBQUssS0FBSztBQUFBLFFBQ25DLFNBQVMsR0FBUDtBQUNELGlCQUFPO0FBQUEsUUFDUjtBQUFBLE1BQ0Q7QUFFQSxVQUFJLG9CQUFvQixTQUFTLGlCQUFpQixPQUFPO0FBQ3hELFlBQUk7QUFDSCxjQUFJLGFBQWEsS0FBSyxHQUFHO0FBQUUsbUJBQU87QUFBQSxVQUFPO0FBQ3pDLGtCQUFRLEtBQUssS0FBSztBQUNsQixpQkFBTztBQUFBLFFBQ1IsU0FBUyxHQUFQO0FBQ0QsaUJBQU87QUFBQSxRQUNSO0FBQUEsTUFDRDtBQUNBLFVBQUksUUFBUSxPQUFPLFVBQVU7QUFDN0IsVUFBSSxjQUFjO0FBQ2xCLFVBQUksVUFBVTtBQUNkLFVBQUksV0FBVztBQUNmLFVBQUksV0FBVztBQUNmLFVBQUksWUFBWTtBQUNoQixVQUFJLFlBQVk7QUFDaEIsVUFBSSxpQkFBaUIsT0FBTyxXQUFXLGNBQWMsQ0FBQyxDQUFDLE9BQU87QUFFOUQsVUFBSSxTQUFTLEVBQUUsS0FBSyxDQUFDLENBQUM7QUFFdEIsVUFBSSxRQUFRLFNBQVMsbUJBQW1CO0FBQUUsZUFBTztBQUFBLE1BQU87QUFDeEQsVUFBSSxPQUFPLGFBQWEsVUFBVTtBQUU3QixjQUFNLFNBQVM7QUFDbkIsWUFBSSxNQUFNLEtBQUssR0FBRyxNQUFNLE1BQU0sS0FBSyxTQUFTLEdBQUcsR0FBRztBQUNqRCxrQkFBUSxTQUFTLGlCQUFpQixPQUFPO0FBR3hDLGlCQUFLLFVBQVUsQ0FBQyxXQUFXLE9BQU8sVUFBVSxlQUFlLE9BQU8sVUFBVSxXQUFXO0FBQ3RGLGtCQUFJO0FBQ0gsb0JBQUksTUFBTSxNQUFNLEtBQUssS0FBSztBQUMxQix3QkFDQyxRQUFRLFlBQ0wsUUFBUSxhQUNSLFFBQVEsYUFDUixRQUFRLGdCQUNQLE1BQU0sRUFBRSxLQUFLO0FBQUEsY0FDbkIsU0FBUyxHQUFQO0FBQUEsY0FBaUI7QUFBQSxZQUNwQjtBQUNBLG1CQUFPO0FBQUEsVUFDUjtBQUFBLFFBQ0Q7QUFBQSxNQUNEO0FBbkJLO0FBcUJMLGFBQU8sVUFBVSxlQUNkLFNBQVMsV0FBVyxPQUFPO0FBQzVCLFlBQUksTUFBTSxLQUFLLEdBQUc7QUFBRSxpQkFBTztBQUFBLFFBQU07QUFDakMsWUFBSSxDQUFDLE9BQU87QUFBRSxpQkFBTztBQUFBLFFBQU87QUFDNUIsWUFBSSxPQUFPLFVBQVUsY0FBYyxPQUFPLFVBQVUsVUFBVTtBQUFFLGlCQUFPO0FBQUEsUUFBTztBQUM5RSxZQUFJO0FBQ0gsdUJBQWEsT0FBTyxNQUFNLFlBQVk7QUFBQSxRQUN2QyxTQUFTLEdBQVA7QUFDRCxjQUFJLE1BQU0sa0JBQWtCO0FBQUUsbUJBQU87QUFBQSxVQUFPO0FBQUEsUUFDN0M7QUFDQSxlQUFPLENBQUMsYUFBYSxLQUFLLEtBQUssa0JBQWtCLEtBQUs7QUFBQSxNQUN2RCxJQUNFLFNBQVMsV0FBVyxPQUFPO0FBQzVCLFlBQUksTUFBTSxLQUFLLEdBQUc7QUFBRSxpQkFBTztBQUFBLFFBQU07QUFDakMsWUFBSSxDQUFDLE9BQU87QUFBRSxpQkFBTztBQUFBLFFBQU87QUFDNUIsWUFBSSxPQUFPLFVBQVUsY0FBYyxPQUFPLFVBQVUsVUFBVTtBQUFFLGlCQUFPO0FBQUEsUUFBTztBQUM5RSxZQUFJLGdCQUFnQjtBQUFFLGlCQUFPLGtCQUFrQixLQUFLO0FBQUEsUUFBRztBQUN2RCxZQUFJLGFBQWEsS0FBSyxHQUFHO0FBQUUsaUJBQU87QUFBQSxRQUFPO0FBQ3pDLFlBQUksV0FBVyxNQUFNLEtBQUssS0FBSztBQUMvQixZQUFJLGFBQWEsV0FBVyxhQUFhLFlBQVksQ0FBRSxpQkFBa0IsS0FBSyxRQUFRLEdBQUc7QUFBRSxpQkFBTztBQUFBLFFBQU87QUFDekcsZUFBTyxrQkFBa0IsS0FBSztBQUFBLE1BQy9CO0FBQUE7QUFBQTs7O0FDcEdEO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFFQSxVQUFJLGFBQWE7QUFFakIsVUFBSSxRQUFRLE9BQU8sVUFBVTtBQUM3QixVQUFJLGlCQUFpQixPQUFPLFVBQVU7QUFHdEMsVUFBSSxlQUFlLFNBQVNDLGNBQWEsT0FBTyxVQUFVLFVBQVU7QUFDaEUsaUJBQVMsSUFBSSxHQUFHLE1BQU0sTUFBTSxRQUFRLElBQUksS0FBSyxLQUFLO0FBQzlDLGNBQUksZUFBZSxLQUFLLE9BQU8sQ0FBQyxHQUFHO0FBQy9CLGdCQUFJLFlBQVksTUFBTTtBQUNsQix1QkFBUyxNQUFNLENBQUMsR0FBRyxHQUFHLEtBQUs7QUFBQSxZQUMvQixPQUFPO0FBQ0gsdUJBQVMsS0FBSyxVQUFVLE1BQU0sQ0FBQyxHQUFHLEdBQUcsS0FBSztBQUFBLFlBQzlDO0FBQUEsVUFDSjtBQUFBLFFBQ0o7QUFBQSxNQUNKO0FBR0EsVUFBSSxnQkFBZ0IsU0FBU0MsZUFBYyxRQUFRLFVBQVUsVUFBVTtBQUNuRSxpQkFBUyxJQUFJLEdBQUcsTUFBTSxPQUFPLFFBQVEsSUFBSSxLQUFLLEtBQUs7QUFFL0MsY0FBSSxZQUFZLE1BQU07QUFDbEIscUJBQVMsT0FBTyxPQUFPLENBQUMsR0FBRyxHQUFHLE1BQU07QUFBQSxVQUN4QyxPQUFPO0FBQ0gscUJBQVMsS0FBSyxVQUFVLE9BQU8sT0FBTyxDQUFDLEdBQUcsR0FBRyxNQUFNO0FBQUEsVUFDdkQ7QUFBQSxRQUNKO0FBQUEsTUFDSjtBQUdBLFVBQUksZ0JBQWdCLFNBQVNDLGVBQWMsUUFBUSxVQUFVLFVBQVU7QUFDbkUsaUJBQVMsS0FBSyxRQUFRO0FBQ2xCLGNBQUksZUFBZSxLQUFLLFFBQVEsQ0FBQyxHQUFHO0FBQ2hDLGdCQUFJLFlBQVksTUFBTTtBQUNsQix1QkFBUyxPQUFPLENBQUMsR0FBRyxHQUFHLE1BQU07QUFBQSxZQUNqQyxPQUFPO0FBQ0gsdUJBQVMsS0FBSyxVQUFVLE9BQU8sQ0FBQyxHQUFHLEdBQUcsTUFBTTtBQUFBLFlBQ2hEO0FBQUEsVUFDSjtBQUFBLFFBQ0o7QUFBQSxNQUNKO0FBR0EsZUFBUyxRQUFRLEdBQUc7QUFDaEIsZUFBTyxNQUFNLEtBQUssQ0FBQyxNQUFNO0FBQUEsTUFDN0I7QUFHQSxhQUFPLFVBQVUsU0FBUyxRQUFRLE1BQU0sVUFBVSxTQUFTO0FBQ3ZELFlBQUksQ0FBQyxXQUFXLFFBQVEsR0FBRztBQUN2QixnQkFBTSxJQUFJLFVBQVUsNkJBQTZCO0FBQUEsUUFDckQ7QUFFQSxZQUFJO0FBQ0osWUFBSSxVQUFVLFVBQVUsR0FBRztBQUN2QixxQkFBVztBQUFBLFFBQ2Y7QUFFQSxZQUFJLFFBQVEsSUFBSSxHQUFHO0FBQ2YsdUJBQWEsTUFBTSxVQUFVLFFBQVE7QUFBQSxRQUN6QyxXQUFXLE9BQU8sU0FBUyxVQUFVO0FBQ2pDLHdCQUFjLE1BQU0sVUFBVSxRQUFRO0FBQUEsUUFDMUMsT0FBTztBQUNILHdCQUFjLE1BQU0sVUFBVSxRQUFRO0FBQUEsUUFDMUM7QUFBQSxNQUNKO0FBQUE7QUFBQTs7O0FDcEVBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFHQSxhQUFPLFVBQVU7QUFBQSxRQUNoQjtBQUFBLFFBQ0E7QUFBQSxRQUNBO0FBQUEsUUFDQTtBQUFBLFFBQ0E7QUFBQSxRQUNBO0FBQUEsUUFDQTtBQUFBLFFBQ0E7QUFBQSxRQUNBO0FBQUEsUUFDQTtBQUFBLFFBQ0E7QUFBQSxRQUNBO0FBQUEsTUFDRDtBQUFBO0FBQUE7OztBQ2hCQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBRUEsVUFBSSxnQkFBZ0I7QUFFcEIsVUFBSSxJQUFJLE9BQU8sZUFBZSxjQUFjLE9BQVM7QUFHckQsYUFBTyxVQUFVLFNBQVMsdUJBQXVCO0FBQ2hELFlBQTJELE1BQU0sQ0FBQztBQUNsRSxpQkFBUyxJQUFJLEdBQUcsSUFBSSxjQUFjLFFBQVEsS0FBSztBQUM5QyxjQUFJLE9BQU8sRUFBRSxjQUFjLENBQUMsQ0FBQyxNQUFNLFlBQVk7QUFFOUMsZ0JBQUksSUFBSSxNQUFNLElBQUksY0FBYyxDQUFDO0FBQUEsVUFDbEM7QUFBQSxRQUNEO0FBQ0EsZUFBTztBQUFBLE1BQ1I7QUFBQTtBQUFBOzs7QUNoQkE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUVBLFVBQUksa0JBQWtCO0FBRXRCLFVBQUksZUFBZTtBQUNuQixVQUFJLGFBQWE7QUFFakIsVUFBSSxPQUFPO0FBR1gsYUFBTyxVQUFVLFNBQVMsbUJBQ3pCLEtBQ0EsVUFDQSxPQUNDO0FBQ0QsWUFBSSxDQUFDLE9BQVEsT0FBTyxRQUFRLFlBQVksT0FBTyxRQUFRLFlBQWE7QUFDbkUsZ0JBQU0sSUFBSSxXQUFXLHdDQUF3QztBQUFBLFFBQzlEO0FBQ0EsWUFBSSxPQUFPLGFBQWEsWUFBWSxPQUFPLGFBQWEsVUFBVTtBQUNqRSxnQkFBTSxJQUFJLFdBQVcsMENBQTBDO0FBQUEsUUFDaEU7QUFDQSxZQUFJLFVBQVUsU0FBUyxLQUFLLE9BQU8sVUFBVSxDQUFDLE1BQU0sYUFBYSxVQUFVLENBQUMsTUFBTSxNQUFNO0FBQ3ZGLGdCQUFNLElBQUksV0FBVyx5REFBeUQ7QUFBQSxRQUMvRTtBQUNBLFlBQUksVUFBVSxTQUFTLEtBQUssT0FBTyxVQUFVLENBQUMsTUFBTSxhQUFhLFVBQVUsQ0FBQyxNQUFNLE1BQU07QUFDdkYsZ0JBQU0sSUFBSSxXQUFXLHVEQUF1RDtBQUFBLFFBQzdFO0FBQ0EsWUFBSSxVQUFVLFNBQVMsS0FBSyxPQUFPLFVBQVUsQ0FBQyxNQUFNLGFBQWEsVUFBVSxDQUFDLE1BQU0sTUFBTTtBQUN2RixnQkFBTSxJQUFJLFdBQVcsMkRBQTJEO0FBQUEsUUFDakY7QUFDQSxZQUFJLFVBQVUsU0FBUyxLQUFLLE9BQU8sVUFBVSxDQUFDLE1BQU0sV0FBVztBQUM5RCxnQkFBTSxJQUFJLFdBQVcseUNBQXlDO0FBQUEsUUFDL0Q7QUFFQSxZQUFJLGdCQUFnQixVQUFVLFNBQVMsSUFBSSxVQUFVLENBQUMsSUFBSTtBQUMxRCxZQUFJLGNBQWMsVUFBVSxTQUFTLElBQUksVUFBVSxDQUFDLElBQUk7QUFDeEQsWUFBSSxrQkFBa0IsVUFBVSxTQUFTLElBQUksVUFBVSxDQUFDLElBQUk7QUFDNUQsWUFBSSxRQUFRLFVBQVUsU0FBUyxJQUFJLFVBQVUsQ0FBQyxJQUFJO0FBR2xELFlBQUksT0FBTyxDQUFDLENBQUMsUUFBUSxLQUFLLEtBQUssUUFBUTtBQUV2QyxZQUFJLGlCQUFpQjtBQUNwQiwwQkFBZ0IsS0FBSyxVQUFVO0FBQUEsWUFDOUIsY0FBYyxvQkFBb0IsUUFBUSxPQUFPLEtBQUssZUFBZSxDQUFDO0FBQUEsWUFDdEUsWUFBWSxrQkFBa0IsUUFBUSxPQUFPLEtBQUssYUFBYSxDQUFDO0FBQUEsWUFDaEU7QUFBQSxZQUNBLFVBQVUsZ0JBQWdCLFFBQVEsT0FBTyxLQUFLLFdBQVcsQ0FBQztBQUFBLFVBQzNELENBQUM7QUFBQSxRQUNGLFdBQVcsU0FBVSxDQUFDLGlCQUFpQixDQUFDLGVBQWUsQ0FBQyxpQkFBa0I7QUFFekUsY0FBSSxRQUFRLElBQUk7QUFBQSxRQUNqQixPQUFPO0FBQ04sZ0JBQU0sSUFBSSxhQUFhLDZHQUE2RztBQUFBLFFBQ3JJO0FBQUEsTUFDRDtBQUFBO0FBQUE7OztBQ3ZEQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBRUEsVUFBSSxrQkFBa0I7QUFFdEIsVUFBSSx5QkFBeUIsU0FBU0MsMEJBQXlCO0FBQzlELGVBQU8sQ0FBQyxDQUFDO0FBQUEsTUFDVjtBQUVBLDZCQUF1QiwwQkFBMEIsU0FBUywwQkFBMEI7QUFFbkYsWUFBSSxDQUFDLGlCQUFpQjtBQUNyQixpQkFBTztBQUFBLFFBQ1I7QUFDQSxZQUFJO0FBQ0gsaUJBQU8sZ0JBQWdCLENBQUMsR0FBRyxVQUFVLEVBQUUsT0FBTyxFQUFFLENBQUMsRUFBRSxXQUFXO0FBQUEsUUFDL0QsU0FBUyxHQUFQO0FBRUQsaUJBQU87QUFBQSxRQUNSO0FBQUEsTUFDRDtBQUVBLGFBQU8sVUFBVTtBQUFBO0FBQUE7OztBQ3JCakI7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUVBLFVBQUksZUFBZTtBQUNuQixVQUFJLFNBQVM7QUFDYixVQUFJLGlCQUFpQixtQ0FBb0M7QUFDekQsVUFBSSxPQUFPO0FBRVgsVUFBSSxhQUFhO0FBQ2pCLFVBQUksU0FBUyxhQUFhLGNBQWM7QUFHeEMsYUFBTyxVQUFVLFNBQVMsa0JBQWtCLElBQUksUUFBUTtBQUN2RCxZQUFJLE9BQU8sT0FBTyxZQUFZO0FBQzdCLGdCQUFNLElBQUksV0FBVyx3QkFBd0I7QUFBQSxRQUM5QztBQUNBLFlBQUksT0FBTyxXQUFXLFlBQVksU0FBUyxLQUFLLFNBQVMsY0FBYyxPQUFPLE1BQU0sTUFBTSxRQUFRO0FBQ2pHLGdCQUFNLElBQUksV0FBVyw0Q0FBNEM7QUFBQSxRQUNsRTtBQUVBLFlBQUksUUFBUSxVQUFVLFNBQVMsS0FBSyxDQUFDLENBQUMsVUFBVSxDQUFDO0FBRWpELFlBQUksK0JBQStCO0FBQ25DLFlBQUksMkJBQTJCO0FBQy9CLFlBQUksWUFBWSxNQUFNLE1BQU07QUFDM0IsY0FBSSxPQUFPLEtBQUssSUFBSSxRQUFRO0FBQzVCLGNBQUksUUFBUSxDQUFDLEtBQUssY0FBYztBQUMvQiwyQ0FBK0I7QUFBQSxVQUNoQztBQUNBLGNBQUksUUFBUSxDQUFDLEtBQUssVUFBVTtBQUMzQix1Q0FBMkI7QUFBQSxVQUM1QjtBQUFBLFFBQ0Q7QUFFQSxZQUFJLGdDQUFnQyw0QkFBNEIsQ0FBQyxPQUFPO0FBQ3ZFLGNBQUksZ0JBQWdCO0FBQ25CO0FBQUE7QUFBQSxjQUE2QztBQUFBLGNBQUs7QUFBQSxjQUFVO0FBQUEsY0FBUTtBQUFBLGNBQU07QUFBQSxZQUFJO0FBQUEsVUFDL0UsT0FBTztBQUNOO0FBQUE7QUFBQSxjQUE2QztBQUFBLGNBQUs7QUFBQSxjQUFVO0FBQUEsWUFBTTtBQUFBLFVBQ25FO0FBQUEsUUFDRDtBQUNBLGVBQU87QUFBQSxNQUNSO0FBQUE7QUFBQTs7O0FDekNBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFFQSxVQUFJLE9BQU87QUFDWCxVQUFJLFNBQVM7QUFDYixVQUFJLGNBQWM7QUFHbEIsYUFBTyxVQUFVLFNBQVMsWUFBWTtBQUNyQyxlQUFPLFlBQVksTUFBTSxRQUFRLFNBQVM7QUFBQSxNQUMzQztBQUFBO0FBQUE7OztBQ1RBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFFQSxVQUFJLG9CQUFvQjtBQUV4QixVQUFJLGtCQUFrQjtBQUV0QixVQUFJLGdCQUFnQjtBQUNwQixVQUFJLFlBQVk7QUFFaEIsYUFBTyxVQUFVLFNBQVMsU0FBUyxrQkFBa0I7QUFDcEQsWUFBSSxPQUFPLGNBQWMsU0FBUztBQUNsQyxZQUFJLGlCQUFpQixpQkFBaUIsVUFBVSxVQUFVLFNBQVM7QUFDbkUsZUFBTztBQUFBLFVBQ047QUFBQSxVQUNBLEtBQUssaUJBQWlCLElBQUksaUJBQWlCO0FBQUEsVUFDM0M7QUFBQSxRQUNEO0FBQUEsTUFDRDtBQUVBLFVBQUksaUJBQWlCO0FBQ3BCLHdCQUFnQixPQUFPLFNBQVMsU0FBUyxFQUFFLE9BQU8sVUFBVSxDQUFDO0FBQUEsTUFDOUQsT0FBTztBQUNOLGVBQU8sUUFBUSxRQUFRO0FBQUEsTUFDeEI7QUFBQTtBQUFBOzs7QUN2QkE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUVBLFVBQUksVUFBVTtBQUNkLFVBQUksdUJBQXVCO0FBQzNCLFVBQUksV0FBVztBQUNmLFVBQUksWUFBWTtBQUNoQixVQUFJLE9BQU87QUFDWCxVQUFJLFdBQVc7QUFFZixVQUFJLFlBQVksVUFBVSwyQkFBMkI7QUFDckQsVUFBSSxpQkFBaUIsaUJBQWlDO0FBRXRELFVBQUksSUFBSSxPQUFPLGVBQWUsY0FBYyxPQUFTO0FBQ3JELFVBQUksY0FBYyxxQkFBcUI7QUFFdkMsVUFBSSxTQUFTLFVBQVUsd0JBQXdCO0FBRy9DLFVBQUksV0FBVyxVQUFVLDJCQUEyQixJQUFJLEtBQUssU0FBUyxRQUFRLE9BQU8sT0FBTztBQUMzRixpQkFBUyxJQUFJLEdBQUcsSUFBSSxNQUFNLFFBQVEsS0FBSyxHQUFHO0FBQ3pDLGNBQUksTUFBTSxDQUFDLE1BQU0sT0FBTztBQUN2QixtQkFBTztBQUFBLFVBQ1I7QUFBQSxRQUNEO0FBQ0EsZUFBTztBQUFBLE1BQ1I7QUFJQSxVQUFJLFFBQVEsRUFBRSxXQUFXLEtBQUs7QUFDOUIsVUFBSSxrQkFBa0IsUUFBUSxVQUFVO0FBQ3ZDLGdCQUFRLGFBQWEsU0FBVSxZQUFZO0FBQzFDLGNBQUksTUFBTSxJQUFJLEVBQUUsVUFBVSxFQUFFO0FBQzVCLGNBQUksT0FBTyxlQUFlLE9BQU8sVUFBVTtBQUMxQyxnQkFBSSxRQUFRLFNBQVMsR0FBRztBQUV4QixnQkFBSSxhQUFhLEtBQUssT0FBTyxPQUFPLFdBQVc7QUFDL0MsZ0JBQUksQ0FBQyxjQUFjLE9BQU87QUFDekIsa0JBQUksYUFBYSxTQUFTLEtBQUs7QUFFL0IsMkJBQWEsS0FBSyxZQUFZLE9BQU8sV0FBVztBQUFBLFlBQ2pEO0FBRUEsa0JBQU0sTUFBTSxVQUFVLElBQUksU0FBUyxXQUFXLEdBQUc7QUFBQSxVQUNsRDtBQUFBLFFBQ0QsQ0FBQztBQUFBLE1BQ0YsT0FBTztBQUNOLGdCQUFRLGFBQWEsU0FBVSxZQUFZO0FBQzFDLGNBQUksTUFBTSxJQUFJLEVBQUUsVUFBVSxFQUFFO0FBQzVCLGNBQUksS0FBSyxJQUFJLFNBQVMsSUFBSTtBQUMxQixjQUFJLElBQUk7QUFDUDtBQUFBO0FBQUEsY0FDa0QsTUFBTTtBQUFBLFlBQ3hEO0FBQUE7QUFBQSxZQUVDLFNBQVMsRUFBRTtBQUFBLFVBRWI7QUFBQSxRQUNELENBQUM7QUFBQSxNQUNGO0FBR0EsVUFBSSxpQkFBaUIsU0FBUyxrQkFBa0IsT0FBTztBQUNGLFlBQUksUUFBUTtBQUNoRTtBQUFBO0FBQUEsVUFDbUU7QUFBQTtBQUFBLFVBRWxFLFNBQVUsUUFBUSxZQUFZO0FBQzdCLGdCQUFJLENBQUMsT0FBTztBQUNYLGtCQUFJO0FBRUgsb0JBQUksTUFBTSxPQUFPLEtBQUssTUFBTSxZQUFZO0FBQ3ZDO0FBQUEsa0JBQW1ELE9BQU8sWUFBWSxDQUFDO0FBQUEsZ0JBQ3hFO0FBQUEsY0FDRCxTQUFTLEdBQVA7QUFBQSxjQUFpQjtBQUFBLFlBQ3BCO0FBQUEsVUFDRDtBQUFBLFFBQ0Q7QUFDQSxlQUFPO0FBQUEsTUFDUjtBQUdBLFVBQUksWUFBWSxTQUFTLGFBQWEsT0FBTztBQUNHLFlBQUksUUFBUTtBQUMzRDtBQUFBO0FBQUEsVUFDa0U7QUFBQTtBQUFBLFVBQ2dCLFNBQVUsUUFBUSxNQUFNO0FBQ3hHLGdCQUFJLENBQUMsT0FBTztBQUNYLGtCQUFJO0FBRUgsdUJBQU8sS0FBSztBQUNaO0FBQUEsZ0JBQW1ELE9BQU8sTUFBTSxDQUFDO0FBQUEsY0FDbEUsU0FBUyxHQUFQO0FBQUEsY0FBaUI7QUFBQSxZQUNwQjtBQUFBLFVBQ0Q7QUFBQSxRQUNEO0FBQ0EsZUFBTztBQUFBLE1BQ1I7QUFHQSxhQUFPLFVBQVUsU0FBUyxnQkFBZ0IsT0FBTztBQUNoRCxZQUFJLENBQUMsU0FBUyxPQUFPLFVBQVUsVUFBVTtBQUFFLGlCQUFPO0FBQUEsUUFBTztBQUN6RCxZQUFJLENBQUMsZ0JBQWdCO0FBRXBCLGNBQUksTUFBTSxPQUFPLFVBQVUsS0FBSyxHQUFHLEdBQUcsRUFBRTtBQUN4QyxjQUFJLFNBQVMsYUFBYSxHQUFHLElBQUksSUFBSTtBQUNwQyxtQkFBTztBQUFBLFVBQ1I7QUFDQSxjQUFJLFFBQVEsVUFBVTtBQUNyQixtQkFBTztBQUFBLFVBQ1I7QUFFQSxpQkFBTyxVQUFVLEtBQUs7QUFBQSxRQUN2QjtBQUNBLFlBQUksQ0FBQyxNQUFNO0FBQUUsaUJBQU87QUFBQSxRQUFNO0FBQzFCLGVBQU8sZUFBZSxLQUFLO0FBQUEsTUFDNUI7QUFBQTtBQUFBOzs7QUNwSEE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUVBLFVBQUksa0JBQWtCO0FBR3RCLGFBQU8sVUFBVSxTQUFTLGFBQWEsT0FBTztBQUM3QyxlQUFPLENBQUMsQ0FBQyxnQkFBZ0IsS0FBSztBQUFBLE1BQy9CO0FBQUE7QUFBQTs7O0FDUEE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUtBLFVBQUksb0JBQW9CO0FBQ3hCLFVBQUksc0JBQXNCO0FBQzFCLFVBQUksa0JBQWtCO0FBQ3RCLFVBQUksZUFBZTtBQUVuQixlQUFTLFlBQVksR0FBRztBQUN0QixlQUFPLEVBQUUsS0FBSyxLQUFLLENBQUM7QUFBQSxNQUN0QjtBQUVBLFVBQUksa0JBQWtCLE9BQU8sV0FBVztBQUN4QyxVQUFJLGtCQUFrQixPQUFPLFdBQVc7QUFFeEMsVUFBSSxpQkFBaUIsWUFBWSxPQUFPLFVBQVUsUUFBUTtBQUUxRCxVQUFJLGNBQWMsWUFBWSxPQUFPLFVBQVUsT0FBTztBQUN0RCxVQUFJLGNBQWMsWUFBWSxPQUFPLFVBQVUsT0FBTztBQUN0RCxVQUFJLGVBQWUsWUFBWSxRQUFRLFVBQVUsT0FBTztBQUV4RCxVQUFJLGlCQUFpQjtBQUNmLHNCQUFjLFlBQVksT0FBTyxVQUFVLE9BQU87QUFBQSxNQUN4RDtBQURNO0FBR04sVUFBSSxpQkFBaUI7QUFDZixzQkFBYyxZQUFZLE9BQU8sVUFBVSxPQUFPO0FBQUEsTUFDeEQ7QUFETTtBQUdOLGVBQVMsb0JBQW9CLE9BQU8sa0JBQWtCO0FBQ3BELFlBQUksT0FBTyxVQUFVLFVBQVU7QUFDN0IsaUJBQU87QUFBQSxRQUNUO0FBQ0EsWUFBSTtBQUNGLDJCQUFpQixLQUFLO0FBQ3RCLGlCQUFPO0FBQUEsUUFDVCxTQUFRLEdBQU47QUFDQSxpQkFBTztBQUFBLFFBQ1Q7QUFBQSxNQUNGO0FBRUEsY0FBUSxvQkFBb0I7QUFDNUIsY0FBUSxzQkFBc0I7QUFDOUIsY0FBUSxlQUFlO0FBSXZCLGVBQVMsVUFBVSxPQUFPO0FBQ3pCLGVBRUUsT0FBTyxZQUFZLGVBQ25CLGlCQUFpQixXQUdqQixVQUFVLFFBQ1YsT0FBTyxVQUFVLFlBQ2pCLE9BQU8sTUFBTSxTQUFTLGNBQ3RCLE9BQU8sTUFBTSxVQUFVO0FBQUEsTUFHMUI7QUFDQSxjQUFRLFlBQVk7QUFFcEIsZUFBUyxrQkFBa0IsT0FBTztBQUNoQyxZQUFJLE9BQU8sZ0JBQWdCLGVBQWUsWUFBWSxRQUFRO0FBQzVELGlCQUFPLFlBQVksT0FBTyxLQUFLO0FBQUEsUUFDakM7QUFFQSxlQUNFLGFBQWEsS0FBSyxLQUNsQixXQUFXLEtBQUs7QUFBQSxNQUVwQjtBQUNBLGNBQVEsb0JBQW9CO0FBRzVCLGVBQVMsYUFBYSxPQUFPO0FBQzNCLGVBQU8sZ0JBQWdCLEtBQUssTUFBTTtBQUFBLE1BQ3BDO0FBQ0EsY0FBUSxlQUFlO0FBRXZCLGVBQVMsb0JBQW9CLE9BQU87QUFDbEMsZUFBTyxnQkFBZ0IsS0FBSyxNQUFNO0FBQUEsTUFDcEM7QUFDQSxjQUFRLHNCQUFzQjtBQUU5QixlQUFTLGNBQWMsT0FBTztBQUM1QixlQUFPLGdCQUFnQixLQUFLLE1BQU07QUFBQSxNQUNwQztBQUNBLGNBQVEsZ0JBQWdCO0FBRXhCLGVBQVMsY0FBYyxPQUFPO0FBQzVCLGVBQU8sZ0JBQWdCLEtBQUssTUFBTTtBQUFBLE1BQ3BDO0FBQ0EsY0FBUSxnQkFBZ0I7QUFFeEIsZUFBUyxZQUFZLE9BQU87QUFDMUIsZUFBTyxnQkFBZ0IsS0FBSyxNQUFNO0FBQUEsTUFDcEM7QUFDQSxjQUFRLGNBQWM7QUFFdEIsZUFBUyxhQUFhLE9BQU87QUFDM0IsZUFBTyxnQkFBZ0IsS0FBSyxNQUFNO0FBQUEsTUFDcEM7QUFDQSxjQUFRLGVBQWU7QUFFdkIsZUFBUyxhQUFhLE9BQU87QUFDM0IsZUFBTyxnQkFBZ0IsS0FBSyxNQUFNO0FBQUEsTUFDcEM7QUFDQSxjQUFRLGVBQWU7QUFFdkIsZUFBUyxlQUFlLE9BQU87QUFDN0IsZUFBTyxnQkFBZ0IsS0FBSyxNQUFNO0FBQUEsTUFDcEM7QUFDQSxjQUFRLGlCQUFpQjtBQUV6QixlQUFTLGVBQWUsT0FBTztBQUM3QixlQUFPLGdCQUFnQixLQUFLLE1BQU07QUFBQSxNQUNwQztBQUNBLGNBQVEsaUJBQWlCO0FBRXpCLGVBQVMsZ0JBQWdCLE9BQU87QUFDOUIsZUFBTyxnQkFBZ0IsS0FBSyxNQUFNO0FBQUEsTUFDcEM7QUFDQSxjQUFRLGtCQUFrQjtBQUUxQixlQUFTLGlCQUFpQixPQUFPO0FBQy9CLGVBQU8sZ0JBQWdCLEtBQUssTUFBTTtBQUFBLE1BQ3BDO0FBQ0EsY0FBUSxtQkFBbUI7QUFFM0IsZUFBUyxjQUFjLE9BQU87QUFDNUIsZUFBTyxlQUFlLEtBQUssTUFBTTtBQUFBLE1BQ25DO0FBQ0Esb0JBQWMsVUFDWixPQUFPLFFBQVEsZUFDZixjQUFjLG9CQUFJLElBQUksQ0FBQztBQUd6QixlQUFTLE1BQU0sT0FBTztBQUNwQixZQUFJLE9BQU8sUUFBUSxhQUFhO0FBQzlCLGlCQUFPO0FBQUEsUUFDVDtBQUVBLGVBQU8sY0FBYyxVQUNqQixjQUFjLEtBQUssSUFDbkIsaUJBQWlCO0FBQUEsTUFDdkI7QUFDQSxjQUFRLFFBQVE7QUFFaEIsZUFBUyxjQUFjLE9BQU87QUFDNUIsZUFBTyxlQUFlLEtBQUssTUFBTTtBQUFBLE1BQ25DO0FBQ0Esb0JBQWMsVUFDWixPQUFPLFFBQVEsZUFDZixjQUFjLG9CQUFJLElBQUksQ0FBQztBQUV6QixlQUFTLE1BQU0sT0FBTztBQUNwQixZQUFJLE9BQU8sUUFBUSxhQUFhO0FBQzlCLGlCQUFPO0FBQUEsUUFDVDtBQUVBLGVBQU8sY0FBYyxVQUNqQixjQUFjLEtBQUssSUFDbkIsaUJBQWlCO0FBQUEsTUFDdkI7QUFDQSxjQUFRLFFBQVE7QUFFaEIsZUFBUyxrQkFBa0IsT0FBTztBQUNoQyxlQUFPLGVBQWUsS0FBSyxNQUFNO0FBQUEsTUFDbkM7QUFDQSx3QkFBa0IsVUFDaEIsT0FBTyxZQUFZLGVBQ25CLGtCQUFrQixvQkFBSSxRQUFRLENBQUM7QUFFakMsZUFBUyxVQUFVLE9BQU87QUFDeEIsWUFBSSxPQUFPLFlBQVksYUFBYTtBQUNsQyxpQkFBTztBQUFBLFFBQ1Q7QUFFQSxlQUFPLGtCQUFrQixVQUNyQixrQkFBa0IsS0FBSyxJQUN2QixpQkFBaUI7QUFBQSxNQUN2QjtBQUNBLGNBQVEsWUFBWTtBQUVwQixlQUFTLGtCQUFrQixPQUFPO0FBQ2hDLGVBQU8sZUFBZSxLQUFLLE1BQU07QUFBQSxNQUNuQztBQUNBLHdCQUFrQixVQUNoQixPQUFPLFlBQVksZUFDbkIsa0JBQWtCLG9CQUFJLFFBQVEsQ0FBQztBQUVqQyxlQUFTLFVBQVUsT0FBTztBQUN4QixlQUFPLGtCQUFrQixLQUFLO0FBQUEsTUFDaEM7QUFDQSxjQUFRLFlBQVk7QUFFcEIsZUFBUyxzQkFBc0IsT0FBTztBQUNwQyxlQUFPLGVBQWUsS0FBSyxNQUFNO0FBQUEsTUFDbkM7QUFDQSw0QkFBc0IsVUFDcEIsT0FBTyxnQkFBZ0IsZUFDdkIsc0JBQXNCLElBQUksWUFBWSxDQUFDO0FBRXpDLGVBQVMsY0FBYyxPQUFPO0FBQzVCLFlBQUksT0FBTyxnQkFBZ0IsYUFBYTtBQUN0QyxpQkFBTztBQUFBLFFBQ1Q7QUFFQSxlQUFPLHNCQUFzQixVQUN6QixzQkFBc0IsS0FBSyxJQUMzQixpQkFBaUI7QUFBQSxNQUN2QjtBQUNBLGNBQVEsZ0JBQWdCO0FBRXhCLGVBQVMsbUJBQW1CLE9BQU87QUFDakMsZUFBTyxlQUFlLEtBQUssTUFBTTtBQUFBLE1BQ25DO0FBQ0EseUJBQW1CLFVBQ2pCLE9BQU8sZ0JBQWdCLGVBQ3ZCLE9BQU8sYUFBYSxlQUNwQixtQkFBbUIsSUFBSSxTQUFTLElBQUksWUFBWSxDQUFDLEdBQUcsR0FBRyxDQUFDLENBQUM7QUFFM0QsZUFBUyxXQUFXLE9BQU87QUFDekIsWUFBSSxPQUFPLGFBQWEsYUFBYTtBQUNuQyxpQkFBTztBQUFBLFFBQ1Q7QUFFQSxlQUFPLG1CQUFtQixVQUN0QixtQkFBbUIsS0FBSyxJQUN4QixpQkFBaUI7QUFBQSxNQUN2QjtBQUNBLGNBQVEsYUFBYTtBQUdyQixVQUFJLHdCQUF3QixPQUFPLHNCQUFzQixjQUFjLG9CQUFvQjtBQUMzRixlQUFTLDRCQUE0QixPQUFPO0FBQzFDLGVBQU8sZUFBZSxLQUFLLE1BQU07QUFBQSxNQUNuQztBQUNBLGVBQVMsb0JBQW9CLE9BQU87QUFDbEMsWUFBSSxPQUFPLDBCQUEwQixhQUFhO0FBQ2hELGlCQUFPO0FBQUEsUUFDVDtBQUVBLFlBQUksT0FBTyw0QkFBNEIsWUFBWSxhQUFhO0FBQzlELHNDQUE0QixVQUFVLDRCQUE0QixJQUFJLHNCQUFzQixDQUFDO0FBQUEsUUFDL0Y7QUFFQSxlQUFPLDRCQUE0QixVQUMvQiw0QkFBNEIsS0FBSyxJQUNqQyxpQkFBaUI7QUFBQSxNQUN2QjtBQUNBLGNBQVEsc0JBQXNCO0FBRTlCLGVBQVMsZ0JBQWdCLE9BQU87QUFDOUIsZUFBTyxlQUFlLEtBQUssTUFBTTtBQUFBLE1BQ25DO0FBQ0EsY0FBUSxrQkFBa0I7QUFFMUIsZUFBUyxjQUFjLE9BQU87QUFDNUIsZUFBTyxlQUFlLEtBQUssTUFBTTtBQUFBLE1BQ25DO0FBQ0EsY0FBUSxnQkFBZ0I7QUFFeEIsZUFBUyxjQUFjLE9BQU87QUFDNUIsZUFBTyxlQUFlLEtBQUssTUFBTTtBQUFBLE1BQ25DO0FBQ0EsY0FBUSxnQkFBZ0I7QUFFeEIsZUFBUyxrQkFBa0IsT0FBTztBQUNoQyxlQUFPLGVBQWUsS0FBSyxNQUFNO0FBQUEsTUFDbkM7QUFDQSxjQUFRLG9CQUFvQjtBQUU1QixlQUFTLDRCQUE0QixPQUFPO0FBQzFDLGVBQU8sZUFBZSxLQUFLLE1BQU07QUFBQSxNQUNuQztBQUNBLGNBQVEsOEJBQThCO0FBRXRDLGVBQVMsZUFBZSxPQUFPO0FBQzdCLGVBQU8sb0JBQW9CLE9BQU8sV0FBVztBQUFBLE1BQy9DO0FBQ0EsY0FBUSxpQkFBaUI7QUFFekIsZUFBUyxlQUFlLE9BQU87QUFDN0IsZUFBTyxvQkFBb0IsT0FBTyxXQUFXO0FBQUEsTUFDL0M7QUFDQSxjQUFRLGlCQUFpQjtBQUV6QixlQUFTLGdCQUFnQixPQUFPO0FBQzlCLGVBQU8sb0JBQW9CLE9BQU8sWUFBWTtBQUFBLE1BQ2hEO0FBQ0EsY0FBUSxrQkFBa0I7QUFFMUIsZUFBUyxlQUFlLE9BQU87QUFDN0IsZUFBTyxtQkFBbUIsb0JBQW9CLE9BQU8sV0FBVztBQUFBLE1BQ2xFO0FBQ0EsY0FBUSxpQkFBaUI7QUFFekIsZUFBUyxlQUFlLE9BQU87QUFDN0IsZUFBTyxtQkFBbUIsb0JBQW9CLE9BQU8sV0FBVztBQUFBLE1BQ2xFO0FBQ0EsY0FBUSxpQkFBaUI7QUFFekIsZUFBUyxpQkFBaUIsT0FBTztBQUMvQixlQUNFLGVBQWUsS0FBSyxLQUNwQixlQUFlLEtBQUssS0FDcEIsZ0JBQWdCLEtBQUssS0FDckIsZUFBZSxLQUFLLEtBQ3BCLGVBQWUsS0FBSztBQUFBLE1BRXhCO0FBQ0EsY0FBUSxtQkFBbUI7QUFFM0IsZUFBUyxpQkFBaUIsT0FBTztBQUMvQixlQUFPLE9BQU8sZUFBZSxnQkFDM0IsY0FBYyxLQUFLLEtBQ25CLG9CQUFvQixLQUFLO0FBQUEsTUFFN0I7QUFDQSxjQUFRLG1CQUFtQjtBQUUzQixPQUFDLFdBQVcsY0FBYyx5QkFBeUIsRUFBRSxRQUFRLFNBQVMsUUFBUTtBQUM1RSxlQUFPLGVBQWUsU0FBUyxRQUFRO0FBQUEsVUFDckMsWUFBWTtBQUFBLFVBQ1osT0FBTyxXQUFXO0FBQ2hCLGtCQUFNLElBQUksTUFBTSxTQUFTLCtCQUErQjtBQUFBLFVBQzFEO0FBQUEsUUFDRixDQUFDO0FBQUEsTUFDSCxDQUFDO0FBQUE7QUFBQTs7O0FDN1VEO0FBQUE7QUFBQTtBQUFBO0FBQUEsYUFBTyxVQUFVLFNBQVMsU0FBUyxLQUFLO0FBQ3RDLGVBQU8sT0FBTyxPQUFPLFFBQVEsWUFDeEIsT0FBTyxJQUFJLFNBQVMsY0FDcEIsT0FBTyxJQUFJLFNBQVMsY0FDcEIsT0FBTyxJQUFJLGNBQWM7QUFBQSxNQUNoQztBQUFBO0FBQUE7OztBQ0xBO0FBQUE7QUFBQTtBQUFBO0FBQUEsVUFBSSxPQUFPLE9BQU8sV0FBVyxZQUFZO0FBRXZDLGVBQU8sVUFBVSxTQUFTLFNBQVMsTUFBTSxXQUFXO0FBQ2xELGNBQUksV0FBVztBQUNiLGlCQUFLLFNBQVM7QUFDZCxpQkFBSyxZQUFZLE9BQU8sT0FBTyxVQUFVLFdBQVc7QUFBQSxjQUNsRCxhQUFhO0FBQUEsZ0JBQ1gsT0FBTztBQUFBLGdCQUNQLFlBQVk7QUFBQSxnQkFDWixVQUFVO0FBQUEsZ0JBQ1YsY0FBYztBQUFBLGNBQ2hCO0FBQUEsWUFDRixDQUFDO0FBQUEsVUFDSDtBQUFBLFFBQ0Y7QUFBQSxNQUNGLE9BQU87QUFFTCxlQUFPLFVBQVUsU0FBUyxTQUFTLE1BQU0sV0FBVztBQUNsRCxjQUFJLFdBQVc7QUFDYixpQkFBSyxTQUFTO0FBQ2QsZ0JBQUksV0FBVyxXQUFZO0FBQUEsWUFBQztBQUM1QixxQkFBUyxZQUFZLFVBQVU7QUFDL0IsaUJBQUssWUFBWSxJQUFJLFNBQVM7QUFDOUIsaUJBQUssVUFBVSxjQUFjO0FBQUEsVUFDL0I7QUFBQSxRQUNGO0FBQUEsTUFDRjtBQUFBO0FBQUE7OztBQzFCQTtBQUFBO0FBQUE7QUFBQTtBQXFCQSxVQUFJLDRCQUE0QixPQUFPLDZCQUNyQyxTQUFTQywyQkFBMEIsS0FBSztBQUN0QyxZQUFJLE9BQU8sT0FBTyxLQUFLLEdBQUc7QUFDMUIsWUFBSSxjQUFjLENBQUM7QUFDbkIsaUJBQVMsSUFBSSxHQUFHLElBQUksS0FBSyxRQUFRLEtBQUs7QUFDcEMsc0JBQVksS0FBSyxDQUFDLENBQUMsSUFBSSxPQUFPLHlCQUF5QixLQUFLLEtBQUssQ0FBQyxDQUFDO0FBQUEsUUFDckU7QUFDQSxlQUFPO0FBQUEsTUFDVDtBQUVGLFVBQUksZUFBZTtBQUNuQixjQUFRLFNBQVMsU0FBUyxHQUFHO0FBQzNCLFlBQUksQ0FBQyxTQUFTLENBQUMsR0FBRztBQUNoQixjQUFJLFVBQVUsQ0FBQztBQUNmLG1CQUFTLElBQUksR0FBRyxJQUFJLFVBQVUsUUFBUSxLQUFLO0FBQ3pDLG9CQUFRLEtBQUssUUFBUSxVQUFVLENBQUMsQ0FBQyxDQUFDO0FBQUEsVUFDcEM7QUFDQSxpQkFBTyxRQUFRLEtBQUssR0FBRztBQUFBLFFBQ3pCO0FBRUEsWUFBSSxJQUFJO0FBQ1IsWUFBSSxPQUFPO0FBQ1gsWUFBSSxNQUFNLEtBQUs7QUFDZixZQUFJLE1BQU0sT0FBTyxDQUFDLEVBQUUsUUFBUSxjQUFjLFNBQVNDLElBQUc7QUFDcEQsY0FBSUEsT0FBTTtBQUFNLG1CQUFPO0FBQ3ZCLGNBQUksS0FBSztBQUFLLG1CQUFPQTtBQUNyQixrQkFBUUEsSUFBRztBQUFBLFlBQ1QsS0FBSztBQUFNLHFCQUFPLE9BQU8sS0FBSyxHQUFHLENBQUM7QUFBQSxZQUNsQyxLQUFLO0FBQU0scUJBQU8sT0FBTyxLQUFLLEdBQUcsQ0FBQztBQUFBLFlBQ2xDLEtBQUs7QUFDSCxrQkFBSTtBQUNGLHVCQUFPLEtBQUssVUFBVSxLQUFLLEdBQUcsQ0FBQztBQUFBLGNBQ2pDLFNBQVMsR0FBUDtBQUNBLHVCQUFPO0FBQUEsY0FDVDtBQUFBLFlBQ0Y7QUFDRSxxQkFBT0E7QUFBQSxVQUNYO0FBQUEsUUFDRixDQUFDO0FBQ0QsaUJBQVMsSUFBSSxLQUFLLENBQUMsR0FBRyxJQUFJLEtBQUssSUFBSSxLQUFLLEVBQUUsQ0FBQyxHQUFHO0FBQzVDLGNBQUksT0FBTyxDQUFDLEtBQUssQ0FBQyxTQUFTLENBQUMsR0FBRztBQUM3QixtQkFBTyxNQUFNO0FBQUEsVUFDZixPQUFPO0FBQ0wsbUJBQU8sTUFBTSxRQUFRLENBQUM7QUFBQSxVQUN4QjtBQUFBLFFBQ0Y7QUFDQSxlQUFPO0FBQUEsTUFDVDtBQU1BLGNBQVEsWUFBWSxTQUFTLElBQUksS0FBSztBQUNwQyxZQUFJLE9BQU8sWUFBWSxlQUFlLFFBQVEsa0JBQWtCLE1BQU07QUFDcEUsaUJBQU87QUFBQSxRQUNUO0FBR0EsWUFBSSxPQUFPLFlBQVksYUFBYTtBQUNsQyxpQkFBTyxXQUFXO0FBQ2hCLG1CQUFPLFFBQVEsVUFBVSxJQUFJLEdBQUcsRUFBRSxNQUFNLE1BQU0sU0FBUztBQUFBLFVBQ3pEO0FBQUEsUUFDRjtBQUVBLFlBQUksU0FBUztBQUNiLGlCQUFTLGFBQWE7QUFDcEIsY0FBSSxDQUFDLFFBQVE7QUFDWCxnQkFBSSxRQUFRLGtCQUFrQjtBQUM1QixvQkFBTSxJQUFJLE1BQU0sR0FBRztBQUFBLFlBQ3JCLFdBQVcsUUFBUSxrQkFBa0I7QUFDbkMsc0JBQVEsTUFBTSxHQUFHO0FBQUEsWUFDbkIsT0FBTztBQUNMLHNCQUFRLE1BQU0sR0FBRztBQUFBLFlBQ25CO0FBQ0EscUJBQVM7QUFBQSxVQUNYO0FBQ0EsaUJBQU8sR0FBRyxNQUFNLE1BQU0sU0FBUztBQUFBLFFBQ2pDO0FBRUEsZUFBTztBQUFBLE1BQ1Q7QUFHQSxVQUFJLFNBQVMsQ0FBQztBQUNkLFVBQUksZ0JBQWdCO0FBRXBCLFVBQUksUUFBUSxJQUFJLFlBQVk7QUFDdEIsbUJBQVcsUUFBUSxJQUFJO0FBQzNCLG1CQUFXLFNBQVMsUUFBUSxzQkFBc0IsTUFBTSxFQUNyRCxRQUFRLE9BQU8sSUFBSSxFQUNuQixRQUFRLE1BQU0sS0FBSyxFQUNuQixZQUFZO0FBQ2Ysd0JBQWdCLElBQUksT0FBTyxNQUFNLFdBQVcsS0FBSyxHQUFHO0FBQUEsTUFDdEQ7QUFOTTtBQU9OLGNBQVEsV0FBVyxTQUFTLEtBQUs7QUFDL0IsY0FBTSxJQUFJLFlBQVk7QUFDdEIsWUFBSSxDQUFDLE9BQU8sR0FBRyxHQUFHO0FBQ2hCLGNBQUksY0FBYyxLQUFLLEdBQUcsR0FBRztBQUMzQixnQkFBSSxNQUFNLFFBQVE7QUFDbEIsbUJBQU8sR0FBRyxJQUFJLFdBQVc7QUFDdkIsa0JBQUksTUFBTSxRQUFRLE9BQU8sTUFBTSxTQUFTLFNBQVM7QUFDakQsc0JBQVEsTUFBTSxhQUFhLEtBQUssS0FBSyxHQUFHO0FBQUEsWUFDMUM7QUFBQSxVQUNGLE9BQU87QUFDTCxtQkFBTyxHQUFHLElBQUksV0FBVztBQUFBLFlBQUM7QUFBQSxVQUM1QjtBQUFBLFFBQ0Y7QUFDQSxlQUFPLE9BQU8sR0FBRztBQUFBLE1BQ25CO0FBV0EsZUFBUyxRQUFRLEtBQUssTUFBTTtBQUUxQixZQUFJLE1BQU07QUFBQSxVQUNSLE1BQU0sQ0FBQztBQUFBLFVBQ1AsU0FBUztBQUFBLFFBQ1g7QUFFQSxZQUFJLFVBQVUsVUFBVTtBQUFHLGNBQUksUUFBUSxVQUFVLENBQUM7QUFDbEQsWUFBSSxVQUFVLFVBQVU7QUFBRyxjQUFJLFNBQVMsVUFBVSxDQUFDO0FBQ25ELFlBQUksVUFBVSxJQUFJLEdBQUc7QUFFbkIsY0FBSSxhQUFhO0FBQUEsUUFDbkIsV0FBVyxNQUFNO0FBRWYsa0JBQVEsUUFBUSxLQUFLLElBQUk7QUFBQSxRQUMzQjtBQUVBLFlBQUksWUFBWSxJQUFJLFVBQVU7QUFBRyxjQUFJLGFBQWE7QUFDbEQsWUFBSSxZQUFZLElBQUksS0FBSztBQUFHLGNBQUksUUFBUTtBQUN4QyxZQUFJLFlBQVksSUFBSSxNQUFNO0FBQUcsY0FBSSxTQUFTO0FBQzFDLFlBQUksWUFBWSxJQUFJLGFBQWE7QUFBRyxjQUFJLGdCQUFnQjtBQUN4RCxZQUFJLElBQUk7QUFBUSxjQUFJLFVBQVU7QUFDOUIsZUFBTyxZQUFZLEtBQUssS0FBSyxJQUFJLEtBQUs7QUFBQSxNQUN4QztBQUNBLGNBQVEsVUFBVTtBQUlsQixjQUFRLFNBQVM7QUFBQSxRQUNmLFFBQVMsQ0FBQyxHQUFHLEVBQUU7QUFBQSxRQUNmLFVBQVcsQ0FBQyxHQUFHLEVBQUU7QUFBQSxRQUNqQixhQUFjLENBQUMsR0FBRyxFQUFFO0FBQUEsUUFDcEIsV0FBWSxDQUFDLEdBQUcsRUFBRTtBQUFBLFFBQ2xCLFNBQVUsQ0FBQyxJQUFJLEVBQUU7QUFBQSxRQUNqQixRQUFTLENBQUMsSUFBSSxFQUFFO0FBQUEsUUFDaEIsU0FBVSxDQUFDLElBQUksRUFBRTtBQUFBLFFBQ2pCLFFBQVMsQ0FBQyxJQUFJLEVBQUU7QUFBQSxRQUNoQixRQUFTLENBQUMsSUFBSSxFQUFFO0FBQUEsUUFDaEIsU0FBVSxDQUFDLElBQUksRUFBRTtBQUFBLFFBQ2pCLFdBQVksQ0FBQyxJQUFJLEVBQUU7QUFBQSxRQUNuQixPQUFRLENBQUMsSUFBSSxFQUFFO0FBQUEsUUFDZixVQUFXLENBQUMsSUFBSSxFQUFFO0FBQUEsTUFDcEI7QUFHQSxjQUFRLFNBQVM7QUFBQSxRQUNmLFdBQVc7QUFBQSxRQUNYLFVBQVU7QUFBQSxRQUNWLFdBQVc7QUFBQSxRQUNYLGFBQWE7QUFBQSxRQUNiLFFBQVE7QUFBQSxRQUNSLFVBQVU7QUFBQSxRQUNWLFFBQVE7QUFBQTtBQUFBLFFBRVIsVUFBVTtBQUFBLE1BQ1o7QUFHQSxlQUFTLGlCQUFpQixLQUFLLFdBQVc7QUFDeEMsWUFBSSxRQUFRLFFBQVEsT0FBTyxTQUFTO0FBRXBDLFlBQUksT0FBTztBQUNULGlCQUFPLFVBQVksUUFBUSxPQUFPLEtBQUssRUFBRSxDQUFDLElBQUksTUFBTSxNQUM3QyxVQUFZLFFBQVEsT0FBTyxLQUFLLEVBQUUsQ0FBQyxJQUFJO0FBQUEsUUFDaEQsT0FBTztBQUNMLGlCQUFPO0FBQUEsUUFDVDtBQUFBLE1BQ0Y7QUFHQSxlQUFTLGVBQWUsS0FBSyxXQUFXO0FBQ3RDLGVBQU87QUFBQSxNQUNUO0FBR0EsZUFBUyxZQUFZLE9BQU87QUFDMUIsWUFBSSxPQUFPLENBQUM7QUFFWixjQUFNLFFBQVEsU0FBUyxLQUFLLEtBQUs7QUFDL0IsZUFBSyxHQUFHLElBQUk7QUFBQSxRQUNkLENBQUM7QUFFRCxlQUFPO0FBQUEsTUFDVDtBQUdBLGVBQVMsWUFBWSxLQUFLLE9BQU8sY0FBYztBQUc3QyxZQUFJLElBQUksaUJBQ0osU0FDQSxXQUFXLE1BQU0sT0FBTztBQUFBLFFBRXhCLE1BQU0sWUFBWSxRQUFRO0FBQUEsUUFFMUIsRUFBRSxNQUFNLGVBQWUsTUFBTSxZQUFZLGNBQWMsUUFBUTtBQUNqRSxjQUFJLE1BQU0sTUFBTSxRQUFRLGNBQWMsR0FBRztBQUN6QyxjQUFJLENBQUMsU0FBUyxHQUFHLEdBQUc7QUFDbEIsa0JBQU0sWUFBWSxLQUFLLEtBQUssWUFBWTtBQUFBLFVBQzFDO0FBQ0EsaUJBQU87QUFBQSxRQUNUO0FBR0EsWUFBSSxZQUFZLGdCQUFnQixLQUFLLEtBQUs7QUFDMUMsWUFBSSxXQUFXO0FBQ2IsaUJBQU87QUFBQSxRQUNUO0FBR0EsWUFBSSxPQUFPLE9BQU8sS0FBSyxLQUFLO0FBQzVCLFlBQUksY0FBYyxZQUFZLElBQUk7QUFFbEMsWUFBSSxJQUFJLFlBQVk7QUFDbEIsaUJBQU8sT0FBTyxvQkFBb0IsS0FBSztBQUFBLFFBQ3pDO0FBSUEsWUFBSSxRQUFRLEtBQUssTUFDVCxLQUFLLFFBQVEsU0FBUyxLQUFLLEtBQUssS0FBSyxRQUFRLGFBQWEsS0FBSyxJQUFJO0FBQ3pFLGlCQUFPLFlBQVksS0FBSztBQUFBLFFBQzFCO0FBR0EsWUFBSSxLQUFLLFdBQVcsR0FBRztBQUNyQixjQUFJLFdBQVcsS0FBSyxHQUFHO0FBQ3JCLGdCQUFJLE9BQU8sTUFBTSxPQUFPLE9BQU8sTUFBTSxPQUFPO0FBQzVDLG1CQUFPLElBQUksUUFBUSxjQUFjLE9BQU8sS0FBSyxTQUFTO0FBQUEsVUFDeEQ7QUFDQSxjQUFJLFNBQVMsS0FBSyxHQUFHO0FBQ25CLG1CQUFPLElBQUksUUFBUSxPQUFPLFVBQVUsU0FBUyxLQUFLLEtBQUssR0FBRyxRQUFRO0FBQUEsVUFDcEU7QUFDQSxjQUFJLE9BQU8sS0FBSyxHQUFHO0FBQ2pCLG1CQUFPLElBQUksUUFBUSxLQUFLLFVBQVUsU0FBUyxLQUFLLEtBQUssR0FBRyxNQUFNO0FBQUEsVUFDaEU7QUFDQSxjQUFJLFFBQVEsS0FBSyxHQUFHO0FBQ2xCLG1CQUFPLFlBQVksS0FBSztBQUFBLFVBQzFCO0FBQUEsUUFDRjtBQUVBLFlBQUksT0FBTyxJQUFJLFFBQVEsT0FBTyxTQUFTLENBQUMsS0FBSyxHQUFHO0FBR2hELFlBQUksUUFBUSxLQUFLLEdBQUc7QUFDbEIsa0JBQVE7QUFDUixtQkFBUyxDQUFDLEtBQUssR0FBRztBQUFBLFFBQ3BCO0FBR0EsWUFBSSxXQUFXLEtBQUssR0FBRztBQUNyQixjQUFJLElBQUksTUFBTSxPQUFPLE9BQU8sTUFBTSxPQUFPO0FBQ3pDLGlCQUFPLGVBQWUsSUFBSTtBQUFBLFFBQzVCO0FBR0EsWUFBSSxTQUFTLEtBQUssR0FBRztBQUNuQixpQkFBTyxNQUFNLE9BQU8sVUFBVSxTQUFTLEtBQUssS0FBSztBQUFBLFFBQ25EO0FBR0EsWUFBSSxPQUFPLEtBQUssR0FBRztBQUNqQixpQkFBTyxNQUFNLEtBQUssVUFBVSxZQUFZLEtBQUssS0FBSztBQUFBLFFBQ3BEO0FBR0EsWUFBSSxRQUFRLEtBQUssR0FBRztBQUNsQixpQkFBTyxNQUFNLFlBQVksS0FBSztBQUFBLFFBQ2hDO0FBRUEsWUFBSSxLQUFLLFdBQVcsTUFBTSxDQUFDLFNBQVMsTUFBTSxVQUFVLElBQUk7QUFDdEQsaUJBQU8sT0FBTyxDQUFDLElBQUksT0FBTyxPQUFPLENBQUM7QUFBQSxRQUNwQztBQUVBLFlBQUksZUFBZSxHQUFHO0FBQ3BCLGNBQUksU0FBUyxLQUFLLEdBQUc7QUFDbkIsbUJBQU8sSUFBSSxRQUFRLE9BQU8sVUFBVSxTQUFTLEtBQUssS0FBSyxHQUFHLFFBQVE7QUFBQSxVQUNwRSxPQUFPO0FBQ0wsbUJBQU8sSUFBSSxRQUFRLFlBQVksU0FBUztBQUFBLFVBQzFDO0FBQUEsUUFDRjtBQUVBLFlBQUksS0FBSyxLQUFLLEtBQUs7QUFFbkIsWUFBSTtBQUNKLFlBQUksT0FBTztBQUNULG1CQUFTLFlBQVksS0FBSyxPQUFPLGNBQWMsYUFBYSxJQUFJO0FBQUEsUUFDbEUsT0FBTztBQUNMLG1CQUFTLEtBQUssSUFBSSxTQUFTLEtBQUs7QUFDOUIsbUJBQU8sZUFBZSxLQUFLLE9BQU8sY0FBYyxhQUFhLEtBQUssS0FBSztBQUFBLFVBQ3pFLENBQUM7QUFBQSxRQUNIO0FBRUEsWUFBSSxLQUFLLElBQUk7QUFFYixlQUFPLHFCQUFxQixRQUFRLE1BQU0sTUFBTTtBQUFBLE1BQ2xEO0FBR0EsZUFBUyxnQkFBZ0IsS0FBSyxPQUFPO0FBQ25DLFlBQUksWUFBWSxLQUFLO0FBQ25CLGlCQUFPLElBQUksUUFBUSxhQUFhLFdBQVc7QUFDN0MsWUFBSSxTQUFTLEtBQUssR0FBRztBQUNuQixjQUFJLFNBQVMsTUFBTyxLQUFLLFVBQVUsS0FBSyxFQUFFLFFBQVEsVUFBVSxFQUFFLEVBQ3BCLFFBQVEsTUFBTSxLQUFLLEVBQ25CLFFBQVEsUUFBUSxHQUFHLElBQUk7QUFDakUsaUJBQU8sSUFBSSxRQUFRLFFBQVEsUUFBUTtBQUFBLFFBQ3JDO0FBQ0EsWUFBSSxTQUFTLEtBQUs7QUFDaEIsaUJBQU8sSUFBSSxRQUFRLEtBQUssT0FBTyxRQUFRO0FBQ3pDLFlBQUksVUFBVSxLQUFLO0FBQ2pCLGlCQUFPLElBQUksUUFBUSxLQUFLLE9BQU8sU0FBUztBQUUxQyxZQUFJLE9BQU8sS0FBSztBQUNkLGlCQUFPLElBQUksUUFBUSxRQUFRLE1BQU07QUFBQSxNQUNyQztBQUdBLGVBQVMsWUFBWSxPQUFPO0FBQzFCLGVBQU8sTUFBTSxNQUFNLFVBQVUsU0FBUyxLQUFLLEtBQUssSUFBSTtBQUFBLE1BQ3REO0FBR0EsZUFBUyxZQUFZLEtBQUssT0FBTyxjQUFjLGFBQWEsTUFBTTtBQUNoRSxZQUFJLFNBQVMsQ0FBQztBQUNkLGlCQUFTLElBQUksR0FBRyxJQUFJLE1BQU0sUUFBUSxJQUFJLEdBQUcsRUFBRSxHQUFHO0FBQzVDLGNBQUksZUFBZSxPQUFPLE9BQU8sQ0FBQyxDQUFDLEdBQUc7QUFDcEMsbUJBQU8sS0FBSztBQUFBLGNBQWU7QUFBQSxjQUFLO0FBQUEsY0FBTztBQUFBLGNBQWM7QUFBQSxjQUNqRCxPQUFPLENBQUM7QUFBQSxjQUFHO0FBQUEsWUFBSSxDQUFDO0FBQUEsVUFDdEIsT0FBTztBQUNMLG1CQUFPLEtBQUssRUFBRTtBQUFBLFVBQ2hCO0FBQUEsUUFDRjtBQUNBLGFBQUssUUFBUSxTQUFTLEtBQUs7QUFDekIsY0FBSSxDQUFDLElBQUksTUFBTSxPQUFPLEdBQUc7QUFDdkIsbUJBQU8sS0FBSztBQUFBLGNBQWU7QUFBQSxjQUFLO0FBQUEsY0FBTztBQUFBLGNBQWM7QUFBQSxjQUNqRDtBQUFBLGNBQUs7QUFBQSxZQUFJLENBQUM7QUFBQSxVQUNoQjtBQUFBLFFBQ0YsQ0FBQztBQUNELGVBQU87QUFBQSxNQUNUO0FBR0EsZUFBUyxlQUFlLEtBQUssT0FBTyxjQUFjLGFBQWEsS0FBSyxPQUFPO0FBQ3pFLFlBQUksTUFBTSxLQUFLO0FBQ2YsZUFBTyxPQUFPLHlCQUF5QixPQUFPLEdBQUcsS0FBSyxFQUFFLE9BQU8sTUFBTSxHQUFHLEVBQUU7QUFDMUUsWUFBSSxLQUFLLEtBQUs7QUFDWixjQUFJLEtBQUssS0FBSztBQUNaLGtCQUFNLElBQUksUUFBUSxtQkFBbUIsU0FBUztBQUFBLFVBQ2hELE9BQU87QUFDTCxrQkFBTSxJQUFJLFFBQVEsWUFBWSxTQUFTO0FBQUEsVUFDekM7QUFBQSxRQUNGLE9BQU87QUFDTCxjQUFJLEtBQUssS0FBSztBQUNaLGtCQUFNLElBQUksUUFBUSxZQUFZLFNBQVM7QUFBQSxVQUN6QztBQUFBLFFBQ0Y7QUFDQSxZQUFJLENBQUMsZUFBZSxhQUFhLEdBQUcsR0FBRztBQUNyQyxpQkFBTyxNQUFNLE1BQU07QUFBQSxRQUNyQjtBQUNBLFlBQUksQ0FBQyxLQUFLO0FBQ1IsY0FBSSxJQUFJLEtBQUssUUFBUSxLQUFLLEtBQUssSUFBSSxHQUFHO0FBQ3BDLGdCQUFJLE9BQU8sWUFBWSxHQUFHO0FBQ3hCLG9CQUFNLFlBQVksS0FBSyxLQUFLLE9BQU8sSUFBSTtBQUFBLFlBQ3pDLE9BQU87QUFDTCxvQkFBTSxZQUFZLEtBQUssS0FBSyxPQUFPLGVBQWUsQ0FBQztBQUFBLFlBQ3JEO0FBQ0EsZ0JBQUksSUFBSSxRQUFRLElBQUksSUFBSSxJQUFJO0FBQzFCLGtCQUFJLE9BQU87QUFDVCxzQkFBTSxJQUFJLE1BQU0sSUFBSSxFQUFFLElBQUksU0FBUyxNQUFNO0FBQ3ZDLHlCQUFPLE9BQU87QUFBQSxnQkFDaEIsQ0FBQyxFQUFFLEtBQUssSUFBSSxFQUFFLE1BQU0sQ0FBQztBQUFBLGNBQ3ZCLE9BQU87QUFDTCxzQkFBTSxPQUFPLElBQUksTUFBTSxJQUFJLEVBQUUsSUFBSSxTQUFTLE1BQU07QUFDOUMseUJBQU8sUUFBUTtBQUFBLGdCQUNqQixDQUFDLEVBQUUsS0FBSyxJQUFJO0FBQUEsY0FDZDtBQUFBLFlBQ0Y7QUFBQSxVQUNGLE9BQU87QUFDTCxrQkFBTSxJQUFJLFFBQVEsY0FBYyxTQUFTO0FBQUEsVUFDM0M7QUFBQSxRQUNGO0FBQ0EsWUFBSSxZQUFZLElBQUksR0FBRztBQUNyQixjQUFJLFNBQVMsSUFBSSxNQUFNLE9BQU8sR0FBRztBQUMvQixtQkFBTztBQUFBLFVBQ1Q7QUFDQSxpQkFBTyxLQUFLLFVBQVUsS0FBSyxHQUFHO0FBQzlCLGNBQUksS0FBSyxNQUFNLDhCQUE4QixHQUFHO0FBQzlDLG1CQUFPLEtBQUssTUFBTSxHQUFHLEVBQUU7QUFDdkIsbUJBQU8sSUFBSSxRQUFRLE1BQU0sTUFBTTtBQUFBLFVBQ2pDLE9BQU87QUFDTCxtQkFBTyxLQUFLLFFBQVEsTUFBTSxLQUFLLEVBQ25CLFFBQVEsUUFBUSxHQUFHLEVBQ25CLFFBQVEsWUFBWSxHQUFHO0FBQ25DLG1CQUFPLElBQUksUUFBUSxNQUFNLFFBQVE7QUFBQSxVQUNuQztBQUFBLFFBQ0Y7QUFFQSxlQUFPLE9BQU8sT0FBTztBQUFBLE1BQ3ZCO0FBR0EsZUFBUyxxQkFBcUIsUUFBUSxNQUFNLFFBQVE7QUFDbEQsWUFBSSxjQUFjO0FBQ2xCLFlBQUksU0FBUyxPQUFPLE9BQU8sU0FBUyxNQUFNLEtBQUs7QUFDN0M7QUFDQSxjQUFJLElBQUksUUFBUSxJQUFJLEtBQUs7QUFBRztBQUM1QixpQkFBTyxPQUFPLElBQUksUUFBUSxtQkFBbUIsRUFBRSxFQUFFLFNBQVM7QUFBQSxRQUM1RCxHQUFHLENBQUM7QUFFSixZQUFJLFNBQVMsSUFBSTtBQUNmLGlCQUFPLE9BQU8sQ0FBQyxLQUNQLFNBQVMsS0FBSyxLQUFLLE9BQU8sU0FDM0IsTUFDQSxPQUFPLEtBQUssT0FBTyxJQUNuQixNQUNBLE9BQU8sQ0FBQztBQUFBLFFBQ2pCO0FBRUEsZUFBTyxPQUFPLENBQUMsSUFBSSxPQUFPLE1BQU0sT0FBTyxLQUFLLElBQUksSUFBSSxNQUFNLE9BQU8sQ0FBQztBQUFBLE1BQ3BFO0FBS0EsY0FBUSxRQUFRO0FBRWhCLGVBQVMsUUFBUSxJQUFJO0FBQ25CLGVBQU8sTUFBTSxRQUFRLEVBQUU7QUFBQSxNQUN6QjtBQUNBLGNBQVEsVUFBVTtBQUVsQixlQUFTLFVBQVUsS0FBSztBQUN0QixlQUFPLE9BQU8sUUFBUTtBQUFBLE1BQ3hCO0FBQ0EsY0FBUSxZQUFZO0FBRXBCLGVBQVMsT0FBTyxLQUFLO0FBQ25CLGVBQU8sUUFBUTtBQUFBLE1BQ2pCO0FBQ0EsY0FBUSxTQUFTO0FBRWpCLGVBQVMsa0JBQWtCLEtBQUs7QUFDOUIsZUFBTyxPQUFPO0FBQUEsTUFDaEI7QUFDQSxjQUFRLG9CQUFvQjtBQUU1QixlQUFTLFNBQVMsS0FBSztBQUNyQixlQUFPLE9BQU8sUUFBUTtBQUFBLE1BQ3hCO0FBQ0EsY0FBUSxXQUFXO0FBRW5CLGVBQVMsU0FBUyxLQUFLO0FBQ3JCLGVBQU8sT0FBTyxRQUFRO0FBQUEsTUFDeEI7QUFDQSxjQUFRLFdBQVc7QUFFbkIsZUFBUyxTQUFTLEtBQUs7QUFDckIsZUFBTyxPQUFPLFFBQVE7QUFBQSxNQUN4QjtBQUNBLGNBQVEsV0FBVztBQUVuQixlQUFTLFlBQVksS0FBSztBQUN4QixlQUFPLFFBQVE7QUFBQSxNQUNqQjtBQUNBLGNBQVEsY0FBYztBQUV0QixlQUFTLFNBQVMsSUFBSTtBQUNwQixlQUFPLFNBQVMsRUFBRSxLQUFLLGVBQWUsRUFBRSxNQUFNO0FBQUEsTUFDaEQ7QUFDQSxjQUFRLFdBQVc7QUFDbkIsY0FBUSxNQUFNLFdBQVc7QUFFekIsZUFBUyxTQUFTLEtBQUs7QUFDckIsZUFBTyxPQUFPLFFBQVEsWUFBWSxRQUFRO0FBQUEsTUFDNUM7QUFDQSxjQUFRLFdBQVc7QUFFbkIsZUFBUyxPQUFPLEdBQUc7QUFDakIsZUFBTyxTQUFTLENBQUMsS0FBSyxlQUFlLENBQUMsTUFBTTtBQUFBLE1BQzlDO0FBQ0EsY0FBUSxTQUFTO0FBQ2pCLGNBQVEsTUFBTSxTQUFTO0FBRXZCLGVBQVMsUUFBUSxHQUFHO0FBQ2xCLGVBQU8sU0FBUyxDQUFDLE1BQ1osZUFBZSxDQUFDLE1BQU0sb0JBQW9CLGFBQWE7QUFBQSxNQUM5RDtBQUNBLGNBQVEsVUFBVTtBQUNsQixjQUFRLE1BQU0sZ0JBQWdCO0FBRTlCLGVBQVMsV0FBVyxLQUFLO0FBQ3ZCLGVBQU8sT0FBTyxRQUFRO0FBQUEsTUFDeEI7QUFDQSxjQUFRLGFBQWE7QUFFckIsZUFBUyxZQUFZLEtBQUs7QUFDeEIsZUFBTyxRQUFRLFFBQ1IsT0FBTyxRQUFRLGFBQ2YsT0FBTyxRQUFRLFlBQ2YsT0FBTyxRQUFRLFlBQ2YsT0FBTyxRQUFRO0FBQUEsUUFDZixPQUFPLFFBQVE7QUFBQSxNQUN4QjtBQUNBLGNBQVEsY0FBYztBQUV0QixjQUFRLFdBQVc7QUFFbkIsZUFBUyxlQUFlLEdBQUc7QUFDekIsZUFBTyxPQUFPLFVBQVUsU0FBUyxLQUFLLENBQUM7QUFBQSxNQUN6QztBQUdBLGVBQVMsSUFBSSxHQUFHO0FBQ2QsZUFBTyxJQUFJLEtBQUssTUFBTSxFQUFFLFNBQVMsRUFBRSxJQUFJLEVBQUUsU0FBUyxFQUFFO0FBQUEsTUFDdEQ7QUFHQSxVQUFJLFNBQVM7QUFBQSxRQUFDO0FBQUEsUUFBTztBQUFBLFFBQU87QUFBQSxRQUFPO0FBQUEsUUFBTztBQUFBLFFBQU87QUFBQSxRQUFPO0FBQUEsUUFBTztBQUFBLFFBQU87QUFBQSxRQUN4RDtBQUFBLFFBQU87QUFBQSxRQUFPO0FBQUEsTUFBSztBQUdqQyxlQUFTLFlBQVk7QUFDbkIsWUFBSSxJQUFJLElBQUksS0FBSztBQUNqQixZQUFJLE9BQU87QUFBQSxVQUFDLElBQUksRUFBRSxTQUFTLENBQUM7QUFBQSxVQUNoQixJQUFJLEVBQUUsV0FBVyxDQUFDO0FBQUEsVUFDbEIsSUFBSSxFQUFFLFdBQVcsQ0FBQztBQUFBLFFBQUMsRUFBRSxLQUFLLEdBQUc7QUFDekMsZUFBTyxDQUFDLEVBQUUsUUFBUSxHQUFHLE9BQU8sRUFBRSxTQUFTLENBQUMsR0FBRyxJQUFJLEVBQUUsS0FBSyxHQUFHO0FBQUEsTUFDM0Q7QUFJQSxjQUFRLE1BQU0sV0FBVztBQUN2QixnQkFBUSxJQUFJLFdBQVcsVUFBVSxHQUFHLFFBQVEsT0FBTyxNQUFNLFNBQVMsU0FBUyxDQUFDO0FBQUEsTUFDOUU7QUFnQkEsY0FBUSxXQUFXO0FBRW5CLGNBQVEsVUFBVSxTQUFTLFFBQVEsS0FBSztBQUV0QyxZQUFJLENBQUMsT0FBTyxDQUFDLFNBQVMsR0FBRztBQUFHLGlCQUFPO0FBRW5DLFlBQUksT0FBTyxPQUFPLEtBQUssR0FBRztBQUMxQixZQUFJLElBQUksS0FBSztBQUNiLGVBQU8sS0FBSztBQUNWLGlCQUFPLEtBQUssQ0FBQyxDQUFDLElBQUksSUFBSSxLQUFLLENBQUMsQ0FBQztBQUFBLFFBQy9CO0FBQ0EsZUFBTztBQUFBLE1BQ1Q7QUFFQSxlQUFTLGVBQWUsS0FBSyxNQUFNO0FBQ2pDLGVBQU8sT0FBTyxVQUFVLGVBQWUsS0FBSyxLQUFLLElBQUk7QUFBQSxNQUN2RDtBQUVBLFVBQUksMkJBQTJCLE9BQU8sV0FBVyxjQUFjLE9BQU8sdUJBQXVCLElBQUk7QUFFakcsY0FBUSxZQUFZLFNBQVMsVUFBVSxVQUFVO0FBQy9DLFlBQUksT0FBTyxhQUFhO0FBQ3RCLGdCQUFNLElBQUksVUFBVSxrREFBa0Q7QUFFeEUsWUFBSSw0QkFBNEIsU0FBUyx3QkFBd0IsR0FBRztBQUNsRSxjQUFJLEtBQUssU0FBUyx3QkFBd0I7QUFDMUMsY0FBSSxPQUFPLE9BQU8sWUFBWTtBQUM1QixrQkFBTSxJQUFJLFVBQVUsK0RBQStEO0FBQUEsVUFDckY7QUFDQSxpQkFBTyxlQUFlLElBQUksMEJBQTBCO0FBQUEsWUFDbEQsT0FBTztBQUFBLFlBQUksWUFBWTtBQUFBLFlBQU8sVUFBVTtBQUFBLFlBQU8sY0FBYztBQUFBLFVBQy9ELENBQUM7QUFDRCxpQkFBTztBQUFBLFFBQ1Q7QUFFQSxpQkFBUyxLQUFLO0FBQ1osY0FBSSxnQkFBZ0I7QUFDcEIsY0FBSSxVQUFVLElBQUksUUFBUSxTQUFVLFNBQVMsUUFBUTtBQUNuRCw2QkFBaUI7QUFDakIsNEJBQWdCO0FBQUEsVUFDbEIsQ0FBQztBQUVELGNBQUksT0FBTyxDQUFDO0FBQ1osbUJBQVMsSUFBSSxHQUFHLElBQUksVUFBVSxRQUFRLEtBQUs7QUFDekMsaUJBQUssS0FBSyxVQUFVLENBQUMsQ0FBQztBQUFBLFVBQ3hCO0FBQ0EsZUFBSyxLQUFLLFNBQVVDLE1BQUssT0FBTztBQUM5QixnQkFBSUEsTUFBSztBQUNQLDRCQUFjQSxJQUFHO0FBQUEsWUFDbkIsT0FBTztBQUNMLDZCQUFlLEtBQUs7QUFBQSxZQUN0QjtBQUFBLFVBQ0YsQ0FBQztBQUVELGNBQUk7QUFDRixxQkFBUyxNQUFNLE1BQU0sSUFBSTtBQUFBLFVBQzNCLFNBQVNBLE1BQVA7QUFDQSwwQkFBY0EsSUFBRztBQUFBLFVBQ25CO0FBRUEsaUJBQU87QUFBQSxRQUNUO0FBRUEsZUFBTyxlQUFlLElBQUksT0FBTyxlQUFlLFFBQVEsQ0FBQztBQUV6RCxZQUFJO0FBQTBCLGlCQUFPLGVBQWUsSUFBSSwwQkFBMEI7QUFBQSxZQUNoRixPQUFPO0FBQUEsWUFBSSxZQUFZO0FBQUEsWUFBTyxVQUFVO0FBQUEsWUFBTyxjQUFjO0FBQUEsVUFDL0QsQ0FBQztBQUNELGVBQU8sT0FBTztBQUFBLFVBQ1o7QUFBQSxVQUNBLDBCQUEwQixRQUFRO0FBQUEsUUFDcEM7QUFBQSxNQUNGO0FBRUEsY0FBUSxVQUFVLFNBQVM7QUFFM0IsZUFBUyxzQkFBc0IsUUFBUSxJQUFJO0FBS3pDLFlBQUksQ0FBQyxRQUFRO0FBQ1gsY0FBSSxZQUFZLElBQUksTUFBTSx5Q0FBeUM7QUFDbkUsb0JBQVUsU0FBUztBQUNuQixtQkFBUztBQUFBLFFBQ1g7QUFDQSxlQUFPLEdBQUcsTUFBTTtBQUFBLE1BQ2xCO0FBRUEsZUFBUyxZQUFZLFVBQVU7QUFDN0IsWUFBSSxPQUFPLGFBQWEsWUFBWTtBQUNsQyxnQkFBTSxJQUFJLFVBQVUsa0RBQWtEO0FBQUEsUUFDeEU7QUFLQSxpQkFBUyxnQkFBZ0I7QUFDdkIsY0FBSSxPQUFPLENBQUM7QUFDWixtQkFBUyxJQUFJLEdBQUcsSUFBSSxVQUFVLFFBQVEsS0FBSztBQUN6QyxpQkFBSyxLQUFLLFVBQVUsQ0FBQyxDQUFDO0FBQUEsVUFDeEI7QUFFQSxjQUFJLFVBQVUsS0FBSyxJQUFJO0FBQ3ZCLGNBQUksT0FBTyxZQUFZLFlBQVk7QUFDakMsa0JBQU0sSUFBSSxVQUFVLDRDQUE0QztBQUFBLFVBQ2xFO0FBQ0EsY0FBSUMsUUFBTztBQUNYLGNBQUksS0FBSyxXQUFXO0FBQ2xCLG1CQUFPLFFBQVEsTUFBTUEsT0FBTSxTQUFTO0FBQUEsVUFDdEM7QUFHQSxtQkFBUyxNQUFNLE1BQU0sSUFBSSxFQUN0QjtBQUFBLFlBQUssU0FBUyxLQUFLO0FBQUUsc0JBQVEsU0FBUyxHQUFHLEtBQUssTUFBTSxNQUFNLEdBQUcsQ0FBQztBQUFBLFlBQUU7QUFBQSxZQUMzRCxTQUFTLEtBQUs7QUFBRSxzQkFBUSxTQUFTLHNCQUFzQixLQUFLLE1BQU0sS0FBSyxFQUFFLENBQUM7QUFBQSxZQUFFO0FBQUEsVUFBQztBQUFBLFFBQ3ZGO0FBRUEsZUFBTyxlQUFlLGVBQWUsT0FBTyxlQUFlLFFBQVEsQ0FBQztBQUNwRSxlQUFPO0FBQUEsVUFBaUI7QUFBQSxVQUNBLDBCQUEwQixRQUFRO0FBQUEsUUFBQztBQUMzRCxlQUFPO0FBQUEsTUFDVDtBQUNBLGNBQVEsY0FBYztBQUFBO0FBQUE7OztBQzFzQnRCO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFjQSxlQUFTLFFBQVEsR0FBRztBQUFFO0FBQTJCLGVBQU8sVUFBVSxjQUFjLE9BQU8sVUFBVSxZQUFZLE9BQU8sT0FBTyxXQUFXLFNBQVVDLElBQUc7QUFBRSxpQkFBTyxPQUFPQTtBQUFBLFFBQUcsSUFBSSxTQUFVQSxJQUFHO0FBQUUsaUJBQU9BLE1BQUssY0FBYyxPQUFPLFVBQVVBLEdBQUUsZ0JBQWdCLFVBQVVBLE9BQU0sT0FBTyxZQUFZLFdBQVcsT0FBT0E7QUFBQSxRQUFHLEdBQUcsUUFBUSxDQUFDO0FBQUEsTUFBRztBQUM3VCxlQUFTLGtCQUFrQixRQUFRLE9BQU87QUFBRSxpQkFBUyxJQUFJLEdBQUcsSUFBSSxNQUFNLFFBQVEsS0FBSztBQUFFLGNBQUksYUFBYSxNQUFNLENBQUM7QUFBRyxxQkFBVyxhQUFhLFdBQVcsY0FBYztBQUFPLHFCQUFXLGVBQWU7QUFBTSxjQUFJLFdBQVc7QUFBWSx1QkFBVyxXQUFXO0FBQU0saUJBQU8sZUFBZSxRQUFRLGVBQWUsV0FBVyxHQUFHLEdBQUcsVUFBVTtBQUFBLFFBQUc7QUFBQSxNQUFFO0FBQzVVLGVBQVMsYUFBYSxhQUFhLFlBQVksYUFBYTtBQUFFLFlBQUk7QUFBWSw0QkFBa0IsWUFBWSxXQUFXLFVBQVU7QUFBRyxZQUFJO0FBQWEsNEJBQWtCLGFBQWEsV0FBVztBQUFHLGVBQU8sZUFBZSxhQUFhLGFBQWEsRUFBRSxVQUFVLE1BQU0sQ0FBQztBQUFHLGVBQU87QUFBQSxNQUFhO0FBQzVSLGVBQVMsZUFBZSxLQUFLO0FBQUUsWUFBSSxNQUFNLGFBQWEsS0FBSyxRQUFRO0FBQUcsZUFBTyxRQUFRLEdBQUcsTUFBTSxXQUFXLE1BQU0sT0FBTyxHQUFHO0FBQUEsTUFBRztBQUM1SCxlQUFTLGFBQWEsT0FBTyxNQUFNO0FBQUUsWUFBSSxRQUFRLEtBQUssTUFBTSxZQUFZLFVBQVU7QUFBTSxpQkFBTztBQUFPLFlBQUksT0FBTyxNQUFNLE9BQU8sV0FBVztBQUFHLFlBQUksU0FBUyxRQUFXO0FBQUUsY0FBSSxNQUFNLEtBQUssS0FBSyxPQUFPLFFBQVEsU0FBUztBQUFHLGNBQUksUUFBUSxHQUFHLE1BQU07QUFBVSxtQkFBTztBQUFLLGdCQUFNLElBQUksVUFBVSw4Q0FBOEM7QUFBQSxRQUFHO0FBQUUsZ0JBQVEsU0FBUyxXQUFXLFNBQVMsUUFBUSxLQUFLO0FBQUEsTUFBRztBQUM1WCxlQUFTLGdCQUFnQixVQUFVLGFBQWE7QUFBRSxZQUFJLEVBQUUsb0JBQW9CLGNBQWM7QUFBRSxnQkFBTSxJQUFJLFVBQVUsbUNBQW1DO0FBQUEsUUFBRztBQUFBLE1BQUU7QUFDeEosZUFBUyxVQUFVLFVBQVUsWUFBWTtBQUFFLFlBQUksT0FBTyxlQUFlLGNBQWMsZUFBZSxNQUFNO0FBQUUsZ0JBQU0sSUFBSSxVQUFVLG9EQUFvRDtBQUFBLFFBQUc7QUFBRSxpQkFBUyxZQUFZLE9BQU8sT0FBTyxjQUFjLFdBQVcsV0FBVyxFQUFFLGFBQWEsRUFBRSxPQUFPLFVBQVUsVUFBVSxNQUFNLGNBQWMsS0FBSyxFQUFFLENBQUM7QUFBRyxlQUFPLGVBQWUsVUFBVSxhQUFhLEVBQUUsVUFBVSxNQUFNLENBQUM7QUFBRyxZQUFJO0FBQVksMEJBQWdCLFVBQVUsVUFBVTtBQUFBLE1BQUc7QUFDbmMsZUFBUyxnQkFBZ0IsR0FBRyxHQUFHO0FBQUUsMEJBQWtCLE9BQU8saUJBQWlCLE9BQU8sZUFBZSxLQUFLLElBQUksU0FBU0MsaUJBQWdCRCxJQUFHRSxJQUFHO0FBQUUsVUFBQUYsR0FBRSxZQUFZRTtBQUFHLGlCQUFPRjtBQUFBLFFBQUc7QUFBRyxlQUFPLGdCQUFnQixHQUFHLENBQUM7QUFBQSxNQUFHO0FBQ3ZNLGVBQVMsYUFBYSxTQUFTO0FBQUUsWUFBSSw0QkFBNEIsMEJBQTBCO0FBQUcsZUFBTyxTQUFTLHVCQUF1QjtBQUFFLGNBQUksUUFBUSxnQkFBZ0IsT0FBTyxHQUFHO0FBQVEsY0FBSSwyQkFBMkI7QUFBRSxnQkFBSSxZQUFZLGdCQUFnQixJQUFJLEVBQUU7QUFBYSxxQkFBUyxRQUFRLFVBQVUsT0FBTyxXQUFXLFNBQVM7QUFBQSxVQUFHLE9BQU87QUFBRSxxQkFBUyxNQUFNLE1BQU0sTUFBTSxTQUFTO0FBQUEsVUFBRztBQUFFLGlCQUFPLDJCQUEyQixNQUFNLE1BQU07QUFBQSxRQUFHO0FBQUEsTUFBRztBQUN4YSxlQUFTLDJCQUEyQkcsT0FBTSxNQUFNO0FBQUUsWUFBSSxTQUFTLFFBQVEsSUFBSSxNQUFNLFlBQVksT0FBTyxTQUFTLGFBQWE7QUFBRSxpQkFBTztBQUFBLFFBQU0sV0FBVyxTQUFTLFFBQVE7QUFBRSxnQkFBTSxJQUFJLFVBQVUsMERBQTBEO0FBQUEsUUFBRztBQUFFLGVBQU8sdUJBQXVCQSxLQUFJO0FBQUEsTUFBRztBQUMvUixlQUFTLHVCQUF1QkEsT0FBTTtBQUFFLFlBQUlBLFVBQVMsUUFBUTtBQUFFLGdCQUFNLElBQUksZUFBZSwyREFBMkQ7QUFBQSxRQUFHO0FBQUUsZUFBT0E7QUFBQSxNQUFNO0FBQ3JLLGVBQVMsNEJBQTRCO0FBQUUsWUFBSSxPQUFPLFlBQVksZUFBZSxDQUFDLFFBQVE7QUFBVyxpQkFBTztBQUFPLFlBQUksUUFBUSxVQUFVO0FBQU0saUJBQU87QUFBTyxZQUFJLE9BQU8sVUFBVTtBQUFZLGlCQUFPO0FBQU0sWUFBSTtBQUFFLGtCQUFRLFVBQVUsUUFBUSxLQUFLLFFBQVEsVUFBVSxTQUFTLENBQUMsR0FBRyxXQUFZO0FBQUEsVUFBQyxDQUFDLENBQUM7QUFBRyxpQkFBTztBQUFBLFFBQU0sU0FBUyxHQUFQO0FBQVksaUJBQU87QUFBQSxRQUFPO0FBQUEsTUFBRTtBQUN4VSxlQUFTLGdCQUFnQixHQUFHO0FBQUUsMEJBQWtCLE9BQU8saUJBQWlCLE9BQU8sZUFBZSxLQUFLLElBQUksU0FBU0MsaUJBQWdCSixJQUFHO0FBQUUsaUJBQU9BLEdBQUUsYUFBYSxPQUFPLGVBQWVBLEVBQUM7QUFBQSxRQUFHO0FBQUcsZUFBTyxnQkFBZ0IsQ0FBQztBQUFBLE1BQUc7QUFDbk4sVUFBSSxRQUFRLENBQUM7QUFHYixVQUFJSztBQUNKLFVBQUk7QUFDSixlQUFTLGdCQUFnQixNQUFNLFNBQVMsTUFBTTtBQUM1QyxZQUFJLENBQUMsTUFBTTtBQUNULGlCQUFPO0FBQUEsUUFDVDtBQUNBLGlCQUFTLFdBQVcsTUFBTSxNQUFNLE1BQU07QUFDcEMsY0FBSSxPQUFPLFlBQVksVUFBVTtBQUMvQixtQkFBTztBQUFBLFVBQ1QsT0FBTztBQUNMLG1CQUFPLFFBQVEsTUFBTSxNQUFNLElBQUk7QUFBQSxVQUNqQztBQUFBLFFBQ0Y7QUFDQSxZQUFJLFlBQXlCLHlCQUFVLE9BQU87QUFDNUMsb0JBQVVDLFlBQVcsS0FBSztBQUMxQixjQUFJLFNBQVMsYUFBYUEsVUFBUztBQUNuQyxtQkFBU0EsV0FBVSxNQUFNLE1BQU0sTUFBTTtBQUNuQyxnQkFBSTtBQUNKLDRCQUFnQixNQUFNQSxVQUFTO0FBQy9CLG9CQUFRLE9BQU8sS0FBSyxNQUFNLFdBQVcsTUFBTSxNQUFNLElBQUksQ0FBQztBQUN0RCxrQkFBTSxPQUFPO0FBQ2IsbUJBQU87QUFBQSxVQUNUO0FBQ0EsaUJBQU8sYUFBYUEsVUFBUztBQUFBLFFBQy9CLEVBQUUsSUFBSTtBQUNOLGNBQU0sSUFBSSxJQUFJO0FBQUEsTUFDaEI7QUFHQSxlQUFTLE1BQU0sVUFBVSxPQUFPO0FBQzlCLFlBQUksTUFBTSxRQUFRLFFBQVEsR0FBRztBQUMzQixjQUFJLE1BQU0sU0FBUztBQUNuQixxQkFBVyxTQUFTLElBQUksU0FBVSxHQUFHO0FBQ25DLG1CQUFPLE9BQU8sQ0FBQztBQUFBLFVBQ2pCLENBQUM7QUFDRCxjQUFJLE1BQU0sR0FBRztBQUNYLG1CQUFPLFVBQVUsT0FBTyxPQUFPLEdBQUcsRUFBRSxPQUFPLFNBQVMsTUFBTSxHQUFHLE1BQU0sQ0FBQyxFQUFFLEtBQUssSUFBSSxHQUFHLE9BQU8sSUFBSSxTQUFTLE1BQU0sQ0FBQztBQUFBLFVBQy9HLFdBQVcsUUFBUSxHQUFHO0FBQ3BCLG1CQUFPLFVBQVUsT0FBTyxPQUFPLEdBQUcsRUFBRSxPQUFPLFNBQVMsQ0FBQyxHQUFHLE1BQU0sRUFBRSxPQUFPLFNBQVMsQ0FBQyxDQUFDO0FBQUEsVUFDcEYsT0FBTztBQUNMLG1CQUFPLE1BQU0sT0FBTyxPQUFPLEdBQUcsRUFBRSxPQUFPLFNBQVMsQ0FBQyxDQUFDO0FBQUEsVUFDcEQ7QUFBQSxRQUNGLE9BQU87QUFDTCxpQkFBTyxNQUFNLE9BQU8sT0FBTyxHQUFHLEVBQUUsT0FBTyxPQUFPLFFBQVEsQ0FBQztBQUFBLFFBQ3pEO0FBQUEsTUFDRjtBQUdBLGVBQVMsV0FBVyxLQUFLLFFBQVEsS0FBSztBQUNwQyxlQUFPLElBQUksT0FBTyxDQUFDLE9BQU8sTUFBTSxJQUFJLElBQUksQ0FBQyxLQUFLLE9BQU8sTUFBTSxNQUFNO0FBQUEsTUFDbkU7QUFHQSxlQUFTLFNBQVMsS0FBSyxRQUFRLFVBQVU7QUFDdkMsWUFBSSxhQUFhLFVBQWEsV0FBVyxJQUFJLFFBQVE7QUFDbkQscUJBQVcsSUFBSTtBQUFBLFFBQ2pCO0FBQ0EsZUFBTyxJQUFJLFVBQVUsV0FBVyxPQUFPLFFBQVEsUUFBUSxNQUFNO0FBQUEsTUFDL0Q7QUFHQSxlQUFTLFNBQVMsS0FBSyxRQUFRLE9BQU87QUFDcEMsWUFBSSxPQUFPLFVBQVUsVUFBVTtBQUM3QixrQkFBUTtBQUFBLFFBQ1Y7QUFDQSxZQUFJLFFBQVEsT0FBTyxTQUFTLElBQUksUUFBUTtBQUN0QyxpQkFBTztBQUFBLFFBQ1QsT0FBTztBQUNMLGlCQUFPLElBQUksUUFBUSxRQUFRLEtBQUssTUFBTTtBQUFBLFFBQ3hDO0FBQUEsTUFDRjtBQUNBLHNCQUFnQiwwQkFBMEIsc0NBQXNDLFNBQVM7QUFDekYsc0JBQWdCLHdCQUF3QixTQUFVLE1BQU0sVUFBVSxRQUFRO0FBQ3hFLFlBQUlELFlBQVc7QUFBVyxVQUFBQSxVQUFTO0FBQ25DLFFBQUFBLFFBQU8sT0FBTyxTQUFTLFVBQVUseUJBQXlCO0FBRzFELFlBQUk7QUFDSixZQUFJLE9BQU8sYUFBYSxZQUFZLFdBQVcsVUFBVSxNQUFNLEdBQUc7QUFDaEUsdUJBQWE7QUFDYixxQkFBVyxTQUFTLFFBQVEsU0FBUyxFQUFFO0FBQUEsUUFDekMsT0FBTztBQUNMLHVCQUFhO0FBQUEsUUFDZjtBQUNBLFlBQUk7QUFDSixZQUFJLFNBQVMsTUFBTSxXQUFXLEdBQUc7QUFFL0IsZ0JBQU0sT0FBTyxPQUFPLE1BQU0sR0FBRyxFQUFFLE9BQU8sWUFBWSxHQUFHLEVBQUUsT0FBTyxNQUFNLFVBQVUsTUFBTSxDQUFDO0FBQUEsUUFDdkYsT0FBTztBQUNMLGNBQUksT0FBTyxTQUFTLE1BQU0sR0FBRyxJQUFJLGFBQWE7QUFDOUMsZ0JBQU0sUUFBUyxPQUFPLE1BQU0sSUFBSyxFQUFFLE9BQU8sTUFBTSxHQUFHLEVBQUUsT0FBTyxZQUFZLEdBQUcsRUFBRSxPQUFPLE1BQU0sVUFBVSxNQUFNLENBQUM7QUFBQSxRQUM3RztBQUdBLGVBQU8sbUJBQW1CLE9BQU8sUUFBUSxNQUFNLENBQUM7QUFDaEQsZUFBTztBQUFBLE1BQ1QsR0FBRyxTQUFTO0FBQ1osc0JBQWdCLHlCQUF5QixTQUFVLE1BQU0sT0FBTztBQUM5RCxZQUFJLFNBQVMsVUFBVSxTQUFTLEtBQUssVUFBVSxDQUFDLE1BQU0sU0FBWSxVQUFVLENBQUMsSUFBSTtBQUNqRixZQUFJLFNBQVM7QUFBVyxpQkFBTztBQUMvQixZQUFJLFlBQVksS0FBSyxRQUFRLEtBQUs7QUFDbEMsWUFBSSxVQUFVLFNBQVMsS0FBSztBQUMxQixzQkFBWSxHQUFHLE9BQU8sVUFBVSxNQUFNLEdBQUcsR0FBRyxHQUFHLEtBQUs7QUFBQSxRQUN0RDtBQUNBLGVBQU8saUJBQWlCLE9BQU8sTUFBTSxJQUFJLEVBQUUsT0FBTyxRQUFRLGFBQWEsRUFBRSxPQUFPLFNBQVM7QUFBQSxNQUMzRixHQUFHLFdBQVcsVUFBVTtBQUN4QixzQkFBZ0IsNEJBQTRCLFNBQVUsT0FBTyxNQUFNLE9BQU87QUFDeEUsWUFBSTtBQUNKLFlBQUksU0FBUyxNQUFNLGVBQWUsTUFBTSxZQUFZLE1BQU07QUFDeEQsaUJBQU8sZUFBZSxPQUFPLE1BQU0sWUFBWSxJQUFJO0FBQUEsUUFDckQsT0FBTztBQUNMLGlCQUFPLFFBQVEsT0FBTyxRQUFRLEtBQUssQ0FBQztBQUFBLFFBQ3RDO0FBQ0EsZUFBTyxZQUFZLE9BQU8sT0FBTyw0QkFBNkIsRUFBRSxPQUFPLE1BQU0sR0FBSSxJQUFJLHFCQUFxQixPQUFPLE1BQU0sR0FBRztBQUFBLE1BQzVILEdBQUcsU0FBUztBQUNaLHNCQUFnQixvQkFBb0IsV0FBWTtBQUM5QyxpQkFBUyxPQUFPLFVBQVUsUUFBUSxPQUFPLElBQUksTUFBTSxJQUFJLEdBQUcsT0FBTyxHQUFHLE9BQU8sTUFBTSxRQUFRO0FBQ3ZGLGVBQUssSUFBSSxJQUFJLFVBQVUsSUFBSTtBQUFBLFFBQzdCO0FBQ0EsWUFBSUEsWUFBVztBQUFXLFVBQUFBLFVBQVM7QUFDbkMsUUFBQUEsUUFBTyxLQUFLLFNBQVMsR0FBRyx3Q0FBd0M7QUFDaEUsWUFBSSxNQUFNO0FBQ1YsWUFBSSxNQUFNLEtBQUs7QUFDZixlQUFPLEtBQUssSUFBSSxTQUFVLEdBQUc7QUFDM0IsaUJBQU8sSUFBSyxPQUFPLEdBQUcsR0FBSTtBQUFBLFFBQzVCLENBQUM7QUFDRCxnQkFBUSxLQUFLO0FBQUEsVUFDWCxLQUFLO0FBQ0gsbUJBQU8sR0FBRyxPQUFPLEtBQUssQ0FBQyxHQUFHLFdBQVc7QUFDckM7QUFBQSxVQUNGLEtBQUs7QUFDSCxtQkFBTyxHQUFHLE9BQU8sS0FBSyxDQUFDLEdBQUcsT0FBTyxFQUFFLE9BQU8sS0FBSyxDQUFDLEdBQUcsWUFBWTtBQUMvRDtBQUFBLFVBQ0Y7QUFDRSxtQkFBTyxLQUFLLE1BQU0sR0FBRyxNQUFNLENBQUMsRUFBRSxLQUFLLElBQUk7QUFDdkMsbUJBQU8sU0FBUyxPQUFPLEtBQUssTUFBTSxDQUFDLEdBQUcsWUFBWTtBQUNsRDtBQUFBLFFBQ0o7QUFDQSxlQUFPLEdBQUcsT0FBTyxLQUFLLG9CQUFvQjtBQUFBLE1BQzVDLEdBQUcsU0FBUztBQUNaLGFBQU8sUUFBUSxRQUFRO0FBQUE7QUFBQTs7O0FDMUt2QjtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBS0EsZUFBUyxRQUFRLEdBQUcsR0FBRztBQUFFLFlBQUksSUFBSSxPQUFPLEtBQUssQ0FBQztBQUFHLFlBQUksT0FBTyx1QkFBdUI7QUFBRSxjQUFJLElBQUksT0FBTyxzQkFBc0IsQ0FBQztBQUFHLGdCQUFNLElBQUksRUFBRSxPQUFPLFNBQVVFLElBQUc7QUFBRSxtQkFBTyxPQUFPLHlCQUF5QixHQUFHQSxFQUFDLEVBQUU7QUFBQSxVQUFZLENBQUMsSUFBSSxFQUFFLEtBQUssTUFBTSxHQUFHLENBQUM7QUFBQSxRQUFHO0FBQUUsZUFBTztBQUFBLE1BQUc7QUFDOVAsZUFBUyxjQUFjLEdBQUc7QUFBRSxpQkFBUyxJQUFJLEdBQUcsSUFBSSxVQUFVLFFBQVEsS0FBSztBQUFFLGNBQUksSUFBSSxRQUFRLFVBQVUsQ0FBQyxJQUFJLFVBQVUsQ0FBQyxJQUFJLENBQUM7QUFBRyxjQUFJLElBQUksUUFBUSxPQUFPLENBQUMsR0FBRyxJQUFFLEVBQUUsUUFBUSxTQUFVQSxJQUFHO0FBQUUsNEJBQWdCLEdBQUdBLElBQUcsRUFBRUEsRUFBQyxDQUFDO0FBQUEsVUFBRyxDQUFDLElBQUksT0FBTyw0QkFBNEIsT0FBTyxpQkFBaUIsR0FBRyxPQUFPLDBCQUEwQixDQUFDLENBQUMsSUFBSSxRQUFRLE9BQU8sQ0FBQyxDQUFDLEVBQUUsUUFBUSxTQUFVQSxJQUFHO0FBQUUsbUJBQU8sZUFBZSxHQUFHQSxJQUFHLE9BQU8seUJBQXlCLEdBQUdBLEVBQUMsQ0FBQztBQUFBLFVBQUcsQ0FBQztBQUFBLFFBQUc7QUFBRSxlQUFPO0FBQUEsTUFBRztBQUN0YixlQUFTLGdCQUFnQixLQUFLLEtBQUssT0FBTztBQUFFLGNBQU0sZUFBZSxHQUFHO0FBQUcsWUFBSSxPQUFPLEtBQUs7QUFBRSxpQkFBTyxlQUFlLEtBQUssS0FBSyxFQUFFLE9BQWMsWUFBWSxNQUFNLGNBQWMsTUFBTSxVQUFVLEtBQUssQ0FBQztBQUFBLFFBQUcsT0FBTztBQUFFLGNBQUksR0FBRyxJQUFJO0FBQUEsUUFBTztBQUFFLGVBQU87QUFBQSxNQUFLO0FBQzNPLGVBQVMsZ0JBQWdCLFVBQVUsYUFBYTtBQUFFLFlBQUksRUFBRSxvQkFBb0IsY0FBYztBQUFFLGdCQUFNLElBQUksVUFBVSxtQ0FBbUM7QUFBQSxRQUFHO0FBQUEsTUFBRTtBQUN4SixlQUFTLGtCQUFrQixRQUFRLE9BQU87QUFBRSxpQkFBUyxJQUFJLEdBQUcsSUFBSSxNQUFNLFFBQVEsS0FBSztBQUFFLGNBQUksYUFBYSxNQUFNLENBQUM7QUFBRyxxQkFBVyxhQUFhLFdBQVcsY0FBYztBQUFPLHFCQUFXLGVBQWU7QUFBTSxjQUFJLFdBQVc7QUFBWSx1QkFBVyxXQUFXO0FBQU0saUJBQU8sZUFBZSxRQUFRLGVBQWUsV0FBVyxHQUFHLEdBQUcsVUFBVTtBQUFBLFFBQUc7QUFBQSxNQUFFO0FBQzVVLGVBQVMsYUFBYSxhQUFhLFlBQVksYUFBYTtBQUFFLFlBQUk7QUFBWSw0QkFBa0IsWUFBWSxXQUFXLFVBQVU7QUFBRyxZQUFJO0FBQWEsNEJBQWtCLGFBQWEsV0FBVztBQUFHLGVBQU8sZUFBZSxhQUFhLGFBQWEsRUFBRSxVQUFVLE1BQU0sQ0FBQztBQUFHLGVBQU87QUFBQSxNQUFhO0FBQzVSLGVBQVMsZUFBZSxLQUFLO0FBQUUsWUFBSSxNQUFNLGFBQWEsS0FBSyxRQUFRO0FBQUcsZUFBTyxRQUFRLEdBQUcsTUFBTSxXQUFXLE1BQU0sT0FBTyxHQUFHO0FBQUEsTUFBRztBQUM1SCxlQUFTLGFBQWEsT0FBTyxNQUFNO0FBQUUsWUFBSSxRQUFRLEtBQUssTUFBTSxZQUFZLFVBQVU7QUFBTSxpQkFBTztBQUFPLFlBQUksT0FBTyxNQUFNLE9BQU8sV0FBVztBQUFHLFlBQUksU0FBUyxRQUFXO0FBQUUsY0FBSSxNQUFNLEtBQUssS0FBSyxPQUFPLFFBQVEsU0FBUztBQUFHLGNBQUksUUFBUSxHQUFHLE1BQU07QUFBVSxtQkFBTztBQUFLLGdCQUFNLElBQUksVUFBVSw4Q0FBOEM7QUFBQSxRQUFHO0FBQUUsZ0JBQVEsU0FBUyxXQUFXLFNBQVMsUUFBUSxLQUFLO0FBQUEsTUFBRztBQUM1WCxlQUFTLFVBQVUsVUFBVSxZQUFZO0FBQUUsWUFBSSxPQUFPLGVBQWUsY0FBYyxlQUFlLE1BQU07QUFBRSxnQkFBTSxJQUFJLFVBQVUsb0RBQW9EO0FBQUEsUUFBRztBQUFFLGlCQUFTLFlBQVksT0FBTyxPQUFPLGNBQWMsV0FBVyxXQUFXLEVBQUUsYUFBYSxFQUFFLE9BQU8sVUFBVSxVQUFVLE1BQU0sY0FBYyxLQUFLLEVBQUUsQ0FBQztBQUFHLGVBQU8sZUFBZSxVQUFVLGFBQWEsRUFBRSxVQUFVLE1BQU0sQ0FBQztBQUFHLFlBQUk7QUFBWSwwQkFBZ0IsVUFBVSxVQUFVO0FBQUEsTUFBRztBQUNuYyxlQUFTLGFBQWEsU0FBUztBQUFFLFlBQUksNEJBQTRCLDBCQUEwQjtBQUFHLGVBQU8sU0FBUyx1QkFBdUI7QUFBRSxjQUFJLFFBQVEsZ0JBQWdCLE9BQU8sR0FBRztBQUFRLGNBQUksMkJBQTJCO0FBQUUsZ0JBQUksWUFBWSxnQkFBZ0IsSUFBSSxFQUFFO0FBQWEscUJBQVMsUUFBUSxVQUFVLE9BQU8sV0FBVyxTQUFTO0FBQUEsVUFBRyxPQUFPO0FBQUUscUJBQVMsTUFBTSxNQUFNLE1BQU0sU0FBUztBQUFBLFVBQUc7QUFBRSxpQkFBTywyQkFBMkIsTUFBTSxNQUFNO0FBQUEsUUFBRztBQUFBLE1BQUc7QUFDeGEsZUFBUywyQkFBMkJDLE9BQU0sTUFBTTtBQUFFLFlBQUksU0FBUyxRQUFRLElBQUksTUFBTSxZQUFZLE9BQU8sU0FBUyxhQUFhO0FBQUUsaUJBQU87QUFBQSxRQUFNLFdBQVcsU0FBUyxRQUFRO0FBQUUsZ0JBQU0sSUFBSSxVQUFVLDBEQUEwRDtBQUFBLFFBQUc7QUFBRSxlQUFPLHVCQUF1QkEsS0FBSTtBQUFBLE1BQUc7QUFDL1IsZUFBUyx1QkFBdUJBLE9BQU07QUFBRSxZQUFJQSxVQUFTLFFBQVE7QUFBRSxnQkFBTSxJQUFJLGVBQWUsMkRBQTJEO0FBQUEsUUFBRztBQUFFLGVBQU9BO0FBQUEsTUFBTTtBQUNySyxlQUFTLGlCQUFpQixPQUFPO0FBQUUsWUFBSSxTQUFTLE9BQU8sUUFBUSxhQUFhLG9CQUFJLElBQUksSUFBSTtBQUFXLDJCQUFtQixTQUFTQyxrQkFBaUJDLFFBQU87QUFBRSxjQUFJQSxXQUFVLFFBQVEsQ0FBQyxrQkFBa0JBLE1BQUs7QUFBRyxtQkFBT0E7QUFBTyxjQUFJLE9BQU9BLFdBQVUsWUFBWTtBQUFFLGtCQUFNLElBQUksVUFBVSxvREFBb0Q7QUFBQSxVQUFHO0FBQUUsY0FBSSxPQUFPLFdBQVcsYUFBYTtBQUFFLGdCQUFJLE9BQU8sSUFBSUEsTUFBSztBQUFHLHFCQUFPLE9BQU8sSUFBSUEsTUFBSztBQUFHLG1CQUFPLElBQUlBLFFBQU8sT0FBTztBQUFBLFVBQUc7QUFBRSxtQkFBUyxVQUFVO0FBQUUsbUJBQU8sV0FBV0EsUUFBTyxXQUFXLGdCQUFnQixJQUFJLEVBQUUsV0FBVztBQUFBLFVBQUc7QUFBRSxrQkFBUSxZQUFZLE9BQU8sT0FBT0EsT0FBTSxXQUFXLEVBQUUsYUFBYSxFQUFFLE9BQU8sU0FBUyxZQUFZLE9BQU8sVUFBVSxNQUFNLGNBQWMsS0FBSyxFQUFFLENBQUM7QUFBRyxpQkFBTyxnQkFBZ0IsU0FBU0EsTUFBSztBQUFBLFFBQUc7QUFBRyxlQUFPLGlCQUFpQixLQUFLO0FBQUEsTUFBRztBQUN0dkIsZUFBUyxXQUFXLFFBQVEsTUFBTSxPQUFPO0FBQUUsWUFBSSwwQkFBMEIsR0FBRztBQUFFLHVCQUFhLFFBQVEsVUFBVSxLQUFLO0FBQUEsUUFBRyxPQUFPO0FBQUUsdUJBQWEsU0FBU0MsWUFBV0MsU0FBUUMsT0FBTUgsUUFBTztBQUFFLGdCQUFJLElBQUksQ0FBQyxJQUFJO0FBQUcsY0FBRSxLQUFLLE1BQU0sR0FBR0csS0FBSTtBQUFHLGdCQUFJLGNBQWMsU0FBUyxLQUFLLE1BQU1ELFNBQVEsQ0FBQztBQUFHLGdCQUFJLFdBQVcsSUFBSSxZQUFZO0FBQUcsZ0JBQUlGO0FBQU8sOEJBQWdCLFVBQVVBLE9BQU0sU0FBUztBQUFHLG1CQUFPO0FBQUEsVUFBVTtBQUFBLFFBQUc7QUFBRSxlQUFPLFdBQVcsTUFBTSxNQUFNLFNBQVM7QUFBQSxNQUFHO0FBQ3hhLGVBQVMsNEJBQTRCO0FBQUUsWUFBSSxPQUFPLFlBQVksZUFBZSxDQUFDLFFBQVE7QUFBVyxpQkFBTztBQUFPLFlBQUksUUFBUSxVQUFVO0FBQU0saUJBQU87QUFBTyxZQUFJLE9BQU8sVUFBVTtBQUFZLGlCQUFPO0FBQU0sWUFBSTtBQUFFLGtCQUFRLFVBQVUsUUFBUSxLQUFLLFFBQVEsVUFBVSxTQUFTLENBQUMsR0FBRyxXQUFZO0FBQUEsVUFBQyxDQUFDLENBQUM7QUFBRyxpQkFBTztBQUFBLFFBQU0sU0FBUyxHQUFQO0FBQVksaUJBQU87QUFBQSxRQUFPO0FBQUEsTUFBRTtBQUN4VSxlQUFTLGtCQUFrQixJQUFJO0FBQUUsZUFBTyxTQUFTLFNBQVMsS0FBSyxFQUFFLEVBQUUsUUFBUSxlQUFlLE1BQU07QUFBQSxNQUFJO0FBQ3BHLGVBQVMsZ0JBQWdCLEdBQUcsR0FBRztBQUFFLDBCQUFrQixPQUFPLGlCQUFpQixPQUFPLGVBQWUsS0FBSyxJQUFJLFNBQVNJLGlCQUFnQkMsSUFBR0MsSUFBRztBQUFFLFVBQUFELEdBQUUsWUFBWUM7QUFBRyxpQkFBT0Q7QUFBQSxRQUFHO0FBQUcsZUFBTyxnQkFBZ0IsR0FBRyxDQUFDO0FBQUEsTUFBRztBQUN2TSxlQUFTLGdCQUFnQixHQUFHO0FBQUUsMEJBQWtCLE9BQU8saUJBQWlCLE9BQU8sZUFBZSxLQUFLLElBQUksU0FBU0UsaUJBQWdCRixJQUFHO0FBQUUsaUJBQU9BLEdBQUUsYUFBYSxPQUFPLGVBQWVBLEVBQUM7QUFBQSxRQUFHO0FBQUcsZUFBTyxnQkFBZ0IsQ0FBQztBQUFBLE1BQUc7QUFDbk4sZUFBUyxRQUFRLEdBQUc7QUFBRTtBQUEyQixlQUFPLFVBQVUsY0FBYyxPQUFPLFVBQVUsWUFBWSxPQUFPLE9BQU8sV0FBVyxTQUFVQSxJQUFHO0FBQUUsaUJBQU8sT0FBT0E7QUFBQSxRQUFHLElBQUksU0FBVUEsSUFBRztBQUFFLGlCQUFPQSxNQUFLLGNBQWMsT0FBTyxVQUFVQSxHQUFFLGdCQUFnQixVQUFVQSxPQUFNLE9BQU8sWUFBWSxXQUFXLE9BQU9BO0FBQUEsUUFBRyxHQUFHLFFBQVEsQ0FBQztBQUFBLE1BQUc7QUFDN1QsVUFBSSxXQUFXO0FBQWYsVUFDRSxVQUFVLFNBQVM7QUFDckIsVUFBSSxZQUFZO0FBQWhCLFVBQ0UsdUJBQXVCLFVBQVUsTUFBTTtBQUd6QyxlQUFTLFNBQVMsS0FBSyxRQUFRLFVBQVU7QUFDdkMsWUFBSSxhQUFhLFVBQWEsV0FBVyxJQUFJLFFBQVE7QUFDbkQscUJBQVcsSUFBSTtBQUFBLFFBQ2pCO0FBQ0EsZUFBTyxJQUFJLFVBQVUsV0FBVyxPQUFPLFFBQVEsUUFBUSxNQUFNO0FBQUEsTUFDL0Q7QUFHQSxlQUFTLE9BQU8sS0FBSyxPQUFPO0FBQzFCLGdCQUFRLEtBQUssTUFBTSxLQUFLO0FBQ3hCLFlBQUksSUFBSSxVQUFVLEtBQUssU0FBUztBQUFHLGlCQUFPO0FBQzFDLFlBQUksV0FBVyxJQUFJLFNBQVM7QUFDNUIsZ0JBQVEsS0FBSyxNQUFNLEtBQUssSUFBSSxLQUFLLElBQUksS0FBSyxJQUFJLENBQUMsQ0FBQztBQUNoRCxlQUFPLE9BQU87QUFDWixpQkFBTztBQUNQO0FBQUEsUUFDRjtBQUNBLGVBQU8sSUFBSSxVQUFVLEdBQUcsV0FBVyxJQUFJLE1BQU07QUFDN0MsZUFBTztBQUFBLE1BQ1Q7QUFDQSxVQUFJLE9BQU87QUFDWCxVQUFJLFFBQVE7QUFDWixVQUFJLE1BQU07QUFDVixVQUFJLFFBQVE7QUFDWixVQUFJLG9CQUFvQjtBQUFBLFFBQ3RCLGlCQUFpQjtBQUFBLFFBQ2pCLGFBQWE7QUFBQSxRQUNiLG1CQUFtQjtBQUFBLFFBQ25CLFdBQVc7QUFBQSxRQUNYLE9BQU87QUFBQSxRQUNQLG9CQUFvQjtBQUFBLFFBQ3BCLGdCQUFnQjtBQUFBLFFBQ2hCLHNCQUFzQjtBQUFBLFFBQ3RCLGNBQWM7QUFBQSxRQUNkLFVBQVU7QUFBQSxRQUNWLGNBQWM7QUFBQSxNQUNoQjtBQUlBLFVBQUksa0JBQWtCO0FBQ3RCLGVBQVMsVUFBVSxRQUFRO0FBQ3pCLFlBQUksT0FBTyxPQUFPLEtBQUssTUFBTTtBQUM3QixZQUFJLFNBQVMsT0FBTyxPQUFPLE9BQU8sZUFBZSxNQUFNLENBQUM7QUFDeEQsYUFBSyxRQUFRLFNBQVUsS0FBSztBQUMxQixpQkFBTyxHQUFHLElBQUksT0FBTyxHQUFHO0FBQUEsUUFDMUIsQ0FBQztBQUNELGVBQU8sZUFBZSxRQUFRLFdBQVc7QUFBQSxVQUN2QyxPQUFPLE9BQU87QUFBQSxRQUNoQixDQUFDO0FBQ0QsZUFBTztBQUFBLE1BQ1Q7QUFDQSxlQUFTLGFBQWEsS0FBSztBQUd6QixlQUFPLFFBQVEsS0FBSztBQUFBLFVBQ2xCLFNBQVM7QUFBQSxVQUNULGVBQWU7QUFBQSxVQUNmLE9BQU87QUFBQSxVQUNQLGdCQUFnQjtBQUFBO0FBQUEsVUFFaEIsWUFBWTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQSxVQU1aLGFBQWE7QUFBQTtBQUFBLFVBRWIsV0FBVztBQUFBLFVBQ1gsUUFBUTtBQUFBO0FBQUEsVUFFUixTQUFTO0FBQUEsUUFDWCxDQUFDO0FBQUEsTUFDSDtBQUNBLGVBQVMsY0FBYyxRQUFRLFVBQVUsVUFBVTtBQUNqRCxZQUFJLFFBQVE7QUFDWixZQUFJLE1BQU07QUFDVixZQUFJLFVBQVU7QUFDZCxZQUFJLE1BQU07QUFDVixZQUFJLFVBQVU7QUFDZCxZQUFJLGtCQUFrQixhQUFhLE1BQU07QUFDekMsWUFBSSxjQUFjLGdCQUFnQixNQUFNLElBQUk7QUFDNUMsWUFBSSxnQkFBZ0IsYUFBYSxRQUFRLEVBQUUsTUFBTSxJQUFJO0FBQ3JELFlBQUksSUFBSTtBQUNSLFlBQUksWUFBWTtBQUloQixZQUFJLGFBQWEsaUJBQWlCLFFBQVEsTUFBTSxNQUFNLFlBQVksUUFBUSxRQUFRLE1BQU0sWUFBWSxXQUFXLFFBQVEsYUFBYSxNQUFNO0FBQ3hJLHFCQUFXO0FBQUEsUUFDYjtBQUlBLFlBQUksWUFBWSxXQUFXLEtBQUssY0FBYyxXQUFXLEtBQUssWUFBWSxDQUFDLE1BQU0sY0FBYyxDQUFDLEdBQUc7QUFDakcsY0FBSSxjQUFjLFlBQVksQ0FBQyxFQUFFLFNBQVMsY0FBYyxDQUFDLEVBQUU7QUFJM0QsY0FBSSxlQUFlLGlCQUFpQjtBQUNsQyxpQkFBSyxRQUFRLE1BQU0sTUFBTSxZQUFZLFdBQVcsVUFBVSxRQUFRLFFBQVEsTUFBTSxZQUFZLGFBQWEsVUFBVSxXQUFXLEtBQUssYUFBYSxJQUFJO0FBRWxKLHFCQUFPLEdBQUcsT0FBTyxrQkFBa0IsUUFBUSxHQUFHLE1BQU0sSUFBSSxHQUFHLE9BQU8sWUFBWSxDQUFDLEdBQUcsT0FBTyxFQUFFLE9BQU8sY0FBYyxDQUFDLEdBQUcsSUFBSTtBQUFBLFlBQzFIO0FBQUEsVUFDRixXQUFXLGFBQWEscUJBQXFCO0FBSTNDLGdCQUFJLFlBQVksUUFBUSxVQUFVLFFBQVEsT0FBTyxRQUFRLFFBQVEsT0FBTyxVQUFVO0FBQ2xGLGdCQUFJLGNBQWMsV0FBVztBQUMzQixxQkFBTyxZQUFZLENBQUMsRUFBRSxDQUFDLE1BQU0sY0FBYyxDQUFDLEVBQUUsQ0FBQyxHQUFHO0FBQ2hEO0FBQUEsY0FDRjtBQUVBLGtCQUFJLElBQUksR0FBRztBQUdULDRCQUFZLE9BQU8sT0FBTyxPQUFPLEtBQUssQ0FBQyxHQUFHLEdBQUc7QUFDN0Msb0JBQUk7QUFBQSxjQUNOO0FBQUEsWUFDRjtBQUFBLFVBQ0Y7QUFBQSxRQUNGO0FBSUEsWUFBSSxJQUFJLFlBQVksWUFBWSxTQUFTLENBQUM7QUFDMUMsWUFBSSxJQUFJLGNBQWMsY0FBYyxTQUFTLENBQUM7QUFDOUMsZUFBTyxNQUFNLEdBQUc7QUFDZCxjQUFJLE1BQU0sR0FBRztBQUNYLGtCQUFNLE9BQU8sT0FBTyxDQUFDLEVBQUUsT0FBTyxHQUFHO0FBQUEsVUFDbkMsT0FBTztBQUNMLG9CQUFRO0FBQUEsVUFDVjtBQUNBLHNCQUFZLElBQUk7QUFDaEIsd0JBQWMsSUFBSTtBQUNsQixjQUFJLFlBQVksV0FBVyxLQUFLLGNBQWMsV0FBVztBQUFHO0FBQzVELGNBQUksWUFBWSxZQUFZLFNBQVMsQ0FBQztBQUN0QyxjQUFJLGNBQWMsY0FBYyxTQUFTLENBQUM7QUFBQSxRQUM1QztBQUNBLFlBQUksV0FBVyxLQUFLLElBQUksWUFBWSxRQUFRLGNBQWMsTUFBTTtBQUdoRSxZQUFJLGFBQWEsR0FBRztBQUVsQixjQUFJLGVBQWUsZ0JBQWdCLE1BQU0sSUFBSTtBQUk3QyxjQUFJLGFBQWEsU0FBUyxJQUFJO0FBQzVCLHlCQUFhLEVBQUUsSUFBSSxHQUFHLE9BQU8sTUFBTSxLQUFLLEVBQUUsT0FBTyxLQUFLO0FBQ3RELG1CQUFPLGFBQWEsU0FBUyxJQUFJO0FBQy9CLDJCQUFhLElBQUk7QUFBQSxZQUNuQjtBQUFBLFVBQ0Y7QUFDQSxpQkFBTyxHQUFHLE9BQU8sa0JBQWtCLGNBQWMsTUFBTSxFQUFFLE9BQU8sYUFBYSxLQUFLLElBQUksR0FBRyxJQUFJO0FBQUEsUUFDL0Y7QUFDQSxZQUFJLElBQUksR0FBRztBQUNULGdCQUFNLEtBQUssT0FBTyxNQUFNLEtBQUssRUFBRSxPQUFPLEtBQUssRUFBRSxPQUFPLEdBQUc7QUFDdkQsb0JBQVU7QUFBQSxRQUNaO0FBQ0EsWUFBSSxVQUFVLElBQUk7QUFDaEIsZ0JBQU0sT0FBTyxPQUFPLEtBQUssRUFBRSxPQUFPLEdBQUc7QUFDckMsa0JBQVE7QUFBQSxRQUNWO0FBQ0EsWUFBSSxlQUFlO0FBQ25CLFlBQUksTUFBTSxrQkFBa0IsUUFBUSxJQUFJLEtBQUssT0FBTyxPQUFPLFVBQVUsRUFBRSxPQUFPLE9BQU8sR0FBRyxFQUFFLE9BQU8sS0FBSyxZQUFZLEVBQUUsT0FBTyxLQUFLO0FBQ2hJLFlBQUksYUFBYSxJQUFJLE9BQU8sTUFBTSxLQUFLLEVBQUUsT0FBTyxPQUFPLGdCQUFnQjtBQUN2RSxhQUFLLElBQUksR0FBRyxJQUFJLFVBQVUsS0FBSztBQUU3QixjQUFJLE1BQU0sSUFBSTtBQUNkLGNBQUksWUFBWSxTQUFTLElBQUksR0FBRztBQUk5QixnQkFBSSxNQUFNLEtBQUssSUFBSSxHQUFHO0FBQ3BCLGtCQUFJLE1BQU0sR0FBRztBQUNYLHVCQUFPLEtBQUssT0FBTyxNQUFNLEtBQUssRUFBRSxPQUFPLEtBQUs7QUFDNUMsMEJBQVU7QUFBQSxjQUNaLFdBQVcsTUFBTSxHQUFHO0FBQ2xCLHVCQUFPLE9BQU8sT0FBTyxjQUFjLElBQUksQ0FBQyxDQUFDO0FBQ3pDO0FBQUEsY0FDRjtBQUNBLHFCQUFPLE9BQU8sT0FBTyxjQUFjLElBQUksQ0FBQyxDQUFDO0FBQ3pDO0FBQUEsWUFDRjtBQUVBLHNCQUFVO0FBRVYscUJBQVMsS0FBSyxPQUFPLEtBQUssR0FBRyxFQUFFLE9BQU8sT0FBTyxHQUFHLEVBQUUsT0FBTyxjQUFjLENBQUMsQ0FBQztBQUN6RTtBQUFBLFVBRUYsV0FBVyxjQUFjLFNBQVMsSUFBSSxHQUFHO0FBSXZDLGdCQUFJLE1BQU0sS0FBSyxJQUFJLEdBQUc7QUFDcEIsa0JBQUksTUFBTSxHQUFHO0FBQ1gsdUJBQU8sS0FBSyxPQUFPLE1BQU0sS0FBSyxFQUFFLE9BQU8sS0FBSztBQUM1QywwQkFBVTtBQUFBLGNBQ1osV0FBVyxNQUFNLEdBQUc7QUFDbEIsdUJBQU8sT0FBTyxPQUFPLFlBQVksSUFBSSxDQUFDLENBQUM7QUFDdkM7QUFBQSxjQUNGO0FBQ0EscUJBQU8sT0FBTyxPQUFPLFlBQVksSUFBSSxDQUFDLENBQUM7QUFDdkM7QUFBQSxZQUNGO0FBRUEsc0JBQVU7QUFFVixtQkFBTyxLQUFLLE9BQU8sT0FBTyxHQUFHLEVBQUUsT0FBTyxPQUFPLEdBQUcsRUFBRSxPQUFPLFlBQVksQ0FBQyxDQUFDO0FBQ3ZFO0FBQUEsVUFFRixPQUFPO0FBQ0wsZ0JBQUksZUFBZSxjQUFjLENBQUM7QUFDbEMsZ0JBQUksYUFBYSxZQUFZLENBQUM7QUFJOUIsZ0JBQUksaUJBQWlCLGVBQWUsaUJBQWlCLENBQUMsU0FBUyxZQUFZLEdBQUcsS0FBSyxXQUFXLE1BQU0sR0FBRyxFQUFFLE1BQU07QUFVL0csZ0JBQUksa0JBQWtCLFNBQVMsY0FBYyxHQUFHLEtBQUssYUFBYSxNQUFNLEdBQUcsRUFBRSxNQUFNLFlBQVk7QUFDN0YsK0JBQWlCO0FBQ2pCLDRCQUFjO0FBQUEsWUFDaEI7QUFDQSxnQkFBSSxnQkFBZ0I7QUFJbEIsa0JBQUksTUFBTSxLQUFLLElBQUksR0FBRztBQUNwQixvQkFBSSxNQUFNLEdBQUc7QUFDWCx5QkFBTyxLQUFLLE9BQU8sTUFBTSxLQUFLLEVBQUUsT0FBTyxLQUFLO0FBQzVDLDRCQUFVO0FBQUEsZ0JBQ1osV0FBVyxNQUFNLEdBQUc7QUFDbEIseUJBQU8sT0FBTyxPQUFPLFlBQVksSUFBSSxDQUFDLENBQUM7QUFDdkM7QUFBQSxnQkFDRjtBQUNBLHVCQUFPLE9BQU8sT0FBTyxZQUFZLElBQUksQ0FBQyxDQUFDO0FBQ3ZDO0FBQUEsY0FDRjtBQUVBLHdCQUFVO0FBR1YscUJBQU8sS0FBSyxPQUFPLE9BQU8sR0FBRyxFQUFFLE9BQU8sT0FBTyxHQUFHLEVBQUUsT0FBTyxVQUFVO0FBQ25FLHVCQUFTLEtBQUssT0FBTyxLQUFLLEdBQUcsRUFBRSxPQUFPLE9BQU8sR0FBRyxFQUFFLE9BQU8sWUFBWTtBQUNyRSw4QkFBZ0I7QUFBQSxZQUVsQixPQUFPO0FBR0wscUJBQU87QUFDUCxzQkFBUTtBQUdSLGtCQUFJLFFBQVEsS0FBSyxNQUFNLEdBQUc7QUFDeEIsdUJBQU8sT0FBTyxPQUFPLFVBQVU7QUFDL0I7QUFBQSxjQUNGO0FBQUEsWUFDRjtBQUFBLFVBQ0Y7QUFFQSxjQUFJLGVBQWUsTUFBTSxJQUFJLFdBQVcsR0FBRztBQUN6QyxtQkFBTyxHQUFHLE9BQU8sR0FBRyxFQUFFLE9BQU8sWUFBWSxJQUFJLEVBQUUsT0FBTyxLQUFLLElBQUksRUFBRSxPQUFPLE1BQU0sS0FBSyxFQUFFLE9BQU8sS0FBSyxFQUFFLE9BQU8sT0FBTyxJQUFJLElBQUksR0FBRyxPQUFPLE1BQU0sS0FBSyxFQUFFLE9BQU8sS0FBSztBQUFBLFVBQzlKO0FBQUEsUUFDRjtBQUNBLGVBQU8sR0FBRyxPQUFPLEdBQUcsRUFBRSxPQUFPLFVBQVUsYUFBYSxJQUFJLElBQUksRUFBRSxPQUFPLEdBQUcsRUFBRSxPQUFPLEtBQUssRUFBRSxPQUFPLEdBQUcsRUFBRSxPQUFPLFNBQVM7QUFBQSxNQUN0SDtBQUNBLFVBQUksaUJBQThCLHlCQUFVLFFBQVEsaUJBQWlCO0FBQ25FLGtCQUFVRyxpQkFBZ0IsTUFBTTtBQUNoQyxZQUFJLFNBQVMsYUFBYUEsZUFBYztBQUN4QyxpQkFBU0EsZ0JBQWUsU0FBUztBQUMvQixjQUFJO0FBQ0osMEJBQWdCLE1BQU1BLGVBQWM7QUFDcEMsY0FBSSxRQUFRLE9BQU8sTUFBTSxZQUFZLFlBQVksTUFBTTtBQUNyRCxrQkFBTSxJQUFJLHFCQUFxQixXQUFXLFVBQVUsT0FBTztBQUFBLFVBQzdEO0FBQ0EsY0FBSSxVQUFVLFFBQVEsU0FDcEIsV0FBVyxRQUFRLFVBQ25CLGVBQWUsUUFBUTtBQUN6QixjQUFJLFNBQVMsUUFBUSxRQUNuQixXQUFXLFFBQVE7QUFDckIsY0FBSSxRQUFRLE1BQU07QUFDbEIsZ0JBQU0sa0JBQWtCO0FBQ3hCLGNBQUksV0FBVyxNQUFNO0FBQ25CLG9CQUFRLE9BQU8sS0FBSyxNQUFNLE9BQU8sT0FBTyxDQUFDO0FBQUEsVUFDM0MsT0FBTztBQUNMLGdCQUFJLFFBQVEsVUFBVSxRQUFRLE9BQU8sT0FBTztBQUcxQyxrQkFBSSxRQUFRLFVBQVUsUUFBUSxPQUFPLGlCQUFpQixRQUFRLE9BQU8sY0FBYyxNQUFNLEdBQUc7QUFDMUYsdUJBQU87QUFDUCx3QkFBUTtBQUNSLHdCQUFRO0FBQ1Isc0JBQU07QUFBQSxjQUNSLE9BQU87QUFDTCx1QkFBTztBQUNQLHdCQUFRO0FBQ1Isd0JBQVE7QUFDUixzQkFBTTtBQUFBLGNBQ1I7QUFBQSxZQUNGO0FBSUEsZ0JBQUksUUFBUSxNQUFNLE1BQU0sWUFBWSxXQUFXLFFBQVEsUUFBUSxRQUFRLE1BQU0sWUFBWSxhQUFhLFFBQVEsV0FBVyxVQUFVLGtCQUFrQixTQUFTLFdBQVcsWUFBWSxvQkFBb0IsT0FBTztBQUM5TSx1QkFBUyxVQUFVLE1BQU07QUFDekIseUJBQVcsVUFBVSxRQUFRO0FBQUEsWUFDL0I7QUFDQSxnQkFBSSxhQUFhLHFCQUFxQixhQUFhLGVBQWU7QUFDaEUsc0JBQVEsT0FBTyxLQUFLLE1BQU0sY0FBYyxRQUFRLFVBQVUsUUFBUSxDQUFDO0FBQUEsWUFDckUsV0FBVyxhQUFhLHdCQUF3QixhQUFhLGtCQUFrQjtBQUc3RSxrQkFBSSxPQUFPLGtCQUFrQixRQUFRO0FBQ3JDLGtCQUFJLE1BQU0sYUFBYSxNQUFNLEVBQUUsTUFBTSxJQUFJO0FBR3pDLGtCQUFJLGFBQWEsb0JBQW9CLFFBQVEsTUFBTSxNQUFNLFlBQVksV0FBVyxNQUFNO0FBQ3BGLHVCQUFPLGtCQUFrQjtBQUFBLGNBQzNCO0FBSUEsa0JBQUksSUFBSSxTQUFTLElBQUk7QUFDbkIsb0JBQUksRUFBRSxJQUFJLEdBQUcsT0FBTyxNQUFNLEtBQUssRUFBRSxPQUFPLEtBQUs7QUFDN0MsdUJBQU8sSUFBSSxTQUFTLElBQUk7QUFDdEIsc0JBQUksSUFBSTtBQUFBLGdCQUNWO0FBQUEsY0FDRjtBQUdBLGtCQUFJLElBQUksV0FBVyxHQUFHO0FBQ3BCLHdCQUFRLE9BQU8sS0FBSyxNQUFNLEdBQUcsT0FBTyxNQUFNLEdBQUcsRUFBRSxPQUFPLElBQUksQ0FBQyxDQUFDLENBQUM7QUFBQSxjQUMvRCxPQUFPO0FBQ0wsd0JBQVEsT0FBTyxLQUFLLE1BQU0sR0FBRyxPQUFPLE1BQU0sTUFBTSxFQUFFLE9BQU8sSUFBSSxLQUFLLElBQUksR0FBRyxJQUFJLENBQUM7QUFBQSxjQUNoRjtBQUFBLFlBQ0YsT0FBTztBQUNMLGtCQUFJLE9BQU8sYUFBYSxNQUFNO0FBQzlCLGtCQUFJLFFBQVE7QUFDWixrQkFBSSxpQkFBaUIsa0JBQWtCLFFBQVE7QUFDL0Msa0JBQUksYUFBYSxrQkFBa0IsYUFBYSxZQUFZO0FBQzFELHVCQUFPLEdBQUcsT0FBTyxrQkFBa0IsUUFBUSxHQUFHLE1BQU0sRUFBRSxPQUFPLElBQUk7QUFDakUsb0JBQUksS0FBSyxTQUFTLE1BQU07QUFDdEIseUJBQU8sR0FBRyxPQUFPLEtBQUssTUFBTSxHQUFHLElBQUksR0FBRyxLQUFLO0FBQUEsZ0JBQzdDO0FBQUEsY0FDRixPQUFPO0FBQ0wsd0JBQVEsR0FBRyxPQUFPLGFBQWEsUUFBUSxDQUFDO0FBQ3hDLG9CQUFJLEtBQUssU0FBUyxLQUFLO0FBQ3JCLHlCQUFPLEdBQUcsT0FBTyxLQUFLLE1BQU0sR0FBRyxHQUFHLEdBQUcsS0FBSztBQUFBLGdCQUM1QztBQUNBLG9CQUFJLE1BQU0sU0FBUyxLQUFLO0FBQ3RCLDBCQUFRLEdBQUcsT0FBTyxNQUFNLE1BQU0sR0FBRyxHQUFHLEdBQUcsS0FBSztBQUFBLGdCQUM5QztBQUNBLG9CQUFJLGFBQWEsZUFBZSxhQUFhLFNBQVM7QUFDcEQseUJBQU8sR0FBRyxPQUFPLGdCQUFnQixNQUFNLEVBQUUsT0FBTyxNQUFNLHNCQUFzQjtBQUFBLGdCQUM5RSxPQUFPO0FBQ0wsMEJBQVEsSUFBSSxPQUFPLFVBQVUsR0FBRyxFQUFFLE9BQU8sS0FBSztBQUFBLGdCQUNoRDtBQUFBLGNBQ0Y7QUFDQSxzQkFBUSxPQUFPLEtBQUssTUFBTSxHQUFHLE9BQU8sSUFBSSxFQUFFLE9BQU8sS0FBSyxDQUFDO0FBQUEsWUFDekQ7QUFBQSxVQUNGO0FBQ0EsZ0JBQU0sa0JBQWtCO0FBQ3hCLGdCQUFNLG1CQUFtQixDQUFDO0FBQzFCLGlCQUFPLGVBQWUsdUJBQXVCLEtBQUssR0FBRyxRQUFRO0FBQUEsWUFDM0QsT0FBTztBQUFBLFlBQ1AsWUFBWTtBQUFBLFlBQ1osVUFBVTtBQUFBLFlBQ1YsY0FBYztBQUFBLFVBQ2hCLENBQUM7QUFDRCxnQkFBTSxPQUFPO0FBQ2IsZ0JBQU0sU0FBUztBQUNmLGdCQUFNLFdBQVc7QUFDakIsZ0JBQU0sV0FBVztBQUNqQixjQUFJLE1BQU0sbUJBQW1CO0FBRTNCLGtCQUFNLGtCQUFrQix1QkFBdUIsS0FBSyxHQUFHLFlBQVk7QUFBQSxVQUNyRTtBQUVBLGdCQUFNO0FBRU4sZ0JBQU0sT0FBTztBQUNiLGlCQUFPLDJCQUEyQixLQUFLO0FBQUEsUUFDekM7QUFDQSxxQkFBYUEsaUJBQWdCLENBQUM7QUFBQSxVQUM1QixLQUFLO0FBQUEsVUFDTCxPQUFPLFNBQVMsV0FBVztBQUN6QixtQkFBTyxHQUFHLE9BQU8sS0FBSyxNQUFNLElBQUksRUFBRSxPQUFPLEtBQUssTUFBTSxLQUFLLEVBQUUsT0FBTyxLQUFLLE9BQU87QUFBQSxVQUNoRjtBQUFBLFFBQ0YsR0FBRztBQUFBLFVBQ0QsS0FBSztBQUFBLFVBQ0wsT0FBTyxTQUFTLE1BQU0sY0FBYyxLQUFLO0FBS3ZDLG1CQUFPLFFBQVEsTUFBTSxjQUFjLGNBQWMsQ0FBQyxHQUFHLEdBQUcsR0FBRyxDQUFDLEdBQUc7QUFBQSxjQUM3RCxlQUFlO0FBQUEsY0FDZixPQUFPO0FBQUEsWUFDVCxDQUFDLENBQUM7QUFBQSxVQUNKO0FBQUEsUUFDRixDQUFDLENBQUM7QUFDRixlQUFPQTtBQUFBLE1BQ1QsRUFBZ0IsaUNBQWlCLEtBQUssR0FBRyxRQUFRLE1BQU07QUFDdkQsYUFBTyxVQUFVO0FBQUE7QUFBQTs7O0FDNWJqQjtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBRUEsVUFBSSxRQUFRLE9BQU8sVUFBVTtBQUU3QixhQUFPLFVBQVUsU0FBUyxZQUFZLE9BQU87QUFDNUMsWUFBSSxNQUFNLE1BQU0sS0FBSyxLQUFLO0FBQzFCLFlBQUksU0FBUyxRQUFRO0FBQ3JCLFlBQUksQ0FBQyxRQUFRO0FBQ1osbUJBQVMsUUFBUSxvQkFDaEIsVUFBVSxRQUNWLE9BQU8sVUFBVSxZQUNqQixPQUFPLE1BQU0sV0FBVyxZQUN4QixNQUFNLFVBQVUsS0FDaEIsTUFBTSxLQUFLLE1BQU0sTUFBTSxNQUFNO0FBQUEsUUFDL0I7QUFDQSxlQUFPO0FBQUEsTUFDUjtBQUFBO0FBQUE7OztBQ2hCQSxNQUFBQywwQkFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBRUEsVUFBSTtBQUNKLFVBQUksQ0FBQyxPQUFPLE1BQU07QUFFYixjQUFNLE9BQU8sVUFBVTtBQUN2QixnQkFBUSxPQUFPLFVBQVU7QUFDekIsaUJBQVM7QUFDVCx1QkFBZSxPQUFPLFVBQVU7QUFDaEMseUJBQWlCLENBQUMsYUFBYSxLQUFLLEVBQUUsVUFBVSxLQUFLLEdBQUcsVUFBVTtBQUNsRSwwQkFBa0IsYUFBYSxLQUFLLFdBQVk7QUFBQSxRQUFDLEdBQUcsV0FBVztBQUMvRCxvQkFBWTtBQUFBLFVBQ2Y7QUFBQSxVQUNBO0FBQUEsVUFDQTtBQUFBLFVBQ0E7QUFBQSxVQUNBO0FBQUEsVUFDQTtBQUFBLFVBQ0E7QUFBQSxRQUNEO0FBQ0kscUNBQTZCLFNBQVUsR0FBRztBQUM3QyxjQUFJLE9BQU8sRUFBRTtBQUNiLGlCQUFPLFFBQVEsS0FBSyxjQUFjO0FBQUEsUUFDbkM7QUFDSSx1QkFBZTtBQUFBLFVBQ2xCLG1CQUFtQjtBQUFBLFVBQ25CLFVBQVU7QUFBQSxVQUNWLFdBQVc7QUFBQSxVQUNYLFFBQVE7QUFBQSxVQUNSLGVBQWU7QUFBQSxVQUNmLFNBQVM7QUFBQSxVQUNULGNBQWM7QUFBQSxVQUNkLGFBQWE7QUFBQSxVQUNiLHdCQUF3QjtBQUFBLFVBQ3hCLHVCQUF1QjtBQUFBLFVBQ3ZCLGNBQWM7QUFBQSxVQUNkLGFBQWE7QUFBQSxVQUNiLGNBQWM7QUFBQSxVQUNkLGNBQWM7QUFBQSxVQUNkLFNBQVM7QUFBQSxVQUNULGFBQWE7QUFBQSxVQUNiLFlBQVk7QUFBQSxVQUNaLFVBQVU7QUFBQSxVQUNWLFVBQVU7QUFBQSxVQUNWLE9BQU87QUFBQSxVQUNQLGtCQUFrQjtBQUFBLFVBQ2xCLG9CQUFvQjtBQUFBLFVBQ3BCLFNBQVM7QUFBQSxRQUNWO0FBQ0ksbUNBQTRCLFdBQVk7QUFFM0MsY0FBSSxPQUFPLFdBQVcsYUFBYTtBQUFFLG1CQUFPO0FBQUEsVUFBTztBQUNuRCxtQkFBUyxLQUFLLFFBQVE7QUFDckIsZ0JBQUk7QUFDSCxrQkFBSSxDQUFDLGFBQWEsTUFBTSxDQUFDLEtBQUssSUFBSSxLQUFLLFFBQVEsQ0FBQyxLQUFLLE9BQU8sQ0FBQyxNQUFNLFFBQVEsT0FBTyxPQUFPLENBQUMsTUFBTSxVQUFVO0FBQ3pHLG9CQUFJO0FBQ0gsNkNBQTJCLE9BQU8sQ0FBQyxDQUFDO0FBQUEsZ0JBQ3JDLFNBQVMsR0FBUDtBQUNELHlCQUFPO0FBQUEsZ0JBQ1I7QUFBQSxjQUNEO0FBQUEsWUFDRCxTQUFTLEdBQVA7QUFDRCxxQkFBTztBQUFBLFlBQ1I7QUFBQSxVQUNEO0FBQ0EsaUJBQU87QUFBQSxRQUNSLEVBQUU7QUFDRSwrQ0FBdUMsU0FBVSxHQUFHO0FBRXZELGNBQUksT0FBTyxXQUFXLGVBQWUsQ0FBQywwQkFBMEI7QUFDL0QsbUJBQU8sMkJBQTJCLENBQUM7QUFBQSxVQUNwQztBQUNBLGNBQUk7QUFDSCxtQkFBTywyQkFBMkIsQ0FBQztBQUFBLFVBQ3BDLFNBQVMsR0FBUDtBQUNELG1CQUFPO0FBQUEsVUFDUjtBQUFBLFFBQ0Q7QUFFQSxtQkFBVyxTQUFTLEtBQUssUUFBUTtBQUNoQyxjQUFJLFdBQVcsV0FBVyxRQUFRLE9BQU8sV0FBVztBQUNwRCxjQUFJLGFBQWEsTUFBTSxLQUFLLE1BQU0sTUFBTTtBQUN4QyxjQUFJLGNBQWMsT0FBTyxNQUFNO0FBQy9CLGNBQUksV0FBVyxZQUFZLE1BQU0sS0FBSyxNQUFNLE1BQU07QUFDbEQsY0FBSSxVQUFVLENBQUM7QUFFZixjQUFJLENBQUMsWUFBWSxDQUFDLGNBQWMsQ0FBQyxhQUFhO0FBQzdDLGtCQUFNLElBQUksVUFBVSxvQ0FBb0M7QUFBQSxVQUN6RDtBQUVBLGNBQUksWUFBWSxtQkFBbUI7QUFDbkMsY0FBSSxZQUFZLE9BQU8sU0FBUyxLQUFLLENBQUMsSUFBSSxLQUFLLFFBQVEsQ0FBQyxHQUFHO0FBQzFELHFCQUFTLElBQUksR0FBRyxJQUFJLE9BQU8sUUFBUSxFQUFFLEdBQUc7QUFDdkMsc0JBQVEsS0FBSyxPQUFPLENBQUMsQ0FBQztBQUFBLFlBQ3ZCO0FBQUEsVUFDRDtBQUVBLGNBQUksZUFBZSxPQUFPLFNBQVMsR0FBRztBQUNyQyxxQkFBUyxJQUFJLEdBQUcsSUFBSSxPQUFPLFFBQVEsRUFBRSxHQUFHO0FBQ3ZDLHNCQUFRLEtBQUssT0FBTyxDQUFDLENBQUM7QUFBQSxZQUN2QjtBQUFBLFVBQ0QsT0FBTztBQUNOLHFCQUFTLFFBQVEsUUFBUTtBQUN4QixrQkFBSSxFQUFFLGFBQWEsU0FBUyxnQkFBZ0IsSUFBSSxLQUFLLFFBQVEsSUFBSSxHQUFHO0FBQ25FLHdCQUFRLEtBQUssT0FBTyxJQUFJLENBQUM7QUFBQSxjQUMxQjtBQUFBLFlBQ0Q7QUFBQSxVQUNEO0FBRUEsY0FBSSxnQkFBZ0I7QUFDbkIsZ0JBQUksa0JBQWtCLHFDQUFxQyxNQUFNO0FBRWpFLHFCQUFTLElBQUksR0FBRyxJQUFJLFVBQVUsUUFBUSxFQUFFLEdBQUc7QUFDMUMsa0JBQUksRUFBRSxtQkFBbUIsVUFBVSxDQUFDLE1BQU0sa0JBQWtCLElBQUksS0FBSyxRQUFRLFVBQVUsQ0FBQyxDQUFDLEdBQUc7QUFDM0Ysd0JBQVEsS0FBSyxVQUFVLENBQUMsQ0FBQztBQUFBLGNBQzFCO0FBQUEsWUFDRDtBQUFBLFVBQ0Q7QUFDQSxpQkFBTztBQUFBLFFBQ1I7QUFBQSxNQUNEO0FBbkhLO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBU0E7QUFJQTtBQXlCQTtBQWtCQTtBQXNETCxhQUFPLFVBQVU7QUFBQTtBQUFBOzs7QUN6SGpCO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFFQSxVQUFJLFFBQVEsTUFBTSxVQUFVO0FBQzVCLFVBQUksU0FBUztBQUViLFVBQUksV0FBVyxPQUFPO0FBQ3RCLFVBQUksV0FBVyxXQUFXLFNBQVMsS0FBSyxHQUFHO0FBQUUsZUFBTyxTQUFTLENBQUM7QUFBQSxNQUFHLElBQUk7QUFFckUsVUFBSSxlQUFlLE9BQU87QUFFMUIsZUFBUyxPQUFPLFNBQVMsaUJBQWlCO0FBQ3pDLFlBQUksT0FBTyxNQUFNO0FBQ2hCLGNBQUkseUJBQTBCLFdBQVk7QUFFekMsZ0JBQUksT0FBTyxPQUFPLEtBQUssU0FBUztBQUNoQyxtQkFBTyxRQUFRLEtBQUssV0FBVyxVQUFVO0FBQUEsVUFDMUMsRUFBRSxHQUFHLENBQUM7QUFDTixjQUFJLENBQUMsd0JBQXdCO0FBQzVCLG1CQUFPLE9BQU8sU0FBUyxLQUFLLFFBQVE7QUFDbkMsa0JBQUksT0FBTyxNQUFNLEdBQUc7QUFDbkIsdUJBQU8sYUFBYSxNQUFNLEtBQUssTUFBTSxDQUFDO0FBQUEsY0FDdkM7QUFDQSxxQkFBTyxhQUFhLE1BQU07QUFBQSxZQUMzQjtBQUFBLFVBQ0Q7QUFBQSxRQUNELE9BQU87QUFDTixpQkFBTyxPQUFPO0FBQUEsUUFDZjtBQUNBLGVBQU8sT0FBTyxRQUFRO0FBQUEsTUFDdkI7QUFFQSxhQUFPLFVBQVU7QUFBQTtBQUFBOzs7QUMvQmpCLE1BQUFDLDBCQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFHQSxVQUFJLGFBQWE7QUFDakIsVUFBSSxhQUFhLGdCQUE2QjtBQUM5QyxVQUFJLFlBQVk7QUFDaEIsVUFBSSxVQUFVO0FBQ2QsVUFBSSxRQUFRLFVBQVUsc0JBQXNCO0FBQzVDLFVBQUksb0JBQW9CLFVBQVUsdUNBQXVDO0FBQ3pFLFVBQUkscUJBQXFCLGFBQWEsUUFBUSx3QkFBd0I7QUFHdEUsYUFBTyxVQUFVLFNBQVMsT0FBTyxRQUFRLFNBQVM7QUFDakQsWUFBSSxVQUFVLE1BQU07QUFBRSxnQkFBTSxJQUFJLFVBQVUsMEJBQTBCO0FBQUEsUUFBRztBQUN2RSxZQUFJLEtBQUssUUFBUSxNQUFNO0FBQ3ZCLFlBQUksVUFBVSxXQUFXLEdBQUc7QUFDM0IsaUJBQU87QUFBQSxRQUNSO0FBQ0EsaUJBQVMsSUFBSSxHQUFHLElBQUksVUFBVSxRQUFRLEVBQUUsR0FBRztBQUMxQyxjQUFJLE9BQU8sUUFBUSxVQUFVLENBQUMsQ0FBQztBQUcvQixjQUFJLE9BQU8sV0FBVyxJQUFJO0FBQzFCLGNBQUksYUFBYSxlQUFlLFFBQVEseUJBQXlCO0FBQ2pFLGNBQUksWUFBWTtBQUNmLGdCQUFJLE9BQU8sV0FBVyxJQUFJO0FBQzFCLHFCQUFTLElBQUksR0FBRyxJQUFJLEtBQUssUUFBUSxFQUFFLEdBQUc7QUFDckMsa0JBQUksTUFBTSxLQUFLLENBQUM7QUFDaEIsa0JBQUksa0JBQWtCLE1BQU0sR0FBRyxHQUFHO0FBQ2pDLHNCQUFNLE1BQU0sR0FBRztBQUFBLGNBQ2hCO0FBQUEsWUFDRDtBQUFBLFVBQ0Q7QUFHQSxtQkFBUyxJQUFJLEdBQUcsSUFBSSxLQUFLLFFBQVEsRUFBRSxHQUFHO0FBQ3JDLGdCQUFJLFVBQVUsS0FBSyxDQUFDO0FBQ3BCLGdCQUFJLGtCQUFrQixNQUFNLE9BQU8sR0FBRztBQUNyQyxrQkFBSSxZQUFZLEtBQUssT0FBTztBQUM1QixpQkFBRyxPQUFPLElBQUk7QUFBQSxZQUNmO0FBQUEsVUFDRDtBQUFBLFFBQ0Q7QUFFQSxlQUFPO0FBQUEsTUFDUjtBQUFBO0FBQUE7OztBQzdDQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBRUEsVUFBSSxpQkFBaUI7QUFFckIsVUFBSSw4QkFBOEIsV0FBWTtBQUM3QyxZQUFJLENBQUMsT0FBTyxRQUFRO0FBQ25CLGlCQUFPO0FBQUEsUUFDUjtBQUtBLFlBQUksTUFBTTtBQUNWLFlBQUksVUFBVSxJQUFJLE1BQU0sRUFBRTtBQUMxQixZQUFJLE1BQU0sQ0FBQztBQUNYLGlCQUFTLElBQUksR0FBRyxJQUFJLFFBQVEsUUFBUSxFQUFFLEdBQUc7QUFDeEMsY0FBSSxRQUFRLENBQUMsQ0FBQyxJQUFJLFFBQVEsQ0FBQztBQUFBLFFBQzVCO0FBQ0EsWUFBSSxNQUFNLE9BQU8sT0FBTyxDQUFDLEdBQUcsR0FBRztBQUMvQixZQUFJLFNBQVM7QUFDYixpQkFBUyxLQUFLLEtBQUs7QUFDbEIsb0JBQVU7QUFBQSxRQUNYO0FBQ0EsZUFBTyxRQUFRO0FBQUEsTUFDaEI7QUFFQSxVQUFJLDZCQUE2QixXQUFZO0FBQzVDLFlBQUksQ0FBQyxPQUFPLFVBQVUsQ0FBQyxPQUFPLG1CQUFtQjtBQUNoRCxpQkFBTztBQUFBLFFBQ1I7QUFLQSxZQUFJLFVBQVUsT0FBTyxrQkFBa0IsRUFBRSxHQUFHLEVBQUUsQ0FBQztBQUMvQyxZQUFJO0FBQ0gsaUJBQU8sT0FBTyxTQUFTLElBQUk7QUFBQSxRQUM1QixTQUFTLEdBQVA7QUFDRCxpQkFBTyxRQUFRLENBQUMsTUFBTTtBQUFBLFFBQ3ZCO0FBQ0EsZUFBTztBQUFBLE1BQ1I7QUFFQSxhQUFPLFVBQVUsU0FBUyxjQUFjO0FBQ3ZDLFlBQUksQ0FBQyxPQUFPLFFBQVE7QUFDbkIsaUJBQU87QUFBQSxRQUNSO0FBQ0EsWUFBSSw0QkFBNEIsR0FBRztBQUNsQyxpQkFBTztBQUFBLFFBQ1I7QUFDQSxZQUFJLDJCQUEyQixHQUFHO0FBQ2pDLGlCQUFPO0FBQUEsUUFDUjtBQUNBLGVBQU8sT0FBTztBQUFBLE1BQ2Y7QUFBQTtBQUFBOzs7QUN0REEsTUFBQUMsMEJBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUVBLFVBQUksY0FBYyxTQUFVLE9BQU87QUFDbEMsZUFBTyxVQUFVO0FBQUEsTUFDbEI7QUFFQSxhQUFPLFVBQVUsU0FBUyxHQUFHLEdBQUcsR0FBRztBQUNsQyxZQUFJLE1BQU0sS0FBSyxNQUFNLEdBQUc7QUFDdkIsaUJBQU8sSUFBSSxNQUFNLElBQUk7QUFBQSxRQUN0QjtBQUNBLFlBQUksTUFBTSxHQUFHO0FBQ1osaUJBQU87QUFBQSxRQUNSO0FBQ0EsWUFBSSxZQUFZLENBQUMsS0FBSyxZQUFZLENBQUMsR0FBRztBQUNyQyxpQkFBTztBQUFBLFFBQ1I7QUFDQSxlQUFPO0FBQUEsTUFDUjtBQUFBO0FBQUE7OztBQ2pCQSxNQUFBQyxvQkFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBRUEsVUFBSSxpQkFBaUI7QUFFckIsYUFBTyxVQUFVLFNBQVMsY0FBYztBQUN2QyxlQUFPLE9BQU8sT0FBTyxPQUFPLGFBQWEsT0FBTyxLQUFLO0FBQUEsTUFDdEQ7QUFBQTtBQUFBOzs7QUNOQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBRUEsVUFBSSxlQUFlO0FBRW5CLFVBQUksV0FBVztBQUVmLFVBQUksV0FBVyxTQUFTLGFBQWEsMEJBQTBCLENBQUM7QUFFaEUsYUFBTyxVQUFVLFNBQVMsbUJBQW1CLE1BQU0sY0FBYztBQUNoRSxZQUFJLFlBQVksYUFBYSxNQUFNLENBQUMsQ0FBQyxZQUFZO0FBQ2pELFlBQUksT0FBTyxjQUFjLGNBQWMsU0FBUyxNQUFNLGFBQWEsSUFBSSxJQUFJO0FBQzFFLGlCQUFPLFNBQVMsU0FBUztBQUFBLFFBQzFCO0FBQ0EsZUFBTztBQUFBLE1BQ1I7QUFBQTtBQUFBOzs7QUNkQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBRUEsVUFBSSxPQUFPO0FBQ1gsVUFBSSxhQUFhLE9BQU8sV0FBVyxjQUFjLE9BQU8sT0FBTyxLQUFLLE1BQU07QUFFMUUsVUFBSSxRQUFRLE9BQU8sVUFBVTtBQUM3QixVQUFJLFNBQVMsTUFBTSxVQUFVO0FBQzdCLFVBQUkscUJBQXFCO0FBRXpCLFVBQUksYUFBYSxTQUFVLElBQUk7QUFDOUIsZUFBTyxPQUFPLE9BQU8sY0FBYyxNQUFNLEtBQUssRUFBRSxNQUFNO0FBQUEsTUFDdkQ7QUFFQSxVQUFJLHNCQUFzQixtQ0FBb0M7QUFFOUQsVUFBSSxpQkFBaUIsU0FBVSxRQUFRLE1BQU0sT0FBTyxXQUFXO0FBQzlELFlBQUksUUFBUSxRQUFRO0FBQ25CLGNBQUksY0FBYyxNQUFNO0FBQ3ZCLGdCQUFJLE9BQU8sSUFBSSxNQUFNLE9BQU87QUFDM0I7QUFBQSxZQUNEO0FBQUEsVUFDRCxXQUFXLENBQUMsV0FBVyxTQUFTLEtBQUssQ0FBQyxVQUFVLEdBQUc7QUFDbEQ7QUFBQSxVQUNEO0FBQUEsUUFDRDtBQUVBLFlBQUkscUJBQXFCO0FBQ3hCLDZCQUFtQixRQUFRLE1BQU0sT0FBTyxJQUFJO0FBQUEsUUFDN0MsT0FBTztBQUNOLDZCQUFtQixRQUFRLE1BQU0sS0FBSztBQUFBLFFBQ3ZDO0FBQUEsTUFDRDtBQUVBLFVBQUksbUJBQW1CLFNBQVUsUUFBUSxLQUFLO0FBQzdDLFlBQUksYUFBYSxVQUFVLFNBQVMsSUFBSSxVQUFVLENBQUMsSUFBSSxDQUFDO0FBQ3hELFlBQUksUUFBUSxLQUFLLEdBQUc7QUFDcEIsWUFBSSxZQUFZO0FBQ2Ysa0JBQVEsT0FBTyxLQUFLLE9BQU8sT0FBTyxzQkFBc0IsR0FBRyxDQUFDO0FBQUEsUUFDN0Q7QUFDQSxpQkFBUyxJQUFJLEdBQUcsSUFBSSxNQUFNLFFBQVEsS0FBSyxHQUFHO0FBQ3pDLHlCQUFlLFFBQVEsTUFBTSxDQUFDLEdBQUcsSUFBSSxNQUFNLENBQUMsQ0FBQyxHQUFHLFdBQVcsTUFBTSxDQUFDLENBQUMsQ0FBQztBQUFBLFFBQ3JFO0FBQUEsTUFDRDtBQUVBLHVCQUFpQixzQkFBc0IsQ0FBQyxDQUFDO0FBRXpDLGFBQU8sVUFBVTtBQUFBO0FBQUE7OztBQzlDakI7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUVBLFVBQUksY0FBYztBQUNsQixVQUFJLFNBQVM7QUFFYixhQUFPLFVBQVUsU0FBUyxlQUFlO0FBQ3hDLFlBQUksV0FBVyxZQUFZO0FBQzNCLGVBQU8sUUFBUSxFQUFFLElBQUksU0FBUyxHQUFHO0FBQUEsVUFDaEMsSUFBSSxTQUFTLGVBQWU7QUFDM0IsbUJBQU8sT0FBTyxPQUFPO0FBQUEsVUFDdEI7QUFBQSxRQUNELENBQUM7QUFDRCxlQUFPO0FBQUEsTUFDUjtBQUFBO0FBQUE7OztBQ2JBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFFQSxVQUFJLFNBQVM7QUFDYixVQUFJLFdBQVc7QUFFZixVQUFJLGlCQUFpQjtBQUNyQixVQUFJLGNBQWM7QUFDbEIsVUFBSSxPQUFPO0FBRVgsVUFBSSxXQUFXLFNBQVMsWUFBWSxHQUFHLE1BQU07QUFFN0MsYUFBTyxVQUFVO0FBQUEsUUFDaEI7QUFBQSxRQUNBO0FBQUEsUUFDQTtBQUFBLE1BQ0QsQ0FBQztBQUVELGFBQU8sVUFBVTtBQUFBO0FBQUE7OztBQ2pCakIsTUFBQUMsMEJBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUlBLGFBQU8sVUFBVSxTQUFTQyxPQUFNLE9BQU87QUFDdEMsZUFBTyxVQUFVO0FBQUEsTUFDbEI7QUFBQTtBQUFBOzs7QUNOQSxNQUFBQyxvQkFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBRUEsVUFBSSxpQkFBaUI7QUFFckIsYUFBTyxVQUFVLFNBQVMsY0FBYztBQUN2QyxZQUFJLE9BQU8sU0FBUyxPQUFPLE1BQU0sR0FBRyxLQUFLLENBQUMsT0FBTyxNQUFNLEdBQUcsR0FBRztBQUM1RCxpQkFBTyxPQUFPO0FBQUEsUUFDZjtBQUNBLGVBQU87QUFBQSxNQUNSO0FBQUE7QUFBQTs7O0FDVEEsTUFBQUMsZ0JBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUVBLFVBQUksU0FBUztBQUNiLFVBQUksY0FBYztBQUlsQixhQUFPLFVBQVUsU0FBUyxrQkFBa0I7QUFDM0MsWUFBSSxXQUFXLFlBQVk7QUFDM0IsZUFBTyxRQUFRLEVBQUUsT0FBTyxTQUFTLEdBQUc7QUFBQSxVQUNuQyxPQUFPLFNBQVMsWUFBWTtBQUMzQixtQkFBTyxPQUFPLFVBQVU7QUFBQSxVQUN6QjtBQUFBLFFBQ0QsQ0FBQztBQUNELGVBQU87QUFBQSxNQUNSO0FBQUE7QUFBQTs7O0FDZkE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUVBLFVBQUksV0FBVztBQUNmLFVBQUksU0FBUztBQUViLFVBQUksaUJBQWlCO0FBQ3JCLFVBQUksY0FBYztBQUNsQixVQUFJLE9BQU87QUFFWCxVQUFJLFdBQVcsU0FBUyxZQUFZLEdBQUcsTUFBTTtBQUk3QyxhQUFPLFVBQVU7QUFBQSxRQUNoQjtBQUFBLFFBQ0E7QUFBQSxRQUNBO0FBQUEsTUFDRCxDQUFDO0FBRUQsYUFBTyxVQUFVO0FBQUE7QUFBQTs7O0FDbkJqQjtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBS0EsZUFBUyxlQUFlLEtBQUssR0FBRztBQUFFLGVBQU8sZ0JBQWdCLEdBQUcsS0FBSyxzQkFBc0IsS0FBSyxDQUFDLEtBQUssNEJBQTRCLEtBQUssQ0FBQyxLQUFLLGlCQUFpQjtBQUFBLE1BQUc7QUFDN0osZUFBUyxtQkFBbUI7QUFBRSxjQUFNLElBQUksVUFBVSwySUFBMkk7QUFBQSxNQUFHO0FBQ2hNLGVBQVMsNEJBQTRCLEdBQUcsUUFBUTtBQUFFLFlBQUksQ0FBQztBQUFHO0FBQVEsWUFBSSxPQUFPLE1BQU07QUFBVSxpQkFBTyxrQkFBa0IsR0FBRyxNQUFNO0FBQUcsWUFBSSxJQUFJLE9BQU8sVUFBVSxTQUFTLEtBQUssQ0FBQyxFQUFFLE1BQU0sR0FBRyxFQUFFO0FBQUcsWUFBSSxNQUFNLFlBQVksRUFBRTtBQUFhLGNBQUksRUFBRSxZQUFZO0FBQU0sWUFBSSxNQUFNLFNBQVMsTUFBTTtBQUFPLGlCQUFPLE1BQU0sS0FBSyxDQUFDO0FBQUcsWUFBSSxNQUFNLGVBQWUsMkNBQTJDLEtBQUssQ0FBQztBQUFHLGlCQUFPLGtCQUFrQixHQUFHLE1BQU07QUFBQSxNQUFHO0FBQy9aLGVBQVMsa0JBQWtCLEtBQUssS0FBSztBQUFFLFlBQUksT0FBTyxRQUFRLE1BQU0sSUFBSTtBQUFRLGdCQUFNLElBQUk7QUFBUSxpQkFBUyxJQUFJLEdBQUcsT0FBTyxJQUFJLE1BQU0sR0FBRyxHQUFHLElBQUksS0FBSztBQUFLLGVBQUssQ0FBQyxJQUFJLElBQUksQ0FBQztBQUFHLGVBQU87QUFBQSxNQUFNO0FBQ2xMLGVBQVMsc0JBQXNCLEdBQUcsR0FBRztBQUFFLFlBQUksSUFBSSxRQUFRLElBQUksT0FBTyxlQUFlLE9BQU8sVUFBVSxFQUFFLE9BQU8sUUFBUSxLQUFLLEVBQUUsWUFBWTtBQUFHLFlBQUksUUFBUSxHQUFHO0FBQUUsY0FBSSxHQUFHLEdBQUcsR0FBRyxHQUFHLElBQUksQ0FBQyxHQUFHLElBQUksTUFBSSxJQUFJO0FBQUksY0FBSTtBQUFFLGdCQUFJLEtBQUssSUFBSSxFQUFFLEtBQUssQ0FBQyxHQUFHLE1BQU0sTUFBTSxHQUFHO0FBQUUsa0JBQUksT0FBTyxDQUFDLE1BQU07QUFBRztBQUFRLGtCQUFJO0FBQUEsWUFBSTtBQUFPLHFCQUFPLEVBQUUsS0FBSyxJQUFJLEVBQUUsS0FBSyxDQUFDLEdBQUcsVUFBVSxFQUFFLEtBQUssRUFBRSxLQUFLLEdBQUcsRUFBRSxXQUFXLElBQUksSUFBSTtBQUFHO0FBQUEsVUFBRSxTQUFTQyxJQUFQO0FBQVksZ0JBQUksTUFBSSxJQUFJQTtBQUFBLFVBQUcsVUFBRTtBQUFVLGdCQUFJO0FBQUUsa0JBQUksQ0FBQyxLQUFLLFFBQVEsRUFBRSxXQUFXLElBQUksRUFBRSxPQUFPLEdBQUcsT0FBTyxDQUFDLE1BQU07QUFBSTtBQUFBLFlBQVEsVUFBRTtBQUFVLGtCQUFJO0FBQUcsc0JBQU07QUFBQSxZQUFHO0FBQUEsVUFBRTtBQUFFLGlCQUFPO0FBQUEsUUFBRztBQUFBLE1BQUU7QUFDbmhCLGVBQVMsZ0JBQWdCLEtBQUs7QUFBRSxZQUFJLE1BQU0sUUFBUSxHQUFHO0FBQUcsaUJBQU87QUFBQSxNQUFLO0FBQ3BFLGVBQVMsUUFBUSxHQUFHO0FBQUU7QUFBMkIsZUFBTyxVQUFVLGNBQWMsT0FBTyxVQUFVLFlBQVksT0FBTyxPQUFPLFdBQVcsU0FBVUMsSUFBRztBQUFFLGlCQUFPLE9BQU9BO0FBQUEsUUFBRyxJQUFJLFNBQVVBLElBQUc7QUFBRSxpQkFBT0EsTUFBSyxjQUFjLE9BQU8sVUFBVUEsR0FBRSxnQkFBZ0IsVUFBVUEsT0FBTSxPQUFPLFlBQVksV0FBVyxPQUFPQTtBQUFBLFFBQUcsR0FBRyxRQUFRLENBQUM7QUFBQSxNQUFHO0FBQzdULFVBQUksc0JBQXNCLEtBQUssVUFBVTtBQUN6QyxVQUFJLGVBQWUsU0FBU0MsY0FBYSxLQUFLO0FBQzVDLFlBQUksUUFBUSxDQUFDO0FBQ2IsWUFBSSxRQUFRLFNBQVUsT0FBTztBQUMzQixpQkFBTyxNQUFNLEtBQUssS0FBSztBQUFBLFFBQ3pCLENBQUM7QUFDRCxlQUFPO0FBQUEsTUFDVDtBQUNBLFVBQUksZUFBZSxTQUFTQyxjQUFhLEtBQUs7QUFDNUMsWUFBSSxRQUFRLENBQUM7QUFDYixZQUFJLFFBQVEsU0FBVSxPQUFPLEtBQUs7QUFDaEMsaUJBQU8sTUFBTSxLQUFLLENBQUMsS0FBSyxLQUFLLENBQUM7QUFBQSxRQUNoQyxDQUFDO0FBQ0QsZUFBTztBQUFBLE1BQ1Q7QUFDQSxVQUFJLFdBQVcsT0FBTyxLQUFLLE9BQU8sS0FBSztBQUN2QyxVQUFJLDhCQUE4QixPQUFPLHdCQUF3QixPQUFPLHdCQUF3QixXQUFZO0FBQzFHLGVBQU8sQ0FBQztBQUFBLE1BQ1Y7QUFDQSxVQUFJLGNBQWMsT0FBTyxRQUFRLE9BQU8sUUFBUTtBQUNoRCxlQUFTLFlBQVksR0FBRztBQUN0QixlQUFPLEVBQUUsS0FBSyxLQUFLLENBQUM7QUFBQSxNQUN0QjtBQUNBLFVBQUksaUJBQWlCLFlBQVksT0FBTyxVQUFVLGNBQWM7QUFDaEUsVUFBSSx1QkFBdUIsWUFBWSxPQUFPLFVBQVUsb0JBQW9CO0FBQzVFLFVBQUksaUJBQWlCLFlBQVksT0FBTyxVQUFVLFFBQVE7QUFDMUQsVUFBSSxpQkFBaUIsZUFBaUI7QUFBdEMsVUFDRSxtQkFBbUIsZUFBZTtBQURwQyxVQUVFLG9CQUFvQixlQUFlO0FBRnJDLFVBR0UsU0FBUyxlQUFlO0FBSDFCLFVBSUUsUUFBUSxlQUFlO0FBSnpCLFVBS0UsV0FBVyxlQUFlO0FBTDVCLFVBTUUsUUFBUSxlQUFlO0FBTnpCLFVBT0UsZ0JBQWdCLGVBQWU7QUFQakMsVUFRRSxtQkFBbUIsZUFBZTtBQVJwQyxVQVNFLGlCQUFpQixlQUFlO0FBVGxDLFVBVUUsaUJBQWlCLGVBQWU7QUFWbEMsVUFXRSxrQkFBa0IsZUFBZTtBQVhuQyxVQVlFLGlCQUFpQixlQUFlO0FBWmxDLFVBYUUsaUJBQWlCLGVBQWU7QUFibEMsVUFjRSxpQkFBaUIsZUFBZTtBQWRsQyxVQWVFLGlCQUFpQixlQUFlO0FBQ2xDLGVBQVMsV0FBVyxLQUFLO0FBQ3ZCLFlBQUksSUFBSSxXQUFXLEtBQUssSUFBSSxTQUFTO0FBQUksaUJBQU87QUFDaEQsaUJBQVMsSUFBSSxHQUFHLElBQUksSUFBSSxRQUFRLEtBQUs7QUFDbkMsY0FBSSxPQUFPLElBQUksV0FBVyxDQUFDO0FBQzNCLGNBQUksT0FBTyxNQUFNLE9BQU87QUFBSSxtQkFBTztBQUFBLFFBQ3JDO0FBRUEsZUFBTyxJQUFJLFdBQVcsTUFBTSxPQUFPLEtBQUssSUFBSSxHQUFHLEVBQUU7QUFBQSxNQUNuRDtBQUNBLGVBQVMseUJBQXlCLE9BQU87QUFDdkMsZUFBTyxPQUFPLEtBQUssS0FBSyxFQUFFLE9BQU8sVUFBVSxFQUFFLE9BQU8sNEJBQTRCLEtBQUssRUFBRSxPQUFPLE9BQU8sVUFBVSxxQkFBcUIsS0FBSyxLQUFLLENBQUMsQ0FBQztBQUFBLE1BQ2xKO0FBVUEsZUFBUyxRQUFRLEdBQUcsR0FBRztBQUNyQixZQUFJLE1BQU0sR0FBRztBQUNYLGlCQUFPO0FBQUEsUUFDVDtBQUNBLFlBQUksSUFBSSxFQUFFO0FBQ1YsWUFBSSxJQUFJLEVBQUU7QUFDVixpQkFBUyxJQUFJLEdBQUcsTUFBTSxLQUFLLElBQUksR0FBRyxDQUFDLEdBQUcsSUFBSSxLQUFLLEVBQUUsR0FBRztBQUNsRCxjQUFJLEVBQUUsQ0FBQyxNQUFNLEVBQUUsQ0FBQyxHQUFHO0FBQ2pCLGdCQUFJLEVBQUUsQ0FBQztBQUNQLGdCQUFJLEVBQUUsQ0FBQztBQUNQO0FBQUEsVUFDRjtBQUFBLFFBQ0Y7QUFDQSxZQUFJLElBQUksR0FBRztBQUNULGlCQUFPO0FBQUEsUUFDVDtBQUNBLFlBQUksSUFBSSxHQUFHO0FBQ1QsaUJBQU87QUFBQSxRQUNUO0FBQ0EsZUFBTztBQUFBLE1BQ1Q7QUFDQSxVQUFJLGtCQUFrQjtBQUN0QixVQUFJLFVBQVU7QUFDZCxVQUFJLFNBQVM7QUFDYixVQUFJLGNBQWM7QUFDbEIsVUFBSSxXQUFXO0FBQ2YsVUFBSSxTQUFTO0FBQ2IsVUFBSSxTQUFTO0FBR2IsZUFBUyxrQkFBa0IsR0FBRyxHQUFHO0FBQy9CLGVBQU8sc0JBQXNCLEVBQUUsV0FBVyxFQUFFLFVBQVUsRUFBRSxVQUFVLEVBQUUsUUFBUSxPQUFPLFVBQVUsU0FBUyxLQUFLLENBQUMsTUFBTSxPQUFPLFVBQVUsU0FBUyxLQUFLLENBQUM7QUFBQSxNQUNwSjtBQUNBLGVBQVMsc0JBQXNCLEdBQUcsR0FBRztBQUNuQyxZQUFJLEVBQUUsZUFBZSxFQUFFLFlBQVk7QUFDakMsaUJBQU87QUFBQSxRQUNUO0FBQ0EsaUJBQVMsU0FBUyxHQUFHLFNBQVMsRUFBRSxZQUFZLFVBQVU7QUFDcEQsY0FBSSxFQUFFLE1BQU0sTUFBTSxFQUFFLE1BQU0sR0FBRztBQUMzQixtQkFBTztBQUFBLFVBQ1Q7QUFBQSxRQUNGO0FBQ0EsZUFBTztBQUFBLE1BQ1Q7QUFDQSxlQUFTLHNCQUFzQixHQUFHLEdBQUc7QUFDbkMsWUFBSSxFQUFFLGVBQWUsRUFBRSxZQUFZO0FBQ2pDLGlCQUFPO0FBQUEsUUFDVDtBQUNBLGVBQU8sUUFBUSxJQUFJLFdBQVcsRUFBRSxRQUFRLEVBQUUsWUFBWSxFQUFFLFVBQVUsR0FBRyxJQUFJLFdBQVcsRUFBRSxRQUFRLEVBQUUsWUFBWSxFQUFFLFVBQVUsQ0FBQyxNQUFNO0FBQUEsTUFDakk7QUFDQSxlQUFTLHFCQUFxQixNQUFNLE1BQU07QUFDeEMsZUFBTyxLQUFLLGVBQWUsS0FBSyxjQUFjLFFBQVEsSUFBSSxXQUFXLElBQUksR0FBRyxJQUFJLFdBQVcsSUFBSSxDQUFDLE1BQU07QUFBQSxNQUN4RztBQUNBLGVBQVMsc0JBQXNCLE1BQU0sTUFBTTtBQUN6QyxZQUFJLGVBQWUsSUFBSSxHQUFHO0FBQ3hCLGlCQUFPLGVBQWUsSUFBSSxLQUFLLFNBQVMsT0FBTyxVQUFVLFFBQVEsS0FBSyxJQUFJLEdBQUcsT0FBTyxVQUFVLFFBQVEsS0FBSyxJQUFJLENBQUM7QUFBQSxRQUNsSDtBQUNBLFlBQUksZUFBZSxJQUFJLEdBQUc7QUFDeEIsaUJBQU8sZUFBZSxJQUFJLEtBQUssT0FBTyxVQUFVLFFBQVEsS0FBSyxJQUFJLE1BQU0sT0FBTyxVQUFVLFFBQVEsS0FBSyxJQUFJO0FBQUEsUUFDM0c7QUFDQSxZQUFJLGdCQUFnQixJQUFJLEdBQUc7QUFDekIsaUJBQU8sZ0JBQWdCLElBQUksS0FBSyxRQUFRLFVBQVUsUUFBUSxLQUFLLElBQUksTUFBTSxRQUFRLFVBQVUsUUFBUSxLQUFLLElBQUk7QUFBQSxRQUM5RztBQUNBLFlBQUksZUFBZSxJQUFJLEdBQUc7QUFDeEIsaUJBQU8sZUFBZSxJQUFJLEtBQUssT0FBTyxVQUFVLFFBQVEsS0FBSyxJQUFJLE1BQU0sT0FBTyxVQUFVLFFBQVEsS0FBSyxJQUFJO0FBQUEsUUFDM0c7QUFDQSxlQUFPLGVBQWUsSUFBSSxLQUFLLE9BQU8sVUFBVSxRQUFRLEtBQUssSUFBSSxNQUFNLE9BQU8sVUFBVSxRQUFRLEtBQUssSUFBSTtBQUFBLE1BQzNHO0FBcUJBLGVBQVMsZUFBZSxNQUFNLE1BQU0sUUFBUSxPQUFPO0FBRWpELFlBQUksU0FBUyxNQUFNO0FBQ2pCLGNBQUksU0FBUztBQUFHLG1CQUFPO0FBQ3ZCLGlCQUFPLFNBQVMsU0FBUyxNQUFNLElBQUksSUFBSTtBQUFBLFFBQ3pDO0FBR0EsWUFBSSxRQUFRO0FBQ1YsY0FBSSxRQUFRLElBQUksTUFBTSxVQUFVO0FBQzlCLG1CQUFPLE9BQU8sU0FBUyxZQUFZLFlBQVksSUFBSSxLQUFLLFlBQVksSUFBSTtBQUFBLFVBQzFFO0FBQ0EsY0FBSSxRQUFRLElBQUksTUFBTSxZQUFZLFNBQVMsUUFBUSxTQUFTLE1BQU07QUFDaEUsbUJBQU87QUFBQSxVQUNUO0FBQ0EsY0FBSSxPQUFPLGVBQWUsSUFBSSxNQUFNLE9BQU8sZUFBZSxJQUFJLEdBQUc7QUFDL0QsbUJBQU87QUFBQSxVQUNUO0FBQUEsUUFDRixPQUFPO0FBQ0wsY0FBSSxTQUFTLFFBQVEsUUFBUSxJQUFJLE1BQU0sVUFBVTtBQUMvQyxnQkFBSSxTQUFTLFFBQVEsUUFBUSxJQUFJLE1BQU0sVUFBVTtBQUUvQyxxQkFBTyxRQUFRO0FBQUEsWUFDakI7QUFDQSxtQkFBTztBQUFBLFVBQ1Q7QUFDQSxjQUFJLFNBQVMsUUFBUSxRQUFRLElBQUksTUFBTSxVQUFVO0FBQy9DLG1CQUFPO0FBQUEsVUFDVDtBQUFBLFFBQ0Y7QUFDQSxZQUFJLFVBQVUsZUFBZSxJQUFJO0FBQ2pDLFlBQUksVUFBVSxlQUFlLElBQUk7QUFDakMsWUFBSSxZQUFZLFNBQVM7QUFDdkIsaUJBQU87QUFBQSxRQUNUO0FBQ0EsWUFBSSxNQUFNLFFBQVEsSUFBSSxHQUFHO0FBRXZCLGNBQUksS0FBSyxXQUFXLEtBQUssUUFBUTtBQUMvQixtQkFBTztBQUFBLFVBQ1Q7QUFDQSxjQUFJLFFBQVEseUJBQXlCLE1BQU0sZUFBZTtBQUMxRCxjQUFJLFFBQVEseUJBQXlCLE1BQU0sZUFBZTtBQUMxRCxjQUFJLE1BQU0sV0FBVyxNQUFNLFFBQVE7QUFDakMsbUJBQU87QUFBQSxVQUNUO0FBQ0EsaUJBQU8sU0FBUyxNQUFNLE1BQU0sUUFBUSxPQUFPLFVBQVUsS0FBSztBQUFBLFFBQzVEO0FBSUEsWUFBSSxZQUFZLG1CQUFtQjtBQUVqQyxjQUFJLENBQUMsTUFBTSxJQUFJLEtBQUssTUFBTSxJQUFJLEtBQUssQ0FBQyxNQUFNLElBQUksS0FBSyxNQUFNLElBQUksR0FBRztBQUM5RCxtQkFBTztBQUFBLFVBQ1Q7QUFBQSxRQUNGO0FBQ0EsWUFBSSxPQUFPLElBQUksR0FBRztBQUNoQixjQUFJLENBQUMsT0FBTyxJQUFJLEtBQUssS0FBSyxVQUFVLFFBQVEsS0FBSyxJQUFJLE1BQU0sS0FBSyxVQUFVLFFBQVEsS0FBSyxJQUFJLEdBQUc7QUFDNUYsbUJBQU87QUFBQSxVQUNUO0FBQUEsUUFDRixXQUFXLFNBQVMsSUFBSSxHQUFHO0FBQ3pCLGNBQUksQ0FBQyxTQUFTLElBQUksS0FBSyxDQUFDLGtCQUFrQixNQUFNLElBQUksR0FBRztBQUNyRCxtQkFBTztBQUFBLFVBQ1Q7QUFBQSxRQUNGLFdBQVcsY0FBYyxJQUFJLEtBQUssZ0JBQWdCLE9BQU87QUFHdkQsY0FBSSxLQUFLLFlBQVksS0FBSyxXQUFXLEtBQUssU0FBUyxLQUFLLE1BQU07QUFDNUQsbUJBQU87QUFBQSxVQUNUO0FBQUEsUUFDRixXQUFXLGtCQUFrQixJQUFJLEdBQUc7QUFDbEMsY0FBSSxDQUFDLFdBQVcsZUFBZSxJQUFJLEtBQUssZUFBZSxJQUFJLElBQUk7QUFDN0QsZ0JBQUksQ0FBQyxzQkFBc0IsTUFBTSxJQUFJLEdBQUc7QUFDdEMscUJBQU87QUFBQSxZQUNUO0FBQUEsVUFDRixXQUFXLENBQUMsc0JBQXNCLE1BQU0sSUFBSSxHQUFHO0FBQzdDLG1CQUFPO0FBQUEsVUFDVDtBQUlBLGNBQUksUUFBUSx5QkFBeUIsTUFBTSxlQUFlO0FBQzFELGNBQUksU0FBUyx5QkFBeUIsTUFBTSxlQUFlO0FBQzNELGNBQUksTUFBTSxXQUFXLE9BQU8sUUFBUTtBQUNsQyxtQkFBTztBQUFBLFVBQ1Q7QUFDQSxpQkFBTyxTQUFTLE1BQU0sTUFBTSxRQUFRLE9BQU8sYUFBYSxLQUFLO0FBQUEsUUFDL0QsV0FBVyxNQUFNLElBQUksR0FBRztBQUN0QixjQUFJLENBQUMsTUFBTSxJQUFJLEtBQUssS0FBSyxTQUFTLEtBQUssTUFBTTtBQUMzQyxtQkFBTztBQUFBLFVBQ1Q7QUFDQSxpQkFBTyxTQUFTLE1BQU0sTUFBTSxRQUFRLE9BQU8sTUFBTTtBQUFBLFFBQ25ELFdBQVcsTUFBTSxJQUFJLEdBQUc7QUFDdEIsY0FBSSxDQUFDLE1BQU0sSUFBSSxLQUFLLEtBQUssU0FBUyxLQUFLLE1BQU07QUFDM0MsbUJBQU87QUFBQSxVQUNUO0FBQ0EsaUJBQU8sU0FBUyxNQUFNLE1BQU0sUUFBUSxPQUFPLE1BQU07QUFBQSxRQUNuRCxXQUFXLGlCQUFpQixJQUFJLEdBQUc7QUFDakMsY0FBSSxDQUFDLHFCQUFxQixNQUFNLElBQUksR0FBRztBQUNyQyxtQkFBTztBQUFBLFVBQ1Q7QUFBQSxRQUNGLFdBQVcsaUJBQWlCLElBQUksS0FBSyxDQUFDLHNCQUFzQixNQUFNLElBQUksR0FBRztBQUN2RSxpQkFBTztBQUFBLFFBQ1Q7QUFDQSxlQUFPLFNBQVMsTUFBTSxNQUFNLFFBQVEsT0FBTyxXQUFXO0FBQUEsTUFDeEQ7QUFDQSxlQUFTLGVBQWUsS0FBSyxNQUFNO0FBQ2pDLGVBQU8sS0FBSyxPQUFPLFNBQVUsR0FBRztBQUM5QixpQkFBTyxxQkFBcUIsS0FBSyxDQUFDO0FBQUEsUUFDcEMsQ0FBQztBQUFBLE1BQ0g7QUFDQSxlQUFTLFNBQVMsTUFBTSxNQUFNLFFBQVEsT0FBTyxlQUFlLE9BQU87QUFRakUsWUFBSSxVQUFVLFdBQVcsR0FBRztBQUMxQixrQkFBUSxPQUFPLEtBQUssSUFBSTtBQUN4QixjQUFJLFFBQVEsT0FBTyxLQUFLLElBQUk7QUFHNUIsY0FBSSxNQUFNLFdBQVcsTUFBTSxRQUFRO0FBQ2pDLG1CQUFPO0FBQUEsVUFDVDtBQUFBLFFBQ0Y7QUFHQSxZQUFJLElBQUk7QUFDUixlQUFPLElBQUksTUFBTSxRQUFRLEtBQUs7QUFDNUIsY0FBSSxDQUFDLGVBQWUsTUFBTSxNQUFNLENBQUMsQ0FBQyxHQUFHO0FBQ25DLG1CQUFPO0FBQUEsVUFDVDtBQUFBLFFBQ0Y7QUFDQSxZQUFJLFVBQVUsVUFBVSxXQUFXLEdBQUc7QUFDcEMsY0FBSSxjQUFjLDRCQUE0QixJQUFJO0FBQ2xELGNBQUksWUFBWSxXQUFXLEdBQUc7QUFDNUIsZ0JBQUksUUFBUTtBQUNaLGlCQUFLLElBQUksR0FBRyxJQUFJLFlBQVksUUFBUSxLQUFLO0FBQ3ZDLGtCQUFJLE1BQU0sWUFBWSxDQUFDO0FBQ3ZCLGtCQUFJLHFCQUFxQixNQUFNLEdBQUcsR0FBRztBQUNuQyxvQkFBSSxDQUFDLHFCQUFxQixNQUFNLEdBQUcsR0FBRztBQUNwQyx5QkFBTztBQUFBLGdCQUNUO0FBQ0Esc0JBQU0sS0FBSyxHQUFHO0FBQ2Q7QUFBQSxjQUNGLFdBQVcscUJBQXFCLE1BQU0sR0FBRyxHQUFHO0FBQzFDLHVCQUFPO0FBQUEsY0FDVDtBQUFBLFlBQ0Y7QUFDQSxnQkFBSSxjQUFjLDRCQUE0QixJQUFJO0FBQ2xELGdCQUFJLFlBQVksV0FBVyxZQUFZLFVBQVUsZUFBZSxNQUFNLFdBQVcsRUFBRSxXQUFXLE9BQU87QUFDbkcscUJBQU87QUFBQSxZQUNUO0FBQUEsVUFDRixPQUFPO0FBQ0wsZ0JBQUksZUFBZSw0QkFBNEIsSUFBSTtBQUNuRCxnQkFBSSxhQUFhLFdBQVcsS0FBSyxlQUFlLE1BQU0sWUFBWSxFQUFFLFdBQVcsR0FBRztBQUNoRixxQkFBTztBQUFBLFlBQ1Q7QUFBQSxVQUNGO0FBQUEsUUFDRjtBQUNBLFlBQUksTUFBTSxXQUFXLE1BQU0sa0JBQWtCLGVBQWUsa0JBQWtCLFlBQVksS0FBSyxXQUFXLEtBQUssS0FBSyxTQUFTLElBQUk7QUFDL0gsaUJBQU87QUFBQSxRQUNUO0FBR0EsWUFBSSxVQUFVLFFBQVc7QUFDdkIsa0JBQVE7QUFBQSxZQUNOLE1BQU0sb0JBQUksSUFBSTtBQUFBLFlBQ2QsTUFBTSxvQkFBSSxJQUFJO0FBQUEsWUFDZCxVQUFVO0FBQUEsVUFDWjtBQUFBLFFBQ0YsT0FBTztBQUlMLGNBQUksWUFBWSxNQUFNLEtBQUssSUFBSSxJQUFJO0FBQ25DLGNBQUksY0FBYyxRQUFXO0FBQzNCLGdCQUFJLFlBQVksTUFBTSxLQUFLLElBQUksSUFBSTtBQUNuQyxnQkFBSSxjQUFjLFFBQVc7QUFDM0IscUJBQU8sY0FBYztBQUFBLFlBQ3ZCO0FBQUEsVUFDRjtBQUNBLGdCQUFNO0FBQUEsUUFDUjtBQUNBLGNBQU0sS0FBSyxJQUFJLE1BQU0sTUFBTSxRQUFRO0FBQ25DLGNBQU0sS0FBSyxJQUFJLE1BQU0sTUFBTSxRQUFRO0FBQ25DLFlBQUksUUFBUSxTQUFTLE1BQU0sTUFBTSxRQUFRLE9BQU8sT0FBTyxhQUFhO0FBQ3BFLGNBQU0sS0FBSyxPQUFPLElBQUk7QUFDdEIsY0FBTSxLQUFLLE9BQU8sSUFBSTtBQUN0QixlQUFPO0FBQUEsTUFDVDtBQUNBLGVBQVMsbUJBQW1CLEtBQUssTUFBTSxRQUFRLE1BQU07QUFFbkQsWUFBSSxZQUFZLGFBQWEsR0FBRztBQUNoQyxpQkFBUyxJQUFJLEdBQUcsSUFBSSxVQUFVLFFBQVEsS0FBSztBQUN6QyxjQUFJLE9BQU8sVUFBVSxDQUFDO0FBQ3RCLGNBQUksZUFBZSxNQUFNLE1BQU0sUUFBUSxJQUFJLEdBQUc7QUFFNUMsZ0JBQUksT0FBTyxJQUFJO0FBQ2YsbUJBQU87QUFBQSxVQUNUO0FBQUEsUUFDRjtBQUNBLGVBQU87QUFBQSxNQUNUO0FBTUEsZUFBUyw0QkFBNEIsTUFBTTtBQUN6QyxnQkFBUSxRQUFRLElBQUksR0FBRztBQUFBLFVBQ3JCLEtBQUs7QUFDSCxtQkFBTztBQUFBLFVBQ1QsS0FBSztBQUVILG1CQUFPO0FBQUEsVUFDVCxLQUFLO0FBQ0gsbUJBQU87QUFBQSxVQUNULEtBQUs7QUFDSCxtQkFBTyxDQUFDO0FBQUEsVUFJVixLQUFLO0FBQ0gsZ0JBQUksWUFBWSxJQUFJLEdBQUc7QUFDckIscUJBQU87QUFBQSxZQUNUO0FBQUEsUUFDSjtBQUNBLGVBQU87QUFBQSxNQUNUO0FBQ0EsZUFBUyxzQkFBc0IsR0FBRyxHQUFHLE1BQU07QUFDekMsWUFBSSxXQUFXLDRCQUE0QixJQUFJO0FBQy9DLFlBQUksWUFBWTtBQUFNLGlCQUFPO0FBQzdCLGVBQU8sRUFBRSxJQUFJLFFBQVEsS0FBSyxDQUFDLEVBQUUsSUFBSSxRQUFRO0FBQUEsTUFDM0M7QUFDQSxlQUFTLHNCQUFzQixHQUFHLEdBQUcsTUFBTSxNQUFNLE1BQU07QUFDckQsWUFBSSxXQUFXLDRCQUE0QixJQUFJO0FBQy9DLFlBQUksWUFBWSxNQUFNO0FBQ3BCLGlCQUFPO0FBQUEsUUFDVDtBQUNBLFlBQUksT0FBTyxFQUFFLElBQUksUUFBUTtBQUN6QixZQUFJLFNBQVMsVUFBYSxDQUFDLEVBQUUsSUFBSSxRQUFRLEtBQUssQ0FBQyxlQUFlLE1BQU0sTUFBTSxPQUFPLElBQUksR0FBRztBQUN0RixpQkFBTztBQUFBLFFBQ1Q7QUFDQSxlQUFPLENBQUMsRUFBRSxJQUFJLFFBQVEsS0FBSyxlQUFlLE1BQU0sTUFBTSxPQUFPLElBQUk7QUFBQSxNQUNuRTtBQUNBLGVBQVMsU0FBUyxHQUFHLEdBQUcsUUFBUSxNQUFNO0FBR3BDLFlBQUksTUFBTTtBQUNWLFlBQUksVUFBVSxhQUFhLENBQUM7QUFDNUIsaUJBQVMsSUFBSSxHQUFHLElBQUksUUFBUSxRQUFRLEtBQUs7QUFDdkMsY0FBSSxNQUFNLFFBQVEsQ0FBQztBQUluQixjQUFJLFFBQVEsR0FBRyxNQUFNLFlBQVksUUFBUSxNQUFNO0FBQzdDLGdCQUFJLFFBQVEsTUFBTTtBQUNoQixvQkFBTSxvQkFBSSxJQUFJO0FBQUEsWUFDaEI7QUFLQSxnQkFBSSxJQUFJLEdBQUc7QUFBQSxVQUNiLFdBQVcsQ0FBQyxFQUFFLElBQUksR0FBRyxHQUFHO0FBQ3RCLGdCQUFJO0FBQVEscUJBQU87QUFHbkIsZ0JBQUksQ0FBQyxzQkFBc0IsR0FBRyxHQUFHLEdBQUcsR0FBRztBQUNyQyxxQkFBTztBQUFBLFlBQ1Q7QUFDQSxnQkFBSSxRQUFRLE1BQU07QUFDaEIsb0JBQU0sb0JBQUksSUFBSTtBQUFBLFlBQ2hCO0FBQ0EsZ0JBQUksSUFBSSxHQUFHO0FBQUEsVUFDYjtBQUFBLFFBQ0Y7QUFDQSxZQUFJLFFBQVEsTUFBTTtBQUNoQixjQUFJLFVBQVUsYUFBYSxDQUFDO0FBQzVCLG1CQUFTLEtBQUssR0FBRyxLQUFLLFFBQVEsUUFBUSxNQUFNO0FBQzFDLGdCQUFJLE9BQU8sUUFBUSxFQUFFO0FBR3JCLGdCQUFJLFFBQVEsSUFBSSxNQUFNLFlBQVksU0FBUyxNQUFNO0FBQy9DLGtCQUFJLENBQUMsbUJBQW1CLEtBQUssTUFBTSxRQUFRLElBQUk7QUFBRyx1QkFBTztBQUFBLFlBQzNELFdBQVcsQ0FBQyxVQUFVLENBQUMsRUFBRSxJQUFJLElBQUksS0FBSyxDQUFDLG1CQUFtQixLQUFLLE1BQU0sUUFBUSxJQUFJLEdBQUc7QUFDbEYscUJBQU87QUFBQSxZQUNUO0FBQUEsVUFDRjtBQUNBLGlCQUFPLElBQUksU0FBUztBQUFBLFFBQ3RCO0FBQ0EsZUFBTztBQUFBLE1BQ1Q7QUFDQSxlQUFTLGlCQUFpQixLQUFLLEtBQUssTUFBTSxPQUFPLFFBQVEsTUFBTTtBQUk3RCxZQUFJLFlBQVksYUFBYSxHQUFHO0FBQ2hDLGlCQUFTLElBQUksR0FBRyxJQUFJLFVBQVUsUUFBUSxLQUFLO0FBQ3pDLGNBQUksT0FBTyxVQUFVLENBQUM7QUFDdEIsY0FBSSxlQUFlLE1BQU0sTUFBTSxRQUFRLElBQUksS0FBSyxlQUFlLE9BQU8sSUFBSSxJQUFJLElBQUksR0FBRyxRQUFRLElBQUksR0FBRztBQUNsRyxnQkFBSSxPQUFPLElBQUk7QUFDZixtQkFBTztBQUFBLFVBQ1Q7QUFBQSxRQUNGO0FBQ0EsZUFBTztBQUFBLE1BQ1Q7QUFDQSxlQUFTLFNBQVMsR0FBRyxHQUFHLFFBQVEsTUFBTTtBQUNwQyxZQUFJLE1BQU07QUFDVixZQUFJLFdBQVcsYUFBYSxDQUFDO0FBQzdCLGlCQUFTLElBQUksR0FBRyxJQUFJLFNBQVMsUUFBUSxLQUFLO0FBQ3hDLGNBQUksY0FBYyxlQUFlLFNBQVMsQ0FBQyxHQUFHLENBQUMsR0FDN0MsTUFBTSxZQUFZLENBQUMsR0FDbkIsUUFBUSxZQUFZLENBQUM7QUFDdkIsY0FBSSxRQUFRLEdBQUcsTUFBTSxZQUFZLFFBQVEsTUFBTTtBQUM3QyxnQkFBSSxRQUFRLE1BQU07QUFDaEIsb0JBQU0sb0JBQUksSUFBSTtBQUFBLFlBQ2hCO0FBQ0EsZ0JBQUksSUFBSSxHQUFHO0FBQUEsVUFDYixPQUFPO0FBR0wsZ0JBQUksUUFBUSxFQUFFLElBQUksR0FBRztBQUNyQixnQkFBSSxVQUFVLFVBQWEsQ0FBQyxFQUFFLElBQUksR0FBRyxLQUFLLENBQUMsZUFBZSxPQUFPLE9BQU8sUUFBUSxJQUFJLEdBQUc7QUFDckYsa0JBQUk7QUFBUSx1QkFBTztBQUduQixrQkFBSSxDQUFDLHNCQUFzQixHQUFHLEdBQUcsS0FBSyxPQUFPLElBQUk7QUFBRyx1QkFBTztBQUMzRCxrQkFBSSxRQUFRLE1BQU07QUFDaEIsc0JBQU0sb0JBQUksSUFBSTtBQUFBLGNBQ2hCO0FBQ0Esa0JBQUksSUFBSSxHQUFHO0FBQUEsWUFDYjtBQUFBLFVBQ0Y7QUFBQSxRQUNGO0FBQ0EsWUFBSSxRQUFRLE1BQU07QUFDaEIsY0FBSSxXQUFXLGFBQWEsQ0FBQztBQUM3QixtQkFBUyxNQUFNLEdBQUcsTUFBTSxTQUFTLFFBQVEsT0FBTztBQUM5QyxnQkFBSSxlQUFlLGVBQWUsU0FBUyxHQUFHLEdBQUcsQ0FBQyxHQUNoRCxPQUFPLGFBQWEsQ0FBQyxHQUNyQixPQUFPLGFBQWEsQ0FBQztBQUN2QixnQkFBSSxRQUFRLElBQUksTUFBTSxZQUFZLFNBQVMsTUFBTTtBQUMvQyxrQkFBSSxDQUFDLGlCQUFpQixLQUFLLEdBQUcsTUFBTSxNQUFNLFFBQVEsSUFBSTtBQUFHLHVCQUFPO0FBQUEsWUFDbEUsV0FBVyxDQUFDLFdBQVcsQ0FBQyxFQUFFLElBQUksSUFBSSxLQUFLLENBQUMsZUFBZSxFQUFFLElBQUksSUFBSSxHQUFHLE1BQU0sT0FBTyxJQUFJLE1BQU0sQ0FBQyxpQkFBaUIsS0FBSyxHQUFHLE1BQU0sTUFBTSxPQUFPLElBQUksR0FBRztBQUM3SSxxQkFBTztBQUFBLFlBQ1Q7QUFBQSxVQUNGO0FBQ0EsaUJBQU8sSUFBSSxTQUFTO0FBQUEsUUFDdEI7QUFDQSxlQUFPO0FBQUEsTUFDVDtBQUNBLGVBQVMsU0FBUyxHQUFHLEdBQUcsUUFBUSxNQUFNLE9BQU8sZUFBZTtBQUcxRCxZQUFJLElBQUk7QUFDUixZQUFJLGtCQUFrQixRQUFRO0FBQzVCLGNBQUksQ0FBQyxTQUFTLEdBQUcsR0FBRyxRQUFRLEtBQUssR0FBRztBQUNsQyxtQkFBTztBQUFBLFVBQ1Q7QUFBQSxRQUNGLFdBQVcsa0JBQWtCLFFBQVE7QUFDbkMsY0FBSSxDQUFDLFNBQVMsR0FBRyxHQUFHLFFBQVEsS0FBSyxHQUFHO0FBQ2xDLG1CQUFPO0FBQUEsVUFDVDtBQUFBLFFBQ0YsV0FBVyxrQkFBa0IsVUFBVTtBQUNyQyxpQkFBTyxJQUFJLEVBQUUsUUFBUSxLQUFLO0FBQ3hCLGdCQUFJLGVBQWUsR0FBRyxDQUFDLEdBQUc7QUFDeEIsa0JBQUksQ0FBQyxlQUFlLEdBQUcsQ0FBQyxLQUFLLENBQUMsZUFBZSxFQUFFLENBQUMsR0FBRyxFQUFFLENBQUMsR0FBRyxRQUFRLEtBQUssR0FBRztBQUN2RSx1QkFBTztBQUFBLGNBQ1Q7QUFBQSxZQUNGLFdBQVcsZUFBZSxHQUFHLENBQUMsR0FBRztBQUMvQixxQkFBTztBQUFBLFlBQ1QsT0FBTztBQUVMLGtCQUFJLFFBQVEsT0FBTyxLQUFLLENBQUM7QUFDekIscUJBQU8sSUFBSSxNQUFNLFFBQVEsS0FBSztBQUM1QixvQkFBSSxNQUFNLE1BQU0sQ0FBQztBQUNqQixvQkFBSSxDQUFDLGVBQWUsR0FBRyxHQUFHLEtBQUssQ0FBQyxlQUFlLEVBQUUsR0FBRyxHQUFHLEVBQUUsR0FBRyxHQUFHLFFBQVEsS0FBSyxHQUFHO0FBQzdFLHlCQUFPO0FBQUEsZ0JBQ1Q7QUFBQSxjQUNGO0FBQ0Esa0JBQUksTUFBTSxXQUFXLE9BQU8sS0FBSyxDQUFDLEVBQUUsUUFBUTtBQUMxQyx1QkFBTztBQUFBLGNBQ1Q7QUFDQSxxQkFBTztBQUFBLFlBQ1Q7QUFBQSxVQUNGO0FBQUEsUUFDRjtBQUlBLGFBQUssSUFBSSxHQUFHLElBQUksS0FBSyxRQUFRLEtBQUs7QUFDaEMsY0FBSSxRQUFRLEtBQUssQ0FBQztBQUNsQixjQUFJLENBQUMsZUFBZSxFQUFFLEtBQUssR0FBRyxFQUFFLEtBQUssR0FBRyxRQUFRLEtBQUssR0FBRztBQUN0RCxtQkFBTztBQUFBLFVBQ1Q7QUFBQSxRQUNGO0FBQ0EsZUFBTztBQUFBLE1BQ1Q7QUFDQSxlQUFTLFlBQVksTUFBTSxNQUFNO0FBQy9CLGVBQU8sZUFBZSxNQUFNLE1BQU0sTUFBTTtBQUFBLE1BQzFDO0FBQ0EsZUFBUyxrQkFBa0IsTUFBTSxNQUFNO0FBQ3JDLGVBQU8sZUFBZSxNQUFNLE1BQU0sT0FBTztBQUFBLE1BQzNDO0FBQ0EsYUFBTyxVQUFVO0FBQUEsUUFDZjtBQUFBLFFBQ0E7QUFBQSxNQUNGO0FBQUE7QUFBQTs7O0FDOWpCQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBeUJBLGVBQVMsUUFBUSxHQUFHO0FBQUU7QUFBMkIsZUFBTyxVQUFVLGNBQWMsT0FBTyxVQUFVLFlBQVksT0FBTyxPQUFPLFdBQVcsU0FBVUMsSUFBRztBQUFFLGlCQUFPLE9BQU9BO0FBQUEsUUFBRyxJQUFJLFNBQVVBLElBQUc7QUFBRSxpQkFBT0EsTUFBSyxjQUFjLE9BQU8sVUFBVUEsR0FBRSxnQkFBZ0IsVUFBVUEsT0FBTSxPQUFPLFlBQVksV0FBVyxPQUFPQTtBQUFBLFFBQUcsR0FBRyxRQUFRLENBQUM7QUFBQSxNQUFHO0FBQzdULGVBQVMsa0JBQWtCLFFBQVEsT0FBTztBQUFFLGlCQUFTLElBQUksR0FBRyxJQUFJLE1BQU0sUUFBUSxLQUFLO0FBQUUsY0FBSSxhQUFhLE1BQU0sQ0FBQztBQUFHLHFCQUFXLGFBQWEsV0FBVyxjQUFjO0FBQU8scUJBQVcsZUFBZTtBQUFNLGNBQUksV0FBVztBQUFZLHVCQUFXLFdBQVc7QUFBTSxpQkFBTyxlQUFlLFFBQVEsZUFBZSxXQUFXLEdBQUcsR0FBRyxVQUFVO0FBQUEsUUFBRztBQUFBLE1BQUU7QUFDNVUsZUFBUyxhQUFhLGFBQWEsWUFBWSxhQUFhO0FBQUUsWUFBSTtBQUFZLDRCQUFrQixZQUFZLFdBQVcsVUFBVTtBQUFHLFlBQUk7QUFBYSw0QkFBa0IsYUFBYSxXQUFXO0FBQUcsZUFBTyxlQUFlLGFBQWEsYUFBYSxFQUFFLFVBQVUsTUFBTSxDQUFDO0FBQUcsZUFBTztBQUFBLE1BQWE7QUFDNVIsZUFBUyxlQUFlLEtBQUs7QUFBRSxZQUFJLE1BQU0sYUFBYSxLQUFLLFFBQVE7QUFBRyxlQUFPLFFBQVEsR0FBRyxNQUFNLFdBQVcsTUFBTSxPQUFPLEdBQUc7QUFBQSxNQUFHO0FBQzVILGVBQVMsYUFBYSxPQUFPLE1BQU07QUFBRSxZQUFJLFFBQVEsS0FBSyxNQUFNLFlBQVksVUFBVTtBQUFNLGlCQUFPO0FBQU8sWUFBSSxPQUFPLE1BQU0sT0FBTyxXQUFXO0FBQUcsWUFBSSxTQUFTLFFBQVc7QUFBRSxjQUFJLE1BQU0sS0FBSyxLQUFLLE9BQU8sUUFBUSxTQUFTO0FBQUcsY0FBSSxRQUFRLEdBQUcsTUFBTTtBQUFVLG1CQUFPO0FBQUssZ0JBQU0sSUFBSSxVQUFVLDhDQUE4QztBQUFBLFFBQUc7QUFBRSxnQkFBUSxTQUFTLFdBQVcsU0FBUyxRQUFRLEtBQUs7QUFBQSxNQUFHO0FBQzVYLGVBQVMsZ0JBQWdCLFVBQVUsYUFBYTtBQUFFLFlBQUksRUFBRSxvQkFBb0IsY0FBYztBQUFFLGdCQUFNLElBQUksVUFBVSxtQ0FBbUM7QUFBQSxRQUFHO0FBQUEsTUFBRTtBQUN4SixVQUFJLFdBQVc7QUFBZixVQUNFLGlCQUFpQixTQUFTO0FBRDVCLFVBRUUseUJBQXlCLGVBQWU7QUFGMUMsVUFHRSx1QkFBdUIsZUFBZTtBQUh4QyxVQUlFLHdCQUF3QixlQUFlO0FBSnpDLFVBS0UsMkJBQTJCLGVBQWU7QUFMNUMsVUFNRSxtQkFBbUIsZUFBZTtBQUNwQyxVQUFJLGlCQUFpQjtBQUNyQixVQUFJLFlBQVk7QUFBaEIsVUFDRSxVQUFVLFVBQVU7QUFDdEIsVUFBSSxpQkFBaUIsZUFBaUI7QUFBdEMsVUFDRSxZQUFZLGVBQWU7QUFEN0IsVUFFRSxXQUFXLGVBQWU7QUFDNUIsVUFBSSxlQUFlLG1CQUFrQztBQUNyRCxVQUFJLFdBQVcsb0JBQThCO0FBQzdDLFVBQUksc0JBQXNCLG9CQUErQix1QkFBdUI7QUFFaEYsVUFBSTtBQUNKLFVBQUk7QUFJSixlQUFTLHFCQUFxQjtBQUM1QixZQUFJLGFBQWE7QUFDakIsc0JBQWMsV0FBVztBQUN6Qiw0QkFBb0IsV0FBVztBQUFBLE1BQ2pDO0FBVUEsVUFBSSxTQUFTO0FBTWIsVUFBSUMsVUFBUyxPQUFPLFVBQVU7QUFDOUIsVUFBSSx3QkFBd0IsQ0FBQztBQVE3QixlQUFTLFVBQVUsS0FBSztBQUN0QixZQUFJLElBQUksbUJBQW1CO0FBQU8sZ0JBQU0sSUFBSTtBQUM1QyxjQUFNLElBQUksZUFBZSxHQUFHO0FBQUEsTUFDOUI7QUFDQSxlQUFTLEtBQUssUUFBUSxVQUFVLFNBQVMsVUFBVSxjQUFjO0FBQy9ELFlBQUksVUFBVSxVQUFVO0FBQ3hCLFlBQUk7QUFDSixZQUFJLFlBQVksR0FBRztBQUNqQiw0QkFBa0I7QUFBQSxRQUNwQixXQUFXLFlBQVksR0FBRztBQUN4QixvQkFBVTtBQUNWLG1CQUFTO0FBQUEsUUFDWCxPQUFPO0FBQ0wsY0FBSSxXQUFXLE9BQU87QUFDcEIscUJBQVM7QUFDVCxnQkFBSSxPQUFPLFFBQVEsY0FBYyxRQUFRLGNBQWMsUUFBUSxLQUFLLEtBQUssT0FBTztBQUNoRixpQkFBSyw0SEFBaUksc0JBQXNCLFNBQVM7QUFBQSxVQUN2SztBQUNBLGNBQUksWUFBWTtBQUFHLHVCQUFXO0FBQUEsUUFDaEM7QUFDQSxZQUFJLG1CQUFtQjtBQUFPLGdCQUFNO0FBQ3BDLFlBQUksVUFBVTtBQUFBLFVBQ1o7QUFBQSxVQUNBO0FBQUEsVUFDQSxVQUFVLGFBQWEsU0FBWSxTQUFTO0FBQUEsVUFDNUMsY0FBYyxnQkFBZ0I7QUFBQSxRQUNoQztBQUNBLFlBQUksWUFBWSxRQUFXO0FBQ3pCLGtCQUFRLFVBQVU7QUFBQSxRQUNwQjtBQUNBLFlBQUlDLE9BQU0sSUFBSSxlQUFlLE9BQU87QUFDcEMsWUFBSSxpQkFBaUI7QUFDbkIsVUFBQUEsS0FBSSxVQUFVO0FBQ2QsVUFBQUEsS0FBSSxtQkFBbUI7QUFBQSxRQUN6QjtBQUNBLGNBQU1BO0FBQUEsTUFDUjtBQUNBLE1BQUFELFFBQU8sT0FBTztBQUdkLE1BQUFBLFFBQU8saUJBQWlCO0FBQ3hCLGVBQVMsUUFBUSxJQUFJLFFBQVEsT0FBTyxTQUFTO0FBQzNDLFlBQUksQ0FBQyxPQUFPO0FBQ1YsY0FBSSxtQkFBbUI7QUFDdkIsY0FBSSxXQUFXLEdBQUc7QUFDaEIsK0JBQW1CO0FBQ25CLHNCQUFVO0FBQUEsVUFDWixXQUFXLG1CQUFtQixPQUFPO0FBQ25DLGtCQUFNO0FBQUEsVUFDUjtBQUNBLGNBQUlDLE9BQU0sSUFBSSxlQUFlO0FBQUEsWUFDM0IsUUFBUTtBQUFBLFlBQ1IsVUFBVTtBQUFBLFlBQ1Y7QUFBQSxZQUNBLFVBQVU7QUFBQSxZQUNWLGNBQWM7QUFBQSxVQUNoQixDQUFDO0FBQ0QsVUFBQUEsS0FBSSxtQkFBbUI7QUFDdkIsZ0JBQU1BO0FBQUEsUUFDUjtBQUFBLE1BQ0Y7QUFJQSxlQUFTLEtBQUs7QUFDWixpQkFBUyxPQUFPLFVBQVUsUUFBUSxPQUFPLElBQUksTUFBTSxJQUFJLEdBQUcsT0FBTyxHQUFHLE9BQU8sTUFBTSxRQUFRO0FBQ3ZGLGVBQUssSUFBSSxJQUFJLFVBQVUsSUFBSTtBQUFBLFFBQzdCO0FBQ0EsZ0JBQVEsTUFBTSxRQUFRLENBQUMsSUFBSSxLQUFLLE1BQU0sRUFBRSxPQUFPLElBQUksQ0FBQztBQUFBLE1BQ3REO0FBQ0EsTUFBQUQsUUFBTyxLQUFLO0FBSVosTUFBQUEsUUFBTyxRQUFRLFNBQVMsTUFBTSxRQUFRLFVBQVUsU0FBUztBQUN2RCxZQUFJLFVBQVUsU0FBUyxHQUFHO0FBQ3hCLGdCQUFNLElBQUksaUJBQWlCLFVBQVUsVUFBVTtBQUFBLFFBQ2pEO0FBRUEsWUFBSSxVQUFVLFVBQVU7QUFDdEIsb0JBQVU7QUFBQSxZQUNSO0FBQUEsWUFDQTtBQUFBLFlBQ0E7QUFBQSxZQUNBLFVBQVU7QUFBQSxZQUNWLGNBQWM7QUFBQSxVQUNoQixDQUFDO0FBQUEsUUFDSDtBQUFBLE1BQ0Y7QUFJQSxNQUFBQSxRQUFPLFdBQVcsU0FBUyxTQUFTLFFBQVEsVUFBVSxTQUFTO0FBQzdELFlBQUksVUFBVSxTQUFTLEdBQUc7QUFDeEIsZ0JBQU0sSUFBSSxpQkFBaUIsVUFBVSxVQUFVO0FBQUEsUUFDakQ7QUFFQSxZQUFJLFVBQVUsVUFBVTtBQUN0QixvQkFBVTtBQUFBLFlBQ1I7QUFBQSxZQUNBO0FBQUEsWUFDQTtBQUFBLFlBQ0EsVUFBVTtBQUFBLFlBQ1YsY0FBYztBQUFBLFVBQ2hCLENBQUM7QUFBQSxRQUNIO0FBQUEsTUFDRjtBQUdBLE1BQUFBLFFBQU8sWUFBWSxTQUFTLFVBQVUsUUFBUSxVQUFVLFNBQVM7QUFDL0QsWUFBSSxVQUFVLFNBQVMsR0FBRztBQUN4QixnQkFBTSxJQUFJLGlCQUFpQixVQUFVLFVBQVU7QUFBQSxRQUNqRDtBQUNBLFlBQUksZ0JBQWdCO0FBQVcsNkJBQW1CO0FBQ2xELFlBQUksQ0FBQyxZQUFZLFFBQVEsUUFBUSxHQUFHO0FBQ2xDLG9CQUFVO0FBQUEsWUFDUjtBQUFBLFlBQ0E7QUFBQSxZQUNBO0FBQUEsWUFDQSxVQUFVO0FBQUEsWUFDVixjQUFjO0FBQUEsVUFDaEIsQ0FBQztBQUFBLFFBQ0g7QUFBQSxNQUNGO0FBR0EsTUFBQUEsUUFBTyxlQUFlLFNBQVMsYUFBYSxRQUFRLFVBQVUsU0FBUztBQUNyRSxZQUFJLFVBQVUsU0FBUyxHQUFHO0FBQ3hCLGdCQUFNLElBQUksaUJBQWlCLFVBQVUsVUFBVTtBQUFBLFFBQ2pEO0FBQ0EsWUFBSSxnQkFBZ0I7QUFBVyw2QkFBbUI7QUFDbEQsWUFBSSxZQUFZLFFBQVEsUUFBUSxHQUFHO0FBQ2pDLG9CQUFVO0FBQUEsWUFDUjtBQUFBLFlBQ0E7QUFBQSxZQUNBO0FBQUEsWUFDQSxVQUFVO0FBQUEsWUFDVixjQUFjO0FBQUEsVUFDaEIsQ0FBQztBQUFBLFFBQ0g7QUFBQSxNQUNGO0FBR0EsTUFBQUEsUUFBTyxrQkFBa0IsU0FBUyxnQkFBZ0IsUUFBUSxVQUFVLFNBQVM7QUFDM0UsWUFBSSxVQUFVLFNBQVMsR0FBRztBQUN4QixnQkFBTSxJQUFJLGlCQUFpQixVQUFVLFVBQVU7QUFBQSxRQUNqRDtBQUNBLFlBQUksZ0JBQWdCO0FBQVcsNkJBQW1CO0FBQ2xELFlBQUksQ0FBQyxrQkFBa0IsUUFBUSxRQUFRLEdBQUc7QUFDeEMsb0JBQVU7QUFBQSxZQUNSO0FBQUEsWUFDQTtBQUFBLFlBQ0E7QUFBQSxZQUNBLFVBQVU7QUFBQSxZQUNWLGNBQWM7QUFBQSxVQUNoQixDQUFDO0FBQUEsUUFDSDtBQUFBLE1BQ0Y7QUFDQSxNQUFBQSxRQUFPLHFCQUFxQjtBQUM1QixlQUFTLG1CQUFtQixRQUFRLFVBQVUsU0FBUztBQUNyRCxZQUFJLFVBQVUsU0FBUyxHQUFHO0FBQ3hCLGdCQUFNLElBQUksaUJBQWlCLFVBQVUsVUFBVTtBQUFBLFFBQ2pEO0FBQ0EsWUFBSSxnQkFBZ0I7QUFBVyw2QkFBbUI7QUFDbEQsWUFBSSxrQkFBa0IsUUFBUSxRQUFRLEdBQUc7QUFDdkMsb0JBQVU7QUFBQSxZQUNSO0FBQUEsWUFDQTtBQUFBLFlBQ0E7QUFBQSxZQUNBLFVBQVU7QUFBQSxZQUNWLGNBQWM7QUFBQSxVQUNoQixDQUFDO0FBQUEsUUFDSDtBQUFBLE1BQ0Y7QUFDQSxNQUFBQSxRQUFPLGNBQWMsU0FBUyxZQUFZLFFBQVEsVUFBVSxTQUFTO0FBQ25FLFlBQUksVUFBVSxTQUFTLEdBQUc7QUFDeEIsZ0JBQU0sSUFBSSxpQkFBaUIsVUFBVSxVQUFVO0FBQUEsUUFDakQ7QUFDQSxZQUFJLENBQUMsU0FBUyxRQUFRLFFBQVEsR0FBRztBQUMvQixvQkFBVTtBQUFBLFlBQ1I7QUFBQSxZQUNBO0FBQUEsWUFDQTtBQUFBLFlBQ0EsVUFBVTtBQUFBLFlBQ1YsY0FBYztBQUFBLFVBQ2hCLENBQUM7QUFBQSxRQUNIO0FBQUEsTUFDRjtBQUNBLE1BQUFBLFFBQU8saUJBQWlCLFNBQVMsZUFBZSxRQUFRLFVBQVUsU0FBUztBQUN6RSxZQUFJLFVBQVUsU0FBUyxHQUFHO0FBQ3hCLGdCQUFNLElBQUksaUJBQWlCLFVBQVUsVUFBVTtBQUFBLFFBQ2pEO0FBQ0EsWUFBSSxTQUFTLFFBQVEsUUFBUSxHQUFHO0FBQzlCLG9CQUFVO0FBQUEsWUFDUjtBQUFBLFlBQ0E7QUFBQSxZQUNBO0FBQUEsWUFDQSxVQUFVO0FBQUEsWUFDVixjQUFjO0FBQUEsVUFDaEIsQ0FBQztBQUFBLFFBQ0g7QUFBQSxNQUNGO0FBQ0EsVUFBSSxhQUEwQiw2QkFBYSxTQUFTRSxZQUFXLEtBQUssTUFBTSxRQUFRO0FBQ2hGLFlBQUksUUFBUTtBQUNaLHdCQUFnQixNQUFNQSxXQUFVO0FBQ2hDLGFBQUssUUFBUSxTQUFVLEtBQUs7QUFDMUIsY0FBSSxPQUFPLEtBQUs7QUFDZCxnQkFBSSxXQUFXLFVBQWEsT0FBTyxPQUFPLEdBQUcsTUFBTSxZQUFZLFNBQVMsSUFBSSxHQUFHLENBQUMsS0FBSyxvQkFBb0IsSUFBSSxHQUFHLEdBQUcsT0FBTyxHQUFHLENBQUMsR0FBRztBQUMvSCxvQkFBTSxHQUFHLElBQUksT0FBTyxHQUFHO0FBQUEsWUFDekIsT0FBTztBQUNMLG9CQUFNLEdBQUcsSUFBSSxJQUFJLEdBQUc7QUFBQSxZQUN0QjtBQUFBLFVBQ0Y7QUFBQSxRQUNGLENBQUM7QUFBQSxNQUNILENBQUM7QUFDRCxlQUFTLG9CQUFvQixRQUFRLFVBQVUsS0FBSyxTQUFTLE1BQU0sSUFBSTtBQUNyRSxZQUFJLEVBQUUsT0FBTyxXQUFXLENBQUMsa0JBQWtCLE9BQU8sR0FBRyxHQUFHLFNBQVMsR0FBRyxDQUFDLEdBQUc7QUFDdEUsY0FBSSxDQUFDLFNBQVM7QUFFWixnQkFBSSxJQUFJLElBQUksV0FBVyxRQUFRLElBQUk7QUFDbkMsZ0JBQUksSUFBSSxJQUFJLFdBQVcsVUFBVSxNQUFNLE1BQU07QUFDN0MsZ0JBQUlELE9BQU0sSUFBSSxlQUFlO0FBQUEsY0FDM0IsUUFBUTtBQUFBLGNBQ1IsVUFBVTtBQUFBLGNBQ1YsVUFBVTtBQUFBLGNBQ1YsY0FBYztBQUFBLFlBQ2hCLENBQUM7QUFDRCxZQUFBQSxLQUFJLFNBQVM7QUFDYixZQUFBQSxLQUFJLFdBQVc7QUFDZixZQUFBQSxLQUFJLFdBQVcsR0FBRztBQUNsQixrQkFBTUE7QUFBQSxVQUNSO0FBQ0Esb0JBQVU7QUFBQSxZQUNSO0FBQUEsWUFDQTtBQUFBLFlBQ0E7QUFBQSxZQUNBLFVBQVUsR0FBRztBQUFBLFlBQ2IsY0FBYztBQUFBLFVBQ2hCLENBQUM7QUFBQSxRQUNIO0FBQUEsTUFDRjtBQUNBLGVBQVMsa0JBQWtCLFFBQVEsVUFBVSxLQUFLLElBQUk7QUFDcEQsWUFBSSxPQUFPLGFBQWEsWUFBWTtBQUNsQyxjQUFJLFNBQVMsUUFBUTtBQUFHLG1CQUFPLG9CQUFvQixVQUFVLE1BQU07QUFFbkUsY0FBSSxVQUFVLFdBQVcsR0FBRztBQUMxQixrQkFBTSxJQUFJLHFCQUFxQixZQUFZLENBQUMsWUFBWSxRQUFRLEdBQUcsUUFBUTtBQUFBLFVBQzdFO0FBR0EsY0FBSSxRQUFRLE1BQU0sTUFBTSxZQUFZLFdBQVcsTUFBTTtBQUNuRCxnQkFBSUEsT0FBTSxJQUFJLGVBQWU7QUFBQSxjQUMzQjtBQUFBLGNBQ0E7QUFBQSxjQUNBLFNBQVM7QUFBQSxjQUNULFVBQVU7QUFBQSxjQUNWLGNBQWM7QUFBQSxZQUNoQixDQUFDO0FBQ0QsWUFBQUEsS0FBSSxXQUFXLEdBQUc7QUFDbEIsa0JBQU1BO0FBQUEsVUFDUjtBQUNBLGNBQUksT0FBTyxPQUFPLEtBQUssUUFBUTtBQUcvQixjQUFJLG9CQUFvQixPQUFPO0FBQzdCLGlCQUFLLEtBQUssUUFBUSxTQUFTO0FBQUEsVUFDN0IsV0FBVyxLQUFLLFdBQVcsR0FBRztBQUM1QixrQkFBTSxJQUFJLHNCQUFzQixTQUFTLFVBQVUsNEJBQTRCO0FBQUEsVUFDakY7QUFDQSxjQUFJLGdCQUFnQjtBQUFXLCtCQUFtQjtBQUNsRCxlQUFLLFFBQVEsU0FBVSxLQUFLO0FBQzFCLGdCQUFJLE9BQU8sT0FBTyxHQUFHLE1BQU0sWUFBWSxTQUFTLFNBQVMsR0FBRyxDQUFDLEtBQUssb0JBQW9CLFNBQVMsR0FBRyxHQUFHLE9BQU8sR0FBRyxDQUFDLEdBQUc7QUFDakg7QUFBQSxZQUNGO0FBQ0EsZ0NBQW9CLFFBQVEsVUFBVSxLQUFLLEtBQUssTUFBTSxFQUFFO0FBQUEsVUFDMUQsQ0FBQztBQUNELGlCQUFPO0FBQUEsUUFDVDtBQUVBLFlBQUksU0FBUyxjQUFjLFVBQWEsa0JBQWtCLFVBQVU7QUFDbEUsaUJBQU87QUFBQSxRQUNUO0FBQ0EsWUFBSSxNQUFNLGNBQWMsUUFBUSxHQUFHO0FBQ2pDLGlCQUFPO0FBQUEsUUFDVDtBQUNBLGVBQU8sU0FBUyxLQUFLLENBQUMsR0FBRyxNQUFNLE1BQU07QUFBQSxNQUN2QztBQUNBLGVBQVMsVUFBVSxJQUFJO0FBQ3JCLFlBQUksT0FBTyxPQUFPLFlBQVk7QUFDNUIsZ0JBQU0sSUFBSSxxQkFBcUIsTUFBTSxZQUFZLEVBQUU7QUFBQSxRQUNyRDtBQUNBLFlBQUk7QUFDRixhQUFHO0FBQUEsUUFDTCxTQUFTLEdBQVA7QUFDQSxpQkFBTztBQUFBLFFBQ1Q7QUFDQSxlQUFPO0FBQUEsTUFDVDtBQUNBLGVBQVMsZUFBZSxLQUFLO0FBUzNCLGVBQU8sVUFBVSxHQUFHLEtBQUssUUFBUSxRQUFRLFFBQVEsR0FBRyxNQUFNLFlBQVksT0FBTyxJQUFJLFNBQVMsY0FBYyxPQUFPLElBQUksVUFBVTtBQUFBLE1BQy9IO0FBQ0EsZUFBUyxjQUFjLFdBQVc7QUFDaEMsZUFBTyxRQUFRLFFBQVEsRUFBRSxLQUFLLFdBQVk7QUFDeEMsY0FBSTtBQUNKLGNBQUksT0FBTyxjQUFjLFlBQVk7QUFFbkMsNEJBQWdCLFVBQVU7QUFFMUIsZ0JBQUksQ0FBQyxlQUFlLGFBQWEsR0FBRztBQUNsQyxvQkFBTSxJQUFJLHlCQUF5Qix1QkFBdUIsYUFBYSxhQUFhO0FBQUEsWUFDdEY7QUFBQSxVQUNGLFdBQVcsZUFBZSxTQUFTLEdBQUc7QUFDcEMsNEJBQWdCO0FBQUEsVUFDbEIsT0FBTztBQUNMLGtCQUFNLElBQUkscUJBQXFCLGFBQWEsQ0FBQyxZQUFZLFNBQVMsR0FBRyxTQUFTO0FBQUEsVUFDaEY7QUFDQSxpQkFBTyxRQUFRLFFBQVEsRUFBRSxLQUFLLFdBQVk7QUFDeEMsbUJBQU87QUFBQSxVQUNULENBQUMsRUFBRSxLQUFLLFdBQVk7QUFDbEIsbUJBQU87QUFBQSxVQUNULENBQUMsRUFBRSxNQUFNLFNBQVUsR0FBRztBQUNwQixtQkFBTztBQUFBLFVBQ1QsQ0FBQztBQUFBLFFBQ0gsQ0FBQztBQUFBLE1BQ0g7QUFDQSxlQUFTLGFBQWEsY0FBYyxRQUFRLE9BQU8sU0FBUztBQUMxRCxZQUFJLE9BQU8sVUFBVSxVQUFVO0FBQzdCLGNBQUksVUFBVSxXQUFXLEdBQUc7QUFDMUIsa0JBQU0sSUFBSSxxQkFBcUIsU0FBUyxDQUFDLFVBQVUsU0FBUyxZQUFZLFFBQVEsR0FBRyxLQUFLO0FBQUEsVUFDMUY7QUFDQSxjQUFJLFFBQVEsTUFBTSxNQUFNLFlBQVksV0FBVyxNQUFNO0FBQ25ELGdCQUFJLE9BQU8sWUFBWSxPQUFPO0FBQzVCLG9CQUFNLElBQUksdUJBQXVCLGlCQUFpQixzQkFBdUIsT0FBTyxPQUFPLFNBQVMsZ0NBQWlDLENBQUM7QUFBQSxZQUNwSTtBQUFBLFVBQ0YsV0FBVyxXQUFXLE9BQU87QUFDM0Isa0JBQU0sSUFBSSx1QkFBdUIsaUJBQWlCLGNBQWUsT0FBTyxRQUFRLGdDQUFpQyxDQUFDO0FBQUEsVUFDcEg7QUFDQSxvQkFBVTtBQUNWLGtCQUFRO0FBQUEsUUFDVixXQUFXLFNBQVMsUUFBUSxRQUFRLEtBQUssTUFBTSxZQUFZLE9BQU8sVUFBVSxZQUFZO0FBQ3RGLGdCQUFNLElBQUkscUJBQXFCLFNBQVMsQ0FBQyxVQUFVLFNBQVMsWUFBWSxRQUFRLEdBQUcsS0FBSztBQUFBLFFBQzFGO0FBQ0EsWUFBSSxXQUFXLHVCQUF1QjtBQUNwQyxjQUFJLFVBQVU7QUFDZCxjQUFJLFNBQVMsTUFBTSxNQUFNO0FBQ3ZCLHVCQUFXLEtBQUssT0FBTyxNQUFNLE1BQU0sR0FBRztBQUFBLFVBQ3hDO0FBQ0EscUJBQVcsVUFBVSxLQUFLLE9BQU8sT0FBTyxJQUFJO0FBQzVDLGNBQUksU0FBUyxhQUFhLFNBQVMsWUFBWSxjQUFjO0FBQzdELG9CQUFVO0FBQUEsWUFDUixRQUFRO0FBQUEsWUFDUixVQUFVO0FBQUEsWUFDVixVQUFVLGFBQWE7QUFBQSxZQUN2QixTQUFTLG9CQUFvQixPQUFPLE1BQU0sRUFBRSxPQUFPLE9BQU87QUFBQSxZQUMxRDtBQUFBLFVBQ0YsQ0FBQztBQUFBLFFBQ0g7QUFDQSxZQUFJLFNBQVMsQ0FBQyxrQkFBa0IsUUFBUSxPQUFPLFNBQVMsWUFBWSxHQUFHO0FBQ3JFLGdCQUFNO0FBQUEsUUFDUjtBQUFBLE1BQ0Y7QUFDQSxlQUFTLGVBQWUsY0FBYyxRQUFRLE9BQU8sU0FBUztBQUM1RCxZQUFJLFdBQVc7QUFBdUI7QUFDdEMsWUFBSSxPQUFPLFVBQVUsVUFBVTtBQUM3QixvQkFBVTtBQUNWLGtCQUFRO0FBQUEsUUFDVjtBQUNBLFlBQUksQ0FBQyxTQUFTLGtCQUFrQixRQUFRLEtBQUssR0FBRztBQUM5QyxjQUFJLFVBQVUsVUFBVSxLQUFLLE9BQU8sT0FBTyxJQUFJO0FBQy9DLGNBQUksU0FBUyxhQUFhLFNBQVMsa0JBQWtCLGNBQWM7QUFDbkUsb0JBQVU7QUFBQSxZQUNSO0FBQUEsWUFDQSxVQUFVO0FBQUEsWUFDVixVQUFVLGFBQWE7QUFBQSxZQUN2QixTQUFTLGdCQUFnQixPQUFPLE1BQU0sRUFBRSxPQUFPLFNBQVMsSUFBSSxJQUFJLG9CQUFxQixPQUFPLFVBQVUsT0FBTyxTQUFTLEdBQUk7QUFBQSxZQUMxSDtBQUFBLFVBQ0YsQ0FBQztBQUFBLFFBQ0g7QUFDQSxjQUFNO0FBQUEsTUFDUjtBQUNBLE1BQUFELFFBQU8sU0FBUyxTQUFTLE9BQU8sV0FBVztBQUN6QyxpQkFBUyxRQUFRLFVBQVUsUUFBUSxPQUFPLElBQUksTUFBTSxRQUFRLElBQUksUUFBUSxJQUFJLENBQUMsR0FBRyxRQUFRLEdBQUcsUUFBUSxPQUFPLFNBQVM7QUFDakgsZUFBSyxRQUFRLENBQUMsSUFBSSxVQUFVLEtBQUs7QUFBQSxRQUNuQztBQUNBLHFCQUFhLE1BQU0sUUFBUSxDQUFDLFFBQVEsVUFBVSxTQUFTLENBQUMsRUFBRSxPQUFPLElBQUksQ0FBQztBQUFBLE1BQ3hFO0FBQ0EsTUFBQUEsUUFBTyxVQUFVLFNBQVMsUUFBUSxXQUFXO0FBQzNDLGlCQUFTLFFBQVEsVUFBVSxRQUFRLE9BQU8sSUFBSSxNQUFNLFFBQVEsSUFBSSxRQUFRLElBQUksQ0FBQyxHQUFHLFFBQVEsR0FBRyxRQUFRLE9BQU8sU0FBUztBQUNqSCxlQUFLLFFBQVEsQ0FBQyxJQUFJLFVBQVUsS0FBSztBQUFBLFFBQ25DO0FBQ0EsZUFBTyxjQUFjLFNBQVMsRUFBRSxLQUFLLFNBQVUsUUFBUTtBQUNyRCxpQkFBTyxhQUFhLE1BQU0sUUFBUSxDQUFDLFNBQVMsTUFBTSxFQUFFLE9BQU8sSUFBSSxDQUFDO0FBQUEsUUFDbEUsQ0FBQztBQUFBLE1BQ0g7QUFDQSxNQUFBQSxRQUFPLGVBQWUsU0FBUyxhQUFhLElBQUk7QUFDOUMsaUJBQVMsUUFBUSxVQUFVLFFBQVEsT0FBTyxJQUFJLE1BQU0sUUFBUSxJQUFJLFFBQVEsSUFBSSxDQUFDLEdBQUcsUUFBUSxHQUFHLFFBQVEsT0FBTyxTQUFTO0FBQ2pILGVBQUssUUFBUSxDQUFDLElBQUksVUFBVSxLQUFLO0FBQUEsUUFDbkM7QUFDQSx1QkFBZSxNQUFNLFFBQVEsQ0FBQyxjQUFjLFVBQVUsRUFBRSxDQUFDLEVBQUUsT0FBTyxJQUFJLENBQUM7QUFBQSxNQUN6RTtBQUNBLE1BQUFBLFFBQU8sZ0JBQWdCLFNBQVMsY0FBYyxJQUFJO0FBQ2hELGlCQUFTLFFBQVEsVUFBVSxRQUFRLE9BQU8sSUFBSSxNQUFNLFFBQVEsSUFBSSxRQUFRLElBQUksQ0FBQyxHQUFHLFFBQVEsR0FBRyxRQUFRLE9BQU8sU0FBUztBQUNqSCxlQUFLLFFBQVEsQ0FBQyxJQUFJLFVBQVUsS0FBSztBQUFBLFFBQ25DO0FBQ0EsZUFBTyxjQUFjLEVBQUUsRUFBRSxLQUFLLFNBQVUsUUFBUTtBQUM5QyxpQkFBTyxlQUFlLE1BQU0sUUFBUSxDQUFDLGVBQWUsTUFBTSxFQUFFLE9BQU8sSUFBSSxDQUFDO0FBQUEsUUFDMUUsQ0FBQztBQUFBLE1BQ0g7QUFDQSxNQUFBQSxRQUFPLFVBQVUsU0FBUyxRQUFRQyxNQUFLO0FBQ3JDLFlBQUlBLFNBQVEsUUFBUUEsU0FBUSxRQUFXO0FBQ3JDLGNBQUksVUFBVTtBQUNkLGNBQUksUUFBUUEsSUFBRyxNQUFNLFlBQVksT0FBT0EsS0FBSSxZQUFZLFVBQVU7QUFDaEUsZ0JBQUlBLEtBQUksUUFBUSxXQUFXLEtBQUtBLEtBQUksYUFBYTtBQUMvQyx5QkFBV0EsS0FBSSxZQUFZO0FBQUEsWUFDN0IsT0FBTztBQUNMLHlCQUFXQSxLQUFJO0FBQUEsWUFDakI7QUFBQSxVQUNGLE9BQU87QUFDTCx1QkFBVyxRQUFRQSxJQUFHO0FBQUEsVUFDeEI7QUFDQSxjQUFJLFNBQVMsSUFBSSxlQUFlO0FBQUEsWUFDOUIsUUFBUUE7QUFBQSxZQUNSLFVBQVU7QUFBQSxZQUNWLFVBQVU7QUFBQSxZQUNWO0FBQUEsWUFDQSxjQUFjO0FBQUEsVUFDaEIsQ0FBQztBQUdELGNBQUksWUFBWUEsS0FBSTtBQUNwQixjQUFJLE9BQU8sY0FBYyxVQUFVO0FBSWpDLGdCQUFJLE9BQU8sVUFBVSxNQUFNLElBQUk7QUFDL0IsaUJBQUssTUFBTTtBQUVYLGdCQUFJLE9BQU8sT0FBTyxNQUFNLE1BQU0sSUFBSTtBQUNsQyxxQkFBUyxJQUFJLEdBQUcsSUFBSSxLQUFLLFFBQVEsS0FBSztBQUVwQyxrQkFBSSxNQUFNLEtBQUssUUFBUSxLQUFLLENBQUMsQ0FBQztBQUM5QixrQkFBSSxRQUFRLElBQUk7QUFFZCx1QkFBTyxLQUFLLE1BQU0sR0FBRyxHQUFHO0FBQ3hCO0FBQUEsY0FDRjtBQUFBLFlBQ0Y7QUFDQSxtQkFBTyxRQUFRLEdBQUcsT0FBTyxLQUFLLEtBQUssSUFBSSxHQUFHLElBQUksRUFBRSxPQUFPLEtBQUssS0FBSyxJQUFJLENBQUM7QUFBQSxVQUN4RTtBQUNBLGdCQUFNO0FBQUEsUUFDUjtBQUFBLE1BQ0Y7QUFJQSxlQUFTLGNBQWMsUUFBUSxRQUFRLFNBQVMsSUFBSSxRQUFRO0FBQzFELFlBQUksQ0FBQyxTQUFTLE1BQU0sR0FBRztBQUNyQixnQkFBTSxJQUFJLHFCQUFxQixVQUFVLFVBQVUsTUFBTTtBQUFBLFFBQzNEO0FBQ0EsWUFBSSxRQUFRLFdBQVc7QUFDdkIsWUFBSSxPQUFPLFdBQVcsWUFBWSxvQkFBb0IsUUFBUSxNQUFNLE1BQU0sT0FBTztBQUMvRSxjQUFJLG1CQUFtQixPQUFPO0FBQzVCLGtCQUFNO0FBQUEsVUFDUjtBQUNBLGNBQUksbUJBQW1CLENBQUM7QUFHeEIsb0JBQVUsWUFBWSxPQUFPLFdBQVcsV0FBVyxpRUFBaUUsR0FBRyxPQUFPLFFBQVEsTUFBTSxHQUFHLElBQUksRUFBRSxPQUFPLFFBQVEsTUFBTSxHQUFHLEdBQUcsS0FBSyxRQUFRLG9EQUFvRCxpRUFBaUUsR0FBRyxPQUFPLFFBQVEsTUFBTSxHQUFHLGNBQWMsRUFBRSxPQUFPLFFBQVEsTUFBTSxHQUFHLElBQUk7QUFDelgsY0FBSUEsT0FBTSxJQUFJLGVBQWU7QUFBQSxZQUMzQixRQUFRO0FBQUEsWUFDUixVQUFVO0FBQUEsWUFDVjtBQUFBLFlBQ0EsVUFBVTtBQUFBLFlBQ1YsY0FBYztBQUFBLFVBQ2hCLENBQUM7QUFDRCxVQUFBQSxLQUFJLG1CQUFtQjtBQUN2QixnQkFBTUE7QUFBQSxRQUNSO0FBQUEsTUFDRjtBQUNBLE1BQUFELFFBQU8sUUFBUSxTQUFTLE1BQU0sUUFBUSxRQUFRLFNBQVM7QUFDckQsc0JBQWMsUUFBUSxRQUFRLFNBQVMsT0FBTyxPQUFPO0FBQUEsTUFDdkQ7QUFDQSxNQUFBQSxRQUFPLGVBQWUsU0FBUyxhQUFhLFFBQVEsUUFBUSxTQUFTO0FBQ25FLHNCQUFjLFFBQVEsUUFBUSxTQUFTLGNBQWMsY0FBYztBQUFBLE1BQ3JFO0FBR0EsZUFBUyxTQUFTO0FBQ2hCLGlCQUFTLFFBQVEsVUFBVSxRQUFRLE9BQU8sSUFBSSxNQUFNLEtBQUssR0FBRyxRQUFRLEdBQUcsUUFBUSxPQUFPLFNBQVM7QUFDN0YsZUFBSyxLQUFLLElBQUksVUFBVSxLQUFLO0FBQUEsUUFDL0I7QUFDQSxnQkFBUSxNQUFNLFFBQVEsQ0FBQyxRQUFRLEtBQUssTUFBTSxFQUFFLE9BQU8sSUFBSSxDQUFDO0FBQUEsTUFDMUQ7QUFDQSxNQUFBQSxRQUFPLFNBQVMsYUFBYSxRQUFRQSxTQUFRO0FBQUEsUUFDM0MsT0FBT0EsUUFBTztBQUFBLFFBQ2QsV0FBV0EsUUFBTztBQUFBLFFBQ2xCLFVBQVVBLFFBQU87QUFBQSxRQUNqQixjQUFjQSxRQUFPO0FBQUEsTUFDdkIsQ0FBQztBQUNELE1BQUFBLFFBQU8sT0FBTyxTQUFTQSxRQUFPO0FBQUE7QUFBQTs7O0FDN2tCOUI7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQTBCQSxlQUFTLFdBQVdHLE9BQU07QUFDeEIsWUFBSSxPQUFPQSxVQUFTLFVBQVU7QUFDNUIsZ0JBQU0sSUFBSSxVQUFVLHFDQUFxQyxLQUFLLFVBQVVBLEtBQUksQ0FBQztBQUFBLFFBQy9FO0FBQUEsTUFDRjtBQUdBLGVBQVMscUJBQXFCQSxPQUFNLGdCQUFnQjtBQUNsRCxZQUFJLE1BQU07QUFDVixZQUFJLG9CQUFvQjtBQUN4QixZQUFJLFlBQVk7QUFDaEIsWUFBSSxPQUFPO0FBQ1gsWUFBSTtBQUNKLGlCQUFTLElBQUksR0FBRyxLQUFLQSxNQUFLLFFBQVEsRUFBRSxHQUFHO0FBQ3JDLGNBQUksSUFBSUEsTUFBSztBQUNYLG1CQUFPQSxNQUFLLFdBQVcsQ0FBQztBQUFBLG1CQUNqQixTQUFTO0FBQ2hCO0FBQUE7QUFFQSxtQkFBTztBQUNULGNBQUksU0FBUyxJQUFVO0FBQ3JCLGdCQUFJLGNBQWMsSUFBSSxLQUFLLFNBQVMsR0FBRztBQUFBLFlBRXZDLFdBQVcsY0FBYyxJQUFJLEtBQUssU0FBUyxHQUFHO0FBQzVDLGtCQUFJLElBQUksU0FBUyxLQUFLLHNCQUFzQixLQUFLLElBQUksV0FBVyxJQUFJLFNBQVMsQ0FBQyxNQUFNLE1BQVksSUFBSSxXQUFXLElBQUksU0FBUyxDQUFDLE1BQU0sSUFBVTtBQUMzSSxvQkFBSSxJQUFJLFNBQVMsR0FBRztBQUNsQixzQkFBSSxpQkFBaUIsSUFBSSxZQUFZLEdBQUc7QUFDeEMsc0JBQUksbUJBQW1CLElBQUksU0FBUyxHQUFHO0FBQ3JDLHdCQUFJLG1CQUFtQixJQUFJO0FBQ3pCLDRCQUFNO0FBQ04sMENBQW9CO0FBQUEsb0JBQ3RCLE9BQU87QUFDTCw0QkFBTSxJQUFJLE1BQU0sR0FBRyxjQUFjO0FBQ2pDLDBDQUFvQixJQUFJLFNBQVMsSUFBSSxJQUFJLFlBQVksR0FBRztBQUFBLG9CQUMxRDtBQUNBLGdDQUFZO0FBQ1osMkJBQU87QUFDUDtBQUFBLGtCQUNGO0FBQUEsZ0JBQ0YsV0FBVyxJQUFJLFdBQVcsS0FBSyxJQUFJLFdBQVcsR0FBRztBQUMvQyx3QkFBTTtBQUNOLHNDQUFvQjtBQUNwQiw4QkFBWTtBQUNaLHlCQUFPO0FBQ1A7QUFBQSxnQkFDRjtBQUFBLGNBQ0Y7QUFDQSxrQkFBSSxnQkFBZ0I7QUFDbEIsb0JBQUksSUFBSSxTQUFTO0FBQ2YseUJBQU87QUFBQTtBQUVQLHdCQUFNO0FBQ1Isb0NBQW9CO0FBQUEsY0FDdEI7QUFBQSxZQUNGLE9BQU87QUFDTCxrQkFBSSxJQUFJLFNBQVM7QUFDZix1QkFBTyxNQUFNQSxNQUFLLE1BQU0sWUFBWSxHQUFHLENBQUM7QUFBQTtBQUV4QyxzQkFBTUEsTUFBSyxNQUFNLFlBQVksR0FBRyxDQUFDO0FBQ25DLGtDQUFvQixJQUFJLFlBQVk7QUFBQSxZQUN0QztBQUNBLHdCQUFZO0FBQ1osbUJBQU87QUFBQSxVQUNULFdBQVcsU0FBUyxNQUFZLFNBQVMsSUFBSTtBQUMzQyxjQUFFO0FBQUEsVUFDSixPQUFPO0FBQ0wsbUJBQU87QUFBQSxVQUNUO0FBQUEsUUFDRjtBQUNBLGVBQU87QUFBQSxNQUNUO0FBRUEsZUFBUyxRQUFRLEtBQUssWUFBWTtBQUNoQyxZQUFJLE1BQU0sV0FBVyxPQUFPLFdBQVc7QUFDdkMsWUFBSSxPQUFPLFdBQVcsU0FBUyxXQUFXLFFBQVEsT0FBTyxXQUFXLE9BQU87QUFDM0UsWUFBSSxDQUFDLEtBQUs7QUFDUixpQkFBTztBQUFBLFFBQ1Q7QUFDQSxZQUFJLFFBQVEsV0FBVyxNQUFNO0FBQzNCLGlCQUFPLE1BQU07QUFBQSxRQUNmO0FBQ0EsZUFBTyxNQUFNLE1BQU07QUFBQSxNQUNyQjtBQUVBLFVBQUksUUFBUTtBQUFBO0FBQUEsUUFFVixTQUFTLFNBQVMsVUFBVTtBQUMxQixjQUFJLGVBQWU7QUFDbkIsY0FBSSxtQkFBbUI7QUFDdkIsY0FBSUM7QUFFSixtQkFBUyxJQUFJLFVBQVUsU0FBUyxHQUFHLEtBQUssTUFBTSxDQUFDLGtCQUFrQixLQUFLO0FBQ3BFLGdCQUFJRDtBQUNKLGdCQUFJLEtBQUs7QUFDUCxjQUFBQSxRQUFPLFVBQVUsQ0FBQztBQUFBLGlCQUNmO0FBQ0gsa0JBQUlDLFNBQVE7QUFDVixnQkFBQUEsT0FBTSxRQUFRLElBQUk7QUFDcEIsY0FBQUQsUUFBT0M7QUFBQSxZQUNUO0FBRUEsdUJBQVdELEtBQUk7QUFHZixnQkFBSUEsTUFBSyxXQUFXLEdBQUc7QUFDckI7QUFBQSxZQUNGO0FBRUEsMkJBQWVBLFFBQU8sTUFBTTtBQUM1QiwrQkFBbUJBLE1BQUssV0FBVyxDQUFDLE1BQU07QUFBQSxVQUM1QztBQU1BLHlCQUFlLHFCQUFxQixjQUFjLENBQUMsZ0JBQWdCO0FBRW5FLGNBQUksa0JBQWtCO0FBQ3BCLGdCQUFJLGFBQWEsU0FBUztBQUN4QixxQkFBTyxNQUFNO0FBQUE7QUFFYixxQkFBTztBQUFBLFVBQ1gsV0FBVyxhQUFhLFNBQVMsR0FBRztBQUNsQyxtQkFBTztBQUFBLFVBQ1QsT0FBTztBQUNMLG1CQUFPO0FBQUEsVUFDVDtBQUFBLFFBQ0Y7QUFBQSxRQUVBLFdBQVcsU0FBUyxVQUFVQSxPQUFNO0FBQ2xDLHFCQUFXQSxLQUFJO0FBRWYsY0FBSUEsTUFBSyxXQUFXO0FBQUcsbUJBQU87QUFFOUIsY0FBSSxhQUFhQSxNQUFLLFdBQVcsQ0FBQyxNQUFNO0FBQ3hDLGNBQUksb0JBQW9CQSxNQUFLLFdBQVdBLE1BQUssU0FBUyxDQUFDLE1BQU07QUFHN0QsVUFBQUEsUUFBTyxxQkFBcUJBLE9BQU0sQ0FBQyxVQUFVO0FBRTdDLGNBQUlBLE1BQUssV0FBVyxLQUFLLENBQUM7QUFBWSxZQUFBQSxRQUFPO0FBQzdDLGNBQUlBLE1BQUssU0FBUyxLQUFLO0FBQW1CLFlBQUFBLFNBQVE7QUFFbEQsY0FBSTtBQUFZLG1CQUFPLE1BQU1BO0FBQzdCLGlCQUFPQTtBQUFBLFFBQ1Q7QUFBQSxRQUVBLFlBQVksU0FBUyxXQUFXQSxPQUFNO0FBQ3BDLHFCQUFXQSxLQUFJO0FBQ2YsaUJBQU9BLE1BQUssU0FBUyxLQUFLQSxNQUFLLFdBQVcsQ0FBQyxNQUFNO0FBQUEsUUFDbkQ7QUFBQSxRQUVBLE1BQU0sU0FBUyxPQUFPO0FBQ3BCLGNBQUksVUFBVSxXQUFXO0FBQ3ZCLG1CQUFPO0FBQ1QsY0FBSTtBQUNKLG1CQUFTLElBQUksR0FBRyxJQUFJLFVBQVUsUUFBUSxFQUFFLEdBQUc7QUFDekMsZ0JBQUksTUFBTSxVQUFVLENBQUM7QUFDckIsdUJBQVcsR0FBRztBQUNkLGdCQUFJLElBQUksU0FBUyxHQUFHO0FBQ2xCLGtCQUFJLFdBQVc7QUFDYix5QkFBUztBQUFBO0FBRVQsMEJBQVUsTUFBTTtBQUFBLFlBQ3BCO0FBQUEsVUFDRjtBQUNBLGNBQUksV0FBVztBQUNiLG1CQUFPO0FBQ1QsaUJBQU8sTUFBTSxVQUFVLE1BQU07QUFBQSxRQUMvQjtBQUFBLFFBRUEsVUFBVSxTQUFTLFNBQVMsTUFBTSxJQUFJO0FBQ3BDLHFCQUFXLElBQUk7QUFDZixxQkFBVyxFQUFFO0FBRWIsY0FBSSxTQUFTO0FBQUksbUJBQU87QUFFeEIsaUJBQU8sTUFBTSxRQUFRLElBQUk7QUFDekIsZUFBSyxNQUFNLFFBQVEsRUFBRTtBQUVyQixjQUFJLFNBQVM7QUFBSSxtQkFBTztBQUd4QixjQUFJLFlBQVk7QUFDaEIsaUJBQU8sWUFBWSxLQUFLLFFBQVEsRUFBRSxXQUFXO0FBQzNDLGdCQUFJLEtBQUssV0FBVyxTQUFTLE1BQU07QUFDakM7QUFBQSxVQUNKO0FBQ0EsY0FBSSxVQUFVLEtBQUs7QUFDbkIsY0FBSSxVQUFVLFVBQVU7QUFHeEIsY0FBSSxVQUFVO0FBQ2QsaUJBQU8sVUFBVSxHQUFHLFFBQVEsRUFBRSxTQUFTO0FBQ3JDLGdCQUFJLEdBQUcsV0FBVyxPQUFPLE1BQU07QUFDN0I7QUFBQSxVQUNKO0FBQ0EsY0FBSSxRQUFRLEdBQUc7QUFDZixjQUFJLFFBQVEsUUFBUTtBQUdwQixjQUFJLFNBQVMsVUFBVSxRQUFRLFVBQVU7QUFDekMsY0FBSSxnQkFBZ0I7QUFDcEIsY0FBSSxJQUFJO0FBQ1IsaUJBQU8sS0FBSyxRQUFRLEVBQUUsR0FBRztBQUN2QixnQkFBSSxNQUFNLFFBQVE7QUFDaEIsa0JBQUksUUFBUSxRQUFRO0FBQ2xCLG9CQUFJLEdBQUcsV0FBVyxVQUFVLENBQUMsTUFBTSxJQUFVO0FBRzNDLHlCQUFPLEdBQUcsTUFBTSxVQUFVLElBQUksQ0FBQztBQUFBLGdCQUNqQyxXQUFXLE1BQU0sR0FBRztBQUdsQix5QkFBTyxHQUFHLE1BQU0sVUFBVSxDQUFDO0FBQUEsZ0JBQzdCO0FBQUEsY0FDRixXQUFXLFVBQVUsUUFBUTtBQUMzQixvQkFBSSxLQUFLLFdBQVcsWUFBWSxDQUFDLE1BQU0sSUFBVTtBQUcvQyxrQ0FBZ0I7QUFBQSxnQkFDbEIsV0FBVyxNQUFNLEdBQUc7QUFHbEIsa0NBQWdCO0FBQUEsZ0JBQ2xCO0FBQUEsY0FDRjtBQUNBO0FBQUEsWUFDRjtBQUNBLGdCQUFJLFdBQVcsS0FBSyxXQUFXLFlBQVksQ0FBQztBQUM1QyxnQkFBSSxTQUFTLEdBQUcsV0FBVyxVQUFVLENBQUM7QUFDdEMsZ0JBQUksYUFBYTtBQUNmO0FBQUEscUJBQ08sYUFBYTtBQUNwQiw4QkFBZ0I7QUFBQSxVQUNwQjtBQUVBLGNBQUksTUFBTTtBQUdWLGVBQUssSUFBSSxZQUFZLGdCQUFnQixHQUFHLEtBQUssU0FBUyxFQUFFLEdBQUc7QUFDekQsZ0JBQUksTUFBTSxXQUFXLEtBQUssV0FBVyxDQUFDLE1BQU0sSUFBVTtBQUNwRCxrQkFBSSxJQUFJLFdBQVc7QUFDakIsdUJBQU87QUFBQTtBQUVQLHVCQUFPO0FBQUEsWUFDWDtBQUFBLFVBQ0Y7QUFJQSxjQUFJLElBQUksU0FBUztBQUNmLG1CQUFPLE1BQU0sR0FBRyxNQUFNLFVBQVUsYUFBYTtBQUFBLGVBQzFDO0FBQ0gsdUJBQVc7QUFDWCxnQkFBSSxHQUFHLFdBQVcsT0FBTyxNQUFNO0FBQzdCLGdCQUFFO0FBQ0osbUJBQU8sR0FBRyxNQUFNLE9BQU87QUFBQSxVQUN6QjtBQUFBLFFBQ0Y7QUFBQSxRQUVBLFdBQVcsU0FBUyxVQUFVQSxPQUFNO0FBQ2xDLGlCQUFPQTtBQUFBLFFBQ1Q7QUFBQSxRQUVBLFNBQVMsU0FBUyxRQUFRQSxPQUFNO0FBQzlCLHFCQUFXQSxLQUFJO0FBQ2YsY0FBSUEsTUFBSyxXQUFXO0FBQUcsbUJBQU87QUFDOUIsY0FBSSxPQUFPQSxNQUFLLFdBQVcsQ0FBQztBQUM1QixjQUFJLFVBQVUsU0FBUztBQUN2QixjQUFJLE1BQU07QUFDVixjQUFJLGVBQWU7QUFDbkIsbUJBQVMsSUFBSUEsTUFBSyxTQUFTLEdBQUcsS0FBSyxHQUFHLEVBQUUsR0FBRztBQUN6QyxtQkFBT0EsTUFBSyxXQUFXLENBQUM7QUFDeEIsZ0JBQUksU0FBUyxJQUFVO0FBQ25CLGtCQUFJLENBQUMsY0FBYztBQUNqQixzQkFBTTtBQUNOO0FBQUEsY0FDRjtBQUFBLFlBQ0YsT0FBTztBQUVQLDZCQUFlO0FBQUEsWUFDakI7QUFBQSxVQUNGO0FBRUEsY0FBSSxRQUFRO0FBQUksbUJBQU8sVUFBVSxNQUFNO0FBQ3ZDLGNBQUksV0FBVyxRQUFRO0FBQUcsbUJBQU87QUFDakMsaUJBQU9BLE1BQUssTUFBTSxHQUFHLEdBQUc7QUFBQSxRQUMxQjtBQUFBLFFBRUEsVUFBVSxTQUFTLFNBQVNBLE9BQU0sS0FBSztBQUNyQyxjQUFJLFFBQVEsVUFBYSxPQUFPLFFBQVE7QUFBVSxrQkFBTSxJQUFJLFVBQVUsaUNBQWlDO0FBQ3ZHLHFCQUFXQSxLQUFJO0FBRWYsY0FBSSxRQUFRO0FBQ1osY0FBSSxNQUFNO0FBQ1YsY0FBSSxlQUFlO0FBQ25CLGNBQUk7QUFFSixjQUFJLFFBQVEsVUFBYSxJQUFJLFNBQVMsS0FBSyxJQUFJLFVBQVVBLE1BQUssUUFBUTtBQUNwRSxnQkFBSSxJQUFJLFdBQVdBLE1BQUssVUFBVSxRQUFRQTtBQUFNLHFCQUFPO0FBQ3ZELGdCQUFJLFNBQVMsSUFBSSxTQUFTO0FBQzFCLGdCQUFJLG1CQUFtQjtBQUN2QixpQkFBSyxJQUFJQSxNQUFLLFNBQVMsR0FBRyxLQUFLLEdBQUcsRUFBRSxHQUFHO0FBQ3JDLGtCQUFJLE9BQU9BLE1BQUssV0FBVyxDQUFDO0FBQzVCLGtCQUFJLFNBQVMsSUFBVTtBQUduQixvQkFBSSxDQUFDLGNBQWM7QUFDakIsMEJBQVEsSUFBSTtBQUNaO0FBQUEsZ0JBQ0Y7QUFBQSxjQUNGLE9BQU87QUFDUCxvQkFBSSxxQkFBcUIsSUFBSTtBQUczQixpQ0FBZTtBQUNmLHFDQUFtQixJQUFJO0FBQUEsZ0JBQ3pCO0FBQ0Esb0JBQUksVUFBVSxHQUFHO0FBRWYsc0JBQUksU0FBUyxJQUFJLFdBQVcsTUFBTSxHQUFHO0FBQ25DLHdCQUFJLEVBQUUsV0FBVyxJQUFJO0FBR25CLDRCQUFNO0FBQUEsb0JBQ1I7QUFBQSxrQkFDRixPQUFPO0FBR0wsNkJBQVM7QUFDVCwwQkFBTTtBQUFBLGtCQUNSO0FBQUEsZ0JBQ0Y7QUFBQSxjQUNGO0FBQUEsWUFDRjtBQUVBLGdCQUFJLFVBQVU7QUFBSyxvQkFBTTtBQUFBLHFCQUEwQixRQUFRO0FBQUksb0JBQU1BLE1BQUs7QUFDMUUsbUJBQU9BLE1BQUssTUFBTSxPQUFPLEdBQUc7QUFBQSxVQUM5QixPQUFPO0FBQ0wsaUJBQUssSUFBSUEsTUFBSyxTQUFTLEdBQUcsS0FBSyxHQUFHLEVBQUUsR0FBRztBQUNyQyxrQkFBSUEsTUFBSyxXQUFXLENBQUMsTUFBTSxJQUFVO0FBR2pDLG9CQUFJLENBQUMsY0FBYztBQUNqQiwwQkFBUSxJQUFJO0FBQ1o7QUFBQSxnQkFDRjtBQUFBLGNBQ0YsV0FBVyxRQUFRLElBQUk7QUFHdkIsK0JBQWU7QUFDZixzQkFBTSxJQUFJO0FBQUEsY0FDWjtBQUFBLFlBQ0Y7QUFFQSxnQkFBSSxRQUFRO0FBQUkscUJBQU87QUFDdkIsbUJBQU9BLE1BQUssTUFBTSxPQUFPLEdBQUc7QUFBQSxVQUM5QjtBQUFBLFFBQ0Y7QUFBQSxRQUVBLFNBQVMsU0FBUyxRQUFRQSxPQUFNO0FBQzlCLHFCQUFXQSxLQUFJO0FBQ2YsY0FBSSxXQUFXO0FBQ2YsY0FBSSxZQUFZO0FBQ2hCLGNBQUksTUFBTTtBQUNWLGNBQUksZUFBZTtBQUduQixjQUFJLGNBQWM7QUFDbEIsbUJBQVMsSUFBSUEsTUFBSyxTQUFTLEdBQUcsS0FBSyxHQUFHLEVBQUUsR0FBRztBQUN6QyxnQkFBSSxPQUFPQSxNQUFLLFdBQVcsQ0FBQztBQUM1QixnQkFBSSxTQUFTLElBQVU7QUFHbkIsa0JBQUksQ0FBQyxjQUFjO0FBQ2pCLDRCQUFZLElBQUk7QUFDaEI7QUFBQSxjQUNGO0FBQ0E7QUFBQSxZQUNGO0FBQ0YsZ0JBQUksUUFBUSxJQUFJO0FBR2QsNkJBQWU7QUFDZixvQkFBTSxJQUFJO0FBQUEsWUFDWjtBQUNBLGdCQUFJLFNBQVMsSUFBVTtBQUVuQixrQkFBSSxhQUFhO0FBQ2YsMkJBQVc7QUFBQSx1QkFDSixnQkFBZ0I7QUFDdkIsOEJBQWM7QUFBQSxZQUNwQixXQUFXLGFBQWEsSUFBSTtBQUcxQiw0QkFBYztBQUFBLFlBQ2hCO0FBQUEsVUFDRjtBQUVBLGNBQUksYUFBYSxNQUFNLFFBQVE7QUFBQSxVQUUzQixnQkFBZ0I7QUFBQSxVQUVoQixnQkFBZ0IsS0FBSyxhQUFhLE1BQU0sS0FBSyxhQUFhLFlBQVksR0FBRztBQUMzRSxtQkFBTztBQUFBLFVBQ1Q7QUFDQSxpQkFBT0EsTUFBSyxNQUFNLFVBQVUsR0FBRztBQUFBLFFBQ2pDO0FBQUEsUUFFQSxRQUFRLFNBQVMsT0FBTyxZQUFZO0FBQ2xDLGNBQUksZUFBZSxRQUFRLE9BQU8sZUFBZSxVQUFVO0FBQ3pELGtCQUFNLElBQUksVUFBVSxxRUFBcUUsT0FBTyxVQUFVO0FBQUEsVUFDNUc7QUFDQSxpQkFBTyxRQUFRLEtBQUssVUFBVTtBQUFBLFFBQ2hDO0FBQUEsUUFFQSxPQUFPLFNBQVMsTUFBTUEsT0FBTTtBQUMxQixxQkFBV0EsS0FBSTtBQUVmLGNBQUksTUFBTSxFQUFFLE1BQU0sSUFBSSxLQUFLLElBQUksTUFBTSxJQUFJLEtBQUssSUFBSSxNQUFNLEdBQUc7QUFDM0QsY0FBSUEsTUFBSyxXQUFXO0FBQUcsbUJBQU87QUFDOUIsY0FBSSxPQUFPQSxNQUFLLFdBQVcsQ0FBQztBQUM1QixjQUFJLGFBQWEsU0FBUztBQUMxQixjQUFJO0FBQ0osY0FBSSxZQUFZO0FBQ2QsZ0JBQUksT0FBTztBQUNYLG9CQUFRO0FBQUEsVUFDVixPQUFPO0FBQ0wsb0JBQVE7QUFBQSxVQUNWO0FBQ0EsY0FBSSxXQUFXO0FBQ2YsY0FBSSxZQUFZO0FBQ2hCLGNBQUksTUFBTTtBQUNWLGNBQUksZUFBZTtBQUNuQixjQUFJLElBQUlBLE1BQUssU0FBUztBQUl0QixjQUFJLGNBQWM7QUFHbEIsaUJBQU8sS0FBSyxPQUFPLEVBQUUsR0FBRztBQUN0QixtQkFBT0EsTUFBSyxXQUFXLENBQUM7QUFDeEIsZ0JBQUksU0FBUyxJQUFVO0FBR25CLGtCQUFJLENBQUMsY0FBYztBQUNqQiw0QkFBWSxJQUFJO0FBQ2hCO0FBQUEsY0FDRjtBQUNBO0FBQUEsWUFDRjtBQUNGLGdCQUFJLFFBQVEsSUFBSTtBQUdkLDZCQUFlO0FBQ2Ysb0JBQU0sSUFBSTtBQUFBLFlBQ1o7QUFDQSxnQkFBSSxTQUFTLElBQVU7QUFFbkIsa0JBQUksYUFBYTtBQUFJLDJCQUFXO0FBQUEsdUJBQVcsZ0JBQWdCO0FBQUcsOEJBQWM7QUFBQSxZQUM5RSxXQUFXLGFBQWEsSUFBSTtBQUc1Qiw0QkFBYztBQUFBLFlBQ2hCO0FBQUEsVUFDRjtBQUVBLGNBQUksYUFBYSxNQUFNLFFBQVE7QUFBQSxVQUUvQixnQkFBZ0I7QUFBQSxVQUVoQixnQkFBZ0IsS0FBSyxhQUFhLE1BQU0sS0FBSyxhQUFhLFlBQVksR0FBRztBQUN2RSxnQkFBSSxRQUFRLElBQUk7QUFDZCxrQkFBSSxjQUFjLEtBQUs7QUFBWSxvQkFBSSxPQUFPLElBQUksT0FBT0EsTUFBSyxNQUFNLEdBQUcsR0FBRztBQUFBO0FBQU8sb0JBQUksT0FBTyxJQUFJLE9BQU9BLE1BQUssTUFBTSxXQUFXLEdBQUc7QUFBQSxZQUNsSTtBQUFBLFVBQ0YsT0FBTztBQUNMLGdCQUFJLGNBQWMsS0FBSyxZQUFZO0FBQ2pDLGtCQUFJLE9BQU9BLE1BQUssTUFBTSxHQUFHLFFBQVE7QUFDakMsa0JBQUksT0FBT0EsTUFBSyxNQUFNLEdBQUcsR0FBRztBQUFBLFlBQzlCLE9BQU87QUFDTCxrQkFBSSxPQUFPQSxNQUFLLE1BQU0sV0FBVyxRQUFRO0FBQ3pDLGtCQUFJLE9BQU9BLE1BQUssTUFBTSxXQUFXLEdBQUc7QUFBQSxZQUN0QztBQUNBLGdCQUFJLE1BQU1BLE1BQUssTUFBTSxVQUFVLEdBQUc7QUFBQSxVQUNwQztBQUVBLGNBQUksWUFBWTtBQUFHLGdCQUFJLE1BQU1BLE1BQUssTUFBTSxHQUFHLFlBQVksQ0FBQztBQUFBLG1CQUFXO0FBQVksZ0JBQUksTUFBTTtBQUV6RixpQkFBTztBQUFBLFFBQ1Q7QUFBQSxRQUVBLEtBQUs7QUFBQSxRQUNMLFdBQVc7QUFBQSxRQUNYLE9BQU87QUFBQSxRQUNQLE9BQU87QUFBQSxNQUNUO0FBRUEsWUFBTSxRQUFRO0FBRWQsYUFBTyxVQUFVO0FBQUE7QUFBQTs7O0FDaGhCakI7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUdBLGFBQU8sZUFBZSxTQUFTLGNBQWMsRUFBRSxPQUFPLEtBQUssQ0FBQztBQUM1RCxVQUFNLFlBQVksT0FBTyxlQUFlLGNBQ2xDLGFBQ0EsT0FBTyxTQUFXLGNBQ2QsT0FDQSxDQUFDO0FBQ1gsY0FBUSxpQkFBaUIsT0FBTyxXQUFXLGNBQWMsU0FBUyxVQUFVLFVBQVU7QUFBQTtBQUFBOzs7QUNUdEY7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQWdDQSxhQUFPLGVBQWUsU0FBUyxjQUFjLEVBQUUsT0FBTyxLQUFLLENBQUM7QUFDNUQsVUFBTSxXQUFXO0FBQ2pCLGNBQVEsZ0JBQWdCO0FBQ3hCLGNBQVEsYUFBYTtBQUNyQixjQUFRLGNBQWM7QUFDdEIsY0FBUSxrQkFBa0I7QUFDMUIsY0FBUSxxQkFBcUI7QUFDN0IsY0FBUSxvQkFBb0I7QUFDNUIsY0FBUSxjQUFjO0FBQ3RCLGNBQVEsZ0JBQWdCO0FBQ3hCLGNBQVEsYUFBYTtBQUNyQixjQUFRLGVBQWU7QUFDdkIsY0FBUSxhQUFhO0FBQ3JCLGNBQVEsaUJBQWlCO0FBQ3pCLGNBQVEsY0FBYztBQUN0QixjQUFRLG9CQUFvQjtBQUM1QixjQUFRLG9CQUFvQjtBQUM1QixjQUFRLGtCQUFrQjtBQUMxQixjQUFRLGVBQWU7QUFDdkIsY0FBUSxvQkFBb0I7QUFDNUIsY0FBUSxZQUFZO0FBQ3BCLGNBQVEsY0FBYztBQUN0QixjQUFRLGNBQWM7QUFDdEIsY0FBUSxjQUFjO0FBQ3RCLGNBQVEsYUFBYTtBQUNyQixjQUFRLG9CQUFvQjtBQUM1QixjQUFRLGFBQWE7QUFDckIsY0FBUSxjQUFjO0FBQ3RCLGNBQVEsbUJBQW1CO0FBQzNCLGNBQVEsYUFBYTtBQUNyQixjQUFRLGNBQWM7QUFDdEIsY0FBUSxXQUFXO0FBQ25CLGNBQVEsZUFBZTtBQUN2QixjQUFRLGNBQWM7QUFDdEIsY0FBUSxhQUFhO0FBQ3JCLGNBQVEsY0FBYztBQUN0QixjQUFRLGNBQWM7QUFDdEIsY0FBUSxnQkFBZ0I7QUFDeEIsY0FBUSxpQkFBaUI7QUFDekIsY0FBUSxvQkFBb0I7QUFDNUIsY0FBUSxnQkFBZ0I7QUFDeEIsY0FBUSxpQkFBaUI7QUFDekIsY0FBUSxtQkFBbUI7QUFDM0IsY0FBUSxjQUFjO0FBQ3RCLGNBQVEsZUFBZTtBQUN2QixjQUFRLGNBQWM7QUFDdEIsY0FBUSxjQUFjO0FBQ3RCLGNBQVEsZUFBZTtBQUN2QixjQUFRLGNBQWM7QUFDdEIsY0FBUSxlQUFlO0FBQ3ZCLGNBQVEsY0FBYztBQUN0QixjQUFRLGNBQWM7QUFDdEIsY0FBUSxtQkFBbUI7QUFDM0IsY0FBUSxjQUFjO0FBQ3RCLGNBQVEsY0FBYztBQUN0QixjQUFRLGdCQUFnQjtBQUN4QixjQUFRLGVBQWU7QUFDdkIsY0FBUSxpQkFBaUI7QUFDekIsY0FBUSx1QkFBdUI7QUFDL0IsY0FBUSxnQkFBZ0I7QUFDeEIsY0FBUSxlQUFlO0FBQ3ZCLGNBQVEsY0FBYztBQUN0QixjQUFRLGFBQWE7QUFDckIsY0FBUSxpQkFBaUI7QUFDekIsY0FBUSxrQkFBa0I7QUFDMUIsY0FBUSxhQUFhO0FBQ3JCLGNBQVEsYUFBYTtBQUNyQixjQUFRLGNBQWM7QUFDdEIsY0FBUSx1QkFBdUI7QUFDL0IsY0FBUSxrQkFBa0I7QUFDMUIsY0FBUSxjQUFjO0FBQ3RCLGNBQVEsYUFBYTtBQUNyQixjQUFRLGNBQWM7QUFDdEIsY0FBUSxhQUFhO0FBQ3JCLGNBQVEsY0FBYztBQUN0QixjQUFRLGlCQUFpQjtBQUN6QixjQUFRLGVBQWU7QUFDdkIsY0FBUSxhQUFhO0FBQ3JCLGNBQVEsbUJBQW1CO0FBQzNCLGNBQVEsZUFBZTtBQUN2QixjQUFRLGVBQWU7QUFDdkIsY0FBUSxjQUFjO0FBQ3RCLGNBQVEsZUFBZTtBQUN2QixjQUFRLGVBQWU7QUFDdkIsY0FBUSxjQUFjO0FBQ3RCLGNBQVEsY0FBYztBQUN0QixjQUFRLGNBQWM7QUFDdEIsY0FBUSxjQUFjO0FBQ3RCLGNBQVEsZUFBZTtBQUN2QixjQUFRLGVBQWU7QUFDdkIsY0FBUSxlQUFlO0FBQ3ZCLGNBQVEsZUFBZTtBQUN2QixjQUFRLGVBQWU7QUFDdkIsY0FBUSxlQUFlO0FBQ3ZCLGNBQVEsZUFBZTtBQUN2QixjQUFRLGVBQWU7QUFDdkIsY0FBUSxlQUFlO0FBQ3ZCLGNBQVEsZUFBZTtBQUN2QixjQUFRLGNBQWM7QUFDdEIsY0FBUSxlQUFlO0FBQ3ZCLGNBQVEsZUFBZTtBQUN2QixjQUFRLGlCQUFpQjtBQUN6QixjQUFRLGVBQWU7QUFDdkIsY0FBUSxlQUFlO0FBQ3ZCLGNBQVEsd0JBQXdCO0FBQ2hDLGNBQVEsNkJBQTZCO0FBQ3JDLGNBQVEsaUNBQWlDO0FBQ3pDLGNBQVEsMEJBQTBCO0FBQ2xDLGNBQVEsNkJBQTZCO0FBQ3JDLGNBQVEsNkJBQTZCO0FBQ3JDLGNBQVEsOEJBQThCO0FBQ3RDLGNBQVEsOEJBQThCO0FBQ3RDLGNBQVEscUJBQXFCO0FBQzdCLGNBQVEsb0JBQW9CO0FBQzVCLGNBQVEsdUJBQXVCO0FBQy9CLGNBQVEsb0JBQW9CO0FBQzVCLGNBQVEsbUJBQW1CO0FBQzNCLGNBQVEseUJBQXlCLFNBQVMsZUFBZSxDQUFrQjtBQUMzRSxjQUFRLHFCQUFxQixTQUFTLGVBQWUsQ0FBa0I7QUFDdkUsY0FBUSxxQkFBcUIsU0FBUyxlQUFlLENBQWtCO0FBQ3ZFLGNBQVEsaUNBQWlDLFNBQVMsZUFBZSxDQUFrQjtBQUNuRixjQUFRLHFCQUFxQixTQUFTLGVBQWUsRUFBa0I7QUFDdkUsY0FBUSxxQkFBcUIsU0FBUyxlQUFlLEVBQWtCO0FBQ3ZFLGNBQVEsc0JBQXNCLFNBQVMsZUFBZSxFQUFrQjtBQUN4RSxjQUFRLHVCQUF1QixTQUFTLGVBQWUsR0FBa0I7QUFDekUsY0FBUSx5QkFBeUIsU0FBUyxlQUFlLEdBQWtCO0FBQzNFLGNBQVEsbUNBQW1DLFNBQVMsZUFBZSxHQUFrQjtBQUNyRixjQUFRLDhCQUE4QixTQUFTLGVBQWUsSUFBa0I7QUFDaEYsY0FBUSw4QkFBOEIsU0FBUyxlQUFlLElBQWtCO0FBQ2hGLGNBQVEsOEJBQThCLFNBQVMsZUFBZSxJQUFrQjtBQUNoRixjQUFRLHVCQUF1QixTQUFTLGVBQWUsSUFBa0I7QUFDekUsY0FBUSx3QkFBd0IsU0FBUyxlQUFlLEtBQWtCO0FBQzFFLGNBQVEsMkJBQTJCLFNBQVMsZUFBZSxLQUFrQjtBQUM3RSxjQUFRLGdDQUFnQyxTQUFTLGVBQWUsS0FBa0I7QUFDbEYsY0FBUSxnQ0FBZ0MsU0FBUyxlQUFlLE1BQWtCO0FBQ2xGLGNBQVEsK0JBQStCLFNBQVMsZUFBZSxNQUFrQjtBQUNqRixjQUFRLG9DQUFvQyxTQUFTLGVBQWUsTUFBa0I7QUFDdEYsY0FBUSxxQ0FBcUMsU0FBUyxlQUFlLE9BQWtCO0FBQ3ZGLGNBQVEsNkJBQTZCLFNBQVMsZUFBZSxPQUFrQjtBQUMvRSxjQUFRLGtDQUFrQyxTQUFTLGVBQWUsT0FBa0I7QUFDcEYsY0FBUSxtQ0FBbUMsU0FBUyxlQUFlLE9BQWtCO0FBQ3JGLGNBQVEsMEJBQTBCLFNBQVMsZUFBZSxRQUFrQjtBQUM1RSxjQUFRLG1DQUFtQyxTQUFTLGVBQWUsUUFBa0I7QUFDckYsY0FBUSw4QkFBOEIsU0FBUyxlQUFlLFFBQWtCO0FBQ2hGLGNBQVEsK0JBQStCLFNBQVMsZUFBZSxTQUFrQjtBQUNqRixjQUFRLDJCQUEyQixTQUFTLGVBQWUsU0FBa0I7QUFDN0UsY0FBUSxhQUFhLFFBQVEseUJBQ3pCLFFBQVEscUJBQ1IsUUFBUSxxQkFDUixRQUFRLGlDQUNSLFFBQVEscUJBQ1IsUUFBUSxxQkFDUixRQUFRLHNCQUNSLFFBQVEsdUJBQ1IsUUFBUSx5QkFDUixRQUFRLG1DQUNSLFFBQVEsOEJBQ1IsUUFBUSw4QkFDUixRQUFRLDhCQUNSLFFBQVEsdUJBQ1IsUUFBUSx3QkFDUixRQUFRLDJCQUNSLFFBQVEsZ0NBQ1IsUUFBUSxnQ0FDUixRQUFRLCtCQUNSLFFBQVEsb0NBQ1IsUUFBUSxxQ0FDUixRQUFRLDZCQUNSLFFBQVEsbUNBQ1IsUUFBUSxrQ0FDUixRQUFRLDBCQUNSLFFBQVEsOEJBQ1IsUUFBUSxtQ0FDUixRQUFRLCtCQUNSLFFBQVE7QUFDWixjQUFRLDJCQUEyQixRQUFRO0FBQzNDLGNBQVEsaUNBQWlDLFFBQVE7QUFDakQsY0FBUSwrQkFBK0IsUUFBUTtBQUMvQyxjQUFRLHFDQUFxQyxRQUFRO0FBQ3JELGNBQVEsMkJBQTJCLFFBQVEseUJBQ3ZDLFFBQVEscUJBQ1IsUUFBUSxxQkFDUixRQUFRLGlDQUNSLFFBQVEscUJBQ1IsUUFBUSxxQkFDUixRQUFRLHNCQUNSLFFBQVEsdUJBQ1IsUUFBUSx5QkFDUixRQUFRLDZCQUNSLFFBQVEsa0NBQ1IsUUFBUSxtQ0FDUixRQUFRO0FBQ1osY0FBUSxpQ0FBaUMsU0FBUyxlQUFlLENBQUM7QUFDbEUsY0FBUSx3QkFBd0IsUUFBUSxpQ0FDcEMsUUFBUSxxQkFDUixRQUFRLHVCQUNSLFFBQVEsbUNBQ1IsUUFBUSw4QkFDUixRQUFRLDhCQUNSLFFBQVEsOEJBQ1IsUUFBUSx1QkFDUixRQUFRLHdCQUNSLFFBQVEsMkJBQ1IsUUFBUSxnQ0FDUixRQUFRLGdDQUNSLFFBQVEsK0JBQ1IsUUFBUSxvQ0FDUixRQUFRLHFDQUNSLFFBQVEsNkJBQ1IsUUFBUSxtQ0FDUixRQUFRLDBCQUNSLFFBQVEsOEJBQ1IsUUFBUSxtQ0FDUixRQUFRO0FBQ1osY0FBUSw4QkFBOEIsUUFBUSx3QkFBd0IsUUFBUTtBQUM5RSxjQUFRLHFCQUFxQixRQUFRLHFCQUNqQyxRQUFRLGlDQUNSLFFBQVEsc0JBQ1IsUUFBUSw2QkFDUixRQUFRLCtCQUNSLFFBQVE7QUFDWixjQUFRLDJCQUEyQixRQUFRO0FBQzNDLGNBQVEsa0JBQWtCLFFBQVEscUJBQzlCLFFBQVEsaUNBQ1IsUUFBUSxzQkFDUixRQUFRLDZCQUNSLFFBQVE7QUFDWixjQUFRLHdCQUF3QixTQUFTLGVBQWUsQ0FBQztBQUN6RCxjQUFRLHNCQUFzQjtBQUM5QixjQUFRLHVCQUF1QjtBQUMvQixjQUFRLGdDQUFnQztBQUN4QyxjQUFRLCtCQUErQjtBQUN2QyxjQUFRLHVCQUF1QjtBQUMvQixjQUFRLHlCQUF5QjtBQUNqQyxjQUFRLDBCQUEwQjtBQUNsQyxjQUFRLHlCQUF5QixLQUFLO0FBQ3RDLGNBQVEsNkJBQTZCLEtBQUs7QUFDMUMsY0FBUSx5QkFBeUIsS0FBSztBQUN0QyxjQUFRLDZCQUE2QixLQUFLO0FBQzFDLGNBQVEsZUFBZSxLQUFLO0FBQzVCLGNBQVEsbUJBQW1CLEtBQUs7QUFDaEMsY0FBUSxjQUFjLEtBQUs7QUFDM0IsY0FBUSxlQUFlLEtBQUs7QUFDNUIsY0FBUSx1QkFBdUI7QUFDL0IsY0FBUSx1QkFBdUI7QUFDL0IsY0FBUSxvQkFBb0I7QUFDNUIsY0FBUSxxQkFBcUI7QUFDN0IsY0FBUSxxQkFBcUI7QUFDN0IsY0FBUSxrQkFBa0I7QUFDMUIsY0FBUSxrQkFBa0I7QUFDMUIsY0FBUSxrQkFBa0I7QUFFMUIsY0FBUSxZQUFZO0FBQUEsUUFDaEIsT0FBTyxRQUFRO0FBQUEsUUFDZixRQUFRLFFBQVE7QUFBQSxRQUNoQixZQUFZLFFBQVE7QUFBQSxRQUNwQixlQUFlLFFBQVE7QUFBQSxRQUN2QixjQUFjLFFBQVE7QUFBQSxRQUN0QixVQUFVLFFBQVE7QUFBQSxRQUNsQixRQUFRLFFBQVE7QUFBQTtBQUFBLFFBRWhCLE9BQU8sUUFBUTtBQUFBO0FBQUEsUUFFZixTQUFTLFFBQVE7QUFBQTtBQUFBO0FBQUE7QUFBQSxRQUlqQixPQUFPLFFBQVE7QUFBQSxRQUNmLFdBQVcsUUFBUTtBQUFBLFFBQ25CLFFBQVEsUUFBUTtBQUFBO0FBQUE7QUFBQSxRQUdoQixjQUFjLFFBQVE7QUFBQSxRQUN0QixjQUFjLFFBQVE7QUFBQSxRQUN0QixZQUFZLFFBQVE7QUFBQSxRQUNwQixXQUFXLFFBQVE7QUFBQSxRQUNuQixjQUFjLFFBQVE7QUFBQSxRQUN0QixNQUFNLFFBQVE7QUFBQSxRQUNkLFFBQVEsUUFBUTtBQUFBLFFBQ2hCLFFBQVEsUUFBUTtBQUFBLFFBQ2hCLFFBQVEsUUFBUTtBQUFBLFFBQ2hCLE9BQU8sUUFBUTtBQUFBLFFBQ2YsV0FBVyxRQUFRO0FBQUEsUUFDbkIsY0FBYyxRQUFRO0FBQUE7QUFBQSxRQUV0QixPQUFPLFFBQVE7QUFBQSxRQUNmLFFBQVEsUUFBUTtBQUFBLFFBQ2hCLGFBQWEsUUFBUTtBQUFBLFFBQ3JCLE9BQU8sUUFBUTtBQUFBLFFBQ2YsUUFBUSxRQUFRO0FBQUEsUUFDaEIsS0FBSyxRQUFRO0FBQUEsUUFDYixTQUFTLFFBQVE7QUFBQSxRQUNqQixRQUFRLFFBQVE7QUFBQSxRQUNoQixPQUFPLFFBQVE7QUFBQSxRQUNmLFFBQVEsUUFBUTtBQUFBLFFBQ2hCLFFBQVEsUUFBUTtBQUFBLFFBQ2hCLFVBQVUsUUFBUTtBQUFBLFFBQ2xCLFdBQVcsUUFBUTtBQUFBLFFBQ25CLGNBQWMsUUFBUTtBQUFBLFFBQ3RCLFVBQVUsUUFBUTtBQUFBLFFBQ2xCLFdBQVcsUUFBUTtBQUFBLFFBQ25CLGFBQWEsUUFBUTtBQUFBLFFBQ3JCLFFBQVEsUUFBUTtBQUFBLFFBQ2hCLFNBQVMsUUFBUTtBQUFBLFFBQ2pCLFFBQVEsUUFBUTtBQUFBLFFBQ2hCLFFBQVEsUUFBUTtBQUFBLFFBQ2hCLFNBQVMsUUFBUTtBQUFBLFFBQ2pCLFFBQVEsUUFBUTtBQUFBLFFBQ2hCLFNBQVMsUUFBUTtBQUFBLFFBQ2pCLFFBQVEsUUFBUTtBQUFBLFFBQ2hCLFFBQVEsUUFBUTtBQUFBLFFBQ2hCLGFBQWEsUUFBUTtBQUFBLFFBQ3JCLFFBQVEsUUFBUTtBQUFBLFFBQ2hCLFFBQVEsUUFBUTtBQUFBLFFBQ2hCLFVBQVUsUUFBUTtBQUFBLFFBQ2xCLFNBQVMsUUFBUTtBQUFBLFFBQ2pCLFdBQVcsUUFBUTtBQUFBLFFBQ25CLGlCQUFpQixRQUFRO0FBQUEsUUFDekIsVUFBVSxRQUFRO0FBQUEsUUFDbEIsUUFBUSxRQUFRO0FBQUEsUUFDaEIsT0FBTyxRQUFRO0FBQUEsUUFDZixXQUFXLFFBQVE7QUFBQSxRQUNuQixZQUFZLFFBQVE7QUFBQSxRQUNwQixPQUFPLFFBQVE7QUFBQSxRQUNmLE9BQU8sUUFBUTtBQUFBLFFBQ2YsUUFBUSxRQUFRO0FBQUEsUUFDaEIsaUJBQWlCLFFBQVE7QUFBQSxRQUN6QixZQUFZLFFBQVE7QUFBQSxRQUNwQixRQUFRLFFBQVE7QUFBQSxRQUNoQixPQUFPLFFBQVE7QUFBQSxRQUNmLFFBQVEsUUFBUTtBQUFBLFFBQ2hCLE9BQU8sUUFBUTtBQUFBLFFBQ2YsUUFBUSxRQUFRO0FBQUEsUUFDaEIsV0FBVyxRQUFRO0FBQUEsUUFDbkIsU0FBUyxRQUFRO0FBQUEsUUFDakIsT0FBTyxRQUFRO0FBQUEsTUFDbkI7QUFDQSxjQUFRLGFBQWE7QUFBQSxRQUNqQixDQUFDLFFBQVEsV0FBVyxHQUFHO0FBQUEsUUFDdkIsQ0FBQyxRQUFRLFdBQVcsR0FBRztBQUFBLFFBQ3ZCLENBQUMsUUFBUSxZQUFZLEdBQUc7QUFBQSxRQUN4QixDQUFDLFFBQVEsV0FBVyxHQUFHO0FBQUEsUUFDdkIsQ0FBQyxRQUFRLFlBQVksR0FBRztBQUFBLFFBQ3hCLENBQUMsUUFBUSxZQUFZLEdBQUc7QUFBQSxRQUN4QixDQUFDLFFBQVEsV0FBVyxHQUFHO0FBQUEsUUFDdkIsQ0FBQyxRQUFRLFdBQVcsR0FBRztBQUFBLFFBQ3ZCLENBQUMsUUFBUSxZQUFZLEdBQUc7QUFBQSxRQUN4QixDQUFDLFFBQVEsWUFBWSxHQUFHO0FBQUEsUUFDeEIsQ0FBQyxRQUFRLFlBQVksR0FBRztBQUFBLFFBQ3hCLENBQUMsUUFBUSxZQUFZLEdBQUc7QUFBQSxRQUN4QixDQUFDLFFBQVEsWUFBWSxHQUFHO0FBQUEsUUFDeEIsQ0FBQyxRQUFRLFlBQVksR0FBRztBQUFBLFFBQ3hCLENBQUMsUUFBUSxZQUFZLEdBQUc7QUFBQSxRQUN4QixDQUFDLFFBQVEsWUFBWSxHQUFHO0FBQUEsUUFDeEIsQ0FBQyxRQUFRLFlBQVksR0FBRztBQUFBLFFBQ3hCLENBQUMsUUFBUSxZQUFZLEdBQUc7QUFBQSxRQUN4QixDQUFDLFFBQVEsWUFBWSxHQUFHO0FBQUEsUUFDeEIsQ0FBQyxRQUFRLFlBQVksR0FBRztBQUFBLFFBQ3hCLENBQUMsUUFBUSxZQUFZLEdBQUc7QUFBQSxRQUN4QixDQUFDLFFBQVEsV0FBVyxHQUFHO0FBQUEsUUFDdkIsQ0FBQyxRQUFRLFlBQVksR0FBRztBQUFBLFFBQ3hCLENBQUMsUUFBUSxZQUFZLEdBQUc7QUFBQSxRQUN4QixDQUFDLFFBQVEsY0FBYyxHQUFHO0FBQUEsTUFDOUI7QUFBQTtBQUFBOzs7QUMzWUEsTUFBSSxPQXFMRSxPQVlDO0FBak1QO0FBQUE7QUFBQTtBQUFBO0FBQUEsTUFBSSxRQUFRO0FBQUEsUUFDUjtBQUFBLFFBQ0E7QUFBQSxRQUNBO0FBQUEsUUFDQTtBQUFBLFFBQ0E7QUFBQSxRQUNBO0FBQUEsUUFDQTtBQUFBLFFBQ0E7QUFBQSxRQUNBO0FBQUEsUUFDQTtBQUFBLFFBQ0E7QUFBQSxRQUNBO0FBQUEsUUFDQTtBQUFBLFFBQ0E7QUFBQSxRQUNBO0FBQUEsUUFDQTtBQUFBLFFBQ0E7QUFBQSxRQUNBO0FBQUEsUUFDQTtBQUFBLFFBQ0E7QUFBQSxRQUNBO0FBQUEsUUFDQTtBQUFBLFFBQ0E7QUFBQSxRQUNBO0FBQUEsUUFDQTtBQUFBLFFBQ0E7QUFBQSxRQUNBO0FBQUEsUUFDQTtBQUFBLFFBQ0E7QUFBQSxRQUNBO0FBQUEsUUFDQTtBQUFBLFFBQ0E7QUFBQSxRQUNBO0FBQUEsUUFDQTtBQUFBLFFBQ0E7QUFBQSxRQUNBO0FBQUEsUUFDQTtBQUFBLFFBQ0E7QUFBQSxRQUNBO0FBQUEsUUFDQTtBQUFBLFFBQ0E7QUFBQSxRQUNBO0FBQUEsUUFDQTtBQUFBLFFBQ0E7QUFBQSxRQUNBO0FBQUEsUUFDQTtBQUFBLFFBQ0E7QUFBQSxRQUNBO0FBQUEsUUFDQTtBQUFBLFFBQ0E7QUFBQSxRQUNBO0FBQUEsUUFDQTtBQUFBLFFBQ0E7QUFBQSxRQUNBO0FBQUEsUUFDQTtBQUFBLFFBQ0E7QUFBQSxRQUNBO0FBQUEsUUFDQTtBQUFBLFFBQ0E7QUFBQSxRQUNBO0FBQUEsUUFDQTtBQUFBLFFBQ0E7QUFBQSxRQUNBO0FBQUEsUUFDQTtBQUFBLFFBQ0E7QUFBQSxRQUNBO0FBQUEsUUFDQTtBQUFBLFFBQ0E7QUFBQSxRQUNBO0FBQUEsUUFDQTtBQUFBLFFBQ0E7QUFBQSxRQUNBO0FBQUEsUUFDQTtBQUFBLFFBQ0E7QUFBQSxRQUNBO0FBQUEsUUFDQTtBQUFBLFFBQ0E7QUFBQSxRQUNBO0FBQUEsUUFDQTtBQUFBLFFBQ0E7QUFBQSxRQUNBO0FBQUEsUUFDQTtBQUFBLFFBQ0E7QUFBQSxRQUNBO0FBQUEsUUFDQTtBQUFBLFFBQ0E7QUFBQSxRQUNBO0FBQUEsUUFDQTtBQUFBLFFBQ0E7QUFBQSxRQUNBO0FBQUEsUUFDQTtBQUFBLFFBQ0E7QUFBQSxRQUNBO0FBQUEsUUFDQTtBQUFBLFFBQ0E7QUFBQSxRQUNBO0FBQUEsUUFDQTtBQUFBLFFBQ0E7QUFBQSxRQUNBO0FBQUEsUUFDQTtBQUFBLFFBQ0E7QUFBQSxRQUNBO0FBQUEsUUFDQTtBQUFBLFFBQ0E7QUFBQSxRQUNBO0FBQUEsUUFDQTtBQUFBO0FBQUEsUUFDQTtBQUFBO0FBQUE7QUFBQSxRQUVBO0FBQUEsUUFDQTtBQUFBLFFBQ0E7QUFBQSxRQUNBO0FBQUEsUUFDQTtBQUFBLFFBQ0E7QUFBQSxRQUNBO0FBQUEsUUFDQTtBQUFBLFFBQ0E7QUFBQSxRQUNBO0FBQUEsUUFDQTtBQUFBO0FBQUEsUUFFQTtBQUFBLFFBQ0E7QUFBQSxRQUNBO0FBQUEsUUFDQTtBQUFBLFFBQ0E7QUFBQSxRQUNBO0FBQUEsUUFDQTtBQUFBLFFBQ0E7QUFBQSxRQUNBO0FBQUEsUUFDQTtBQUFBLFFBQ0E7QUFBQSxRQUNBO0FBQUEsUUFDQTtBQUFBLFFBQ0E7QUFBQSxRQUNBO0FBQUEsUUFDQTtBQUFBLFFBQ0E7QUFBQSxRQUNBO0FBQUEsUUFDQTtBQUFBLFFBQ0E7QUFBQSxRQUNBO0FBQUEsUUFDQTtBQUFBLFFBQ0E7QUFBQSxRQUNBO0FBQUEsUUFDQTtBQUFBLFFBQ0E7QUFBQSxRQUNBO0FBQUE7QUFBQSxRQUVBO0FBQUEsUUFDQTtBQUFBLFFBQ0E7QUFBQSxRQUNBO0FBQUEsUUFDQTtBQUFBLFFBQ0E7QUFBQTtBQUFBLFFBRUE7QUFBQSxRQUNBO0FBQUEsUUFDQTtBQUFBLFFBQ0E7QUFBQSxRQUNBO0FBQUEsUUFDQTtBQUFBLFFBQ0E7QUFBQSxRQUNBO0FBQUEsUUFDQTtBQUFBO0FBQUEsUUFFQTtBQUFBLFFBQ0E7QUFBQSxRQUNBO0FBQUEsUUFDQTtBQUFBLFFBQ0E7QUFBQSxRQUNBO0FBQUEsUUFDQTtBQUFBLFFBQ0E7QUFBQSxRQUNBO0FBQUEsUUFDQTtBQUFBLFFBQ0E7QUFBQSxRQUNBO0FBQUEsUUFDQTtBQUFBLE1BQ0o7QUFFQSxNQUFNLFFBR0Y7QUFBQSxRQUNBLE9BQU8sQ0FBQyxZQUFZO0FBQUEsUUFBQztBQUFBLE1BQ3pCO0FBQ0EsZUFBUyxNQUFNLE9BQU87QUFDbEIsY0FBTSxFQUFFLElBQUksV0FBVztBQUNuQixnQkFBTSxNQUFNLFlBQVksT0FBTyxDQUFDLEdBQUcsU0FBUyxJQUFJO0FBQUEsUUFDcEQ7QUFBQSxNQUNKO0FBRUEsTUFBTyxnQkFBUTtBQUFBO0FBQUE7OztBQ2pNZixNQUNPO0FBRFA7QUFBQTtBQUFBO0FBQUE7QUFDQSxNQUFPLHFCQUFRLEVBQUMsS0FBSSxDQUFDLEdBQUUsSUFBRyxLQUFJLEtBQUksR0FBRSxHQUFFLEdBQUUsR0FBRSxHQUFFLEdBQUUsR0FBRSxJQUFHLEdBQUUsR0FBRSxLQUFJLEdBQUUsSUFBRyxHQUFFLEdBQUUsS0FBSSxLQUFJLEtBQUksR0FBRSxLQUFJLEtBQUksS0FBSSxLQUFJLEtBQUksSUFBRyxLQUFJLEtBQUksR0FBRSxHQUFFLEdBQUUsR0FBRSxHQUFFLEdBQUUsR0FBRSxHQUFFLEdBQUUsR0FBRSxLQUFJLEtBQUksS0FBSSxLQUFJLEdBQUUsR0FBRSxJQUFHLEdBQUUsR0FBRSxHQUFFLEdBQUUsSUFBRyxHQUFFLEVBQUUsR0FBRSxLQUFJLENBQUMsR0FBRSxJQUFHLEtBQUksS0FBSSxHQUFFLEdBQUUsR0FBRSxHQUFFLEdBQUUsR0FBRSxHQUFFLElBQUcsR0FBRSxLQUFJLEdBQUUsS0FBSSxHQUFFLElBQUcsR0FBRSxHQUFFLEtBQUksS0FBSSxLQUFJLEdBQUUsS0FBSSxLQUFJLEtBQUksS0FBSSxLQUFJLElBQUcsS0FBSSxLQUFJLEdBQUUsR0FBRSxHQUFFLEdBQUUsR0FBRSxHQUFFLEdBQUUsR0FBRSxHQUFFLEdBQUUsS0FBSSxLQUFJLEtBQUksS0FBSSxHQUFFLEdBQUUsSUFBRyxHQUFFLEdBQUUsR0FBRSxHQUFFLElBQUcsR0FBRSxJQUFHLEdBQUUsRUFBRSxHQUFFLEtBQUksQ0FBQyxHQUFFLElBQUcsS0FBSSxLQUFJLEdBQUUsR0FBRSxHQUFFLEdBQUUsR0FBRSxHQUFFLEdBQUUsSUFBRyxHQUFFLEtBQUksS0FBSSxHQUFFLEtBQUksR0FBRSxJQUFHLEdBQUUsR0FBRSxLQUFJLEtBQUksS0FBSSxHQUFFLEtBQUksS0FBSSxLQUFJLEtBQUksS0FBSSxJQUFHLEtBQUksS0FBSSxHQUFFLEdBQUUsR0FBRSxHQUFFLEdBQUUsR0FBRSxHQUFFLEdBQUUsR0FBRSxHQUFFLEtBQUksS0FBSSxLQUFJLEtBQUksR0FBRSxHQUFFLElBQUcsSUFBRyxHQUFFLEdBQUUsR0FBRSxJQUFHLEdBQUUsSUFBRyxHQUFFLElBQUcsR0FBRSxFQUFFLEdBQUUsS0FBSSxDQUFDLEdBQUUsSUFBRyxLQUFJLEtBQUksR0FBRSxHQUFFLEdBQUUsR0FBRSxHQUFFLEdBQUUsR0FBRSxJQUFHLEdBQUUsS0FBSSxLQUFJLEtBQUksR0FBRSxLQUFJLEdBQUUsSUFBRyxHQUFFLEdBQUUsS0FBSSxLQUFJLEtBQUksR0FBRSxLQUFJLEtBQUksS0FBSSxLQUFJLEtBQUksSUFBRyxLQUFJLEtBQUksR0FBRSxHQUFFLEdBQUUsR0FBRSxHQUFFLEdBQUUsR0FBRSxHQUFFLEdBQUUsR0FBRSxLQUFJLEtBQUksS0FBSSxLQUFJLEdBQUUsR0FBRSxJQUFHLElBQUcsR0FBRSxJQUFHLEdBQUUsSUFBRyxHQUFFLElBQUcsR0FBRSxJQUFHLEdBQUUsSUFBRyxHQUFFLEVBQUUsR0FBRSxLQUFJLENBQUMsR0FBRSxJQUFHLEtBQUksS0FBSSxHQUFFLEdBQUUsR0FBRSxHQUFFLEdBQUUsR0FBRSxHQUFFLElBQUcsR0FBRSxLQUFJLEtBQUksS0FBSSxLQUFJLEdBQUUsS0FBSSxHQUFFLElBQUcsR0FBRSxHQUFFLEtBQUksS0FBSSxLQUFJLEdBQUUsS0FBSSxLQUFJLEtBQUksS0FBSSxLQUFJLElBQUcsS0FBSSxLQUFJLEdBQUUsR0FBRSxHQUFFLEdBQUUsR0FBRSxHQUFFLEdBQUUsR0FBRSxHQUFFLEdBQUUsS0FBSSxLQUFJLEtBQUksS0FBSSxHQUFFLEdBQUUsSUFBRyxJQUFHLEdBQUUsSUFBRyxHQUFFLElBQUcsR0FBRSxJQUFHLEdBQUUsSUFBRyxHQUFFLElBQUcsR0FBRSxJQUFHLEdBQUUsRUFBRSxHQUFFLEtBQUksQ0FBQyxHQUFFLElBQUcsS0FBSSxLQUFJLEdBQUUsR0FBRSxHQUFFLEdBQUUsR0FBRSxJQUFHLEdBQUUsSUFBRyxHQUFFLEtBQUksS0FBSSxLQUFJLEtBQUksS0FBSSxHQUFFLEtBQUksR0FBRSxJQUFHLEdBQUUsR0FBRSxLQUFJLEtBQUksS0FBSSxHQUFFLEtBQUksS0FBSSxLQUFJLEtBQUksS0FBSSxJQUFHLEtBQUksS0FBSSxHQUFFLEdBQUUsR0FBRSxHQUFFLEdBQUUsR0FBRSxHQUFFLEdBQUUsR0FBRSxHQUFFLEtBQUksS0FBSSxLQUFJLEtBQUksR0FBRSxHQUFFLElBQUcsSUFBRyxHQUFFLElBQUcsR0FBRSxJQUFHLEdBQUUsSUFBRyxHQUFFLElBQUcsR0FBRSxJQUFHLEdBQUUsSUFBRyxHQUFFLElBQUcsR0FBRSxFQUFFLEdBQUUsS0FBSSxDQUFDLEdBQUUsSUFBRyxLQUFJLEtBQUksR0FBRSxHQUFFLEdBQUUsR0FBRSxHQUFFLElBQUcsR0FBRSxJQUFHLEdBQUUsS0FBSSxLQUFJLEtBQUksS0FBSSxLQUFJLEtBQUksR0FBRSxLQUFJLEdBQUUsSUFBRyxHQUFFLEdBQUUsS0FBSSxLQUFJLEtBQUksR0FBRSxLQUFJLEtBQUksS0FBSSxLQUFJLEtBQUksSUFBRyxLQUFJLEtBQUksR0FBRSxHQUFFLEdBQUUsR0FBRSxHQUFFLEdBQUUsR0FBRSxHQUFFLEdBQUUsR0FBRSxLQUFJLEtBQUksS0FBSSxLQUFJLEdBQUUsR0FBRSxJQUFHLElBQUcsR0FBRSxJQUFHLEdBQUUsSUFBRyxHQUFFLElBQUcsR0FBRSxJQUFHLEdBQUUsSUFBRyxHQUFFLElBQUcsR0FBRSxJQUFHLEdBQUUsSUFBRyxHQUFFLEVBQUUsR0FBRSxLQUFJLENBQUMsR0FBRSxJQUFHLEtBQUksS0FBSSxHQUFFLEdBQUUsR0FBRSxHQUFFLEdBQUUsSUFBRyxHQUFFLElBQUcsR0FBRSxLQUFJLEtBQUksS0FBSSxLQUFJLEtBQUksS0FBSSxLQUFJLEdBQUUsS0FBSSxHQUFFLElBQUcsR0FBRSxHQUFFLEtBQUksS0FBSSxLQUFJLEdBQUUsS0FBSSxLQUFJLEtBQUksS0FBSSxLQUFJLElBQUcsS0FBSSxLQUFJLEdBQUUsR0FBRSxHQUFFLEdBQUUsR0FBRSxHQUFFLEdBQUUsR0FBRSxHQUFFLEdBQUUsS0FBSSxLQUFJLEtBQUksS0FBSSxHQUFFLEdBQUUsSUFBRyxJQUFHLEdBQUUsSUFBRyxHQUFFLElBQUcsR0FBRSxJQUFHLEdBQUUsSUFBRyxHQUFFLElBQUcsR0FBRSxJQUFHLEdBQUUsSUFBRyxHQUFFLElBQUcsR0FBRSxJQUFHLEdBQUUsRUFBRSxHQUFFLEtBQUksQ0FBQyxHQUFFLElBQUcsS0FBSSxLQUFJLEdBQUUsR0FBRSxHQUFFLEdBQUUsR0FBRSxJQUFHLEdBQUUsSUFBRyxHQUFFLEtBQUksS0FBSSxLQUFJLEtBQUksS0FBSSxLQUFJLEtBQUksS0FBSSxHQUFFLEtBQUksR0FBRSxJQUFHLEdBQUUsR0FBRSxLQUFJLEtBQUksS0FBSSxHQUFFLEtBQUksS0FBSSxLQUFJLEtBQUksS0FBSSxJQUFHLEtBQUksS0FBSSxHQUFFLEdBQUUsR0FBRSxHQUFFLEdBQUUsR0FBRSxHQUFFLEdBQUUsR0FBRSxHQUFFLEtBQUksS0FBSSxLQUFJLEtBQUksR0FBRSxHQUFFLElBQUcsSUFBRyxHQUFFLElBQUcsR0FBRSxJQUFHLEdBQUUsSUFBRyxHQUFFLElBQUcsR0FBRSxJQUFHLEdBQUUsSUFBRyxHQUFFLElBQUcsR0FBRSxJQUFHLEdBQUUsSUFBRyxHQUFFLElBQUcsR0FBRSxFQUFFLEdBQUUsS0FBSSxDQUFDLEdBQUUsSUFBRyxLQUFJLEtBQUksR0FBRSxHQUFFLEdBQUUsR0FBRSxHQUFFLElBQUcsR0FBRSxJQUFHLEdBQUUsS0FBSSxLQUFJLEtBQUksS0FBSSxLQUFJLEtBQUksS0FBSSxLQUFJLEtBQUksR0FBRSxLQUFJLEdBQUUsSUFBRyxHQUFFLEdBQUUsS0FBSSxLQUFJLEtBQUksR0FBRSxLQUFJLEtBQUksS0FBSSxLQUFJLEtBQUksSUFBRyxLQUFJLEtBQUksR0FBRSxHQUFFLEdBQUUsR0FBRSxHQUFFLEdBQUUsR0FBRSxHQUFFLEdBQUUsR0FBRSxLQUFJLEtBQUksS0FBSSxLQUFJLEdBQUUsR0FBRSxJQUFHLElBQUcsR0FBRSxJQUFHLEdBQUUsSUFBRyxHQUFFLElBQUcsR0FBRSxJQUFHLEdBQUUsSUFBRyxHQUFFLElBQUcsR0FBRSxJQUFHLEdBQUUsSUFBRyxHQUFFLElBQUcsR0FBRSxJQUFHLEdBQUUsSUFBRyxHQUFFLEVBQUUsRUFBQztBQUFBO0FBQUE7OztBQ2lRMTlELFdBQVMsUUFBUSxVQUFlLFNBQW1CO0FBQy9DLFdBQU8sUUFBUSxPQUFPLENBQUMsR0FBRyxNQUN0QixPQUFPLE9BQU8sR0FBRyxFQUFDLENBQUMsQ0FBQyxHQUFHLFNBQVMsQ0FBQyxFQUFFLEtBQUssUUFBUSxFQUFDLENBQUMsR0FBRyxDQUFDLENBQUM7QUFBQSxFQUMvRDtBQXJRQSxNQUtNLGVBMkdJLGdCQStJSixjQUNBO0FB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LENBQUM7QUFBQSxJQUNoQixDQUFDO0FBR0QscUJBQWlCLFdBQVcsQ0FBQyxRQUFRO0FBQ2pDLFdBQUssUUFBUSxJQUFJLElBQUk7QUFBQSxJQUN6QixDQUFDO0FBRUQsd0JBQW9CLFdBQVcsT0FBTztBQUd0QyxnQkFBWSxNQUFNO0FBQ2QsV0FBSyxLQUFLO0FBQUEsSUFDZCxHQUFHLEdBQUc7QUFFTixXQUFPLE9BQU8sTUFBUSxFQUFDLEtBQUksQ0FBQztBQUFBLEVBQ2hDO0FBRUEsaUJBQWUsZUFBZTtBQUc1QixxQkFBaUIsV0FBVyxDQUFDLFVBQVU7QUFDckMsV0FBSyxNQUFNLElBQUk7QUFBQSxJQUNqQixHQUFHLEVBQUUsTUFBTSxLQUFLLENBQUU7QUFBQSxFQUVwQjtBQUVBLGVBQWE7IiwKICAibmFtZXMiOiBbImxlbiIsICJpIiwgImxlbjIiLCAiYnVmZmVyIiwgIkJ1ZmZlciIsICJidWZmZXIiLCAibWF4IiwgImkiLCAiYnl0ZUxlbmd0aCIsICJSZWZsZWN0QXBwbHkiLCAiUmVmbGVjdE93bktleXMiLCAiTnVtYmVySXNOYU4iLCAiRXZlbnRFbWl0dGVyIiwgImVyciIsICJvbmNlIiwgImlzQnJvd3NlciIsICJpc05vZGUiLCAiaXNXZWJXb3JrZXIiLCAiTWF5YmVTaGFyZWRBcnJheUJ1ZmZlciIsICJyZXF1aXJlX3NoYW1zIiwgImlzTmFOIiwgIm1heCIsICJjb25jYXR0eSIsICJzbGljeSIsICJFbXB0eSIsICJ1bmRlZmluZWQiLCAibWF4IiwgImRvRXZhbCIsICJzdHJpbmdUb1BhdGgiLCAiZ2V0QmFzZUludHJpbnNpYyIsICJmb3JFYWNoQXJyYXkiLCAiZm9yRWFjaFN0cmluZyIsICJmb3JFYWNoT2JqZWN0IiwgImhhc1Byb3BlcnR5RGVzY3JpcHRvcnMiLCAiZ2V0T3duUHJvcGVydHlEZXNjcmlwdG9ycyIsICJ4IiwgImVyciIsICJzZWxmIiwgIm8iLCAiX3NldFByb3RvdHlwZU9mIiwgInAiLCAic2VsZiIsICJfZ2V0UHJvdG90eXBlT2YiLCAiYXNzZXJ0IiwgIk5vZGVFcnJvciIsICJyIiwgInNlbGYiLCAiX3dyYXBOYXRpdmVTdXBlciIsICJDbGFzcyIsICJfY29uc3RydWN0IiwgIlBhcmVudCIsICJhcmdzIiwgIl9zZXRQcm90b3R5cGVPZiIsICJvIiwgInAiLCAiX2dldFByb3RvdHlwZU9mIiwgIkFzc2VydGlvbkVycm9yIiwgInJlcXVpcmVfaW1wbGVtZW50YXRpb24iLCAicmVxdWlyZV9pbXBsZW1lbnRhdGlvbiIsICJyZXF1aXJlX2ltcGxlbWVudGF0aW9uIiwgInJlcXVpcmVfcG9seWZpbGwiLCAicmVxdWlyZV9pbXBsZW1lbnRhdGlvbiIsICJpc05hTiIsICJyZXF1aXJlX3BvbHlmaWxsIiwgInJlcXVpcmVfc2hpbSIsICJyIiwgIm8iLCAiYXJyYXlGcm9tU2V0IiwgImFycmF5RnJvbU1hcCIsICJvIiwgImFzc2VydCIsICJlcnIiLCAiQ29tcGFyaXNvbiIsICJwYXRoIiwgImN3ZCIsICJwYXRoIiwgIkR5bmFtaWNMaWJyYXJ5IiwgIm1haW4iLCAiZW52IiwgIl9hIiwgImJpbmRBbGwiLCAiaW1wb3J0X2V2ZW50cyIsICJjb25zdGFudHMiLCAiaW1wb3J0X2J1ZmZlciIsICJSSUdIVFNfQUxMIiwgIk1heWJlU2hhcmVkQXJyYXlCdWZmZXIiLCAicGF0aCIsICJmZCIsICJlbnYiLCAiYXNzZXJ0IiwgInJlcXVpcmVfY29uc3RhbnRzIiwgIlN0YXRzIiwgInJlcXVpcmVfYnVmZmVyIiwgInJlcXVpcmVfZXJyb3JzIiwgImQiLCAiYiIsICJhc3NlcnQiLCAiQXNzZXJ0aW9uRXJyb3IiLCAiZXJyIiwgIm5hbWVzIiwgIkRpcmVudCIsICJwcm9jZXNzIiwgImUiLCAiX2EiLCAiZCIsICJiIiwgIk5vZGUiLCAiTGluayIsICJGaWxlIiwgImZkIiwgIkJ1ZmZlciIsICJlcnIiLCAic2VsZiIsICJOb2RlRXJyb3IiLCAicmVxdWlyZV9icm93c2VyIiwgIkJ1ZmZlciIsICJub3AiLCAicmVhbEhhc0luc3RhbmNlIiwgImJ1ZmZlciIsICJlcnIiLCAia2V5cyIsICJzZWxmIiwgImJ1ZmZlciIsICJCdWZmZXIiLCAiQnVmZmVyIiwgInNlbGYiLCAib25sZWdhY3lmaW5pc2giLCAib25maW5pc2giLCAib25lbmQiLCAib25lcnJvciIsICJlcnIiLCAib25jbG9zZSIsICJvbnJlcXVlc3QiLCAiZXJyIiwgImNyZWF0ZVJlYWRhYmxlU3RyZWFtQXN5bmNJdGVyYXRvciIsICJFRWxpc3RlbmVyQ291bnQiLCAiQnVmZmVyIiwgImRlYnVnIiwgImVyciIsICJzZWxmIiwgIm4iLCAiZXJyIiwgImVycjIiLCAiZXJyIiwgIkZpbGVIYW5kbGUiLCAiZmQiLCAiYnVmZmVyIiwgInBhdGgiLCAiZCIsICJiIiwgInBhdGgiLCAicGF0aDIiLCAiRkxBR1MiLCAiZGVmYXVsdHMiLCAiZXJyIiwgImZpbGVuYW1lVG9TdGVwcyIsICJidWZmZXIiLCAiZmQiLCAiVm9sdW1lIiwgInNlbGYiLCAiU3RhdFdhdGNoZXIiLCAiRlNXYXRjaGVyIiwgImN3ZCIsICJfYSIsICJlcnIyIiwgInJlcXVpcmVfbGliIiwgIl9hIiwgImNyZWF0ZUZzRnJvbVZvbHVtZSIsICJmcyIsICJyZXF1aXJlX2J1ZmZlciIsICJyZXF1aXJlX2xpYiIsICJmZCIsICJXQVNJRXhpdEVycm9yIiwgImVudiIsICJmcyIsICJwYXRoIiwgImFyZ3MiLCAiZXhwb3J0cyIsICJtb2R1bGUiLCAicmVxdWlyZV9saWIiLCAiYXNzZXJ0IiwgInBhdGgiLCAiYmluZEFsbCIsICJpbXBvcnRfZXZlbnRzIiwgImZkIiwgImZsIiwgIlR0eUlvY3RscyIsICJyZXF1aXJlX2Jyb3dzZXIiLCAiQnVmZmVyIiwgInJlcXVpcmVfYnJvd3NlciIsICJCdWZmZXIiLCAiZXJyIiwgImJ5dGVzIiwgInJlcXVpcmVfYnJvd3NlciIsICJwYXRoIiwgInJlcXVpcmVfbm9kZSIsICJmcyIsICJwYXRoIiwgImltcG9ydF9ldmVudHMiLCAiaW1wb3J0X2Fzc2VydCIsICJpbXBvcnRfbGliIiwgImZkIiwgImVudiIsICJmcyIsICJ1cmkiLCAiYnVmZmVyIiwgImFzc2VydCIsICJpbXBvcnRfZXZlbnRzIiwgImwiLCAiX2EiLCAiX2EiLCAiX2EiLCAiaW1wb3J0X2V2ZW50cyIsICJwb3N0TWVzc2FnZSIsICJpbXBvcnRfbWVtZnMiLCAiaW1wb3J0X2Fzc2VydCIsICJQcm94eUhhbmRsZXJzIiwgIk9DYW1sQ0FQSSIsICJuYW1lcyIsICJmcyIsICJwb3N0TWVzc2FnZSJdCn0K
